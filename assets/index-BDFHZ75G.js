(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function NC(r){const t=Object.create(null);for(const e of r.split(","))t[e]=1;return e=>e in t}const wr={},oh=[],Ao=()=>{},uF=()=>!1,__=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),RC=r=>r.startsWith("onUpdate:"),pi=Object.assign,IC=(r,t)=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)},GK=Object.prototype.hasOwnProperty,ar=(r,t)=>GK.call(r,t),Pe=Array.isArray,sh=r=>b_(r)==="[object Map]",cF=r=>b_(r)==="[object Set]",He=r=>typeof r=="function",pn=r=>typeof r=="string",Pl=r=>typeof r=="symbol",Lr=r=>r!==null&&typeof r=="object",fF=r=>(Lr(r)||He(r))&&He(r.then)&&He(r.catch),hF=Object.prototype.toString,b_=r=>hF.call(r),FK=r=>b_(r).slice(8,-1),pF=r=>b_(r)==="[object Object]",OC=r=>pn(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Ld=NC(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),S_=r=>{const t=Object.create(null);return(e=>t[e]||(t[e]=r(e)))},BK=/-\w/g,Al=S_(r=>r.replace(BK,t=>t.slice(1).toUpperCase())),HK=/\B([A-Z])/g,Mc=S_(r=>r.replace(HK,"-$1").toLowerCase()),dF=S_(r=>r.charAt(0).toUpperCase()+r.slice(1)),yS=S_(r=>r?`on${dF(r)}`:""),_l=(r,t)=>!Object.is(r,t),mS=(r,...t)=>{for(let e=0;e<r.length;e++)r[e](...t)},vF=(r,t,e,n=!1)=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!1,writable:n,value:e})},zK=r=>{const t=parseFloat(r);return isNaN(t)?r:t};let KI;const w_=()=>KI||(KI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function PC(r){if(Pe(r)){const t={};for(let e=0;e<r.length;e++){const n=r[e],i=pn(n)?YK(n):PC(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(pn(r)||Lr(r))return r}const UK=/;(?![^(]*\))/g,WK=/:([^]+)/,jK=/\/\*[^]*?\*\//g;function YK(r){const t={};return r.replace(jK,"").split(UK).forEach(e=>{if(e){const n=e.split(WK);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function kC(r){let t="";if(pn(r))t=r;else if(Pe(r))for(let e=0;e<r.length;e++){const n=kC(r[e]);n&&(t+=n+" ")}else if(Lr(r))for(const e in r)r[e]&&(t+=e+" ");return t.trim()}const $K="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qK=NC($K);function gF(r){return!!r||r===""}const yF=r=>!!(r&&r.__v_isRef===!0),Qi=r=>pn(r)?r:r==null?"":Pe(r)||Lr(r)&&(r.toString===hF||!He(r.toString))?yF(r)?Qi(r.value):JSON.stringify(r,mF,2):String(r),mF=(r,t)=>yF(t)?mF(r,t.value):sh(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[n,i],a)=>(e[_S(n,a)+" =>"]=i,e),{})}:cF(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>_S(e))}:Pl(t)?_S(t):Lr(t)&&!Pe(t)&&!pF(t)?String(t):t,_S=(r,t="")=>{var e;return Pl(r)?`Symbol(${(e=r.description)!=null?e:t})`:r};let bi;class XK{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=bi,!t&&bi&&(this.index=(bi.scopes||(bi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=bi;try{return bi=this,t()}finally{bi=e}}}on(){++this._on===1&&(this.prevScope=bi,bi=this)}off(){this._on>0&&--this._on===0&&(bi=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(this.effects.length=0,e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function ZK(){return bi}let Sr;const bS=new WeakSet;class _F{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,bi&&bi.active&&bi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,bS.has(this)&&(bS.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||SF(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,JI(this),wF(this);const t=Sr,e=Na;Sr=this,Na=!0;try{return this.fn()}finally{xF(this),Sr=t,Na=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)FC(t);this.deps=this.depsTail=void 0,JI(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?bS.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){oE(this)&&this.run()}get dirty(){return oE(this)}}let bF=0,Nd,Rd;function SF(r,t=!1){if(r.flags|=8,t){r.next=Rd,Rd=r;return}r.next=Nd,Nd=r}function VC(){bF++}function GC(){if(--bF>0)return;if(Rd){let t=Rd;for(Rd=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let r;for(;Nd;){let t=Nd;for(Nd=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){r||(r=n)}t=e}}if(r)throw r}function wF(r){for(let t=r.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function xF(r){let t,e=r.depsTail,n=e;for(;n;){const i=n.prevDep;n.version===-1?(n===e&&(e=i),FC(n),KK(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}r.deps=t,r.depsTail=e}function oE(r){for(let t=r.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(EF(t.dep.computed)||t.dep.version!==t.version))return!0;return!!r._dirty}function EF(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===Kd)||(r.globalVersion=Kd,!r.isSSR&&r.flags&128&&(!r.deps&&!r._dirty||!oE(r))))return;r.flags|=2;const t=r.dep,e=Sr,n=Na;Sr=r,Na=!0;try{wF(r);const i=r.fn(r._value);(t.version===0||_l(i,r._value))&&(r.flags|=128,r._value=i,t.version++)}catch(i){throw t.version++,i}finally{Sr=e,Na=n,xF(r),r.flags&=-3}}function FC(r,t=!1){const{dep:e,prevSub:n,nextSub:i}=r;if(n&&(n.nextSub=i,r.prevSub=void 0),i&&(i.prevSub=n,r.nextSub=void 0),e.subs===r&&(e.subs=n,!n&&e.computed)){e.computed.flags&=-5;for(let a=e.computed.deps;a;a=a.nextDep)FC(a,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function KK(r){const{prevDep:t,nextDep:e}=r;t&&(t.nextDep=e,r.prevDep=void 0),e&&(e.prevDep=t,r.nextDep=void 0)}let Na=!0;const TF=[];function gs(){TF.push(Na),Na=!1}function ys(){const r=TF.pop();Na=r===void 0?!0:r}function JI(r){const{cleanup:t}=r;if(r.cleanup=void 0,t){const e=Sr;Sr=void 0;try{t()}finally{Sr=e}}}let Kd=0;class JK{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class BC{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Sr||!Na||Sr===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==Sr)e=this.activeLink=new JK(Sr,this),Sr.deps?(e.prevDep=Sr.depsTail,Sr.depsTail.nextDep=e,Sr.depsTail=e):Sr.deps=Sr.depsTail=e,CF(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const n=e.nextDep;n.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=n),e.prevDep=Sr.depsTail,e.nextDep=void 0,Sr.depsTail.nextDep=e,Sr.depsTail=e,Sr.deps===e&&(Sr.deps=n)}return e}trigger(t){this.version++,Kd++,this.notify(t)}notify(t){VC();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{GC()}}}function CF(r){if(r.dep.sc++,r.sub.flags&4){const t=r.dep.computed;if(t&&!r.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)CF(n)}const e=r.dep.subs;e!==r&&(r.prevSub=e,e&&(e.nextSub=r)),r.dep.subs=r}}const sE=new WeakMap,lc=Symbol(""),lE=Symbol(""),Jd=Symbol("");function Wn(r,t,e){if(Na&&Sr){let n=sE.get(r);n||sE.set(r,n=new Map);let i=n.get(e);i||(n.set(e,i=new BC),i.map=n,i.key=e),i.track()}}function ss(r,t,e,n,i,a){const o=sE.get(r);if(!o){Kd++;return}const c=h=>{h&&h.trigger()};if(VC(),t==="clear")o.forEach(c);else{const h=Pe(r),v=h&&OC(e);if(h&&e==="length"){const g=Number(n);o.forEach((y,m)=>{(m==="length"||m===Jd||!Pl(m)&&m>=g)&&c(y)})}else switch((e!==void 0||o.has(void 0))&&c(o.get(e)),v&&c(o.get(Jd)),t){case"add":h?v&&c(o.get("length")):(c(o.get(lc)),sh(r)&&c(o.get(lE)));break;case"delete":h||(c(o.get(lc)),sh(r)&&c(o.get(lE)));break;case"set":sh(r)&&c(o.get(lc));break}}GC()}function _f(r){const t=ir(r);return t===r?t:(Wn(t,"iterate",Jd),Ra(r)?t:t.map(si))}function HC(r){return Wn(r=ir(r),"iterate",Jd),r}const QK={__proto__:null,[Symbol.iterator](){return SS(this,Symbol.iterator,si)},concat(...r){return _f(this).concat(...r.map(t=>Pe(t)?_f(t):t))},entries(){return SS(this,"entries",r=>(r[1]=si(r[1]),r))},every(r,t){return Ko(this,"every",r,t,void 0,arguments)},filter(r,t){return Ko(this,"filter",r,t,e=>e.map(si),arguments)},find(r,t){return Ko(this,"find",r,t,si,arguments)},findIndex(r,t){return Ko(this,"findIndex",r,t,void 0,arguments)},findLast(r,t){return Ko(this,"findLast",r,t,si,arguments)},findLastIndex(r,t){return Ko(this,"findLastIndex",r,t,void 0,arguments)},forEach(r,t){return Ko(this,"forEach",r,t,void 0,arguments)},includes(...r){return wS(this,"includes",r)},indexOf(...r){return wS(this,"indexOf",r)},join(r){return _f(this).join(r)},lastIndexOf(...r){return wS(this,"lastIndexOf",r)},map(r,t){return Ko(this,"map",r,t,void 0,arguments)},pop(){return kp(this,"pop")},push(...r){return kp(this,"push",r)},reduce(r,...t){return QI(this,"reduce",r,t)},reduceRight(r,...t){return QI(this,"reduceRight",r,t)},shift(){return kp(this,"shift")},some(r,t){return Ko(this,"some",r,t,void 0,arguments)},splice(...r){return kp(this,"splice",r)},toReversed(){return _f(this).toReversed()},toSorted(r){return _f(this).toSorted(r)},toSpliced(...r){return _f(this).toSpliced(...r)},unshift(...r){return kp(this,"unshift",r)},values(){return SS(this,"values",si)}};function SS(r,t,e){const n=HC(r),i=n[t]();return n!==r&&!Ra(r)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=e(a.value)),a}),i}const tJ=Array.prototype;function Ko(r,t,e,n,i,a){const o=HC(r),c=o!==r&&!Ra(r),h=o[t];if(h!==tJ[t]){const y=h.apply(r,a);return c?si(y):y}let v=e;o!==r&&(c?v=function(y,m){return e.call(this,si(y),m,r)}:e.length>2&&(v=function(y,m){return e.call(this,y,m,r)}));const g=h.call(o,v,n);return c&&i?i(g):g}function QI(r,t,e,n){const i=HC(r);let a=e;return i!==r&&(Ra(r)?e.length>3&&(a=function(o,c,h){return e.call(this,o,c,h,r)}):a=function(o,c,h){return e.call(this,o,si(c),h,r)}),i[t](a,...n)}function wS(r,t,e){const n=ir(r);Wn(n,"iterate",Jd);const i=n[t](...e);return(i===-1||i===!1)&&jC(e[0])?(e[0]=ir(e[0]),n[t](...e)):i}function kp(r,t,e=[]){gs(),VC();const n=ir(r)[t].apply(r,e);return GC(),ys(),n}const eJ=NC("__proto__,__v_isRef,__isVue"),AF=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Pl));function rJ(r){Pl(r)||(r=String(r));const t=ir(this);return Wn(t,"has",r),t.hasOwnProperty(r)}class DF{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,n){if(e==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(e==="__v_isReactive")return!i;if(e==="__v_isReadonly")return i;if(e==="__v_isShallow")return a;if(e==="__v_raw")return n===(i?a?hJ:RF:a?NF:LF).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Pe(t);if(!i){let h;if(o&&(h=QK[e]))return h;if(e==="hasOwnProperty")return rJ}const c=Reflect.get(t,e,jn(t)?t:n);if((Pl(e)?AF.has(e):eJ(e))||(i||Wn(t,"get",e),a))return c;if(jn(c)){const h=o&&OC(e)?c:c.value;return i&&Lr(h)?cE(h):h}return Lr(c)?i?cE(c):UC(c):c}}class MF extends DF{constructor(t=!1){super(!1,t)}set(t,e,n,i){let a=t[e];if(!this._isShallow){const h=_c(a);if(!Ra(n)&&!_c(n)&&(a=ir(a),n=ir(n)),!Pe(t)&&jn(a)&&!jn(n))return h||(a.value=n),!0}const o=Pe(t)&&OC(e)?Number(e)<t.length:ar(t,e),c=Reflect.set(t,e,n,jn(t)?t:i);return t===ir(i)&&(o?_l(n,a)&&ss(t,"set",e,n):ss(t,"add",e,n)),c}deleteProperty(t,e){const n=ar(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&ss(t,"delete",e,void 0),i}has(t,e){const n=Reflect.has(t,e);return(!Pl(e)||!AF.has(e))&&Wn(t,"has",e),n}ownKeys(t){return Wn(t,"iterate",Pe(t)?"length":lc),Reflect.ownKeys(t)}}class nJ extends DF{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const iJ=new MF,aJ=new nJ,oJ=new MF(!0);const uE=r=>r,my=r=>Reflect.getPrototypeOf(r);function sJ(r,t,e){return function(...n){const i=this.__v_raw,a=ir(i),o=sh(a),c=r==="entries"||r===Symbol.iterator&&o,h=r==="keys"&&o,v=i[r](...n),g=e?uE:t?fE:si;return!t&&Wn(a,"iterate",h?lE:lc),{next(){const{value:y,done:m}=v.next();return m?{value:y,done:m}:{value:c?[g(y[0]),g(y[1])]:g(y),done:m}},[Symbol.iterator](){return this}}}}function _y(r){return function(...t){return r==="delete"?!1:r==="clear"?void 0:this}}function lJ(r,t){const e={get(i){const a=this.__v_raw,o=ir(a),c=ir(i);r||(_l(i,c)&&Wn(o,"get",i),Wn(o,"get",c));const{has:h}=my(o),v=t?uE:r?fE:si;if(h.call(o,i))return v(a.get(i));if(h.call(o,c))return v(a.get(c));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!r&&Wn(ir(i),"iterate",lc),i.size},has(i){const a=this.__v_raw,o=ir(a),c=ir(i);return r||(_l(i,c)&&Wn(o,"has",i),Wn(o,"has",c)),i===c?a.has(i):a.has(i)||a.has(c)},forEach(i,a){const o=this,c=o.__v_raw,h=ir(c),v=t?uE:r?fE:si;return!r&&Wn(h,"iterate",lc),c.forEach((g,y)=>i.call(a,v(g),v(y),o))}};return pi(e,r?{add:_y("add"),set:_y("set"),delete:_y("delete"),clear:_y("clear")}:{add(i){!t&&!Ra(i)&&!_c(i)&&(i=ir(i));const a=ir(this);return my(a).has.call(a,i)||(a.add(i),ss(a,"add",i,i)),this},set(i,a){!t&&!Ra(a)&&!_c(a)&&(a=ir(a));const o=ir(this),{has:c,get:h}=my(o);let v=c.call(o,i);v||(i=ir(i),v=c.call(o,i));const g=h.call(o,i);return o.set(i,a),v?_l(a,g)&&ss(o,"set",i,a):ss(o,"add",i,a),this},delete(i){const a=ir(this),{has:o,get:c}=my(a);let h=o.call(a,i);h||(i=ir(i),h=o.call(a,i)),c&&c.call(a,i);const v=a.delete(i);return h&&ss(a,"delete",i,void 0),v},clear(){const i=ir(this),a=i.size!==0,o=i.clear();return a&&ss(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=sJ(i,r,t)}),e}function zC(r,t){const e=lJ(r,t);return(n,i,a)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(ar(e,i)&&i in n?e:n,i,a)}const uJ={get:zC(!1,!1)},cJ={get:zC(!1,!0)},fJ={get:zC(!0,!1)};const LF=new WeakMap,NF=new WeakMap,RF=new WeakMap,hJ=new WeakMap;function pJ(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dJ(r){return r.__v_skip||!Object.isExtensible(r)?0:pJ(FK(r))}function UC(r){return _c(r)?r:WC(r,!1,iJ,uJ,LF)}function vJ(r){return WC(r,!1,oJ,cJ,NF)}function cE(r){return WC(r,!0,aJ,fJ,RF)}function WC(r,t,e,n,i){if(!Lr(r)||r.__v_raw&&!(t&&r.__v_isReactive))return r;const a=dJ(r);if(a===0)return r;const o=i.get(r);if(o)return o;const c=new Proxy(r,a===2?n:e);return i.set(r,c),c}function Id(r){return _c(r)?Id(r.__v_raw):!!(r&&r.__v_isReactive)}function _c(r){return!!(r&&r.__v_isReadonly)}function Ra(r){return!!(r&&r.__v_isShallow)}function jC(r){return r?!!r.__v_raw:!1}function ir(r){const t=r&&r.__v_raw;return t?ir(t):r}function gJ(r){return!ar(r,"__v_skip")&&Object.isExtensible(r)&&vF(r,"__v_skip",!0),r}const si=r=>Lr(r)?UC(r):r,fE=r=>Lr(r)?cE(r):r;function jn(r){return r?r.__v_isRef===!0:!1}function Ea(r){return yJ(r,!1)}function yJ(r,t){return jn(r)?r:new mJ(r,t)}class mJ{constructor(t,e){this.dep=new BC,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:ir(t),this._value=e?t:si(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,n=this.__v_isShallow||Ra(t)||_c(t);t=n?t:ir(t),_l(t,e)&&(this._rawValue=t,this._value=n?t:si(t),this.dep.trigger())}}function _J(r){return jn(r)?r.value:r}const bJ={get:(r,t,e)=>t==="__v_raw"?r:_J(Reflect.get(r,t,e)),set:(r,t,e,n)=>{const i=r[t];return jn(i)&&!jn(e)?(i.value=e,!0):Reflect.set(r,t,e,n)}};function IF(r){return Id(r)?r:new Proxy(r,bJ)}class SJ{constructor(t,e,n){this.fn=t,this.setter=e,this._value=void 0,this.dep=new BC(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Kd-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Sr!==this)return SF(this,!0),!0}get value(){const t=this.dep.track();return EF(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function wJ(r,t,e=!1){let n,i;return He(r)?n=r:(n=r.get,i=r.set),new SJ(n,i,e)}const by={},s0=new WeakMap;let Wu;function xJ(r,t=!1,e=Wu){if(e){let n=s0.get(e);n||s0.set(e,n=[]),n.push(r)}}function EJ(r,t,e=wr){const{immediate:n,deep:i,once:a,scheduler:o,augmentJob:c,call:h}=e,v=R=>i?R:Ra(R)||i===!1||i===0?ul(R,1):ul(R);let g,y,m,b,S=!1,E=!1;if(jn(r)?(y=()=>r.value,S=Ra(r)):Id(r)?(y=()=>v(r),S=!0):Pe(r)?(E=!0,S=r.some(R=>Id(R)||Ra(R)),y=()=>r.map(R=>{if(jn(R))return R.value;if(Id(R))return v(R);if(He(R))return h?h(R,2):R()})):He(r)?t?y=h?()=>h(r,2):r:y=()=>{if(m){gs();try{m()}finally{ys()}}const R=Wu;Wu=g;try{return h?h(r,3,[b]):r(b)}finally{Wu=R}}:y=Ao,t&&i){const R=y,O=i===!0?1/0:i;y=()=>ul(R(),O)}const C=ZK(),A=()=>{g.stop(),C&&C.active&&IC(C.effects,g)};if(a&&t){const R=t;t=(...O)=>{R(...O),A()}}let D=E?new Array(r.length).fill(by):by;const L=R=>{if(!(!(g.flags&1)||!g.dirty&&!R))if(t){const O=g.run();if(i||S||(E?O.some((P,V)=>_l(P,D[V])):_l(O,D))){m&&m();const P=Wu;Wu=g;try{const V=[O,D===by?void 0:E&&D[0]===by?[]:D,b];D=O,h?h(t,3,V):t(...V)}finally{Wu=P}}}else g.run()};return c&&c(L),g=new _F(y),g.scheduler=o?()=>o(L,!1):L,b=R=>xJ(R,!1,g),m=g.onStop=()=>{const R=s0.get(g);if(R){if(h)h(R,4);else for(const O of R)O();s0.delete(g)}},t?n?L(!0):D=g.run():o?o(L.bind(null,!0),!0):g.run(),A.pause=g.pause.bind(g),A.resume=g.resume.bind(g),A.stop=A,A}function ul(r,t=1/0,e){if(t<=0||!Lr(r)||r.__v_skip||(e=e||new Map,(e.get(r)||0)>=t))return r;if(e.set(r,t),t--,jn(r))ul(r.value,t,e);else if(Pe(r))for(let n=0;n<r.length;n++)ul(r[n],t,e);else if(cF(r)||sh(r))r.forEach(n=>{ul(n,t,e)});else if(pF(r)){for(const n in r)ul(r[n],t,e);for(const n of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,n)&&ul(r[n],t,e)}return r}function Rv(r,t,e,n){try{return n?r(...n):r()}catch(i){x_(i,t,e)}}function Ro(r,t,e,n){if(He(r)){const i=Rv(r,t,e,n);return i&&fF(i)&&i.catch(a=>{x_(a,t,e)}),i}if(Pe(r)){const i=[];for(let a=0;a<r.length;a++)i.push(Ro(r[a],t,e,n));return i}}function x_(r,t,e,n=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||wr;if(t){let c=t.parent;const h=t.proxy,v=`https://vuejs.org/error-reference/#runtime-${e}`;for(;c;){const g=c.ec;if(g){for(let y=0;y<g.length;y++)if(g[y](r,h,v)===!1)return}c=c.parent}if(a){gs(),Rv(a,null,10,[r,h,v]),ys();return}}TJ(r,e,i,n,o)}function TJ(r,t,e,n=!0,i=!1){if(i)throw r;console.error(r)}const li=[];let po=-1;const lh=[];let al=null,qf=0;const OF=Promise.resolve();let l0=null;function PF(r){const t=l0||OF;return r?t.then(this?r.bind(this):r):t}function CJ(r){let t=po+1,e=li.length;for(;t<e;){const n=t+e>>>1,i=li[n],a=Qd(i);a<r||a===r&&i.flags&2?t=n+1:e=n}return t}function YC(r){if(!(r.flags&1)){const t=Qd(r),e=li[li.length-1];!e||!(r.flags&2)&&t>=Qd(e)?li.push(r):li.splice(CJ(t),0,r),r.flags|=1,kF()}}function kF(){l0||(l0=OF.then(GF))}function AJ(r){Pe(r)?lh.push(...r):al&&r.id===-1?al.splice(qf+1,0,r):r.flags&1||(lh.push(r),r.flags|=1),kF()}function t2(r,t,e=po+1){for(;e<li.length;e++){const n=li[e];if(n&&n.flags&2){if(r&&n.id!==r.uid)continue;li.splice(e,1),e--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function VF(r){if(lh.length){const t=[...new Set(lh)].sort((e,n)=>Qd(e)-Qd(n));if(lh.length=0,al){al.push(...t);return}for(al=t,qf=0;qf<al.length;qf++){const e=al[qf];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}al=null,qf=0}}const Qd=r=>r.id==null?r.flags&2?-1:1/0:r.id;function GF(r){try{for(po=0;po<li.length;po++){const t=li[po];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Rv(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;po<li.length;po++){const t=li[po];t&&(t.flags&=-2)}po=-1,li.length=0,VF(),l0=null,(li.length||lh.length)&&GF()}}let bo=null,FF=null;function u0(r){const t=bo;return bo=r,FF=r&&r.type.__scopeId||null,t}function DJ(r,t=bo,e){if(!t||r._n)return r;const n=(...i)=>{n._d&&c2(-1);const a=u0(t);let o;try{o=r(...i)}finally{u0(a),n._d&&c2(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function gu(r,t,e,n){const i=r.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const c=i[o];a&&(c.oldValue=a[o].value);let h=c.dir[n];h&&(gs(),Ro(h,e,8,[r.el,c,r,t]),ys())}}const MJ=Symbol("_vte"),LJ=r=>r.__isTeleport,NJ=Symbol("_leaveCb");function $C(r,t){r.shapeFlag&6&&r.component?(r.transition=t,$C(r.component.subTree,t)):r.shapeFlag&128?(r.ssContent.transition=t.clone(r.ssContent),r.ssFallback.transition=t.clone(r.ssFallback)):r.transition=t}function BF(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}const c0=new WeakMap;function Od(r,t,e,n,i=!1){if(Pe(r)){r.forEach((S,E)=>Od(S,t&&(Pe(t)?t[E]:t),e,n,i));return}if(Pd(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Od(r,t,e,n.component.subTree);return}const a=n.shapeFlag&4?KC(n.component):n.el,o=i?null:a,{i:c,r:h}=r,v=t&&t.r,g=c.refs===wr?c.refs={}:c.refs,y=c.setupState,m=ir(y),b=y===wr?uF:S=>ar(m,S);if(v!=null&&v!==h){if(e2(t),pn(v))g[v]=null,b(v)&&(y[v]=null);else if(jn(v)){v.value=null;const S=t;S.k&&(g[S.k]=null)}}if(He(h))Rv(h,c,12,[o,g]);else{const S=pn(h),E=jn(h);if(S||E){const C=()=>{if(r.f){const A=S?b(h)?y[h]:g[h]:h.value;if(i)Pe(A)&&IC(A,a);else if(Pe(A))A.includes(a)||A.push(a);else if(S)g[h]=[a],b(h)&&(y[h]=g[h]);else{const D=[a];h.value=D,r.k&&(g[r.k]=D)}}else S?(g[h]=o,b(h)&&(y[h]=o)):E&&(h.value=o,r.k&&(g[r.k]=o))};if(o){const A=()=>{C(),c0.delete(r)};A.id=-1,c0.set(r,A),Oi(A,e)}else e2(r),C()}}}function e2(r){const t=c0.get(r);t&&(t.flags|=8,c0.delete(r))}w_().requestIdleCallback;w_().cancelIdleCallback;const Pd=r=>!!r.type.__asyncLoader,HF=r=>r.type.__isKeepAlive;function RJ(r,t){zF(r,"a",t)}function IJ(r,t){zF(r,"da",t)}function zF(r,t,e=ci){const n=r.__wdc||(r.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(E_(t,n,e),e){let i=e.parent;for(;i&&i.parent;)HF(i.parent.vnode)&&OJ(n,t,e,i),i=i.parent}}function OJ(r,t,e,n){const i=E_(t,r,n,!0);WF(()=>{IC(n[t],i)},e)}function E_(r,t,e=ci,n=!1){if(e){const i=e[r]||(e[r]=[]),a=t.__weh||(t.__weh=(...o)=>{gs();const c=Iv(e),h=Ro(t,e,r,o);return c(),ys(),h});return n?i.unshift(a):i.push(a),a}}const Cs=r=>(t,e=ci)=>{(!ev||r==="sp")&&E_(r,(...n)=>t(...n),e)},PJ=Cs("bm"),UF=Cs("m"),kJ=Cs("bu"),VJ=Cs("u"),GJ=Cs("bum"),WF=Cs("um"),FJ=Cs("sp"),BJ=Cs("rtg"),HJ=Cs("rtc");function zJ(r,t=ci){E_("ec",r,t)}const UJ=Symbol.for("v-ndc"),hE=r=>r?cB(r)?KC(r):hE(r.parent):null,kd=pi(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>hE(r.parent),$root:r=>hE(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>YF(r),$forceUpdate:r=>r.f||(r.f=()=>{YC(r.update)}),$nextTick:r=>r.n||(r.n=PF.bind(r.proxy)),$watch:r=>fQ.bind(r)}),xS=(r,t)=>r!==wr&&!r.__isScriptSetup&&ar(r,t),WJ={get({_:r},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:n,data:i,props:a,accessCache:o,type:c,appContext:h}=r;let v;if(t[0]!=="$"){const b=o[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return i[t];case 4:return e[t];case 3:return a[t]}else{if(xS(n,t))return o[t]=1,n[t];if(i!==wr&&ar(i,t))return o[t]=2,i[t];if((v=r.propsOptions[0])&&ar(v,t))return o[t]=3,a[t];if(e!==wr&&ar(e,t))return o[t]=4,e[t];pE&&(o[t]=0)}}const g=kd[t];let y,m;if(g)return t==="$attrs"&&Wn(r.attrs,"get",""),g(r);if((y=c.__cssModules)&&(y=y[t]))return y;if(e!==wr&&ar(e,t))return o[t]=4,e[t];if(m=h.config.globalProperties,ar(m,t))return m[t]},set({_:r},t,e){const{data:n,setupState:i,ctx:a}=r;return xS(i,t)?(i[t]=e,!0):n!==wr&&ar(n,t)?(n[t]=e,!0):ar(r.props,t)||t[0]==="$"&&t.slice(1)in r?!1:(a[t]=e,!0)},has({_:{data:r,setupState:t,accessCache:e,ctx:n,appContext:i,propsOptions:a,type:o}},c){let h,v;return!!(e[c]||r!==wr&&c[0]!=="$"&&ar(r,c)||xS(t,c)||(h=a[0])&&ar(h,c)||ar(n,c)||ar(kd,c)||ar(i.config.globalProperties,c)||(v=o.__cssModules)&&v[c])},defineProperty(r,t,e){return e.get!=null?r._.accessCache[t]=0:ar(e,"value")&&this.set(r,t,e.value,null),Reflect.defineProperty(r,t,e)}};function r2(r){return Pe(r)?r.reduce((t,e)=>(t[e]=null,t),{}):r}let pE=!0;function jJ(r){const t=YF(r),e=r.proxy,n=r.ctx;pE=!1,t.beforeCreate&&n2(t.beforeCreate,r,"bc");const{data:i,computed:a,methods:o,watch:c,provide:h,inject:v,created:g,beforeMount:y,mounted:m,beforeUpdate:b,updated:S,activated:E,deactivated:C,beforeDestroy:A,beforeUnmount:D,destroyed:L,unmounted:R,render:O,renderTracked:P,renderTriggered:V,errorCaptured:k,serverPrefetch:F,expose:H,inheritAttrs:W,components:q,directives:Y,filters:K}=t;if(v&&YJ(v,n,null),o)for(const it in o){const rt=o[it];He(rt)&&(n[it]=rt.bind(e))}if(i){const it=i.call(e,e);Lr(it)&&(r.data=UC(it))}if(pE=!0,a)for(const it in a){const rt=a[it],st=He(rt)?rt.bind(e,e):He(rt.get)?rt.get.bind(e,e):Ao,lt=!He(rt)&&He(rt.set)?rt.set.bind(e):Ao,dt=kQ({get:st,set:lt});Object.defineProperty(n,it,{enumerable:!0,configurable:!0,get:()=>dt.value,set:pt=>dt.value=pt})}if(c)for(const it in c)jF(c[it],n,e,it);if(h){const it=He(h)?h.call(e):h;Reflect.ownKeys(it).forEach(rt=>{JJ(rt,it[rt])})}g&&n2(g,r,"c");function J(it,rt){Pe(rt)?rt.forEach(st=>it(st.bind(e))):rt&&it(rt.bind(e))}if(J(PJ,y),J(UF,m),J(kJ,b),J(VJ,S),J(RJ,E),J(IJ,C),J(zJ,k),J(HJ,P),J(BJ,V),J(GJ,D),J(WF,R),J(FJ,F),Pe(H))if(H.length){const it=r.exposed||(r.exposed={});H.forEach(rt=>{Object.defineProperty(it,rt,{get:()=>e[rt],set:st=>e[rt]=st,enumerable:!0})})}else r.exposed||(r.exposed={});O&&r.render===Ao&&(r.render=O),W!=null&&(r.inheritAttrs=W),q&&(r.components=q),Y&&(r.directives=Y),F&&BF(r)}function YJ(r,t,e=Ao){Pe(r)&&(r=dE(r));for(const n in r){const i=r[n];let a;Lr(i)?"default"in i?a=Pm(i.from||n,i.default,!0):a=Pm(i.from||n):a=Pm(i),jn(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[n]=a}}function n2(r,t,e){Ro(Pe(r)?r.map(n=>n.bind(t.proxy)):r.bind(t.proxy),t,e)}function jF(r,t,e,n){let i=n.includes(".")?aB(e,n):()=>e[n];if(pn(r)){const a=t[r];He(a)&&TS(i,a)}else if(He(r))TS(i,r.bind(e));else if(Lr(r))if(Pe(r))r.forEach(a=>jF(a,t,e,n));else{const a=He(r.handler)?r.handler.bind(e):t[r.handler];He(a)&&TS(i,a,r)}}function YF(r){const t=r.type,{mixins:e,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=r.appContext,c=a.get(t);let h;return c?h=c:!i.length&&!e&&!n?h=t:(h={},i.length&&i.forEach(v=>f0(h,v,o,!0)),f0(h,t,o)),Lr(t)&&a.set(t,h),h}function f0(r,t,e,n=!1){const{mixins:i,extends:a}=t;a&&f0(r,a,e,!0),i&&i.forEach(o=>f0(r,o,e,!0));for(const o in t)if(!(n&&o==="expose")){const c=$J[o]||e&&e[o];r[o]=c?c(r[o],t[o]):t[o]}return r}const $J={data:i2,props:a2,emits:a2,methods:gd,computed:gd,beforeCreate:ni,created:ni,beforeMount:ni,mounted:ni,beforeUpdate:ni,updated:ni,beforeDestroy:ni,beforeUnmount:ni,destroyed:ni,unmounted:ni,activated:ni,deactivated:ni,errorCaptured:ni,serverPrefetch:ni,components:gd,directives:gd,watch:XJ,provide:i2,inject:qJ};function i2(r,t){return t?r?function(){return pi(He(r)?r.call(this,this):r,He(t)?t.call(this,this):t)}:t:r}function qJ(r,t){return gd(dE(r),dE(t))}function dE(r){if(Pe(r)){const t={};for(let e=0;e<r.length;e++)t[r[e]]=r[e];return t}return r}function ni(r,t){return r?[...new Set([].concat(r,t))]:t}function gd(r,t){return r?pi(Object.create(null),r,t):t}function a2(r,t){return r?Pe(r)&&Pe(t)?[...new Set([...r,...t])]:pi(Object.create(null),r2(r),r2(t??{})):t}function XJ(r,t){if(!r)return t;if(!t)return r;const e=pi(Object.create(null),r);for(const n in t)e[n]=ni(r[n],t[n]);return e}function $F(){return{app:null,config:{isNativeTag:uF,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ZJ=0;function KJ(r,t){return function(n,i=null){He(n)||(n=pi({},n)),i!=null&&!Lr(i)&&(i=null);const a=$F(),o=new WeakSet,c=[];let h=!1;const v=a.app={_uid:ZJ++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:VQ,get config(){return a.config},set config(g){},use(g,...y){return o.has(g)||(g&&He(g.install)?(o.add(g),g.install(v,...y)):He(g)&&(o.add(g),g(v,...y))),v},mixin(g){return a.mixins.includes(g)||a.mixins.push(g),v},component(g,y){return y?(a.components[g]=y,v):a.components[g]},directive(g,y){return y?(a.directives[g]=y,v):a.directives[g]},mount(g,y,m){if(!h){const b=v._ceVNode||uc(n,i);return b.appContext=a,m===!0?m="svg":m===!1&&(m=void 0),r(b,g,m),h=!0,v._container=g,g.__vue_app__=v,KC(b.component)}},onUnmount(g){c.push(g)},unmount(){h&&(Ro(c,v._instance,16),r(null,v._container),delete v._container.__vue_app__)},provide(g,y){return a.provides[g]=y,v},runWithContext(g){const y=uh;uh=v;try{return g()}finally{uh=y}}};return v}}let uh=null;function JJ(r,t){if(ci){let e=ci.provides;const n=ci.parent&&ci.parent.provides;n===e&&(e=ci.provides=Object.create(n)),e[r]=t}}function Pm(r,t,e=!1){const n=LQ();if(n||uh){let i=uh?uh._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&r in i)return i[r];if(arguments.length>1)return e&&He(t)?t.call(n&&n.proxy):t}}const qF={},XF=()=>Object.create(qF),ZF=r=>Object.getPrototypeOf(r)===qF;function QJ(r,t,e,n=!1){const i={},a=XF();r.propsDefaults=Object.create(null),KF(r,t,i,a);for(const o in r.propsOptions[0])o in i||(i[o]=void 0);e?r.props=n?i:vJ(i):r.type.props?r.props=i:r.props=a,r.attrs=a}function tQ(r,t,e,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=r,c=ir(i),[h]=r.propsOptions;let v=!1;if((n||o>0)&&!(o&16)){if(o&8){const g=r.vnode.dynamicProps;for(let y=0;y<g.length;y++){let m=g[y];if(T_(r.emitsOptions,m))continue;const b=t[m];if(h)if(ar(a,m))b!==a[m]&&(a[m]=b,v=!0);else{const S=Al(m);i[S]=vE(h,c,S,b,r,!1)}else b!==a[m]&&(a[m]=b,v=!0)}}}else{KF(r,t,i,a)&&(v=!0);let g;for(const y in c)(!t||!ar(t,y)&&((g=Mc(y))===y||!ar(t,g)))&&(h?e&&(e[y]!==void 0||e[g]!==void 0)&&(i[y]=vE(h,c,y,void 0,r,!0)):delete i[y]);if(a!==c)for(const y in a)(!t||!ar(t,y))&&(delete a[y],v=!0)}v&&ss(r.attrs,"set","")}function KF(r,t,e,n){const[i,a]=r.propsOptions;let o=!1,c;if(t)for(let h in t){if(Ld(h))continue;const v=t[h];let g;i&&ar(i,g=Al(h))?!a||!a.includes(g)?e[g]=v:(c||(c={}))[g]=v:T_(r.emitsOptions,h)||(!(h in n)||v!==n[h])&&(n[h]=v,o=!0)}if(a){const h=ir(e),v=c||wr;for(let g=0;g<a.length;g++){const y=a[g];e[y]=vE(i,h,y,v[y],r,!ar(v,y))}}return o}function vE(r,t,e,n,i,a){const o=r[e];if(o!=null){const c=ar(o,"default");if(c&&n===void 0){const h=o.default;if(o.type!==Function&&!o.skipFactory&&He(h)){const{propsDefaults:v}=i;if(e in v)n=v[e];else{const g=Iv(i);n=v[e]=h.call(null,t),g()}}else n=h;i.ce&&i.ce._setProp(e,n)}o[0]&&(a&&!c?n=!1:o[1]&&(n===""||n===Mc(e))&&(n=!0))}return n}const eQ=new WeakMap;function JF(r,t,e=!1){const n=e?eQ:t.propsCache,i=n.get(r);if(i)return i;const a=r.props,o={},c=[];let h=!1;if(!He(r)){const g=y=>{h=!0;const[m,b]=JF(y,t,!0);pi(o,m),b&&c.push(...b)};!e&&t.mixins.length&&t.mixins.forEach(g),r.extends&&g(r.extends),r.mixins&&r.mixins.forEach(g)}if(!a&&!h)return Lr(r)&&n.set(r,oh),oh;if(Pe(a))for(let g=0;g<a.length;g++){const y=Al(a[g]);o2(y)&&(o[y]=wr)}else if(a)for(const g in a){const y=Al(g);if(o2(y)){const m=a[g],b=o[y]=Pe(m)||He(m)?{type:m}:pi({},m),S=b.type;let E=!1,C=!0;if(Pe(S))for(let A=0;A<S.length;++A){const D=S[A],L=He(D)&&D.name;if(L==="Boolean"){E=!0;break}else L==="String"&&(C=!1)}else E=He(S)&&S.name==="Boolean";b[0]=E,b[1]=C,(E||ar(b,"default"))&&c.push(y)}}const v=[o,c];return Lr(r)&&n.set(r,v),v}function o2(r){return r[0]!=="$"&&!Ld(r)}const qC=r=>r==="_"||r==="_ctx"||r==="$stable",XC=r=>Pe(r)?r.map(go):[go(r)],rQ=(r,t,e)=>{if(t._n)return t;const n=DJ((...i)=>XC(t(...i)),e);return n._c=!1,n},QF=(r,t,e)=>{const n=r._ctx;for(const i in r){if(qC(i))continue;const a=r[i];if(He(a))t[i]=rQ(i,a,n);else if(a!=null){const o=XC(a);t[i]=()=>o}}},tB=(r,t)=>{const e=XC(t);r.slots.default=()=>e},eB=(r,t,e)=>{for(const n in t)(e||!qC(n))&&(r[n]=t[n])},nQ=(r,t,e)=>{const n=r.slots=XF();if(r.vnode.shapeFlag&32){const i=t._;i?(eB(n,t,e),e&&vF(n,"_",i,!0)):QF(t,n)}else t&&tB(r,t)},iQ=(r,t,e)=>{const{vnode:n,slots:i}=r;let a=!0,o=wr;if(n.shapeFlag&32){const c=t._;c?e&&c===1?a=!1:eB(i,t,e):(a=!t.$stable,QF(t,i)),o=t}else t&&(tB(r,t),o={default:1});if(a)for(const c in i)!qC(c)&&o[c]==null&&delete i[c]},Oi=_Q;function aQ(r){return oQ(r)}function oQ(r,t){const e=w_();e.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:c,createComment:h,setText:v,setElementText:g,parentNode:y,nextSibling:m,setScopeId:b=Ao,insertStaticContent:S}=r,E=(Z,at,ut,_t=null,mt=null,xt=null,tt=void 0,et=null,ht=!!at.dynamicChildren)=>{if(Z===at)return;Z&&!Vp(Z,at)&&(_t=Kt(Z),pt(Z,mt,xt,!0),Z=null),at.patchFlag===-2&&(ht=!1,at.dynamicChildren=null);const{type:St,ref:It,shapeFlag:Gt}=at;switch(St){case C_:C(Z,at,ut,_t);break;case vh:A(Z,at,ut,_t);break;case CS:Z==null&&D(at,ut,_t,tt);break;case os:q(Z,at,ut,_t,mt,xt,tt,et,ht);break;default:Gt&1?O(Z,at,ut,_t,mt,xt,tt,et,ht):Gt&6?Y(Z,at,ut,_t,mt,xt,tt,et,ht):(Gt&64||Gt&128)&&St.process(Z,at,ut,_t,mt,xt,tt,et,ht,Ct)}It!=null&&mt?Od(It,Z&&Z.ref,xt,at||Z,!at):It==null&&Z&&Z.ref!=null&&Od(Z.ref,null,xt,Z,!0)},C=(Z,at,ut,_t)=>{if(Z==null)n(at.el=c(at.children),ut,_t);else{const mt=at.el=Z.el;at.children!==Z.children&&v(mt,at.children)}},A=(Z,at,ut,_t)=>{Z==null?n(at.el=h(at.children||""),ut,_t):at.el=Z.el},D=(Z,at,ut,_t)=>{[Z.el,Z.anchor]=S(Z.children,at,ut,_t,Z.el,Z.anchor)},L=({el:Z,anchor:at},ut,_t)=>{let mt;for(;Z&&Z!==at;)mt=m(Z),n(Z,ut,_t),Z=mt;n(at,ut,_t)},R=({el:Z,anchor:at})=>{let ut;for(;Z&&Z!==at;)ut=m(Z),i(Z),Z=ut;i(at)},O=(Z,at,ut,_t,mt,xt,tt,et,ht)=>{if(at.type==="svg"?tt="svg":at.type==="math"&&(tt="mathml"),Z==null)P(at,ut,_t,mt,xt,tt,et,ht);else{const St=Z.el&&Z.el._isVueCE?Z.el:null;try{St&&St._beginPatch(),F(Z,at,mt,xt,tt,et,ht)}finally{St&&St._endPatch()}}},P=(Z,at,ut,_t,mt,xt,tt,et)=>{let ht,St;const{props:It,shapeFlag:Gt,transition:Dt,dirs:Lt}=Z;if(ht=Z.el=o(Z.type,xt,It&&It.is,It),Gt&8?g(ht,Z.children):Gt&16&&k(Z.children,ht,null,_t,mt,ES(Z,xt),tt,et),Lt&&gu(Z,null,_t,"created"),V(ht,Z,Z.scopeId,tt,_t),It){for(const Jt in It)Jt!=="value"&&!Ld(Jt)&&a(ht,Jt,null,It[Jt],xt,_t);"value"in It&&a(ht,"value",null,It.value,xt),(St=It.onVnodeBeforeMount)&&no(St,_t,Z)}Lt&&gu(Z,null,_t,"beforeMount");const Ht=sQ(mt,Dt);Ht&&Dt.beforeEnter(ht),n(ht,at,ut),((St=It&&It.onVnodeMounted)||Ht||Lt)&&Oi(()=>{St&&no(St,_t,Z),Ht&&Dt.enter(ht),Lt&&gu(Z,null,_t,"mounted")},mt)},V=(Z,at,ut,_t,mt)=>{if(ut&&b(Z,ut),_t)for(let xt=0;xt<_t.length;xt++)b(Z,_t[xt]);if(mt){let xt=mt.subTree;if(at===xt||sB(xt.type)&&(xt.ssContent===at||xt.ssFallback===at)){const tt=mt.vnode;V(Z,tt,tt.scopeId,tt.slotScopeIds,mt.parent)}}},k=(Z,at,ut,_t,mt,xt,tt,et,ht=0)=>{for(let St=ht;St<Z.length;St++){const It=Z[St]=et?ol(Z[St]):go(Z[St]);E(null,It,at,ut,_t,mt,xt,tt,et)}},F=(Z,at,ut,_t,mt,xt,tt)=>{const et=at.el=Z.el;let{patchFlag:ht,dynamicChildren:St,dirs:It}=at;ht|=Z.patchFlag&16;const Gt=Z.props||wr,Dt=at.props||wr;let Lt;if(ut&&yu(ut,!1),(Lt=Dt.onVnodeBeforeUpdate)&&no(Lt,ut,at,Z),It&&gu(at,Z,ut,"beforeUpdate"),ut&&yu(ut,!0),(Gt.innerHTML&&Dt.innerHTML==null||Gt.textContent&&Dt.textContent==null)&&g(et,""),St?H(Z.dynamicChildren,St,et,ut,_t,ES(at,mt),xt):tt||rt(Z,at,et,null,ut,_t,ES(at,mt),xt,!1),ht>0){if(ht&16)W(et,Gt,Dt,ut,mt);else if(ht&2&&Gt.class!==Dt.class&&a(et,"class",null,Dt.class,mt),ht&4&&a(et,"style",Gt.style,Dt.style,mt),ht&8){const Ht=at.dynamicProps;for(let Jt=0;Jt<Ht.length;Jt++){const pe=Ht[Jt],Ge=Gt[pe],me=Dt[pe];(me!==Ge||pe==="value")&&a(et,pe,Ge,me,mt,ut)}}ht&1&&Z.children!==at.children&&g(et,at.children)}else!tt&&St==null&&W(et,Gt,Dt,ut,mt);((Lt=Dt.onVnodeUpdated)||It)&&Oi(()=>{Lt&&no(Lt,ut,at,Z),It&&gu(at,Z,ut,"updated")},_t)},H=(Z,at,ut,_t,mt,xt,tt)=>{for(let et=0;et<at.length;et++){const ht=Z[et],St=at[et],It=ht.el&&(ht.type===os||!Vp(ht,St)||ht.shapeFlag&198)?y(ht.el):ut;E(ht,St,It,null,_t,mt,xt,tt,!0)}},W=(Z,at,ut,_t,mt)=>{if(at!==ut){if(at!==wr)for(const xt in at)!Ld(xt)&&!(xt in ut)&&a(Z,xt,at[xt],null,mt,_t);for(const xt in ut){if(Ld(xt))continue;const tt=ut[xt],et=at[xt];tt!==et&&xt!=="value"&&a(Z,xt,et,tt,mt,_t)}"value"in ut&&a(Z,"value",at.value,ut.value,mt)}},q=(Z,at,ut,_t,mt,xt,tt,et,ht)=>{const St=at.el=Z?Z.el:c(""),It=at.anchor=Z?Z.anchor:c("");let{patchFlag:Gt,dynamicChildren:Dt,slotScopeIds:Lt}=at;Lt&&(et=et?et.concat(Lt):Lt),Z==null?(n(St,ut,_t),n(It,ut,_t),k(at.children||[],ut,It,mt,xt,tt,et,ht)):Gt>0&&Gt&64&&Dt&&Z.dynamicChildren?(H(Z.dynamicChildren,Dt,ut,mt,xt,tt,et),(at.key!=null||mt&&at===mt.subTree)&&rB(Z,at,!0)):rt(Z,at,ut,It,mt,xt,tt,et,ht)},Y=(Z,at,ut,_t,mt,xt,tt,et,ht)=>{at.slotScopeIds=et,Z==null?at.shapeFlag&512?mt.ctx.activate(at,ut,_t,tt,ht):K(at,ut,_t,mt,xt,tt,ht):X(Z,at,ht)},K=(Z,at,ut,_t,mt,xt,tt)=>{const et=Z.component=MQ(Z,_t,mt);if(HF(Z)&&(et.ctx.renderer=Ct),NQ(et,!1,tt),et.asyncDep){if(mt&&mt.registerDep(et,J,tt),!Z.el){const ht=et.subTree=uc(vh);A(null,ht,at,ut),Z.placeholder=ht.el}}else J(et,Z,at,ut,mt,xt,tt)},X=(Z,at,ut)=>{const _t=at.component=Z.component;if(yQ(Z,at,ut))if(_t.asyncDep&&!_t.asyncResolved){it(_t,at,ut);return}else _t.next=at,_t.update();else at.el=Z.el,_t.vnode=at},J=(Z,at,ut,_t,mt,xt,tt)=>{const et=()=>{if(Z.isMounted){let{next:Gt,bu:Dt,u:Lt,parent:Ht,vnode:Jt}=Z;{const _e=nB(Z);if(_e){Gt&&(Gt.el=Jt.el,it(Z,Gt,tt)),_e.asyncDep.then(()=>{Z.isUnmounted||et()});return}}let pe=Gt,Ge;yu(Z,!1),Gt?(Gt.el=Jt.el,it(Z,Gt,tt)):Gt=Jt,Dt&&mS(Dt),(Ge=Gt.props&&Gt.props.onVnodeBeforeUpdate)&&no(Ge,Ht,Gt,Jt),yu(Z,!0);const me=l2(Z),$e=Z.subTree;Z.subTree=me,E($e,me,y($e.el),Kt($e),Z,mt,xt),Gt.el=me.el,pe===null&&mQ(Z,me.el),Lt&&Oi(Lt,mt),(Ge=Gt.props&&Gt.props.onVnodeUpdated)&&Oi(()=>no(Ge,Ht,Gt,Jt),mt)}else{let Gt;const{el:Dt,props:Lt}=at,{bm:Ht,m:Jt,parent:pe,root:Ge,type:me}=Z,$e=Pd(at);yu(Z,!1),Ht&&mS(Ht),!$e&&(Gt=Lt&&Lt.onVnodeBeforeMount)&&no(Gt,pe,at),yu(Z,!0);{Ge.ce&&Ge.ce._def.shadowRoot!==!1&&Ge.ce._injectChildStyle(me);const _e=Z.subTree=l2(Z);E(null,_e,ut,_t,Z,mt,xt),at.el=_e.el}if(Jt&&Oi(Jt,mt),!$e&&(Gt=Lt&&Lt.onVnodeMounted)){const _e=at;Oi(()=>no(Gt,pe,_e),mt)}(at.shapeFlag&256||pe&&Pd(pe.vnode)&&pe.vnode.shapeFlag&256)&&Z.a&&Oi(Z.a,mt),Z.isMounted=!0,at=ut=_t=null}};Z.scope.on();const ht=Z.effect=new _F(et);Z.scope.off();const St=Z.update=ht.run.bind(ht),It=Z.job=ht.runIfDirty.bind(ht);It.i=Z,It.id=Z.uid,ht.scheduler=()=>YC(It),yu(Z,!0),St()},it=(Z,at,ut)=>{at.component=Z;const _t=Z.vnode.props;Z.vnode=at,Z.next=null,tQ(Z,at.props,_t,ut),iQ(Z,at.children,ut),gs(),t2(Z),ys()},rt=(Z,at,ut,_t,mt,xt,tt,et,ht=!1)=>{const St=Z&&Z.children,It=Z?Z.shapeFlag:0,Gt=at.children,{patchFlag:Dt,shapeFlag:Lt}=at;if(Dt>0){if(Dt&128){lt(St,Gt,ut,_t,mt,xt,tt,et,ht);return}else if(Dt&256){st(St,Gt,ut,_t,mt,xt,tt,et,ht);return}}Lt&8?(It&16&&Vt(St,mt,xt),Gt!==St&&g(ut,Gt)):It&16?Lt&16?lt(St,Gt,ut,_t,mt,xt,tt,et,ht):Vt(St,mt,xt,!0):(It&8&&g(ut,""),Lt&16&&k(Gt,ut,_t,mt,xt,tt,et,ht))},st=(Z,at,ut,_t,mt,xt,tt,et,ht)=>{Z=Z||oh,at=at||oh;const St=Z.length,It=at.length,Gt=Math.min(St,It);let Dt;for(Dt=0;Dt<Gt;Dt++){const Lt=at[Dt]=ht?ol(at[Dt]):go(at[Dt]);E(Z[Dt],Lt,ut,null,mt,xt,tt,et,ht)}St>It?Vt(Z,mt,xt,!0,!1,Gt):k(at,ut,_t,mt,xt,tt,et,ht,Gt)},lt=(Z,at,ut,_t,mt,xt,tt,et,ht)=>{let St=0;const It=at.length;let Gt=Z.length-1,Dt=It-1;for(;St<=Gt&&St<=Dt;){const Lt=Z[St],Ht=at[St]=ht?ol(at[St]):go(at[St]);if(Vp(Lt,Ht))E(Lt,Ht,ut,null,mt,xt,tt,et,ht);else break;St++}for(;St<=Gt&&St<=Dt;){const Lt=Z[Gt],Ht=at[Dt]=ht?ol(at[Dt]):go(at[Dt]);if(Vp(Lt,Ht))E(Lt,Ht,ut,null,mt,xt,tt,et,ht);else break;Gt--,Dt--}if(St>Gt){if(St<=Dt){const Lt=Dt+1,Ht=Lt<It?at[Lt].el:_t;for(;St<=Dt;)E(null,at[St]=ht?ol(at[St]):go(at[St]),ut,Ht,mt,xt,tt,et,ht),St++}}else if(St>Dt)for(;St<=Gt;)pt(Z[St],mt,xt,!0),St++;else{const Lt=St,Ht=St,Jt=new Map;for(St=Ht;St<=Dt;St++){const Tn=at[St]=ht?ol(at[St]):go(at[St]);Tn.key!=null&&Jt.set(Tn.key,St)}let pe,Ge=0;const me=Dt-Ht+1;let $e=!1,_e=0;const er=new Array(me);for(St=0;St<me;St++)er[St]=0;for(St=Lt;St<=Gt;St++){const Tn=Z[St];if(Ge>=me){pt(Tn,mt,xt,!0);continue}let kn;if(Tn.key!=null)kn=Jt.get(Tn.key);else for(pe=Ht;pe<=Dt;pe++)if(er[pe-Ht]===0&&Vp(Tn,at[pe])){kn=pe;break}kn===void 0?pt(Tn,mt,xt,!0):(er[kn-Ht]=St+1,kn>=_e?_e=kn:$e=!0,E(Tn,at[kn],ut,null,mt,xt,tt,et,ht),Ge++)}const Qr=$e?lQ(er):oh;for(pe=Qr.length-1,St=me-1;St>=0;St--){const Tn=Ht+St,kn=at[Tn],va=at[Tn+1],Ns=Tn+1<It?va.el||va.placeholder:_t;er[St]===0?E(null,kn,ut,Ns,mt,xt,tt,et,ht):$e&&(pe<0||St!==Qr[pe]?dt(kn,ut,Ns,2):pe--)}}},dt=(Z,at,ut,_t,mt=null)=>{const{el:xt,type:tt,transition:et,children:ht,shapeFlag:St}=Z;if(St&6){dt(Z.component.subTree,at,ut,_t);return}if(St&128){Z.suspense.move(at,ut,_t);return}if(St&64){tt.move(Z,at,ut,Ct);return}if(tt===os){n(xt,at,ut);for(let Gt=0;Gt<ht.length;Gt++)dt(ht[Gt],at,ut,_t);n(Z.anchor,at,ut);return}if(tt===CS){L(Z,at,ut);return}if(_t!==2&&St&1&&et)if(_t===0)et.beforeEnter(xt),n(xt,at,ut),Oi(()=>et.enter(xt),mt);else{const{leave:Gt,delayLeave:Dt,afterLeave:Lt}=et,Ht=()=>{Z.ctx.isUnmounted?i(xt):n(xt,at,ut)},Jt=()=>{xt._isLeaving&&xt[NJ](!0),Gt(xt,()=>{Ht(),Lt&&Lt()})};Dt?Dt(xt,Ht,Jt):Jt()}else n(xt,at,ut)},pt=(Z,at,ut,_t=!1,mt=!1)=>{const{type:xt,props:tt,ref:et,children:ht,dynamicChildren:St,shapeFlag:It,patchFlag:Gt,dirs:Dt,cacheIndex:Lt}=Z;if(Gt===-2&&(mt=!1),et!=null&&(gs(),Od(et,null,ut,Z,!0),ys()),Lt!=null&&(at.renderCache[Lt]=void 0),It&256){at.ctx.deactivate(Z);return}const Ht=It&1&&Dt,Jt=!Pd(Z);let pe;if(Jt&&(pe=tt&&tt.onVnodeBeforeUnmount)&&no(pe,at,Z),It&6)zt(Z.component,ut,_t);else{if(It&128){Z.suspense.unmount(ut,_t);return}Ht&&gu(Z,null,at,"beforeUnmount"),It&64?Z.type.remove(Z,at,ut,Ct,_t):St&&!St.hasOnce&&(xt!==os||Gt>0&&Gt&64)?Vt(St,at,ut,!1,!0):(xt===os&&Gt&384||!mt&&It&16)&&Vt(ht,at,ut),_t&&Tt(Z)}(Jt&&(pe=tt&&tt.onVnodeUnmounted)||Ht)&&Oi(()=>{pe&&no(pe,at,Z),Ht&&gu(Z,null,at,"unmounted")},ut)},Tt=Z=>{const{type:at,el:ut,anchor:_t,transition:mt}=Z;if(at===os){Ft(ut,_t);return}if(at===CS){R(Z);return}const xt=()=>{i(ut),mt&&!mt.persisted&&mt.afterLeave&&mt.afterLeave()};if(Z.shapeFlag&1&&mt&&!mt.persisted){const{leave:tt,delayLeave:et}=mt,ht=()=>tt(ut,xt);et?et(Z.el,xt,ht):ht()}else xt()},Ft=(Z,at)=>{let ut;for(;Z!==at;)ut=m(Z),i(Z),Z=ut;i(at)},zt=(Z,at,ut)=>{const{bum:_t,scope:mt,job:xt,subTree:tt,um:et,m:ht,a:St}=Z;s2(ht),s2(St),_t&&mS(_t),mt.stop(),xt&&(xt.flags|=8,pt(tt,Z,at,ut)),et&&Oi(et,at),Oi(()=>{Z.isUnmounted=!0},at)},Vt=(Z,at,ut,_t=!1,mt=!1,xt=0)=>{for(let tt=xt;tt<Z.length;tt++)pt(Z[tt],at,ut,_t,mt)},Kt=Z=>{if(Z.shapeFlag&6)return Kt(Z.component.subTree);if(Z.shapeFlag&128)return Z.suspense.next();const at=m(Z.anchor||Z.el),ut=at&&at[MJ];return ut?m(ut):at};let Bt=!1;const gt=(Z,at,ut)=>{Z==null?at._vnode&&pt(at._vnode,null,null,!0):E(at._vnode||null,Z,at,null,null,null,ut),at._vnode=Z,Bt||(Bt=!0,t2(),VF(),Bt=!1)},Ct={p:E,um:pt,m:dt,r:Tt,mt:K,mc:k,pc:rt,pbc:H,n:Kt,o:r};return{render:gt,hydrate:void 0,createApp:KJ(gt)}}function ES({type:r,props:t},e){return e==="svg"&&r==="foreignObject"||e==="mathml"&&r==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function yu({effect:r,job:t},e){e?(r.flags|=32,t.flags|=4):(r.flags&=-33,t.flags&=-5)}function sQ(r,t){return(!r||r&&!r.pendingBranch)&&t&&!t.persisted}function rB(r,t,e=!1){const n=r.children,i=t.children;if(Pe(n)&&Pe(i))for(let a=0;a<n.length;a++){const o=n[a];let c=i[a];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[a]=ol(i[a]),c.el=o.el),!e&&c.patchFlag!==-2&&rB(o,c)),c.type===C_&&c.patchFlag!==-1&&(c.el=o.el),c.type===vh&&!c.el&&(c.el=o.el)}}function lQ(r){const t=r.slice(),e=[0];let n,i,a,o,c;const h=r.length;for(n=0;n<h;n++){const v=r[n];if(v!==0){if(i=e[e.length-1],r[i]<v){t[n]=i,e.push(n);continue}for(a=0,o=e.length-1;a<o;)c=a+o>>1,r[e[c]]<v?a=c+1:o=c;v<r[e[a]]&&(a>0&&(t[n]=e[a-1]),e[a]=n)}}for(a=e.length,o=e[a-1];a-- >0;)e[a]=o,o=t[o];return e}function nB(r){const t=r.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:nB(t)}function s2(r){if(r)for(let t=0;t<r.length;t++)r[t].flags|=8}const uQ=Symbol.for("v-scx"),cQ=()=>Pm(uQ);function TS(r,t,e){return iB(r,t,e)}function iB(r,t,e=wr){const{immediate:n,deep:i,flush:a,once:o}=e,c=pi({},e),h=t&&n||!t&&a!=="post";let v;if(ev){if(a==="sync"){const b=cQ();v=b.__watcherHandles||(b.__watcherHandles=[])}else if(!h){const b=()=>{};return b.stop=Ao,b.resume=Ao,b.pause=Ao,b}}const g=ci;c.call=(b,S,E)=>Ro(b,g,S,E);let y=!1;a==="post"?c.scheduler=b=>{Oi(b,g&&g.suspense)}:a!=="sync"&&(y=!0,c.scheduler=(b,S)=>{S?b():YC(b)}),c.augmentJob=b=>{t&&(b.flags|=4),y&&(b.flags|=2,g&&(b.id=g.uid,b.i=g))};const m=EJ(r,t,c);return ev&&(v?v.push(m):h&&m()),m}function fQ(r,t,e){const n=this.proxy,i=pn(r)?r.includes(".")?aB(n,r):()=>n[r]:r.bind(n,n);let a;He(t)?a=t:(a=t.handler,e=t);const o=Iv(this),c=iB(i,a.bind(n),e);return o(),c}function aB(r,t){const e=t.split(".");return()=>{let n=r;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n}}const hQ=(r,t)=>t==="modelValue"||t==="model-value"?r.modelModifiers:r[`${t}Modifiers`]||r[`${Al(t)}Modifiers`]||r[`${Mc(t)}Modifiers`];function pQ(r,t,...e){if(r.isUnmounted)return;const n=r.vnode.props||wr;let i=e;const a=t.startsWith("update:"),o=a&&hQ(n,t.slice(7));o&&(o.trim&&(i=e.map(g=>pn(g)?g.trim():g)),o.number&&(i=e.map(zK)));let c,h=n[c=yS(t)]||n[c=yS(Al(t))];!h&&a&&(h=n[c=yS(Mc(t))]),h&&Ro(h,r,6,i);const v=n[c+"Once"];if(v){if(!r.emitted)r.emitted={};else if(r.emitted[c])return;r.emitted[c]=!0,Ro(v,r,6,i)}}const dQ=new WeakMap;function oB(r,t,e=!1){const n=e?dQ:t.emitsCache,i=n.get(r);if(i!==void 0)return i;const a=r.emits;let o={},c=!1;if(!He(r)){const h=v=>{const g=oB(v,t,!0);g&&(c=!0,pi(o,g))};!e&&t.mixins.length&&t.mixins.forEach(h),r.extends&&h(r.extends),r.mixins&&r.mixins.forEach(h)}return!a&&!c?(Lr(r)&&n.set(r,null),null):(Pe(a)?a.forEach(h=>o[h]=null):pi(o,a),Lr(r)&&n.set(r,o),o)}function T_(r,t){return!r||!__(t)?!1:(t=t.slice(2).replace(/Once$/,""),ar(r,t[0].toLowerCase()+t.slice(1))||ar(r,Mc(t))||ar(r,t))}function l2(r){const{type:t,vnode:e,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:c,emit:h,render:v,renderCache:g,props:y,data:m,setupState:b,ctx:S,inheritAttrs:E}=r,C=u0(r);let A,D;try{if(e.shapeFlag&4){const R=i||n,O=R;A=go(v.call(O,R,g,y,b,m,S)),D=c}else{const R=t;A=go(R.length>1?R(y,{attrs:c,slots:o,emit:h}):R(y,null)),D=t.props?c:vQ(c)}}catch(R){Vd.length=0,x_(R,r,1),A=uc(vh)}let L=A;if(D&&E!==!1){const R=Object.keys(D),{shapeFlag:O}=L;R.length&&O&7&&(a&&R.some(RC)&&(D=gQ(D,a)),L=gh(L,D,!1,!0))}return e.dirs&&(L=gh(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(e.dirs):e.dirs),e.transition&&$C(L,e.transition),A=L,u0(C),A}const vQ=r=>{let t;for(const e in r)(e==="class"||e==="style"||__(e))&&((t||(t={}))[e]=r[e]);return t},gQ=(r,t)=>{const e={};for(const n in r)(!RC(n)||!(n.slice(9)in t))&&(e[n]=r[n]);return e};function yQ(r,t,e){const{props:n,children:i,component:a}=r,{props:o,children:c,patchFlag:h}=t,v=a.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&h>=0){if(h&1024)return!0;if(h&16)return n?u2(n,o,v):!!o;if(h&8){const g=t.dynamicProps;for(let y=0;y<g.length;y++){const m=g[y];if(o[m]!==n[m]&&!T_(v,m))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:n===o?!1:n?o?u2(n,o,v):!0:!!o;return!1}function u2(r,t,e){const n=Object.keys(t);if(n.length!==Object.keys(r).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==r[a]&&!T_(e,a))return!0}return!1}function mQ({vnode:r,parent:t},e){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===r&&(n.el=r.el),n===r)(r=t.vnode).el=e,t=t.parent;else break}}const sB=r=>r.__isSuspense;function _Q(r,t){t&&t.pendingBranch?Pe(r)?t.effects.push(...r):t.effects.push(r):AJ(r)}const os=Symbol.for("v-fgt"),C_=Symbol.for("v-txt"),vh=Symbol.for("v-cmt"),CS=Symbol.for("v-stc"),Vd=[];let Gi=null;function bQ(r=!1){Vd.push(Gi=r?null:[])}function SQ(){Vd.pop(),Gi=Vd[Vd.length-1]||null}let tv=1;function c2(r,t=!1){tv+=r,r<0&&Gi&&t&&(Gi.hasOnce=!0)}function wQ(r){return r.dynamicChildren=tv>0?Gi||oh:null,SQ(),tv>0&&Gi&&Gi.push(r),r}function xQ(r,t,e,n,i,a){return wQ(Zt(r,t,e,n,i,a,!0))}function lB(r){return r?r.__v_isVNode===!0:!1}function Vp(r,t){return r.type===t.type&&r.key===t.key}const uB=({key:r})=>r??null,km=({ref:r,ref_key:t,ref_for:e})=>(typeof r=="number"&&(r=""+r),r!=null?pn(r)||jn(r)||He(r)?{i:bo,r,k:t,f:!!e}:r:null);function Zt(r,t=null,e=null,n=0,i=null,a=r===os?0:1,o=!1,c=!1){const h={__v_isVNode:!0,__v_skip:!0,type:r,props:t,key:t&&uB(t),ref:t&&km(t),scopeId:FF,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:bo};return c?(ZC(h,e),a&128&&r.normalize(h)):e&&(h.shapeFlag|=pn(e)?8:16),tv>0&&!o&&Gi&&(h.patchFlag>0||a&6)&&h.patchFlag!==32&&Gi.push(h),h}const uc=EQ;function EQ(r,t=null,e=null,n=0,i=null,a=!1){if((!r||r===UJ)&&(r=vh),lB(r)){const c=gh(r,t,!0);return e&&ZC(c,e),tv>0&&!a&&Gi&&(c.shapeFlag&6?Gi[Gi.indexOf(r)]=c:Gi.push(c)),c.patchFlag=-2,c}if(PQ(r)&&(r=r.__vccOpts),t){t=TQ(t);let{class:c,style:h}=t;c&&!pn(c)&&(t.class=kC(c)),Lr(h)&&(jC(h)&&!Pe(h)&&(h=pi({},h)),t.style=PC(h))}const o=pn(r)?1:sB(r)?128:LJ(r)?64:Lr(r)?4:He(r)?2:0;return Zt(r,t,e,n,i,o,a,!0)}function TQ(r){return r?jC(r)||ZF(r)?pi({},r):r:null}function gh(r,t,e=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:c,transition:h}=r,v=t?CQ(i||{},t):i,g={__v_isVNode:!0,__v_skip:!0,type:r.type,props:v,key:v&&uB(v),ref:t&&t.ref?e&&a?Pe(a)?a.concat(km(t)):[a,km(t)]:km(t):a,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:c,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:t&&r.type!==os?o===-1?16:o|16:o,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:h,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&gh(r.ssContent),ssFallback:r.ssFallback&&gh(r.ssFallback),placeholder:r.placeholder,el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return h&&n&&$C(g,h.clone(g)),g}function Pr(r=" ",t=0){return uc(C_,null,r,t)}function go(r){return r==null||typeof r=="boolean"?uc(vh):Pe(r)?uc(os,null,r.slice()):lB(r)?ol(r):uc(C_,null,String(r))}function ol(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:gh(r)}function ZC(r,t){let e=0;const{shapeFlag:n}=r;if(t==null)t=null;else if(Pe(t))e=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),ZC(r,i()),i._c&&(i._d=!0));return}else{e=32;const i=t._;!i&&!ZF(t)?t._ctx=bo:i===3&&bo&&(bo.slots._===1?t._=1:(t._=2,r.patchFlag|=1024))}else He(t)?(t={default:t,_ctx:bo},e=32):(t=String(t),n&64?(e=16,t=[Pr(t)]):e=8);r.children=t,r.shapeFlag|=e}function CQ(...r){const t={};for(let e=0;e<r.length;e++){const n=r[e];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=kC([t.class,n.class]));else if(i==="style")t.style=PC([t.style,n.style]);else if(__(i)){const a=t[i],o=n[i];o&&a!==o&&!(Pe(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=n[i])}return t}function no(r,t,e,n=null){Ro(r,t,7,[e,n])}const AQ=$F();let DQ=0;function MQ(r,t,e){const n=r.type,i=(t?t.appContext:r.appContext)||AQ,a={uid:DQ++,vnode:r,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new XK(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:JF(n,i),emitsOptions:oB(n,i),emit:null,emitted:null,propsDefaults:wr,inheritAttrs:n.inheritAttrs,ctx:wr,data:wr,props:wr,attrs:wr,slots:wr,refs:wr,setupState:wr,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=pQ.bind(null,a),r.ce&&r.ce(a),a}let ci=null;const LQ=()=>ci||bo;let h0,gE;{const r=w_(),t=(e,n)=>{let i;return(i=r[e])||(i=r[e]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};h0=t("__VUE_INSTANCE_SETTERS__",e=>ci=e),gE=t("__VUE_SSR_SETTERS__",e=>ev=e)}const Iv=r=>{const t=ci;return h0(r),r.scope.on(),()=>{r.scope.off(),h0(t)}},f2=()=>{ci&&ci.scope.off(),h0(null)};function cB(r){return r.vnode.shapeFlag&4}let ev=!1;function NQ(r,t=!1,e=!1){t&&gE(t);const{props:n,children:i}=r.vnode,a=cB(r);QJ(r,n,a,t),nQ(r,i,e||t);const o=a?RQ(r,t):void 0;return t&&gE(!1),o}function RQ(r,t){const e=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,WJ);const{setup:n}=e;if(n){gs();const i=r.setupContext=n.length>1?OQ(r):null,a=Iv(r),o=Rv(n,r,0,[r.props,i]),c=fF(o);if(ys(),a(),(c||r.sp)&&!Pd(r)&&BF(r),c){if(o.then(f2,f2),t)return o.then(h=>{h2(r,h)}).catch(h=>{x_(h,r,0)});r.asyncDep=o}else h2(r,o)}else fB(r)}function h2(r,t,e){He(t)?r.type.__ssrInlineRender?r.ssrRender=t:r.render=t:Lr(t)&&(r.setupState=IF(t)),fB(r)}function fB(r,t,e){const n=r.type;r.render||(r.render=n.render||Ao);{const i=Iv(r);gs();try{jJ(r)}finally{ys(),i()}}}const IQ={get(r,t){return Wn(r,"get",""),r[t]}};function OQ(r){const t=e=>{r.exposed=e||{}};return{attrs:new Proxy(r.attrs,IQ),slots:r.slots,emit:r.emit,expose:t}}function KC(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(IF(gJ(r.exposed)),{get(t,e){if(e in t)return t[e];if(e in kd)return kd[e](r)},has(t,e){return e in t||e in kd}})):r.proxy}function PQ(r){return He(r)&&"__vccOpts"in r}const kQ=(r,t)=>wJ(r,t,ev),VQ="3.5.24";let yE;const p2=typeof window<"u"&&window.trustedTypes;if(p2)try{yE=p2.createPolicy("vue",{createHTML:r=>r})}catch{}const hB=yE?r=>yE.createHTML(r):r=>r,GQ="http://www.w3.org/2000/svg",FQ="http://www.w3.org/1998/Math/MathML",ns=typeof document<"u"?document:null,d2=ns&&ns.createElement("template"),BQ={insert:(r,t,e)=>{t.insertBefore(r,e||null)},remove:r=>{const t=r.parentNode;t&&t.removeChild(r)},createElement:(r,t,e,n)=>{const i=t==="svg"?ns.createElementNS(GQ,r):t==="mathml"?ns.createElementNS(FQ,r):e?ns.createElement(r,{is:e}):ns.createElement(r);return r==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:r=>ns.createTextNode(r),createComment:r=>ns.createComment(r),setText:(r,t)=>{r.nodeValue=t},setElementText:(r,t)=>{r.textContent=t},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>ns.querySelector(r),setScopeId(r,t){r.setAttribute(t,"")},insertStaticContent(r,t,e,n,i,a){const o=e?e.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),e),!(i===a||!(i=i.nextSibling)););else{d2.innerHTML=hB(n==="svg"?`<svg>${r}</svg>`:n==="mathml"?`<math>${r}</math>`:r);const c=d2.content;if(n==="svg"||n==="mathml"){const h=c.firstChild;for(;h.firstChild;)c.appendChild(h.firstChild);c.removeChild(h)}t.insertBefore(c,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},HQ=Symbol("_vtc");function zQ(r,t,e){const n=r[HQ];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?r.removeAttribute("class"):e?r.setAttribute("class",t):r.className=t}const v2=Symbol("_vod"),UQ=Symbol("_vsh"),WQ=Symbol(""),jQ=/(?:^|;)\s*display\s*:/;function YQ(r,t,e){const n=r.style,i=pn(e);let a=!1;if(e&&!i){if(t)if(pn(t))for(const o of t.split(";")){const c=o.slice(0,o.indexOf(":")).trim();e[c]==null&&Vm(n,c,"")}else for(const o in t)e[o]==null&&Vm(n,o,"");for(const o in e)o==="display"&&(a=!0),Vm(n,o,e[o])}else if(i){if(t!==e){const o=n[WQ];o&&(e+=";"+o),n.cssText=e,a=jQ.test(e)}}else t&&r.removeAttribute("style");v2 in r&&(r[v2]=a?n.display:"",r[UQ]&&(n.display="none"))}const g2=/\s*!important$/;function Vm(r,t,e){if(Pe(e))e.forEach(n=>Vm(r,t,n));else if(e==null&&(e=""),t.startsWith("--"))r.setProperty(t,e);else{const n=$Q(r,t);g2.test(e)?r.setProperty(Mc(n),e.replace(g2,""),"important"):r[n]=e}}const y2=["Webkit","Moz","ms"],AS={};function $Q(r,t){const e=AS[t];if(e)return e;let n=Al(t);if(n!=="filter"&&n in r)return AS[t]=n;n=dF(n);for(let i=0;i<y2.length;i++){const a=y2[i]+n;if(a in r)return AS[t]=a}return t}const m2="http://www.w3.org/1999/xlink";function _2(r,t,e,n,i,a=qK(t)){n&&t.startsWith("xlink:")?e==null?r.removeAttributeNS(m2,t.slice(6,t.length)):r.setAttributeNS(m2,t,e):e==null||a&&!gF(e)?r.removeAttribute(t):r.setAttribute(t,a?"":Pl(e)?String(e):e)}function b2(r,t,e,n,i){if(t==="innerHTML"||t==="textContent"){e!=null&&(r[t]=t==="innerHTML"?hB(e):e);return}const a=r.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?r.getAttribute("value")||"":r.value,h=e==null?r.type==="checkbox"?"on":"":String(e);(c!==h||!("_value"in r))&&(r.value=h),e==null&&r.removeAttribute(t),r._value=e;return}let o=!1;if(e===""||e==null){const c=typeof r[t];c==="boolean"?e=gF(e):e==null&&c==="string"?(e="",o=!0):c==="number"&&(e=0,o=!0)}try{r[t]=e}catch{}o&&r.removeAttribute(i||t)}function qQ(r,t,e,n){r.addEventListener(t,e,n)}function XQ(r,t,e,n){r.removeEventListener(t,e,n)}const S2=Symbol("_vei");function ZQ(r,t,e,n,i=null){const a=r[S2]||(r[S2]={}),o=a[t];if(n&&o)o.value=n;else{const[c,h]=KQ(t);if(n){const v=a[t]=ttt(n,i);qQ(r,c,v,h)}else o&&(XQ(r,c,o,h),a[t]=void 0)}}const w2=/(?:Once|Passive|Capture)$/;function KQ(r){let t;if(w2.test(r)){t={};let n;for(;n=r.match(w2);)r=r.slice(0,r.length-n[0].length),t[n[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Mc(r.slice(2)),t]}let DS=0;const JQ=Promise.resolve(),QQ=()=>DS||(JQ.then(()=>DS=0),DS=Date.now());function ttt(r,t){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;Ro(ett(n,e.value),t,5,[n])};return e.value=r,e.attached=QQ(),e}function ett(r,t){if(Pe(t)){const e=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{e.call(r),r._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const x2=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,rtt=(r,t,e,n,i,a)=>{const o=i==="svg";t==="class"?zQ(r,n,o):t==="style"?YQ(r,e,n):__(t)?RC(t)||ZQ(r,t,e,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ntt(r,t,n,o))?(b2(r,t,n),!r.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&_2(r,t,n,o,a,t!=="value")):r._isVueCE&&(/[A-Z]/.test(t)||!pn(n))?b2(r,Al(t),n,a,t):(t==="true-value"?r._trueValue=n:t==="false-value"&&(r._falseValue=n),_2(r,t,n,o))};function ntt(r,t,e,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in r&&x2(t)&&He(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&r.tagName==="IFRAME"||t==="form"||t==="list"&&r.tagName==="INPUT"||t==="type"&&r.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=r.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return x2(t)&&pn(e)?!1:t in r}const itt=pi({patchProp:rtt},BQ);let E2;function att(){return E2||(E2=aQ(itt))}const ott=((...r)=>{const t=att().createApp(...r),{mount:e}=t;return t.mount=n=>{const i=ltt(n);if(!i)return;const a=t._component;!He(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=e(i,!1,stt(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function stt(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function ltt(r){return pn(r)?document.querySelector(r):r}const utt="/osmosis.png",ctt="/cosmoshub.png",ftt="/akash.png",htt="/atomone.png",ptt="/babylon.png",dtt="/cryptoorg.png",vtt="/provenece.png",gtt="/shentu.png",ytt="/terra.png";var mE=function(r,t){return mE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},mE(r,t)};function bt(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mE(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var mtt=(function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r})(),_tt=(function(){function r(){this.browser=new mtt,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r})(),De=new _tt;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(De.wxa=!0,De.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?De.worker=!0:!De.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(De.node=!0,De.svgSupported=!0):btt(navigator.userAgent,De);function btt(r,t){var e=t.browser,n=r.match(/Firefox\/([\d.]+)/),i=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),a=r.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(r);n&&(e.firefox=!0,e.version=n[1]),i&&(e.ie=!0,e.version=i[1]),a&&(e.edge=!0,e.version=a[1],e.newEdge=+a[1].split(".")[0]>18),o&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11);var c=t.domSupported=typeof document<"u";if(c){var h=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in h||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in h)&&!("OTransition"in h),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}}var JC=12,pB="sans-serif",ms=JC+"px "+pB,Stt=20,wtt=100,xtt="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function Ett(r){var t={};if(typeof JSON>"u")return t;for(var e=0;e<r.length;e++){var n=String.fromCharCode(e+32),i=(r.charCodeAt(e)-Stt)/wtt;t[n]=i}return t}var Ttt=Ett(xtt),ka={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var r,t;return function(e,n){if(!r){var i=ka.createCanvas();r=i&&i.getContext("2d")}if(r)return t!==n&&(t=r.font=n||ms),r.measureText(e);e=e||"",n=n||ms;var a=/((?:\d+)?\.?\d*)px/.exec(n),o=a&&+a[1]||JC,c=0;if(n.indexOf("mono")>=0)c=o*e.length;else for(var h=0;h<e.length;h++){var v=Ttt[e[h]];c+=v==null?o:v*o}return{width:c}}})(),loadImage:function(r,t,e){var n=new Image;return n.onload=t,n.onerror=e,n.src=r,n}},dB=Io(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,t){return r["[object "+t+"]"]=!0,r},{}),vB=Io(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,t){return r["[object "+t+"Array]"]=!0,r},{}),Ih=Object.prototype.toString,A_=Array.prototype,Ctt=A_.forEach,Att=A_.filter,QC=A_.slice,Dtt=A_.map,T2=(function(){}).constructor,Sy=T2?T2.prototype:null,tA="__proto__",Mtt=2311;function gB(){return Mtt++}function eA(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];typeof console<"u"&&console.error.apply(console,r)}function ie(r){if(r==null||typeof r!="object")return r;var t=r,e=Ih.call(r);if(e==="[object Array]"){if(!Gd(r)){t=[];for(var n=0,i=r.length;n<i;n++)t[n]=ie(r[n])}}else if(vB[e]){if(!Gd(r)){var a=r.constructor;if(a.from)t=a.from(r);else{t=new a(r.length);for(var n=0,i=r.length;n<i;n++)t[n]=r[n]}}}else if(!dB[e]&&!Gd(r)&&!yh(r)){t={};for(var o in r)r.hasOwnProperty(o)&&o!==tA&&(t[o]=ie(r[o]))}return t}function ye(r,t,e){if(!le(t)||!le(r))return e?ie(t):r;for(var n in t)if(t.hasOwnProperty(n)&&n!==tA){var i=r[n],a=t[n];le(a)&&le(i)&&!Rt(a)&&!Rt(i)&&!yh(a)&&!yh(i)&&!C2(a)&&!C2(i)&&!Gd(a)&&!Gd(i)?ye(i,a,e):(e||!(n in r))&&(r[n]=ie(t[n]))}return r}function rA(r,t){for(var e=r[0],n=1,i=r.length;n<i;n++)e=ye(e,r[n],t);return e}function Mt(r,t){if(Object.assign)Object.assign(r,t);else for(var e in t)t.hasOwnProperty(e)&&e!==tA&&(r[e]=t[e]);return r}function se(r,t,e){for(var n=Le(t),i=0,a=n.length;i<a;i++){var o=n[i];(e?t[o]!=null:r[o]==null)&&(r[o]=t[o])}return r}function ge(r,t){if(r){if(r.indexOf)return r.indexOf(t);for(var e=0,n=r.length;e<n;e++)if(r[e]===t)return e}return-1}function Ltt(r,t){var e=r.prototype;function n(){}n.prototype=t.prototype,r.prototype=new n;for(var i in e)e.hasOwnProperty(i)&&(r.prototype[i]=e[i]);r.prototype.constructor=r,r.superClass=t}function Jr(r,t,e){if(r="prototype"in r?r.prototype:r,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(e?t[a]!=null:r[a]==null)&&(r[a]=t[a])}else se(r,t,e)}function $n(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function j(r,t,e){if(r&&t)if(r.forEach&&r.forEach===Ctt)r.forEach(t,e);else if(r.length===+r.length)for(var n=0,i=r.length;n<i;n++)t.call(e,r[n],n,r);else for(var a in r)r.hasOwnProperty(a)&&t.call(e,r[a],a,r)}function Pt(r,t,e){if(!r)return[];if(!t)return nA(r);if(r.map&&r.map===Dtt)return r.map(t,e);for(var n=[],i=0,a=r.length;i<a;i++)n.push(t.call(e,r[i],i,r));return n}function Io(r,t,e,n){if(r&&t){for(var i=0,a=r.length;i<a;i++)e=t.call(n,e,r[i],i,r);return e}}function Ye(r,t,e){if(!r)return[];if(!t)return nA(r);if(r.filter&&r.filter===Att)return r.filter(t,e);for(var n=[],i=0,a=r.length;i<a;i++)t.call(e,r[i],i,r)&&n.push(r[i]);return n}function Lc(r,t,e){if(r&&t){for(var n=0,i=r.length;n<i;n++)if(t.call(e,r[n],n,r))return r[n]}}function Le(r){if(!r)return[];if(Object.keys)return Object.keys(r);var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(e);return t}function Ntt(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return function(){return r.apply(t,e.concat(QC.call(arguments)))}}var qt=Sy&&re(Sy.bind)?Sy.call.bind(Sy.bind):Ntt;function ve(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return r.apply(this,t.concat(QC.call(arguments)))}}function Rt(r){return Array.isArray?Array.isArray(r):Ih.call(r)==="[object Array]"}function re(r){return typeof r=="function"}function $t(r){return typeof r=="string"}function _E(r){return Ih.call(r)==="[object String]"}function Ie(r){return typeof r=="number"}function le(r){var t=typeof r;return t==="function"||!!r&&t==="object"}function C2(r){return!!dB[Ih.call(r)]}function Ti(r){return!!vB[Ih.call(r)]}function yh(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function D_(r){return r.colorStops!=null}function Rtt(r){return r.image!=null}function Itt(r){return Ih.call(r)==="[object RegExp]"}function Yn(r){return r!==r}function On(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=0,n=r.length;e<n;e++)if(r[e]!=null)return r[e]}function te(r,t){return r??t}function Hi(r,t,e){return r??t??e}function nA(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return QC.apply(r,t)}function M_(r){if(typeof r=="number")return[r,r,r,r];var t=r.length;return t===2?[r[0],r[1],r[0],r[1]]:t===3?[r[0],r[1],r[2],r[1]]:r}function qn(r,t){if(!r)throw new Error(t)}function ua(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var yB="__ec_primitive__";function p0(r){r[yB]=!0}function Gd(r){return r[yB]}var Ott=(function(){function r(){this.data={}}return r.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},r.prototype.has=function(t){return this.data.hasOwnProperty(t)},r.prototype.get=function(t){return this.data[t]},r.prototype.set=function(t,e){return this.data[t]=e,this},r.prototype.keys=function(){return Le(this.data)},r.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},r})(),mB=typeof Map=="function";function Ptt(){return mB?new Map:new Ott}var ktt=(function(){function r(t){var e=Rt(t);this.data=Ptt();var n=this;t instanceof r?t.each(i):t&&j(t,i);function i(a,o){e?n.set(a,o):n.set(o,a)}}return r.prototype.hasKey=function(t){return this.data.has(t)},r.prototype.get=function(t){return this.data.get(t)},r.prototype.set=function(t,e){return this.data.set(t,e),e},r.prototype.each=function(t,e){this.data.forEach(function(n,i){t.call(e,n,i)})},r.prototype.keys=function(){var t=this.data.keys();return mB?Array.from(t):t},r.prototype.removeKey=function(t){this.data.delete(t)},r})();function Qt(r){return new ktt(r)}function rv(r,t){for(var e=new r.constructor(r.length+t.length),n=0;n<r.length;n++)e[n]=r[n];for(var i=r.length,n=0;n<t.length;n++)e[n+i]=t[n];return e}function L_(r,t){var e;if(Object.create)e=Object.create(r);else{var n=function(){};n.prototype=r,e=new n}return t&&Mt(e,t),e}function _B(r){var t=r.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Xt(r,t){return r.hasOwnProperty(t)}function Fr(){}var Gm=180/Math.PI;var bE=function(r,t){return bE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},bE(r,t)};function dr(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bE(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Nc(r,t){return r==null&&(r=0),t==null&&(t=0),[r,t]}function ii(r,t){return r[0]=t[0],r[1]=t[1],r}function fs(r){return[r[0],r[1]]}function iA(r,t,e){return r[0]=t,r[1]=e,r}function A2(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r}function SE(r,t,e,n){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r}function ec(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r}function wE(r){return Math.sqrt(Vtt(r))}function Vtt(r){return r[0]*r[0]+r[1]*r[1]}function Fm(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r}function Oh(r,t){var e=wE(t);return e===0?(r[0]=0,r[1]=0):(r[0]=t[0]/e,r[1]=t[1]/e),r}function xE(r,t){return Math.sqrt((r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1]))}var cl=xE;function Gtt(r,t){return(r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1])}var cc=Gtt;function Bm(r,t,e,n){return r[0]=t[0]+n*(e[0]-t[0]),r[1]=t[1]+n*(e[1]-t[1]),r}function Br(r,t,e){var n=t[0],i=t[1];return r[0]=e[0]*n+e[2]*i+e[4],r[1]=e[1]*n+e[3]*i+e[5],r}function fl(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r}function hl(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r}var bf=(function(){function r(t,e){this.target=t,this.topTarget=e&&e.topTarget}return r})(),Ftt=(function(){function r(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new bf(e,t),"dragstart",t.event))},r.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,a=n-this._x,o=i-this._y;this._x=n,this._y=i,e.drift(a,o,t),this.handler.dispatchToElement(new bf(e,t),"drag",t.event);var c=this.handler.findHover(n,i,e).target,h=this._dropTarget;this._dropTarget=c,e!==c&&(h&&c!==h&&this.handler.dispatchToElement(new bf(h,t),"dragleave",t.event),c&&c!==h&&this.handler.dispatchToElement(new bf(c,t),"dragenter",t.event))}},r.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new bf(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new bf(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},r})(),da=(function(){function r(t){t&&(this._$eventProcessor=t)}return r.prototype.on=function(t,e,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof e=="function"&&(i=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;e!=null&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),a[t]||(a[t]=[]);for(var c=0;c<a[t].length;c++)if(a[t][c].h===n)return this;var h={h:n,query:e,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},v=a[t].length-1,g=a[t][v];return g&&g.callAtLast?a[t].splice(v,0,h):a[t].push(h),this},r.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},r.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],a=0,o=n[t].length;a<o;a++)n[t][a].h!==e&&i.push(n[t][a]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},r.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=e.length,c=i.length,h=0;h<c;h++){var v=i[h];if(!(a&&a.filter&&v.query!=null&&!a.filter(t,v.query)))switch(o){case 0:v.h.call(v.ctx);break;case 1:v.h.call(v.ctx,e[0]);break;case 2:v.h.call(v.ctx,e[0],e[1]);break;default:v.h.apply(v.ctx,e);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},r.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=e.length,c=e[o-1],h=i.length,v=0;v<h;v++){var g=i[v];if(!(a&&a.filter&&g.query!=null&&!a.filter(t,g.query)))switch(o){case 0:g.h.call(c);break;case 1:g.h.call(c,e[0]);break;case 2:g.h.call(c,e[0],e[1]);break;default:g.h.apply(c,e.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},r})(),Btt=Math.log(2);function EE(r,t,e,n,i,a){var o=n+"-"+i,c=r.length;if(a.hasOwnProperty(o))return a[o];if(t===1){var h=Math.round(Math.log((1<<c)-1&~i)/Btt);return r[e][h]}for(var v=n|1<<e,g=e+1;n&1<<g;)g++;for(var y=0,m=0,b=0;m<c;m++){var S=1<<m;S&i||(y+=(b%2?-1:1)*r[e][m]*EE(r,t-1,g,v,i|S,a),b++)}return a[o]=y,y}function D2(r,t){var e=[[r[0],r[1],1,0,0,0,-t[0]*r[0],-t[0]*r[1]],[0,0,0,r[0],r[1],1,-t[1]*r[0],-t[1]*r[1]],[r[2],r[3],1,0,0,0,-t[2]*r[2],-t[2]*r[3]],[0,0,0,r[2],r[3],1,-t[3]*r[2],-t[3]*r[3]],[r[4],r[5],1,0,0,0,-t[4]*r[4],-t[4]*r[5]],[0,0,0,r[4],r[5],1,-t[5]*r[4],-t[5]*r[5]],[r[6],r[7],1,0,0,0,-t[6]*r[6],-t[6]*r[7]],[0,0,0,r[6],r[7],1,-t[7]*r[6],-t[7]*r[7]]],n={},i=EE(e,8,0,0,0,n);if(i!==0){for(var a=[],o=0;o<8;o++)for(var c=0;c<8;c++)a[c]==null&&(a[c]=0),a[c]+=((o+c)%2?-1:1)*EE(e,7,o===0?1:0,1<<o,1<<c,n)/i*t[o];return function(h,v,g){var y=v*a[6]+g*a[7]+1;h[0]=(v*a[0]+g*a[1]+a[2])/y,h[1]=(v*a[3]+g*a[4]+a[5])/y}}}var d0="___zrEVENTSAVED",MS=[];function Htt(r,t,e,n,i){return TE(MS,t,n,i,!0)&&TE(r,e,MS[0],MS[1])}function ztt(r,t){r&&e(r),t&&e(t);function e(n){var i=n[d0];i&&(i.clearMarkers&&i.clearMarkers(),delete n[d0])}}function TE(r,t,e,n,i){if(t.getBoundingClientRect&&De.domSupported&&!bB(t)){var a=t[d0]||(t[d0]={}),o=Utt(t,a),c=Wtt(o,a,i);if(c)return c(r,e,n),!0}return!1}function Utt(r,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),c=o.style,h=a%2,v=(a>>1)%2;c.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[h]+":0",i[v]+":0",n[1-h]+":auto",i[1-v]+":auto",""].join("!important;"),r.appendChild(o),e.push(o)}return t.clearMarkers=function(){j(e,function(g){g.parentNode&&g.parentNode.removeChild(g)})},e}function Wtt(r,t,e){for(var n=e?"invTrans":"trans",i=t[n],a=t.srcCoords,o=[],c=[],h=!0,v=0;v<4;v++){var g=r[v].getBoundingClientRect(),y=2*v,m=g.left,b=g.top;o.push(m,b),h=h&&a&&m===a[y]&&b===a[y+1],c.push(r[v].offsetLeft,r[v].offsetTop)}return h&&i?i:(t.srcCoords=o,t[n]=e?D2(c,o):D2(o,c))}function bB(r){return r.nodeName.toUpperCase()==="CANVAS"}var jtt=/([&<>"'])/g,Ytt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ui(r){return r==null?"":(r+"").replace(jtt,function(t,e){return Ytt[e]})}var $tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,LS=[],qtt=De.browser.firefox&&+De.browser.version.split(".")[0]<39;function CE(r,t,e,n){return e=e||{},n?M2(r,t,e):qtt&&t.layerX!=null&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):t.offsetX!=null?(e.zrX=t.offsetX,e.zrY=t.offsetY):M2(r,t,e),e}function M2(r,t,e){if(De.domSupported&&r.getBoundingClientRect){var n=t.clientX,i=t.clientY;if(bB(r)){var a=r.getBoundingClientRect();e.zrX=n-a.left,e.zrY=i-a.top;return}else if(TE(LS,r,n,i)){e.zrX=LS[0],e.zrY=LS[1];return}}e.zrX=e.zrY=0}function aA(r){return r||window.event}function ea(r,t,e){if(t=aA(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var o=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&CE(r,o,t,e)}else{CE(r,t,t,e);var a=Xtt(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var c=t.button;return t.which==null&&c!==void 0&&$tt.test(t.type)&&(t.which=c&1?1:c&2?3:c&4?2:0),t}function Xtt(r){var t=r.wheelDelta;if(t)return t;var e=r.deltaX,n=r.deltaY;if(e==null||n==null)return t;var i=Math.abs(n!==0?n:e),a=n>0?-1:n<0?1:e>0?-1:1;return 3*i*a}function AE(r,t,e,n){r.addEventListener(t,e,n)}function Ztt(r,t,e,n){r.removeEventListener(t,e,n)}var _s=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function L2(r){return r.which===2||r.which===3}var Ktt=(function(){function r(){this._track=[]}return r.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(t,e,n){var i=t.touches;if(i){for(var a={points:[],touches:[],target:e,event:t},o=0,c=i.length;o<c;o++){var h=i[o],v=CE(n,h,{});a.points.push([v.zrX,v.zrY]),a.touches.push(h)}this._track.push(a)}},r.prototype._recognize=function(t){for(var e in NS)if(NS.hasOwnProperty(e)){var n=NS[e](this._track,t);if(n)return n}},r})();function N2(r){var t=r[1][0]-r[0][0],e=r[1][1]-r[0][1];return Math.sqrt(t*t+e*e)}function Jtt(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var NS={pinch:function(r,t){var e=r.length;if(e){var n=(r[e-1]||{}).points,i=(r[e-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=N2(n)/N2(i);!isFinite(a)&&(a=1),t.pinchScale=a;var o=Jtt(n);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:r[0].target,event:t}}}}};function wn(){return[1,0,0,1,0,0]}function N_(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function R_(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function Do(r,t,e){var n=t[0]*e[0]+t[2]*e[1],i=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],o=t[1]*e[2]+t[3]*e[3],c=t[0]*e[4]+t[2]*e[5]+t[4],h=t[1]*e[4]+t[3]*e[5]+t[5];return r[0]=n,r[1]=i,r[2]=a,r[3]=o,r[4]=c,r[5]=h,r}function Oo(r,t,e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4]+e[0],r[5]=t[5]+e[1],r}function kl(r,t,e,n){n===void 0&&(n=[0,0]);var i=t[0],a=t[2],o=t[4],c=t[1],h=t[3],v=t[5],g=Math.sin(e),y=Math.cos(e);return r[0]=i*y+c*g,r[1]=-i*g+c*y,r[2]=a*y+h*g,r[3]=-a*g+y*h,r[4]=y*(o-n[0])+g*(v-n[1])+n[0],r[5]=y*(v-n[1])-g*(o-n[0])+n[1],r}function oA(r,t,e){var n=e[0],i=e[1];return r[0]=t[0]*n,r[1]=t[1]*i,r[2]=t[2]*n,r[3]=t[3]*i,r[4]=t[4]*n,r[5]=t[5]*i,r}function Va(r,t){var e=t[0],n=t[2],i=t[4],a=t[1],o=t[3],c=t[5],h=e*o-a*n;return h?(h=1/h,r[0]=o*h,r[1]=-a*h,r[2]=-n*h,r[3]=e*h,r[4]=(n*c-o*i)*h,r[5]=(a*i-e*c)*h,r):null}function Qtt(r){var t=wn();return R_(t,r),t}var oe=(function(){function r(t,e){this.x=t||0,this.y=e||0}return r.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(t,e){return this.x=t,this.y=e,this},r.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.scale=function(t){this.x*=t,this.y*=t},r.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},r.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},r.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},r.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},r.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},r.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},r.set=function(t,e,n){t.x=e,t.y=n},r.copy=function(t,e){t.x=e.x,t.y=e.y},r.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.lenSquare=function(t){return t.x*t.x+t.y*t.y},r.dot=function(t,e){return t.x*e.x+t.y*e.y},r.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},r.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},r.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},r.scaleAndAdd=function(t,e,n,i){t.x=e.x+n.x*i,t.y=e.y+n.y*i},r.lerp=function(t,e,n,i){var a=1-i;t.x=a*e.x+i*n.x,t.y=a*e.y+i*n.y},r})(),rc=Math.min,Qf=Math.max,DE=Math.abs,R2=["x","y"],tet=["width","height"],mu=new oe,_u=new oe,bu=new oe,Su=new oe,ki=SB(),yd=ki.minTv,ME=ki.maxTv,Fd=[0,0],ue=(function(){function r(t,e,n,i){r.set(this,t,e,n,i)}return r.set=function(t,e,n,i,a){return i<0&&(e=e+i,i=-i),a<0&&(n=n+a,a=-a),t.x=e,t.y=n,t.width=i,t.height=a,t},r.prototype.union=function(t){var e=rc(t.x,this.x),n=rc(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Qf(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=Qf(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},r.prototype.applyTransform=function(t){r.applyTransform(this,this,t)},r.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,i=t.height/e.height,a=wn();return Oo(a,a,[-e.x,-e.y]),oA(a,a,[n,i]),Oo(a,a,[t.x,t.y]),a},r.prototype.intersect=function(t,e,n){return r.intersect(this,t,e,n)},r.intersect=function(t,e,n,i){n&&oe.set(n,0,0);var a=i&&i.outIntersectRect||null,o=i&&i.clamp;if(a&&(a.x=a.y=a.width=a.height=NaN),!t||!e)return!1;t instanceof r||(t=r.set(eet,t.x,t.y,t.width,t.height)),e instanceof r||(e=r.set(ret,e.x,e.y,e.width,e.height));var c=!!n;ki.reset(i,c);var h=ki.touchThreshold,v=t.x+h,g=t.x+t.width-h,y=t.y+h,m=t.y+t.height-h,b=e.x+h,S=e.x+e.width-h,E=e.y+h,C=e.y+e.height-h;if(v>g||y>m||b>S||E>C)return!1;var A=!(g<b||S<v||m<E||C<y);return(c||a)&&(Fd[0]=1/0,Fd[1]=0,I2(v,g,b,S,0,c,a,o),I2(y,m,E,C,1,c,a,o),c&&oe.copy(n,A?ki.useDir?ki.dirMinTv:yd:ME)),A},r.contain=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},r.prototype.contain=function(t,e){return r.contain(this,t,e)},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(t){r.copy(this,t)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(t){return new r(t.x,t.y,t.width,t.height)},r.copy=function(t,e){return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t},r.applyTransform=function(t,e,n){if(!n){t!==e&&r.copy(t,e);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],o=n[4],c=n[5];t.x=e.x*i+o,t.y=e.y*a+c,t.width=e.width*i,t.height=e.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}mu.x=bu.x=e.x,mu.y=Su.y=e.y,_u.x=Su.x=e.x+e.width,_u.y=bu.y=e.y+e.height,mu.transform(n),Su.transform(n),_u.transform(n),bu.transform(n),t.x=rc(mu.x,_u.x,bu.x,Su.x),t.y=rc(mu.y,_u.y,bu.y,Su.y);var h=Qf(mu.x,_u.x,bu.x,Su.x),v=Qf(mu.y,_u.y,bu.y,Su.y);t.width=h-t.x,t.height=v-t.y},r})(),eet=new ue(0,0,0,0),ret=new ue(0,0,0,0);function I2(r,t,e,n,i,a,o,c){var h=DE(t-e),v=DE(n-r),g=rc(h,v),y=R2[i],m=R2[1-i],b=tet[i];t<e||n<r?h<v?(a&&(ME[y]=-h),c&&(o[y]=t,o[b]=0)):(a&&(ME[y]=v),c&&(o[y]=r,o[b]=0)):(o&&(o[y]=Qf(r,e),o[b]=rc(t,n)-o[y]),a&&(g<Fd[0]||ki.useDir)&&(Fd[0]=rc(g,Fd[0]),(h<v||!ki.bidirectional)&&(yd[y]=h,yd[m]=0,ki.useDir&&ki.calcDirMTV()),(h>=v||!ki.bidirectional)&&(yd[y]=-v,yd[m]=0,ki.useDir&&ki.calcDirMTV())))}function SB(){var r=0,t=new oe,e=new oe,n={minTv:new oe,maxTv:new oe,useDir:!1,dirMinTv:new oe,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(a,o){n.touchThreshold=0,a&&a.touchThreshold!=null&&(n.touchThreshold=Qf(0,a.touchThreshold)),n.negativeSize=!1,o&&(n.minTv.set(1/0,1/0),n.maxTv.set(0,0),n.useDir=!1,a&&a.direction!=null&&(n.useDir=!0,n.dirMinTv.copy(n.minTv),e.copy(n.minTv),r=a.direction,n.bidirectional=a.bidirectional==null||!!a.bidirectional,n.bidirectional||t.set(Math.cos(r),Math.sin(r))))},calcDirMTV:function(){var a=n.minTv,o=n.dirMinTv,c=a.y*a.y+a.x*a.x,h=Math.sin(r),v=Math.cos(r),g=h*a.y+v*a.x;if(i(g)){i(a.x)&&i(a.y)&&o.set(0,0);return}if(e.x=c*v/g,e.y=c*h/g,i(e.x)&&i(e.y)){o.set(0,0);return}(n.bidirectional||t.dot(e)>0)&&e.len()<o.len()&&o.copy(e)}};function i(a){return DE(a)<1e-10}return n}var wB="silent";function net(r,t,e){return{type:r,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:iet}}function iet(){_s(this.event)}var aet=(function(r){dr(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.handler=null,e}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t})(da),Gp=(function(){function r(t,e){this.x=t,this.y=e}return r})(),oet=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],RS=new ue(0,0,0,0),xB=(function(r){dr(t,r);function t(e,n,i,a,o){var c=r.call(this)||this;return c._hovered=new Gp(0,0),c.storage=e,c.painter=n,c.painterRoot=a,c._pointerSize=o,i=i||new aet,c.proxy=null,c.setHandlerProxy(i),c._draggingMgr=new Ftt(c),c}return t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(j(oet,function(n){e.on&&e.on(n,this[n],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var n=e.zrX,i=e.zrY,a=EB(this,n,i),o=this._hovered,c=o.target;c&&!c.__zr&&(o=this.findHover(o.x,o.y),c=o.target);var h=this._hovered=a?new Gp(n,i):this.findHover(n,i),v=h.target,g=this.proxy;g.setCursor&&g.setCursor(v?v.cursor:"default"),c&&v!==c&&this.dispatchToElement(o,"mouseout",e),this.dispatchToElement(h,"mousemove",e),v&&v!==c&&this.dispatchToElement(h,"mouseover",e)},t.prototype.mouseout=function(e){var n=e.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Gp(0,0)},t.prototype.dispatch=function(e,n){var i=this[e];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var n=this.proxy;n.setCursor&&n.setCursor(e)},t.prototype.dispatchToElement=function(e,n,i){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var o="on"+n,c=net(n,e,i);a&&(a[o]&&(c.cancelBubble=!!a[o].call(a,c)),a.trigger(n,c),a=a.__hostTarget?a.__hostTarget:a.parent,!c.cancelBubble););c.cancelBubble||(this.trigger(n,c),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(h){typeof h[o]=="function"&&h[o].call(h,c),h.trigger&&h.trigger(n,c)}))}},t.prototype.findHover=function(e,n,i){var a=this.storage.getDisplayList(),o=new Gp(e,n);if(O2(a,o,e,n,i),this._pointerSize&&!o.target){for(var c=[],h=this._pointerSize,v=h/2,g=new ue(e-v,n-v,h,h),y=a.length-1;y>=0;y--){var m=a[y];m!==i&&!m.ignore&&!m.ignoreCoarsePointer&&(!m.parent||!m.parent.ignoreCoarsePointer)&&(RS.copy(m.getBoundingRect()),m.transform&&RS.applyTransform(m.transform),RS.intersect(g)&&c.push(m))}if(c.length)for(var b=4,S=Math.PI/12,E=Math.PI*2,C=0;C<v;C+=b)for(var A=0;A<E;A+=S){var D=e+C*Math.cos(A),L=n+C*Math.sin(A);if(O2(c,o,D,L,i),o.target)return o}}return o},t.prototype.processGesture=function(e,n){this._gestureMgr||(this._gestureMgr=new Ktt);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var o=a.type;e.gestureEvent=o;var c=new Gp;c.target=a.target,this.dispatchToElement(c,o,a.event)}},t})(da);j(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){xB.prototype[r]=function(t){var e=t.zrX,n=t.zrY,i=EB(this,e,n),a,o;if((r!=="mouseup"||!i)&&(a=this.findHover(e,n),o=a.target),r==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(r==="mouseup")this._upEl=o;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||cl(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,r,t)}});function set(r,t,e){if(r[r.rectHover?"rectContain":"contain"](t,e)){for(var n=r,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(t,e))return!1}n.silent&&(i=!0);var c=n.__hostTarget;n=c?n.ignoreHostSilent?null:c:n.parent}return i?wB:!0}return!1}function O2(r,t,e,n,i){for(var a=r.length-1;a>=0;a--){var o=r[a],c=void 0;if(o!==i&&!o.ignore&&(c=set(o,e,n))&&(!t.topTarget&&(t.topTarget=o),c!==wB)){t.target=o;break}}}function EB(r,t,e){var n=r.painter;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var TB=32,Fp=7;function uet(r){for(var t=0;r>=TB;)t|=r&1,r>>=1;return r+t}function P2(r,t,e,n){var i=t+1;if(i===e)return 1;if(n(r[i++],r[t])<0){for(;i<e&&n(r[i],r[i-1])<0;)i++;cet(r,t,i)}else for(;i<e&&n(r[i],r[i-1])>=0;)i++;return i-t}function cet(r,t,e){for(e--;t<e;){var n=r[t];r[t++]=r[e],r[e--]=n}}function k2(r,t,e,n,i){for(n===t&&n++;n<e;n++){for(var a=r[n],o=t,c=n,h;o<c;)h=o+c>>>1,i(a,r[h])<0?c=h:o=h+1;var v=n-o;switch(v){case 3:r[o+3]=r[o+2];case 2:r[o+2]=r[o+1];case 1:r[o+1]=r[o];break;default:for(;v>0;)r[o+v]=r[o+v-1],v--}r[o]=a}}function IS(r,t,e,n,i,a){var o=0,c=0,h=1;if(a(r,t[e+i])>0){for(c=n-i;h<c&&a(r,t[e+i+h])>0;)o=h,h=(h<<1)+1,h<=0&&(h=c);h>c&&(h=c),o+=i,h+=i}else{for(c=i+1;h<c&&a(r,t[e+i-h])<=0;)o=h,h=(h<<1)+1,h<=0&&(h=c);h>c&&(h=c);var v=o;o=i-h,h=i-v}for(o++;o<h;){var g=o+(h-o>>>1);a(r,t[e+g])>0?o=g+1:h=g}return h}function OS(r,t,e,n,i,a){var o=0,c=0,h=1;if(a(r,t[e+i])<0){for(c=i+1;h<c&&a(r,t[e+i-h])<0;)o=h,h=(h<<1)+1,h<=0&&(h=c);h>c&&(h=c);var v=o;o=i-h,h=i-v}else{for(c=n-i;h<c&&a(r,t[e+i+h])>=0;)o=h,h=(h<<1)+1,h<=0&&(h=c);h>c&&(h=c),o+=i,h+=i}for(o++;o<h;){var g=o+(h-o>>>1);a(r,t[e+g])<0?h=g:o=g+1}return h}function fet(r,t){var e=Fp,n,i,a=0,o=[];n=[],i=[];function c(b,S){n[a]=b,i[a]=S,a+=1}function h(){for(;a>1;){var b=a-2;if(b>=1&&i[b-1]<=i[b]+i[b+1]||b>=2&&i[b-2]<=i[b]+i[b-1])i[b-1]<i[b+1]&&b--;else if(i[b]>i[b+1])break;g(b)}}function v(){for(;a>1;){var b=a-2;b>0&&i[b-1]<i[b+1]&&b--,g(b)}}function g(b){var S=n[b],E=i[b],C=n[b+1],A=i[b+1];i[b]=E+A,b===a-3&&(n[b+1]=n[b+2],i[b+1]=i[b+2]),a--;var D=OS(r[C],r,S,E,0,t);S+=D,E-=D,E!==0&&(A=IS(r[S+E-1],r,C,A,A-1,t),A!==0&&(E<=A?y(S,E,C,A):m(S,E,C,A)))}function y(b,S,E,C){var A=0;for(A=0;A<S;A++)o[A]=r[b+A];var D=0,L=E,R=b;if(r[R++]=r[L++],--C===0){for(A=0;A<S;A++)r[R+A]=o[D+A];return}if(S===1){for(A=0;A<C;A++)r[R+A]=r[L+A];r[R+C]=o[D];return}for(var O=e,P,V,k;;){P=0,V=0,k=!1;do if(t(r[L],o[D])<0){if(r[R++]=r[L++],V++,P=0,--C===0){k=!0;break}}else if(r[R++]=o[D++],P++,V=0,--S===1){k=!0;break}while((P|V)<O);if(k)break;do{if(P=OS(r[L],o,D,S,0,t),P!==0){for(A=0;A<P;A++)r[R+A]=o[D+A];if(R+=P,D+=P,S-=P,S<=1){k=!0;break}}if(r[R++]=r[L++],--C===0){k=!0;break}if(V=IS(o[D],r,L,C,0,t),V!==0){for(A=0;A<V;A++)r[R+A]=r[L+A];if(R+=V,L+=V,C-=V,C===0){k=!0;break}}if(r[R++]=o[D++],--S===1){k=!0;break}O--}while(P>=Fp||V>=Fp);if(k)break;O<0&&(O=0),O+=2}if(e=O,e<1&&(e=1),S===1){for(A=0;A<C;A++)r[R+A]=r[L+A];r[R+C]=o[D]}else{if(S===0)throw new Error;for(A=0;A<S;A++)r[R+A]=o[D+A]}}function m(b,S,E,C){var A=0;for(A=0;A<C;A++)o[A]=r[E+A];var D=b+S-1,L=C-1,R=E+C-1,O=0,P=0;if(r[R--]=r[D--],--S===0){for(O=R-(C-1),A=0;A<C;A++)r[O+A]=o[A];return}if(C===1){for(R-=S,D-=S,P=R+1,O=D+1,A=S-1;A>=0;A--)r[P+A]=r[O+A];r[R]=o[L];return}for(var V=e;;){var k=0,F=0,H=!1;do if(t(o[L],r[D])<0){if(r[R--]=r[D--],k++,F=0,--S===0){H=!0;break}}else if(r[R--]=o[L--],F++,k=0,--C===1){H=!0;break}while((k|F)<V);if(H)break;do{if(k=S-OS(o[L],r,b,S,S-1,t),k!==0){for(R-=k,D-=k,S-=k,P=R+1,O=D+1,A=k-1;A>=0;A--)r[P+A]=r[O+A];if(S===0){H=!0;break}}if(r[R--]=o[L--],--C===1){H=!0;break}if(F=C-IS(r[D],o,0,C,C-1,t),F!==0){for(R-=F,L-=F,C-=F,P=R+1,O=L+1,A=0;A<F;A++)r[P+A]=o[O+A];if(C<=1){H=!0;break}}if(r[R--]=r[D--],--S===0){H=!0;break}V--}while(k>=Fp||F>=Fp);if(H)break;V<0&&(V=0),V+=2}if(e=V,e<1&&(e=1),C===1){for(R-=S,D-=S,P=R+1,O=D+1,A=S-1;A>=0;A--)r[P+A]=r[O+A];r[R]=o[L]}else{if(C===0)throw new Error;for(O=R-(C-1),A=0;A<C;A++)r[O+A]=o[A]}}return{mergeRuns:h,forceMergeRuns:v,pushRun:c}}function Hm(r,t,e,n){e||(e=0),n||(n=r.length);var i=n-e;if(!(i<2)){var a=0;if(i<TB){a=P2(r,e,n,t),k2(r,e,n,e+a,t);return}var o=fet(r,t),c=uet(i);do{if(a=P2(r,e,n,t),a<c){var h=i;h>c&&(h=c),k2(r,e,e+h,e+a,t),a=h}o.pushRun(e,a),o.mergeRuns(),i-=a,e+=a}while(i!==0);o.forceMergeRuns()}}var Vi=1,md=2,Xf=4,V2=!1;function PS(){V2||(V2=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function G2(r,t){return r.zlevel===t.zlevel?r.z===t.z?r.z2-t.z2:r.z-t.z:r.zlevel-t.zlevel}var het=(function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=G2}return r.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},r.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(e),n},r.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,a=e.length;i<a;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,Hm(n,G2)},r.prototype._updateAndAddDisplayable=function(t,e,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath(),a=e&&e.length,o=0,c=t.__clipPaths;if(!t.ignoreClip&&(a||i)){if(c||(c=t.__clipPaths=[]),a)for(var h=0;h<e.length;h++)c[o++]=e[h];for(var v=i,g=t;v;)v.parent=g,v.updateTransform(),c[o++]=v,g=v,v=v.getClipPath()}if(c&&(c.length=o),t.childrenRef){for(var y=t.childrenRef(),m=0;m<y.length;m++){var b=y[m];t.__dirty&&(b.__dirty|=Vi),this._updateAndAddDisplayable(b,c,n)}t.__dirty=0}else{var S=t;isNaN(S.z)&&(PS(),S.z=0),isNaN(S.z2)&&(PS(),S.z2=0),isNaN(S.zlevel)&&(PS(),S.zlevel=0),this._displayList[this._displayListLen++]=S}var E=t.getDecalElement&&t.getDecalElement();E&&this._updateAndAddDisplayable(E,c,n);var C=t.getTextGuideLine();C&&this._updateAndAddDisplayable(C,c,n);var A=t.getTextContent();A&&this._updateAndAddDisplayable(A,c,n)}},r.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},r.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);return}var i=ge(this._roots,t);i>=0&&this._roots.splice(i,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r})(),v0;v0=De.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var Bd={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)))},elasticOut:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*r)*Math.sin((r-t)*(2*Math.PI)/n)+1)},elasticInOut:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),(r*=2)<1?-.5*(e*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)):e*Math.pow(2,-10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)*.5+1)},backIn:function(r){var t=1.70158;return r*r*((t+1)*r-t)},backOut:function(r){var t=1.70158;return--r*r*((t+1)*r+t)+1},backInOut:function(r){var t=2.5949095;return(r*=2)<1?.5*(r*r*((t+1)*r-t)):.5*((r-=2)*r*((t+1)*r+t)+2)},bounceIn:function(r){return 1-Bd.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?Bd.bounceIn(r*2)*.5:Bd.bounceOut(r*2-1)*.5+.5}},wy=Math.pow,bl=Math.sqrt,g0=1e-8,CB=1e-4,F2=bl(3),xy=1/3,yo=Nc(),aa=Nc(),ch=Nc();function pl(r){return r>-g0&&r<g0}function AB(r){return r>g0||r<-g0}function cn(r,t,e,n,i){var a=1-i;return a*a*(a*r+3*i*t)+i*i*(i*n+3*a*e)}function B2(r,t,e,n,i){var a=1-i;return 3*(((t-r)*a+2*(e-t)*i)*a+(n-e)*i*i)}function y0(r,t,e,n,i,a){var o=n+3*(t-e)-r,c=3*(e-t*2+r),h=3*(t-r),v=r-i,g=c*c-3*o*h,y=c*h-9*o*v,m=h*h-3*c*v,b=0;if(pl(g)&&pl(y))if(pl(c))a[0]=0;else{var S=-h/c;S>=0&&S<=1&&(a[b++]=S)}else{var E=y*y-4*g*m;if(pl(E)){var C=y/g,S=-c/o+C,A=-C/2;S>=0&&S<=1&&(a[b++]=S),A>=0&&A<=1&&(a[b++]=A)}else if(E>0){var D=bl(E),L=g*c+1.5*o*(-y+D),R=g*c+1.5*o*(-y-D);L<0?L=-wy(-L,xy):L=wy(L,xy),R<0?R=-wy(-R,xy):R=wy(R,xy);var S=(-c-(L+R))/(3*o);S>=0&&S<=1&&(a[b++]=S)}else{var O=(2*g*c-3*o*y)/(2*bl(g*g*g)),P=Math.acos(O)/3,V=bl(g),k=Math.cos(P),S=(-c-2*V*k)/(3*o),A=(-c+V*(k+F2*Math.sin(P)))/(3*o),F=(-c+V*(k-F2*Math.sin(P)))/(3*o);S>=0&&S<=1&&(a[b++]=S),A>=0&&A<=1&&(a[b++]=A),F>=0&&F<=1&&(a[b++]=F)}}return b}function DB(r,t,e,n,i){var a=6*e-12*t+6*r,o=9*t+3*n-3*r-9*e,c=3*t-3*r,h=0;if(pl(o)){if(AB(a)){var v=-c/a;v>=0&&v<=1&&(i[h++]=v)}}else{var g=a*a-4*o*c;if(pl(g))i[0]=-a/(2*o);else if(g>0){var y=bl(g),v=(-a+y)/(2*o),m=(-a-y)/(2*o);v>=0&&v<=1&&(i[h++]=v),m>=0&&m<=1&&(i[h++]=m)}}return h}function Dl(r,t,e,n,i,a){var o=(t-r)*i+r,c=(e-t)*i+t,h=(n-e)*i+e,v=(c-o)*i+o,g=(h-c)*i+c,y=(g-v)*i+v;a[0]=r,a[1]=o,a[2]=v,a[3]=y,a[4]=y,a[5]=g,a[6]=h,a[7]=n}function MB(r,t,e,n,i,a,o,c,h,v,g){var y,m=.005,b=1/0,S,E,C,A;yo[0]=h,yo[1]=v;for(var D=0;D<1;D+=.05)aa[0]=cn(r,e,i,o,D),aa[1]=cn(t,n,a,c,D),C=cc(yo,aa),C<b&&(y=D,b=C);b=1/0;for(var L=0;L<32&&!(m<CB);L++)S=y-m,E=y+m,aa[0]=cn(r,e,i,o,S),aa[1]=cn(t,n,a,c,S),C=cc(aa,yo),S>=0&&C<b?(y=S,b=C):(ch[0]=cn(r,e,i,o,E),ch[1]=cn(t,n,a,c,E),A=cc(ch,yo),E<=1&&A<b?(y=E,b=A):m*=.5);return g&&(g[0]=cn(r,e,i,o,y),g[1]=cn(t,n,a,c,y)),bl(b)}function pet(r,t,e,n,i,a,o,c,h){for(var v=r,g=t,y=0,m=1/h,b=1;b<=h;b++){var S=b*m,E=cn(r,e,i,o,S),C=cn(t,n,a,c,S),A=E-v,D=C-g;y+=Math.sqrt(A*A+D*D),v=E,g=C}return y}function Sn(r,t,e,n){var i=1-n;return i*(i*r+2*n*t)+n*n*e}function LE(r,t,e,n){return 2*((1-n)*(t-r)+n*(e-t))}function det(r,t,e,n,i){var a=r-2*t+e,o=2*(t-r),c=r-n,h=0;if(pl(a)){if(AB(o)){var v=-c/o;v>=0&&v<=1&&(i[h++]=v)}}else{var g=o*o-4*a*c;if(pl(g)){var v=-o/(2*a);v>=0&&v<=1&&(i[h++]=v)}else if(g>0){var y=bl(g),v=(-o+y)/(2*a),m=(-o-y)/(2*a);v>=0&&v<=1&&(i[h++]=v),m>=0&&m<=1&&(i[h++]=m)}}return h}function LB(r,t,e){var n=r+e-2*t;return n===0?.5:(r-t)/n}function nv(r,t,e,n,i){var a=(t-r)*n+r,o=(e-t)*n+t,c=(o-a)*n+a;i[0]=r,i[1]=a,i[2]=c,i[3]=c,i[4]=o,i[5]=e}function NB(r,t,e,n,i,a,o,c,h){var v,g=.005,y=1/0;yo[0]=o,yo[1]=c;for(var m=0;m<1;m+=.05){aa[0]=Sn(r,e,i,m),aa[1]=Sn(t,n,a,m);var b=cc(yo,aa);b<y&&(v=m,y=b)}y=1/0;for(var S=0;S<32&&!(g<CB);S++){var E=v-g,C=v+g;aa[0]=Sn(r,e,i,E),aa[1]=Sn(t,n,a,E);var b=cc(aa,yo);if(E>=0&&b<y)v=E,y=b;else{ch[0]=Sn(r,e,i,C),ch[1]=Sn(t,n,a,C);var A=cc(ch,yo);C<=1&&A<y?(v=C,y=A):g*=.5}}return h&&(h[0]=Sn(r,e,i,v),h[1]=Sn(t,n,a,v)),bl(y)}function vet(r,t,e,n,i,a,o){for(var c=r,h=t,v=0,g=1/o,y=1;y<=o;y++){var m=y*g,b=Sn(r,e,i,m),S=Sn(t,n,a,m),E=b-c,C=S-h;v+=Math.sqrt(E*E+C*C),c=b,h=S}return v}var get=/cubic-bezier\(([0-9,\.e ]+)\)/;function sA(r){var t=r&&get.exec(r);if(t){var e=t[1].split(","),n=+ua(e[0]),i=+ua(e[1]),a=+ua(e[2]),o=+ua(e[3]);if(isNaN(n+i+a+o))return;var c=[];return function(h){return h<=0?0:h>=1?1:y0(0,n,a,1,h,c)&&cn(0,i,o,1,c[0])}}}var yet=(function(){function r(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||Fr,this.ondestroy=t.ondestroy||Fr,this.onrestart=t.onrestart||Fr,t.easing&&this.setEasing(t.easing)}return r.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=e;return}var n=this._life,i=t-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,c=o?o(a):a;if(this.onframe(c),a===1)if(this.loop){var h=i%n;this._startTime=t-h,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(t){this.easing=t,this.easingFunc=re(t)?t:Bd[t]||sA(t)},r})(),RB=(function(){function r(t){this.value=t}return r})(),met=(function(){function r(){this._len=0}return r.prototype.insert=function(t){var e=new RB(t);return this.insertEntry(e),e},r.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r})(),mh=(function(){function r(t){this._list=new met,this._maxSize=10,this._map={},this._maxSize=t}return r.prototype.put=function(t,e){var n=this._list,i=this._map,a=null;if(i[t]==null){var o=n.len(),c=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var h=n.head;n.remove(h),delete i[h.key],a=h.value,this._lastRemovedEntry=h}c?c.value=e:c=new RB(e),c.key=t,n.insertEntry(c),i[t]=c}return a},r.prototype.get=function(t){var e=this._map[t],n=this._list;if(e!=null)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r})(),H2={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ia(r){return r=Math.round(r),r<0?0:r>255?255:r}function _et(r){return r=Math.round(r),r<0?0:r>360?360:r}function iv(r){return r<0?0:r>1?1:r}function kS(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?Ia(parseFloat(t)/100*255):Ia(parseInt(t,10))}function Sl(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?iv(parseFloat(t)/100):iv(parseFloat(t))}function VS(r,t,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?r+(t-r)*e*6:e*2<1?t:e*3<2?r+(t-r)*(2/3-e)*6:r}function dl(r,t,e){return r+(t-r)*e}function ta(r,t,e,n,i){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function NE(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}var IB=new mh(20),Ey=null;function Sf(r,t){Ey&&NE(Ey,t),Ey=IB.put(r,Ey||t.slice())}function Ei(r,t){if(r){t=t||[];var e=IB.get(r);if(e)return NE(t,e);r=r+"";var n=r.replace(/ /g,"").toLowerCase();if(n in H2)return NE(t,H2[n]),Sf(r,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){ta(t,0,0,0,1);return}return ta(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Sf(r,t),t}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){ta(t,0,0,0,1);return}return ta(t,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),Sf(r,t),t}return}var o=n.indexOf("("),c=n.indexOf(")");if(o!==-1&&c+1===i){var h=n.substr(0,o),v=n.substr(o+1,c-(o+1)).split(","),g=1;switch(h){case"rgba":if(v.length!==4)return v.length===3?ta(t,+v[0],+v[1],+v[2],1):ta(t,0,0,0,1);g=Sl(v.pop());case"rgb":if(v.length>=3)return ta(t,kS(v[0]),kS(v[1]),kS(v[2]),v.length===3?g:Sl(v[3])),Sf(r,t),t;ta(t,0,0,0,1);return;case"hsla":if(v.length!==4){ta(t,0,0,0,1);return}return v[3]=Sl(v[3]),RE(v,t),Sf(r,t),t;case"hsl":if(v.length!==3){ta(t,0,0,0,1);return}return RE(v,t),Sf(r,t),t;default:return}}ta(t,0,0,0,1)}}function RE(r,t){var e=(parseFloat(r[0])%360+360)%360/360,n=Sl(r[1]),i=Sl(r[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return t=t||[],ta(t,Ia(VS(o,a,e+1/3)*255),Ia(VS(o,a,e)*255),Ia(VS(o,a,e-1/3)*255),1),r.length===4&&(t[3]=r[3]),t}function bet(r){if(r){var t=r[0]/255,e=r[1]/255,n=r[2]/255,i=Math.min(t,e,n),a=Math.max(t,e,n),o=a-i,c=(a+i)/2,h,v;if(o===0)h=0,v=0;else{c<.5?v=o/(a+i):v=o/(2-a-i);var g=((a-t)/6+o/2)/o,y=((a-e)/6+o/2)/o,m=((a-n)/6+o/2)/o;t===a?h=m-y:e===a?h=1/3+g-m:n===a&&(h=2/3+y-g),h<0&&(h+=1),h>1&&(h-=1)}var b=[h*360,v,c];return r[3]!=null&&b.push(r[3]),b}}function IE(r,t){var e=Ei(r);if(e){for(var n=0;n<3;n++)t<0?e[n]=e[n]*(1-t)|0:e[n]=(255-e[n])*t+e[n]|0,e[n]>255?e[n]=255:e[n]<0&&(e[n]=0);return Mo(e,e.length===4?"rgba":"rgb")}}function GS(r,t,e){if(!(!(t&&t.length)||!(r>=0&&r<=1))){e=e||[];var n=r*(t.length-1),i=Math.floor(n),a=Math.ceil(n),o=t[i],c=t[a],h=n-i;return e[0]=Ia(dl(o[0],c[0],h)),e[1]=Ia(dl(o[1],c[1],h)),e[2]=Ia(dl(o[2],c[2],h)),e[3]=iv(dl(o[3],c[3],h)),e}}function wet(r,t,e){if(!(!(t&&t.length)||!(r>=0&&r<=1))){var n=r*(t.length-1),i=Math.floor(n),a=Math.ceil(n),o=Ei(t[i]),c=Ei(t[a]),h=n-i,v=Mo([Ia(dl(o[0],c[0],h)),Ia(dl(o[1],c[1],h)),Ia(dl(o[2],c[2],h)),iv(dl(o[3],c[3],h))],"rgba");return e?{color:v,leftIndex:i,rightIndex:a,value:n}:v}}function wl(r,t,e,n){var i=Ei(r);if(r)return i=bet(i),t!=null&&(i[0]=_et(re(t)?t(i[0]):t)),e!=null&&(i[1]=Sl(re(e)?e(i[1]):e)),n!=null&&(i[2]=Sl(re(n)?n(i[2]):n)),Mo(RE(i),"rgba")}function m0(r,t){var e=Ei(r);if(e&&t!=null)return e[3]=iv(t),Mo(e,"rgba")}function Mo(r,t){if(!(!r||!r.length)){var e=r[0]+","+r[1]+","+r[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(e+=","+r[3]),t+"("+e+")"}}function _0(r,t){var e=Ei(r);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}var z2=new mh(100);function OE(r){if($t(r)){var t=z2.get(r);return t||(t=IE(r,-.1),z2.put(r,t)),t}else if(D_(r)){var e=Mt({},r);return e.colorStops=Pt(r.colorStops,function(n){return{offset:n.offset,color:IE(n.color,-.1)}}),e}return r}var b0=Math.round;function av(r){var t;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var e=Ei(r);e&&(r="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}return{color:r,opacity:t??1}}var U2=1e-4;function vl(r){return r<U2&&r>-U2}function Ty(r){return b0(r*1e3)/1e3}function PE(r){return b0(r*1e4)/1e4}function xet(r){return"matrix("+Ty(r[0])+","+Ty(r[1])+","+Ty(r[2])+","+Ty(r[3])+","+PE(r[4])+","+PE(r[5])+")"}var Eet={left:"start",right:"end",center:"middle",middle:"middle"};function Tet(r,t,e){return e==="top"?r+=t/2:e==="bottom"&&(r-=t/2),r}function Cet(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function Aet(r){var t=r.style,e=r.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),e[0],e[1]].join(",")}function OB(r){return r&&!!r.image}function Det(r){return r&&!!r.svgElement}function lA(r){return OB(r)||Det(r)}function PB(r){return r.type==="linear"}function kB(r){return r.type==="radial"}function VB(r){return r&&(r.type==="linear"||r.type==="radial")}function I_(r){return"url(#"+r+")"}function GB(r){var t=r.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function FB(r){var t=r.x||0,e=r.y||0,n=(r.rotation||0)*Gm,i=te(r.scaleX,1),a=te(r.scaleY,1),o=r.skewX||0,c=r.skewY||0,h=[];return(t||e)&&h.push("translate("+t+"px,"+e+"px)"),n&&h.push("rotate("+n+")"),(i!==1||a!==1)&&h.push("scale("+i+","+a+")"),(o||c)&&h.push("skew("+b0(o*Gm)+"deg, "+b0(c*Gm)+"deg)"),h.join(" ")}var Met=(function(){return De.hasGlobalWindow&&re(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}})(),kE=Array.prototype.slice;function is(r,t,e){return(t-r)*e+r}function FS(r,t,e,n){for(var i=t.length,a=0;a<i;a++)r[a]=is(t[a],e[a],n);return r}function Let(r,t,e,n){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){r[o]||(r[o]=[]);for(var c=0;c<a;c++)r[o][c]=is(t[o][c],e[o][c],n)}return r}function Cy(r,t,e,n){for(var i=t.length,a=0;a<i;a++)r[a]=t[a]+e[a]*n;return r}function W2(r,t,e,n){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){r[o]||(r[o]=[]);for(var c=0;c<a;c++)r[o][c]=t[o][c]+e[o][c]*n}return r}function Net(r,t){for(var e=r.length,n=t.length,i=e>n?t:r,a=Math.min(e,n),o=i[a-1]||{color:[0,0,0,0],offset:0},c=a;c<Math.max(e,n);c++)i.push({offset:o.offset,color:o.color.slice()})}function Ret(r,t,e){var n=r,i=t;if(!(!n.push||!i.push)){var a=n.length,o=i.length;if(a!==o){var c=a>o;if(c)n.length=o;else for(var h=a;h<o;h++)n.push(e===1?i[h]:kE.call(i[h]))}for(var v=n[0]&&n[0].length,h=0;h<n.length;h++)if(e===1)isNaN(n[h])&&(n[h]=i[h]);else for(var g=0;g<v;g++)isNaN(n[h][g])&&(n[h][g]=i[h][g])}}function Hd(r){if($n(r)){var t=r.length;if($n(r[0])){for(var e=[],n=0;n<t;n++)e.push(kE.call(r[n]));return e}return kE.call(r)}return r}function zm(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function Iet(r){return $n(r&&r[0])?2:1}var Ay=0,Um=1,BB=2,_d=3,VE=4,GE=5,j2=6;function Y2(r){return r===VE||r===GE}function Dy(r){return r===Um||r===BB}var Bp=[0,0,0,0],Oet=(function(){function r(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,c=j2,h=e;if($n(e)){var v=Iet(e);c=v,(v===1&&!Ie(e[0])||v===2&&!Ie(e[0][0]))&&(o=!0)}else if(Ie(e)&&!Yn(e))c=Ay;else if($t(e))if(!isNaN(+e))c=Ay;else{var g=Ei(e);g&&(h=g,c=_d)}else if(D_(e)){var y=Mt({},h);y.colorStops=Pt(e.colorStops,function(b){return{offset:b.offset,color:Ei(b.color)}}),PB(e)?c=VE:kB(e)&&(c=GE),h=y}a===0?this.valType=c:(c!==this.valType||c===j2)&&(o=!0),this.discrete=this.discrete||o;var m={time:t,value:h,rawValue:e,percent:0};return n&&(m.easing=n,m.easingFunc=re(n)?n:Bd[n]||sA(n)),i.push(m),m},r.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(E,C){return E.time-C.time});for(var i=this.valType,a=n.length,o=n[a-1],c=this.discrete,h=Dy(i),v=Y2(i),g=0;g<a;g++){var y=n[g],m=y.value,b=o.value;y.percent=y.time/t,c||(h&&g!==a-1?Ret(m,b,i):v&&Net(m.colorStops,b.colorStops))}if(!c&&i!==GE&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;for(var S=n[0].value,g=0;g<a;g++)i===Ay?n[g].additiveValue=n[g].value-S:i===_d?n[g].additiveValue=Cy([],n[g].value,S,-1):Dy(i)&&(n[g].additiveValue=i===Um?Cy([],n[g].value,S,-1):W2([],n[g].value,S,-1))}},r.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,o=this.keyframes,c=o.length,h=this.propName,v=a===_d,g,y=this._lastFr,m=Math.min,b,S;if(c===1)b=S=o[0];else{if(e<0)g=0;else if(e<this._lastFrP){var E=m(y+1,c-1);for(g=E;g>=0&&!(o[g].percent<=e);g--);g=m(g,c-2)}else{for(g=y;g<c&&!(o[g].percent>e);g++);g=m(g-1,c-2)}S=o[g+1],b=o[g]}if(b&&S){this._lastFr=g,this._lastFrP=e;var C=S.percent-b.percent,A=C===0?1:m((e-b.percent)/C,1);S.easingFunc&&(A=S.easingFunc(A));var D=n?this._additiveValue:v?Bp:t[h];if((Dy(a)||v)&&!D&&(D=this._additiveValue=[]),this.discrete)t[h]=A<1?b.rawValue:S.rawValue;else if(Dy(a))a===Um?FS(D,b[i],S[i],A):Let(D,b[i],S[i],A);else if(Y2(a)){var L=b[i],R=S[i],O=a===VE;t[h]={type:O?"linear":"radial",x:is(L.x,R.x,A),y:is(L.y,R.y,A),colorStops:Pt(L.colorStops,function(V,k){var F=R.colorStops[k];return{offset:is(V.offset,F.offset,A),color:zm(FS([],V.color,F.color,A))}}),global:R.global},O?(t[h].x2=is(L.x2,R.x2,A),t[h].y2=is(L.y2,R.y2,A)):t[h].r=is(L.r,R.r,A)}else if(v)FS(D,b[i],S[i],A),n||(t[h]=zm(D));else{var P=is(b[i],S[i],A);n?this._additiveValue=P:t[h]=P}n&&this._addToTarget(t)}}},r.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,i=this._additiveValue;e===Ay?t[n]=t[n]+i:e===_d?(Ei(t[n],Bp),Cy(Bp,Bp,i,1),t[n]=zm(Bp)):e===Um?Cy(t[n],t[n],i,1):e===BB&&W2(t[n],t[n],i,1)},r})(),uA=(function(){function r(t,e,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i){eA("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(t){this._target=t},r.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,Le(e),n)},r.prototype.whenWithKeys=function(t,e,n,i){for(var a=this._tracks,o=0;o<n.length;o++){var c=n[o],h=a[c];if(!h){h=a[c]=new Oet(c);var v=void 0,g=this._getAdditiveTrack(c);if(g){var y=g.keyframes,m=y[y.length-1];v=m&&m.value,g.valType===_d&&v&&(v=zm(v))}else v=this._target[c];if(v==null)continue;t>0&&h.addKeyframe(0,Hd(v),i),this._trackKeys.push(c)}h.addKeyframe(t,Hd(e[c]),i)}return this._maxTime=Math.max(this._maxTime,t),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},r.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},r.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(t);a&&(e=a)}return e},r.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],c=this._tracks[o],h=this._getAdditiveTrack(o),v=c.keyframes,g=v.length;if(c.prepare(i,h),c.needsAnimate())if(!this._allowDiscrete&&c.discrete){var y=v[g-1];y&&(e._target[c.propName]=y.rawValue),c.setFinished()}else n.push(c)}if(n.length||this._force){var m=new yet({life:i,loop:this._loop,delay:this._delay||0,onframe:function(b){e._started=2;var S=e._additiveAnimators;if(S){for(var E=!1,C=0;C<S.length;C++)if(S[C]._clip){E=!0;break}E||(e._additiveAnimators=null)}for(var C=0;C<n.length;C++)n[C].step(e._target,b);var A=e._onframeCbs;if(A)for(var C=0;C<A.length;C++)A[C](e._target,b)},ondestroy:function(){e._doneCallback()}});this._clip=m,this.animation&&this.animation.addClip(m),t&&m.setEasing(t)}else this._doneCallback();return this}},r.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},r.prototype.delay=function(t){return this._delay=t,this},r.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},r.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},r.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(t){return this._tracks[t]},r.prototype.getTracks=function(){var t=this;return Pt(this._trackKeys,function(e){return t._tracks[e]})},r.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var o=n[t[a]];o&&!o.isFinished()&&(e?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var c=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){c=!1;break}return c&&this._abortedCallback(),c},r.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var a=e[i],o=this._tracks[a];if(!(!o||o.isFinished())){var c=o.keyframes,h=c[n?0:c.length-1];h&&(t[a]=Hd(h.rawValue))}}}},r.prototype.__changeFinalValue=function(t,e){e=e||Le(t);for(var n=0;n<e.length;n++){var i=e[n],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var c=o.pop();a.addKeyframe(c.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},r})();function th(){return new Date().getTime()}var Pet=(function(r){dr(t,r);function t(e){var n=r.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var n=e.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(e){if(e.animation){var n=e.prev,i=e.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var n=e.getClip();n&&this.removeClip(n),e.animation=null},t.prototype.update=function(e){for(var n=th()-this._pausedTime,i=n-this._time,a=this._head;a;){var o=a.next,c=a.step(n,i);c&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,e||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0;function n(){e._running&&(v0(n),!e._paused&&e.update())}v0(n)},t.prototype.start=function(){this._running||(this._time=th(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=th(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=th()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var n=e.next;e.prev=e.next=e.animation=null,e=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(e,n){n=n||{},this.start();var i=new uA(e,n.loop);return this.addAnimator(i),i},t})(da),ket=300,BS=De.domSupported,HS=(function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Pt(r,function(i){var a=i.replace("mouse","pointer");return e.hasOwnProperty(a)?a:i});return{mouse:r,touch:t,pointer:n}})(),$2={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},q2=!1;function FE(r){var t=r.pointerType;return t==="pen"||t==="touch"}function Vet(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function zS(r){r&&(r.zrByTouch=!0)}function Get(r,t){return ea(r.dom,new Fet(r,t),!0)}function HB(r,t){for(var e=t,n=!1;e&&e.nodeType!==9&&!(n=e.domBelongToZr||e!==t&&e===r.painterRoot);)e=e.parentNode;return n}var Fet=(function(){function r(t,e){this.stopPropagation=Fr,this.stopImmediatePropagation=Fr,this.preventDefault=Fr,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return r})(),Aa={mousedown:function(r){r=ea(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=ea(this.dom,r);var t=this.__mayPointerCapture;t&&(r.zrX!==t[0]||r.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=ea(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=ea(this.dom,r);var t=r.toElement||r.relatedTarget;HB(this,t)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){q2=!0,r=ea(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){q2||(r=ea(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=ea(this.dom,r),zS(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),Aa.mousemove.call(this,r),Aa.mousedown.call(this,r)},touchmove:function(r){r=ea(this.dom,r),zS(r),this.handler.processGesture(r,"change"),Aa.mousemove.call(this,r)},touchend:function(r){r=ea(this.dom,r),zS(r),this.handler.processGesture(r,"end"),Aa.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<ket&&Aa.click.call(this,r)},pointerdown:function(r){Aa.mousedown.call(this,r)},pointermove:function(r){FE(r)||Aa.mousemove.call(this,r)},pointerup:function(r){Aa.mouseup.call(this,r)},pointerout:function(r){FE(r)||Aa.mouseout.call(this,r)}};j(["click","dblclick","contextmenu"],function(r){Aa[r]=function(t){t=ea(this.dom,t),this.trigger(r,t)}});var BE={pointermove:function(r){FE(r)||BE.mousemove.call(this,r)},pointerup:function(r){BE.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),t&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function Bet(r,t){var e=t.domHandlers;De.pointerEventsSupported?j(HS.pointer,function(n){Wm(t,n,function(i){e[n].call(r,i)})}):(De.touchEventsSupported&&j(HS.touch,function(n){Wm(t,n,function(i){e[n].call(r,i),Vet(t)})}),j(HS.mouse,function(n){Wm(t,n,function(i){i=aA(i),t.touching||e[n].call(r,i)})}))}function Het(r,t){De.pointerEventsSupported?j($2.pointer,e):De.touchEventsSupported||j($2.mouse,e);function e(n){function i(a){a=aA(a),HB(r,a.target)||(a=Get(r,a),t.domHandlers[n].call(r,a))}Wm(t,n,i,{capture:!0})}}function Wm(r,t,e,n){r.mounted[t]=e,r.listenerOpts[t]=n,AE(r.domTarget,t,e,n)}function US(r){var t=r.mounted;for(var e in t)t.hasOwnProperty(e)&&Ztt(r.domTarget,e,t[e],r.listenerOpts[e]);r.mounted={}}var X2=(function(){function r(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return r})(),zet=(function(r){dr(t,r);function t(e,n){var i=r.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=n,i._localHandlerScope=new X2(e,Aa),BS&&(i._globalHandlerScope=new X2(document,BE)),Bet(i,i._localHandlerScope),i}return t.prototype.dispose=function(){US(this._localHandlerScope),BS&&US(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,BS&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var n=this._globalHandlerScope;e?Het(this,n):US(n)}},t})(da),zB=1;De.hasGlobalWindow&&(zB=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var S0=zB,HE=.4,zE="#333",UE="#ccc",Uet="#eee",Z2=N_,K2=5e-5;function wu(r){return r>K2||r<-K2}var xu=[],wf=[],WS=wn(),jS=Math.abs,us=(function(){function r(){}return r.prototype.getLocalTransform=function(t){return r.getLocalTransform(this,t)},r.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},r.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},r.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},r.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},r.prototype.needLocalTransform=function(){return wu(this.rotation)||wu(this.x)||wu(this.y)||wu(this.scaleX-1)||wu(this.scaleY-1)||wu(this.skewX)||wu(this.skewY)},r.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;if(!(e||t)){n&&(Z2(n),this.invTransform=null);return}n=n||wn(),e?this.getLocalTransform(n):Z2(n),t&&(e?Do(n,t,n):R_(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},r.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(xu);var n=xu[0]<0?-1:1,i=xu[1]<0?-1:1,a=((xu[0]-n)*e+n)/xu[0]||0,o=((xu[1]-i)*e+i)/xu[1]||0;t[0]*=a,t[1]*=a,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||wn(),Va(this.invTransform,t)},r.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},r.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),a=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(a),e=Math.sqrt(e),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||wn(),Do(wf,t.invTransform,e),e=wf);var n=this.originX,i=this.originY;(n||i)&&(WS[4]=n,WS[5]=i,Do(wf,e,WS),wf[4]-=n,wf[5]-=i,e=wf),this.setLocalTransform(e)}},r.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},r.prototype.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&Br(n,n,i),n},r.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&Br(n,n,i),n},r.prototype.getLineScale=function(){var t=this.transform;return t&&jS(t[0]-1)>1e-10&&jS(t[3]-1)>1e-10?Math.sqrt(jS(t[0]*t[3]-t[2]*t[1])):1},r.prototype.copyTransform=function(t){w0(this,t)},r.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,i=t.originY||0,a=t.scaleX,o=t.scaleY,c=t.anchorX,h=t.anchorY,v=t.rotation||0,g=t.x,y=t.y,m=t.skewX?Math.tan(t.skewX):0,b=t.skewY?Math.tan(-t.skewY):0;if(n||i||c||h){var S=n+c,E=i+h;e[4]=-S*a-m*E*o,e[5]=-E*o-b*S*a}else e[4]=e[5]=0;return e[0]=a,e[3]=o,e[1]=b*a,e[2]=m*o,v&&kl(e,e,v),e[4]+=n+g,e[5]+=i+y,e},r.initDefaultProps=(function(){var t=r.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0})(),r})(),Po=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function w0(r,t){for(var e=0;e<Po.length;e++){var n=Po[e];r[n]=t[n]}}function Lo(r){My||(My=new mh(100)),r=r||ms;var t=My.get(r);return t||(t={font:r,strWidthCache:new mh(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:ka.measureText("",r).width,asciiCharWidth:ka.measureText("a",r).width},My.put(r,t)),t}var My;function Wet(r){if(!(YS>=J2)){r=r||ms;for(var t=[],e=+new Date,n=0;n<=127;n++)t[n]=ka.measureText(String.fromCharCode(n),r).width;var i=+new Date-e;return i>16?YS=J2:i>2&&YS++,t}}var YS=0,J2=5;function UB(r,t){return r.asciiWidthMapTried||(r.asciiWidthMap=Wet(r.font),r.asciiWidthMapTried=!0),0<=t&&t<=127?r.asciiWidthMap!=null?r.asciiWidthMap[t]:r.asciiCharWidth:r.stWideCharWidth}function No(r,t){var e=r.strWidthCache,n=e.get(t);return n==null&&(n=ka.measureText(t,r.font).width,e.put(t,n)),n}function Q2(r,t,e,n){var i=No(Lo(t),r),a=Ov(t),o=_h(0,i,e),c=fc(0,a,n),h=new ue(o,c,i,a);return h}function O_(r,t,e,n){var i=((r||"")+"").split(`
`),a=i.length;if(a===1)return Q2(i[0],t,e,n);for(var o=new ue(0,0,0,0),c=0;c<i.length;c++){var h=Q2(i[c],t,e,n);c===0?o.copy(h):o.union(h)}return o}function _h(r,t,e,n){return e==="right"?n?r+=t:r-=t:e==="center"&&(n?r+=t/2:r-=t/2),r}function fc(r,t,e,n){return e==="middle"?n?r+=t/2:r-=t/2:e==="bottom"&&(n?r+=t:r-=t),r}function Ov(r){return Lo(r).stWideCharWidth}function Ga(r,t){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*t:parseFloat(r):r}function x0(r,t,e){var n=t.position||"inside",i=t.distance!=null?t.distance:5,a=e.height,o=e.width,c=a/2,h=e.x,v=e.y,g="left",y="top";if(n instanceof Array)h+=Ga(n[0],e.width),v+=Ga(n[1],e.height),g=null,y=null;else switch(n){case"left":h-=i,v+=c,g="right",y="middle";break;case"right":h+=i+o,v+=c,y="middle";break;case"top":h+=o/2,v-=i,g="center",y="bottom";break;case"bottom":h+=o/2,v+=a+i,g="center";break;case"inside":h+=o/2,v+=c,g="center",y="middle";break;case"insideLeft":h+=i,v+=c,y="middle";break;case"insideRight":h+=o-i,v+=c,g="right",y="middle";break;case"insideTop":h+=o/2,v+=i,g="center";break;case"insideBottom":h+=o/2,v+=a-i,g="center",y="bottom";break;case"insideTopLeft":h+=i,v+=i;break;case"insideTopRight":h+=o-i,v+=i,g="right";break;case"insideBottomLeft":h+=i,v+=a-i,y="bottom";break;case"insideBottomRight":h+=o-i,v+=a-i,g="right",y="bottom";break}return r=r||{},r.x=h,r.y=v,r.align=g,r.verticalAlign=y,r}var $S="__zr_normal__",qS=Po.concat(["ignore"]),jet=Io(Po,function(r,t){return r[t]=!0,r},{ignore:!1}),xf={},Yet=new ue(0,0,0,0),Ly=[],P_=(function(){function r(t){this.id=gB(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return r.prototype._init=function(t){this.attr(t)},r.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=e.innerTransformable,o=void 0,c=void 0,h=!1;a.parent=i?this:null;var v=!1;a.copyTransform(e);var g=n.position!=null,y=n.autoOverflowArea,m=void 0;if((y||g)&&(m=Yet,n.layoutRect?m.copy(n.layoutRect):m.copy(this.getBoundingRect()),i||m.applyTransform(this.transform)),g){this.calculateTextPosition?this.calculateTextPosition(xf,n,m):x0(xf,n,m),a.x=xf.x,a.y=xf.y,o=xf.align,c=xf.verticalAlign;var b=n.origin;if(b&&n.rotation!=null){var S=void 0,E=void 0;b==="center"?(S=m.width*.5,E=m.height*.5):(S=Ga(b[0],m.width),E=Ga(b[1],m.height)),v=!0,a.originX=-a.x+S+(i?0:m.x),a.originY=-a.y+E+(i?0:m.y)}}n.rotation!=null&&(a.rotation=n.rotation);var C=n.offset;C&&(a.x+=C[0],a.y+=C[1],v||(a.originX=-C[0],a.originY=-C[1]));var A=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(y){var D=A.overflowRect=A.overflowRect||new ue(0,0,0,0);a.getLocalTransform(Ly),Va(Ly,Ly),ue.copy(D,m),D.applyTransform(Ly)}else A.overflowRect=null;var L=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,R=void 0,O=void 0,P=void 0;L&&this.canBeInsideText()?(R=n.insideFill,O=n.insideStroke,(R==null||R==="auto")&&(R=this.getInsideTextFill()),(O==null||O==="auto")&&(O=this.getInsideTextStroke(R),P=!0)):(R=n.outsideFill,O=n.outsideStroke,(R==null||R==="auto")&&(R=this.getOutsideFill()),(O==null||O==="auto")&&(O=this.getOutsideStroke(R),P=!0)),R=R||"#000",(R!==A.fill||O!==A.stroke||P!==A.autoStroke||o!==A.align||c!==A.verticalAlign)&&(h=!0,A.fill=R,A.stroke=O,A.autoStroke=P,A.align=o,A.verticalAlign=c,e.setDefaultTextStyle(A)),e.__dirty|=Vi,h&&e.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(t){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?UE:zE},r.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n=typeof e=="string"&&Ei(e);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(a?0:255)*(1-i);return n[3]=1,Mo(n,"rgba")},r.prototype.traverse=function(t,e){},r.prototype.attrKV=function(t,e){t==="textConfig"?this.setTextConfig(e):t==="textContent"?this.setTextContent(e):t==="clipPath"?this.setClipPath(e):t==="extra"?(this.extra=this.extra||{},Mt(this.extra,e)):this[t]=e},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(t,e){if(typeof t=="string")this.attrKV(t,e);else if(le(t))for(var n=t,i=Le(n),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,t[o])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==$S)){var o=i.targetName,c=o?e[o]:e;i.saveTo(c)}}},r.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,qS)},r.prototype._savePrimaryToNormal=function(t,e,n){for(var i=0;i<n.length;i++){var a=n[i];t[a]!=null&&!(a in e)&&(e[a]=this[a])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(t){return this.states[t]},r.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},r.prototype.clearStates=function(t){this.useState($S,!1,t)},r.prototype.useState=function(t,e,n,i){var a=t===$S,o=this.hasState();if(!(!o&&a)){var c=this.currentStates,h=this.stateTransition;if(!(ge(c,t)>=0&&(e||c.length===1))){var v;if(this.stateProxy&&!a&&(v=this.stateProxy(t)),v||(v=this.states&&this.states[t]),!v&&!a){eA("State "+t+" not exists.");return}a||this.saveCurrentToNormalState(v);var g=!!(v&&v.hoverLayer||i);g&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,v,this._normalState,e,!n&&!this.__inHover&&h&&h.duration>0,h);var y=this._textContent,m=this._textGuide;return y&&y.useState(t,e,n,g),m&&m.useState(t,e,n,g),a?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Vi),v}}},r.prototype.useStates=function(t,e,n){if(!t.length)this.clearStates();else{var i=[],a=this.currentStates,o=t.length,c=o===a.length;if(c){for(var h=0;h<o;h++)if(t[h]!==a[h]){c=!1;break}}if(c)return;for(var h=0;h<o;h++){var v=t[h],g=void 0;this.stateProxy&&(g=this.stateProxy(v,t)),g||(g=this.states[v]),g&&i.push(g)}var y=i[o-1],m=!!(y&&y.hoverLayer||n);m&&this._toggleHoverLayerFlag(!0);var b=this._mergeStates(i),S=this.stateTransition;this.saveCurrentToNormalState(b),this._applyStateObj(t.join(","),b,this._normalState,!1,!e&&!this.__inHover&&S&&S.duration>0,S);var E=this._textContent,C=this._textGuide;E&&E.useStates(t,e,m),C&&C.useStates(t,e,m),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!m&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Vi)}},r.prototype.isSilent=function(){for(var t=this;t;){if(t.silent)return!0;var e=t.__hostTarget;t=e?t.ignoreHostSilent?null:e:t.parent}return!1},r.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},r.prototype.removeState=function(t){var e=ge(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},r.prototype.replaceState=function(t,e,n){var i=this.currentStates.slice(),a=ge(i,t),o=ge(i,e)>=0;a>=0?o?i.splice(a,1):i[a]=e:n&&!o&&i.push(e),this.useStates(i)},r.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},r.prototype._mergeStates=function(t){for(var e={},n,i=0;i<t.length;i++){var a=t[i];Mt(e,a),a.textConfig&&(n=n||{},Mt(n,a.textConfig))}return n&&(e.textConfig=n),e},r.prototype._applyStateObj=function(t,e,n,i,a,o){var c=!(e&&i);e&&e.textConfig?(this.textConfig=Mt({},i?this.textConfig:n.textConfig),Mt(this.textConfig,e.textConfig)):c&&n.textConfig&&(this.textConfig=n.textConfig);for(var h={},v=!1,g=0;g<qS.length;g++){var y=qS[g],m=a&&jet[y];e&&e[y]!=null?m?(v=!0,h[y]=e[y]):this[y]=e[y]:c&&n[y]!=null&&(m?(v=!0,h[y]=n[y]):this[y]=n[y])}if(!a)for(var g=0;g<this.animators.length;g++){var b=this.animators[g],S=b.targetName;b.getLoop()||b.__changeFinalValue(S?(e||n)[S]:e||n)}v&&this._transitionState(t,h,o)},r.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},r.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},r.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new us,this._attachComponent(t),this._textContent=t,this.markRedraw())},r.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Mt(this.textConfig,t),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=Vi;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},r.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},r.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},r.prototype.animate=function(t,e,n){var i=t?this[t]:this,a=new uA(i,e,n);return t&&(a.targetName=t),this.addAnimator(a,t),a},r.prototype.addAnimator=function(t,e){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(e)}).done(function(){var a=i.animators,o=ge(a,t);o>=0&&a.splice(o,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},r.prototype.updateDuringAnimation=function(t){this.markRedraw()},r.prototype.stopAnimation=function(t,e){for(var n=this.animators,i=n.length,a=[],o=0;o<i;o++){var c=n[o];!t||t===c.scope?c.stop(e):a.push(c)}return this.animators=a,this},r.prototype.animateTo=function(t,e,n){XS(this,t,e,n)},r.prototype.animateFrom=function(t,e,n){XS(this,t,e,n,!0)},r.prototype._transitionState=function(t,e,n,i){for(var a=XS(this,e,n,i),o=0;o<a.length;o++)a[o].__fromStateTransition=t},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=(function(){var t=r.prototype;t.type="element",t.name="",t.ignore=t.silent=t.ignoreHostSilent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Vi;function e(n,i,a,o){Object.defineProperty(t,n,{get:function(){if(!this[i]){var h=this[i]=[];c(this,h)}return this[i]},set:function(h){this[a]=h[0],this[o]=h[1],this[i]=h,c(this,h)}});function c(h,v){Object.defineProperty(v,0,{get:function(){return h[a]},set:function(g){h[a]=g}}),Object.defineProperty(v,1,{get:function(){return h[o]},set:function(g){h[o]=g}})}}Object.defineProperty&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))})(),r})();Jr(P_,da);Jr(P_,us);function XS(r,t,e,n,i){e=e||{};var a=[];WB(r,"",r,t,e,n,a,i);var o=a.length,c=!1,h=e.done,v=e.aborted,g=function(){c=!0,o--,o<=0&&(c?h&&h():v&&v())},y=function(){o--,o<=0&&(c?h&&h():v&&v())};o||h&&h(),a.length>0&&e.during&&a[0].during(function(S,E){e.during(E)});for(var m=0;m<a.length;m++){var b=a[m];g&&b.done(g),y&&b.aborted(y),e.force&&b.duration(e.duration),b.start(e.easing)}return a}function ZS(r,t,e){for(var n=0;n<e;n++)r[n]=t[n]}function $et(r){return $n(r[0])}function qet(r,t,e){if($n(t[e]))if($n(r[e])||(r[e]=[]),Ti(t[e])){var n=t[e].length;r[e].length!==n&&(r[e]=new t[e].constructor(n),ZS(r[e],t[e],n))}else{var i=t[e],a=r[e],o=i.length;if($et(i))for(var c=i[0].length,h=0;h<o;h++)a[h]?ZS(a[h],i[h],c):a[h]=Array.prototype.slice.call(i[h]);else ZS(a,i,o);a.length=i.length}else r[e]=t[e]}function Xet(r,t){return r===t||$n(r)&&$n(t)&&Zet(r,t)}function Zet(r,t){var e=r.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}function WB(r,t,e,n,i,a,o,c){for(var h=Le(n),v=i.duration,g=i.delay,y=i.additive,m=i.setToFinal,b=!le(a),S=r.animators,E=[],C=0;C<h.length;C++){var A=h[C],D=n[A];if(D!=null&&e[A]!=null&&(b||a[A]))if(le(D)&&!$n(D)&&!D_(D)){if(t){c||(e[A]=D,r.updateDuringAnimation(t));continue}WB(r,A,e[A],D,i,a&&a[A],o,c)}else E.push(A);else c||(e[A]=D,r.updateDuringAnimation(t),E.push(A))}var L=E.length;if(!y&&L)for(var R=0;R<S.length;R++){var O=S[R];if(O.targetName===t){var P=O.stopTracks(E);if(P){var V=ge(S,O);S.splice(V,1)}}}if(i.force||(E=Ye(E,function(W){return!Xet(n[W],e[W])}),L=E.length),L>0||i.force&&!o.length){var k=void 0,F=void 0,H=void 0;if(c){F={},m&&(k={});for(var R=0;R<L;R++){var A=E[R];F[A]=e[A],m?k[A]=n[A]:e[A]=n[A]}}else if(m){H={};for(var R=0;R<L;R++){var A=E[R];H[A]=Hd(e[A]),qet(e,n,A)}}var O=new uA(e,!1,!1,y?Ye(S,function(q){return q.targetName===t}):null);O.targetName=t,i.scope&&(O.scope=i.scope),m&&k&&O.whenWithKeys(0,k,E),H&&O.whenWithKeys(0,H,E),O.whenWithKeys(v??500,c?F:n,E).delay(g||0),r.addAnimator(O,t),o.push(O)}}var ne=(function(r){dr(t,r);function t(e){var n=r.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===e)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,n){if(e&&e!==this&&e.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,n){var i=ge(this._children,e);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(e,n){var i=this._children,a=i[n];if(e&&e!==this&&e.parent!==this&&e!==a){i[n]=e,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var n=this.__zr;n&&n!==e.__zr&&e.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(e){var n=this.__zr,i=this._children,a=ge(i,e);return a<0?this:(i.splice(a,1),e.parent=null,n&&e.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var e=this._children,n=this.__zr,i=0;i<e.length;i++){var a=e[i];n&&a.removeSelfFromZr(n),a.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,n){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];e.call(n,o,a)}return this},t.prototype.traverse=function(e,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=e.call(n,a);a.isGroup&&!o&&a.traverse(e,n)}return this},t.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(e)}},t.prototype.getBoundingRect=function(e){for(var n=new ue(0,0,0,0),i=e||this._children,a=[],o=null,c=0;c<i.length;c++){var h=i[c];if(!(h.ignore||h.invisible)){var v=h.getBoundingRect(),g=h.getLocalTransform(a);g?(ue.applyTransform(n,v,g),o=o||n.clone(),o.union(n)):(o=o||v.clone(),o.union(v))}}return o||n},t})(P_);ne.prototype.type="group";var jm={},jB={};function Ket(r){delete jB[r]}function Jet(r){if(!r)return!1;if(typeof r=="string")return _0(r,1)<HE;if(r.colorStops){for(var t=r.colorStops,e=0,n=t.length,i=0;i<n;i++)e+=_0(t[i].color,1);return e/=n,e<HE}return!1}var Qet=(function(){function r(t,e,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var a=new het,o=n.renderer||"canvas";jm[o]||(o=Le(jm)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var c=new jm[o](e,a,n,t),h=n.ssr||c.ssrOnly;this.storage=a,this.painter=c;var v=!De.node&&!De.worker&&!h?new zet(c.getViewportRoot(),c.root):null,g=n.useCoarsePointer,y=g==null||g==="auto"?De.touchEventsSupported:!!g,m=44,b;y&&(b=te(n.pointerSize,m)),this.handler=new xB(a,c,v,c.root,b),this.animation=new Pet({stage:{update:h?null:function(){return i._flush(!0)}}}),h||this.animation.start()}return r.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},r.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(t,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh())},r.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=Jet(t))},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(t){this._darkMode=t},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},r.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},r.prototype.flush=function(){this._disposed||this._flush(!1)},r.prototype._flush=function(t){var e,n=th();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=th();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},r.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},r.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},r.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},r.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},r.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},r.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},r.prototype.findHover=function(t,e){if(!this._disposed)return this.handler.findHover(t,e)},r.prototype.on=function(t,e,n){return this._disposed||this.handler.on(t,e,n),this},r.prototype.off=function(t,e){this._disposed||this.handler.off(t,e)},r.prototype.trigger=function(t,e){this._disposed||this.handler.trigger(t,e)},r.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof ne&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},r.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,Ket(this.id))},r})();function tO(r,t){var e=new Qet(gB(),r,t);return jB[e.id]=e,e}function trt(r,t){jm[r]=t}var WE;function ert(r){if(typeof WE=="function")return WE(r)}function rrt(r){WE=r}var eO=1e-4,YB=20;function nrt(r){return r.replace(/^\s+|\s+$/g,"")}var zi=Math.min,Gr=Math.max,So=Math.abs;function je(r,t,e,n){var i=t[0],a=t[1],o=e[0],c=e[1],h=a-i,v=c-o;if(h===0)return v===0?o:(o+c)/2;if(n)if(h>0){if(r<=i)return o;if(r>=a)return c}else{if(r>=i)return o;if(r<=a)return c}else{if(r===i)return o;if(r===a)return c}return(r-i)/h*v+o}var Yt=irt;function irt(r,t,e){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return E0(r,t,e)}function E0(r,t,e){return $t(r)?nrt(r).match(/%$/)?parseFloat(r)/100*t+(e||0):parseFloat(r):r==null?NaN:+r}function Yr(r,t,e){return t==null&&(t=10),t=Math.min(Math.max(0,t),YB),r=(+r).toFixed(t),e?r:+r}function ca(r){return r.sort(function(t,e){return t-e}),r}function wo(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(r*t)/t===r)return e}return art(r)}function art(r){var t=r.toString().toLowerCase(),e=t.indexOf("e"),n=e>0?+t.slice(e+1):0,i=e>0?e:t.length,a=t.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-n)}function $B(r,t){var e=Math.log,n=Math.LN10,i=Math.floor(e(r[1]-r[0])/n),a=Math.round(e(So(t[1]-t[0]))/n),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function ort(r,t){var e=Io(r,function(b,S){return b+(isNaN(S)?0:S)},0);if(e===0)return[];for(var n=Math.pow(10,t),i=Pt(r,function(b){return(isNaN(b)?0:b)/e*n*100}),a=n*100,o=Pt(i,function(b){return Math.floor(b)}),c=Io(o,function(b,S){return b+S},0),h=Pt(i,function(b,S){return b-o[S]});c<a;){for(var v=Number.NEGATIVE_INFINITY,g=null,y=0,m=h.length;y<m;++y)h[y]>v&&(v=h[y],g=y);++o[g],h[g]=0,++c}return Pt(o,function(b){return b/n})}function srt(r,t){var e=Math.max(wo(r),wo(t)),n=r+t;return e>YB?n:Yr(n,e)}var rO=9007199254740991;function qB(r){var t=Math.PI*2;return(r%t+t)%t}function ov(r){return r>-eO&&r<eO}var lrt=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Rc(r){if(r instanceof Date)return r;if($t(r)){var t=lrt.exec(r);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function urt(r){return Math.pow(10,cA(r))}function cA(r){if(r===0)return 0;var t=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,t)>=10&&t++,t}function XB(r,t){var e=cA(r),n=Math.pow(10,e),i=r/n,a;return i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10,r=a*n,e>=-20?+r.toFixed(e<0?-e:0):r}function KS(r,t){var e=(r.length-1)*t+1,n=Math.floor(e),i=+r[n-1],a=e-n;return a?i+a*(r[n]-i):i}function nO(r){r.sort(function(h,v){return c(h,v,0)?-1:1});for(var t=-1/0,e=1,n=0;n<r.length;){for(var i=r[n].interval,a=r[n].close,o=0;o<2;o++)i[o]<=t&&(i[o]=t,a[o]=o?1:1-e),t=i[o],e=a[o];i[0]===i[1]&&a[0]*a[1]!==1?r.splice(n,1):n++}return r;function c(h,v,g){return h.interval[g]<v.interval[g]||h.interval[g]===v.interval[g]&&(h.close[g]-v.close[g]===(g?-1:1)||!g&&c(h,v,1))}}function bs(r){var t=parseFloat(r);return t==r&&(t!==0||!$t(r)||r.indexOf("x")<=0)?t:NaN}function ZB(r){return!isNaN(bs(r))}function KB(){return Math.round(Math.random()*9)}function JB(r,t){return t===0?r:JB(t,r%t)}function iO(r,t){return r==null?t:t==null?r:r*t/JB(r,t)}var crt="[ECharts] ",frt=typeof console<"u"&&console.warn&&console.log;function hrt(r,t,e){frt&&console[r](crt+t)}function QB(r,t){hrt("error",r)}function Ue(r){throw new Error(r)}function aO(r,t,e){return(t-r)*e+r}var tH="series\0",eH="\0_ec_\0";function tr(r){return r instanceof Array?r:r==null?[]:[r]}function bc(r,t,e){if(r){r[t]=r[t]||{},r.emphasis=r.emphasis||{},r.emphasis[t]=r.emphasis[t]||{};for(var n=0,i=e.length;n<i;n++){var a=e[n];!r.emphasis[t].hasOwnProperty(a)&&r[t].hasOwnProperty(a)&&(r.emphasis[t][a]=r[t][a])}}}var oO=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Ph(r){return le(r)&&!Rt(r)&&!(r instanceof Date)?r.value:r}function prt(r){return le(r)&&!(r instanceof Array)}function rH(r,t,e){var n=e==="normalMerge",i=e==="replaceMerge",a=e==="replaceAll";r=r||[],t=(t||[]).slice();var o=Qt();j(t,function(h,v){if(!le(h)){t[v]=null;return}});var c=drt(r,o,e);return(n||i)&&vrt(c,r,o,t),n&&grt(c,t),n||i?yrt(c,t,i):a&&mrt(c,t),_rt(c),c}function drt(r,t,e){var n=[];if(e==="replaceAll")return n;for(var i=0;i<r.length;i++){var a=r[i];a&&a.id!=null&&t.set(a.id,i),n.push({existing:e==="replaceMerge"||sv(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function vrt(r,t,e,n){j(n,function(i,a){if(!(!i||i.id==null)){var o=zd(i.id),c=e.get(o);if(c!=null){var h=r[c];qn(!h.newOption,'Duplicated option on id "'+o+'".'),h.newOption=i,h.existing=t[c],n[a]=null}}})}function grt(r,t){j(t,function(e,n){if(!(!e||e.name==null))for(var i=0;i<r.length;i++){var a=r[i].existing;if(!r[i].newOption&&a&&(a.id==null||e.id==null)&&!sv(e)&&!sv(a)&&nH("name",a,e)){r[i].newOption=e,t[n]=null;return}}})}function yrt(r,t,e){j(t,function(n){if(n){for(var i,a=0;(i=r[a])&&(i.newOption||sv(i.existing)||i.existing&&n.id!=null&&!nH("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=e):r.push({newOption:n,brandNew:e,existing:null,keyInfo:null}),a++}})}function mrt(r,t){j(t,function(e){r.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function _rt(r){var t=Qt();j(r,function(e){var n=e.existing;n&&t.set(n.id,e)}),j(r,function(e){var n=e.newOption;qn(!n||n.id==null||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})}),j(r,function(e,n){var i=e.existing,a=e.newOption,o=e.keyInfo;if(le(a)){if(o.name=a.name!=null?zd(a.name):i?i.name:tH+n,i)o.id=zd(i.id);else if(a.id!=null)o.id=zd(a.id);else{var c=0;do o.id="\0"+o.name+"\0"+c++;while(t.get(o.id))}t.set(o.id,e)}})}function nH(r,t,e){var n=nn(t[r],null),i=nn(e[r],null);return n!=null&&i!=null&&n===i}function zd(r){return nn(r,"")}function nn(r,t){return r==null?t:$t(r)?r:Ie(r)||_E(r)?r+"":t}function fA(r){var t=r.name;return!!(t&&t.indexOf(tH))}function sv(r){return r&&r.id!=null&&zd(r.id).indexOf(eH)===0}function brt(r){return eH+r}function Srt(r,t,e){j(r,function(n){var i=n.newOption;le(i)&&(n.keyInfo.mainType=t,n.keyInfo.subType=wrt(t,i,n.existing,e))})}function wrt(r,t,e,n){var i=t.type?t.type:e?e.subType:n.determineSubType(r,t);return i}function xrt(r,t){var e={},n={};return i(r||[],e),i(t||[],n,e),[a(e),a(n)];function i(o,c,h){for(var v=0,g=o.length;v<g;v++){var y=nn(o[v].seriesId,null);if(y==null)return;for(var m=tr(o[v].dataIndex),b=h&&h[y],S=0,E=m.length;S<E;S++){var C=m[S];b&&b[C]?b[C]=null:(c[y]||(c[y]={}))[C]=1}}}function a(o,c){var h=[];for(var v in o)if(o.hasOwnProperty(v)&&o[v]!=null)if(c)h.push(+v);else{var g=a(o[v],!0);g.length&&h.push({seriesId:v,dataIndex:g})}return h}}function Sc(r,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Rt(t.dataIndex)?Pt(t.dataIndex,function(e){return r.indexOfRawIndex(e)}):r.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Rt(t.name)?Pt(t.name,function(e){return r.indexOfName(e)}):r.indexOfName(t.name)}function Ee(){var r="__ec_inner_"+Ert++;return function(t){return t[r]||(t[r]={})}}var Ert=KB();function fh(r,t,e){var n=hA(t,e),i=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,c=o,h=e?e.defaultMainType:null;return!i&&h&&a.set(h,{}),a.each(function(v,g){var y=kh(r,g,v,{useDefault:h===g,enableAll:e&&e.enableAll!=null?e.enableAll:!0,enableNone:e&&e.enableNone!=null?e.enableNone:!0});c[g+"Models"]=y.models,c[g+"Model"]=y.models[0]}),c}function hA(r,t){var e;if($t(r)){var n={};n[r+"Index"]=0,e=n}else e=r;var i=Qt(),a={},o=!1;return j(e,function(c,h){if(h==="dataIndex"||h==="dataIndexInside"){a[h]=c;return}var v=h.match(/^(\w+)(Index|Id|Name)$/)||[],g=v[1],y=(v[2]||"").toLowerCase();if(!(!g||!y||t&&t.includeMainTypes&&ge(t.includeMainTypes,g)<0)){o=o||!!g;var m=i.get(g)||i.set(g,{});m[y]=c}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var Ar={useDefault:!0,enableAll:!1,enableNone:!1},Trt={useDefault:!1,enableAll:!0,enableNone:!0};function kh(r,t,e,n){n=n||Ar;var i=e.index,a=e.id,o=e.name,c={models:null,specified:i!=null||a!=null||o!=null};if(!c.specified){var h=void 0;return c.models=n.useDefault&&(h=r.getComponent(t))?[h]:[],c}if(i==="none"||i===!1){if(n.enableNone)return c.models=[],c;i=-1}return i==="all"&&(n.enableAll?i=a=o=null:i=-1),c.models=r.queryComponents({mainType:t,index:i,id:a,name:o}),c}function iH(r,t,e){r.setAttribute?r.setAttribute(t,e):r[t]=e}function Crt(r,t){return r.getAttribute?r.getAttribute(t):r[t]}function Art(r){return r==="auto"?De.domSupported?"html":"richText":r||"html"}function jE(r,t){var e=Qt(),n=[];return j(r,function(i){var a=t(i);(e.get(a)||(n.push(a),e.set(a,[]))).push(i)}),{keys:n,buckets:e}}function aH(r,t,e,n,i){var a=t==null||t==="auto";if(n==null)return n;if(Ie(n)){var o=aO(e||0,n,i);return Yr(o,a?Math.max(wo(e||0),wo(n)):t)}else{if($t(n))return i<1?e:n;for(var c=[],h=e,v=n,g=Math.max(h?h.length:0,v.length),y=0;y<g;++y){var m=r.getDimensionInfo(y);if(m&&m.type==="ordinal")c[y]=(i<1&&h?h:v)[y];else{var b=h&&h[y]?h[y]:0,S=v[y],o=aO(b,S,i);c[y]=Yr(o,a?Math.max(wo(b),wo(S)):t)}}return c}}var xl=(function(){function r(){}return r.prototype.reset=function(t,e,n,i){return this._list=t,this._step=i=i||1,this._idx=e,this._end=n??(i>0?t.length:0),this.item=null,this.key=NaN,this},r.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},r})();function JS(r){r.option=r.parentModel=r.ecModel=null}var Drt=".",Eu="___EC__COMPONENT__CONTAINER___",oH="___EC__EXTENDED_CLASS___";function xo(r){var t={main:"",sub:""};if(r){var e=r.split(Drt);t.main=e[0]||"",t.sub=e[1]||""}return t}function Mrt(r){qn(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function Lrt(r){return!!(r&&r[oH])}function pA(r,t){r.$constructor=r,r.extend=function(e){var n=this,i;return Nrt(n)?i=(function(a){bt(o,a);function o(){return a.apply(this,arguments)||this}return o})(n):(i=function(){(e.$constructor||n).apply(this,arguments)},Ltt(i,this)),Mt(i.prototype,e),i[oH]=!0,i.extend=this.extend,i.superCall=Ort,i.superApply=Prt,i.superClass=n,i}}function Nrt(r){return re(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function sH(r,t){r.extend=t.extend}var Rrt=Math.round(Math.random()*10);function Irt(r){var t=["__\0is_clz",Rrt++].join("_");r.prototype[t]=!0,r.isInstance=function(e){return!!(e&&e[t])}}function Ort(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return this.superClass.prototype[t].apply(r,e)}function Prt(r,t,e){return this.superClass.prototype[t].apply(r,e)}function k_(r){var t={};r.registerClass=function(n){var i=n.type||n.prototype.type;if(i){Mrt(i),n.prototype.type=i;var a=xo(i);if(!a.sub)t[a.main]=n;else if(a.sub!==Eu){var o=e(a);o[a.sub]=n}}return n},r.getClass=function(n,i,a){var o=t[n];if(o&&o[Eu]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return o},r.getClassesByMainType=function(n){var i=xo(n),a=[],o=t[i.main];return o&&o[Eu]?j(o,function(c,h){h!==Eu&&a.push(c)}):a.push(o),a},r.hasClass=function(n){var i=xo(n);return!!t[i.main]},r.getAllClassMainTypes=function(){var n=[];return j(t,function(i,a){n.push(a)}),n},r.hasSubTypes=function(n){var i=xo(n),a=t[i.main];return a&&a[Eu]};function e(n){var i=t[n.main];return(!i||!i[Eu])&&(i=t[n.main]={},i[Eu]=!0),i}}function wc(r,t){for(var e=0;e<r.length;e++)r[e][1]||(r[e][1]=r[e][0]);return t=t||!1,function(n,i,a){for(var o={},c=0;c<r.length;c++){var h=r[c][1];if(!(i&&ge(i,h)>=0||a&&ge(a,h)<0)){var v=n.getShallow(h,t);v!=null&&(o[r[c][0]]=v)}}return o}}var krt=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Vrt=wc(krt),Grt=(function(){function r(){}return r.prototype.getAreaStyle=function(t,e){return Vrt(this,t,e)},r})(),YE=new mh(50);function Frt(r){if(typeof r=="string"){var t=YE.get(r);return t&&t.image}else return r}function dA(r,t,e,n,i){if(r)if(typeof r=="string"){if(t&&t.__zrImageSrc===r||!e)return t;var a=YE.get(r),o={hostEl:e,cb:n,cbPayload:i};return a?(t=a.image,!V_(t)&&a.pending.push(o)):(t=ka.loadImage(r,sO,sO),t.__zrImageSrc=r,YE.put(r,t.__cachedImgObj={image:t,pending:[o]})),t}else return r;else return t}function sO(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<r.pending.length;t++){var e=r.pending[t],n=e.cb;n&&n(this,e.cbPayload),e.hostEl.dirty()}r.pending.length=0}function V_(r){return r&&r.width&&r.height}var QS=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Brt(r,t,e,n,i,a){if(!e){r.text="",r.isTruncated=!1;return}var o=(t+"").split(`
`);a=lH(e,n,i,a);for(var c=!1,h={},v=0,g=o.length;v<g;v++)uH(h,o[v],a),o[v]=h.textLine,c=c||h.isTruncated;r.text=o.join(`
`),r.isTruncated=c}function lH(r,t,e,n){n=n||{};var i=Mt({},n);e=te(e,"..."),i.maxIterations=te(n.maxIterations,2);var a=i.minChar=te(n.minChar,0),o=i.fontMeasureInfo=Lo(t),c=o.asciiCharWidth;i.placeholder=te(n.placeholder,"");for(var h=r=Math.max(0,r-1),v=0;v<a&&h>=c;v++)h-=c;var g=No(o,e);return g>h&&(e="",g=0),h=r-g,i.ellipsis=e,i.ellipsisWidth=g,i.contentWidth=h,i.containerWidth=r,i}function uH(r,t,e){var n=e.containerWidth,i=e.contentWidth,a=e.fontMeasureInfo;if(!n){r.textLine="",r.isTruncated=!1;return}var o=No(a,t);if(o<=n){r.textLine=t,r.isTruncated=!1;return}for(var c=0;;c++){if(o<=i||c>=e.maxIterations){t+=e.ellipsis;break}var h=c===0?Hrt(t,i,a):o>0?Math.floor(t.length*i/o):0;t=t.substr(0,h),o=No(a,t)}t===""&&(t=e.placeholder),r.textLine=t,r.isTruncated=!0}function Hrt(r,t,e){for(var n=0,i=0,a=r.length;i<a&&n<t;i++)n+=UB(e,r.charCodeAt(i));return i}function zrt(r,t,e,n){var i=vA(r),a=t.overflow,o=t.padding,c=o?o[1]+o[3]:0,h=o?o[0]+o[2]:0,v=t.font,g=a==="truncate",y=Ov(v),m=te(t.lineHeight,y),b=t.lineOverflow==="truncate",S=!1,E=t.width;E==null&&e!=null&&(E=e-c);var C=t.height;C==null&&n!=null&&(C=n-h);var A;E!=null&&(a==="break"||a==="breakAll")?A=i?cH(i,t.font,E,a==="breakAll",0).lines:[]:A=i?i.split(`
`):[];var D=A.length*m;if(C==null&&(C=D),D>C&&b){var L=Math.floor(C/m);S=S||A.length>L,A=A.slice(0,L),D=A.length*m}if(i&&g&&E!=null)for(var R=lH(E,v,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),O={},P=0;P<A.length;P++)uH(O,A[P],R),A[P]=O.textLine,S=S||O.isTruncated;for(var V=C,k=0,F=Lo(v),P=0;P<A.length;P++)k=Math.max(No(F,A[P]),k);E==null&&(E=k);var H=E;return V+=h,H+=c,{lines:A,height:C,outerWidth:H,outerHeight:V,lineHeight:m,calculatedLineHeight:y,contentWidth:k,contentHeight:D,width:E,isTruncated:S}}var Urt=(function(){function r(){}return r})(),lO=(function(){function r(t){this.tokens=[],t&&(this.tokens=t)}return r})(),Wrt=(function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return r})();function jrt(r,t,e,n,i){var a=new Wrt,o=vA(r);if(!o)return a;var c=t.padding,h=c?c[1]+c[3]:0,v=c?c[0]+c[2]:0,g=t.width;g==null&&e!=null&&(g=e-h);var y=t.height;y==null&&n!=null&&(y=n-v);for(var m=t.overflow,b=(m==="break"||m==="breakAll")&&g!=null?{width:g,accumWidth:0,breakAll:m==="breakAll"}:null,S=QS.lastIndex=0,E;(E=QS.exec(o))!=null;){var C=E.index;C>S&&tw(a,o.substring(S,C),t,b),tw(a,E[2],t,b,E[1]),S=QS.lastIndex}S<o.length&&tw(a,o.substring(S,o.length),t,b);var A=[],D=0,L=0,R=m==="truncate",O=t.lineOverflow==="truncate",P={};function V(Vt,Kt,Bt){Vt.width=Kt,Vt.lineHeight=Bt,D+=Bt,L=Math.max(L,Kt)}t:for(var k=0;k<a.lines.length;k++){for(var F=a.lines[k],H=0,W=0,q=0;q<F.tokens.length;q++){var Y=F.tokens[q],K=Y.styleName&&t.rich[Y.styleName]||{},X=Y.textPadding=K.padding,J=X?X[1]+X[3]:0,it=Y.font=K.font||t.font;Y.contentHeight=Ov(it);var rt=te(K.height,Y.contentHeight);if(Y.innerHeight=rt,X&&(rt+=X[0]+X[2]),Y.height=rt,Y.lineHeight=Hi(K.lineHeight,t.lineHeight,rt),Y.align=K&&K.align||i,Y.verticalAlign=K&&K.verticalAlign||"middle",O&&y!=null&&D+Y.lineHeight>y){var st=a.lines.length;q>0?(F.tokens=F.tokens.slice(0,q),V(F,W,H),a.lines=a.lines.slice(0,k+1)):a.lines=a.lines.slice(0,k),a.isTruncated=a.isTruncated||a.lines.length<st;break t}var lt=K.width,dt=lt==null||lt==="auto";if(typeof lt=="string"&&lt.charAt(lt.length-1)==="%")Y.percentWidth=lt,A.push(Y),Y.contentWidth=No(Lo(it),Y.text);else{if(dt){var pt=K.backgroundColor,Tt=pt&&pt.image;Tt&&(Tt=Frt(Tt),V_(Tt)&&(Y.width=Math.max(Y.width,Tt.width*rt/Tt.height)))}var Ft=R&&g!=null?g-W:null;Ft!=null&&Ft<Y.width?!dt||Ft<J?(Y.text="",Y.width=Y.contentWidth=0):(Brt(P,Y.text,Ft-J,it,t.ellipsis,{minChar:t.truncateMinChar}),Y.text=P.text,a.isTruncated=a.isTruncated||P.isTruncated,Y.width=Y.contentWidth=No(Lo(it),Y.text)):Y.contentWidth=No(Lo(it),Y.text)}Y.width+=J,W+=Y.width,K&&(H=Math.max(H,Y.lineHeight))}V(F,W,H)}a.outerWidth=a.width=te(g,L),a.outerHeight=a.height=te(y,D),a.contentHeight=D,a.contentWidth=L,a.outerWidth+=h,a.outerHeight+=v;for(var k=0;k<A.length;k++){var Y=A[k],zt=Y.percentWidth;Y.width=parseInt(zt,10)/100*a.width}return a}function tw(r,t,e,n,i){var a=t==="",o=i&&e.rich[i]||{},c=r.lines,h=o.font||e.font,v=!1,g,y;if(n){var m=o.padding,b=m?m[1]+m[3]:0;if(o.width!=null&&o.width!=="auto"){var S=Ga(o.width,n.width)+b;c.length>0&&S+n.accumWidth>n.width&&(g=t.split(`
`),v=!0),n.accumWidth=S}else{var E=cH(t,h,n.width,n.breakAll,n.accumWidth);n.accumWidth=E.accumWidth+b,y=E.linesWidths,g=E.lines}}g||(g=t.split(`
`));for(var C=Lo(h),A=0;A<g.length;A++){var D=g[A],L=new Urt;if(L.styleName=i,L.text=D,L.isLineHolder=!D&&!a,typeof o.width=="number"?L.width=o.width:L.width=y?y[A]:No(C,D),!A&&!v){var R=(c[c.length-1]||(c[0]=new lO)).tokens,O=R.length;O===1&&R[0].isLineHolder?R[0]=L:(D||!O||a)&&R.push(L)}else c.push(new lO([L]))}}function Yrt(r){var t=r.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var $rt=Io(",&?/;] ".split(""),function(r,t){return r[t]=!0,r},{});function qrt(r){return Yrt(r)?!!$rt[r]:!0}function cH(r,t,e,n,i){for(var a=[],o=[],c="",h="",v=0,g=0,y=Lo(t),m=0;m<r.length;m++){var b=r.charAt(m);if(b===`
`){h&&(c+=h,g+=v),a.push(c),o.push(g),c="",h="",v=0,g=0;continue}var S=UB(y,b.charCodeAt(0)),E=n?!1:!qrt(b);if(a.length?g+S>e:i+g+S>e){g?(c||h)&&(E?(c||(c=h,h="",v=0,g=v),a.push(c),o.push(g-v),h+=b,v+=S,c="",g=v):(h&&(c+=h,h="",v=0),a.push(c),o.push(g),c=b,g=S)):E?(a.push(h),o.push(v),h=b,v=S):(a.push(b),o.push(S));continue}g+=S,E?(h+=b,v+=S):(h&&(c+=h,h="",v=0),c+=b)}return h&&(c+=h),c&&(a.push(c),o.push(g)),a.length===1&&(g+=i),{accumWidth:g,lines:a,linesWidths:o}}function uO(r,t,e,n,i,a){if(r.baseX=e,r.baseY=n,r.outerWidth=r.outerHeight=null,!!t){var o=t.width*2,c=t.height*2;ue.set(cO,_h(e,o,i),fc(n,c,a),o,c),ue.intersect(t,cO,null,fO);var h=fO.outIntersectRect;r.outerWidth=h.width,r.outerHeight=h.height,r.baseX=_h(h.x,h.width,i,!0),r.baseY=fc(h.y,h.height,a,!0)}}var cO=new ue(0,0,0,0),fO={outIntersectRect:{},clamp:!0};function vA(r){return r!=null?r+="":r=""}function Xrt(r){var t=vA(r.text),e=r.font,n=No(Lo(e),t),i=Ov(e);return $E(r,n,i,null)}function $E(r,t,e,n){var i=new ue(_h(r.x||0,t,r.textAlign),fc(r.y||0,e,r.textBaseline),t,e),a=n??(fH(r)?r.lineWidth:0);return a>0&&(i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a),i}function fH(r){var t=r.stroke;return t!=null&&t!=="none"&&r.lineWidth>0}var qE="__zr_style_"+Math.round(Math.random()*10),hc={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},G_={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};hc[qE]=!0;var hO=["z","z2","invisible"],Zrt=["invisible"],ha=(function(r){dr(t,r);function t(e){return r.call(this,e)||this}return t.prototype._init=function(e){for(var n=Le(e),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(e[a]):r.prototype.attrKV.call(this,a,e[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,n,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Krt(this,e,n)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths&&this.__clipPaths.length){for(var c=0;c<this.__clipPaths.length;++c)if(this.__clipPaths[c].isZeroArea())return!1}if(a&&this.parent)for(var h=this.parent;h;){if(h.ignore)return!1;h=h.parent}return!0},t.prototype.contain=function(e,n){return this.rectContain(e,n)},t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.rectContain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,c=a.shadowOffsetX||0,h=a.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new ue(0,0,0,0)),n?ue.applyTransform(e,i,n):e.copy(i),(o||c||h)&&(e.width+=o*2+Math.abs(c),e.height+=o*2+Math.abs(h),e.x=Math.min(e.x,e.x+c-o),e.y=Math.min(e.y,e.y+h-o));var v=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-v),e.y=Math.floor(e.y-v),e.width=Math.ceil(e.width+1+v*2),e.height=Math.ceil(e.height+1+v*2))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new ue(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,n){e!=="style"?r.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,n){return typeof e=="string"?this.style[e]=n:Mt(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=md,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&md)},t.prototype.styleUpdated=function(){this.__dirty&=~md},t.prototype.createStyle=function(e){return L_(hc,e)},t.prototype.useStyle=function(e){e[qE]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[qE]},t.prototype._innerSaveToNormal=function(e){r.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,hO)},t.prototype._applyStateObj=function(e,n,i,a,o,c){r.prototype._applyStateObj.call(this,e,n,i,a,o,c);var h=!(n&&a),v;if(n&&n.style?o?a?v=n.style:(v=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(v,n.style)):(v=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(v,n.style)):h&&(v=i.style),v)if(o){var g=this.style;if(this.style=this.createStyle(h?{}:g),h)for(var y=Le(g),m=0;m<y.length;m++){var b=y[m];b in v&&(v[b]=v[b],this.style[b]=g[b])}for(var S=Le(v),m=0;m<S.length;m++){var b=S[m];this.style[b]=this.style[b]}this._transitionState(e,{style:v},c,this.getAnimationStyleProps())}else this.useStyle(v);for(var E=this.__inHover?Zrt:hO,m=0;m<E.length;m++){var b=E[m];n&&n[b]!=null?this[b]=n[b]:h&&i[b]!=null&&(this[b]=i[b])}},t.prototype._mergeStates=function(e){for(var n=r.prototype._mergeStates.call(this,e),i,a=0;a<e.length;a++){var o=e[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(e,n){return Mt(e,n),e},t.prototype.getAnimationStyleProps=function(){return G_},t.initDefaultProps=(function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=Vi|md})(),t})(P_),ew=new ue(0,0,0,0),rw=new ue(0,0,0,0);function Krt(r,t,e){return ew.copy(r.getBoundingRect()),r.transform&&ew.applyTransform(r.transform),rw.width=t,rw.height=e,!ew.intersect(rw)}var Si=Math.min,wi=Math.max,nw=Math.sin,iw=Math.cos,Tu=Math.PI*2,Ny=Nc(),Ry=Nc(),Iy=Nc();function F_(r,t,e){if(r.length!==0){for(var n=r[0],i=n[0],a=n[0],o=n[1],c=n[1],h=1;h<r.length;h++)n=r[h],i=Si(i,n[0]),a=wi(a,n[0]),o=Si(o,n[1]),c=wi(c,n[1]);t[0]=i,t[1]=o,e[0]=a,e[1]=c}}function pO(r,t,e,n,i,a){i[0]=Si(r,e),i[1]=Si(t,n),a[0]=wi(r,e),a[1]=wi(t,n)}var dO=[],vO=[];function Jrt(r,t,e,n,i,a,o,c,h,v){var g=DB,y=cn,m=g(r,e,i,o,dO);h[0]=1/0,h[1]=1/0,v[0]=-1/0,v[1]=-1/0;for(var b=0;b<m;b++){var S=y(r,e,i,o,dO[b]);h[0]=Si(S,h[0]),v[0]=wi(S,v[0])}m=g(t,n,a,c,vO);for(var b=0;b<m;b++){var E=y(t,n,a,c,vO[b]);h[1]=Si(E,h[1]),v[1]=wi(E,v[1])}h[0]=Si(r,h[0]),v[0]=wi(r,v[0]),h[0]=Si(o,h[0]),v[0]=wi(o,v[0]),h[1]=Si(t,h[1]),v[1]=wi(t,v[1]),h[1]=Si(c,h[1]),v[1]=wi(c,v[1])}function Qrt(r,t,e,n,i,a,o,c){var h=LB,v=Sn,g=wi(Si(h(r,e,i),1),0),y=wi(Si(h(t,n,a),1),0),m=v(r,e,i,g),b=v(t,n,a,y);o[0]=Si(r,i,m),o[1]=Si(t,a,b),c[0]=wi(r,i,m),c[1]=wi(t,a,b)}function tnt(r,t,e,n,i,a,o,c,h){var v=fl,g=hl,y=Math.abs(i-a);if(y%Tu<1e-4&&y>1e-4){c[0]=r-e,c[1]=t-n,h[0]=r+e,h[1]=t+n;return}if(Ny[0]=iw(i)*e+r,Ny[1]=nw(i)*n+t,Ry[0]=iw(a)*e+r,Ry[1]=nw(a)*n+t,v(c,Ny,Ry),g(h,Ny,Ry),i=i%Tu,i<0&&(i=i+Tu),a=a%Tu,a<0&&(a=a+Tu),i>a&&!o?a+=Tu:i<a&&o&&(i+=Tu),o){var m=a;a=i,i=m}for(var b=0;b<a;b+=Math.PI/2)b>i&&(Iy[0]=iw(b)*e+r,Iy[1]=nw(b)*n+t,v(c,Iy,c),g(h,Iy,h))}var nr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Cu=[],Au=[],io=[],qs=[],ao=[],oo=[],aw=Math.min,ow=Math.max,Du=Math.cos,Mu=Math.sin,Jo=Math.abs,XE=Math.PI,nl=XE*2,sw=typeof Float32Array<"u",Hp=[];function lw(r){var t=Math.round(r/XE*1e8)/1e8;return t%2*XE}function B_(r,t){var e=lw(r[0]);e<0&&(e+=nl);var n=e-r[0],i=r[1];i+=n,!t&&i-e>=nl?i=e+nl:t&&e-i>=nl?i=e-nl:!t&&e>i?i=e+(nl-lw(e-i)):t&&e<i&&(i=e-(nl-lw(i-e))),r[0]=e,r[1]=i}var ko=(function(){function r(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(t,e,n){n=n||0,n>0&&(this._ux=Jo(n/S0/t)||0,this._uy=Jo(n/S0/e)||0)},r.prototype.setDPR=function(t){this.dpr=t},r.prototype.setContext=function(t){this._ctx=t},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(nr.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},r.prototype.lineTo=function(t,e){var n=Jo(t-this._xi),i=Jo(e-this._yi),a=n>this._ux||i>this._uy;if(this.addData(nr.L,t,e),this._ctx&&a&&this._ctx.lineTo(t,e),a)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},r.prototype.bezierCurveTo=function(t,e,n,i,a,o){return this._drawPendingPt(),this.addData(nr.C,t,e,n,i,a,o),this._ctx&&this._ctx.bezierCurveTo(t,e,n,i,a,o),this._xi=a,this._yi=o,this},r.prototype.quadraticCurveTo=function(t,e,n,i){return this._drawPendingPt(),this.addData(nr.Q,t,e,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,i),this._xi=n,this._yi=i,this},r.prototype.arc=function(t,e,n,i,a,o){this._drawPendingPt(),Hp[0]=i,Hp[1]=a,B_(Hp,o),i=Hp[0],a=Hp[1];var c=a-i;return this.addData(nr.A,t,e,n,n,i,c,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,a,o),this._xi=Du(a)*n+t,this._yi=Mu(a)*n+e,this},r.prototype.arcTo=function(t,e,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,i,a),this},r.prototype.rect=function(t,e,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,i),this.addData(nr.R,t,e,n,i),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(nr.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},r.prototype.fill=function(t){t&&t.fill(),this.toStatic()},r.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(t){if(this._saveData){var e=t.length;!(this.data&&this.data.length===e)&&sw&&(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e}},r.prototype.appendPath=function(t){if(this._saveData){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,a=0;a<e;a++)n+=t[a].len();var o=this.data;if(sw&&(o instanceof Float32Array||!o)&&(this.data=new Float32Array(i+n),i>0&&o))for(var c=0;c<i;c++)this.data[c]=o[c];for(var a=0;a<e;a++)for(var h=t[a].data,c=0;c<h.length;c++)this.data[i++]=h[c];this._len=i}},r.prototype.addData=function(t,e,n,i,a,o,c,h,v){if(this._saveData){var g=this.data;this._len+arguments.length>g.length&&(this._expandData(),g=this.data);for(var y=0;y<arguments.length;y++)g[this._len++]=arguments[y]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,sw&&this._len>11&&(this.data=new Float32Array(t)))}},r.prototype.getBoundingRect=function(){io[0]=io[1]=ao[0]=ao[1]=Number.MAX_VALUE,qs[0]=qs[1]=oo[0]=oo[1]=-Number.MAX_VALUE;var t=this.data,e=0,n=0,i=0,a=0,o;for(o=0;o<this._len;){var c=t[o++],h=o===1;switch(h&&(e=t[o],n=t[o+1],i=e,a=n),c){case nr.M:e=i=t[o++],n=a=t[o++],ao[0]=i,ao[1]=a,oo[0]=i,oo[1]=a;break;case nr.L:pO(e,n,t[o],t[o+1],ao,oo),e=t[o++],n=t[o++];break;case nr.C:Jrt(e,n,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],ao,oo),e=t[o++],n=t[o++];break;case nr.Q:Qrt(e,n,t[o++],t[o++],t[o],t[o+1],ao,oo),e=t[o++],n=t[o++];break;case nr.A:var v=t[o++],g=t[o++],y=t[o++],m=t[o++],b=t[o++],S=t[o++]+b;o+=1;var E=!t[o++];h&&(i=Du(b)*y+v,a=Mu(b)*m+g),tnt(v,g,y,m,b,S,E,ao,oo),e=Du(S)*y+v,n=Mu(S)*m+g;break;case nr.R:i=e=t[o++],a=n=t[o++];var C=t[o++],A=t[o++];pO(i,a,i+C,a+A,ao,oo);break;case nr.Z:e=i,n=a;break}fl(io,io,ao),hl(qs,qs,oo)}return o===0&&(io[0]=io[1]=qs[0]=qs[1]=0),new ue(io[0],io[1],qs[0]-io[0],qs[1]-io[1])},r.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,i=this._uy,a=0,o=0,c=0,h=0;this._pathSegLen||(this._pathSegLen=[]);for(var v=this._pathSegLen,g=0,y=0,m=0;m<e;){var b=t[m++],S=m===1;S&&(a=t[m],o=t[m+1],c=a,h=o);var E=-1;switch(b){case nr.M:a=c=t[m++],o=h=t[m++];break;case nr.L:{var C=t[m++],A=t[m++],D=C-a,L=A-o;(Jo(D)>n||Jo(L)>i||m===e-1)&&(E=Math.sqrt(D*D+L*L),a=C,o=A);break}case nr.C:{var R=t[m++],O=t[m++],C=t[m++],A=t[m++],P=t[m++],V=t[m++];E=pet(a,o,R,O,C,A,P,V,10),a=P,o=V;break}case nr.Q:{var R=t[m++],O=t[m++],C=t[m++],A=t[m++];E=vet(a,o,R,O,C,A,10),a=C,o=A;break}case nr.A:var k=t[m++],F=t[m++],H=t[m++],W=t[m++],q=t[m++],Y=t[m++],K=Y+q;m+=1,S&&(c=Du(q)*H+k,h=Mu(q)*W+F),E=ow(H,W)*aw(nl,Math.abs(Y)),a=Du(K)*H+k,o=Mu(K)*W+F;break;case nr.R:{c=a=t[m++],h=o=t[m++];var X=t[m++],J=t[m++];E=X*2+J*2;break}case nr.Z:{var D=c-a,L=h-o;E=Math.sqrt(D*D+L*L),a=c,o=h;break}}E>=0&&(v[y++]=E,g+=E)}return this._pathLen=g,g},r.prototype.rebuildPath=function(t,e){var n=this.data,i=this._ux,a=this._uy,o=this._len,c,h,v,g,y,m,b=e<1,S,E,C=0,A=0,D,L=0,R,O;if(!(b&&(this._pathSegLen||this._calculateLength(),S=this._pathSegLen,E=this._pathLen,D=e*E,!D)))t:for(var P=0;P<o;){var V=n[P++],k=P===1;switch(k&&(v=n[P],g=n[P+1],c=v,h=g),V!==nr.L&&L>0&&(t.lineTo(R,O),L=0),V){case nr.M:c=v=n[P++],h=g=n[P++],t.moveTo(v,g);break;case nr.L:{y=n[P++],m=n[P++];var F=Jo(y-v),H=Jo(m-g);if(F>i||H>a){if(b){var W=S[A++];if(C+W>D){var q=(D-C)/W;t.lineTo(v*(1-q)+y*q,g*(1-q)+m*q);break t}C+=W}t.lineTo(y,m),v=y,g=m,L=0}else{var Y=F*F+H*H;Y>L&&(R=y,O=m,L=Y)}break}case nr.C:{var K=n[P++],X=n[P++],J=n[P++],it=n[P++],rt=n[P++],st=n[P++];if(b){var W=S[A++];if(C+W>D){var q=(D-C)/W;Dl(v,K,J,rt,q,Cu),Dl(g,X,it,st,q,Au),t.bezierCurveTo(Cu[1],Au[1],Cu[2],Au[2],Cu[3],Au[3]);break t}C+=W}t.bezierCurveTo(K,X,J,it,rt,st),v=rt,g=st;break}case nr.Q:{var K=n[P++],X=n[P++],J=n[P++],it=n[P++];if(b){var W=S[A++];if(C+W>D){var q=(D-C)/W;nv(v,K,J,q,Cu),nv(g,X,it,q,Au),t.quadraticCurveTo(Cu[1],Au[1],Cu[2],Au[2]);break t}C+=W}t.quadraticCurveTo(K,X,J,it),v=J,g=it;break}case nr.A:var lt=n[P++],dt=n[P++],pt=n[P++],Tt=n[P++],Ft=n[P++],zt=n[P++],Vt=n[P++],Kt=!n[P++],Bt=pt>Tt?pt:Tt,gt=Jo(pt-Tt)>.001,Ct=Ft+zt,wt=!1;if(b){var W=S[A++];C+W>D&&(Ct=Ft+zt*(D-C)/W,wt=!0),C+=W}if(gt&&t.ellipse?t.ellipse(lt,dt,pt,Tt,Vt,Ft,Ct,Kt):t.arc(lt,dt,Bt,Ft,Ct,Kt),wt)break t;k&&(c=Du(Ft)*pt+lt,h=Mu(Ft)*Tt+dt),v=Du(Ct)*pt+lt,g=Mu(Ct)*Tt+dt;break;case nr.R:c=v=n[P],h=g=n[P+1],y=n[P++],m=n[P++];var Z=n[P++],at=n[P++];if(b){var W=S[A++];if(C+W>D){var ut=D-C;t.moveTo(y,m),t.lineTo(y+aw(ut,Z),m),ut-=Z,ut>0&&t.lineTo(y+Z,m+aw(ut,at)),ut-=at,ut>0&&t.lineTo(y+ow(Z-ut,0),m+at),ut-=Z,ut>0&&t.lineTo(y,m+ow(at-ut,0));break t}C+=W}t.rect(y,m,Z,at);break;case nr.Z:if(b){var W=S[A++];if(C+W>D){var q=(D-C)/W;t.lineTo(v*(1-q)+c*q,g*(1-q)+h*q);break t}C+=W}t.closePath(),v=c,g=h}}},r.prototype.clone=function(){var t=new r,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},r.prototype.canSave=function(){return!!this._saveData},r.CMD=nr,r.initDefaultProps=(function(){var t=r.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0})(),r})();function sl(r,t,e,n,i,a,o){if(i===0)return!1;var c=i,h=0,v=r;if(o>t+c&&o>n+c||o<t-c&&o<n-c||a>r+c&&a>e+c||a<r-c&&a<e-c)return!1;if(r!==e)h=(t-n)/(r-e),v=(r*n-e*t)/(r-e);else return Math.abs(a-r)<=c/2;var g=h*a-o+v,y=g*g/(h*h+1);return y<=c/2*c/2}function ent(r,t,e,n,i,a,o,c,h,v,g){if(h===0)return!1;var y=h;if(g>t+y&&g>n+y&&g>a+y&&g>c+y||g<t-y&&g<n-y&&g<a-y&&g<c-y||v>r+y&&v>e+y&&v>i+y&&v>o+y||v<r-y&&v<e-y&&v<i-y&&v<o-y)return!1;var m=MB(r,t,e,n,i,a,o,c,v,g,null);return m<=y/2}function hH(r,t,e,n,i,a,o,c,h){if(o===0)return!1;var v=o;if(h>t+v&&h>n+v&&h>a+v||h<t-v&&h<n-v&&h<a-v||c>r+v&&c>e+v&&c>i+v||c<r-v&&c<e-v&&c<i-v)return!1;var g=NB(r,t,e,n,i,a,c,h,null);return g<=v/2}var gO=Math.PI*2;function Fi(r){return r%=gO,r<0&&(r+=gO),r}var zp=Math.PI*2;function rnt(r,t,e,n,i,a,o,c,h){if(o===0)return!1;var v=o;c-=r,h-=t;var g=Math.sqrt(c*c+h*h);if(g-v>e||g+v<e)return!1;if(Math.abs(n-i)%zp<1e-4)return!0;if(a){var y=n;n=Fi(i),i=Fi(y)}else n=Fi(n),i=Fi(i);n>i&&(i+=zp);var m=Math.atan2(h,c);return m<0&&(m+=zp),m>=n&&m<=i||m+zp>=n&&m+zp<=i}function as(r,t,e,n,i,a){if(a>t&&a>n||a<t&&a<n||n===t)return 0;var o=(a-t)/(n-t),c=n<t?1:-1;(o===1||o===0)&&(c=n<t?.5:-.5);var h=o*(e-r)+r;return h===i?1/0:h>i?c:0}var Xs=ko.CMD,Lu=Math.PI*2,nnt=1e-4;function int(r,t){return Math.abs(r-t)<nnt}var ai=[-1,-1,-1],na=[-1,-1];function ant(){var r=na[0];na[0]=na[1],na[1]=r}function ont(r,t,e,n,i,a,o,c,h,v){if(v>t&&v>n&&v>a&&v>c||v<t&&v<n&&v<a&&v<c)return 0;var g=y0(t,n,a,c,v,ai);if(g===0)return 0;for(var y=0,m=-1,b=void 0,S=void 0,E=0;E<g;E++){var C=ai[E],A=C===0||C===1?.5:1,D=cn(r,e,i,o,C);D<h||(m<0&&(m=DB(t,n,a,c,na),na[1]<na[0]&&m>1&&ant(),b=cn(t,n,a,c,na[0]),m>1&&(S=cn(t,n,a,c,na[1]))),m===2?C<na[0]?y+=b<t?A:-A:C<na[1]?y+=S<b?A:-A:y+=c<S?A:-A:C<na[0]?y+=b<t?A:-A:y+=c<b?A:-A)}return y}function snt(r,t,e,n,i,a,o,c){if(c>t&&c>n&&c>a||c<t&&c<n&&c<a)return 0;var h=det(t,n,a,c,ai);if(h===0)return 0;var v=LB(t,n,a);if(v>=0&&v<=1){for(var g=0,y=Sn(t,n,a,v),m=0;m<h;m++){var b=ai[m]===0||ai[m]===1?.5:1,S=Sn(r,e,i,ai[m]);S<o||(ai[m]<v?g+=y<t?b:-b:g+=a<y?b:-b)}return g}else{var b=ai[0]===0||ai[0]===1?.5:1,S=Sn(r,e,i,ai[0]);return S<o?0:a<t?b:-b}}function lnt(r,t,e,n,i,a,o,c){if(c-=t,c>e||c<-e)return 0;var h=Math.sqrt(e*e-c*c);ai[0]=-h,ai[1]=h;var v=Math.abs(n-i);if(v<1e-4)return 0;if(v>=Lu-1e-4){n=0,i=Lu;var g=a?1:-1;return o>=ai[0]+r&&o<=ai[1]+r?g:0}if(n>i){var y=n;n=i,i=y}n<0&&(n+=Lu,i+=Lu);for(var m=0,b=0;b<2;b++){var S=ai[b];if(S+r>o){var E=Math.atan2(c,S),g=a?1:-1;E<0&&(E=Lu+E),(E>=n&&E<=i||E+Lu>=n&&E+Lu<=i)&&(E>Math.PI/2&&E<Math.PI*1.5&&(g=-g),m+=g)}}return m}function pH(r,t,e,n,i){for(var a=r.data,o=r.len(),c=0,h=0,v=0,g=0,y=0,m,b,S=0;S<o;){var E=a[S++],C=S===1;switch(E===Xs.M&&S>1&&(e||(c+=as(h,v,g,y,n,i))),C&&(h=a[S],v=a[S+1],g=h,y=v),E){case Xs.M:g=a[S++],y=a[S++],h=g,v=y;break;case Xs.L:if(e){if(sl(h,v,a[S],a[S+1],t,n,i))return!0}else c+=as(h,v,a[S],a[S+1],n,i)||0;h=a[S++],v=a[S++];break;case Xs.C:if(e){if(ent(h,v,a[S++],a[S++],a[S++],a[S++],a[S],a[S+1],t,n,i))return!0}else c+=ont(h,v,a[S++],a[S++],a[S++],a[S++],a[S],a[S+1],n,i)||0;h=a[S++],v=a[S++];break;case Xs.Q:if(e){if(hH(h,v,a[S++],a[S++],a[S],a[S+1],t,n,i))return!0}else c+=snt(h,v,a[S++],a[S++],a[S],a[S+1],n,i)||0;h=a[S++],v=a[S++];break;case Xs.A:var A=a[S++],D=a[S++],L=a[S++],R=a[S++],O=a[S++],P=a[S++];S+=1;var V=!!(1-a[S++]);m=Math.cos(O)*L+A,b=Math.sin(O)*R+D,C?(g=m,y=b):c+=as(h,v,m,b,n,i);var k=(n-A)*R/L+A;if(e){if(rnt(A,D,R,O,O+P,V,t,k,i))return!0}else c+=lnt(A,D,R,O,O+P,V,k,i);h=Math.cos(O+P)*L+A,v=Math.sin(O+P)*R+D;break;case Xs.R:g=h=a[S++],y=v=a[S++];var F=a[S++],H=a[S++];if(m=g+F,b=y+H,e){if(sl(g,y,m,y,t,n,i)||sl(m,y,m,b,t,n,i)||sl(m,b,g,b,t,n,i)||sl(g,b,g,y,t,n,i))return!0}else c+=as(m,y,m,b,n,i),c+=as(g,b,g,y,n,i);break;case Xs.Z:if(e){if(sl(h,v,g,y,t,n,i))return!0}else c+=as(h,v,g,y,n,i);h=g,v=y;break}}return!e&&!int(v,y)&&(c+=as(h,v,g,y,n,i)||0),c!==0}function unt(r,t,e){return pH(r,0,!1,t,e)}function cnt(r,t,e,n){return pH(r,t,!0,e,n)}var T0=se({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},hc),fnt={style:se({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},G_.style)},uw=Po.concat(["invisible","culling","z","z2","zlevel","parent"]),Te=(function(r){dr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.update=function(){var e=this;r.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(h){e.buildPath(h,e.shape)}),i.silent=!0;var a=i.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var c=0;c<uw.length;++c)i[uw[c]]=this[uw[c]];i.__dirty|=Vi}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var n=Le(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var o=n[a],c=e[o];o==="style"?this.style?Mt(this.style,c):this.useStyle(c):o==="shape"?Mt(this.shape,c):r.prototype.attrKV.call(this,o,c)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if($t(e)){var n=_0(e,0);return n>.5?zE:n>.2?Uet:UE}else if(e)return UE}return zE},t.prototype.getInsideTextStroke=function(e){var n=this.style.fill;if($t(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=_0(e,0)<HE;if(a===o)return n}},t.prototype.buildPath=function(e,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=~Xf},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new ko(!1)},t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return!(n==null||n==="none"||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var e=this._rect,n=this.style,i=!e;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&Xf)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),e=o.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var c=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||i){c.copy(e);var h=n.strokeNoScale?this.getLineScale():1,v=n.lineWidth;if(!this.hasFill()){var g=this.strokeContainThreshold;v=Math.max(v,g??4)}h>1e-10&&(c.width+=v/h,c.height+=v/h,c.x-=v/h/2,c.y-=v/h/2)}return c}return e},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect(),o=this.style;if(e=i[0],n=i[1],a.contain(e,n)){var c=this.path;if(this.hasStroke()){var h=o.lineWidth,v=o.strokeNoScale?this.getLineScale():1;if(v>1e-10&&(this.hasFill()||(h=Math.max(h,this.strokeContainThreshold)),cnt(c,h/v,e,n)))return!0}if(this.hasFill())return unt(c,e,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Xf,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,n){e==="shape"?this.setShape(n):r.prototype.attrKV.call(this,e,n)},t.prototype.setShape=function(e,n){var i=this.shape;return i||(i=this.shape={}),typeof e=="string"?i[e]=n:Mt(i,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Xf)},t.prototype.createStyle=function(e){return L_(T0,e)},t.prototype._innerSaveToNormal=function(e){r.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=Mt({},this.shape))},t.prototype._applyStateObj=function(e,n,i,a,o,c){r.prototype._applyStateObj.call(this,e,n,i,a,o,c);var h=!(n&&a),v;if(n&&n.shape?o?a?v=n.shape:(v=Mt({},i.shape),Mt(v,n.shape)):(v=Mt({},a?this.shape:i.shape),Mt(v,n.shape)):h&&(v=i.shape),v)if(o){this.shape=Mt({},this.shape);for(var g={},y=Le(v),m=0;m<y.length;m++){var b=y[m];typeof v[b]=="object"?this.shape[b]=v[b]:g[b]=v[b]}this._transitionState(e,{shape:g},c)}else this.shape=v,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var n=r.prototype._mergeStates.call(this,e),i,a=0;a<e.length;a++){var o=e[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return fnt},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=(function(a){dr(o,a);function o(c){var h=a.call(this,c)||this;return e.init&&e.init.call(h,c),h}return o.prototype.getDefaultStyle=function(){return ie(e.style)},o.prototype.getDefaultShape=function(){return ie(e.shape)},o})(t);for(var i in e)typeof e[i]=="function"&&(n.prototype[i]=e[i]);return n},t.initDefaultProps=(function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=Vi|md|Xf})(),t})(ha),hnt=se({strokeFirst:!0,font:ms,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},T0),bh=(function(r){dr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.hasStroke=function(){return fH(this.style)},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(e){return L_(hnt,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){return this._rect||(this._rect=Xrt(this.style)),this._rect},t.initDefaultProps=(function(){var e=t.prototype;e.dirtyRectTolerance=10})(),t})(ha);bh.prototype.type="tspan";var pnt=se({x:0,y:0},hc),dnt={style:se({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},G_.style)};function vnt(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var En=(function(r){dr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createStyle=function(e){return L_(pnt,e)},t.prototype._getSize=function(e){var n=this.style,i=n[e];if(i!=null)return i;var a=vnt(n.image)?n.image:this.__image;if(!a)return 0;var o=e==="width"?"height":"width",c=n[o];return c==null?a[e]:a[e]/a[o]*c},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return dnt},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new ue(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t})(ha);En.prototype.type="image";function gnt(r,t){var e=t.x,n=t.y,i=t.width,a=t.height,o=t.r,c,h,v,g;i<0&&(e=e+i,i=-i),a<0&&(n=n+a,a=-a),typeof o=="number"?c=h=v=g=o:o instanceof Array?o.length===1?c=h=v=g=o[0]:o.length===2?(c=v=o[0],h=g=o[1]):o.length===3?(c=o[0],h=g=o[1],v=o[2]):(c=o[0],h=o[1],v=o[2],g=o[3]):c=h=v=g=0;var y;c+h>i&&(y=c+h,c*=i/y,h*=i/y),v+g>i&&(y=v+g,v*=i/y,g*=i/y),h+v>a&&(y=h+v,h*=a/y,v*=a/y),c+g>a&&(y=c+g,c*=a/y,g*=a/y),r.moveTo(e+c,n),r.lineTo(e+i-h,n),h!==0&&r.arc(e+i-h,n+h,h,-Math.PI/2,0),r.lineTo(e+i,n+a-v),v!==0&&r.arc(e+i-v,n+a-v,v,0,Math.PI/2),r.lineTo(e+g,n+a),g!==0&&r.arc(e+g,n+a-g,g,Math.PI/2,Math.PI),r.lineTo(e,n+c),c!==0&&r.arc(e+c,n+c,c,Math.PI,Math.PI*1.5)}var eh=Math.round;function H_(r,t,e){if(t){var n=t.x1,i=t.x2,a=t.y1,o=t.y2;r.x1=n,r.x2=i,r.y1=a,r.y2=o;var c=e&&e.lineWidth;return c&&(eh(n*2)===eh(i*2)&&(r.x1=r.x2=Bi(n,c,!0)),eh(a*2)===eh(o*2)&&(r.y1=r.y2=Bi(a,c,!0))),r}}function dH(r,t,e){if(t){var n=t.x,i=t.y,a=t.width,o=t.height;r.x=n,r.y=i,r.width=a,r.height=o;var c=e&&e.lineWidth;return c&&(r.x=Bi(n,c,!0),r.y=Bi(i,c,!0),r.width=Math.max(Bi(n+a,c,!1)-r.x,a===0?0:1),r.height=Math.max(Bi(i+o,c,!1)-r.y,o===0?0:1)),r}}function Bi(r,t,e){if(!t)return r;var n=eh(r*2);return(n+eh(t))%2===0?n/2:(n+(e?1:-1))/2}var ynt=(function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r})(),mnt={},xe=(function(r){dr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new ynt},t.prototype.buildPath=function(e,n){var i,a,o,c;if(this.subPixelOptimize){var h=dH(mnt,n,this.style);i=h.x,a=h.y,o=h.width,c=h.height,h.r=n.r,n=h}else i=n.x,a=n.y,o=n.width,c=n.height;n.r?gnt(e,n):e.rect(i,a,o,c)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t})(Te);xe.prototype.type="rect";var yO={fill:"#000"},mO=2,so={},_nt={style:se({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},G_.style)},ke=(function(r){dr(t,r);function t(e){var n=r.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=yO,n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):r.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):r.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,wnt(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},t.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new ue(0,0,0,0),n=this._children,i=[],a=null,o=0;o<n.length;o++){var c=n[o],h=c.getBoundingRect(),v=c.getLocalTransform(i);v?(e.copy(h),e.applyTransform(v),a=a||e.clone(),a.union(e)):(a=a||h.clone(),a.union(h))}this._rect=a||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||yO},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,n){if(!n)return e;var i=n.rich,a=e.rich||i&&{};return Mt(e,n),i&&a?(this._mergeRich(a,i),e.rich=a):a&&(e.rich=a),e},t.prototype._mergeRich=function(e,n){for(var i=Le(n),a=0;a<i.length;a++){var o=i[a];e[o]=e[o]||{},Mt(e[o],n[o])}},t.prototype.getAnimationStyleProps=function(){return _nt},t.prototype._getOrCreateChild=function(e){var n=this._children[this._childCursor];return(!n||!(n instanceof e))&&(n=new e),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var e=this.style,n=e.font||ms,i=e.padding,a=this._defaultStyle,o=e.x||0,c=e.y||0,h=e.align||a.align||"left",v=e.verticalAlign||a.verticalAlign||"top";uO(so,a.overflowRect,o,c,h,v),o=so.baseX,c=so.baseY;var g=TO(e),y=zrt(g,e,so.outerWidth,so.outerHeight),m=cw(e),b=!!e.backgroundColor,S=y.outerHeight,E=y.outerWidth,C=y.lines,A=y.lineHeight;this.isTruncated=!!y.isTruncated;var D=o,L=fc(c,y.contentHeight,v);if(m||i){var R=_h(o,E,h),O=fc(c,S,v);m&&this._renderBackground(e,e,R,O,E,S)}L+=A/2,i&&(D=EO(o,h,i),v==="top"?L+=i[0]:v==="bottom"&&(L-=i[2]));for(var P=0,V=!1,k=!1,F=xO("fill"in e?e.fill:(k=!0,a.fill)),H=wO("stroke"in e?e.stroke:!b&&(!a.autoStroke||k)?(P=mO,V=!0,a.stroke):null),W=e.textShadowBlur>0,q=0;q<C.length;q++){var Y=this._getOrCreateChild(bh),K=Y.createStyle();Y.useStyle(K),K.text=C[q],K.x=D,K.y=L,K.textAlign=h,K.textBaseline="middle",K.opacity=e.opacity,K.strokeFirst=!0,W&&(K.shadowBlur=e.textShadowBlur||0,K.shadowColor=e.textShadowColor||"transparent",K.shadowOffsetX=e.textShadowOffsetX||0,K.shadowOffsetY=e.textShadowOffsetY||0),K.stroke=H,K.fill=F,H&&(K.lineWidth=e.lineWidth||P,K.lineDash=e.lineDash,K.lineDashOffset=e.lineDashOffset||0),K.font=n,bO(K,e),L+=A,Y.setBoundingRect($E(K,y.contentWidth,y.calculatedLineHeight,V?0:null))}},t.prototype._updateRichTexts=function(){var e=this.style,n=this._defaultStyle,i=e.align||n.align,a=e.verticalAlign||n.verticalAlign,o=e.x||0,c=e.y||0;uO(so,n.overflowRect,o,c,i,a),o=so.baseX,c=so.baseY;var h=TO(e),v=jrt(h,e,so.outerWidth,so.outerHeight,i),g=v.width,y=v.outerWidth,m=v.outerHeight,b=e.padding;this.isTruncated=!!v.isTruncated;var S=_h(o,y,i),E=fc(c,m,a),C=S,A=E;b&&(C+=b[3],A+=b[0]);var D=C+g;cw(e)&&this._renderBackground(e,e,S,E,y,m);for(var L=!!e.backgroundColor,R=0;R<v.lines.length;R++){for(var O=v.lines[R],P=O.tokens,V=P.length,k=O.lineHeight,F=O.width,H=0,W=C,q=D,Y=V-1,K=void 0;H<V&&(K=P[H],!K.align||K.align==="left");)this._placeToken(K,e,k,A,W,"left",L),F-=K.width,W+=K.width,H++;for(;Y>=0&&(K=P[Y],K.align==="right");)this._placeToken(K,e,k,A,q,"right",L),F-=K.width,q-=K.width,Y--;for(W+=(g-(W-C)-(D-q)-F)/2;H<=Y;)K=P[H],this._placeToken(K,e,k,A,W+K.width/2,"center",L),W+=K.width,H++;A+=k}},t.prototype._placeToken=function(e,n,i,a,o,c,h){var v=n.rich[e.styleName]||{};v.text=e.text;var g=e.verticalAlign,y=a+i/2;g==="top"?y=a+e.height/2:g==="bottom"&&(y=a+i-e.height/2);var m=!e.isLineHolder&&cw(v);m&&this._renderBackground(v,n,c==="right"?o-e.width:c==="center"?o-e.width/2:o,y-e.height/2,e.width,e.height);var b=!!v.backgroundColor,S=e.textPadding;S&&(o=EO(o,c,S),y-=e.height/2-S[0]-e.innerHeight/2);var E=this._getOrCreateChild(bh),C=E.createStyle();E.useStyle(C);var A=this._defaultStyle,D=!1,L=0,R=!1,O=xO("fill"in v?v.fill:"fill"in n?n.fill:(D=!0,A.fill)),P=wO("stroke"in v?v.stroke:"stroke"in n?n.stroke:!b&&!h&&(!A.autoStroke||D)?(L=mO,R=!0,A.stroke):null),V=v.textShadowBlur>0||n.textShadowBlur>0;C.text=e.text,C.x=o,C.y=y,V&&(C.shadowBlur=v.textShadowBlur||n.textShadowBlur||0,C.shadowColor=v.textShadowColor||n.textShadowColor||"transparent",C.shadowOffsetX=v.textShadowOffsetX||n.textShadowOffsetX||0,C.shadowOffsetY=v.textShadowOffsetY||n.textShadowOffsetY||0),C.textAlign=c,C.textBaseline="middle",C.font=e.font||ms,C.opacity=Hi(v.opacity,n.opacity,1),bO(C,v),P&&(C.lineWidth=Hi(v.lineWidth,n.lineWidth,L),C.lineDash=te(v.lineDash,n.lineDash),C.lineDashOffset=n.lineDashOffset||0,C.stroke=P),O&&(C.fill=O),E.setBoundingRect($E(C,e.contentWidth,e.contentHeight,R?0:null))},t.prototype._renderBackground=function(e,n,i,a,o,c){var h=e.backgroundColor,v=e.borderWidth,g=e.borderColor,y=h&&h.image,m=h&&!y,b=e.borderRadius,S=this,E,C;if(m||e.lineHeight||v&&g){E=this._getOrCreateChild(xe),E.useStyle(E.createStyle()),E.style.fill=null;var A=E.shape;A.x=i,A.y=a,A.width=o,A.height=c,A.r=b,E.dirtyShape()}if(m){var D=E.style;D.fill=h||null,D.fillOpacity=te(e.fillOpacity,1)}else if(y){C=this._getOrCreateChild(En),C.onload=function(){S.dirtyStyle()};var L=C.style;L.image=h.image,L.x=i,L.y=a,L.width=o,L.height=c}if(v&&g){var D=E.style;D.lineWidth=v,D.stroke=g,D.strokeOpacity=te(e.strokeOpacity,1),D.lineDash=e.borderDash,D.lineDashOffset=e.borderDashOffset||0,E.strokeContainThreshold=0,E.hasFill()&&E.hasStroke()&&(D.strokeFirst=!0,D.lineWidth*=2)}var R=(E||C).style;R.shadowBlur=e.shadowBlur||0,R.shadowColor=e.shadowColor||"transparent",R.shadowOffsetX=e.shadowOffsetX||0,R.shadowOffsetY=e.shadowOffsetY||0,R.opacity=Hi(e.opacity,n.opacity,1)},t.makeFont=function(e){var n="";return gH(e)&&(n=[e.fontStyle,e.fontWeight,vH(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),n&&ua(n)||e.textFont||e.font},t})(ha),bnt={left:!0,right:1,center:1},Snt={top:1,bottom:1,middle:1},_O=["fontStyle","fontWeight","fontSize","fontFamily"];function vH(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?JC+"px":r+"px"}function bO(r,t){for(var e=0;e<_O.length;e++){var n=_O[e],i=t[n];i!=null&&(r[n]=i)}}function gH(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function wnt(r){return SO(r),j(r.rich,SO),r}function SO(r){if(r){r.font=ke.makeFont(r);var t=r.align;t==="middle"&&(t="center"),r.align=t==null||bnt[t]?t:"left";var e=r.verticalAlign;e==="center"&&(e="middle"),r.verticalAlign=e==null||Snt[e]?e:"top";var n=r.padding;n&&(r.padding=M_(r.padding))}}function wO(r,t){return r==null||t<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function xO(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function EO(r,t,e){return t==="right"?r-e[1]:t==="center"?r+e[3]/2-e[1]/2:r+e[3]}function TO(r){var t=r.text;return t!=null&&(t+=""),t}function cw(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var fe=Ee(),ZE=function(r,t,e,n){if(n){var i=fe(n);i.dataIndex=e,i.dataType=t,i.seriesIndex=r,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var o=fe(a);o.seriesIndex=r,o.dataIndex=e,o.dataType=t,o.ssrType="chart"})}},CO=1,AO={},yH=Ee(),gA=Ee(),yA=0,Pv=1,z_=2,di=["emphasis","blur","select"],lv=["normal","emphasis","blur","select"],Vh=10,xnt=9,pc="highlight",Ym="downplay",C0="select",KE="unselect",A0="toggleSelect",mA="selectchanged";function Ef(r){return r!=null&&r!=="none"}function U_(r,t,e){r.onHoverStateChange&&(r.hoverState||0)!==e&&r.onHoverStateChange(t),r.hoverState=e}function mH(r){U_(r,"emphasis",z_)}function _H(r){r.hoverState===z_&&U_(r,"normal",yA)}function _A(r){U_(r,"blur",Pv)}function bH(r){r.hoverState===Pv&&U_(r,"normal",yA)}function Ent(r){r.selected=!0}function Tnt(r){r.selected=!1}function DO(r,t,e){t(r,e)}function As(r,t,e){DO(r,t,e),r.isGroup&&r.traverse(function(n){DO(n,t,e)})}function D0(r,t){switch(t){case"emphasis":r.hoverState=z_;break;case"normal":r.hoverState=yA;break;case"blur":r.hoverState=Pv;break;case"select":r.selected=!0}}function Cnt(r,t,e,n){for(var i=r.style,a={},o=0;o<t.length;o++){var c=t[o],h=i[c];a[c]=h??(n&&n[c])}for(var o=0;o<r.animators.length;o++){var v=r.animators[o];v.__fromStateTransition&&v.__fromStateTransition.indexOf(e)<0&&v.targetName==="style"&&v.saveTo(a,t)}return a}function Ant(r,t,e,n){var i=e&&ge(e,"select")>=0,a=!1;if(r instanceof Te){var o=yH(r),c=i&&o.selectFill||o.normalFill,h=i&&o.selectStroke||o.normalStroke;if(Ef(c)||Ef(h)){n=n||{};var v=n.style||{};v.fill==="inherit"?(a=!0,n=Mt({},n),v=Mt({},v),v.fill=c):!Ef(v.fill)&&Ef(c)?(a=!0,n=Mt({},n),v=Mt({},v),v.fill=OE(c)):!Ef(v.stroke)&&Ef(h)&&(a||(n=Mt({},n),v=Mt({},v)),v.stroke=OE(h)),n.style=v}}if(n&&n.z2==null){a||(n=Mt({},n));var g=r.z2EmphasisLift;n.z2=r.z2+(g??Vh)}return n}function Dnt(r,t,e){if(e&&e.z2==null){e=Mt({},e);var n=r.z2SelectLift;e.z2=r.z2+(n??xnt)}return e}function Mnt(r,t,e){var n=ge(r.currentStates,t)>=0,i=r.style.opacity,a=n?null:Cnt(r,["opacity"],t,{opacity:1});e=e||{};var o=e.style||{};return o.opacity==null&&(e=Mt({},e),o=Mt({opacity:n?i:a.opacity*.1},o),e.style=o),e}function fw(r,t){var e=this.states[r];if(this.style){if(r==="emphasis")return Ant(this,r,t,e);if(r==="blur")return Mnt(this,r,e);if(r==="select")return Dnt(this,r,e)}return e}function xc(r){r.stateProxy=fw;var t=r.getTextContent(),e=r.getTextGuideLine();t&&(t.stateProxy=fw),e&&(e.stateProxy=fw)}function MO(r,t){!EH(r,t)&&!r.__highByOuter&&As(r,mH)}function LO(r,t){!EH(r,t)&&!r.__highByOuter&&As(r,_H)}function Ss(r,t){r.__highByOuter|=1<<(t||0),As(r,mH)}function ws(r,t){!(r.__highByOuter&=~(1<<(t||0)))&&As(r,_H)}function SH(r){As(r,_A)}function bA(r){As(r,bH)}function wH(r){As(r,Ent)}function xH(r){As(r,Tnt)}function EH(r,t){return r.__highDownSilentOnTouch&&t.zrByTouch}function TH(r){var t=r.getModel(),e=[],n=[];t.eachComponent(function(i,a){var o=gA(a),c=i==="series",h=c?r.getViewOfSeriesModel(a):r.getViewOfComponentModel(a);!c&&n.push(h),o.isBlured&&(h.group.traverse(function(v){bH(v)}),c&&e.push(a)),o.isBlured=!1}),j(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(e,!1,t)})}function JE(r,t,e,n){var i=n.getModel();e=e||"coordinateSystem";function a(v,g){for(var y=0;y<g.length;y++){var m=v.getItemGraphicEl(g[y]);m&&bA(m)}}if(r!=null&&!(!t||t==="none")){var o=i.getSeriesByIndex(r),c=o.coordinateSystem;c&&c.master&&(c=c.master);var h=[];i.eachSeries(function(v){var g=o===v,y=v.coordinateSystem;y&&y.master&&(y=y.master);var m=y&&c?y===c:g;if(!(e==="series"&&!g||e==="coordinateSystem"&&!m||t==="series"&&g)){var b=n.getViewOfSeriesModel(v);if(b.group.traverse(function(C){C.__highByOuter&&g&&t==="self"||_A(C)}),$n(t))a(v.getData(),t);else if(le(t))for(var S=Le(t),E=0;E<S.length;E++)a(v.getData(S[E]),t[S[E]]);h.push(v),gA(v).isBlured=!0}}),i.eachComponent(function(v,g){if(v!=="series"){var y=n.getViewOfComponentModel(g);y&&y.toggleBlurSeries&&y.toggleBlurSeries(h,!0,i)}})}}function QE(r,t,e){if(!(r==null||t==null)){var n=e.getModel().getComponent(r,t);if(n){gA(n).isBlured=!0;var i=e.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){_A(a)})}}}function Lnt(r,t,e){var n=r.seriesIndex,i=r.getData(t.dataType);if(i){var a=Sc(i,t);a=(Rt(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var c=i.count(),h=0;!o&&h<c;)o=i.getItemGraphicEl(h++);if(o){var v=fe(o);JE(n,v.focus,v.blurScope,e)}else{var g=r.get(["emphasis","focus"]),y=r.get(["emphasis","blurScope"]);g!=null&&JE(n,g,y,e)}}}function SA(r,t,e,n){var i={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||t==null||e==null)return i;var a=n.getModel().getComponent(r,t);if(!a)return i;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var c=o.findHighDownDispatchers(e),h,v=0;v<c.length;v++)if(fe(c[v]).focus==="self"){h=!0;break}return{focusSelf:h,dispatchers:c}}function Nnt(r,t,e){var n=fe(r),i=SA(n.componentMainType,n.componentIndex,n.componentHighDownName,e),a=i.dispatchers,o=i.focusSelf;a?(o&&QE(n.componentMainType,n.componentIndex,e),j(a,function(c){return MO(c,t)})):(JE(n.seriesIndex,n.focus,n.blurScope,e),n.focus==="self"&&QE(n.componentMainType,n.componentIndex,e),MO(r,t))}function Rnt(r,t,e){TH(e);var n=fe(r),i=SA(n.componentMainType,n.componentIndex,n.componentHighDownName,e).dispatchers;i?j(i,function(a){return LO(a,t)}):LO(r,t)}function Int(r,t,e){if(eT(t)){var n=t.dataType,i=r.getData(n),a=Sc(i,t);Rt(a)||(a=[a]),r[t.type===A0?"toggleSelect":t.type===C0?"select":"unselect"](a,n)}}function NO(r){var t=r.getAllData();j(t,function(e){var n=e.data,i=e.type;n.eachItemGraphicEl(function(a,o){r.isSelected(o,i)?wH(a):xH(a)})})}function Ont(r){var t=[];return r.eachSeries(function(e){var n=e.getAllData();j(n,function(i){i.data;var a=i.type,o=e.getSelectedDataIndices();if(o.length>0){var c={dataIndex:o,seriesIndex:e.seriesIndex};a!=null&&(c.dataType=a),t.push(c)}})}),t}function dc(r,t,e){nc(r,!0),As(r,xc),tT(r,t,e)}function Pnt(r){nc(r,!1)}function yr(r,t,e,n){n?Pnt(r):dc(r,t,e)}function tT(r,t,e){var n=fe(r);t!=null?(n.focus=t,n.blurScope=e):n.focus&&(n.focus=null)}var RO=["emphasis","blur","select"],knt={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function an(r,t,e,n){e=e||"itemStyle";for(var i=0;i<RO.length;i++){var a=RO[i],o=t.getModel([a,e]),c=r.ensureState(a);c.style=n?n(o):o[knt[e]]()}}function nc(r,t){var e=t===!1,n=r;r.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!e||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!e)}function uv(r){return!!(r&&r.__highDownDispatcher)}function Vnt(r,t,e){var n=fe(r);n.componentMainType=t.mainType,n.componentIndex=t.componentIndex,n.componentHighDownName=e}function Gnt(r){var t=AO[r];return t==null&&CO<=32&&(t=AO[r]=CO++),t}function eT(r){var t=r.type;return t===C0||t===KE||t===A0}function IO(r){var t=r.type;return t===pc||t===Ym}function Fnt(r){var t=yH(r);t.normalFill=r.style.fill,t.normalStroke=r.style.stroke;var e=r.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}var Tf=ko.CMD,Bnt=[[],[],[]],OO=Math.sqrt,Hnt=Math.atan2;function CH(r,t){if(t){var e=r.data,n=r.len(),i,a,o,c,h,v,g=Tf.M,y=Tf.C,m=Tf.L,b=Tf.R,S=Tf.A,E=Tf.Q;for(o=0,c=0;o<n;){switch(i=e[o++],c=o,a=0,i){case g:a=1;break;case m:a=1;break;case y:a=3;break;case E:a=2;break;case S:var C=t[4],A=t[5],D=OO(t[0]*t[0]+t[1]*t[1]),L=OO(t[2]*t[2]+t[3]*t[3]),R=Hnt(-t[1]/L,t[0]/D);e[o]*=D,e[o++]+=C,e[o]*=L,e[o++]+=A,e[o++]*=D,e[o++]*=L,e[o++]+=R,e[o++]+=R,o+=2,c=o;break;case b:v[0]=e[o++],v[1]=e[o++],Br(v,v,t),e[c++]=v[0],e[c++]=v[1],v[0]+=e[o++],v[1]+=e[o++],Br(v,v,t),e[c++]=v[0],e[c++]=v[1]}for(h=0;h<a;h++){var O=Bnt[h];O[0]=e[o++],O[1]=e[o++],Br(O,O,t),e[c++]=O[0],e[c++]=O[1]}}r.increaseVersion()}}var hw=Math.sqrt,Oy=Math.sin,Py=Math.cos,Up=Math.PI;function PO(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function rT(r,t){return(r[0]*t[0]+r[1]*t[1])/(PO(r)*PO(t))}function kO(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(rT(r,t))}function VO(r,t,e,n,i,a,o,c,h,v,g){var y=h*(Up/180),m=Py(y)*(r-e)/2+Oy(y)*(t-n)/2,b=-1*Oy(y)*(r-e)/2+Py(y)*(t-n)/2,S=m*m/(o*o)+b*b/(c*c);S>1&&(o*=hw(S),c*=hw(S));var E=(i===a?-1:1)*hw((o*o*(c*c)-o*o*(b*b)-c*c*(m*m))/(o*o*(b*b)+c*c*(m*m)))||0,C=E*o*b/c,A=E*-c*m/o,D=(r+e)/2+Py(y)*C-Oy(y)*A,L=(t+n)/2+Oy(y)*C+Py(y)*A,R=kO([1,0],[(m-C)/o,(b-A)/c]),O=[(m-C)/o,(b-A)/c],P=[(-1*m-C)/o,(-1*b-A)/c],V=kO(O,P);if(rT(O,P)<=-1&&(V=Up),rT(O,P)>=1&&(V=0),V<0){var k=Math.round(V/Up*1e6)/1e6;V=Up*2+k%2*Up}g.addData(v,D,L,o,c,R,V,y,a)}var znt=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Unt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Wnt(r){var t=new ko;if(!r)return t;var e=0,n=0,i=e,a=n,o,c=ko.CMD,h=r.match(znt);if(!h)return t;for(var v=0;v<h.length;v++){for(var g=h[v],y=g.charAt(0),m=void 0,b=g.match(Unt)||[],S=b.length,E=0;E<S;E++)b[E]=parseFloat(b[E]);for(var C=0;C<S;){var A=void 0,D=void 0,L=void 0,R=void 0,O=void 0,P=void 0,V=void 0,k=e,F=n,H=void 0,W=void 0;switch(y){case"l":e+=b[C++],n+=b[C++],m=c.L,t.addData(m,e,n);break;case"L":e=b[C++],n=b[C++],m=c.L,t.addData(m,e,n);break;case"m":e+=b[C++],n+=b[C++],m=c.M,t.addData(m,e,n),i=e,a=n,y="l";break;case"M":e=b[C++],n=b[C++],m=c.M,t.addData(m,e,n),i=e,a=n,y="L";break;case"h":e+=b[C++],m=c.L,t.addData(m,e,n);break;case"H":e=b[C++],m=c.L,t.addData(m,e,n);break;case"v":n+=b[C++],m=c.L,t.addData(m,e,n);break;case"V":n=b[C++],m=c.L,t.addData(m,e,n);break;case"C":m=c.C,t.addData(m,b[C++],b[C++],b[C++],b[C++],b[C++],b[C++]),e=b[C-2],n=b[C-1];break;case"c":m=c.C,t.addData(m,b[C++]+e,b[C++]+n,b[C++]+e,b[C++]+n,b[C++]+e,b[C++]+n),e+=b[C-2],n+=b[C-1];break;case"S":A=e,D=n,H=t.len(),W=t.data,o===c.C&&(A+=e-W[H-4],D+=n-W[H-3]),m=c.C,k=b[C++],F=b[C++],e=b[C++],n=b[C++],t.addData(m,A,D,k,F,e,n);break;case"s":A=e,D=n,H=t.len(),W=t.data,o===c.C&&(A+=e-W[H-4],D+=n-W[H-3]),m=c.C,k=e+b[C++],F=n+b[C++],e+=b[C++],n+=b[C++],t.addData(m,A,D,k,F,e,n);break;case"Q":k=b[C++],F=b[C++],e=b[C++],n=b[C++],m=c.Q,t.addData(m,k,F,e,n);break;case"q":k=b[C++]+e,F=b[C++]+n,e+=b[C++],n+=b[C++],m=c.Q,t.addData(m,k,F,e,n);break;case"T":A=e,D=n,H=t.len(),W=t.data,o===c.Q&&(A+=e-W[H-4],D+=n-W[H-3]),e=b[C++],n=b[C++],m=c.Q,t.addData(m,A,D,e,n);break;case"t":A=e,D=n,H=t.len(),W=t.data,o===c.Q&&(A+=e-W[H-4],D+=n-W[H-3]),e+=b[C++],n+=b[C++],m=c.Q,t.addData(m,A,D,e,n);break;case"A":L=b[C++],R=b[C++],O=b[C++],P=b[C++],V=b[C++],k=e,F=n,e=b[C++],n=b[C++],m=c.A,VO(k,F,e,n,P,V,L,R,O,m,t);break;case"a":L=b[C++],R=b[C++],O=b[C++],P=b[C++],V=b[C++],k=e,F=n,e+=b[C++],n+=b[C++],m=c.A,VO(k,F,e,n,P,V,L,R,O,m,t);break}}(y==="z"||y==="Z")&&(m=c.Z,t.addData(m),e=i,n=a),o=m}return t.toStatic(),t}var AH=(function(r){dr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.applyTransform=function(e){},t})(Te);function DH(r){return r.setData!=null}function MH(r,t){var e=Wnt(r),n=Mt({},t);return n.buildPath=function(i){var a=DH(i);if(a&&i.canSave()){i.appendPath(e);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=a?i.getContext():i;o&&e.rebuildPath(o,1)}},n.applyTransform=function(i){CH(e,i),this.dirtyShape()},n}function LH(r,t){return new AH(MH(r,t))}function jnt(r,t){var e=MH(r,t),n=(function(i){dr(a,i);function a(o){var c=i.call(this,o)||this;return c.applyTransform=e.applyTransform,c.buildPath=e.buildPath,c}return a})(AH);return n}function Ynt(r,t){for(var e=[],n=r.length,i=0;i<n;i++){var a=r[i];e.push(a.getUpdatedPathProxy(!0))}var o=new Te(t);return o.createPathProxy(),o.buildPath=function(c){if(DH(c)){c.appendPath(e);var h=c.getContext();h&&c.rebuildPath(h,1)}},o}function wA(r,t){t=t||{};var e=new Te;return r.shape&&e.setShape(r.shape),e.setStyle(r.style),t.bakeTransform?CH(e.path,r.getComputedTransform()):t.toLocal?e.setLocalTransform(r.getComputedTransform()):e.copyTransform(r),e.buildPath=r.buildPath,e.applyTransform=e.applyTransform,e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel,e}var $nt=(function(){function r(){this.cx=0,this.cy=0,this.r=0}return r})(),Ds=(function(r){dr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new $nt},t.prototype.buildPath=function(e,n){e.moveTo(n.cx+n.r,n.cy),e.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t})(Te);Ds.prototype.type="circle";var qnt=(function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r})(),W_=(function(r){dr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new qnt},t.prototype.buildPath=function(e,n){var i=.5522848,a=n.cx,o=n.cy,c=n.rx,h=n.ry,v=c*i,g=h*i;e.moveTo(a-c,o),e.bezierCurveTo(a-c,o-g,a-v,o-h,a,o-h),e.bezierCurveTo(a+v,o-h,a+c,o-g,a+c,o),e.bezierCurveTo(a+c,o+g,a+v,o+h,a,o+h),e.bezierCurveTo(a-v,o+h,a-c,o+g,a-c,o),e.closePath()},t})(Te);W_.prototype.type="ellipse";var NH=Math.PI,pw=NH*2,Nu=Math.sin,Cf=Math.cos,Xnt=Math.acos,zn=Math.atan2,GO=Math.abs,Ud=Math.sqrt,bd=Math.max,lo=Math.min,Ca=1e-4;function Znt(r,t,e,n,i,a,o,c){var h=e-r,v=n-t,g=o-i,y=c-a,m=y*h-g*v;if(!(m*m<Ca))return m=(g*(t-a)-y*(r-i))/m,[r+m*h,t+m*v]}function ky(r,t,e,n,i,a,o){var c=r-e,h=t-n,v=(o?a:-a)/Ud(c*c+h*h),g=v*h,y=-v*c,m=r+g,b=t+y,S=e+g,E=n+y,C=(m+S)/2,A=(b+E)/2,D=S-m,L=E-b,R=D*D+L*L,O=i-a,P=m*E-S*b,V=(L<0?-1:1)*Ud(bd(0,O*O*R-P*P)),k=(P*L-D*V)/R,F=(-P*D-L*V)/R,H=(P*L+D*V)/R,W=(-P*D+L*V)/R,q=k-C,Y=F-A,K=H-C,X=W-A;return q*q+Y*Y>K*K+X*X&&(k=H,F=W),{cx:k,cy:F,x0:-g,y0:-y,x1:k*(i/O-1),y1:F*(i/O-1)}}function Knt(r){var t;if(Rt(r)){var e=r.length;if(!e)return r;e===1?t=[r[0],r[0],0,0]:e===2?t=[r[0],r[0],r[1],r[1]]:e===3?t=r.concat(r[2]):t=r}else t=[r,r,r,r];return t}function Jnt(r,t){var e,n=bd(t.r,0),i=bd(t.r0||0,0),a=n>0,o=i>0;if(!(!a&&!o)){if(a||(n=i,i=0),i>n){var c=n;n=i,i=c}var h=t.startAngle,v=t.endAngle;if(!(isNaN(h)||isNaN(v))){var g=t.cx,y=t.cy,m=!!t.clockwise,b=GO(v-h),S=b>pw&&b%pw;if(S>Ca&&(b=S),!(n>Ca))r.moveTo(g,y);else if(b>pw-Ca)r.moveTo(g+n*Cf(h),y+n*Nu(h)),r.arc(g,y,n,h,v,!m),i>Ca&&(r.moveTo(g+i*Cf(v),y+i*Nu(v)),r.arc(g,y,i,v,h,m));else{var E=void 0,C=void 0,A=void 0,D=void 0,L=void 0,R=void 0,O=void 0,P=void 0,V=void 0,k=void 0,F=void 0,H=void 0,W=void 0,q=void 0,Y=void 0,K=void 0,X=n*Cf(h),J=n*Nu(h),it=i*Cf(v),rt=i*Nu(v),st=b>Ca;if(st){var lt=t.cornerRadius;lt&&(e=Knt(lt),E=e[0],C=e[1],A=e[2],D=e[3]);var dt=GO(n-i)/2;if(L=lo(dt,A),R=lo(dt,D),O=lo(dt,E),P=lo(dt,C),F=V=bd(L,R),H=k=bd(O,P),(V>Ca||k>Ca)&&(W=n*Cf(v),q=n*Nu(v),Y=i*Cf(h),K=i*Nu(h),b<NH)){var pt=Znt(X,J,Y,K,W,q,it,rt);if(pt){var Tt=X-pt[0],Ft=J-pt[1],zt=W-pt[0],Vt=q-pt[1],Kt=1/Nu(Xnt((Tt*zt+Ft*Vt)/(Ud(Tt*Tt+Ft*Ft)*Ud(zt*zt+Vt*Vt)))/2),Bt=Ud(pt[0]*pt[0]+pt[1]*pt[1]);F=lo(V,(n-Bt)/(Kt+1)),H=lo(k,(i-Bt)/(Kt-1))}}}if(!st)r.moveTo(g+X,y+J);else if(F>Ca){var gt=lo(A,F),Ct=lo(D,F),wt=ky(Y,K,X,J,n,gt,m),Z=ky(W,q,it,rt,n,Ct,m);r.moveTo(g+wt.cx+wt.x0,y+wt.cy+wt.y0),F<V&&gt===Ct?r.arc(g+wt.cx,y+wt.cy,F,zn(wt.y0,wt.x0),zn(Z.y0,Z.x0),!m):(gt>0&&r.arc(g+wt.cx,y+wt.cy,gt,zn(wt.y0,wt.x0),zn(wt.y1,wt.x1),!m),r.arc(g,y,n,zn(wt.cy+wt.y1,wt.cx+wt.x1),zn(Z.cy+Z.y1,Z.cx+Z.x1),!m),Ct>0&&r.arc(g+Z.cx,y+Z.cy,Ct,zn(Z.y1,Z.x1),zn(Z.y0,Z.x0),!m))}else r.moveTo(g+X,y+J),r.arc(g,y,n,h,v,!m);if(!(i>Ca)||!st)r.lineTo(g+it,y+rt);else if(H>Ca){var gt=lo(E,H),Ct=lo(C,H),wt=ky(it,rt,W,q,i,-Ct,m),Z=ky(X,J,Y,K,i,-gt,m);r.lineTo(g+wt.cx+wt.x0,y+wt.cy+wt.y0),H<k&&gt===Ct?r.arc(g+wt.cx,y+wt.cy,H,zn(wt.y0,wt.x0),zn(Z.y0,Z.x0),!m):(Ct>0&&r.arc(g+wt.cx,y+wt.cy,Ct,zn(wt.y0,wt.x0),zn(wt.y1,wt.x1),!m),r.arc(g,y,i,zn(wt.cy+wt.y1,wt.cx+wt.x1),zn(Z.cy+Z.y1,Z.cx+Z.x1),m),gt>0&&r.arc(g+Z.cx,y+Z.cy,gt,zn(Z.y1,Z.x1),zn(Z.y0,Z.x0),!m))}else r.lineTo(g+it,y+rt),r.arc(g,y,i,v,h,m)}r.closePath()}}}var Qnt=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r})(),Xn=(function(r){dr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Qnt},t.prototype.buildPath=function(e,n){Jnt(e,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t})(Te);Xn.prototype.type="sector";var tit=(function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r})(),kv=(function(r){dr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new tit},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,o=Math.PI*2;e.moveTo(i+n.r,a),e.arc(i,a,n.r,0,o,!1),e.moveTo(i+n.r0,a),e.arc(i,a,n.r0,0,o,!0)},t})(Te);kv.prototype.type="ring";function eit(r,t,e,n){var i=[],a=[],o=[],c=[],h,v,g,y;if(n){g=[1/0,1/0],y=[-1/0,-1/0];for(var m=0,b=r.length;m<b;m++)fl(g,g,r[m]),hl(y,y,r[m]);fl(g,g,n[0]),hl(y,y,n[1])}for(var m=0,b=r.length;m<b;m++){var S=r[m];if(e)h=r[m?m-1:b-1],v=r[(m+1)%b];else if(m===0||m===b-1){i.push(fs(r[m]));continue}else h=r[m-1],v=r[m+1];ec(a,v,h),Fm(a,a,t);var E=xE(S,h),C=xE(S,v),A=E+C;A!==0&&(E/=A,C/=A),Fm(o,a,-E),Fm(c,a,C);var D=A2([],S,o),L=A2([],S,c);n&&(hl(D,D,g),fl(D,D,y),hl(L,L,g),fl(L,L,y)),i.push(D),i.push(L)}return e&&i.push(i.shift()),i}function RH(r,t,e){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var a=eit(i,n,e,t.smoothConstraint);r.moveTo(i[0][0],i[0][1]);for(var o=i.length,c=0;c<(e?o:o-1);c++){var h=a[c*2],v=a[c*2+1],g=i[(c+1)%o];r.bezierCurveTo(h[0],h[1],v[0],v[1],g[0],g[1])}}else{r.moveTo(i[0][0],i[0][1]);for(var c=1,y=i.length;c<y;c++)r.lineTo(i[c][0],i[c][1])}e&&r.closePath()}}var rit=(function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r})(),Zn=(function(r){dr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new rit},t.prototype.buildPath=function(e,n){RH(e,n,!0)},t})(Te);Zn.prototype.type="polygon";var nit=(function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r})(),Pn=(function(r){dr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new nit},t.prototype.buildPath=function(e,n){RH(e,n,!1)},t})(Te);Pn.prototype.type="polyline";var iit={},ait=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r})(),$r=(function(r){dr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ait},t.prototype.buildPath=function(e,n){var i,a,o,c;if(this.subPixelOptimize){var h=H_(iit,n,this.style);i=h.x1,a=h.y1,o=h.x2,c=h.y2}else i=n.x1,a=n.y1,o=n.x2,c=n.y2;var v=n.percent;v!==0&&(e.moveTo(i,a),v<1&&(o=i*(1-v)+o*v,c=a*(1-v)+c*v),e.lineTo(o,c))},t.prototype.pointAt=function(e){var n=this.shape;return[n.x1*(1-e)+n.x2*e,n.y1*(1-e)+n.y2*e]},t})(Te);$r.prototype.type="line";var _i=[],oit=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r})();function FO(r,t,e){var n=r.cpx2,i=r.cpy2;return n!=null||i!=null?[(e?B2:cn)(r.x1,r.cpx1,r.cpx2,r.x2,t),(e?B2:cn)(r.y1,r.cpy1,r.cpy2,r.y2,t)]:[(e?LE:Sn)(r.x1,r.cpx1,r.x2,t),(e?LE:Sn)(r.y1,r.cpy1,r.y2,t)]}var Vv=(function(r){dr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new oit},t.prototype.buildPath=function(e,n){var i=n.x1,a=n.y1,o=n.x2,c=n.y2,h=n.cpx1,v=n.cpy1,g=n.cpx2,y=n.cpy2,m=n.percent;m!==0&&(e.moveTo(i,a),g==null||y==null?(m<1&&(nv(i,h,o,m,_i),h=_i[1],o=_i[2],nv(a,v,c,m,_i),v=_i[1],c=_i[2]),e.quadraticCurveTo(h,v,o,c)):(m<1&&(Dl(i,h,g,o,m,_i),h=_i[1],g=_i[2],o=_i[3],Dl(a,v,y,c,m,_i),v=_i[1],y=_i[2],c=_i[3]),e.bezierCurveTo(h,v,g,y,o,c)))},t.prototype.pointAt=function(e){return FO(this.shape,e,!1)},t.prototype.tangentAt=function(e){var n=FO(this.shape,e,!0);return Oh(n,n)},t})(Te);Vv.prototype.type="bezier-curve";var sit=(function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),j_=(function(r){dr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new sit},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,o=Math.max(n.r,0),c=n.startAngle,h=n.endAngle,v=n.clockwise,g=Math.cos(c),y=Math.sin(c);e.moveTo(g*o+i,y*o+a),e.arc(i,a,o,c,h,!v)},t})(Te);j_.prototype.type="arc";var Y_=(function(r){dr(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="compound",e}return t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,n=this.shapeChanged(),i=0;i<e.length;i++)n=n||e[i].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<e.length;i++)e[i].path||e[i].createPathProxy(),e[i].path.setScale(n[0],n[1],e[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(e,i[a].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],n=0;n<e.length;n++)e[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Te.prototype.getBoundingRect.call(this)},t})(Te),IH=(function(){function r(t){this.colorStops=t||[]}return r.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},r})(),Gh=(function(r){dr(t,r);function t(e,n,i,a,o,c){var h=r.call(this,o)||this;return h.x=e??0,h.y=n??0,h.x2=i??1,h.y2=a??0,h.type="linear",h.global=c||!1,h}return t})(IH),OH=(function(r){dr(t,r);function t(e,n,i,a,o){var c=r.call(this,a)||this;return c.x=e??.5,c.y=n??.5,c.r=i??.5,c.type="radial",c.global=o||!1,c}return t})(IH),dw=Math.min,lit=Math.max,Vy=Math.abs,Ru=[0,0],Iu=[0,0],bn=SB(),Gy=bn.minTv,Fy=bn.maxTv,PH=(function(){function r(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new oe;for(var n=0;n<2;n++)this._axes[n]=new oe;t&&this.fromBoundingRect(t,e)}return r.prototype.fromBoundingRect=function(t,e){var n=this._corners,i=this._axes,a=t.x,o=t.y,c=a+t.width,h=o+t.height;if(n[0].set(a,o),n[1].set(c,o),n[2].set(c,h),n[3].set(a,h),e)for(var v=0;v<4;v++)n[v].transform(e);oe.sub(i[0],n[1],n[0]),oe.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var v=0;v<2;v++)this._origin[v]=i[v].dot(n[0])},r.prototype.intersect=function(t,e,n){var i=!0,a=!e;return e&&oe.set(e,0,0),bn.reset(n,!a),!this._intersectCheckOneSide(this,t,a,1)&&(i=!1,a)||!this._intersectCheckOneSide(t,this,a,-1)&&(i=!1,a)||!a&&!bn.negativeSize&&oe.copy(e,i?bn.useDir?bn.dirMinTv:Gy:Fy),i},r.prototype._intersectCheckOneSide=function(t,e,n,i){for(var a=!0,o=0;o<2;o++){var c=t._axes[o];if(t._getProjMinMaxOnAxis(o,t._corners,Ru),t._getProjMinMaxOnAxis(o,e._corners,Iu),bn.negativeSize||Ru[1]<Iu[0]||Ru[0]>Iu[1]){if(a=!1,bn.negativeSize||n)return a;var h=Vy(Iu[0]-Ru[1]),v=Vy(Ru[0]-Iu[1]);dw(h,v)>Fy.len()&&(h<v?oe.scale(Fy,c,-h*i):oe.scale(Fy,c,v*i))}else if(!n){var h=Vy(Iu[0]-Ru[1]),v=Vy(Ru[0]-Iu[1]);(bn.useDir||dw(h,v)<Gy.len())&&((h<v||!bn.bidirectional)&&(oe.scale(Gy,c,h*i),bn.useDir&&bn.calcDirMTV()),(h>=v||!bn.bidirectional)&&(oe.scale(Gy,c,-v*i),bn.useDir&&bn.calcDirMTV()))}}return a},r.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var i=this._axes[t],a=this._origin,o=e[0].dot(i)+a[t],c=o,h=o,v=1;v<e.length;v++){var g=e[v].dot(i)+a[t];c=dw(g,c),h=lit(g,h)}n[0]=c+bn.touchThreshold,n[1]=h-bn.touchThreshold,bn.negativeSize=n[1]<n[0]},r})(),uit=[],cit=(function(r){dr(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,n){n?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,n){n=n||!1;for(var i=0;i<e.length;i++)this.addDisplayable(e[i],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var n=this._cursor;n<this._displayables.length;n++)e&&e(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)e&&e(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var n=this._displayables[e];n.parent=this,n.update(),n.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var n=this._temporaryDisplayables[e];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new ue(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(uit)),e.union(a)}this._rect=e}return this._rect},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var c=this._displayables[o];if(c.contain(e,n))return!0}return!1},t})(ha),kH=Ee();function Fh(r,t,e,n,i){var a;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();a=o&&o.animation}var c=t&&t.isAnimationEnabled(),h=r==="update";if(c){var v=void 0,g=void 0,y=void 0;n?(v=te(n.duration,200),g=te(n.easing,"cubicOut"),y=0):(v=t.getShallow(h?"animationDurationUpdate":"animationDuration"),g=t.getShallow(h?"animationEasingUpdate":"animationEasing"),y=t.getShallow(h?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(v=a.duration),a.easing!=null&&(g=a.easing),a.delay!=null&&(y=a.delay)),re(y)&&(y=y(e,i)),re(v)&&(v=v(e));var m={duration:v||0,delay:y,easing:g};return m}else return null}function xA(r,t,e,n,i,a,o){var c=!1,h;re(i)?(o=a,a=i,i=null):le(i)&&(a=i.cb,o=i.during,c=i.isFrom,h=i.removeOpt,i=i.dataIndex);var v=r==="leave";v||t.stopAnimation("leave");var g=Fh(r,n,i,v?h||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null);if(g&&g.duration>0){var y=g.duration,m=g.delay,b=g.easing,S={duration:y,delay:m||0,easing:b,done:a,force:!!a||!!o,setToFinal:!v,scope:r,during:o};c?t.animateFrom(e,S):t.animateTo(e,S)}else t.stopAnimation(),!c&&t.attr(e),o&&o(1),a&&a()}function Ve(r,t,e,n,i,a){xA("update",r,t,e,n,i,a)}function pr(r,t,e,n,i,a){xA("enter",r,t,e,n,i,a)}function hh(r){if(!r.__zr)return!0;for(var t=0;t<r.animators.length;t++){var e=r.animators[t];if(e.scope==="leave")return!0}return!1}function Ml(r,t,e,n,i,a){hh(r)||xA("leave",r,t,e,n,i,a)}function BO(r,t,e,n){r.removeTextContent(),r.removeTextGuideLine(),Ml(r,{style:{opacity:0}},t,e,n)}function hs(r,t,e){function n(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(i){i.isGroup||BO(i,t,e,n)}):BO(r,t,e,n)}function pa(r){kH(r).oldStyle=r.style}function fit(r){return kH(r).oldStyle}var nT={},de=["x","y"],Xr=["width","height"];function hit(r){return Te.extend(r)}var pit=jnt;function dit(r,t){return pit(r,t)}function Ba(r,t){nT[r]=t}function M0(r){if(nT.hasOwnProperty(r))return nT[r]}function cv(r,t,e,n){var i=LH(r,t);return e&&(n==="center"&&(e=GH(e,i.getBoundingRect())),FH(i,e)),i}function VH(r,t,e){var n=new En({style:{image:r,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(e==="center"){var a={width:i.width,height:i.height};n.setStyle(GH(t,a))}}});return n}function GH(r,t){var e=t.width/t.height,n=r.height*e,i;n<=r.width?i=r.height:(n=r.width,i=n/e);var a=r.x+r.width/2,o=r.y+r.height/2;return{x:a-n/2,y:o-i/2,width:n,height:i}}var sa=Ynt;function FH(r,t){if(r.applyTransform){var e=r.getBoundingRect(),n=e.calculateTransform(t);r.applyTransform(n)}}function Sh(r,t){return H_(r,r,{lineWidth:t}),r}function vit(r,t){return dH(r,r,t),r}var $m=Bi;function vc(r,t){for(var e=N_([]);r&&r!==t;)Do(e,r.getLocalTransform(),e),r=r.parent;return e}function Oa(r,t,e){return t&&!$n(t)&&(t=us.getLocalTransform(t)),e&&(t=Va([],t)),Br([],r,t)}function $_(r,t,e){var n=t[4]===0||t[5]===0||t[0]===0?1:So(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:So(2*t[4]/t[2]),a=[r==="left"?-n:r==="right"?n:0,r==="top"?-i:r==="bottom"?i:0];return a=Oa(a,t,e),So(a[0])>So(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function HO(r){return!r.isGroup}function git(r){return r.shape!=null}function Gv(r,t,e){if(!r||!t)return;function n(o){var c={};return o.traverse(function(h){HO(h)&&h.anid&&(c[h.anid]=h)}),c}function i(o){var c={x:o.x,y:o.y,rotation:o.rotation};return git(o)&&(c.shape=ie(o.shape)),c}var a=n(r);t.traverse(function(o){if(HO(o)&&o.anid){var c=a[o.anid];if(c){var h=i(o);o.attr(i(c)),Ve(o,h,e,fe(o).dataIndex)}}})}function BH(r,t){return Pt(r,function(e){var n=e[0];n=Gr(n,t.x),n=zi(n,t.x+t.width);var i=e[1];return i=Gr(i,t.y),i=zi(i,t.y+t.height),[n,i]})}function yit(r,t){var e=Gr(r.x,t.x),n=zi(r.x+r.width,t.x+t.width),i=Gr(r.y,t.y),a=zi(r.y+r.height,t.y+t.height);if(n>=e&&a>=i)return{x:e,y:i,width:n-e,height:a-i}}function Fv(r,t,e){var n=Mt({rectHover:!0},t),i=n.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(i.image=r.slice(8),se(i,e),new En(n)):cv(r.replace("path://",""),n,e,"center")}function Sd(r,t,e,n,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var c=i[a];if(HH(r,t,e,n,c[0],c[1],o[0],o[1]))return!0;o=c}}function HH(r,t,e,n,i,a,o,c){var h=e-r,v=n-t,g=o-i,y=c-a,m=vw(g,y,h,v);if(mit(m))return!1;var b=r-i,S=t-a,E=vw(b,S,h,v)/m;if(E<0||E>1)return!1;var C=vw(b,S,g,y)/m;return!(C<0||C>1)}function vw(r,t,e,n){return r*n-e*t}function mit(r){return r<=1e-6&&r>=-1e-6}function Ec(r,t,e,n,i){return t==null||(Ie(t)?br[0]=br[1]=br[2]=br[3]=t:(br[0]=t[0],br[1]=t[1],br[2]=t[2],br[3]=t[3]),n&&(br[0]=Gr(0,br[0]),br[1]=Gr(0,br[1]),br[2]=Gr(0,br[2]),br[3]=Gr(0,br[3])),e&&(br[0]=-br[0],br[1]=-br[1],br[2]=-br[2],br[3]=-br[3]),zO(r,br,"x","width",3,1,i&&i[0]||0),zO(r,br,"y","height",0,2,i&&i[1]||0)),r}var br=[0,0,0,0];function zO(r,t,e,n,i,a,o){var c=t[a]+t[i],h=r[n];r[n]+=c,o=Gr(0,zi(o,h)),r[n]<o?(r[n]=o,r[e]+=t[i]>=0?-t[i]:t[a]>=0?h+t[a]:So(c)>1e-8?(h-o)*t[i]/c:0):r[e]-=t[i]}function Ms(r){var t=r.itemTooltipOption,e=r.componentModel,n=r.itemName,i=$t(t)?{formatter:t}:t,a=e.mainType,o=e.componentIndex,c={componentType:a,name:n,$vars:["name"]};c[a+"Index"]=o;var h=r.formatterParamsExtra;h&&j(Le(h),function(g){Xt(c,g)||(c[g]=h[g],c.$vars.push(g))});var v=fe(r.el);v.componentMainType=a,v.componentIndex=o,v.tooltipConfig={name:n,option:se({content:n,encodeHTMLContent:!0,formatterParams:c},i)}}function iT(r,t){var e;r.isGroup&&(e=t(r)),e||r.traverse(t)}function Vl(r,t){if(r)if(Rt(r))for(var e=0;e<r.length;e++)iT(r[e],t);else iT(r,t)}function EA(r){return!r||So(r[1])<By&&So(r[2])<By||So(r[0])<By&&So(r[3])<By}var By=1e-5;function fv(r,t){return r?ue.copy(r,t):t.clone()}function TA(r,t){return t?R_(r||wn(),t):void 0}function Tc(r){return{z:r.get("z")||0,zlevel:r.get("zlevel")||0}}function zH(r){var t=-1/0,e=1/0;iT(r,function(a){n(a),n(a.getTextContent()),n(a.getTextGuideLine())});function n(a){if(!(!a||a.isGroup)){var o=a.currentStates;if(o.length)for(var c=0;c<o.length;c++)i(a.states[o[c]]);i(a)}}function i(a){if(a){var o=a.z2;o>t&&(t=o),o<e&&(e=o)}}return e>t&&(e=t=0),{min:e,max:t}}function q_(r,t,e){UH(r,t,e,-1/0)}function UH(r,t,e,n){if(r.ignoreModelZ)return n;var i=r.getTextContent(),a=r.getTextGuideLine(),o=r.isGroup;if(o)for(var c=r.childrenRef(),h=0;h<c.length;h++)n=Gr(UH(c[h],t,e,n),n);else r.z=t,r.zlevel=e,n=Gr(r.z2||0,n);if(i&&(i.z=t,i.zlevel=e,isFinite(n)&&(i.z2=n+2)),a){var v=r.textGuideLineConfig;a.z=t,a.zlevel=e,isFinite(n)&&(a.z2=n+(v&&v.showAbove?1:-1))}return n}Ba("circle",Ds);Ba("ellipse",W_);Ba("sector",Xn);Ba("ring",kv);Ba("polygon",Zn);Ba("polyline",Pn);Ba("rect",xe);Ba("line",$r);Ba("bezierCurve",Vv);Ba("arc",j_);const Ic=Object.freeze(Object.defineProperty({__proto__:null,Arc:j_,BezierCurve:Vv,BoundingRect:ue,Circle:Ds,CompoundPath:Y_,Ellipse:W_,Group:ne,Image:En,IncrementalDisplayable:cit,Line:$r,LinearGradient:Gh,OrientedBoundingRect:PH,Path:Te,Point:oe,Polygon:Zn,Polyline:Pn,RadialGradient:OH,Rect:xe,Ring:kv,Sector:Xn,Text:ke,WH:Xr,XY:de,applyTransform:Oa,calcZ2Range:zH,clipPointsByRect:BH,clipRectByRect:yit,createIcon:Fv,ensureCopyRect:fv,ensureCopyTransform:TA,expandOrShrinkRect:Ec,extendPath:dit,extendShape:hit,getShapeClass:M0,getTransform:vc,groupTransition:Gv,initProps:pr,isBoundingRectAxisAligned:EA,isElementRemoved:hh,lineLineIntersect:HH,linePolygonIntersect:Sd,makeImage:VH,makePath:cv,mergePath:sa,registerShape:Ba,removeElement:Ml,removeElementWithFadeOut:hs,resizePath:FH,retrieveZInfo:Tc,setTooltipConfig:Ms,subPixelOptimize:$m,subPixelOptimizeLine:Sh,subPixelOptimizeRect:vit,transformDirection:$_,traverseElements:Vl,traverseUpdateZ:q_,updateProps:Ve},Symbol.toStringTag,{value:"Module"}));var X_={};function WH(r,t){for(var e=0;e<di.length;e++){var n=di[e],i=t[n],a=r.ensureState(n);a.style=a.style||{},a.style.text=i}var o=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:t.normal}),r.useStates(o,!0)}function aT(r,t,e){var n=r.labelFetcher,i=r.labelDataIndex,a=r.labelDimIndex,o=t.normal,c;n&&(c=n.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),e!=null?{interpolatedValue:e}:null)),c==null&&(c=re(r.defaultText)?r.defaultText(i,r,e):r.defaultText);for(var h={normal:c},v=0;v<di.length;v++){var g=di[v],y=t[g];h[g]=te(n?n.getFormattedLabel(i,g,null,a,y&&y.get("formatter")):null,c)}return h}function dn(r,t,e,n){e=e||X_;for(var i=r instanceof ke,a=!1,o=0;o<lv.length;o++){var c=t[lv[o]];if(c&&c.getShallow("show")){a=!0;break}}var h=i?r:r.getTextContent();if(a){i||(h||(h=new ke,r.setTextContent(h)),r.stateProxy&&(h.stateProxy=r.stateProxy));var v=aT(e,t),g=t.normal,y=!!g.getShallow("show"),m=or(g,n&&n.normal,e,!1,!i);m.text=v.normal,i||r.setTextConfig(L0(g,e,!1));for(var o=0;o<di.length;o++){var b=di[o],c=t[b];if(c){var S=h.ensureState(b),E=!!te(c.getShallow("show"),y);if(E!==y&&(S.ignore=!E),S.style=or(c,n&&n[b],e,!0,!i),S.style.text=v[b],!i){var C=r.ensureState(b);C.textConfig=L0(c,e,!0)}}}h.silent=!!g.getShallow("silent"),h.style.x!=null&&(m.x=h.style.x),h.style.y!=null&&(m.y=h.style.y),h.ignore=!y,h.useStyle(m),h.dirty(),e.enableTextSetter&&(Bh(h).setLabelText=function(A){var D=aT(e,t,A);WH(h,D)})}else h&&(h.ignore=!0);r.dirty()}function on(r,t){t=t||"label";for(var e={normal:r.getModel(t)},n=0;n<di.length;n++){var i=di[n];e[i]=r.getModel([i,t])}return e}function or(r,t,e,n,i){var a={};return _it(a,r,e,n,i),t&&Mt(a,t),a}function L0(r,t,e){t=t||{};var n={},i,a=r.getShallow("rotate"),o=te(r.getShallow("distance"),e?null:5),c=r.getShallow("offset");return i=r.getShallow("position")||(e?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(n.position=i),c!=null&&(n.offset=c),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=r.get("color")==="inherit"?t.inheritColor||null:"auto",t.autoOverflowArea!=null&&(n.autoOverflowArea=t.autoOverflowArea),t.layoutRect!=null&&(n.layoutRect=t.layoutRect),n}function _it(r,t,e,n,i){e=e||X_;var a=t.ecModel,o=a&&a.option.textStyle,c=bit(t),h;if(c){h={};var v="richInheritPlainLabel",g=te(t.get(v),a?a.get(v):void 0);for(var y in c)if(c.hasOwnProperty(y)){var m=t.getModel(["rich",y]);YO(h[y]={},m,o,t,g,e,n,i,!1,!0)}}h&&(r.rich=h);var b=t.get("overflow");b&&(r.overflow=b);var S=t.get("lineOverflow");S&&(r.lineOverflow=S);var E=r,C=t.get("minMargin");if(C!=null)C=Ie(C)?C/2:0,E.margin=[C,C,C,C],E.__marginType=rh.minMargin;else{var A=t.get("textMargin");A!=null&&(E.margin=M_(A),E.__marginType=rh.textMargin)}YO(r,t,o,null,null,e,n,i,!0,!1)}function bit(r){for(var t;r&&r!==r.ecModel;){var e=(r.option||X_).rich;if(e){t=t||{};for(var n=Le(e),i=0;i<n.length;i++){var a=n[i];t[a]=1}}r=r.parentModel}return t}var UO=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],WO=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],jO=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function YO(r,t,e,n,i,a,o,c,h,v){e=!o&&e||X_;var g=a&&a.inheritColor,y=t.getShallow("color"),m=t.getShallow("textBorderColor"),b=te(t.getShallow("opacity"),e.opacity);(y==="inherit"||y==="auto")&&(g?y=g:y=null),(m==="inherit"||m==="auto")&&(g?m=g:m=null),c||(y=y||e.color,m=m||e.textBorderColor),y!=null&&(r.fill=y),m!=null&&(r.stroke=m);var S=te(t.getShallow("textBorderWidth"),e.textBorderWidth);S!=null&&(r.lineWidth=S);var E=te(t.getShallow("textBorderType"),e.textBorderType);E!=null&&(r.lineDash=E);var C=te(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);C!=null&&(r.lineDashOffset=C),!o&&b==null&&!v&&(b=a&&a.defaultOpacity),b!=null&&(r.opacity=b),!o&&!c&&r.fill==null&&a.inheritColor&&(r.fill=a.inheritColor);for(var A=0;A<UO.length;A++){var D=UO[A],L=i!==!1&&n?Hi(t.getShallow(D),n.getShallow(D),e[D]):te(t.getShallow(D),e[D]);L!=null&&(r[D]=L)}for(var A=0;A<WO.length;A++){var D=WO[A],L=t.getShallow(D);L!=null&&(r[D]=L)}if(r.verticalAlign==null){var R=t.getShallow("baseline");R!=null&&(r.verticalAlign=R)}if(!h||!a.disableBox){for(var A=0;A<jO.length;A++){var D=jO[A],L=t.getShallow(D);L!=null&&(r[D]=L)}var O=t.getShallow("borderType");O!=null&&(r.borderDash=O),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&g&&(r.backgroundColor=g),(r.borderColor==="auto"||r.borderColor==="inherit")&&g&&(r.borderColor=g)}}function CA(r,t){var e=t&&t.getModel("textStyle");return ua([r.fontStyle||e&&e.getShallow("fontStyle")||"",r.fontWeight||e&&e.getShallow("fontWeight")||"",(r.fontSize||e&&e.getShallow("fontSize")||12)+"px",r.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Bh=Ee();function jH(r,t,e,n){if(r){var i=Bh(r);i.prevValue=i.value,i.value=e;var a=t.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=t)}}function YH(r,t,e,n,i){var a=Bh(r);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,c=te(a.interpolatedValue,a.prevValue),h=a.value;function v(g){var y=aH(e,a.precision,c,h,g);a.interpolatedValue=g===1?null:y;var m=aT({labelDataIndex:t,labelFetcher:i,defaultText:o?o(y):y+""},a.statesModels,y);WH(r,m)}r.percent=0,(a.prevValue==null?pr:Ve)(r,{percent:1},n,t,null,v)}var rh={minMargin:1,textMargin:2},Sit=["textStyle","color"],gw=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],yw=new ke,wit=(function(){function r(){}return r.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Sit):null)},r.prototype.getFont=function(){return CA({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<gw.length;n++)e[gw[n]]=this.getShallow(gw[n]);return yw.useStyle(e),yw.update(),yw.getBoundingRect()},r})(),$H=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],xit=wc($H),Eit=(function(){function r(){}return r.prototype.getLineStyle=function(t){return xit(this,t)},r})(),qH=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Tit=wc(qH),Cit=(function(){function r(){}return r.prototype.getItemStyle=function(t,e){return Tit(this,t,e)},r})(),Me=(function(){function r(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return r.prototype.init=function(t,e,n){},r.prototype.mergeOption=function(t,e){ye(this.option,t,!0)},r.prototype.get=function(t,e){return t==null?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},r.prototype.getShallow=function(t,e){var n=this.option,i=n==null?n:n[t];if(i==null&&!e){var a=this.parentModel;a&&(i=a.getShallow(t))}return i},r.prototype.getModel=function(t,e){var n=t!=null,i=n?this.parsePath(t):null,a=n?this._doGet(i):this.option;return e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new r(a,e,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var t=this.constructor;return new t(ie(this.option))},r.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},r.prototype.resolveParentPath=function(t){return t},r.prototype.isAnimationEnabled=function(){if(!De.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&!(t[i]&&(n=n&&typeof n=="object"?n[t[i]]:null,n==null));i++);return n==null&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},r})();pA(Me);Irt(Me);Jr(Me,Eit);Jr(Me,Cit);Jr(Me,Grt);Jr(Me,wit);var Ait=Math.round(Math.random()*10);function Hh(r){return[r||"",Ait++].join("_")}function Dit(r){var t={};r.registerSubTypeDefaulter=function(e,n){var i=xo(e);t[i.main]=n},r.determineSubType=function(e,n){var i=n.type;if(!i){var a=xo(e).main;r.hasSubTypes(e)&&t[a]&&(i=t[a](n))}return i}}function Mit(r,t){r.topologicalTravel=function(a,o,c,h){if(!a.length)return;var v=e(o),g=v.graph,y=v.noEntryList,m={};for(j(a,function(D){m[D]=!0});y.length;){var b=y.pop(),S=g[b],E=!!m[b];E&&(c.call(h,b,S.originalDeps.slice()),delete m[b]),j(S.successor,E?A:C)}j(m,function(){var D="";throw new Error(D)});function C(D){g[D].entryCount--,g[D].entryCount===0&&y.push(D)}function A(D){m[D]=!0,C(D)}};function e(a){var o={},c=[];return j(a,function(h){var v=n(o,h),g=v.originalDeps=t(h),y=i(g,a);v.entryCount=y.length,v.entryCount===0&&c.push(h),j(y,function(m){ge(v.predecessor,m)<0&&v.predecessor.push(m);var b=n(o,m);ge(b.successor,m)<0&&b.successor.push(h)})}),{graph:o,noEntryList:c}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var c=[];return j(a,function(h){ge(o,h)>=0&&c.push(h)}),c}}function Gl(r,t){return ye(ye({},r,!0),t,!0)}const Lit={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Nit={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var N0="ZH",AA="EN",ph=AA,qm={},DA={},XH=De.domSupported?(function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||ph).toUpperCase();return r.indexOf(N0)>-1?N0:ph})():ph;function ZH(r,t){r=r.toUpperCase(),DA[r]=new Me(t),qm[r]=t}function Rit(r){if($t(r)){var t=qm[r.toUpperCase()]||{};return r===N0||r===AA?ie(t):ye(ie(t),ie(qm[ph]),!1)}else return ye(ie(r),ie(qm[ph]),!1)}function oT(r){return DA[r]}function Iit(){return DA[ph]}ZH(AA,Lit);ZH(N0,Nit);var sT=null;function Oit(r){sT||(sT=r)}function qr(){return sT}var MA=1e3,LA=MA*60,Wd=LA*60,la=Wd*24,$O=la*365,Pit={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},Xm={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},kit="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",Hy="{yyyy}-{MM}-{dd}",qO={year:"{yyyy}",month:"{yyyy}-{MM}",day:Hy,hour:Hy+" "+Xm.hour,minute:Hy+" "+Xm.minute,second:Hy+" "+Xm.second,millisecond:kit},Pi=["year","month","day","hour","minute","second","millisecond"],Vit=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Git(r){return!$t(r)&&!re(r)?Fit(r):r}function Fit(r){r=r||{};var t={},e=!0;return j(Pi,function(n){e&&(e=r[n]==null)}),j(Pi,function(n,i){var a=r[n];t[n]={};for(var o=null,c=i;c>=0;c--){var h=Pi[c],v=le(a)&&!Rt(a)?a[h]:a,g=void 0;Rt(v)?(g=v.slice(),o=g[0]||""):$t(v)?(o=v,g=[o]):(o==null?o=Xm[n]:Pit[h].test(o)||(o=t[h][h][0]+" "+o),g=[o],e&&(g[1]="{primary|"+o+"}")),t[n][h]=g}}),t}function Zs(r,t){return r+="","0000".substr(0,t-r.length)+r}function jd(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function Bit(r){return r===jd(r)}function Hit(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Z_(r,t,e,n){var i=Rc(r),a=i[KH(e)](),o=i[NA(e)]()+1,c=Math.floor((o-1)/3)+1,h=i[RA(e)](),v=i["get"+(e?"UTC":"")+"Day"](),g=i[IA(e)](),y=(g-1)%12+1,m=i[OA(e)](),b=i[PA(e)](),S=i[kA(e)](),E=g>=12?"pm":"am",C=E.toUpperCase(),A=n instanceof Me?n:oT(n||XH)||Iit(),D=A.getModel("time"),L=D.get("month"),R=D.get("monthAbbr"),O=D.get("dayOfWeek"),P=D.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,E+"").replace(/{A}/g,C+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Zs(a%100+"",2)).replace(/{Q}/g,c+"").replace(/{MMMM}/g,L[o-1]).replace(/{MMM}/g,R[o-1]).replace(/{MM}/g,Zs(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Zs(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,O[v]).replace(/{ee}/g,P[v]).replace(/{e}/g,v+"").replace(/{HH}/g,Zs(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,Zs(y+"",2)).replace(/{h}/g,y+"").replace(/{mm}/g,Zs(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,Zs(b,2)).replace(/{s}/g,b+"").replace(/{SSS}/g,Zs(S,3)).replace(/{S}/g,S+"")}function zit(r,t,e,n,i){var a=null;if($t(e))a=e;else if(re(e)){var o={time:r.time,level:r.time.level},c=qr();c&&c.makeAxisLabelFormatterParamBreak(o,r.break),a=e(r.value,t,o)}else{var h=r.time;if(h){var v=e[h.lowerTimeUnit][h.upperTimeUnit];a=v[Math.min(h.level,v.length-1)]||""}else{var g=nh(r.value,i);a=e[g][g][0]}}return Z_(new Date(r.value),a,i,n)}function nh(r,t){var e=Rc(r),n=e[NA(t)]()+1,i=e[RA(t)](),a=e[IA(t)](),o=e[OA(t)](),c=e[PA(t)](),h=e[kA(t)](),v=h===0,g=v&&c===0,y=g&&o===0,m=y&&a===0,b=m&&i===1,S=b&&n===1;return S?"year":b?"month":m?"day":y?"hour":g?"minute":v?"second":"millisecond"}function lT(r,t,e){switch(t){case"year":r[JH(e)](0);case"month":r[QH(e)](1);case"day":r[t4(e)](0);case"hour":r[e4(e)](0);case"minute":r[r4(e)](0);case"second":r[n4(e)](0)}return r}function KH(r){return r?"getUTCFullYear":"getFullYear"}function NA(r){return r?"getUTCMonth":"getMonth"}function RA(r){return r?"getUTCDate":"getDate"}function IA(r){return r?"getUTCHours":"getHours"}function OA(r){return r?"getUTCMinutes":"getMinutes"}function PA(r){return r?"getUTCSeconds":"getSeconds"}function kA(r){return r?"getUTCMilliseconds":"getMilliseconds"}function Uit(r){return r?"setUTCFullYear":"setFullYear"}function JH(r){return r?"setUTCMonth":"setMonth"}function QH(r){return r?"setUTCDate":"setDate"}function t4(r){return r?"setUTCHours":"setHours"}function e4(r){return r?"setUTCMinutes":"setMinutes"}function r4(r){return r?"setUTCSeconds":"setSeconds"}function n4(r){return r?"setUTCMilliseconds":"setMilliseconds"}function i4(r){if(!ZB(r))return $t(r)?r:"-";var t=(r+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function a4(r,t){return r=(r||"").toLowerCase().replace(/-(.)/g,function(e,n){return n.toUpperCase()}),t&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var Bv=M_;function uT(r,t,e){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(g){return g&&ua(g)?g:"-"}function a(g){return!!(g!=null&&!isNaN(g)&&isFinite(g))}var o=t==="time",c=r instanceof Date;if(o||c){var h=o?Rc(r):r;if(isNaN(+h)){if(c)return"-"}else return Z_(h,n,e)}if(t==="ordinal")return _E(r)?i(r):Ie(r)&&a(r)?r+"":"-";var v=bs(r);return a(v)?i4(v):_E(r)?i(r):typeof r=="boolean"?r+"":"-"}var XO=["a","b","c","d","e","f","g"],mw=function(r,t){return"{"+r+(t??"")+"}"};function o4(r,t,e){Rt(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var o=XO[a];r=r.replace(mw(o),mw(o,0))}for(var c=0;c<n;c++)for(var h=0;h<i.length;h++){var v=t[c][i[h]];r=r.replace(mw(XO[h],c),e?ui(v):v)}return r}function Wit(r,t,e){return j(t,function(n,i){r=r.replace("{"+i+"}",n)}),r}function jit(r,t){var e=$t(r)?{color:r,extraCssText:t}:r||{},n=e.color,i=e.type;t=e.extraCssText;var a=e.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ui(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+ui(n)+";"+(t||"")+'"></span>';var o=e.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function Cc(r,t){return t=t||"transparent",$t(r)?r:le(r)&&r.colorStops&&(r.colorStops[0]||{}).color||t}function R0(r,t){if(t==="_blank"||t==="blank"){var e=window.open();e.opener=null,e.location.href=r}else window.open(r,t)}var Zm={},_w={},Hv=(function(){function r(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return r.prototype.create=function(t,e){this._nonSeriesBoxMasterList=n(Zm),this._normalMasterList=n(_w);function n(i,a){var o=[];return j(i,function(c,h){var v=c.create(t,e);o=o.concat(v||[])}),o}},r.prototype.update=function(t,e){j(this._normalMasterList,function(n){n.update&&n.update(t,e)})},r.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},r.register=function(t,e){if(t==="matrix"||t==="calendar"){Zm[t]=e;return}_w[t]=e},r.get=function(t){return _w[t]||Zm[t]},r})();function Yit(r){return!!Zm[r]}var cT={coord:1,coord2:2};function $it(r){s4.set(r.fullType,{getCoord2:void 0}).getCoord2=r.getCoord2}var s4=Qt();function qit(r){var t=r.getShallow("coord",!0),e=cT.coord;if(t==null){var n=s4.get(r.type);n&&n.getCoord2&&(e=cT.coord2,t=n.getCoord2(r))}return{coord:t,from:e}}var mo={none:0,dataCoordSys:1,boxCoordSys:2};function l4(r,t){var e=r.getShallow("coordinateSystem"),n=r.getShallow("coordinateSystemUsage",!0),i=mo.none;if(e){var a=r.mainType==="series";n==null&&(n=a?"data":"box"),n==="data"?(i=mo.dataCoordSys,a||(i=mo.none)):n==="box"&&(i=mo.boxCoordSys,!a&&!Yit(e)&&(i=mo.none))}return{coordSysType:e,kind:i}}function zv(r){var t=r.targetModel,e=r.coordSysType,n=r.coordSysProvider,i=r.isDefaultDataCoordSys;r.allowNotFound;var a=l4(t),o=a.kind,c=a.coordSysType;if(i&&o!==mo.dataCoordSys&&(o=mo.dataCoordSys,c=e),o===mo.none||c!==e)return!1;var h=n(e,t);return h?(o===mo.dataCoordSys?t.coordinateSystem=h:t.boxCoordinateSystem=h,!0):!1}var u4=function(r,t){var e=t.getReferringComponents(r,Ar).models[0];return e&&e.coordinateSystem},Km=j,c4=["left","right","top","bottom","width","height"],ic=[["width","left","right"],["height","top","bottom"]];function VA(r,t,e,n,i){var a=0,o=0;n==null&&(n=1/0),i==null&&(i=1/0);var c=0;t.eachChild(function(h,v){var g=h.getBoundingRect(),y=t.childAt(v+1),m=y&&y.getBoundingRect(),b,S;if(r==="horizontal"){var E=g.width+(m?-m.x+g.x:0);b=a+E,b>n||h.newline?(a=0,b=E,o+=c+e,c=g.height):c=Math.max(c,g.height)}else{var C=g.height+(m?-m.y+g.y:0);S=o+C,S>i||h.newline?(a+=c+e,o=0,S=C,c=g.width):c=Math.max(c,g.width)}h.newline||(h.x=a,h.y=o,h.markRedraw(),r==="horizontal"?a=b+e:o=S+e)})}var gc=VA;ve(VA,"vertical");ve(VA,"horizontal");function f4(r,t){return{left:r.getShallow("left",t),top:r.getShallow("top",t),right:r.getShallow("right",t),bottom:r.getShallow("bottom",t),width:r.getShallow("width",t),height:r.getShallow("height",t)}}function Xit(r,t){var e=sn(r,t,{enableLayoutOnlyByCenter:!0}),n=r.getBoxLayoutParams(),i,a;if(e.type===wd.point)a=e.refPoint,i=mr(n,{width:t.getWidth(),height:t.getHeight()});else{var o=r.get("center"),c=Rt(o)?o:[o,o];i=mr(n,e.refContainer),a=e.boxCoordFrom===cT.coord2?e.refPoint:[Yt(c[0],i.width)+i.x,Yt(c[1],i.height)+i.y]}return{viewRect:i,center:a}}function h4(r,t){var e=Xit(r,t),n=e.viewRect,i=e.center,a=r.get("radius");Rt(a)||(a=[0,a]);var o=Yt(n.width,t.getWidth()),c=Yt(n.height,t.getHeight()),h=Math.min(o,c),v=Yt(a[0],h/2),g=Yt(a[1],h/2);return{cx:i[0],cy:i[1],r0:v,r:g,viewRect:n}}function mr(r,t,e){e=Bv(e||0);var n=t.width,i=t.height,a=Yt(r.left,n),o=Yt(r.top,i),c=Yt(r.right,n),h=Yt(r.bottom,i),v=Yt(r.width,n),g=Yt(r.height,i),y=e[2]+e[0],m=e[1]+e[3],b=r.aspect;switch(isNaN(v)&&(v=n-c-m-a),isNaN(g)&&(g=i-h-y-o),b!=null&&(isNaN(v)&&isNaN(g)&&(b>n/i?v=n*.8:g=i*.8),isNaN(v)&&(v=b*g),isNaN(g)&&(g=v/b)),isNaN(a)&&(a=n-c-v-m),isNaN(o)&&(o=i-h-g-y),r.left||r.right){case"center":a=n/2-v/2-e[3];break;case"right":a=n-v-m;break}switch(r.top||r.bottom){case"middle":case"center":o=i/2-g/2-e[0];break;case"bottom":o=i-g-y;break}a=a||0,o=o||0,isNaN(v)&&(v=n-m-a-(c||0)),isNaN(g)&&(g=i-y-o-(h||0));var S=new ue((t.x||0)+a+e[3],(t.y||0)+o+e[0],v,g);return S.margin=e,S}function p4(r,t,e){var n=r.getShallow("preserveAspect",!0);if(!n)return t;var i=t.width/t.height;if(Math.abs(Math.atan(e)-Math.atan(i))<1e-9)return t;var a=r.getShallow("preserveAspectAlign",!0),o=r.getShallow("preserveAspectVerticalAlign",!0),c={width:t.width,height:t.height},h=n==="cover";return i>e&&!h||i<e&&h?(c.width=t.height*e,a==="left"?c.left=0:a==="right"?c.right=0:c.left="center"):(c.height=t.width/e,o==="top"?c.top=0:o==="bottom"?c.bottom=0:c.top="middle"),mr(c,t)}var wd={rect:1,point:2};function sn(r,t,e){var n,i,a,o=r.boxCoordinateSystem,c;if(o){var h=qit(r),v=h.coord,g=h.from;if(o.dataToLayout){a=wd.rect,c=g;var y=o.dataToLayout(v);n=y.contentRect||y.rect}else e&&e.enableLayoutOnlyByCenter&&o.dataToPoint&&(a=wd.point,c=g,i=o.dataToPoint(v))}return a==null&&(a=wd.rect),a===wd.rect&&(n||(n={x:0,y:0,width:t.getWidth(),height:t.getHeight()}),i=[n.x+n.width/2,n.y+n.height/2]),{type:a,refContainer:n,refPoint:i,boxCoordFrom:c}}function K_(r,t,e,n,i,a){var o=!i||!i.hv||i.hv[0],c=!i||!i.hv||i.hv[1],h=i&&i.boundingMode||"all";if(a=a||r,a.x=r.x,a.y=r.y,!o&&!c)return!1;var v;if(h==="raw")v=r.type==="group"?new ue(0,0,+t.width||0,+t.height||0):r.getBoundingRect();else if(v=r.getBoundingRect(),r.needLocalTransform()){var g=r.getLocalTransform();v=v.clone(),v.applyTransform(g)}var y=mr(se({width:v.width,height:v.height},t),e,n),m=o?y.x-v.x:0,b=c?y.y-v.y:0;return h==="raw"?(a.x=m,a.y=b):(a.x+=m,a.y+=b),a===r&&r.markRedraw(),!0}function Zit(r,t){return r[ic[t][0]]!=null||r[ic[t][1]]!=null&&r[ic[t][2]]!=null}function hv(r){var t=r.layoutMode||r.constructor.layoutMode;return le(t)?t:t?{type:t}:null}function Vo(r,t,e){var n=e&&e.ignoreSize;!Rt(n)&&(n=[n,n]);var i=o(ic[0],0),a=o(ic[1],1);h(ic[0],r,i),h(ic[1],r,a);function o(v,g){var y={},m=0,b={},S=0,E=2;if(Km(v,function(D){b[D]=r[D]}),Km(v,function(D){Xt(t,D)&&(y[D]=b[D]=t[D]),c(y,D)&&m++,c(b,D)&&S++}),n[g])return c(t,v[1])?b[v[2]]=null:c(t,v[2])&&(b[v[1]]=null),b;if(S===E||!m)return b;if(m>=E)return y;for(var C=0;C<v.length;C++){var A=v[C];if(!Xt(y,A)&&Xt(r,A)){y[A]=r[A];break}}return y}function c(v,g){return v[g]!=null&&v[g]!=="auto"}function h(v,g,y){Km(v,function(m){g[m]=y[m]})}}function Oc(r){return d4({},r)}function d4(r,t){return t&&r&&Km(c4,function(e){Xt(t,e)&&(r[e]=t[e])}),r}var Kit=Ee(),Ce=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return a.uid=Hh("ec_cpt_model"),a}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i)},t.prototype.mergeDefaultAndTheme=function(e,n){var i=hv(this),a=i?Oc(e):{},o=n.getTheme();ye(e,o.get(this.mainType)),ye(e,this.getDefaultOption()),i&&Vo(e,a,i)},t.prototype.mergeOption=function(e,n){ye(this.option,e,!0);var i=hv(this);i&&Vo(this.option,e,i)},t.prototype.optionUpdated=function(e,n){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!Lrt(e))return e.defaultOption;var n=Kit(this);if(!n.defaultOption){for(var i=[],a=e;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var c={},h=i.length-1;h>=0;h--)c=ye(c,i[h],!0);n.defaultOption=c}return n.defaultOption},t.prototype.getReferringComponents=function(e,n){var i=e+"Index",a=e+"Id";return kh(this.ecModel,e,{index:this.get(i,!0),id:this.get(a,!0)},n)},t.prototype.getBoxLayoutParams=function(){return f4(this,!1)},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=(function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0})(),t})(Me);sH(Ce,Me);k_(Ce);Dit(Ce);Mit(Ce,Jit);function Jit(r){var t=[];return j(Ce.getClassesByMainType(r),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=Pt(t,function(e){return xo(e).main}),r!=="dataset"&&ge(t,"dataset")<=0&&t.unshift("dataset"),t}var yt={color:{},darkColor:{},size:{}},kr=yt.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};Mt(kr,{primary:kr.neutral80,secondary:kr.neutral70,tertiary:kr.neutral60,quaternary:kr.neutral50,disabled:kr.neutral20,border:kr.neutral30,borderTint:kr.neutral20,borderShade:kr.neutral40,background:kr.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:kr.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:kr.neutral70,axisLineTint:kr.neutral40,axisTick:kr.neutral70,axisTickMinor:kr.neutral60,axisLabel:kr.neutral70,axisSplitLine:kr.neutral15,axisMinorSplitLine:kr.neutral05});for(var Ou in kr)if(kr.hasOwnProperty(Ou)){var ZO=kr[Ou];Ou==="theme"?yt.darkColor.theme=kr.theme.slice():Ou==="highlight"?yt.darkColor.highlight="rgba(255,231,130,0.4)":Ou.indexOf("accent")===0?yt.darkColor[Ou]=wl(ZO,null,function(r){return r*.5},function(r){return Math.min(1,1.3-r)}):yt.darkColor[Ou]=wl(ZO,null,function(r){return r*.9},function(r){return 1-Math.pow(r,1.5)})}yt.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var v4="";typeof navigator<"u"&&(v4=navigator.platform||"");var Af="rgba(0, 0, 0, 0.2)",g4=yt.color.theme[0],Qit=wl(g4,null,null,.9);const tat={darkMode:"auto",colorBy:"series",color:yt.color.theme,gradientColor:[Qit,g4],aria:{decal:{decals:[{color:Af,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Af,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Af,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Af,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Af,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Af,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:v4.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var y4=Qt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Ui="original",xn="arrayRows",Wi="objectRows",Ha="keyedColumns",El="typedArray",m4="unknown",Pa="column",Pc="row",Rn={Must:1,Might:2,Not:3},_4=Ee();function eat(r){_4(r).datasetMap=Qt()}function b4(r,t,e){var n={},i=FA(t);if(!i||!r)return n;var a=[],o=[],c=t.ecModel,h=_4(c).datasetMap,v=i.uid+"_"+e.seriesLayoutBy,g,y;r=r.slice(),j(r,function(E,C){var A=le(E)?E:r[C]={name:E};A.type==="ordinal"&&g==null&&(g=C,y=S(A)),n[A.name]=[]});var m=h.get(v)||h.set(v,{categoryWayDim:y,valueWayDim:0});j(r,function(E,C){var A=E.name,D=S(E);if(g==null){var L=m.valueWayDim;b(n[A],L,D),b(o,L,D),m.valueWayDim+=D}else if(g===C)b(n[A],0,D),b(a,0,D);else{var L=m.categoryWayDim;b(n[A],L,D),b(o,L,D),m.categoryWayDim+=D}});function b(E,C,A){for(var D=0;D<A;D++)E.push(C+D)}function S(E){var C=E.dimsDef;return C?C.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function GA(r,t,e){var n={},i=FA(r);if(!i)return n;var a=t.sourceFormat,o=t.dimensionsDefine,c;(a===Wi||a===Ha)&&j(o,function(g,y){(le(g)?g.name:g)==="name"&&(c=y)});var h=(function(){for(var g={},y={},m=[],b=0,S=Math.min(5,e);b<S;b++){var E=w4(t.data,a,t.seriesLayoutBy,o,t.startIndex,b);m.push(E);var C=E===Rn.Not;if(C&&g.v==null&&b!==c&&(g.v=b),(g.n==null||g.n===g.v||!C&&m[g.n]===Rn.Not)&&(g.n=b),A(g)&&m[g.n]!==Rn.Not)return g;C||(E===Rn.Might&&y.v==null&&b!==c&&(y.v=b),(y.n==null||y.n===y.v)&&(y.n=b))}function A(D){return D.v!=null&&D.n!=null}return A(g)?g:A(y)?y:null})();if(h){n.value=[h.v];var v=c??h.n;n.itemName=[v],n.seriesName=[v]}return n}function FA(r){var t=r.get("data",!0);if(!t)return kh(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},Ar).models[0]}function rat(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:kh(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},Ar).models}function S4(r,t){return w4(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,t)}function w4(r,t,e,n,i,a){var o,c=5;if(Ti(r))return Rn.Not;var h,v;if(n){var g=n[a];le(g)?(h=g.name,v=g.type):$t(g)&&(h=g)}if(v!=null)return v==="ordinal"?Rn.Must:Rn.Not;if(t===xn){var y=r;if(e===Pc){for(var m=y[a],b=0;b<(m||[]).length&&b<c;b++)if((o=R(m[i+b]))!=null)return o}else for(var b=0;b<y.length&&b<c;b++){var S=y[i+b];if(S&&(o=R(S[a]))!=null)return o}}else if(t===Wi){var E=r;if(!h)return Rn.Not;for(var b=0;b<E.length&&b<c;b++){var C=E[b];if(C&&(o=R(C[h]))!=null)return o}}else if(t===Ha){var A=r;if(!h)return Rn.Not;var m=A[h];if(!m||Ti(m))return Rn.Not;for(var b=0;b<m.length&&b<c;b++)if((o=R(m[b]))!=null)return o}else if(t===Ui)for(var D=r,b=0;b<D.length&&b<c;b++){var C=D[b],L=Ph(C);if(!Rt(L))return Rn.Not;if((o=R(L[a]))!=null)return o}function R(O){var P=$t(O);if(O!=null&&Number.isFinite(Number(O))&&O!=="")return P?Rn.Might:Rn.Not;if(P&&O!=="-")return Rn.Must}return Rn.Not}var fT=Qt();function nat(r,t){qn(fT.get(r)==null&&t),fT.set(r,t)}function iat(r,t,e){var n=fT.get(t);if(!n)return e;var i=n(r);return i?e.concat(i):e}var KO=Ee(),aat=Ee(),BA=(function(){function r(){}return r.prototype.getColorFromPalette=function(t,e,n){var i=tr(this.get("color",!0)),a=this.get("colorLayer",!0);return x4(this,KO,i,a,t,e,n)},r.prototype.clearColorPalette=function(){sat(this,KO)},r})();function hT(r,t,e,n){var i=tr(r.get(["aria","decal","decals"]));return x4(r,aat,i,null,t,e,n)}function oat(r,t){for(var e=r.length,n=0;n<e;n++)if(r[n].length>t)return r[n];return r[e-1]}function x4(r,t,e,n,i,a,o){a=a||r;var c=t(a),h=c.paletteIdx||0,v=c.paletteNameMap=c.paletteNameMap||{};if(v.hasOwnProperty(i))return v[i];var g=o==null||!n?e:oat(n,o);if(g=g||e,!(!g||!g.length)){var y=g[h];return i&&(v[i]=y),c.paletteIdx=(h+1)%g.length,y}}function sat(r,t){t(r).paletteIdx=0,t(r).paletteNameMap={}}var zy,Wp,JO,QO="\0_ec_inner",lat=1,HA=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e,n,i,a,o,c){a=a||{},this.option=null,this._theme=new Me(a),this._locale=new Me(o),this._optionManager=c},t.prototype.setOption=function(e,n,i){var a=rP(n);this._optionManager.setOption(e,i,a),this._resetOption(null,a)},t.prototype.resetOption=function(e,n){return this._resetOption(e,rP(n))},t.prototype._resetOption=function(e,n){var i=!1,a=this._optionManager;if(!e||e==="recreate"){var o=a.mountOption(e==="recreate");!this.option||e==="recreate"?JO(this,o):(this.restoreData(),this._mergeOption(o,n)),i=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var c=a.getTimelineOption(this);c&&(i=!0,this._mergeOption(c,n))}if(!e||e==="recreate"||e==="media"){var h=a.getMediaOption(this);h.length&&j(h,function(v){i=!0,this._mergeOption(v,n)},this)}return i},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,n){var i=this.option,a=this._componentsMap,o=this._componentsCount,c=[],h=Qt(),v=n&&n.replaceMergeMainTypeMap;eat(this),j(e,function(y,m){y!=null&&(Ce.hasClass(m)?m&&(c.push(m),h.set(m,!0)):i[m]=i[m]==null?ie(y):ye(i[m],y,!0))}),v&&v.each(function(y,m){Ce.hasClass(m)&&!h.get(m)&&(c.push(m),h.set(m,!0))}),Ce.topologicalTravel(c,Ce.getAllClassMainTypes(),g,this);function g(y){var m=iat(this,y,tr(e[y])),b=a.get(y),S=b?v&&v.get(y)?"replaceMerge":"normalMerge":"replaceAll",E=rH(b,m,S);Srt(E,y,Ce),i[y]=null,a.set(y,null),o.set(y,0);var C=[],A=[],D=0,L;j(E,function(R,O){var P=R.existing,V=R.newOption;if(!V)P&&(P.mergeOption({},this),P.optionUpdated({},!1));else{var k=y==="series",F=Ce.getClass(y,R.keyInfo.subType,!k);if(!F)return;if(y==="tooltip"){if(L)return;L=!0}if(P&&P.constructor===F)P.name=R.keyInfo.name,P.mergeOption(V,this),P.optionUpdated(V,!1);else{var H=Mt({componentIndex:O},R.keyInfo);P=new F(V,this,this,H),Mt(P,H),R.brandNew&&(P.__requireNewView=!0),P.init(V,this,this),P.optionUpdated(null,!0)}}P?(C.push(P.option),A.push(P),D++):(C.push(void 0),A.push(void 0))},this),i[y]=C,a.set(y,A),o.set(y,D),y==="series"&&zy(this)}this._seriesIndices||zy(this)},t.prototype.getOption=function(){var e=ie(this.option);return j(e,function(n,i){if(Ce.hasClass(i)){for(var a=tr(n),o=a.length,c=!1,h=o-1;h>=0;h--)a[h]&&!sv(a[h])?c=!0:(a[h]=null,!c&&o--);a.length=o,e[i]=a}}),delete e[QO],e},t.prototype.setTheme=function(e){this._theme=new Me(e),this._resetOption("recreate",null)},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,n){var i=this._componentsMap.get(e);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},t.prototype.queryComponents=function(e){var n=e.mainType;if(!n)return[];var i=e.index,a=e.id,o=e.name,c=this._componentsMap.get(n);if(!c||!c.length)return[];var h;return i!=null?(h=[],j(tr(i),function(v){c[v]&&h.push(c[v])})):a!=null?h=tP("id",a,c):o!=null?h=tP("name",o,c):h=Ye(c,function(v){return!!v}),eP(h,e)},t.prototype.findComponents=function(e){var n=e.query,i=e.mainType,a=c(n),o=a?this.queryComponents(a):Ye(this._componentsMap.get(i),function(v){return!!v});return h(eP(o,e));function c(v){var g=i+"Index",y=i+"Id",m=i+"Name";return v&&(v[g]!=null||v[y]!=null||v[m]!=null)?{mainType:i,index:v[g],id:v[y],name:v[m]}:null}function h(v){return e.filter?Ye(v,e.filter):v}},t.prototype.eachComponent=function(e,n,i){var a=this._componentsMap;if(re(e)){var o=n,c=e;a.each(function(y,m){for(var b=0;y&&b<y.length;b++){var S=y[b];S&&c.call(o,m,S,S.componentIndex)}})}else for(var h=$t(e)?a.get(e):le(e)?this.findComponents(e):null,v=0;h&&v<h.length;v++){var g=h[v];g&&n.call(i,g,g.componentIndex)}},t.prototype.getSeriesByName=function(e){var n=nn(e,null);return Ye(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Ye(this._componentsMap.get("series"),function(n){return!!n&&n.subType===e})},t.prototype.getSeries=function(){return Ye(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,n){Wp(this),j(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];e.call(n,a,i)},this)},t.prototype.eachRawSeries=function(e,n){j(this._componentsMap.get("series"),function(i){i&&e.call(n,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(e,n,i){Wp(this),j(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===e&&n.call(i,o,a)},this)},t.prototype.eachRawSeriesByType=function(e,n,i){return j(this.getSeriesByType(e),n,i)},t.prototype.isSeriesFiltered=function(e){return Wp(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,n){Wp(this);var i=[];j(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];e.call(n,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Qt(i)},t.prototype.restoreData=function(e){zy(this);var n=this._componentsMap,i=[];n.each(function(a,o){Ce.hasClass(o)&&i.push(o)}),Ce.topologicalTravel(i,Ce.getAllClassMainTypes(),function(a){j(n.get(a),function(o){o&&(a!=="series"||!uat(o,e))&&o.restoreData()})})},t.internalField=(function(){zy=function(e){var n=e._seriesIndices=[];j(e._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),e._seriesIndicesMap=Qt(n)},Wp=function(e){},JO=function(e,n){e.option={},e.option[QO]=lat,e._componentsMap=Qt({series:[]}),e._componentsCount=Qt();var i=n.aria;le(i)&&i.enabled==null&&(i.enabled=!0),cat(n,e._theme.option),ye(n,tat,!1),e._mergeOption(n,null)}})(),t})(Me);function uat(r,t){if(t){var e=t.seriesIndex,n=t.seriesId,i=t.seriesName;return e!=null&&r.componentIndex!==e||n!=null&&r.id!==n||i!=null&&r.name!==i}}function cat(r,t){var e=r.color&&!r.colorLayer;j(t,function(n,i){i==="colorLayer"&&e||i==="color"&&r.color||Ce.hasClass(i)||(typeof n=="object"?r[i]=r[i]?ye(r[i],n,!1):ie(n):r[i]==null&&(r[i]=n))})}function tP(r,t,e){if(Rt(t)){var n=Qt();return j(t,function(a){if(a!=null){var o=nn(a,null);o!=null&&n.set(a,!0)}}),Ye(e,function(a){return a&&n.get(a[r])})}else{var i=nn(t,null);return Ye(e,function(a){return a&&i!=null&&a[r]===i})}}function eP(r,t){return t.hasOwnProperty("subType")?Ye(r,function(e){return e&&e.subType===t.subType}):r}function rP(r){var t=Qt();return r&&j(tr(r.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}Jr(HA,BA);var fat=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],E4=(function(){function r(t){j(fat,function(e){this[e]=qt(t[e],t)},this)}return r})(),hat=/^(min|max)?(.+)$/,pat=(function(){function r(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return r.prototype.setOption=function(t,e,n){t&&(j(tr(t.series),function(o){o&&o.data&&Ti(o.data)&&p0(o.data)}),j(tr(t.dataset),function(o){o&&o.source&&Ti(o.source)&&p0(o.source)})),t=ie(t);var i=this._optionBackup,a=dat(t,e,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},r.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],ie(t?e.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=ie(n[i.getCurrentIndex()]))}return e},r.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],c=[];if(!i.length&&!a)return c;for(var h=0,v=i.length;h<v;h++)vat(i[h].query,e,n)&&o.push(h);return!o.length&&a&&(o=[-1]),o.length&&!yat(o,this._currentMediaIndices)&&(c=Pt(o,function(g){return ie(g===-1?a.option:i[g].option)})),this._currentMediaIndices=o,c},r})();function dat(r,t,e){var n=[],i,a,o=r.baseOption,c=r.timeline,h=r.options,v=r.media,g=!!r.media,y=!!(h||c||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=c)):((y||g)&&(r.options=r.media=null),a=r),g&&Rt(v)&&j(v,function(b){b&&b.option&&(b.query?n.push(b):i||(i=b))}),m(a),j(h,function(b){return m(b)}),j(n,function(b){return m(b.option)});function m(b){j(t,function(S){S(b,e)})}return{baseOption:a,timelineOptions:h||[],mediaDefault:i,mediaList:n}}function vat(r,t,e){var n={width:t,height:e,aspectratio:t/e},i=!0;return j(r,function(a,o){var c=o.match(hat);if(!(!c||!c[1]||!c[2])){var h=c[1],v=c[2].toLowerCase();gat(n[v],a,h)||(i=!1)}}),i}function gat(r,t,e){return e==="min"?r>=t:e==="max"?r<=t:r===t}function yat(r,t){return r.join(",")===t.join(",")}var Ta=j,pv=le,nP=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function bw(r){var t=r&&r.itemStyle;if(t)for(var e=0,n=nP.length;e<n;e++){var i=nP[e],a=t.normal,o=t.emphasis;a&&a[i]&&(r[i]=r[i]||{},r[i].normal?ye(r[i].normal,a[i]):r[i].normal=a[i],a[i]=null),o&&o[i]&&(r[i]=r[i]||{},r[i].emphasis?ye(r[i].emphasis,o[i]):r[i].emphasis=o[i],o[i]=null)}}function Un(r,t,e){if(r&&r[t]&&(r[t].normal||r[t].emphasis)){var n=r[t].normal,i=r[t].emphasis;n&&(e?(r[t].normal=r[t].emphasis=null,se(r[t],n)):r[t]=n),i&&(r.emphasis=r.emphasis||{},r.emphasis[t]=i,i.focus&&(r.emphasis.focus=i.focus),i.blurScope&&(r.emphasis.blurScope=i.blurScope))}}function xd(r){Un(r,"itemStyle"),Un(r,"lineStyle"),Un(r,"areaStyle"),Un(r,"label"),Un(r,"labelLine"),Un(r,"upperLabel"),Un(r,"edgeLabel")}function jr(r,t){var e=pv(r)&&r[t],n=pv(e)&&e.textStyle;if(n)for(var i=0,a=oO.length;i<a;i++){var o=oO[i];n.hasOwnProperty(o)&&(e[o]=n[o])}}function ra(r){r&&(xd(r),jr(r,"label"),r.emphasis&&jr(r.emphasis,"label"))}function mat(r){if(pv(r)){bw(r),xd(r),jr(r,"label"),jr(r,"upperLabel"),jr(r,"edgeLabel"),r.emphasis&&(jr(r.emphasis,"label"),jr(r.emphasis,"upperLabel"),jr(r.emphasis,"edgeLabel"));var t=r.markPoint;t&&(bw(t),ra(t));var e=r.markLine;e&&(bw(e),ra(e));var n=r.markArea;n&&ra(n);var i=r.data;if(r.type==="graph"){i=i||r.nodes;var a=r.links||r.edges;if(a&&!Ti(a))for(var o=0;o<a.length;o++)ra(a[o]);j(r.categories,function(v){xd(v)})}if(i&&!Ti(i))for(var o=0;o<i.length;o++)ra(i[o]);if(t=r.markPoint,t&&t.data)for(var c=t.data,o=0;o<c.length;o++)ra(c[o]);if(e=r.markLine,e&&e.data)for(var h=e.data,o=0;o<h.length;o++)Rt(h[o])?(ra(h[o][0]),ra(h[o][1])):ra(h[o]);r.type==="gauge"?(jr(r,"axisLabel"),jr(r,"title"),jr(r,"detail")):r.type==="treemap"?(Un(r.breadcrumb,"itemStyle"),j(r.levels,function(v){xd(v)})):r.type==="tree"&&xd(r.leaves)}}function Qo(r){return Rt(r)?r:r?[r]:[]}function iP(r){return(Rt(r)?r[0]:r)||{}}function _at(r,t){Ta(Qo(r.series),function(n){pv(n)&&mat(n)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),Ta(e,function(n){Ta(Qo(r[n]),function(i){i&&(jr(i,"axisLabel"),jr(i.axisPointer,"label"))})}),Ta(Qo(r.parallel),function(n){var i=n&&n.parallelAxisDefault;jr(i,"axisLabel"),jr(i&&i.axisPointer,"label")}),Ta(Qo(r.calendar),function(n){Un(n,"itemStyle"),jr(n,"dayLabel"),jr(n,"monthLabel"),jr(n,"yearLabel")}),Ta(Qo(r.radar),function(n){jr(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Ta(Qo(r.geo),function(n){pv(n)&&(ra(n),Ta(Qo(n.regions),function(i){ra(i)}))}),Ta(Qo(r.timeline),function(n){ra(n),Un(n,"label"),Un(n,"itemStyle"),Un(n,"controlStyle",!0);var i=n.data;Rt(i)&&j(i,function(a){le(a)&&(Un(a,"label"),Un(a,"itemStyle"))})}),Ta(Qo(r.toolbox),function(n){Un(n,"iconStyle"),Ta(n.feature,function(i){Un(i,"iconStyle")})}),jr(iP(r.axisPointer),"label"),jr(iP(r.tooltip).axisPointer,"label")}function bat(r,t){for(var e=t.split(","),n=r,i=0;i<e.length&&(n=n&&n[e[i]],n!=null);i++);return n}function Sat(r,t,e,n){for(var i=t.split(","),a=r,o,c=0;c<i.length-1;c++)o=i[c],a[o]==null&&(a[o]={}),a=a[o];a[i[c]]==null&&(a[i[c]]=e)}function aP(r){r&&j(wat,function(t){t[0]in r&&!(t[1]in r)&&(r[t[1]]=r[t[0]])})}var wat=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],xat=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Sw=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function jp(r){var t=r&&r.itemStyle;if(t)for(var e=0;e<Sw.length;e++){var n=Sw[e][1],i=Sw[e][0];t[n]!=null&&(t[i]=t[n])}}function oP(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function sP(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function Eat(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function T4(r,t){if(r)for(var e=0;e<r.length;e++)t(r[e]),r[e]&&T4(r[e].children,t)}function C4(r,t){_at(r,t),r.series=tr(r.series),j(r.series,function(e){if(le(e)){var n=e.type;if(n==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(n==="pie"||n==="gauge"){e.clockWise!=null&&(e.clockwise=e.clockWise),oP(e.label);var i=e.data;if(i&&!Ti(i))for(var a=0;a<i.length;a++)oP(i[a]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(n==="gauge"){var o=bat(e,"pointer.color");o!=null&&Sat(e,"itemStyle.color",o)}else if(n==="bar"){jp(e),jp(e.backgroundStyle),jp(e.emphasis);var i=e.data;if(i&&!Ti(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(jp(i[a]),jp(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var c=e.highlightPolicy;c&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=c)),sP(e),T4(e.data,sP)}else n==="graph"||n==="sankey"?Eat(e):n==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&se(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),aP(e)}}),r.dataRange&&(r.visualMap=r.dataRange),j(xat,function(e){var n=r[e];n&&(Rt(n)||(n=[n]),j(n,function(i){aP(i)}))})}function Tat(r){var t=Qt();r.eachSeries(function(e){var n=e.get("stack");if(n){var i=t.get(n)||t.set(n,[]),a=e.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.push(o)}}),t.each(function(e){if(e.length!==0){var n=e[0].seriesModel,i=n.get("stackOrder")||"seriesAsc";i==="seriesDesc"&&e.reverse(),j(e,function(a,o){a.data.setCalculationInfo("stackedOnSeries",o>0?e[o-1].seriesModel:null)}),Cat(e)}})}function Cat(r){j(r,function(t,e){var n=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],o=t.data,c=t.isStackedByIndex,h=t.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(v,g,y){var m=o.get(t.stackedDimension,y);if(isNaN(m))return i;var b,S;c?S=o.getRawIndex(y):b=o.get(t.stackedByDimension,y);for(var E=NaN,C=e-1;C>=0;C--){var A=r[C];if(c||(S=A.data.rawIndexOf(A.stackedByDimension,b)),S>=0){var D=A.data.getByRawIndex(A.stackResultDimension,S);if(h==="all"||h==="positive"&&D>0||h==="negative"&&D<0||h==="samesign"&&m>=0&&D>0||h==="samesign"&&m<=0&&D<0){m=srt(m,D),E=D;break}}}return n[0]=m,n[1]=E,n})})}var J_=(function(){function r(t){this.data=t.data||(t.sourceFormat===Ha?{}:[]),this.sourceFormat=t.sourceFormat||m4,this.seriesLayoutBy=t.seriesLayoutBy||Pa,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var i=e[n];i.type==null&&S4(this,n)===Rn.Must&&(i.type="ordinal")}}return r})();function zA(r){return r instanceof J_}function pT(r,t,e){e=e||A4(r);var n=t.seriesLayoutBy,i=Dat(r,e,n,t.sourceHeader,t.dimensions),a=new J_({data:r,sourceFormat:e,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:ie(t)});return a}function UA(r){return new J_({data:r,sourceFormat:Ti(r)?El:Ui})}function Aat(r){return new J_({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:ie(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function A4(r){var t=m4;if(Ti(r))t=El;else if(Rt(r)){r.length===0&&(t=xn);for(var e=0,n=r.length;e<n;e++){var i=r[e];if(i!=null){if(Rt(i)||Ti(i)){t=xn;break}else if(le(i)){t=Wi;break}}}}else if(le(r)){for(var a in r)if(Xt(r,a)&&$n(r[a])){t=Ha;break}}return t}function Dat(r,t,e,n,i){var a,o;if(!r)return{dimensionsDefine:lP(i),startIndex:o,dimensionsDetectedCount:a};if(t===xn){var c=r;n==="auto"||n==null?uP(function(v){v!=null&&v!=="-"&&($t(v)?o==null&&(o=1):o=0)},e,c,10):o=Ie(n)?n:n?1:0,!i&&o===1&&(i=[],uP(function(v,g){i[g]=v!=null?v+"":""},e,c,1/0)),a=i?i.length:e===Pc?c.length:c[0]?c[0].length:null}else if(t===Wi)i||(i=Mat(r));else if(t===Ha)i||(i=[],j(r,function(v,g){i.push(g)}));else if(t===Ui){var h=Ph(r[0]);a=Rt(h)&&h.length||1}return{startIndex:o,dimensionsDefine:lP(i),dimensionsDetectedCount:a}}function Mat(r){for(var t=0,e;t<r.length&&!(e=r[t++]););if(e)return Le(e)}function lP(r){if(r){var t=Qt();return Pt(r,function(e,n){e=le(e)?e:{name:e};var i={name:e.name,displayName:e.displayName,type:e.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i})}}function uP(r,t,e,n){if(t===Pc)for(var i=0;i<e.length&&i<n;i++)r(e[i]?e[i][0]:null,i);else for(var a=e[0]||[],i=0;i<a.length&&i<n;i++)r(a[i],i)}function D4(r){var t=r.sourceFormat;return t===Wi||t===Ha}var Pu,ku,Vu,Gu,cP,fP,M4=(function(){function r(t,e){var n=zA(t)?t:UA(t);this._source=n;var i=this._data=n.data,a=n.sourceFormat;n.seriesLayoutBy,a===El&&(this._offset=0,this._dimSize=e,this._data=i),fP(this,i,n)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(t,e){},r.prototype.appendData=function(t){},r.prototype.clean=function(){},r.protoInitialize=(function(){var t=r.prototype;t.pure=!1,t.persistent=!0})(),r.internalField=(function(){var t;fP=function(o,c,h){var v=h.sourceFormat,g=h.seriesLayoutBy,y=h.startIndex,m=h.dimensionsDefine,b=cP[WA(v,g)];if(Mt(o,b),v===El)o.getItem=e,o.count=i,o.fillStorage=n;else{var S=L4(v,g);o.getItem=qt(S,null,c,y,m);var E=N4(v,g);o.count=qt(E,null,c,y,m)}};var e=function(o,c){o=o-this._offset,c=c||[];for(var h=this._data,v=this._dimSize,g=v*o,y=0;y<v;y++)c[y]=h[g+y];return c},n=function(o,c,h,v){for(var g=this._data,y=this._dimSize,m=0;m<y;m++){for(var b=v[m],S=b[0]==null?1/0:b[0],E=b[1]==null?-1/0:b[1],C=c-o,A=h[m],D=0;D<C;D++){var L=g[D*y+m];A[o+D]=L,L<S&&(S=L),L>E&&(E=L)}b[0]=S,b[1]=E}},i=function(){return this._data?this._data.length/this._dimSize:0};cP=(t={},t[xn+"_"+Pa]={pure:!0,appendData:a},t[xn+"_"+Pc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Wi]={pure:!0,appendData:a},t[Ha]={pure:!0,appendData:function(o){var c=this._data;j(o,function(h,v){for(var g=c[v]||(c[v]=[]),y=0;y<(h||[]).length;y++)g.push(h[y])})}},t[Ui]={appendData:a},t[El]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},t);function a(o){for(var c=0;c<o.length;c++)this._data.push(o[c])}})(),r})(),Uy=function(r){Rt(r)||QB("series.data or dataset.source must be an array.")};Pu={},Pu[xn+"_"+Pa]=Uy,Pu[xn+"_"+Pc]=Uy,Pu[Wi]=Uy,Pu[Ha]=function(r,t){for(var e=0;e<t.length;e++){var n=t[e].name;n==null&&QB("dimension name must not be null/undefined.")}},Pu[Ui]=Uy;var hP=function(r,t,e,n){return r[n]},Lat=(ku={},ku[xn+"_"+Pa]=function(r,t,e,n){return r[n+t]},ku[xn+"_"+Pc]=function(r,t,e,n,i){n+=t;for(var a=i||[],o=r,c=0;c<o.length;c++){var h=o[c];a[c]=h?h[n]:null}return a},ku[Wi]=hP,ku[Ha]=function(r,t,e,n,i){for(var a=i||[],o=0;o<e.length;o++){var c=e[o].name,h=c!=null?r[c]:null;a[o]=h?h[n]:null}return a},ku[Ui]=hP,ku);function L4(r,t){var e=Lat[WA(r,t)];return e}var pP=function(r,t,e){return r.length},Nat=(Vu={},Vu[xn+"_"+Pa]=function(r,t,e){return Math.max(0,r.length-t)},Vu[xn+"_"+Pc]=function(r,t,e){var n=r[0];return n?Math.max(0,n.length-t):0},Vu[Wi]=pP,Vu[Ha]=function(r,t,e){var n=e[0].name,i=n!=null?r[n]:null;return i?i.length:0},Vu[Ui]=pP,Vu);function N4(r,t){var e=Nat[WA(r,t)];return e}var ww=function(r,t,e){return r[t]},Rat=(Gu={},Gu[xn]=ww,Gu[Wi]=function(r,t,e){return r[e]},Gu[Ha]=ww,Gu[Ui]=function(r,t,e){var n=Ph(r);return n instanceof Array?n[t]:n},Gu[El]=ww,Gu);function R4(r){var t=Rat[r];return t}function WA(r,t){return r===xn?r+"_"+t:r}function wh(r,t,e){if(r){var n=r.getRawDataItem(t);if(n!=null){var i=r.getStore(),a=i.getSource().sourceFormat;if(e!=null){var o=r.getDimensionIndex(e),c=i.getDimensionProperty(o);return R4(a)(n,o,c)}else{var h=n;return a===Ui&&(h=Ph(n)),h}}}}var Iat=/\{@(.+?)\}/g,Q_=(function(){function r(){}return r.prototype.getDataParams=function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),a=n.getRawIndex(t),o=n.getName(t),c=n.getRawDataItem(t),h=n.getItemVisual(t,"style"),v=h&&h[n.getItemVisual(t,"drawType")||"fill"],g=h&&h.stroke,y=this.mainType,m=y==="series",b=n.userOutput&&n.userOutput.get();return{componentType:y,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:m?this.subType:null,seriesIndex:this.seriesIndex,seriesId:m?this.id:null,seriesName:m?this.name:null,name:o,dataIndex:a,data:c,dataType:e,value:i,color:v,borderColor:g,dimensionNames:b?b.fullDimensions:null,encode:b?b.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(t,e,n,i,a,o){e=e||"normal";var c=this.getData(n),h=this.getDataParams(t,n);if(o&&(h.value=o.interpolatedValue),i!=null&&Rt(h.value)&&(h.value=h.value[i]),!a){var v=c.getItemModel(t);a=v.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(re(a))return h.status=e,h.dimensionIndex=i,a(h);if($t(a)){var g=o4(a,h);return g.replace(Iat,function(y,m){var b=m.length,S=m;S.charAt(0)==="["&&S.charAt(b-1)==="]"&&(S=+S.slice(1,b-1));var E=wh(c,t,S);if(o&&Rt(o.interpolatedValue)){var C=c.getDimensionIndex(S);C>=0&&(E=o.interpolatedValue[C])}return E!=null?E+"":""})}},r.prototype.getRawValue=function(t,e){return wh(this.getData(e),t)},r.prototype.formatTooltip=function(t,e,n){},r})();function dP(r){var t,e;return le(r)?r.type&&(e=r):t=r,{text:t,frag:e}}function Yd(r){return new Oat(r)}var Oat=(function(){function r(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return r.prototype.perform=function(t){var e=this._upstream,n=t&&t.skip;if(this._dirty&&e){var i=this.context;i.data=i.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=g(this._modBy),c=this._modDataCount||0,h=g(t&&t.modBy),v=t&&t.modDataCount||0;(o!==h||c!==v)&&(a="reset");function g(D){return!(D>=1)&&(D=1),D}var y;(this._dirty||a==="reset")&&(this._dirty=!1,y=this._doReset(n)),this._modBy=h,this._modDataCount=v;var m=t&&t.step;if(e?this._dueEnd=e._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var b=this._dueIndex,S=Math.min(m!=null?this._dueIndex+m:1/0,this._dueEnd);if(!n&&(y||b<S)){var E=this._progress;if(Rt(E))for(var C=0;C<E.length;C++)this._doProgress(E[C],b,S,h,v);else this._doProgress(E,b,S,h,v)}this._dueIndex=S;var A=this._settedOutputEnd!=null?this._settedOutputEnd:S;this._outputDueEnd=A}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(t,e,n,i,a){vP.reset(e,n,i,a),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:vP.next},this.context)},r.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var e,n;!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(n=e.forceFirstProgress,e=e.progress),Rt(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},r})(),vP=(function(){var r,t,e,n,i,a={reset:function(h,v,g,y){t=h,r=v,e=g,n=y,i=Math.ceil(n/e),a.next=e>1&&n>0?c:o}};return a;function o(){return t<r?t++:null}function c(){var h=t%i*e+Math.ceil(t/i),v=t>=r?null:h<n?h:t;return t++,v}})();function Tl(r,t){var e=t&&t.type;return e==="ordinal"?r:(e==="time"&&!Ie(r)&&r!=null&&r!=="-"&&(r=+Rc(r)),r==null||r===""?NaN:Number(r))}var Pat=Qt({number:function(r){return parseFloat(r)},time:function(r){return+Rc(r)},trim:function(r){return $t(r)?ua(r):r}});function I4(r){return Pat.get(r)}var O4={lt:function(r,t){return r<t},lte:function(r,t){return r<=t},gt:function(r,t){return r>t},gte:function(r,t){return r>=t}},kat=(function(){function r(t,e){if(!Ie(e)){var n="";Ue(n)}this._opFn=O4[t],this._rvalFloat=bs(e)}return r.prototype.evaluate=function(t){return Ie(t)?this._opFn(t,this._rvalFloat):this._opFn(bs(t),this._rvalFloat)},r})(),P4=(function(){function r(t,e){var n=t==="desc";this._resultLT=n?1:-1,e==null&&(e=n?"min":"max"),this._incomparable=e==="min"?-1/0:1/0}return r.prototype.evaluate=function(t,e){var n=Ie(t)?t:bs(t),i=Ie(e)?e:bs(e),a=isNaN(n),o=isNaN(i);if(a&&(n=this._incomparable),o&&(i=this._incomparable),a&&o){var c=$t(t),h=$t(e);c&&(n=h?t:0),h&&(i=c?e:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},r})(),Vat=(function(){function r(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=bs(e)}return r.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(e=bs(t)===this._rvalFloat)}return this._isEQ?e:!e},r})();function Gat(r,t){return r==="eq"||r==="ne"?new Vat(r==="eq",t):Xt(O4,r)?new kat(r,t):null}var Fat=(function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(t){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(t){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(t,e){},r.prototype.retrieveValueFromItem=function(t,e){},r.prototype.convertValue=function(t,e){return Tl(t,e)},r})();function Bat(r,t){var e=new Fat,n=r.data,i=e.sourceFormat=r.sourceFormat,a=r.startIndex,o="";r.seriesLayoutBy!==Pa&&Ue(o);var c=[],h={},v=r.dimensionsDefine;if(v)j(v,function(E,C){var A=E.name,D={index:C,name:A,displayName:E.displayName};if(c.push(D),A!=null){var L="";Xt(h,A)&&Ue(L),h[A]=D}});else for(var g=0;g<r.dimensionsDetectedCount;g++)c.push({index:g});var y=L4(i,Pa);t.__isBuiltIn&&(e.getRawDataItem=function(E){return y(n,a,c,E)},e.getRawData=qt(Hat,null,r)),e.cloneRawData=qt(zat,null,r);var m=N4(i,Pa);e.count=qt(m,null,n,a,c);var b=R4(i);e.retrieveValue=function(E,C){var A=y(n,a,c,E);return S(A,C)};var S=e.retrieveValueFromItem=function(E,C){if(E!=null){var A=c[C];if(A)return b(E,C,A.name)}};return e.getDimensionInfo=qt(Uat,null,c,h),e.cloneAllDimensionInfo=qt(Wat,null,c),e}function Hat(r){var t=r.sourceFormat;if(!jA(t)){var e="";Ue(e)}return r.data}function zat(r){var t=r.sourceFormat,e=r.data;if(!jA(t)){var n="";Ue(n)}if(t===xn){for(var i=[],a=0,o=e.length;a<o;a++)i.push(e[a].slice());return i}else if(t===Wi){for(var i=[],a=0,o=e.length;a<o;a++)i.push(Mt({},e[a]));return i}}function Uat(r,t,e){if(e!=null){if(Ie(e)||!isNaN(e)&&!Xt(t,e))return r[e];if(Xt(t,e))return t[e]}}function Wat(r){return ie(r)}var k4=Qt();function jat(r){r=ie(r);var t=r.type,e="";t||Ue(e);var n=t.split(":");n.length!==2&&Ue(e);var i=!1;n[0]==="echarts"&&(t=n[1],i=!0),r.__isBuiltIn=i,k4.set(t,r)}function Yat(r,t,e){var n=tr(r),i=n.length,a="";i||Ue(a);for(var o=0,c=i;o<c;o++){var h=n[o];t=$at(h,t),o!==c-1&&(t.length=Math.max(t.length,1))}return t}function $at(r,t,e,n){var i="";t.length||Ue(i),le(r)||Ue(i);var a=r.type,o=k4.get(a);o||Ue(i);var c=Pt(t,function(v){return Bat(v,o)}),h=tr(o.transform({upstream:c[0],upstreamList:c,config:ie(r.config)}));return Pt(h,function(v,g){var y="";le(v)||Ue(y),v.data||Ue(y);var m=A4(v.data);jA(m)||Ue(y);var b,S=t[0];if(S&&g===0&&!v.dimensions){var E=S.startIndex;E&&(v.data=S.data.slice(0,E).concat(v.data)),b={seriesLayoutBy:Pa,sourceHeader:E,dimensions:S.metaRawOption.dimensions}}else b={seriesLayoutBy:Pa,sourceHeader:0,dimensions:v.dimensions};return pT(v.data,b,null)})}function jA(r){return r===xn||r===Wi}var tb="undefined",qat=typeof Uint32Array===tb?Array:Uint32Array,Xat=typeof Uint16Array===tb?Array:Uint16Array,V4=typeof Int32Array===tb?Array:Int32Array,gP=typeof Float64Array===tb?Array:Float64Array,G4={float:gP,int:V4,ordinal:Array,number:Array,time:gP},xw;function Df(r){return r>65535?qat:Xat}function Mf(){return[1/0,-1/0]}function Zat(r){var t=r.constructor;return t===Array?r.slice():new t(r)}function yP(r,t,e,n,i){var a=G4[e||"float"];if(i){var o=r[t],c=o&&o.length;if(c!==n){for(var h=new a(n),v=0;v<c;v++)h[v]=o[v];r[t]=h}}else r[t]=new a(n)}var dT=(function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Qt()}return r.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),a=this.defaultDimValueGetter=xw[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],D4(i),this._dimensions=Pt(e,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,t.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(t);if(a!=null){if(i[a].type===e)return a}else a=i.length;return i[a]={type:e},n.set(t,a),this._chunks[a]=new G4[e||"float"](this._rawCount),this._rawExtent[a]=Mf(),a},r.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],i=this._dimensions[t],a=this._rawExtent,o=i.ordinalOffset||0,c=n.length;o===0&&(a[t]=Mf());for(var h=a[t],v=o;v<c;v++){var g=n[v]=e.parseAndCollect(n[v]);isNaN(g)||(h[0]=Math.min(g,h[0]),h[1]=Math.max(g,h[1]))}i.ordinalMeta=e,i.ordinalOffset=c,i.type="ordinal"},r.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],n=e.ordinalMeta;return n},r.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},r.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},r.prototype.appendValues=function(t,e){for(var n=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,c=this.count(),h=c+Math.max(t.length,e||0),v=0;v<a;v++){var g=i[v];yP(n,v,g.type,h,!0)}for(var y=[],m=c;m<h;m++)for(var b=m-c,S=0;S<a;S++){var g=i[S],E=xw.arrayRows.call(this,t[b]||y,g.property,b,S);n[S][m]=E;var C=o[S];E<C[0]&&(C[0]=E),E>C[1]&&(C[1]=E)}return this._rawCount=this._count=h,{start:c,end:h}},r.prototype._initDataFromProvider=function(t,e,n){for(var i=this._provider,a=this._chunks,o=this._dimensions,c=o.length,h=this._rawExtent,v=Pt(o,function(D){return D.property}),g=0;g<c;g++){var y=o[g];h[g]||(h[g]=Mf()),yP(a,g,y.type,e,n)}if(i.fillStorage)i.fillStorage(t,e,a,h);else for(var m=[],b=t;b<e;b++){m=i.getItem(b,m);for(var S=0;S<c;S++){var E=a[S],C=this._dimValueGetter(m,v[S],b,S);E[b]=C;var A=h[S];C<A[0]&&(A[0]=C),C>A[1]&&(A[1]=C)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},r.prototype.getValues=function(t,e){var n=[],i=[];if(e==null){e=t,t=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=t;for(var a=0,o=i.length;a<o;a++)n.push(this.get(i[a],e));return n},r.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},r.prototype.getSum=function(t){var e=this._chunks[t],n=0;if(e)for(var i=0,a=this.count();i<a;i++){var o=this.get(t,i);isNaN(o)||(n+=o)}return n},r.prototype.getMedian=function(t){var e=[];this.each([t],function(a){isNaN(a)||e.push(a)});var n=e.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},r.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(n!=null&&n<this._count&&n===t)return t;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(e[o]<t)i=o+1;else if(e[o]>t)a=o-1;else return o}return-1},r.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,i=this._count;if(n===Array){t=new n(i);for(var a=0;a<i;a++)t[a]=e[a]}else t=new n(e.buffer,0,i)}else{var n=Df(this._rawCount);t=new n(this.count());for(var a=0;a<t.length;a++)t[a]=a}return t},r.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=Df(n._rawCount),o=new a(i),c=[],h=t.length,v=0,g=t[0],y=n._chunks,m=0;m<i;m++){var b=void 0,S=n.getRawIndex(m);if(h===0)b=e(m);else if(h===1){var E=y[g][S];b=e(E,m)}else{for(var C=0;C<h;C++)c[C]=y[t[C]][S];c[C]=m,b=e.apply(null,c)}b&&(o[v++]=S)}return v<i&&(n._indices=o),n._count=v,n._extent=[],n._updateGetRawIdx(),n},r.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var i=Le(t),a=i.length;if(!a)return this;var o=e.count(),c=Df(e._rawCount),h=new c(o),v=0,g=i[0],y=t[g][0],m=t[g][1],b=e._chunks,S=!1;if(!e._indices){var E=0;if(a===1){for(var C=b[i[0]],A=0;A<n;A++){var D=C[A];(D>=y&&D<=m||isNaN(D))&&(h[v++]=E),E++}S=!0}else if(a===2){for(var C=b[i[0]],L=b[i[1]],R=t[i[1]][0],O=t[i[1]][1],A=0;A<n;A++){var D=C[A],P=L[A];(D>=y&&D<=m||isNaN(D))&&(P>=R&&P<=O||isNaN(P))&&(h[v++]=E),E++}S=!0}}if(!S)if(a===1)for(var A=0;A<o;A++){var V=e.getRawIndex(A),D=b[i[0]][V];(D>=y&&D<=m||isNaN(D))&&(h[v++]=V)}else for(var A=0;A<o;A++){for(var k=!0,V=e.getRawIndex(A),F=0;F<a;F++){var H=i[F],D=b[H][V];(D<t[H][0]||D>t[H][1])&&(k=!1)}k&&(h[v++]=e.getRawIndex(A))}return v<o&&(e._indices=h),e._count=v,e._extent=[],e._updateGetRawIdx(),e},r.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},r.prototype.modify=function(t,e){this._updateDims(this,t,e)},r.prototype._updateDims=function(t,e,n){for(var i=t._chunks,a=[],o=e.length,c=t.count(),h=[],v=t._rawExtent,g=0;g<e.length;g++)v[e[g]]=Mf();for(var y=0;y<c;y++){for(var m=t.getRawIndex(y),b=0;b<o;b++)h[b]=i[e[b]][m];h[o]=y;var S=n&&n.apply(null,h);if(S!=null){typeof S!="object"&&(a[0]=S,S=a);for(var g=0;g<S.length;g++){var E=e[g],C=S[g],A=v[E],D=i[E];D&&(D[m]=C),C<A[0]&&(A[0]=C),C>A[1]&&(A[1]=C)}}}},r.prototype.lttbDownSample=function(t,e){var n=this.clone([t],!0),i=n._chunks,a=i[t],o=this.count(),c=0,h=Math.floor(1/e),v=this.getRawIndex(0),g,y,m,b=new(Df(this._rawCount))(Math.min((Math.ceil(o/h)+2)*2,o));b[c++]=v;for(var S=1;S<o-1;S+=h){for(var E=Math.min(S+h,o-1),C=Math.min(S+h*2,o),A=(C+E)/2,D=0,L=E;L<C;L++){var R=this.getRawIndex(L),O=a[R];isNaN(O)||(D+=O)}D/=C-E;var P=S,V=Math.min(S+h,o),k=S-1,F=a[v];g=-1,m=P;for(var H=-1,W=0,L=P;L<V;L++){var R=this.getRawIndex(L),O=a[R];if(isNaN(O)){W++,H<0&&(H=R);continue}y=Math.abs((k-A)*(O-F)-(k-L)*(D-F)),y>g&&(g=y,m=R)}W>0&&W<V-P&&(b[c++]=Math.min(H,m),m=Math.max(H,m)),b[c++]=m,v=m}return b[c++]=this.getRawIndex(o-1),n._count=c,n._indices=b,n.getRawIndex=this._getRawIdx,n},r.prototype.minmaxDownSample=function(t,e){for(var n=this.clone([t],!0),i=n._chunks,a=Math.floor(1/e),o=i[t],c=this.count(),h=new(Df(this._rawCount))(Math.ceil(c/a)*2),v=0,g=0;g<c;g+=a){var y=g,m=o[this.getRawIndex(y)],b=g,S=o[this.getRawIndex(b)],E=a;g+a>c&&(E=c-g);for(var C=0;C<E;C++){var A=this.getRawIndex(g+C),D=o[A];D<m&&(m=D,y=g+C),D>S&&(S=D,b=g+C)}var L=this.getRawIndex(y),R=this.getRawIndex(b);y<b?(h[v++]=L,h[v++]=R):(h[v++]=R,h[v++]=L)}return n._count=v,n._indices=h,n._updateGetRawIdx(),n},r.prototype.downSample=function(t,e,n,i){for(var a=this.clone([t],!0),o=a._chunks,c=[],h=Math.floor(1/e),v=o[t],g=this.count(),y=a._rawExtent[t]=Mf(),m=new(Df(this._rawCount))(Math.ceil(g/h)),b=0,S=0;S<g;S+=h){h>g-S&&(h=g-S,c.length=h);for(var E=0;E<h;E++){var C=this.getRawIndex(S+E);c[E]=v[C]}var A=n(c),D=this.getRawIndex(Math.min(S+i(c,A)||0,g-1));v[D]=A,A<y[0]&&(y[0]=A),A>y[1]&&(y[1]=A),m[b++]=D}return a._count=b,a._indices=m,a._updateGetRawIdx(),a},r.prototype.each=function(t,e){if(this._count)for(var n=t.length,i=this._chunks,a=0,o=this.count();a<o;a++){var c=this.getRawIndex(a);switch(n){case 0:e(a);break;case 1:e(i[t[0]][c],a);break;case 2:e(i[t[0]][c],i[t[1]][c],a);break;default:for(var h=0,v=[];h<n;h++)v[h]=i[t[h]][c];v[h]=a,e.apply(null,v)}}},r.prototype.getDataExtent=function(t){var e=this._chunks[t],n=Mf();if(!e)return n;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[t].slice();if(o=this._extent[t],o)return o.slice();o=n;for(var c=o[0],h=o[1],v=0;v<i;v++){var g=this.getRawIndex(v),y=e[g];y<c&&(c=y),y>h&&(h=y)}return o=[c,h],this._extent[t]=o,o},r.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][e]);return n},r.prototype.clone=function(t,e){var n=new r,i=this._chunks,a=t&&Io(t,function(c,h){return c[h]=!0,c},{});if(a)for(var o=0;o<i.length;o++)n._chunks[o]=a[o]?Zat(i[o]):i[o];else n._chunks=i;return this._copyCommonProps(n),e||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},r.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=ie(this._extent),t._rawExtent=ie(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var i=0;i<n;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},r.prototype._getRawIdxIdentity=function(t){return t},r.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=(function(){function t(e,n,i,a){return Tl(e[a],this._dimensions[a])}xw={arrayRows:t,objectRows:function(e,n,i,a){return Tl(e[n],this._dimensions[a])},keyedColumns:t,original:function(e,n,i,a){var o=e&&(e.value==null?e:e.value);return Tl(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(e,n,i,a){return e[a]}}})(),r})(),F4=(function(){function r(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,e=this._getUpstreamSourceManagers(),n=!!e.length,i,a;if(Wy(t)){var o=t,c=void 0,h=void 0,v=void 0;if(n){var g=e[0];g.prepareSource(),v=g.getSource(),c=v.data,h=v.sourceFormat,a=[g._getVersionSign()]}else c=o.get("data",!0),h=Ti(c)?El:Ui,a=[];var y=this._getSourceMetaRawOption()||{},m=v&&v.metaRawOption||{},b=te(y.seriesLayoutBy,m.seriesLayoutBy)||null,S=te(y.sourceHeader,m.sourceHeader),E=te(y.dimensions,m.dimensions),C=b!==m.seriesLayoutBy||!!S!=!!m.sourceHeader||E;i=C?[pT(c,{seriesLayoutBy:b,sourceHeader:S,dimensions:E},h)]:[]}else{var A=t;if(n){var D=this._applyTransform(e);i=D.sourceList,a=D.upstreamSignList}else{var L=A.get("source",!0);i=[pT(L,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},r.prototype._applyTransform=function(t){var e=this._sourceHost,n=e.get("transform",!0),i=e.get("fromTransformResult",!0);if(i!=null){var a="";t.length!==1&&_P(a)}var o,c=[],h=[];return j(t,function(v){v.prepareSource();var g=v.getSource(i||0),y="";i!=null&&!g&&_P(y),c.push(g),h.push(v._getVersionSign())}),n?o=Yat(n,c,{datasetIndex:e.componentIndex}):i!=null&&(o=[Aat(c[0])]),{sourceList:o,upstreamSignList:h}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},r.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},r.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},r.prototype._innerGetDataStore=function(t,e,n){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var c=o[n];if(!c){var h=this._getUpstreamSourceManagers()[0];Wy(this._sourceHost)&&h?c=h._innerGetDataStore(t,e,n):(c=new dT,c.initData(new M4(e,t.length),t)),o[n]=c}return c},r.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Wy(t)){var e=FA(t);return e?[e.getSourceManager()]:[]}else return Pt(rat(t),function(n){return n.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,e,n,i;if(Wy(t))e=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:n,dimensions:i}},r})();function mP(r){var t=r.option.transform;t&&p0(r.option.transform)}function Wy(r){return r.mainType==="series"}function _P(r){throw new Error(r)}var Kat="line-height:1";function B4(r){var t=r.lineHeight;return t==null?Kat:"line-height:"+ui(t+"")+"px"}function H4(r,t){var e=r.color||yt.color.tertiary,n=r.fontSize||12,i=r.fontWeight||"400",a=r.color||yt.color.secondary,o=r.fontSize||14,c=r.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+ui(n+"")+"px;color:"+ui(e)+";font-weight:"+ui(i+""),valueStyle:"font-size:"+ui(o+"")+"px;color:"+ui(a)+";font-weight:"+ui(c+"")}:{nameStyle:{fontSize:n,fill:e,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:c}}}var Jat=[0,10,20,30],Qat=["",`
`,`

`,`


`];function Zr(r,t){return t.type=r,t}function vT(r){return r.type==="section"}function z4(r){return vT(r)?tot:eot}function U4(r){if(vT(r)){var t=0,e=r.blocks.length,n=e>1||e>0&&!r.noHeader;return j(r.blocks,function(i){var a=U4(i);a>=t&&(t=a+ +(n&&(!a||vT(i)&&!i.noHeader)))}),t}return 0}function tot(r,t,e,n){var i=t.noHeader,a=rot(U4(t)),o=[],c=t.blocks||[];qn(!c||Rt(c)),c=c||[];var h=r.orderMode;if(t.sortBlocks&&h){c=c.slice();var v={valueAsc:"asc",valueDesc:"desc"};if(Xt(v,h)){var g=new P4(v[h],null);c.sort(function(E,C){return g.evaluate(E.sortParam,C.sortParam)})}else h==="seriesDesc"&&c.reverse()}j(c,function(E,C){var A=t.valueFormatter,D=z4(E)(A?Mt(Mt({},r),{valueFormatter:A}):r,E,C>0?a.html:0,n);D!=null&&o.push(D)});var y=r.renderMode==="richText"?o.join(a.richText):gT(n,o.join(""),i?e:a.html);if(i)return y;var m=uT(t.header,"ordinal",r.useUTC),b=H4(n,r.renderMode).nameStyle,S=B4(n);return r.renderMode==="richText"?W4(r,m,b)+a.richText+y:gT(n,'<div style="'+b+";"+S+';">'+ui(m)+"</div>"+y,e)}function eot(r,t,e,n){var i=r.renderMode,a=t.noName,o=t.noValue,c=!t.markerType,h=t.name,v=r.useUTC,g=t.valueFormatter||r.valueFormatter||function(R){return R=Rt(R)?R:[R],Pt(R,function(O,P){return uT(O,Rt(b)?b[P]:b,v)})};if(!(a&&o)){var y=c?"":r.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||yt.color.secondary,i),m=a?"":uT(h,"ordinal",v),b=t.valueType,S=o?[]:g(t.value,t.dataIndex),E=!c||!a,C=!c&&a,A=H4(n,i),D=A.nameStyle,L=A.valueStyle;return i==="richText"?(c?"":y)+(a?"":W4(r,m,D))+(o?"":aot(r,S,E,C,L)):gT(n,(c?"":y)+(a?"":not(m,!c,D))+(o?"":iot(S,E,C,L)),e)}}function bP(r,t,e,n,i,a){if(r){var o=z4(r),c={useUTC:i,renderMode:e,orderMode:n,markupStyleCreator:t,valueFormatter:r.valueFormatter};return o(c,r,0,a)}}function rot(r){return{html:Jat[r],richText:Qat[r]}}function gT(r,t,e){var n='<div style="clear:both"></div>',i="margin: "+e+"px 0 0",a=B4(r);return'<div style="'+i+";"+a+';">'+t+n+"</div>"}function not(r,t,e){var n=t?"margin-left:2px":"";return'<span style="'+e+";"+n+'">'+ui(r)+"</span>"}function iot(r,t,e,n){var i=e?"10px":"20px",a=t?"float:right;margin-left:"+i:"";return r=Rt(r)?r:[r],'<span style="'+a+";"+n+'">'+Pt(r,function(o){return ui(o)}).join("&nbsp;&nbsp;")+"</span>"}function W4(r,t,e){return r.markupStyleCreator.wrapRichTextStyle(t,e)}function aot(r,t,e,n,i){var a=[i],o=n?10:20;return e&&a.push({padding:[0,0,0,o],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(Rt(t)?t.join("  "):t,a)}function j4(r,t){var e=r.getData().getItemVisual(t,"style"),n=e[r.visualDrawType];return Cc(n)}function Y4(r,t){var e=r.get("padding");return e??(t==="richText"?[8,10]:10)}var Ew=(function(){function r(){this.richTextStyles={},this._nextStyleNameId=KB()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(t,e,n){var i=n==="richText"?this._generateStyleName():null,a=jit({color:e,type:t,renderMode:n,markerId:i});return $t(a)?a:(this.richTextStyles[i]=a.style,a.content)},r.prototype.wrapRichTextStyle=function(t,e){var n={};Rt(e)?j(e,function(a){return Mt(n,a)}):Mt(n,e);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},r})();function $4(r){var t=r.series,e=r.dataIndex,n=r.multipleSeries,i=t.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,c=t.getRawValue(e),h=Rt(c),v=j4(t,e),g,y,m,b;if(o>1||h&&!o){var S=oot(c,t,e,a,v);g=S.inlineValues,y=S.inlineValueTypes,m=S.blocks,b=S.inlineValues[0]}else if(o){var E=i.getDimensionInfo(a[0]);b=g=wh(i,e,a[0]),y=E.type}else b=g=h?c[0]:c;var C=fA(t),A=C&&t.name||"",D=i.getName(e),L=n?A:D;return Zr("section",{header:A,noHeader:n||!C,sortParam:b,blocks:[Zr("nameValue",{markerType:"item",markerColor:v,name:L,noName:!ua(L),value:g,valueType:y,dataIndex:e})].concat(m||[])})}function oot(r,t,e,n,i){var a=t.getData(),o=Io(r,function(y,m,b){var S=a.getDimensionInfo(b);return y=y||S&&S.tooltip!==!1&&S.displayName!=null},!1),c=[],h=[],v=[];n.length?j(n,function(y){g(wh(a,e,y),y)}):j(r,g);function g(y,m){var b=a.getDimensionInfo(m);!b||b.otherDims.tooltip===!1||(o?v.push(Zr("nameValue",{markerType:"subItem",markerColor:i,name:b.displayName,value:y,valueType:b.type})):(c.push(y),h.push(b.type)))}return{inlineValues:c,inlineValueTypes:h,blocks:v}}var Ks=Ee();function jy(r,t){return r.getName(t)||r.getId(t)}var Jm="__universalTransitionEnabled",sr=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return t.prototype.init=function(e,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Yd({count:lot,reset:uot}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,i);var a=Ks(this).sourceManager=new F4(this);a.prepareSource();var o=this.getInitialData(e,i);wP(o,this),this.dataTask.context.data=o,Ks(this).dataBeforeProcessed=o,SP(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,n){var i=hv(this),a=i?Oc(e):{},o=this.subType;Ce.hasClass(o)&&(o+="Series"),ye(e,n.getTheme().get(this.subType)),ye(e,this.getDefaultOption()),bc(e,"label",["show"]),this.fillDataTextStyle(e.data),i&&Vo(e,a,i)},t.prototype.mergeOption=function(e,n){e=ye(this.option,e,!0),this.fillDataTextStyle(e.data);var i=hv(this);i&&Vo(this.option,e,i);var a=Ks(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(e,n);wP(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Ks(this).dataBeforeProcessed=o,SP(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(e){if(e&&!Ti(e))for(var n=["show"],i=0;i<e.length;i++)e[i]&&e[i].label&&bc(e[i],"label",n)},t.prototype.getInitialData=function(e,n){},t.prototype.appendData=function(e){var n=this.getRawData();n.appendData(e.data)},t.prototype.getData=function(e){var n=yT(this);if(n){var i=n.context.data;return e==null||!i.getLinkedData?i:i.getLinkedData(e)}else return Ks(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var n=yT(this);if(n){var i=n.context;i.outputData=e,n!==this.dataTask&&(i.data=e)}Ks(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Qt(e)},t.prototype.getSourceManager=function(){return Ks(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Ks(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.indicesOfNearest=function(e,n,i,a){var o=this.getData(),c=this.coordinateSystem,h=c&&c.getAxis(e);if(!c||!h)return[];var v=h.dataToCoord(i);a==null&&(a=1/0);var g=[],y=1/0,m=-1,b=0;return o.each(n,function(S,E){var C=h.dataToCoord(S),A=v-C,D=Math.abs(A);D<=a&&((D<y||D===y&&A>=0&&m<0)&&(y=D,m=A,b=0),A===m&&(g[b++]=E))}),g.length=b,g},t.prototype.formatTooltip=function(e,n,i){return $4({series:this,dataIndex:e,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(De.node&&!(e&&e.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,n,i){var a=this.ecModel,o=BA.prototype.getColorFromPalette.call(this,e,n,i);return o||(o=a.getColorFromPalette(e,n,i)),o},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,n){this._innerSelect(this.getData(n),e)},t.prototype.unselect=function(e,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var c=0;c<e.length;c++){var h=e[c],v=jy(o,h);i[v]=!1,this._selectedDataIndicesMap[v]=-1}}},t.prototype.toggleSelect=function(e,n){for(var i=[],a=0;a<e.length;a++)i[0]=e[a],this.isSelected(e[a],n)?this.unselect(i,n):this.select(i,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,n=Le(e),i=[],a=0;a<n.length;a++){var o=e[n[a]];o>=0&&i.push(o)}return i},t.prototype.isSelected=function(e,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[jy(a,e)])&&!a.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[Jm])return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},t.prototype._innerSelect=function(e,n){var i,a,o=this.option,c=o.selectedMode,h=n.length;if(!(!c||!h)){if(c==="series")o.selectedMap="all";else if(c==="multiple"){le(o.selectedMap)||(o.selectedMap={});for(var v=o.selectedMap,g=0;g<h;g++){var y=n[g],m=jy(e,y);v[m]=!0,this._selectedDataIndicesMap[m]=e.getRawIndex(y)}}else if(c==="single"||c===!0){var b=n[h-1],m=jy(e,b);o.selectedMap=(i={},i[m]=!0,i),this._selectedDataIndicesMap=(a={},a[m]=e.getRawIndex(b),a)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var n=[];e.hasItemOption&&e.each(function(i){var a=e.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(e,n)}},t.registerClass=function(e){return Ce.registerClass(e)},t.protoInitialize=(function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"})(),t})(Ce);Jr(sr,Q_);Jr(sr,BA);sH(sr,Ce);function SP(r){var t=r.name;fA(r)||(r.name=sot(r)||t)}function sot(r){var t=r.getRawData(),e=t.mapDimensionsAll("seriesName"),n=[];return j(e,function(i){var a=t.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function lot(r){return r.model.getRawData().count()}function uot(r){var t=r.model;return t.setData(t.getRawData().cloneShallow()),cot}function cot(r,t){t.outputData&&r.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function wP(r,t){j(rv(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(e){r.wrapMethod(e,ve(fot,t))})}function fot(r,t){var e=yT(r);return e&&e.setOutputEnd((t||this).count()),t}function yT(r){var t=(r.ecModel||{}).scheduler,e=t&&t.getPipeline(r.uid);if(e){var n=e.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(r.uid))}return n}}var vr=(function(){function r(){this.group=new ne,this.uid=Hh("viewComponent")}return r.prototype.init=function(t,e){},r.prototype.render=function(t,e,n,i){},r.prototype.dispose=function(t,e){},r.prototype.updateView=function(t,e,n,i){},r.prototype.updateLayout=function(t,e,n,i){},r.prototype.updateVisual=function(t,e,n,i){},r.prototype.toggleBlurSeries=function(t,e,n){},r.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},r})();pA(vr);k_(vr);function zh(){var r=Ee();return function(t){var e=r(t),n=t.pipelineContext,i=!!e.large,a=!!e.progressiveRender,o=e.large=!!(n&&n.large),c=e.progressiveRender=!!(n&&n.progressiveRender);return(i!==o||a!==c)&&"reset"}}var q4=Ee(),hot=zh(),Je=(function(){function r(){this.group=new ne,this.uid=Hh("viewChart"),this.renderTask=Yd({plan:pot,reset:dot}),this.renderTask.context={view:this}}return r.prototype.init=function(t,e){},r.prototype.render=function(t,e,n,i){},r.prototype.highlight=function(t,e,n,i){var a=t.getData(i&&i.dataType);a&&EP(a,i,"emphasis")},r.prototype.downplay=function(t,e,n,i){var a=t.getData(i&&i.dataType);a&&EP(a,i,"normal")},r.prototype.remove=function(t,e){this.group.removeAll()},r.prototype.dispose=function(t,e){},r.prototype.updateView=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.updateLayout=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.eachRendered=function(t){Vl(this.group,t)},r.markUpdateMethod=function(t,e){q4(t).updateMethod=e},r.protoInitialize=(function(){var t=r.prototype;t.type="chart"})(),r})();function xP(r,t,e){r&&uv(r)&&(t==="emphasis"?Ss:ws)(r,e)}function EP(r,t,e){var n=Sc(r,t),i=t&&t.highlightKey!=null?Gnt(t.highlightKey):null;n!=null?j(tr(n),function(a){xP(r.getItemGraphicEl(a),e,i)}):r.eachItemGraphicEl(function(a){xP(a,e,i)})}pA(Je);k_(Je);function pot(r){return hot(r.model)}function dot(r){var t=r.model,e=r.ecModel,n=r.api,i=r.payload,a=t.pipelineContext.progressiveRender,o=r.view,c=i&&q4(i).updateMethod,h=a?"incrementalPrepareRender":c&&o[c]?c:"render";return h!=="render"&&o[h](t,e,n,i),vot[h]}var vot={incrementalPrepareRender:{progress:function(r,t){t.view.incrementalRender(r,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(r,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},I0="\0__throttleOriginMethod",TP="\0__throttleRate",CP="\0__throttleType";function YA(r,t,e){var n,i=0,a=0,o=null,c,h,v,g;t=t||0;function y(){a=new Date().getTime(),o=null,r.apply(h,v||[])}var m=function(){for(var b=[],S=0;S<arguments.length;S++)b[S]=arguments[S];n=new Date().getTime(),h=this,v=b;var E=g||t,C=g||e;g=null,c=n-(C?i:a)-E,clearTimeout(o),C?o=setTimeout(y,E):c>=0?y():o=setTimeout(y,-c),i=n};return m.clear=function(){o&&(clearTimeout(o),o=null)},m.debounceNextCall=function(b){g=b},m}function Uh(r,t,e,n){var i=r[t];if(i){var a=i[I0]||i,o=i[CP],c=i[TP];if(c!==e||o!==n){if(e==null||!n)return r[t]=a;i=r[t]=YA(a,e,n==="debounce"),i[I0]=a,i[CP]=n,i[TP]=e}return i}}function dv(r,t){var e=r[t];e&&e[I0]&&(e.clear&&e.clear(),r[t]=e[I0])}var AP=Ee(),DP={itemStyle:wc(qH,!0),lineStyle:wc($H,!0)},got={lineStyle:"stroke",itemStyle:"fill"};function X4(r,t){var e=r.visualStyleMapper||DP[t];return e||(console.warn("Unknown style type '"+t+"'."),DP.itemStyle)}function Z4(r,t){var e=r.visualDrawType||got[t];return e||(console.warn("Unknown style type '"+t+"'."),"fill")}var yot={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var e=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=r.getModel(n),a=X4(r,n),o=a(i),c=i.getShallow("decal");c&&(e.setVisual("decal",c),c.dirty=!0);var h=Z4(r,n),v=o[h],g=re(v)?v:null,y=o.fill==="auto"||o.stroke==="auto";if(!o[h]||g||y){var m=r.getColorFromPalette(r.name,null,t.getSeriesCount());o[h]||(o[h]=m,e.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||re(o.fill)?m:o.fill,o.stroke=o.stroke==="auto"||re(o.stroke)?m:o.stroke}if(e.setVisual("style",o),e.setVisual("drawType",h),!t.isSeriesFiltered(r)&&g)return e.setVisual("colorFromPalette",!1),{dataEach:function(b,S){var E=r.getDataParams(S),C=Mt({},o);C[h]=g(E),b.setItemVisual(S,"style",C)}}}},Yp=new Me,mot={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!(r.ignoreStyleOnData||t.isSeriesFiltered(r))){var e=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=X4(r,n),a=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(o,c){var h=o.getRawDataItem(c);if(h&&h[n]){Yp.option=h[n];var v=i(Yp),g=o.ensureUniqueItemVisual(c,"style");Mt(g,v),Yp.option.decal&&(o.setItemVisual(c,"decal",Yp.option.decal),Yp.option.decal.dirty=!0),a in v&&o.setItemVisual(c,"colorFromPalette",!1)}}:null}}}},_ot={performRawSeries:!0,overallReset:function(r){var t=Qt();r.eachSeries(function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var i=e.type+"-"+n,a=t.get(i);a||(a={},t.set(i,a)),AP(e).scope=a}}),r.eachSeries(function(e){if(!(e.isColorBySeries()||r.isSeriesFiltered(e))){var n=e.getRawData(),i={},a=e.getData(),o=AP(e).scope,c=e.visualStyleAccessPath||"itemStyle",h=Z4(e,c);a.each(function(v){var g=a.getRawIndex(v);i[g]=v}),n.each(function(v){var g=i[v],y=a.getItemVisual(g,"colorFromPalette");if(y){var m=a.ensureUniqueItemVisual(g,"style"),b=n.getName(v)||v+"",S=n.count();m[h]=e.getColorFromPalette(b,o,S)}})}})}},Yy=Math.PI;function bot(r,t){t=t||{},se(t,{text:"loading",textColor:yt.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:yt.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var e=new ne,n=new xe({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(n);var i=new ke({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new xe({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});e.add(a);var o;return t.showSpinner&&(o=new j_({shape:{startAngle:-Yy/2,endAngle:-Yy/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:Yy*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:Yy*3/2}).delay(300).start("circularInOut"),e.add(o)),e.resize=function(){var c=i.getBoundingRect().width,h=t.showSpinner?t.spinnerRadius:0,v=(r.getWidth()-h*2-(t.showSpinner&&c?10:0)-c)/2-(t.showSpinner&&c?0:5+c/2)+(t.showSpinner?0:c/2)+(c?0:h),g=r.getHeight()/2;t.showSpinner&&o.setShape({cx:v,cy:g}),a.setShape({x:v-h,y:g-h,width:h*2,height:h*2}),n.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},e.resize(),e}var K4=(function(){function r(t,e,n,i){this._stageTaskMap=Qt(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return r.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},r.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,a=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,o=a?n.step:null,c=i&&i.modDataCount,h=c!=null?Math.ceil(c/o):null;return{step:o,modBy:h,modDataCount:c}}},r.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},r.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData(),a=i.count(),o=n.progressiveEnabled&&e.incrementalPrepareRender&&a>=n.threshold,c=t.get("large")&&a>=t.get("largeThreshold"),h=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=n.context={progressiveRender:o,modDataCount:h,large:c}},r.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=Qt();t.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;n.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),e._pipe(i,i.dataTask)})},r.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;j(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{}),o="";qn(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,e,n),i.overallReset&&this._createOverallStageTask(i,a,e,n)},this)},r.prototype.prepareView=function(t,e,n,i){var a=t.renderTask,o=a.context;o.model=e,o.ecModel=n,o.api=i,a.__block=!t.incrementalPrepareRender,this._pipe(e,a)},r.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},r.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},r.prototype._performStageTasks=function(t,e,n,i){i=i||{};var a=!1,o=this;j(t,function(h,v){if(!(i.visualType&&i.visualType!==h.visualType)){var g=o._stageTaskMap.get(h.uid),y=g.seriesTaskMap,m=g.overallTask;if(m){var b,S=m.agentStubMap;S.each(function(C){c(i,C)&&(C.dirty(),b=!0)}),b&&m.dirty(),o.updatePayload(m,n);var E=o.getPerformArgs(m,i.block);S.each(function(C){C.perform(E)}),m.perform(E)&&(a=!0)}else y&&y.each(function(C,A){c(i,C)&&C.dirty();var D=o.getPerformArgs(C,i.block);D.skip=!h.performRawSeries&&e.isSeriesFiltered(C.context.model),o.updatePayload(C,n),C.perform(D)&&(a=!0)})}});function c(h,v){return h.setDirty&&(!h.dirtyMap||h.dirtyMap.get(v.__pipeline.id))}this.unfinished=a||this.unfinished},r.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(n){e=n.dataTask.perform()||e}),this.unfinished=e||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},r.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)},r.prototype._createSeriesStageTask=function(t,e,n,i){var a=this,o=e.seriesTaskMap,c=e.seriesTaskMap=Qt(),h=t.seriesType,v=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(g):h?n.eachRawSeriesByType(h,g):v&&v(n,i).each(g);function g(y){var m=y.uid,b=c.set(m,o&&o.get(m)||Yd({plan:Tot,reset:Cot,count:Dot}));b.context={model:y,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(y,b)}},r.prototype._createOverallStageTask=function(t,e,n,i){var a=this,o=e.overallTask=e.overallTask||Yd({reset:Sot});o.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:a};var c=o.agentStubMap,h=o.agentStubMap=Qt(),v=t.seriesType,g=t.getTargetSeries,y=!0,m=!1,b="";qn(!t.createOnAllSeries,b),v?n.eachRawSeriesByType(v,S):g?g(n,i).each(S):(y=!1,j(n.getSeries(),S));function S(E){var C=E.uid,A=h.set(C,c&&c.get(C)||(m=!0,Yd({reset:wot,onDirty:Eot})));A.context={model:E,overallProgress:y},A.agent=o,A.__block=y,a._pipe(E,A)}m&&o.dirty()},r.prototype._pipe=function(t,e){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},r.wrapStageHandler=function(t,e){return re(t)&&(t={overallReset:t,seriesType:Mot(t)}),t.uid=Hh("stageHandler"),e&&(t.visualType=e),t},r})();function Sot(r){r.overallReset(r.ecModel,r.api,r.payload)}function wot(r){return r.overallProgress&&xot}function xot(){this.agent.dirty(),this.getDownstream().dirty()}function Eot(){this.agent&&this.agent.dirty()}function Tot(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function Cot(r){r.useClearVisual&&r.data.clearAllVisual();var t=r.resetDefines=tr(r.reset(r.model,r.ecModel,r.api,r.payload));return t.length>1?Pt(t,function(e,n){return J4(n)}):Aot}var Aot=J4(0);function J4(r){return function(t,e){var n=e.data,i=e.resetDefines[r];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(t,n)}}function Dot(r){return r.data.count()}function Mot(r){O0=null;try{r(vv,Q4)}catch{}return O0}var vv={},Q4={},O0;t6(vv,HA);t6(Q4,E4);vv.eachSeriesByType=vv.eachRawSeriesByType=function(r){O0=r};vv.eachComponent=function(r){r.mainType==="series"&&r.subType&&(O0=r.subType)};function t6(r,t){for(var e in t.prototype)r[e]=Fr}var ae=yt.darkColor,Lot=ae.background,$p=function(){return{axisLine:{lineStyle:{color:ae.axisLine}},splitLine:{lineStyle:{color:ae.axisSplitLine}},splitArea:{areaStyle:{color:[ae.backgroundTint,ae.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:ae.axisMinorSplitLine}},axisLabel:{color:ae.axisLabel},axisName:{}}},MP={label:{color:ae.secondary},itemStyle:{borderColor:ae.borderTint},dividerLineStyle:{color:ae.border}},e6={darkMode:!0,color:ae.theme,backgroundColor:Lot,axisPointer:{lineStyle:{color:ae.border},crossStyle:{color:ae.borderShade},label:{color:ae.tertiary}},legend:{textStyle:{color:ae.secondary},pageTextStyle:{color:ae.tertiary}},textStyle:{color:ae.secondary},title:{textStyle:{color:ae.primary},subtextStyle:{color:ae.quaternary}},toolbox:{iconStyle:{borderColor:ae.accent50}},tooltip:{backgroundColor:ae.neutral20,defaultBorderColor:ae.border,textStyle:{color:ae.tertiary}},dataZoom:{borderColor:ae.accent10,textStyle:{color:ae.tertiary},brushStyle:{color:ae.backgroundTint},handleStyle:{color:ae.neutral00,borderColor:ae.accent20},moveHandleStyle:{color:ae.accent40},emphasis:{handleStyle:{borderColor:ae.accent50}},dataBackground:{lineStyle:{color:ae.accent30},areaStyle:{color:ae.accent20}},selectedDataBackground:{lineStyle:{color:ae.accent50},areaStyle:{color:ae.accent30}}},visualMap:{textStyle:{color:ae.secondary},handleStyle:{borderColor:ae.neutral30}},timeline:{lineStyle:{color:ae.accent10},label:{color:ae.tertiary},controlStyle:{color:ae.accent30,borderColor:ae.accent30}},calendar:{itemStyle:{color:ae.neutral00,borderColor:ae.neutral20},dayLabel:{color:ae.tertiary},monthLabel:{color:ae.secondary},yearLabel:{color:ae.secondary}},matrix:{x:MP,y:MP,backgroundColor:{borderColor:ae.axisLine},body:{itemStyle:{borderColor:ae.borderTint}}},timeAxis:$p(),logAxis:$p(),valueAxis:$p(),categoryAxis:$p(),line:{symbol:"circle"},graph:{color:ae.theme},gauge:{title:{color:ae.secondary},axisLine:{lineStyle:{color:[[1,ae.neutral05]]}},axisLabel:{color:ae.axisLabel},detail:{color:ae.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:ae.background}},radar:(function(){var r=$p();return r.axisName={color:ae.axisLabel},r.axisLine.lineStyle.color=ae.neutral20,r})(),treemap:{breadcrumb:{itemStyle:{color:ae.neutral20,textStyle:{color:ae.secondary}},emphasis:{itemStyle:{color:ae.neutral30}}}},sunburst:{itemStyle:{borderColor:ae.background}},map:{itemStyle:{borderColor:ae.border,areaColor:ae.neutral10},label:{color:ae.tertiary},emphasis:{label:{color:ae.primary},itemStyle:{areaColor:ae.highlight}},select:{label:{color:ae.primary},itemStyle:{areaColor:ae.highlight}}},geo:{itemStyle:{borderColor:ae.border,areaColor:ae.neutral10},emphasis:{label:{color:ae.primary},itemStyle:{areaColor:ae.highlight}},select:{label:{color:ae.primary},itemStyle:{color:ae.highlight}}}};e6.categoryAxis.splitLine.show=!1;var Not=(function(){function r(){}return r.prototype.normalizeQuery=function(t){var e={},n={},i={};if($t(t)){var a=xo(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var o=["Index","Name","Id"],c={name:1,dataIndex:1,dataType:1};j(t,function(h,v){for(var g=!1,y=0;y<o.length;y++){var m=o[y],b=v.lastIndexOf(m);if(b>0&&b===v.length-m.length){var S=v.slice(0,b);S!=="data"&&(e.mainType=S,e[m.toLowerCase()]=h,g=!0)}}c.hasOwnProperty(v)&&(n[v]=h,g=!0),g||(i[v]=h)})}return{cptQuery:e,dataQuery:n,otherQuery:i}},r.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,o=n.model,c=n.view;if(!o||!c)return!0;var h=e.cptQuery,v=e.dataQuery;return g(h,o,"mainType")&&g(h,o,"subType")&&g(h,o,"index","componentIndex")&&g(h,o,"name")&&g(h,o,"id")&&g(v,a,"name")&&g(v,a,"dataIndex")&&g(v,a,"dataType")&&(!c.filterForExposedEvent||c.filterForExposedEvent(t,e.otherQuery,i,a));function g(y,m,b,S){return y[b]==null||m[S||b]===y[b]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r})(),mT=["symbol","symbolSize","symbolRotate","symbolOffset"],LP=mT.concat(["symbolKeepAspect"]),Rot={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var e=r.getData();if(r.legendIcon&&e.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var n={},i={},a=!1,o=0;o<mT.length;o++){var c=mT[o],h=r.get(c);re(h)?(a=!0,i[c]=h):n[c]=h}if(n.symbol=n.symbol||r.defaultSymbol,e.setVisual(Mt({legendIcon:r.legendIcon||n.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},n)),t.isSeriesFiltered(r))return;var v=Le(i);function g(y,m){for(var b=r.getRawValue(m),S=r.getDataParams(m),E=0;E<v.length;E++){var C=v[E];y.setItemVisual(m,C,i[C](b,S))}}return{dataEach:a?g:null}}},Iot={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!r.hasSymbolVisual||t.isSeriesFiltered(r))return;var e=r.getData();function n(i,a){for(var o=i.getItemModel(a),c=0;c<LP.length;c++){var h=LP[c],v=o.getShallow(h,!0);v!=null&&i.setItemVisual(a,h,v)}}return{dataEach:e.hasItemOption?n:null}}};function $A(r,t,e){switch(e){case"color":var n=r.getItemVisual(t,"style");return n[r.getVisual("drawType")];case"opacity":return r.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(t,e)}}function Uv(r,t){switch(t){case"color":var e=r.getVisual("style");return e[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(t)}}function r6(r,t,e,n){switch(e){case"color":var i=r.ensureUniqueItemVisual(t,"style");i[r.getVisual("drawType")]=n,r.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(t,e,n);break}}function n6(r,t){function e(n,i){var a=[];return n.eachComponent({mainType:"series",subType:r,query:i},function(o){a.push(o.seriesIndex)}),a}j([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(n){t(n[0],function(i,a,o){i=Mt({},i),o.dispatchAction(Mt(i,{type:n[1],seriesIndex:e(a,i)}))})})}function Lf(r,t,e,n,i){var a=r+t;e.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var c=o.seriesIndex,h=o.option.selectedMap,v=i.selected,g=0;g<v.length;g++)if(v[g].seriesIndex===c){var y=o.getData(),m=Sc(y,i.fromActionPayload);e.trigger(a,{type:a,seriesId:o.id,name:Rt(m)?y.getName(m[0]):y.getName(m),selected:$t(h)?h:Mt({},h)})}})}function Oot(r,t,e){r.on("selectchanged",function(n){var i=e.getModel();n.isFromClick?(Lf("map","selectchanged",t,i,n),Lf("pie","selectchanged",t,i,n)):n.fromAction==="select"?(Lf("map","selected",t,i,n),Lf("pie","selected",t,i,n)):n.fromAction==="unselect"&&(Lf("map","unselected",t,i,n),Lf("pie","unselected",t,i,n))})}function ac(r,t,e){for(var n;r&&!(t(r)&&(n=r,e));)r=r.__hostTarget||r.parent;return n}var Pot=Math.round(Math.random()*9),kot=typeof Object.defineProperty=="function",Vot=(function(){function r(){this._id="__ec_inner_"+Pot++}return r.prototype.get=function(t){return this._guard(t)[this._id]},r.prototype.set=function(t,e){var n=this._guard(t);return kot?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},r.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},r.prototype.has=function(t){return!!this._guard(t)[this._id]},r.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},r})(),Got=Te.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var e=t.cx,n=t.cy,i=t.width/2,a=t.height/2;r.moveTo(e,n-a),r.lineTo(e+i,n+a),r.lineTo(e-i,n+a),r.closePath()}}),Fot=Te.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var e=t.cx,n=t.cy,i=t.width/2,a=t.height/2;r.moveTo(e,n-a),r.lineTo(e+i,n),r.lineTo(e,n+a),r.lineTo(e-i,n),r.closePath()}}),Bot=Te.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var e=t.x,n=t.y,i=t.width/5*3,a=Math.max(i,t.height),o=i/2,c=o*o/(a-o),h=n-a+o+c,v=Math.asin(c/o),g=Math.cos(v)*o,y=Math.sin(v),m=Math.cos(v),b=o*.6,S=o*.7;r.moveTo(e-g,h+c),r.arc(e,h,o,Math.PI-v,Math.PI*2+v),r.bezierCurveTo(e+g-y*b,h+c+m*b,e,n-S,e,n),r.bezierCurveTo(e,n-S,e-g+y*b,h+c+m*b,e-g,h+c),r.closePath()}}),Hot=Te.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var e=t.height,n=t.width,i=t.x,a=t.y,o=n/3*2;r.moveTo(i,a),r.lineTo(i+o,a+e),r.lineTo(i,a+e/4*3),r.lineTo(i-o,a+e),r.lineTo(i,a),r.closePath()}}),zot={line:$r,rect:xe,roundRect:xe,square:xe,circle:Ds,diamond:Fot,pin:Bot,arrow:Hot,triangle:Got},Uot={line:function(r,t,e,n,i){i.x1=r,i.y1=t+n/2,i.x2=r+e,i.y2=t+n/2},rect:function(r,t,e,n,i){i.x=r,i.y=t,i.width=e,i.height=n},roundRect:function(r,t,e,n,i){i.x=r,i.y=t,i.width=e,i.height=n,i.r=Math.min(e,n)/4},square:function(r,t,e,n,i){var a=Math.min(e,n);i.x=r,i.y=t,i.width=a,i.height=a},circle:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.r=Math.min(e,n)/2},diamond:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.width=e,i.height=n},pin:function(r,t,e,n,i){i.x=r+e/2,i.y=t+n/2,i.width=e,i.height=n},arrow:function(r,t,e,n,i){i.x=r+e/2,i.y=t+n/2,i.width=e,i.height=n},triangle:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.width=e,i.height=n}},P0={};j(zot,function(r,t){P0[t]=new r});var Wot=Te.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,t,e){var n=x0(r,t,e),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(n.y=e.y+e.height*.4),n},buildPath:function(r,t,e){var n=t.symbolType;if(n!=="none"){var i=P0[n];i||(n="rect",i=P0[n]),Uot[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(r,i.shape,e)}}});function jot(r,t){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=r,e.fill=t||yt.color.neutral00,e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=r:e.fill=r,this.markRedraw()}}function Kr(r,t,e,n,i,a,o){var c=r.indexOf("empty")===0;c&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var h;return r.indexOf("image://")===0?h=VH(r.slice(8),new ue(t,e,n,i),o?"center":"cover"):r.indexOf("path://")===0?h=cv(r.slice(7),{},new ue(t,e,n,i),o?"center":"cover"):h=new Wot({shape:{symbolType:r,x:t,y:e,width:n,height:i}}),h.__isEmptyBrush=c,h.setColor=jot,a&&h.setColor(a),h}function Wh(r){return Rt(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function kc(r,t){if(r!=null)return Rt(r)||(r=[r,r]),[Yt(r[0],t[0])||0,Yt(te(r[1],r[0]),t[1])||0]}function oc(r){return isFinite(r)}function Yot(r,t,e){var n=t.x==null?0:t.x,i=t.x2==null?1:t.x2,a=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(n=n*e.width+e.x,i=i*e.width+e.x,a=a*e.height+e.y,o=o*e.height+e.y),n=oc(n)?n:0,i=oc(i)?i:1,a=oc(a)?a:0,o=oc(o)?o:0;var c=r.createLinearGradient(n,a,i,o);return c}function $ot(r,t,e){var n=e.width,i=e.height,a=Math.min(n,i),o=t.x==null?.5:t.x,c=t.y==null?.5:t.y,h=t.r==null?.5:t.r;t.global||(o=o*n+e.x,c=c*i+e.y,h=h*a),o=oc(o)?o:.5,c=oc(c)?c:.5,h=h>=0&&oc(h)?h:.5;var v=r.createRadialGradient(o,c,0,o,c,h);return v}function _T(r,t,e){for(var n=t.type==="radial"?$ot(r,t,e):Yot(r,t,e),i=t.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function qot(r,t){if(r===t||!r&&!t)return!1;if(!r||!t||r.length!==t.length)return!0;for(var e=0;e<r.length;e++)if(r[e]!==t[e])return!0;return!1}function $y(r){return parseInt(r,10)}function ih(r,t,e){var n=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(e[n]!=null&&e[n]!=="auto")return parseFloat(e[n]);var c=document.defaultView.getComputedStyle(r);return(r[i]||$y(c[n])||$y(r.style[n]))-($y(c[a])||0)-($y(c[o])||0)|0}function Xot(r,t){return!r||r==="solid"||!(t>0)?null:r==="dashed"?[4*t,2*t]:r==="dotted"?[t]:Ie(r)?[r]:Rt(r)?r:null}function qA(r){var t=r.style,e=t.lineDash&&t.lineWidth>0&&Xot(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(e){var i=t.strokeNoScale&&r.getLineScale?r.getLineScale():1;i&&i!==1&&(e=Pt(e,function(a){return a/i}),n/=i)}return[e,n]}var Zot=new ko(!0);function k0(r){var t=r.stroke;return!(t==null||t==="none"||!(r.lineWidth>0))}function NP(r){return typeof r=="string"&&r!=="none"}function V0(r){var t=r.fill;return t!=null&&t!=="none"}function RP(r,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var e=r.globalAlpha;r.globalAlpha=t.fillOpacity*t.opacity,r.fill(),r.globalAlpha=e}else r.fill()}function IP(r,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var e=r.globalAlpha;r.globalAlpha=t.strokeOpacity*t.opacity,r.stroke(),r.globalAlpha=e}else r.stroke()}function bT(r,t,e){var n=dA(t.image,t.__image,e);if(V_(n)){var i=r.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*Gm),a.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(a)}return i}}function Kot(r,t,e,n){var i,a=k0(e),o=V0(e),c=e.strokePercent,h=c<1,v=!t.path;(!t.silent||h)&&v&&t.createPathProxy();var g=t.path||Zot,y=t.__dirty;if(!n){var m=e.fill,b=e.stroke,S=o&&!!m.colorStops,E=a&&!!b.colorStops,C=o&&!!m.image,A=a&&!!b.image,D=void 0,L=void 0,R=void 0,O=void 0,P=void 0;(S||E)&&(P=t.getBoundingRect()),S&&(D=y?_T(r,m,P):t.__canvasFillGradient,t.__canvasFillGradient=D),E&&(L=y?_T(r,b,P):t.__canvasStrokeGradient,t.__canvasStrokeGradient=L),C&&(R=y||!t.__canvasFillPattern?bT(r,m,t):t.__canvasFillPattern,t.__canvasFillPattern=R),A&&(O=y||!t.__canvasStrokePattern?bT(r,b,t):t.__canvasStrokePattern,t.__canvasStrokePattern=O),S?r.fillStyle=D:C&&(R?r.fillStyle=R:o=!1),E?r.strokeStyle=L:A&&(O?r.strokeStyle=O:a=!1)}var V=t.getGlobalScale();g.setScale(V[0],V[1],t.segmentIgnoreThreshold);var k,F;r.setLineDash&&e.lineDash&&(i=qA(t),k=i[0],F=i[1]);var H=!0;(v||y&Xf)&&(g.setDPR(r.dpr),h?g.setContext(null):(g.setContext(r),H=!1),g.reset(),t.buildPath(g,t.shape,n),g.toStatic(),t.pathUpdated()),H&&g.rebuildPath(r,h?c:1),k&&(r.setLineDash(k),r.lineDashOffset=F),n||(e.strokeFirst?(a&&IP(r,e),o&&RP(r,e)):(o&&RP(r,e),a&&IP(r,e))),k&&r.setLineDash([])}function Jot(r,t,e){var n=t.__image=dA(e.image,t.__image,t,t.onload);if(!(!n||!V_(n))){var i=e.x||0,a=e.y||0,o=t.getWidth(),c=t.getHeight(),h=n.width/n.height;if(o==null&&c!=null?o=c*h:c==null&&o!=null?c=o/h:o==null&&c==null&&(o=n.width,c=n.height),e.sWidth&&e.sHeight){var v=e.sx||0,g=e.sy||0;r.drawImage(n,v,g,e.sWidth,e.sHeight,i,a,o,c)}else if(e.sx&&e.sy){var v=e.sx,g=e.sy,y=o-v,m=c-g;r.drawImage(n,v,g,y,m,i,a,o,c)}else r.drawImage(n,i,a,o,c)}}function Qot(r,t,e){var n,i=e.text;if(i!=null&&(i+=""),i){r.font=e.font||ms,r.textAlign=e.textAlign,r.textBaseline=e.textBaseline;var a=void 0,o=void 0;r.setLineDash&&e.lineDash&&(n=qA(t),a=n[0],o=n[1]),a&&(r.setLineDash(a),r.lineDashOffset=o),e.strokeFirst?(k0(e)&&r.strokeText(i,e.x,e.y),V0(e)&&r.fillText(i,e.x,e.y)):(V0(e)&&r.fillText(i,e.x,e.y),k0(e)&&r.strokeText(i,e.x,e.y)),a&&r.setLineDash([])}}var OP=["shadowBlur","shadowOffsetX","shadowOffsetY"],PP=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function i6(r,t,e,n,i){var a=!1;if(!n&&(e=e||{},t===e))return!1;if(n||t.opacity!==e.opacity){xi(r,i),a=!0;var o=Math.max(Math.min(t.opacity,1),0);r.globalAlpha=isNaN(o)?hc.opacity:o}(n||t.blend!==e.blend)&&(a||(xi(r,i),a=!0),r.globalCompositeOperation=t.blend||hc.blend);for(var c=0;c<OP.length;c++){var h=OP[c];(n||t[h]!==e[h])&&(a||(xi(r,i),a=!0),r[h]=r.dpr*(t[h]||0))}return(n||t.shadowColor!==e.shadowColor)&&(a||(xi(r,i),a=!0),r.shadowColor=t.shadowColor||hc.shadowColor),a}function kP(r,t,e,n,i){var a=gv(t,i.inHover),o=n?null:e&&gv(e,i.inHover)||{};if(a===o)return!1;var c=i6(r,a,o,n,i);if((n||a.fill!==o.fill)&&(c||(xi(r,i),c=!0),NP(a.fill)&&(r.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(c||(xi(r,i),c=!0),NP(a.stroke)&&(r.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(c||(xi(r,i),c=!0),r.globalAlpha=a.opacity==null?1:a.opacity),t.hasStroke()){var h=a.lineWidth,v=h/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);r.lineWidth!==v&&(c||(xi(r,i),c=!0),r.lineWidth=v)}for(var g=0;g<PP.length;g++){var y=PP[g],m=y[0];(n||a[m]!==o[m])&&(c||(xi(r,i),c=!0),r[m]=a[m]||y[1])}return c}function tst(r,t,e,n,i){return i6(r,gv(t,i.inHover),e&&gv(e,i.inHover),n,i)}function a6(r,t){var e=t.transform,n=r.dpr||1;e?r.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):r.setTransform(n,0,0,n,0,0)}function est(r,t,e){for(var n=!1,i=0;i<r.length;i++){var a=r[i];n=n||a.isZeroArea(),a6(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}e.allClipped=n}function rst(r,t){return r&&t?r[0]!==t[0]||r[1]!==t[1]||r[2]!==t[2]||r[3]!==t[3]||r[4]!==t[4]||r[5]!==t[5]:!(!r&&!t)}var VP=1,GP=2,FP=3,BP=4;function nst(r){var t=V0(r),e=k0(r);return!(r.lineDash||!(+t^+e)||t&&typeof r.fill!="string"||e&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function xi(r,t){t.batchFill&&r.fill(),t.batchStroke&&r.stroke(),t.batchFill="",t.batchStroke=""}function gv(r,t){return t&&r.__hoverStyle||r.style}function o6(r,t){sc(r,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function sc(r,t,e,n){var i=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1)){t.__dirty&=~Vi,t.__isRendered=!1;return}var a=t.__clipPaths,o=e.prevElClipPaths,c=!1,h=!1;if((!o||qot(a,o))&&(o&&o.length&&(xi(r,e),r.restore(),h=c=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),a&&a.length&&(xi(r,e),r.save(),est(a,r,e),c=!0),e.prevElClipPaths=a),e.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var v=e.prevEl;v||(h=c=!0);var g=t instanceof Te&&t.autoBatch&&nst(t.style);c||rst(i,v.transform)?(xi(r,e),a6(r,t)):g||xi(r,e);var y=gv(t,e.inHover);t instanceof Te?(e.lastDrawType!==VP&&(h=!0,e.lastDrawType=VP),kP(r,t,v,h,e),(!g||!e.batchFill&&!e.batchStroke)&&r.beginPath(),Kot(r,t,y,g),g&&(e.batchFill=y.fill||"",e.batchStroke=y.stroke||"")):t instanceof bh?(e.lastDrawType!==FP&&(h=!0,e.lastDrawType=FP),kP(r,t,v,h,e),Qot(r,t,y)):t instanceof En?(e.lastDrawType!==GP&&(h=!0,e.lastDrawType=GP),tst(r,t,v,h,e),Jot(r,t,y)):t.getTemporalDisplayables&&(e.lastDrawType!==BP&&(h=!0,e.lastDrawType=BP),ist(r,t,e)),g&&n&&xi(r,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}function ist(r,t,e){var n=t.getDisplayables(),i=t.getTemporalDisplayables();r.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover},o,c;for(o=t.getCursor(),c=n.length;o<c;o++){var h=n[o];h.beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),sc(r,h,a,o===c-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),a.prevEl=h}for(var v=0,g=i.length;v<g;v++){var h=i[v];h.beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),sc(r,h,a,v===g-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),a.prevEl=h}t.clearTemporalDisplayables(),t.notClear=!0,r.restore()}var Tw=new Vot,HP=new mh(100),zP=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function xh(r,t){if(r==="none")return null;var e=t.getDevicePixelRatio(),n=t.getZr(),i=n.painter.type==="svg";r.dirty&&Tw.delete(r);var a=Tw.get(r);if(a)return a;var o=se(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var c={repeat:"repeat"};return h(c),c.rotation=o.rotation,c.scaleX=c.scaleY=i?1:1/e,Tw.set(r,c),r.dirty=!1,c;function h(v){for(var g=[e],y=!0,m=0;m<zP.length;++m){var b=o[zP[m]];if(b!=null&&!Rt(b)&&!$t(b)&&!Ie(b)&&typeof b!="boolean"){y=!1;break}g.push(b)}var S;if(y){S=g.join(",")+(i?"-svg":"");var E=HP.get(S);E&&(i?v.svgElement=E:v.image=E)}var C=l6(o.dashArrayX),A=ast(o.dashArrayY),D=s6(o.symbol),L=ost(C),R=u6(A),O=!i&&ka.createCanvas(),P=i&&{tag:"g",attrs:{},key:"dcl",children:[]},V=F(),k;O&&(O.width=V.width*e,O.height=V.height*e,k=O.getContext("2d")),H(),y&&HP.put(S,O||P),v.image=O,v.svgElement=P,v.svgWidth=V.width,v.svgHeight=V.height;function F(){for(var W=1,q=0,Y=L.length;q<Y;++q)W=iO(W,L[q]);for(var K=1,q=0,Y=D.length;q<Y;++q)K=iO(K,D[q].length);W*=K;var X=R*L.length*D.length;return{width:Math.max(1,Math.min(W,o.maxTileWidth)),height:Math.max(1,Math.min(X,o.maxTileHeight))}}function H(){k&&(k.clearRect(0,0,O.width,O.height),o.backgroundColor&&(k.fillStyle=o.backgroundColor,k.fillRect(0,0,O.width,O.height)));for(var W=0,q=0;q<A.length;++q)W+=A[q];if(W<=0)return;for(var Y=-R,K=0,X=0,J=0;Y<V.height;){if(K%2===0){for(var it=X/2%D.length,rt=0,st=0,lt=0;rt<V.width*2;){for(var dt=0,q=0;q<C[J].length;++q)dt+=C[J][q];if(dt<=0)break;if(st%2===0){var pt=(1-o.symbolSize)*.5,Tt=rt+C[J][st]*pt,Ft=Y+A[K]*pt,zt=C[J][st]*o.symbolSize,Vt=A[K]*o.symbolSize,Kt=lt/2%D[it].length;Bt(Tt,Ft,zt,Vt,D[it][Kt])}rt+=C[J][st],++lt,++st,st===C[J].length&&(st=0)}++J,J===C.length&&(J=0)}Y+=A[K],++X,++K,K===A.length&&(K=0)}function Bt(gt,Ct,wt,Z,at){var ut=i?1:e,_t=Kr(at,gt*ut,Ct*ut,wt*ut,Z*ut,o.color,o.symbolKeepAspect);if(i){var mt=n.painter.renderOneToVNode(_t);mt&&P.children.push(mt)}else o6(k,_t)}}}}function s6(r){if(!r||r.length===0)return[["rect"]];if($t(r))return[[r]];for(var t=!0,e=0;e<r.length;++e)if(!$t(r[e])){t=!1;break}if(t)return s6([r]);for(var n=[],e=0;e<r.length;++e)$t(r[e])?n.push([r[e]]):n.push(r[e]);return n}function l6(r){if(!r||r.length===0)return[[0,0]];if(Ie(r)){var t=Math.ceil(r);return[[t,t]]}for(var e=!0,n=0;n<r.length;++n)if(!Ie(r[n])){e=!1;break}if(e)return l6([r]);for(var i=[],n=0;n<r.length;++n)if(Ie(r[n])){var t=Math.ceil(r[n]);i.push([t,t])}else{var t=Pt(r[n],function(c){return Math.ceil(c)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function ast(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(Ie(r)){var t=Math.ceil(r);return[t,t]}var e=Pt(r,function(n){return Math.ceil(n)});return r.length%2?e.concat(e):e}function ost(r){return Pt(r,function(t){return u6(t)})}function u6(r){for(var t=0,e=0;e<r.length;++e)t+=r[e];return r.length%2===1?t*2:t}function sst(r,t){r.eachRawSeries(function(e){if(!r.isSeriesFiltered(e)){var n=e.getData();n.hasItemVisual()&&n.each(function(o){var c=n.getItemVisual(o,"decal");if(c){var h=n.ensureUniqueItemVisual(o,"style");h.decal=xh(c,t)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=xh(i,t)}}})}var Da=new da,c6={};function lst(r,t){c6[r]=t}function ust(r){return c6[r]}var f6={};function cst(r,t){f6[r]=t}function fst(r){return f6[r]}var hst=1,pst=800,dst=900,vst=1e3,gst=2e3,yst=5e3,h6=1e3,mst=1100,XA=2e3,p6=3e3,_st=4e3,eb=4500,bst=4600,Sst=5e3,wst=6e3,d6=7e3,xst={PROCESSOR:{FILTER:vst,SERIES_FILTER:pst,STATISTIC:yst},VISUAL:{LAYOUT:h6,PROGRESSIVE_LAYOUT:mst,GLOBAL:XA,CHART:p6,POST_CHART_LAYOUT:bst,COMPONENT:_st,BRUSH:Sst,CHART_ITEM:eb,ARIA:wst,DECAL:d6}},rn="__flagInMainProcess",qy="__mainProcessVersion",_n="__pendingUpdate",Cw="__needsUpdateStatus",UP=/^[a-zA-Z0-9_]+$/,Aw="__connectUpdateStatus",WP=0,Est=1,Tst=2;function v6(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.isDisposed()){this.id;return}return y6(this,r,t)}}function g6(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y6(this,r,t)}}function y6(r,t,e){return e[0]=e[0]&&e[0].toLowerCase(),da.prototype[t].apply(r,e)}var m6=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(da),_6=m6.prototype;_6.on=g6("on");_6.off=g6("off");var Fu,Dw,Xy,ts,Zy,Mw,Lw,Nf,Rf,jP,YP,Nw,$P,Ky,qP,b6,Zi,XP,If,S6=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this,new Not)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},a._dom=e;var o="canvas",c="auto",h=!1;a[qy]=1,i.ssr&&rrt(function(m){var b=fe(m),S=b.dataIndex;if(S!=null){var E=Qt();return E.set("series_index",b.seriesIndex),E.set("data_index",S),b.ssrType&&E.set("ssr_type",b.ssrType),E}});var v=a._zr=tO(e,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:te(i.useDirtyRect,h),useCoarsePointer:te(i.useCoarsePointer,c),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=YA(qt(v.flush,v),17),a._updateTheme(n),a._locale=Rit(i.locale||XH),a._coordSysMgr=new Hv;var g=a._api=qP(a);function y(m,b){return m.__prio-b.__prio}return Hm(F0,y),Hm(xT,y),a._scheduler=new K4(a,g,xT,F0),a._messageCenter=new m6,a._initEvents(),a.resize=qt(a.resize,a),v.animation.on("frame",a._onframe,a),jP(v,a),YP(v,a),p0(a),a}return t.prototype._onframe=function(){if(!this._disposed){XP(this);var e=this._scheduler;if(this[_n]){var n=this[_n].silent;this[rn]=!0,If(this);try{Fu(this),ts.update.call(this,null,this[_n].updateParams)}catch(h){throw this[rn]=!1,this[_n]=null,h}this._zr.flush(),this[rn]=!1,this[_n]=null,Nf.call(this,n),Rf.call(this,n)}else if(e.unfinished){var i=hst,a=this._model,o=this._api;e.unfinished=!1;do{var c=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),Mw(this,a),e.performVisualTasks(a),Ky(this,this._model,o,"remain",{}),i-=+new Date-c}while(i>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,n,i){if(!this[rn]){if(this._disposed){this.id;return}var a,o,c;if(le(n)&&(i=n.lazyUpdate,a=n.silent,o=n.replaceMerge,c=n.transition,n=n.notMerge),this[rn]=!0,If(this),!this._model||n){var h=new pat(this._api),v=this._theme,g=this._model=new HA;g.scheduler=this._scheduler,g.ssr=this._ssr,g.init(null,null,null,v,this._locale,h)}this._model.setOption(e,{replaceMerge:o},ET);var y={seriesTransition:c,optionChanged:!0};if(i)this[_n]={silent:a,updateParams:y},this[rn]=!1,this.getZr().wakeUp();else{try{Fu(this),ts.update.call(this,null,y)}catch(m){throw this[_n]=null,this[rn]=!1,m}this._ssr||this._zr.flush(),this[_n]=null,this[rn]=!1,Nf.call(this,a),Rf.call(this,a)}}},t.prototype.setTheme=function(e,n){if(!this[rn]){if(this._disposed){this.id;return}var i=this._model;if(i){var a=n&&n.silent,o=null;this[_n]&&(a==null&&(a=this[_n].silent),o=this[_n].updateParams,this[_n]=null),this[rn]=!0,If(this);try{this._updateTheme(e),i.setTheme(this._theme),Fu(this),ts.update.call(this,{type:"setTheme"},o)}catch(c){throw this[rn]=!1,c}this[rn]=!1,Nf.call(this,a),Rf.call(this,a)}}},t.prototype._updateTheme=function(e){$t(e)&&(e=w6[e]),e&&(e=ie(e),e&&C4(e,!0),this._theme=e)},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||De.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){e=e||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){e=e||{};var n=this._zr.painter;return n.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){var e=this._zr,n=e.storage.getDisplayList();return j(n,function(i){i.stopAnimation(null,!0)}),e.painter.toDataURL()},t.prototype.getDataURL=function(e){if(this._disposed){this.id;return}e=e||{};var n=e.excludeComponents,i=this._model,a=[],o=this;j(n,function(h){i.eachComponent({mainType:h},function(v){var g=o._componentsMap[v.__viewId];g.group.ignore||(a.push(g),g.group.ignore=!0)})});var c=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return j(a,function(h){h.group.ignore=!1}),c},t.prototype.getConnectedDataURL=function(e){if(this._disposed){this.id;return}var n=e.type==="svg",i=this.group,a=Math.min,o=Math.max,c=1/0;if(ZP[i]){var h=c,v=c,g=-c,y=-c,m=[],b=e&&e.pixelRatio||this.getDevicePixelRatio();j($d,function(L,R){if(L.group===i){var O=n?L.getZr().painter.getSvgDom().innerHTML:L.renderToCanvas(ie(e)),P=L.getDom().getBoundingClientRect();h=a(P.left,h),v=a(P.top,v),g=o(P.right,g),y=o(P.bottom,y),m.push({dom:O,left:P.left,top:P.top})}}),h*=b,v*=b,g*=b,y*=b;var S=g-h,E=y-v,C=ka.createCanvas(),A=tO(C,{renderer:n?"svg":"canvas"});if(A.resize({width:S,height:E}),n){var D="";return j(m,function(L){var R=L.left-h,O=L.top-v;D+='<g transform="translate('+R+","+O+')">'+L.dom+"</g>"}),A.painter.getSvgRoot().innerHTML=D,e.connectedBackgroundColor&&A.painter.setBackgroundColor(e.connectedBackgroundColor),A.refreshImmediately(),A.painter.toDataURL()}else return e.connectedBackgroundColor&&A.add(new xe({shape:{x:0,y:0,width:S,height:E},style:{fill:e.connectedBackgroundColor}})),j(m,function(L){var R=new En({style:{x:L.left*b-h,y:L.top*b-v,image:L.dom}});A.add(R)}),A.refreshImmediately(),C.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)},t.prototype.convertToPixel=function(e,n,i){return Zy(this,"convertToPixel",e,n,i)},t.prototype.convertToLayout=function(e,n,i){return Zy(this,"convertToLayout",e,n,i)},t.prototype.convertFromPixel=function(e,n,i){return Zy(this,"convertFromPixel",e,n,i)},t.prototype.containPixel=function(e,n){if(this._disposed){this.id;return}var i=this._model,a,o=fh(i,e);return j(o,function(c,h){h.indexOf("Models")>=0&&j(c,function(v){var g=v.coordinateSystem;if(g&&g.containPoint)a=a||!!g.containPoint(n);else if(h==="seriesModels"){var y=this._chartsMap[v.__viewId];y&&y.containPoint&&(a=a||y.containPoint(n,v))}},this)},this),!!a},t.prototype.getVisual=function(e,n){var i=this._model,a=fh(i,e,{defaultMainType:"series"}),o=a.seriesModel,c=o.getData(),h=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?c.indexOfRawIndex(a.dataIndex):null;return h!=null?$A(c,h,n):Uv(c,n)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;j(Cst,function(i){var a=function(o){var c=e.getModel(),h=o.target,v,g=i==="globalout";if(g?v={}:h&&ac(h,function(E){var C=fe(E);if(C&&C.dataIndex!=null){var A=C.dataModel||c.getSeriesByIndex(C.seriesIndex);return v=A&&A.getDataParams(C.dataIndex,C.dataType,h)||{},!0}else if(C.eventData)return v=Mt({},C.eventData),!0},!0),v){var y=v.componentType,m=v.componentIndex;(y==="markLine"||y==="markPoint"||y==="markArea")&&(y="series",m=v.seriesIndex);var b=y&&m!=null&&c.getComponent(y,m),S=b&&e[b.mainType==="series"?"_chartsMap":"_componentsMap"][b.__viewId];v.event=o,v.type=i,e._$eventProcessor.eventInfo={targetEl:h,packedEvent:v,model:b,view:S},e.trigger(i,v)}};a.zrEventfulCallAtLast=!0,e._zr.on(i,a,e)});var n=this._messageCenter;j(wT,function(i,a){n.on(a,function(o){e.trigger(a,o)})}),Oot(n,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var e=this.getDom();e&&iH(this.getDom(),KA,"");var n=this,i=n._api,a=n._model;j(n._componentsViews,function(o){o.dispose(a,i)}),j(n._chartsViews,function(o){o.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete $d[n.id]},t.prototype.resize=function(e){if(!this[rn]){if(this._disposed){this.id;return}this._zr.resize(e);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=e&&e.silent;this[_n]&&(a==null&&(a=this[_n].silent),i=!0,this[_n]=null),this[rn]=!0,If(this);try{i&&Fu(this),ts.update.call(this,{type:"resize",animation:Mt({duration:0},e&&e.animation)})}catch(o){throw this[rn]=!1,o}this[rn]=!1,Nf.call(this,a),Rf.call(this,a)}}},t.prototype.showLoading=function(e,n){if(this._disposed){this.id;return}if(le(e)&&(n=e,e=""),e=e||"default",this.hideLoading(),!!TT[e]){var i=TT[e](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(e){var n=Mt({},e);return n.type=ST[e.type],n},t.prototype.dispatchAction=function(e,n){if(this._disposed){this.id;return}if(le(n)||(n={silent:!!n}),!!G0[e.type]&&this._model){if(this[rn]){this._pendingActions.push(e);return}var i=n.silent;Lw.call(this,e,i);var a=n.flush;a?this._zr.flush():a!==!1&&De.browser.weChat&&this._throttledZrFlush(),Nf.call(this,i),Rf.call(this,i)}},t.prototype.updateLabelLayout=function(){Da.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed){this.id;return}var n=e.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=(function(){Fu=function(y){var m=y._scheduler;m.restorePipelines(y._model),m.prepareStageTasks(),Dw(y,!0),Dw(y,!1),m.plan()},Dw=function(y,m){for(var b=y._model,S=y._scheduler,E=m?y._componentsViews:y._chartsViews,C=m?y._componentsMap:y._chartsMap,A=y._zr,D=y._api,L=0;L<E.length;L++)E[L].__alive=!1;m?b.eachComponent(function(P,V){P!=="series"&&R(V)}):b.eachSeries(R);function R(P){var V=P.__requireNewView;P.__requireNewView=!1;var k="_ec_"+P.id+"_"+P.type,F=!V&&C[k];if(!F){var H=xo(P.type),W=m?vr.getClass(H.main,H.sub):Je.getClass(H.sub);F=new W,F.init(b,D),C[k]=F,E.push(F),A.add(F.group)}P.__viewId=F.__id=k,F.__alive=!0,F.__model=P,F.group.__ecComponentInfo={mainType:P.mainType,index:P.componentIndex},!m&&S.prepareView(F,P,b,D)}for(var L=0;L<E.length;){var O=E[L];O.__alive?L++:(!m&&O.renderTask.dispose(),A.remove(O.group),O.dispose(b,D),E.splice(L,1),C[O.__id]===O&&delete C[O.__id],O.__id=O.group.__ecComponentInfo=null)}},Xy=function(y,m,b,S,E){var C=y._model;if(C.setUpdatePayload(b),!S){j([].concat(y._componentsViews).concat(y._chartsViews),O);return}var A={};A[S+"Id"]=b[S+"Id"],A[S+"Index"]=b[S+"Index"],A[S+"Name"]=b[S+"Name"];var D={mainType:S,query:A};E&&(D.subType=E);var L=b.excludeSeriesId,R;L!=null&&(R=Qt(),j(tr(L),function(P){var V=nn(P,null);V!=null&&R.set(V,!0)})),C&&C.eachComponent(D,function(P){var V=R&&R.get(P.id)!=null;if(!V)if(IO(b))if(P instanceof sr)b.type===pc&&!b.notBlur&&!P.get(["emphasis","disabled"])&&Lnt(P,b,y._api);else{var k=SA(P.mainType,P.componentIndex,b.name,y._api),F=k.focusSelf,H=k.dispatchers;b.type===pc&&F&&!b.notBlur&&QE(P.mainType,P.componentIndex,y._api),H&&j(H,function(W){b.type===pc?Ss(W):ws(W)})}else eT(b)&&P instanceof sr&&(Int(P,b,y._api),NO(P),Zi(y))},y),C&&C.eachComponent(D,function(P){var V=R&&R.get(P.id)!=null;V||O(y[S==="series"?"_chartsMap":"_componentsMap"][P.__viewId])},y);function O(P){P&&P.__alive&&P[m]&&P[m](P.__model,C,y._api,b)}},ts={prepareAndUpdate:function(y){Fu(this),ts.update.call(this,y,y&&{optionChanged:y.newOption!=null})},update:function(y,m){var b=this._model,S=this._api,E=this._zr,C=this._coordSysMgr,A=this._scheduler;if(b){b.setUpdatePayload(y),A.restoreData(b,y),A.performSeriesTasks(b),C.create(b,S),A.performDataProcessorTasks(b,y),Mw(this,b),C.update(b,S),n(b),A.performVisualTasks(b,y);var D=b.get("backgroundColor")||"transparent";E.setBackgroundColor(D);var L=b.get("darkMode");L!=null&&L!=="auto"&&E.setDarkMode(L),Nw(this,b,S,y,m),Da.trigger("afterupdate",b,S)}},updateTransform:function(y){var m=this,b=this._model,S=this._api;if(b){b.setUpdatePayload(y);var E=[];b.eachComponent(function(A,D){if(A!=="series"){var L=m.getViewOfComponentModel(D);if(L&&L.__alive)if(L.updateTransform){var R=L.updateTransform(D,b,S,y);R&&R.update&&E.push(L)}else E.push(L)}});var C=Qt();b.eachSeries(function(A){var D=m._chartsMap[A.__viewId];if(D.updateTransform){var L=D.updateTransform(A,b,S,y);L&&L.update&&C.set(A.uid,1)}else C.set(A.uid,1)}),n(b),this._scheduler.performVisualTasks(b,y,{setDirty:!0,dirtyMap:C}),Ky(this,b,S,y,{},C),Da.trigger("afterupdate",b,S)}},updateView:function(y){var m=this._model;m&&(m.setUpdatePayload(y),Je.markUpdateMethod(y,"updateView"),n(m),this._scheduler.performVisualTasks(m,y,{setDirty:!0}),Nw(this,m,this._api,y,{}),Da.trigger("afterupdate",m,this._api))},updateVisual:function(y){var m=this,b=this._model;b&&(b.setUpdatePayload(y),b.eachSeries(function(S){S.getData().clearAllVisual()}),Je.markUpdateMethod(y,"updateVisual"),n(b),this._scheduler.performVisualTasks(b,y,{visualType:"visual",setDirty:!0}),b.eachComponent(function(S,E){if(S!=="series"){var C=m.getViewOfComponentModel(E);C&&C.__alive&&C.updateVisual(E,b,m._api,y)}}),b.eachSeries(function(S){var E=m._chartsMap[S.__viewId];E.updateVisual(S,b,m._api,y)}),Da.trigger("afterupdate",b,this._api))},updateLayout:function(y){ts.update.call(this,y)}};function e(y,m,b,S,E){if(y._disposed){y.id;return}for(var C=y._model,A=y._coordSysMgr.getCoordinateSystems(),D,L=fh(C,b),R=0;R<A.length;R++){var O=A[R];if(O[m]&&(D=O[m](C,L,S,E))!=null)return D}}Zy=e,Mw=function(y,m){var b=y._chartsMap,S=y._scheduler;m.eachSeries(function(E){S.updateStreamModes(E,b[E.__viewId])})},Lw=function(y,m){var b=this,S=this.getModel(),E=y.type,C=y.escapeConnect,A=G0[E],D=(A.update||"update").split(":"),L=D.pop(),R=D[0]!=null&&xo(D[0]);this[rn]=!0,If(this);var O=[y],P=!1;y.batch&&(P=!0,O=Pt(y.batch,function(J){return J=se(Mt({},J),y),J.batch=null,J}));var V=[],k,F=[],H=A.nonRefinedEventType,W=eT(y),q=IO(y);if(q&&TH(this._api),j(O,function(J){var it=A.action(J,S,b._api);if(A.refineEvent?F.push(it):k=it,k=k||Mt({},J),k.type=H,V.push(k),q){var rt=hA(y),st=rt.queryOptionMap,lt=rt.mainTypeSpecified,dt=lt?st.keys()[0]:"series";Xy(b,L,J,dt),Zi(b)}else W?(Xy(b,L,J,"series"),Zi(b)):R&&Xy(b,L,J,R.main,R.sub)}),L!=="none"&&!q&&!W&&!R)try{this[_n]?(Fu(this),ts.update.call(this,y),this[_n]=null):ts[L].call(this,y)}catch(J){throw this[rn]=!1,J}if(P?k={type:H,escapeConnect:C,batch:V}:k=V[0],this[rn]=!1,!m){var Y=void 0;if(A.refineEvent){var K=A.refineEvent(F,y,S,this._api).eventContent;qn(le(K)),Y=se({type:A.refinedEventType},K),Y.fromAction=y.type,Y.fromActionPayload=y,Y.escapeConnect=!0}var X=this._messageCenter;X.trigger(k.type,k),Y&&X.trigger(Y.type,Y)}},Nf=function(y){for(var m=this._pendingActions;m.length;){var b=m.shift();Lw.call(this,b,y)}},Rf=function(y){!y&&this.trigger("updated")},jP=function(y,m){y.on("rendered",function(b){m.trigger("rendered",b),y.animation.isFinished()&&!m[_n]&&!m._scheduler.unfinished&&!m._pendingActions.length&&m.trigger("finished")})},YP=function(y,m){y.on("mouseover",function(b){var S=b.target,E=ac(S,uv);E&&(Nnt(E,b,m._api),Zi(m))}).on("mouseout",function(b){var S=b.target,E=ac(S,uv);E&&(Rnt(E,b,m._api),Zi(m))}).on("click",function(b){var S=b.target,E=ac(S,function(D){return fe(D).dataIndex!=null},!0);if(E){var C=E.selected?"unselect":"select",A=fe(E);m._api.dispatchAction({type:C,dataType:A.dataType,dataIndexInside:A.dataIndex,seriesIndex:A.seriesIndex,isFromClick:!0})}})};function n(y){y.clearColorPalette(),y.eachSeries(function(m){m.clearColorPalette()})}function i(y){var m=[],b=[],S=!1;if(y.eachComponent(function(D,L){var R=L.get("zlevel")||0,O=L.get("z")||0,P=L.getZLevelKey();S=S||!!P,(D==="series"?b:m).push({zlevel:R,z:O,idx:L.componentIndex,type:D,key:P})}),S){var E=m.concat(b),C,A;Hm(E,function(D,L){return D.zlevel===L.zlevel?D.z-L.z:D.zlevel-L.zlevel}),j(E,function(D){var L=y.getComponent(D.type,D.idx),R=D.zlevel,O=D.key;C!=null&&(R=Math.max(C,R)),O?(R===C&&O!==A&&R++,A=O):A&&(R===C&&R++,A=""),C=R,L.setZLevel(R)})}}Nw=function(y,m,b,S,E){i(m),$P(y,m,b,S,E),j(y._chartsViews,function(C){C.__alive=!1}),Ky(y,m,b,S,E),j(y._chartsViews,function(C){C.__alive||C.remove(m,b)})},$P=function(y,m,b,S,E,C){j(C||y._componentsViews,function(A){var D=A.__model;v(D,A),A.render(D,m,b,S),h(D,A),g(D,A)})},Ky=function(y,m,b,S,E,C){var A=y._scheduler;E=Mt(E||{},{updatedSeries:m.getSeries()}),Da.trigger("series:beforeupdate",m,b,E);var D=!1;m.eachSeries(function(L){var R=y._chartsMap[L.__viewId];R.__alive=!0;var O=R.renderTask;A.updatePayload(O,S),v(L,R),C&&C.get(L.uid)&&O.dirty(),O.perform(A.getPerformArgs(O))&&(D=!0),R.group.silent=!!L.get("silent"),c(L,R),NO(L)}),A.unfinished=D||A.unfinished,Da.trigger("series:layoutlabels",m,b,E),Da.trigger("series:transition",m,b,E),m.eachSeries(function(L){var R=y._chartsMap[L.__viewId];h(L,R),g(L,R)}),o(y,m),Da.trigger("series:afterupdate",m,b,E)},Zi=function(y){y[Cw]=!0,y.getZr().wakeUp()},If=function(y){y[qy]=(y[qy]+1)%1e3},XP=function(y){y[Cw]&&(y.getZr().storage.traverse(function(m){hh(m)||a(m)}),y[Cw]=!1)};function a(y){for(var m=[],b=y.currentStates,S=0;S<b.length;S++){var E=b[S];E==="emphasis"||E==="blur"||E==="select"||m.push(E)}y.selected&&y.states.select&&m.push("select"),y.hoverState===z_&&y.states.emphasis?m.push("emphasis"):y.hoverState===Pv&&y.states.blur&&m.push("blur"),y.useStates(m)}function o(y,m){var b=y._zr,S=b.storage,E=0;S.traverse(function(C){C.isGroup||E++}),E>m.get("hoverLayerThreshold")&&!De.node&&!De.worker&&m.eachSeries(function(C){if(!C.preventUsingHoverLayer){var A=y._chartsMap[C.__viewId];A.__alive&&A.eachRendered(function(D){D.states.emphasis&&(D.states.emphasis.hoverLayer=!0)})}})}function c(y,m){var b=y.get("blendMode")||null;m.eachRendered(function(S){S.isGroup||(S.style.blend=b)})}function h(y,m){if(!y.preventAutoZ){var b=Tc(y);m.eachRendered(function(S){return q_(S,b.z,b.zlevel),!0})}}function v(y,m){m.eachRendered(function(b){if(!hh(b)){var S=b.getTextContent(),E=b.getTextGuideLine();b.stateTransition&&(b.stateTransition=null),S&&S.stateTransition&&(S.stateTransition=null),E&&E.stateTransition&&(E.stateTransition=null),b.hasState()?(b.prevStates=b.currentStates,b.clearStates()):b.prevStates&&(b.prevStates=null)}})}function g(y,m){var b=y.getModel("stateAnimation"),S=y.isAnimationEnabled(),E=b.get("duration"),C=E>0?{duration:E,delay:b.get("delay"),easing:b.get("easing")}:null;m.eachRendered(function(A){if(A.states&&A.states.emphasis){if(hh(A))return;if(A instanceof Te&&Fnt(A),A.__dirty){var D=A.prevStates;D&&A.useStates(D)}if(S){A.stateTransition=C;var L=A.getTextContent(),R=A.getTextGuideLine();L&&(L.stateTransition=C),R&&(R.stateTransition=C)}A.__dirty&&a(A)}})}qP=function(y){return new((function(m){bt(b,m);function b(){return m!==null&&m.apply(this,arguments)||this}return b.prototype.getCoordinateSystems=function(){return y._coordSysMgr.getCoordinateSystems()},b.prototype.getComponentByElement=function(S){for(;S;){var E=S.__ecComponentInfo;if(E!=null)return y._model.getComponent(E.mainType,E.index);S=S.parent}},b.prototype.enterEmphasis=function(S,E){Ss(S,E),Zi(y)},b.prototype.leaveEmphasis=function(S,E){ws(S,E),Zi(y)},b.prototype.enterBlur=function(S){SH(S),Zi(y)},b.prototype.leaveBlur=function(S){bA(S),Zi(y)},b.prototype.enterSelect=function(S){wH(S),Zi(y)},b.prototype.leaveSelect=function(S){xH(S),Zi(y)},b.prototype.getModel=function(){return y.getModel()},b.prototype.getViewOfComponentModel=function(S){return y.getViewOfComponentModel(S)},b.prototype.getViewOfSeriesModel=function(S){return y.getViewOfSeriesModel(S)},b.prototype.getMainProcessVersion=function(){return y[qy]},b})(E4))(y)},b6=function(y){function m(b,S){for(var E=0;E<b.length;E++){var C=b[E];C[Aw]=S}}j(ST,function(b,S){y._messageCenter.on(S,function(E){if(ZP[y.group]&&y[Aw]!==WP){if(E&&E.escapeConnect)return;var C=y.makeActionFromEvent(E),A=[];j($d,function(D){D!==y&&D.group===y.group&&A.push(D)}),m(A,WP),j(A,function(D){D[Aw]!==Est&&D.dispatchAction(C)}),m(A,Tst)}})})}})(),t})(da),ZA=S6.prototype;ZA.on=v6("on");ZA.off=v6("off");ZA.one=function(r,t,e){var n=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];t&&t.apply&&t.apply(this,a),n.off(r,i)}this.on.call(this,r,i,e)};var Cst=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var G0={},ST={},wT={},xT=[],ET=[],F0=[],w6={},TT={},$d={},ZP={},Ast=+new Date-0,KA="_echarts_instance_";function Rw(r,t,e){{var n=Dst(r);if(n)return n}var i=new S6(r,t,e);return i.id="ec_"+Ast++,$d[i.id]=i,iH(r,KA,i.id),b6(i),Da.trigger("afterinit",i),i}function Dst(r){return $d[Crt(r,KA)]}function x6(r,t){w6[r]=t}function E6(r){ge(ET,r)<0&&ET.push(r)}function T6(r,t){QA(xT,r,t,gst)}function Mst(r){JA("afterinit",r)}function Lst(r){JA("afterupdate",r)}function JA(r,t){Da.on(r,t)}function Bo(r,t,e){var n,i,a,o,c;re(t)&&(e=t,t=""),le(r)?(n=r.type,i=r.event,o=r.update,c=r.publishNonRefinedEvent,e||(e=r.action),a=r.refineEvent):(n=r,i=t);function h(g){return g.toLowerCase()}i=h(i||n);var v=a?h(n):i;G0[n]||(qn(UP.test(n)&&UP.test(i)),a&&qn(i!==n),G0[n]={actionType:n,refinedEventType:i,nonRefinedEventType:v,update:o,action:e,refineEvent:a},wT[i]=1,a&&c&&(wT[v]=1),ST[v]=n)}function Nst(r,t){Hv.register(r,t)}function Rst(r,t){QA(F0,r,t,h6,"layout")}function Vc(r,t){QA(F0,r,t,p6,"visual")}var KP=[];function QA(r,t,e,n,i){if((re(t)||le(t))&&(e=t,t=n),!(ge(KP,e)>=0)){KP.push(e);var a=K4.wrapStageHandler(e,i);a.__prio=t,a.__raw=e,r.push(a)}}function C6(r,t){TT[r]=t}function Ist(r,t,e){var n=ust("registerMap");n&&n(r,t,e)}var Ost=jat;Vc(XA,yot);Vc(eb,mot);Vc(eb,_ot);Vc(XA,Rot);Vc(eb,Iot);Vc(d6,sst);E6(C4);T6(dst,Tat);C6("default",bot);Bo({type:pc,event:pc,update:pc},Fr);Bo({type:Ym,event:Ym,update:Ym},Fr);Bo({type:C0,event:mA,update:C0,action:Fr,refineEvent:tD,publishNonRefinedEvent:!0});Bo({type:KE,event:mA,update:KE,action:Fr,refineEvent:tD,publishNonRefinedEvent:!0});Bo({type:A0,event:mA,update:A0,action:Fr,refineEvent:tD,publishNonRefinedEvent:!0});function tD(r,t,e,n){return{eventContent:{selected:Ont(e),isFromClick:t.isFromClick||!1}}}x6("default",{});x6("dark",e6);var JP=[],Pst={registerPreprocessor:E6,registerProcessor:T6,registerPostInit:Mst,registerPostUpdate:Lst,registerUpdateLifecycle:JA,registerAction:Bo,registerCoordinateSystem:Nst,registerLayout:Rst,registerVisual:Vc,registerTransform:Ost,registerLoading:C6,registerMap:Ist,registerImpl:lst,PRIORITY:xst,ComponentModel:Ce,ComponentView:vr,SeriesModel:sr,ChartView:Je,registerComponentModel:function(r){Ce.registerClass(r)},registerComponentView:function(r){vr.registerClass(r)},registerSeriesModel:function(r){sr.registerClass(r)},registerChartView:function(r){Je.registerClass(r)},registerCustomSeries:function(r,t){cst(r,t)},registerSubTypeDefaulter:function(r,t){Ce.registerSubTypeDefaulter(r,t)},registerPainter:function(r,t){trt(r,t)}};function be(r){if(Rt(r)){j(r,function(t){be(t)});return}ge(JP,r)>=0||(JP.push(r),re(r)&&(r={install:r}),r.install(Pst))}function qp(r){return r==null?0:r.length||1}function QP(r){return r}var xs=(function(){function r(t,e,n,i,a,o){this._old=t,this._new=e,this._oldKeyGetter=n||QP,this._newKeyGetter=i||QP,this.context=a,this._diffModeMultiple=o==="multiple"}return r.prototype.add=function(t){return this._add=t,this},r.prototype.update=function(t){return this._update=t,this},r.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},r.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},r.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},r.prototype.remove=function(t){return this._remove=t,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},i=new Array(t.length),a=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,n,a,"_newKeyGetter");for(var o=0;o<t.length;o++){var c=i[o],h=n[c],v=qp(h);if(v>1){var g=h.shift();h.length===1&&(n[c]=h[0]),this._update&&this._update(g,o)}else v===1?(n[c]=null,this._update&&this._update(h,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},r.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},i={},a=[],o=[];this._initIndexMap(t,n,a,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var c=0;c<a.length;c++){var h=a[c],v=n[h],g=i[h],y=qp(v),m=qp(g);if(y>1&&m===1)this._updateManyToOne&&this._updateManyToOne(g,v),i[h]=null;else if(y===1&&m>1)this._updateOneToMany&&this._updateOneToMany(g,v),i[h]=null;else if(y===1&&m===1)this._update&&this._update(g,v),i[h]=null;else if(y>1&&m>1)this._updateManyToMany&&this._updateManyToMany(g,v),i[h]=null;else if(y>1)for(var b=0;b<y;b++)this._remove&&this._remove(v[b]);else this._remove&&this._remove(v)}this._performRestAdd(o,i)},r.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],a=e[i],o=qp(a);if(o>1)for(var c=0;c<o;c++)this._add&&this._add(a[c]);else o===1&&this._add&&this._add(a);e[i]=null}},r.prototype._initIndexMap=function(t,e,n,i){for(var a=this._diffModeMultiple,o=0;o<t.length;o++){var c="_ec_"+this[i](t[o],o);if(a||(n[o]=c),!!e){var h=e[c],v=qp(h);v===0?(e[c]=o,a&&n.push(c)):v===1?e[c]=[h,o]:h.push(o)}}},r})(),kst=(function(){function r(t,e){this._encode=t,this._schema=e}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r})();function Vst(r,t){var e={},n=e.encode={},i=Qt(),a=[],o=[],c={};j(r.dimensions,function(m){var b=r.getDimensionInfo(m),S=b.coordDim;if(S){var E=b.coordDimIndex;Iw(n,S)[E]=m,b.isExtraCoord||(i.set(S,1),Gst(b.type)&&(a[0]=m),Iw(c,S)[E]=r.getDimensionIndex(b.name)),b.defaultTooltip&&o.push(m)}y4.each(function(C,A){var D=Iw(n,A),L=b.otherDims[A];L!=null&&L!==!1&&(D[L]=b.name)})});var h=[],v={};i.each(function(m,b){var S=n[b];v[b]=S[0],h=h.concat(S)}),e.dataDimsOnCoord=h,e.dataDimIndicesOnCoord=Pt(h,function(m){return r.getDimensionInfo(m).storeDimIndex}),e.encodeFirstDimNotExtra=v;var g=n.label;g&&g.length&&(a=g.slice());var y=n.tooltip;return y&&y.length?o=y.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,e.userOutput=new kst(c,t),e}function Iw(r,t){return r.hasOwnProperty(t)||(r[t]=[]),r[t]}function B0(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function Gst(r){return!(r==="ordinal"||r==="time")}var Qm=(function(){function r(t){this.otherDims={},t!=null&&Mt(this,t)}return r})(),Fst=Ee(),Bst={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},A6=(function(){function r(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=L6(this.source)))},r.prototype.getSourceDimensionIndex=function(t){return te(this._dimNameMap.get(t),-1)},r.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},r.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=D4(this.source),n=!N6(t),i="",a=[],o=0,c=0;o<t;o++){var h=void 0,v=void 0,g=void 0,y=this.dimensions[c];if(y&&y.storeDimIndex===o)h=e?y.name:null,v=y.type,g=y.ordinalMeta,c++;else{var m=this.getSourceDimension(o);m&&(h=e?m.name:null,v=m.type)}a.push({property:h,type:v,ordinalMeta:g}),e&&h!=null&&(!y||!y.isCalculationCoord)&&(i+=n?h.replace(/\`/g,"`1").replace(/\$/g,"`2"):h),i+="$",i+=Bst[v]||"f",g&&(i+=g.uid),i+="$"}var b=this.source,S=[b.seriesLayoutBy,b.startIndex,i].join("$$");return{dimensions:a,hash:S}},r.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===e)a.isCalculationCoord||(i=a.name),n++;else{var o=this.getSourceDimension(e);o&&(i=o.name)}t.push(i)}return t},r.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r})();function D6(r){return r instanceof A6}function M6(r){for(var t=Qt(),e=0;e<(r||[]).length;e++){var n=r[e],i=le(n)?n.name:n;i!=null&&t.get(i)==null&&t.set(i,e)}return t}function L6(r){var t=Fst(r);return t.dimNameMap||(t.dimNameMap=M6(r.dimensionsDefine))}function N6(r){return r>30}var Xp=le,Js=Pt,Hst=typeof Int32Array>"u"?Array:Int32Array,zst="e\0\0",tk=-1,Ust=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Wst=["_approximateExtent"],ek,Jy,Zp,Kp,Ow,Jp,Pw,fi=(function(){function r(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;D6(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var a={},o=[],c={},h=!1,v={},g=0;g<n.length;g++){var y=n[g],m=$t(y)?new Qm({name:y}):y instanceof Qm?y:new Qm(y),b=m.name;m.type=m.type||"float",m.coordDim||(m.coordDim=b,m.coordDimIndex=0);var S=m.otherDims=m.otherDims||{};o.push(b),a[b]=m,v[b]!=null&&(h=!0),m.createInvertedIndices&&(c[b]=[]);var E=g;Ie(m.storeDimIndex)&&(E=m.storeDimIndex),S.itemName===0&&(this._nameDimIdx=E),S.itemId===0&&(this._idDimIdx=E),i&&(m.storeDimIndex=g)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(h),this.hostModel=e,this._invertedIndicesMap=c,this._dimOmitted){var C=this._dimIdxToName=Qt();j(o,function(A){C.set(a[A].storeDimIndex,A)})}}return r.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(n!=null)return n;var i=this._schema.getSourceDimension(e);if(i)return i.name},r.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},r.prototype._recognizeDimIndex=function(t){if(Ie(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},r.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},r.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},r.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(n){return e.hasOwnProperty(n)?e[n]:void 0}:function(n){return e[n]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(e==null)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[e]:null},r.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,n=e.encode[t];return(n||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(t,e,n){var i=this,a;if(t instanceof dT&&(a=t),!a){var o=this.dimensions,c=zA(t)||$n(t)?new M4(t,o.length):t;a=new dT;var h=Js(o,function(v){return{type:i._dimInfos[v].type,property:v}});a.initData(c,h,n)}this._store=a,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=Vst(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},r.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e&&e.length),i=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var c=i;c<a;c++){var h=c-i;this._nameList[c]=e[h],o&&Pw(this,c)}},r.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var i=this._dimInfos[e[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==El&&!t.fillStorage},r.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,c=i.getSource().sourceFormat,h=c===Ui;if(h&&!i.pure)for(var v=[],g=t;g<e;g++){var y=i.getItem(g,v);if(!this.hasItemOption&&prt(y)&&(this.hasItemOption=!0),y){var m=y.name;a[g]==null&&m!=null&&(a[g]=nn(m,null));var b=y.id;o[g]==null&&b!=null&&(o[g]=nn(b,null))}}if(this._shouldMakeIdFromName())for(var g=t;g<e;g++)Pw(this,g);ek(this)}},r.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},r.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},r.prototype.setCalculationInfo=function(t,e){Xp(t)?Mt(this._calculationInfo,t):this._calculationInfo[t]=e},r.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return n==null&&this._nameDimIdx!=null&&(n=Zp(this,this._nameDimIdx,e)),n==null&&(n=""),n},r.prototype._getCategory=function(t,e){var n=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},r.prototype.getId=function(t){return Jy(this,this.getRawIndex(t))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,e)},r.prototype.getByRawIndex=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,e)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},r.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},r.prototype.getValues=function(t,e){var n=this,i=this._store;return Rt(t)?i.getValues(Js(t,function(a){return n._getStoreDimIndex(a)}),e):i.getValues(t)},r.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},r.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},r.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},r.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},r.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t],i=n&&n[e];return i==null||isNaN(i)?tk:i},r.prototype.each=function(t,e,n){re(t)&&(n=e,e=t,t=[]);var i=n||this,a=Js(Kp(t),this._getStoreDimIndex,this);this._store.each(a,i?qt(e,i):e)},r.prototype.filterSelf=function(t,e,n){re(t)&&(n=e,e=t,t=[]);var i=n||this,a=Js(Kp(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?qt(e,i):e),this},r.prototype.selectRange=function(t){var e=this,n={},i=Le(t);return j(i,function(a){var o=e._getStoreDimIndex(a);n[o]=t[a]}),this._store=this._store.selectRange(n),this},r.prototype.mapArray=function(t,e,n){re(t)&&(n=e,e=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},n),i},r.prototype.map=function(t,e,n,i){var a=n||i||this,o=Js(Kp(t),this._getStoreDimIndex,this),c=Jp(this);return c._store=this._store.map(o,a?qt(e,a):e),c},r.prototype.modify=function(t,e,n,i){var a=n||i||this,o=Js(Kp(t),this._getStoreDimIndex,this);this._store.modify(o,a?qt(e,a):e)},r.prototype.downSample=function(t,e,n,i){var a=Jp(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),e,n,i),a},r.prototype.minmaxDownSample=function(t,e){var n=Jp(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e),n},r.prototype.lttbDownSample=function(t,e){var n=Jp(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},r.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},r.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new Me(n,e,e&&e.ecModel)},r.prototype.diff=function(t){var e=this;return new xs(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return Jy(t,n)},function(n){return Jy(e,n)})},r.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},r.prototype.setVisual=function(t,e){this._visual=this._visual||{},Xp(t)?Mt(this._visual,t):this._visual[t]=e},r.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],i=n&&n[e];return i??this.getVisual(e)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var a=i[e];return a==null&&(a=this.getVisual(e),Rt(a)?a=a.slice():Xp(a)&&(a=Mt({},a)),i[e]=a),a},r.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Xp(e)?Mt(i,e):i[e]=n},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(t,e){Xp(t)?Mt(this._layout,t):this._layout[t]=e},r.prototype.getLayout=function(t){return this._layout[t]},r.prototype.getItemLayout=function(t){return this._itemLayouts[t]},r.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?Mt(this._itemLayouts[t]||{},e):e},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;ZE(n,this.dataType,t,e),this._graphicEls[t]=e},r.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},r.prototype.eachItemGraphicEl=function(t,e){j(this._graphicEls,function(n,i){n&&t&&t.call(e,n,i)})},r.prototype.cloneShallow=function(t){return t||(t=new r(this._schema?this._schema:Js(this.dimensions,this._getDimInfo,this),this.hostModel)),Ow(t,this),t._store=this._store,t},r.prototype.wrapMethod=function(t,e){var n=this[t];re(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=n.apply(this,arguments);return e.apply(this,[i].concat(nA(arguments)))})},r.internalField=(function(){ek=function(t){var e=t._invertedIndicesMap;j(e,function(n,i){var a=t._dimInfos[i],o=a.ordinalMeta,c=t._store;if(o){n=e[i]=new Hst(o.categories.length);for(var h=0;h<n.length;h++)n[h]=tk;for(var h=0;h<c.count();h++)n[c.get(a.storeDimIndex,h)]=h}})},Zp=function(t,e,n){return nn(t._getCategory(e,n),null)},Jy=function(t,e){var n=t._idList[e];return n==null&&t._idDimIdx!=null&&(n=Zp(t,t._idDimIdx,e)),n==null&&(n=zst+e),n},Kp=function(t){return Rt(t)||(t=t!=null?[t]:[]),t},Jp=function(t){var e=new r(t._schema?t._schema:Js(t.dimensions,t._getDimInfo,t),t.hostModel);return Ow(e,t),e},Ow=function(t,e){j(Ust.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,j(Wst,function(n){t[n]=ie(e[n])}),t._calculationInfo=Mt({},e._calculationInfo)},Pw=function(t,e){var n=t._nameList,i=t._idList,a=t._nameDimIdx,o=t._idDimIdx,c=n[e],h=i[e];if(c==null&&a!=null&&(n[e]=c=Zp(t,a,e)),h==null&&o!=null&&(i[e]=h=Zp(t,o,e)),h==null&&c!=null){var v=t._nameRepeatCount,g=v[c]=(v[c]||0)+1;h=c,g>1&&(h+="__ec__"+g),i[e]=h}}})(),r})();function Wv(r,t){zA(r)||(r=UA(r)),t=t||{};var e=t.coordDimensions||[],n=t.dimensionsDefine||r.dimensionsDefine||[],i=Qt(),a=[],o=Yst(r,e,n,t.dimensionsCount),c=t.canOmitUnusedDimensions&&N6(o),h=n===r.dimensionsDefine,v=h?L6(r):M6(n),g=t.encodeDefine;!g&&t.encodeDefaulter&&(g=t.encodeDefaulter(r,o));for(var y=Qt(g),m=new V4(o),b=0;b<m.length;b++)m[b]=-1;function S(F){var H=m[F];if(H<0){var W=n[F],q=le(W)?W:{name:W},Y=new Qm,K=q.name;K!=null&&v.get(K)!=null&&(Y.name=Y.displayName=K),q.type!=null&&(Y.type=q.type),q.displayName!=null&&(Y.displayName=q.displayName);var X=a.length;return m[F]=X,Y.storeDimIndex=F,a.push(Y),Y}return a[H]}if(!c)for(var b=0;b<o;b++)S(b);y.each(function(F,H){var W=tr(F).slice();if(W.length===1&&!$t(W[0])&&W[0]<0){y.set(H,!1);return}var q=y.set(H,[]);j(W,function(Y,K){var X=$t(Y)?v.get(Y):Y;X!=null&&X<o&&(q[K]=X,C(S(X),H,K))})});var E=0;j(e,function(F){var H,W,q,Y;if($t(F))H=F,Y={};else{Y=F,H=Y.name;var K=Y.ordinalMeta;Y.ordinalMeta=null,Y=Mt({},Y),Y.ordinalMeta=K,W=Y.dimsDef,q=Y.otherDims,Y.name=Y.coordDim=Y.coordDimIndex=Y.dimsDef=Y.otherDims=null}var X=y.get(H);if(X!==!1){if(X=tr(X),!X.length)for(var J=0;J<(W&&W.length||1);J++){for(;E<o&&S(E).coordDim!=null;)E++;E<o&&X.push(E++)}j(X,function(it,rt){var st=S(it);if(h&&Y.type!=null&&(st.type=Y.type),C(se(st,Y),H,rt),st.name==null&&W){var lt=W[rt];!le(lt)&&(lt={name:lt}),st.name=st.displayName=lt.name,st.defaultTooltip=lt.defaultTooltip}q&&se(st.otherDims,q)})}});function C(F,H,W){y4.get(H)!=null?F.otherDims[H]=W:(F.coordDim=H,F.coordDimIndex=W,i.set(H,!0))}var A=t.generateCoord,D=t.generateCoordCount,L=D!=null;D=A?D||1:0;var R=A||"value";function O(F){F.name==null&&(F.name=F.coordDim)}if(c)j(a,function(F){O(F)}),a.sort(function(F,H){return F.storeDimIndex-H.storeDimIndex});else for(var P=0;P<o;P++){var V=S(P),k=V.coordDim;k==null&&(V.coordDim=$st(R,i,L),V.coordDimIndex=0,(!A||D<=0)&&(V.isExtraCoord=!0),D--),O(V),V.type==null&&(S4(r,P)===Rn.Must||V.isExtraCoord&&(V.otherDims.itemName!=null||V.otherDims.seriesName!=null))&&(V.type="ordinal")}return jst(a),new A6({source:r,dimensions:a,fullDimensionCount:o,dimensionOmitted:c})}function jst(r){for(var t=Qt(),e=0;e<r.length;e++){var n=r[e],i=n.name,a=t.get(i)||0;a>0&&(n.name=i+(a-1)),a++,t.set(i,a)}}function Yst(r,t,e,n){var i=Math.max(r.dimensionsDetectedCount||1,t.length,e.length,n||0);return j(t,function(a){var o;le(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function $st(r,t,e){if(e||t.hasKey(r)){for(var n=0;t.hasKey(r+n);)n++;r+=n}return t.set(r,!0),r}var qst=(function(){function r(t){this.coordSysDims=[],this.axisMap=Qt(),this.categoryAxisMap=Qt(),this.coordSysName=t}return r})();function Xst(r){var t=r.get("coordinateSystem"),e=new qst(t),n=Zst[t];if(n)return n(r,e,e.axisMap,e.categoryAxisMap),e}var Zst={cartesian2d:function(r,t,e,n){var i=r.getReferringComponents("xAxis",Ar).models[0],a=r.getReferringComponents("yAxis",Ar).models[0];t.coordSysDims=["x","y"],e.set("x",i),e.set("y",a),Of(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),Of(a)&&(n.set("y",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,e,n){var i=r.getReferringComponents("singleAxis",Ar).models[0];t.coordSysDims=["single"],e.set("single",i),Of(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(r,t,e,n){var i=r.getReferringComponents("polar",Ar).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",a),e.set("angle",o),Of(a)&&(n.set("radius",a),t.firstCategoryDimIndex=0),Of(o)&&(n.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,e,n){t.coordSysDims=["lng","lat"]},parallel:function(r,t,e,n){var i=r.ecModel,a=i.getComponent("parallel",r.get("parallelIndex")),o=t.coordSysDims=a.dimensions.slice();j(a.parallelAxisIndex,function(c,h){var v=i.getComponent("parallelAxis",c),g=o[h];e.set(g,v),Of(v)&&(n.set(g,v),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=h))})},matrix:function(r,t,e,n){var i=r.getReferringComponents("matrix",Ar).models[0];t.coordSysDims=["x","y"];var a=i.getDimensionModel("x"),o=i.getDimensionModel("y");e.set("x",a),e.set("y",o),n.set("x",a),n.set("y",o)}};function Of(r){return r.get("type")==="category"}function Kst(r,t,e){e=e||{};var n=e.byIndex,i=e.stackedCoordDimension,a,o,c;Jst(t)?a=t:(o=t.schema,a=o.dimensions,c=t.store);var h=!!(r&&r.get("stack")),v,g,y,m;if(j(a,function(D,L){$t(D)&&(a[L]=D={name:D}),h&&!D.isExtraCoord&&(!n&&!v&&D.ordinalMeta&&(v=D),!g&&D.type!=="ordinal"&&D.type!=="time"&&(!i||i===D.coordDim)&&(g=D))}),g&&!n&&!v&&(n=!0),g){y="__\0ecstackresult_"+r.id,m="__\0ecstackedover_"+r.id,v&&(v.createInvertedIndices=!0);var b=g.coordDim,S=g.type,E=0;j(a,function(D){D.coordDim===b&&E++});var C={name:y,coordDim:b,coordDimIndex:E,type:S,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},A={name:m,coordDim:m,coordDimIndex:E+1,type:S,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(c&&(C.storeDimIndex=c.ensureCalculationDimension(m,S),A.storeDimIndex=c.ensureCalculationDimension(y,S)),o.appendCalculationDimension(C),o.appendCalculationDimension(A)):(a.push(C),a.push(A))}return{stackedDimension:g&&g.name,stackedByDimension:v&&v.name,isStackedByIndex:n,stackedOverDimension:m,stackResultDimension:y}}function Jst(r){return!D6(r.schema)}function Ll(r,t){return!!t&&t===r.getCalculationInfo("stackedDimension")}function R6(r,t){return Ll(r,t)?r.getCalculationInfo("stackResultDimension"):t}function Qst(r,t){var e=r.get("coordinateSystem"),n=Hv.get(e),i;return t&&t.coordSysDims&&(i=Pt(t.coordSysDims,function(a){var o={name:a},c=t.axisMap.get(a);if(c){var h=c.get("type");o.type=B0(h)}return o})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function tlt(r,t,e){var n,i;return e&&j(r,function(a,o){var c=a.coordDim,h=e.categoryAxisMap.get(c);h&&(n==null&&(n=o),a.ordinalMeta=h.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(r[n].otherDims.itemName=0),n}function Ls(r,t,e){e=e||{};var n=t.getSourceManager(),i,a=!1;r?(a=!0,i=UA(r)):(i=n.getSource(),a=i.sourceFormat===Ui);var o=Xst(t),c=Qst(t,o),h=e.useEncodeDefaulter,v=re(h)?h:h?ve(b4,c,t):null,g={coordDimensions:c,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:v,canOmitUnusedDimensions:!a},y=Wv(i,g),m=tlt(y.dimensions,e.createInvertedIndices,o),b=a?null:n.getSharedDataStore(y),S=Kst(t,{schema:y,store:b}),E=new fi(y,t);E.setCalculationInfo(S);var C=m!=null&&elt(i)?function(A,D,L,R){return R===m?L:this.defaultDimValueGetter(A,D,L,R)}:null;return E.hasItemOption=!1,E.initData(a?i:b,null,C),E}function elt(r){if(r.sourceFormat===Ui){var t=rlt(r.data||[]);return!Rt(Ph(t))}}function rlt(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}function CT(r){return r.type==="interval"||r.type==="log"}function nlt(r,t,e,n,i){var a={},o=a.interval=XB(t/e);n!=null&&o<n&&(o=a.interval=n),i!=null&&o>i&&(o=a.interval=i);var c=a.intervalPrecision=yv(o),h=a.niceTickExtent=[Yr(Math.ceil(r[0]/o)*o,c),Yr(Math.floor(r[1]/o)*o,c)];return ilt(h,r),a}function kw(r){var t=Math.pow(10,cA(r)),e=r/t;return e?e===2?e=3:e===3?e=5:e*=2:e=1,Yr(e*t)}function yv(r){return wo(r)+2}function rk(r,t,e){r[t]=Math.max(Math.min(r[t],e[1]),e[0])}function ilt(r,t){!isFinite(r[0])&&(r[0]=t[0]),!isFinite(r[1])&&(r[1]=t[1]),rk(r,0,t),rk(r,1,t),r[0]>r[1]&&(r[0]=r[1])}function eD(r,t){return r>=t[0]&&r<=t[1]}var alt=(function(){function r(){this.normalize=nk,this.scale=ik}return r.prototype.updateMethods=function(t){t.hasBreaks()?(this.normalize=qt(t.normalize,t),this.scale=qt(t.scale,t)):(this.normalize=nk,this.scale=ik)},r})();function nk(r,t){return t[1]===t[0]?.5:(r-t[0])/(t[1]-t[0])}function ik(r,t){return r*(t[1]-t[0])+t[0]}function AT(r,t,e){var n=Math.log(r);return[Math.log(e?t[0]:Math.max(0,t[0]))/n,Math.log(e?t[1]:Math.max(0,t[1]))/n]}var Fl=(function(){function r(t){this._calculator=new alt,this._setting=t||{},this._extent=[1/0,-1/0];var e=qr();e&&(this._brkCtx=e.createScaleBreakContext(),this._brkCtx.update(this._extent))}return r.prototype.getSetting=function(t){return this._setting[t]},r.prototype._innerUnionExtent=function(t){var e=this._extent;this._innerSetExtent(t[0]<e[0]?t[0]:e[0],t[1]>e[1]?t[1]:e[1])},r.prototype.unionExtentFromData=function(t,e){this._innerUnionExtent(t.getApproximateExtent(e))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,e){this._innerSetExtent(t,e)},r.prototype._innerSetExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e),this._brkCtx&&this._brkCtx.update(n)},r.prototype.setBreaksFromOption=function(t){var e=qr();e&&this._innerSetBreak(e.parseAxisBreakOption(t,qt(this.parse,this)))},r.prototype._innerSetBreak=function(t){this._brkCtx&&(this._brkCtx.setBreaks(t),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},r.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},r.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},r.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},r.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},r})();k_(Fl);var olt=0,mv=(function(){function r(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++olt,this._onCollect=t.onCollect}return r.createByAxisModel=function(t){var e=t.option,n=e.data,i=n&&Pt(n,slt);return new r({categories:i,needCollect:!i,deduplication:e.dedplication!==!1})},r.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},r.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!$t(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,this._onCollect&&this._onCollect(t,e),e;var i=this._getOrCreateMap();return e=i.get(t),e==null&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e),this._onCollect&&this._onCollect(t,e)):e=NaN),e},r.prototype._getOrCreateMap=function(){return this._map||(this._map=Qt(this.categories))},r})();function slt(r){return le(r)&&r.value!=null?r.value:r+""}var Eh=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new mv({})),Rt(i)&&(i=new mv({categories:Pt(i,function(a){return le(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return t.prototype.parse=function(e){return e==null?NaN:$t(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return eD(e,this._extent)&&e>=0&&e<this._ordinalMeta.categories.length},t.prototype.normalize=function(e){return e=this._getTickNumber(e),this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(this._calculator.scale(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],n=this._extent,i=n[0];i<=n[1];)e.push({value:i}),i++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=e.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,c=this._ordinalMeta.categories.length,h=Math.min(c,n.length);o<h;++o){var v=n[o];i[o]=v,a[v]=o}for(var g=0;o<c;++o){for(;a[g]!=null;)g++;i.push(g),a[g]=o}},t.prototype._getTickNumber=function(e){var n=this._ticksByOrdinalNumber;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getRawOrdinalNumber=function(e){var n=this._ordinalNumbersByTick;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var n=this.getRawOrdinalNumber(e.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t})(Fl);Fl.registerClass(Eh);var Qs=Yr,Es=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return t.prototype.parse=function(e){return e==null||e===""?NaN:Number(e)},t.prototype.contain=function(e){return eD(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=yv(e)},t.prototype.getTicks=function(e){e=e||{};var n=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,c=qr(),h=[];if(!n)return h;if(e.breakTicks==="only_break"&&c)return c.addBreaksToTicks(h,this._brkCtx.breaks,this._extent),h;var v=1e4;i[0]<a[0]&&(e.expandToNicedExtent?h.push({value:Qs(a[0]-n,o)}):h.push({value:i[0]}));for(var g=function(S,E){return Math.round((E-S)/n)},y=a[0];y<=a[1];){if(h.push({value:y}),y=Qs(y+n,o),this._brkCtx){var m=this._brkCtx.calcNiceTickMultiple(y,g);m>=0&&(y=Qs(y+m*n,o))}if(h.length>0&&y===h[h.length-1].value)break;if(h.length>v)return[]}var b=h.length?h[h.length-1].value:a[1];return i[1]>b&&(e.expandToNicedExtent?h.push({value:Qs(b+n,o)}):h.push({value:i[1]})),c&&c.pruneTicksByBreak(e.pruneByBreak,h,this._brkCtx.breaks,function(S){return S.value},this._interval,this._extent),e.breakTicks!=="none"&&c&&c.addBreaksToTicks(h,this._brkCtx.breaks,this._extent),h},t.prototype.getMinorTicks=function(e){for(var n=this.getTicks({expandToNicedExtent:!0}),i=[],a=this.getExtent(),o=1;o<n.length;o++){var c=n[o],h=n[o-1];if(!(h.break||c.break)){for(var v=0,g=[],y=c.value-h.value,m=y/e,b=yv(m);v<e-1;){var S=Qs(h.value+(v+1)*m,b);S>a[0]&&S<a[1]&&g.push(S),v++}var E=qr();E&&E.pruneTicksByBreak("auto",g,this._getNonTransBreaks(),function(C){return C},this._interval,a),i.push(g)}}return i},t.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},t.prototype.getLabel=function(e,n){if(e==null)return"";var i=n&&n.precision;i==null?i=wo(e.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Qs(e.value,i,!0);return i4(a)},t.prototype.calcNiceTicks=function(e,n,i){e=e||5;var a=this._extent.slice(),o=this._getExtentSpanWithBreaks();if(isFinite(o)){o<0&&(o=-o,a.reverse(),this._innerSetExtent(a[0],a[1]),a=this._extent.slice());var c=nlt(a,o,e,n,i);this._intervalPrecision=c.intervalPrecision,this._interval=c.interval,this._niceExtent=c.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var n=this._extent.slice();if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);e.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this._innerSetExtent(n[0],n[1]),n=this._extent.slice(),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval,c=this._intervalPrecision;e.fixMin||(n[0]=Qs(Math.floor(n[0]/o)*o,c)),e.fixMax||(n[1]=Qs(Math.ceil(n[1]/o)*o,c)),this._innerSetExtent(n[0],n[1])},t.prototype.setNiceExtent=function(e,n){this._niceExtent=[e,n]},t.type="interval",t})(Fl);Fl.registerClass(Es);var I6=typeof Float32Array<"u",llt=I6?Float32Array:Array;function Eo(r){return Rt(r)?I6?new Float32Array(r):r:new llt(r)}var DT="__ec_stack_";function O6(r){return r.get("stack")||DT+r.seriesIndex}function rD(r){return r.dim+r.index}function ult(r){var t=[],e=r.axis,n="axis0";if(e.type==="category"){for(var i=e.getBandWidth(),a=0;a<r.count;a++)t.push(se({bandWidth:i,axisKey:n,stackId:DT+a},r));for(var o=V6(t),c=[],a=0;a<r.count;a++){var h=o[n][DT+a];h.offsetCenter=h.offset+h.width/2,c.push(h)}return c}}function P6(r,t){var e=[];return t.eachSeriesByType(r,function(n){B6(n)&&e.push(n)}),e}function clt(r){var t={};j(r,function(h){var v=h.coordinateSystem,g=v.getBaseAxis();if(!(g.type!=="time"&&g.type!=="value"))for(var y=h.getData(),m=g.dim+"_"+g.index,b=y.getDimensionIndex(y.mapDimension(g.dim)),S=y.getStore(),E=0,C=S.count();E<C;++E){var A=S.get(b,E);t[m]?t[m].push(A):t[m]=[A]}});var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i){i.sort(function(h,v){return h-v});for(var a=null,o=1;o<i.length;++o){var c=i[o]-i[o-1];c>0&&(a=a===null?c:Math.min(a,c))}e[n]=a}}return e}function k6(r){var t=clt(r),e=[];return j(r,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),c;if(a.type==="category")c=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var h=a.dim+"_"+a.index,v=t[h],g=Math.abs(o[1]-o[0]),y=a.scale.getExtent(),m=Math.abs(y[1]-y[0]);c=v?g/m*v:g}else{var b=n.getData();c=Math.abs(o[1]-o[0])/b.count()}var S=Yt(n.get("barWidth"),c),E=Yt(n.get("barMaxWidth"),c),C=Yt(n.get("barMinWidth")||(H6(n)?.5:1),c),A=n.get("barGap"),D=n.get("barCategoryGap"),L=n.get("defaultBarGap");e.push({bandWidth:c,barWidth:S,barMaxWidth:E,barMinWidth:C,barGap:A,barCategoryGap:D,defaultBarGap:L,axisKey:rD(a),stackId:O6(n)})}),V6(e)}function V6(r){var t={};j(r,function(n,i){var a=n.axisKey,o=n.bandWidth,c=t[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:n.defaultBarGap||0,stacks:{}},h=c.stacks;t[a]=c;var v=n.stackId;h[v]||c.autoWidthCount++,h[v]=h[v]||{width:0,maxWidth:0};var g=n.barWidth;g&&!h[v].width&&(h[v].width=g,g=Math.min(c.remainedWidth,g),c.remainedWidth-=g);var y=n.barMaxWidth;y&&(h[v].maxWidth=y);var m=n.barMinWidth;m&&(h[v].minWidth=m);var b=n.barGap;b!=null&&(c.gap=b);var S=n.barCategoryGap;S!=null&&(c.categoryGap=S)});var e={};return j(t,function(n,i){e[i]={};var a=n.stacks,o=n.bandWidth,c=n.categoryGap;if(c==null){var h=Le(a).length;c=Math.max(35-h*4,15)+"%"}var v=Yt(c,o),g=Yt(n.gap,1),y=n.remainedWidth,m=n.autoWidthCount,b=(y-v)/(m+(m-1)*g);b=Math.max(b,0),j(a,function(A){var D=A.maxWidth,L=A.minWidth;if(A.width){var R=A.width;D&&(R=Math.min(R,D)),L&&(R=Math.max(R,L)),A.width=R,y-=R+g*R,m--}else{var R=b;D&&D<R&&(R=Math.min(D,y)),L&&L>R&&(R=L),R!==b&&(A.width=R,y-=R+g*R,m--)}}),b=(y-v)/(m+(m-1)*g),b=Math.max(b,0);var S=0,E;j(a,function(A,D){A.width||(A.width=b),E=A,S+=A.width*(1+g)}),E&&(S-=E.width*g);var C=-S/2;j(a,function(A,D){e[i][D]=e[i][D]||{bandWidth:o,offset:C,width:A.width},C+=A.width*(1+g)})}),e}function flt(r,t,e){if(r&&t){var n=r[rD(t)];return n}}function G6(r,t){var e=P6(r,t),n=k6(e);j(e,function(i){var a=i.getData(),o=i.coordinateSystem,c=o.getBaseAxis(),h=O6(i),v=n[rD(c)][h],g=v.offset,y=v.width;a.setLayout({bandWidth:v.bandWidth,offset:g,size:y})})}function F6(r){return{seriesType:r,plan:zh(),reset:function(t){if(B6(t)){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),o=e.getDimensionIndex(e.mapDimension(a.dim)),c=e.getDimensionIndex(e.mapDimension(i.dim)),h=t.get("showBackground",!0),v=e.mapDimension(a.dim),g=e.getCalculationInfo("stackResultDimension"),y=Ll(e,v)&&!!e.getCalculationInfo("stackedOnSeries"),m=a.isHorizontal(),b=hlt(i,a),S=H6(t),E=t.get("barMinHeight")||0,C=g&&e.getDimensionIndex(g),A=e.getLayout("size"),D=e.getLayout("offset");return{progress:function(L,R){for(var O=L.count,P=S&&Eo(O*3),V=S&&h&&Eo(O*3),k=S&&Eo(O),F=n.master.getRect(),H=m?F.width:F.height,W,q=R.getStore(),Y=0;(W=L.next())!=null;){var K=q.get(y?C:o,W),X=q.get(c,W),J=b,it=void 0;y&&(it=+K-q.get(o,W));var rt=void 0,st=void 0,lt=void 0,dt=void 0;if(m){var pt=n.dataToPoint([K,X]);if(y){var Tt=n.dataToPoint([it,X]);J=Tt[0]}rt=J,st=pt[1]+D,lt=pt[0]-J,dt=A,Math.abs(lt)<E&&(lt=(lt<0?-1:1)*E)}else{var pt=n.dataToPoint([X,K]);if(y){var Tt=n.dataToPoint([X,it]);J=Tt[1]}rt=pt[0]+D,st=J,lt=A,dt=pt[1]-J,Math.abs(dt)<E&&(dt=(dt<=0?-1:1)*E)}S?(P[Y]=rt,P[Y+1]=st,P[Y+2]=m?lt:dt,V&&(V[Y]=m?F.x:rt,V[Y+1]=m?st:F.y,V[Y+2]=H),k[W]=W):R.setItemLayout(W,{x:rt,y:st,width:lt,height:dt}),Y+=3}S&&R.setLayout({largePoints:P,largeDataIndices:k,largeBackgroundPoints:V,valueAxisHorizontal:m})}}}}}}function B6(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function H6(r){return r.pipelineContext&&r.pipelineContext.large}function hlt(r,t){var e=t.model.get("startValue");return e||(e=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?e>0?e:1:e))}var plt=function(r,t,e,n){for(;e<n;){var i=e+n>>>1;r[i][1]<t?e=i+1:n=i}return e},nD=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="time",n}return t.prototype.getLabel=function(e){var n=this.getSetting("useUTC");return Z_(e.value,qO[Hit(jd(this._minLevelUnit))]||qO.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,n,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return zit(e,n,i,o,a)},t.prototype.getTicks=function(e){e=e||{};var n=this._interval,i=this._extent,a=qr(),o=[];if(!n)return o;var c=this.getSetting("useUTC");if(a&&e.breakTicks==="only_break")return qr().addBreaksToTicks(o,this._brkCtx.breaks,this._extent),o;var h=nh(i[1],c);o.push({value:i[0],time:{level:0,upperTimeUnit:h,lowerTimeUnit:h}});var v=blt(this._minLevelUnit,this._approxInterval,c,i,this._getExtentSpanWithBreaks(),this._brkCtx);o=o.concat(v);var g=nh(i[1],c);o.push({value:i[1],time:{level:0,upperTimeUnit:g,lowerTimeUnit:g}});var y=this.getSetting("useUTC"),m=Pi.length-1,b=0;return j(o,function(S){m=Math.min(m,ge(Pi,S.time.upperTimeUnit)),b=Math.max(b,S.time.level)}),a&&qr().pruneTicksByBreak(e.pruneByBreak,o,this._brkCtx.breaks,function(S){return S.value},this._approxInterval,this._extent),a&&e.breakTicks!=="none"&&qr().addBreaksToTicks(o,this._brkCtx.breaks,this._extent,function(S){for(var E=Math.max(ge(Pi,nh(S.vmin,y)),ge(Pi,nh(S.vmax,y))),C=0,A=0;A<Pi.length;A++)if(!z6(Pi[A],S.vmin,S.vmax,y)){C=A;break}var D=Math.min(C,m),L=Math.max(D,E);return{level:b,lowerTimeUnit:Pi[L],upperTimeUnit:Pi[D]}}),o},t.prototype.calcNiceExtent=function(e){var n=this.getExtent();if(n[0]===n[1]&&(n[0]-=la,n[1]+=la),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-la}this._innerSetExtent(n[0],n[1]),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,n,i){e=e||10;var a=this._getExtentSpanWithBreaks();this._approxInterval=a/e,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=Qy.length,c=Math.min(plt(Qy,this._approxInterval,0,o),o-1);this._interval=Qy[c][1],this._intervalPrecision=yv(this._interval),this._minLevelUnit=Qy[Math.max(c-1,0)][0]},t.prototype.parse=function(e){return Ie(e)?e:+Rc(e)},t.prototype.contain=function(e){return eD(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.type="time",t})(Es),Qy=[["second",MA],["minute",LA],["hour",Wd],["quarter-day",Wd*6],["half-day",Wd*12],["day",la*1.2],["half-week",la*3.5],["week",la*7],["month",la*31],["quarter",la*95],["half-year",$O/2],["year",$O]];function z6(r,t,e,n){return lT(new Date(t),r,n).getTime()===lT(new Date(e),r,n).getTime()}function dlt(r,t){return r/=la,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function vlt(r){var t=30*la;return r/=t,r>6?6:r>3?3:r>2?2:1}function glt(r){return r/=Wd,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function ak(r,t){return r/=t?LA:MA,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function ylt(r){return XB(r)}function mlt(r,t,e){var n=Math.max(0,ge(Pi,t)-1);return lT(new Date(r),Pi[n],e).getTime()}function _lt(r,t){var e=new Date(0);e[r](1);var n=e.getTime();e[r](1+t);var i=e.getTime()-n;return function(a,o){return Math.max(0,Math.round((o-a)/i))}}function blt(r,t,e,n,i,a){var o=1e4,c=Vit,h=0;function v(Y,K,X,J,it,rt,st){for(var lt=_lt(it,Y),dt=K,pt=new Date(dt);dt<X&&dt<=n[1]&&(st.push({value:dt}),!(h++>o));)if(pt[it](pt[J]()+Y),dt=pt.getTime(),a){var Tt=a.calcNiceTickMultiple(dt,lt);Tt>0&&(pt[it](pt[J]()+Tt*Y),dt=pt.getTime())}st.push({value:dt,notAdd:!0})}function g(Y,K,X){var J=[],it=!K.length;if(!z6(jd(Y),n[0],n[1],e)){it&&(K=[{value:mlt(n[0],Y,e)},{value:n[1]}]);for(var rt=0;rt<K.length-1;rt++){var st=K[rt].value,lt=K[rt+1].value;if(st!==lt){var dt=void 0,pt=void 0,Tt=void 0,Ft=!1;switch(Y){case"year":dt=Math.max(1,Math.round(t/la/365)),pt=KH(e),Tt=Uit(e);break;case"half-year":case"quarter":case"month":dt=vlt(t),pt=NA(e),Tt=JH(e);break;case"week":case"half-week":case"day":dt=dlt(t),pt=RA(e),Tt=QH(e),Ft=!0;break;case"half-day":case"quarter-day":case"hour":dt=glt(t),pt=IA(e),Tt=t4(e);break;case"minute":dt=ak(t,!0),pt=OA(e),Tt=e4(e);break;case"second":dt=ak(t,!1),pt=PA(e),Tt=r4(e);break;case"millisecond":dt=ylt(t),pt=kA(e),Tt=n4(e);break}lt>=n[0]&&st<=n[1]&&v(dt,st,lt,pt,Tt,Ft,J),Y==="year"&&X.length>1&&rt===0&&X.unshift({value:X[0].value-dt})}}for(var rt=0;rt<J.length;rt++)X.push(J[rt])}}for(var y=[],m=[],b=0,S=0,E=0;E<c.length;++E){var C=jd(c[E]);if(Bit(c[E])){g(c[E],y[y.length-1]||[],m);var A=c[E+1]?jd(c[E+1]):null;if(C!==A){if(m.length){S=b,m.sort(function(Y,K){return Y.value-K.value});for(var D=[],L=0;L<m.length;++L){var R=m[L].value;(L===0||m[L-1].value!==R)&&(D.push(m[L]),R>=n[0]&&R<=n[1]&&b++)}var O=i/t;if(b>O*1.5&&S>O/1.5||(y.push(D),b>O||r===c[E]))break}m=[]}}}for(var P=Ye(Pt(y,function(Y){return Ye(Y,function(K){return K.value>=n[0]&&K.value<=n[1]&&!K.notAdd})}),function(Y){return Y.length>0}),V=[],k=P.length-1,E=0;E<P.length;++E)for(var F=P[E],H=0;H<F.length;++H){var W=nh(F[H].value,e);V.push({value:F[H].value,time:{level:k-E,upperTimeUnit:W,lowerTimeUnit:W}})}V.sort(function(Y,K){return Y.value-K.value});for(var q=[],E=0;E<V.length;++E)(E===0||V[E].value!==V[E-1].value)&&q.push(V[E]);return q}Fl.registerClass(nD);var MT=Yr,Slt=Math.floor,wlt=Math.ceil,tm=Math.pow,em=Math.log,U6=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Es,e}return t.prototype.getTicks=function(e){e=e||{};var n=this._extent.slice(),i=this._originalScale.getExtent(),a=r.prototype.getTicks.call(this,e),o=this.base,c=this._originalScale._innerGetBreaks(),h=qr();return Pt(a,function(v){var g=v.value,y=null,m=tm(o,g);g===n[0]&&this._fixMin?y=i[0]:g===n[1]&&this._fixMax&&(y=i[1]);var b;if(h){var S=h.getTicksLogTransformBreak(v,o,c,rm);b=S.vBreak,y==null&&(y=S.brkRoundingCriterion)}return y!=null&&(m=rm(m,y)),{value:m,break:b}},this)},t.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},t.prototype.setExtent=function(e,n){this._originalScale.setExtent(e,n);var i=AT(this.base,[e,n]);r.prototype.setExtent.call(this,i[0],i[1])},t.prototype.getExtent=function(){var e=this.base,n=r.prototype.getExtent.call(this);n[0]=tm(e,n[0]),n[1]=tm(e,n[1]);var i=this._originalScale.getExtent();return this._fixMin&&(n[0]=rm(n[0],i[0])),this._fixMax&&(n[1]=rm(n[1],i[1])),n},t.prototype.unionExtentFromData=function(e,n){this._originalScale.unionExtentFromData(e,n);var i=AT(this.base,e.getApproximateExtent(n),!0);this._innerUnionExtent(i)},t.prototype.calcNiceTicks=function(e){e=e||10;var n=this._extent.slice(),i=this._getExtentSpanWithBreaks();if(!(!isFinite(i)||i<=0)){var a=urt(i),o=e/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var c=[MT(wlt(n[0]/a)*a),MT(Slt(n[1]/a)*a)];this._interval=a,this._intervalPrecision=yv(a),this._niceExtent=c}},t.prototype.calcNiceExtent=function(e){r.prototype.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.contain=function(e){return e=em(e)/em(this.base),r.prototype.contain.call(this,e)},t.prototype.normalize=function(e){return e=em(e)/em(this.base),r.prototype.normalize.call(this,e)},t.prototype.scale=function(e){return e=r.prototype.scale.call(this,e),tm(this.base,e)},t.prototype.setBreaksFromOption=function(e){var n=qr();if(n){var i=n.logarithmicParseBreaksFromOption(e,this.base,qt(this.parse,this)),a=i.parsedOriginal,o=i.parsedLogged;this._originalScale._innerSetBreak(a),this._innerSetBreak(o)}},t.type="log",t})(Es);function rm(r,t){return MT(r,wo(t))}Fl.registerClass(U6);var xlt=(function(){function r(t,e,n){this._prepareParams(t,e,n)}return r.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=e.get("min",!0);a==null&&(a=e.get("startValue",!0));var o=this._modelMinRaw=a;re(o)?this._modelMinNum=nm(t,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=nm(t,o));var c=this._modelMaxRaw=e.get("max",!0);if(re(c)?this._modelMaxNum=nm(t,c({min:n[0],max:n[1]})):c!=="dataMax"&&(this._modelMaxNum=nm(t,c)),i)this._axisDataLen=e.getCategories().length;else{var h=e.get("boundaryGap"),v=Rt(h)?h:[h||0,h||0];typeof v[0]=="boolean"||typeof v[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Ga(v[0],1),Ga(v[1],1)]}},r.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=t?null:n-e||Math.abs(e),c=this._modelMinRaw==="dataMin"?e:this._modelMinNum,h=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,v=c!=null,g=h!=null;c==null&&(c=t?i?0:NaN:e-a[0]*o),h==null&&(h=t?i?i-1:NaN:n+a[1]*o),(c==null||!isFinite(c))&&(c=NaN),(h==null||!isFinite(h))&&(h=NaN);var y=Yn(c)||Yn(h)||t&&!i;this._needCrossZero&&(c>0&&h>0&&!v&&(c=0),c<0&&h<0&&!g&&(h=0));var m=this._determinedMin,b=this._determinedMax;return m!=null&&(c=m,v=!0),b!=null&&(h=b,g=!0),{min:c,max:h,minFixed:v,maxFixed:g,isBlank:y}},r.prototype.modifyDataMinMax=function(t,e){this[Tlt[t]]=e},r.prototype.setDeterminedMinMax=function(t,e){var n=Elt[t];this[n]=e},r.prototype.freeze=function(){this.frozen=!0},r})(),Elt={min:"_determinedMin",max:"_determinedMax"},Tlt={min:"_dataMin",max:"_dataMax"};function W6(r,t,e){var n=r.rawExtentInfo;return n||(n=new xlt(r,t,e),r.rawExtentInfo=n,n)}function nm(r,t){return t==null?null:Yn(t)?NaN:r.parse(t)}function j6(r,t){var e=r.type,n=W6(r,t,r.getExtent()).calculate();r.setBlank(n.isBlank);var i=n.min,a=n.max,o=t.ecModel;if(o&&e==="time"){var c=P6("bar",o),h=!1;if(j(c,function(y){h=h||y.getBaseAxis()===t.axis}),h){var v=k6(c),g=Clt(i,a,t,v);i=g.min,a=g.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function Clt(r,t,e,n){var i=e.axis.getExtent(),a=Math.abs(i[1]-i[0]),o=flt(n,e.axis);if(o===void 0)return{min:r,max:t};var c=1/0;j(o,function(b){c=Math.min(b.offset,c)});var h=-1/0;j(o,function(b){h=Math.max(b.offset+b.width,h)}),c=Math.abs(c),h=Math.abs(h);var v=c+h,g=t-r,y=1-(c+h)/a,m=g/y-g;return t+=m*(h/v),r-=m*(c/v),{min:r,max:t}}function Th(r,t){var e=t,n=j6(r,e),i=n.extent,a=e.get("splitNumber");r instanceof U6&&(r.base=e.get("logBase"));var o=r.type,c=e.get("interval"),h=o==="interval"||o==="time";r.setBreaksFromOption($6(e)),r.setExtent(i[0],i[1]),r.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:h?e.get("minInterval"):null,maxInterval:h?e.get("maxInterval"):null}),c!=null&&r.setInterval&&r.setInterval(c)}function rb(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new Eh({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new nD({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(Fl.getClass(t)||Es)}}function Alt(r){var t=r.scale.getExtent(),e=t[0],n=t[1];return!(e>0&&n>0||e<0&&n<0)}function jh(r){var t=r.getLabelModel().get("formatter");if(r.type==="time"){var e=Git(t);return function(i,a){return r.scale.getFormattedLabel(i,a,e)}}else{if($t(t))return function(i){var a=r.scale.getLabel(i),o=t.replace("{value}",a??"");return o};if(re(t)){if(r.type==="category")return function(i,a){return t(H0(r,i),i.value-r.scale.getExtent()[0],null)};var n=qr();return function(i,a){var o=null;return n&&(o=n.makeAxisLabelFormatterParamBreak(o,i.break)),t(H0(r,i),a,o)}}else return function(i){return r.scale.getLabel(i)}}}function H0(r,t){return r.type==="category"?r.scale.getLabel(t):t.value}function iD(r){var t=r.get("interval");return t??"auto"}function Y6(r){return r.type==="category"&&iD(r.getLabelModel())===0}function z0(r,t){var e={};return j(r.mapDimensionsAll(t),function(n){e[R6(r,n)]=!0}),Le(e)}function Dlt(r,t,e){t&&j(z0(t,e),function(n){var i=t.getApproximateExtent(n);i[0]<r[0]&&(r[0]=i[0]),i[1]>r[1]&&(r[1]=i[1])})}function Ch(r){return r==="middle"||r==="center"}function _v(r){return r.getShallow("show")}function $6(r){var t=r.get("breaks",!0);if(t!=null)return!qr()||!Mlt(r.axis)?void 0:t}function Mlt(r){return(r.dim==="x"||r.dim==="y"||r.dim==="z"||r.dim==="single")&&r.type!=="category"}var jv=(function(){function r(){}return r.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},r.prototype.getCoordSysModel=function(){},r})(),Llt=1e-8;function ok(r,t){return Math.abs(r-t)<Llt}function Ku(r,t,e){var n=0,i=r[0];if(!i)return!1;for(var a=1;a<r.length;a++){var o=r[a];n+=as(i[0],i[1],o[0],o[1],t,e),i=o}var c=r[0];return(!ok(i[0],c[0])||!ok(i[1],c[1]))&&(n+=as(i[0],i[1],c[0],c[1],t,e)),n!==0}var Nlt=[];function Vw(r,t){for(var e=0;e<r.length;e++)Br(r[e],r[e],t)}function sk(r,t,e,n){for(var i=0;i<r.length;i++){var a=r[i];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(fl(t,t,a),hl(e,e,a))}}function Rlt(r){for(var t=0,e=0,n=0,i=r.length,a=r[i-1][0],o=r[i-1][1],c=0;c<i;c++){var h=r[c][0],v=r[c][1],g=a*v-h*o;t+=g,e+=(a+h)*g,n+=(o+v)*g,a=h,o=v}return t?[e/t/3,n/t/3,t]:[r[0][0]||0,r[0][1]||0]}var q6=(function(){function r(t){this.name=t}return r.prototype.setCenter=function(t){this._center=t},r.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},r})(),lk=(function(){function r(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return r})(),uk=(function(){function r(t){this.type="linestring",this.points=t}return r})(),X6=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this,e)||this;return a.type="geoJSON",a.geometries=n,a._center=i&&[i[0],i[1]],a}return t.prototype.calcCenter=function(){for(var e=this.geometries,n,i=0,a=0;a<e.length;a++){var o=e[a],c=o.exterior,h=c&&c.length;h>i&&(n=o,i=h)}if(n)return Rlt(n.exterior);var v=this.getBoundingRect();return[v.x+v.width/2,v.y+v.height/2]},t.prototype.getBoundingRect=function(e){var n=this._rect;if(n&&!e)return n;var i=[1/0,1/0],a=[-1/0,-1/0],o=this.geometries;return j(o,function(c){c.type==="polygon"?sk(c.exterior,i,a,e):j(c.points,function(h){sk(h,i,a,e)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),n=new ue(i[0],i[1],a[0]-i[0],a[1]-i[1]),e||(this._rect=n),n},t.prototype.contain=function(e){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(e[0],e[1]))return!1;t:for(var a=0,o=i.length;a<o;a++){var c=i[a];if(c.type==="polygon"){var h=c.exterior,v=c.interiors;if(Ku(h,e[0],e[1])){for(var g=0;g<(v?v.length:0);g++)if(Ku(v[g],e[0],e[1]))continue t;return!0}}}return!1},t.prototype.transformTo=function(e,n,i,a){var o=this.getBoundingRect(),c=o.width/o.height;i?a||(a=i/c):i=c*a;for(var h=new ue(e,n,i,a),v=o.calculateTransform(h),g=this.geometries,y=0;y<g.length;y++){var m=g[y];m.type==="polygon"?(Vw(m.exterior,v),j(m.interiors,function(b){Vw(b,v)})):j(m.points,function(b){Vw(b,v)})}o=this._rect,o.copy(h),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t})(q6),Ilt=(function(r){bt(t,r);function t(e,n){var i=r.call(this,e)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,n=e.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],a=N_(Nlt),o=e;o&&!o.isGeoSVGGraphicRoot;)Do(a,o.getLocalTransform(),a),o=o.parent;return Va(a,a),Br(i,i,a),i},t})(q6);function Olt(r){if(!r.UTF8Encoding)return r;var t=r,e=t.UTF8Scale;e==null&&(e=1024);var n=t.features;return j(n,function(i){var a=i.geometry,o=a.encodeOffsets,c=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=Z6(c,o,e);break;case"Polygon":Gw(c,o,e);break;case"MultiLineString":Gw(c,o,e);break;case"MultiPolygon":j(c,function(h,v){return Gw(h,o[v],e)})}}),t.UTF8Encoding=!1,t}function Gw(r,t,e){for(var n=0;n<r.length;n++)r[n]=Z6(r[n],t[n],e)}function Z6(r,t,e){for(var n=[],i=t[0],a=t[1],o=0;o<r.length;o+=2){var c=r.charCodeAt(o)-64,h=r.charCodeAt(o+1)-64;c=c>>1^-(c&1),h=h>>1^-(h&1),c+=i,h+=a,i=c,a=h,n.push([c/e,h/e])}return n}function Plt(r,t){return r=Olt(r),Pt(Ye(r.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var n=e.properties,i=e.geometry,a=[];switch(i.type){case"Polygon":var o=i.coordinates;a.push(new lk(o[0],o.slice(1)));break;case"MultiPolygon":j(i.coordinates,function(h){h[0]&&a.push(new lk(h[0],h.slice(1)))});break;case"LineString":a.push(new uk([i.coordinates]));break;case"MultiLineString":a.push(new uk(i.coordinates))}var c=new X6(n[t||"name"],a,n.cp);return c.properties=n,c})}var klt=Ee(),qd=Ee(),Fa={estimate:1,determine:2};function U0(r){return{out:{noPxChangeTryDetermine:[]},kind:r}}function K6(r,t){var e=Pt(t,function(n){return r.scale.parse(n)});return r.type==="time"&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function Vlt(r,t){var e=r.getLabelModel().get("customValues");if(e){var n=jh(r),i=r.scale.getExtent(),a=K6(r,e),o=Ye(a,function(c){return c>=i[0]&&c<=i[1]});return{labels:Pt(o,function(c){var h={value:c};return{formattedLabel:n(h),rawLabel:r.scale.getLabel(h),tickValue:c,time:void 0,break:void 0}})}}return r.type==="category"?Flt(r,t):Hlt(r)}function Glt(r,t,e){var n=r.getTickModel().get("customValues");if(n){var i=r.scale.getExtent(),a=K6(r,n);return{ticks:Ye(a,function(o){return o>=i[0]&&o<=i[1]})}}return r.type==="category"?Blt(r,t):{ticks:Pt(r.scale.getTicks(e),function(o){return o.value})}}function Flt(r,t){var e=r.getLabelModel(),n=J6(r,e,t);return!e.get("show")||r.scale.isBlank()?{labels:[]}:n}function J6(r,t,e){var n=Ult(r),i=iD(t),a=e.kind===Fa.estimate;if(!a){var o=tz(n,i);if(o)return o}var c,h;re(i)?c=nz(r,i):(h=i==="auto"?Wlt(r,e):i,c=rz(r,h));var v={labels:c,labelCategoryInterval:h};return a?e.out.noPxChangeTryDetermine.push(function(){return LT(n,i,v),!0}):LT(n,i,v),v}function Blt(r,t){var e=zlt(r),n=iD(t),i=tz(e,n);if(i)return i;var a,o;if((!t.get("show")||r.scale.isBlank())&&(a=[]),re(n))a=nz(r,n,!0);else if(n==="auto"){var c=J6(r,r.getLabelModel(),U0(Fa.determine));o=c.labelCategoryInterval,a=Pt(c.labels,function(h){return h.tickValue})}else o=n,a=rz(r,o,!0);return LT(e,n,{ticks:a,tickCategoryInterval:o})}function Hlt(r){var t=r.scale.getTicks(),e=jh(r);return{labels:Pt(t,function(n,i){return{formattedLabel:e(n,i),rawLabel:r.scale.getLabel(n),tickValue:n.value,time:n.time,break:n.break}})}}var zlt=Q6("axisTick"),Ult=Q6("axisLabel");function Q6(r){return function(e){return qd(e)[r]||(qd(e)[r]={list:[]})}}function tz(r,t){for(var e=0;e<r.list.length;e++)if(r.list[e].key===t)return r.list[e].value}function LT(r,t,e){return r.list.push({key:t,value:e}),e}function Wlt(r,t){if(t.kind===Fa.estimate){var e=r.calculateCategoryInterval(t);return t.out.noPxChangeTryDetermine.push(function(){return qd(r).autoInterval=e,!0}),e}var n=qd(r).autoInterval;return n??(qd(r).autoInterval=r.calculateCategoryInterval(t))}function jlt(r,t){var e=t.kind,n=$lt(r),i=jh(r),a=(n.axisRotate-n.labelRotate)/180*Math.PI,o=r.scale,c=o.getExtent(),h=o.count();if(c[1]-c[0]<1)return 0;var v=1,g=40;h>g&&(v=Math.max(1,Math.floor(h/g)));for(var y=c[0],m=r.dataToCoord(y+1)-r.dataToCoord(y),b=Math.abs(m*Math.cos(a)),S=Math.abs(m*Math.sin(a)),E=0,C=0;y<=c[1];y+=v){var A=0,D=0,L=O_(i({value:y}),n.font,"center","top");A=L.width*1.3,D=L.height*1.3,E=Math.max(E,A,7),C=Math.max(C,D,7)}var R=E/b,O=C/S;isNaN(R)&&(R=1/0),isNaN(O)&&(O=1/0);var P=Math.max(0,Math.floor(Math.min(R,O)));if(e===Fa.estimate)return t.out.noPxChangeTryDetermine.push(qt(Ylt,null,r,P,h)),P;var V=ez(r,P,h);return V??P}function Ylt(r,t,e){return ez(r,t,e)==null}function ez(r,t,e){var n=klt(r.model),i=r.getExtent(),a=n.lastAutoInterval,o=n.lastTickCount;if(a!=null&&o!=null&&Math.abs(a-t)<=1&&Math.abs(o-e)<=1&&a>t&&n.axisExtent0===i[0]&&n.axisExtent1===i[1])return a;n.lastTickCount=e,n.lastAutoInterval=t,n.axisExtent0=i[0],n.axisExtent1=i[1]}function $lt(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function rz(r,t,e){var n=jh(r),i=r.scale,a=i.getExtent(),o=r.getLabelModel(),c=[],h=Math.max((t||0)+1,1),v=a[0],g=i.count();v!==0&&h>1&&g/h>2&&(v=Math.round(Math.ceil(v/h)*h));var y=Y6(r),m=o.get("showMinLabel")||y,b=o.get("showMaxLabel")||y;m&&v!==a[0]&&E(a[0]);for(var S=v;S<=a[1];S+=h)E(S);b&&S-h!==a[1]&&E(a[1]);function E(C){var A={value:C};c.push(e?C:{formattedLabel:n(A),rawLabel:i.getLabel(A),tickValue:C,time:void 0,break:void 0})}return c}function nz(r,t,e){var n=r.scale,i=jh(r),a=[];return j(n.getTicks(),function(o){var c=n.getLabel(o),h=o.value;t(o.value,c)&&a.push(e?h:{formattedLabel:i(o),rawLabel:c,tickValue:h,time:void 0,break:void 0})}),a}var ck=[0,1],za=(function(){function r(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return r.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},r.prototype.containData=function(t){return this.scale.contain(this.scale.parse(t))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return $B(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},r.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(i.parse(t)),this.onBand&&i.type==="ordinal"&&(n=n.slice(),fk(n,i.count())),je(t,ck,n,e)},r.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),fk(n,i.count()));var a=je(t,n,ck,e);return this.scale.scale(a)},r.prototype.pointToData=function(t,e){},r.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=Glt(this,e,{breakTicks:t.breakTicks,pruneByBreak:t.pruneByBreak}),i=n.ticks,a=Pt(i,function(c){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(c):c),tickValue:c}},this),o=e.get("alignWithLabel");return qlt(this,a,o,t.clamp),a},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e),i=Pt(n,function(a){return Pt(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},r.prototype.getViewLabels=function(t){return t=t||U0(Fa.determine),Vlt(this,t).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},r.prototype.calculateCategoryInterval=function(t){return t=t||U0(Fa.determine),jlt(this,t)},r})();function fk(r,t){var e=r[1]-r[0],n=t,i=e/n/2;r[0]+=i,r[1]-=i}function qlt(r,t,e,n){var i=t.length;if(!r.onBand||e||!i)return;var a=r.getExtent(),o,c;if(i===1)t[0].coord=a[0],t[0].onBand=!0,o=t[1]={coord:a[1],tickValue:t[0].tickValue,onBand:!0};else{var h=t[i-1].tickValue-t[0].tickValue,v=(t[i-1].coord-t[0].coord)/h;j(t,function(b){b.coord-=v/2,b.onBand=!0});var g=r.scale.getExtent();c=1+g[1]-t[i-1].tickValue,o={coord:t[i-1].coord+v*c,tickValue:g[1]+1,onBand:!0},t.push(o)}var y=a[0]>a[1];m(t[0].coord,a[0])&&(n?t[0].coord=a[0]:t.shift()),n&&m(a[0],t[0].coord)&&t.unshift({coord:a[0],onBand:!0}),m(a[1],o.coord)&&(n?o.coord=a[1]:t.pop()),n&&m(o.coord,a[1])&&t.push({coord:a[1],onBand:!0});function m(b,S){return b=Yr(b),S=Yr(S),y?b>S:b<S}}var Qp=Math.PI*2,Bu=ko.CMD,Xlt=["top","right","bottom","left"];function Zlt(r,t,e,n,i){var a=e.width,o=e.height;switch(r){case"top":n.set(e.x+a/2,e.y-t),i.set(0,-1);break;case"bottom":n.set(e.x+a/2,e.y+o+t),i.set(0,1);break;case"left":n.set(e.x-t,e.y+o/2),i.set(-1,0);break;case"right":n.set(e.x+a+t,e.y+o/2),i.set(1,0);break}}function Klt(r,t,e,n,i,a,o,c,h){o-=r,c-=t;var v=Math.sqrt(o*o+c*c);o/=v,c/=v;var g=o*e+r,y=c*e+t;if(Math.abs(n-i)%Qp<1e-4)return h[0]=g,h[1]=y,v-e;if(a){var m=n;n=Fi(i),i=Fi(m)}else n=Fi(n),i=Fi(i);n>i&&(i+=Qp);var b=Math.atan2(c,o);if(b<0&&(b+=Qp),b>=n&&b<=i||b+Qp>=n&&b+Qp<=i)return h[0]=g,h[1]=y,v-e;var S=e*Math.cos(n)+r,E=e*Math.sin(n)+t,C=e*Math.cos(i)+r,A=e*Math.sin(i)+t,D=(S-o)*(S-o)+(E-c)*(E-c),L=(C-o)*(C-o)+(A-c)*(A-c);return D<L?(h[0]=S,h[1]=E,Math.sqrt(D)):(h[0]=C,h[1]=A,Math.sqrt(L))}function W0(r,t,e,n,i,a,o,c){var h=i-r,v=a-t,g=e-r,y=n-t,m=Math.sqrt(g*g+y*y);g/=m,y/=m;var b=h*g+v*y,S=b/m;c&&(S=Math.min(Math.max(S,0),1)),S*=m;var E=o[0]=r+S*g,C=o[1]=t+S*y;return Math.sqrt((E-i)*(E-i)+(C-a)*(C-a))}function iz(r,t,e,n,i,a,o){e<0&&(r=r+e,e=-e),n<0&&(t=t+n,n=-n);var c=r+e,h=t+n,v=o[0]=Math.min(Math.max(i,r),c),g=o[1]=Math.min(Math.max(a,t),h);return Math.sqrt((v-i)*(v-i)+(g-a)*(g-a))}var Ma=[];function Jlt(r,t,e){var n=iz(t.x,t.y,t.width,t.height,r.x,r.y,Ma);return e.set(Ma[0],Ma[1]),n}function Qlt(r,t,e){for(var n=0,i=0,a=0,o=0,c,h,v=1/0,g=t.data,y=r.x,m=r.y,b=0;b<g.length;){var S=g[b++];b===1&&(n=g[b],i=g[b+1],a=n,o=i);var E=v;switch(S){case Bu.M:a=g[b++],o=g[b++],n=a,i=o;break;case Bu.L:E=W0(n,i,g[b],g[b+1],y,m,Ma,!0),n=g[b++],i=g[b++];break;case Bu.C:E=MB(n,i,g[b++],g[b++],g[b++],g[b++],g[b],g[b+1],y,m,Ma),n=g[b++],i=g[b++];break;case Bu.Q:E=NB(n,i,g[b++],g[b++],g[b],g[b+1],y,m,Ma),n=g[b++],i=g[b++];break;case Bu.A:var C=g[b++],A=g[b++],D=g[b++],L=g[b++],R=g[b++],O=g[b++];b+=1;var P=!!(1-g[b++]);c=Math.cos(R)*D+C,h=Math.sin(R)*L+A,b<=1&&(a=c,o=h);var V=(y-C)*L/D+C;E=Klt(C,A,L,R,R+O,P,V,m,Ma),n=Math.cos(R+O)*D+C,i=Math.sin(R+O)*L+A;break;case Bu.R:a=n=g[b++],o=i=g[b++];var k=g[b++],F=g[b++];E=iz(a,o,k,F,y,m,Ma);break;case Bu.Z:E=W0(n,i,a,o,y,m,Ma,!0),n=a,i=o;break}E<v&&(v=E,e.set(Ma[0],Ma[1]))}return v}var La=new oe,cr=new oe,Vr=new oe,To=new oe,_o=new oe;function hk(r,t){if(r){var e=r.getTextGuideLine(),n=r.getTextContent();if(n&&e){var i=r.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||Xlt,c=n.getBoundingRect().clone();c.applyTransform(n.getComputedTransform());var h=1/0,v=i.anchor,g=r.getComputedTransform(),y=g&&Va([],g),m=t.get("length2")||0;v&&Vr.copy(v);for(var b=0;b<o.length;b++){var S=o[b];Zlt(S,0,c,La,To),oe.scaleAndAdd(cr,La,To,m),cr.transform(y);var E=r.getBoundingRect(),C=v?v.distance(cr):r instanceof Te?Qlt(cr,r.path,Vr):Jlt(cr,E,Vr);C<h&&(h=C,cr.transform(g),Vr.transform(g),Vr.toArray(a[0]),cr.toArray(a[1]),La.toArray(a[2]))}az(a,t.get("minTurnAngle")),e.setShape({points:a})}}}var j0=[],oi=new oe;function az(r,t){if(t<=180&&t>0){t=t/180*Math.PI,La.fromArray(r[0]),cr.fromArray(r[1]),Vr.fromArray(r[2]),oe.sub(To,La,cr),oe.sub(_o,Vr,cr);var e=To.len(),n=_o.len();if(!(e<.001||n<.001)){To.scale(1/e),_o.scale(1/n);var i=To.dot(_o),a=Math.cos(t);if(a<i){var o=W0(cr.x,cr.y,Vr.x,Vr.y,La.x,La.y,j0,!1);oi.fromArray(j0),oi.scaleAndAdd(_o,o/Math.tan(Math.PI-t));var c=Vr.x!==cr.x?(oi.x-cr.x)/(Vr.x-cr.x):(oi.y-cr.y)/(Vr.y-cr.y);if(isNaN(c))return;c<0?oe.copy(oi,cr):c>1&&oe.copy(oi,Vr),oi.toArray(r[1])}}}}function tut(r,t,e){if(e<=180&&e>0){e=e/180*Math.PI,La.fromArray(r[0]),cr.fromArray(r[1]),Vr.fromArray(r[2]),oe.sub(To,cr,La),oe.sub(_o,Vr,cr);var n=To.len(),i=_o.len();if(!(n<.001||i<.001)){To.scale(1/n),_o.scale(1/i);var a=To.dot(t),o=Math.cos(e);if(a<o){var c=W0(cr.x,cr.y,Vr.x,Vr.y,La.x,La.y,j0,!1);oi.fromArray(j0);var h=Math.PI/2,v=Math.acos(_o.dot(t)),g=h+v-e;if(g>=h)oe.copy(oi,Vr);else{oi.scaleAndAdd(_o,c/Math.tan(Math.PI/2-g));var y=Vr.x!==cr.x?(oi.x-cr.x)/(Vr.x-cr.x):(oi.y-cr.y)/(Vr.y-cr.y);if(isNaN(y))return;y<0?oe.copy(oi,cr):y>1&&oe.copy(oi,Vr)}oi.toArray(r[1])}}}}function Fw(r,t,e,n){var i=e==="normal",a=i?r:r.ensureState(e);a.ignore=t;var o=n.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var c=n.getModel("lineStyle").getLineStyle();i?r.useStyle(c):a.style=c}function eut(r,t){var e=t.smooth,n=t.points;if(n)if(r.moveTo(n[0][0],n[0][1]),e>0&&n.length>=3){var i=cl(n[0],n[1]),a=cl(n[1],n[2]);if(!i||!a){r.lineTo(n[1][0],n[1][1]),r.lineTo(n[2][0],n[2][1]);return}var o=Math.min(i,a)*e,c=Bm([],n[1],n[0],o/i),h=Bm([],n[1],n[2],o/a),v=Bm([],c,h,.5);r.bezierCurveTo(c[0],c[1],c[0],c[1],v[0],v[1]),r.bezierCurveTo(h[0],h[1],h[0],h[1],n[2][0],n[2][1])}else for(var g=1;g<n.length;g++)r.lineTo(n[g][0],n[g][1])}function aD(r,t,e){var n=r.getTextGuideLine(),i=r.getTextContent();if(!i){n&&r.removeTextGuideLine();return}for(var a=t.normal,o=a.get("show"),c=i.ignore,h=0;h<lv.length;h++){var v=lv[h],g=t[v],y=v==="normal";if(g){var m=g.get("show"),b=y?c:te(i.states[v]&&i.states[v].ignore,c);if(b||!te(m,o)){var S=y?n:n&&n.states[v];S&&(S.ignore=!0),n&&Fw(n,!0,v,g);continue}n||(n=new Pn,r.setTextGuideLine(n),!y&&(c||!o)&&Fw(n,!0,"normal",t.normal),r.stateProxy&&(n.stateProxy=r.stateProxy)),Fw(n,!1,v,g)}}if(n){se(n.style,e),n.style.fill=null;var E=a.get("showAbove"),C=r.textGuideLineConfig=r.textGuideLineConfig||{};C.showAbove=E||!1,n.buildPath=eut}}function oD(r,t){t=t||"labelLine";for(var e={normal:r.getModel(t)},n=0;n<di.length;n++){var i=di[n];e[i]=r.getModel([i,t])}return e}var pk=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],rut=1,Y0=2,oz=rut|Y0;function $0(r,t,e){e=e||oz,t?r.dirty|=e:r.dirty&=~e}function sz(r,t){return t=t||oz,r.dirty==null||!!(r.dirty&t)}function Go(r){if(r)return sz(r)&&lz(r,r.label,r),r}function lz(r,t,e){var n=t.getComputedTransform();r.transform=TA(r.transform,n);var i=r.localRect=fv(r.localRect,t.getBoundingRect()),a=t.style,o=a.margin,c=e&&e.marginForce,h=e&&e.minMarginForce,v=e&&e.marginDefault,g=a.__marginType;g==null&&v&&(o=v,g=rh.textMargin);for(var y=0;y<4;y++)Bw[y]=g===rh.minMargin&&h&&h[y]!=null?h[y]:c&&c[y]!=null?c[y]:o?o[y]:0;g===rh.textMargin&&Ec(i,Bw,!1,!1);var m=r.rect=fv(r.rect,i);return n&&m.applyTransform(n),g===rh.minMargin&&Ec(m,Bw,!1,!1),r.axisAligned=EA(n),(r.label=r.label||{}).ignore=t.ignore,$0(r,!1),$0(r,!0,Y0),r}var Bw=[0,0,0,0];function nut(r,t,e){return r.transform=TA(r.transform,e),r.localRect=fv(r.localRect,t),r.rect=fv(r.rect,t),e&&r.rect.applyTransform(e),r.axisAligned=EA(e),r.obb=void 0,(r.label=r.label||{}).ignore=!1,r}function NT(r,t){if(r){r.label.x+=t.x,r.label.y+=t.y,r.label.markRedraw();var e=r.transform;e&&(e[4]+=t.x,e[5]+=t.y);var n=r.rect;n&&(n.x+=t.x,n.y+=t.y);var i=r.obb;i&&i.fromBoundingRect(r.localRect,e)}}function RT(r,t){for(var e=0;e<pk.length;e++){var n=pk[e];r[n]==null&&(r[n]=t[n])}return Go(r)}function dk(r){var t=r.obb;return(!t||sz(r,Y0))&&(r.obb=t=t||new PH,t.fromBoundingRect(r.localRect,r.transform),$0(r,!1,Y0)),t}function IT(r,t,e,n,i){var a=r.length,o=de[t],c=Xr[t];if(a<2)return!1;r.sort(function(V,k){return V.rect[o]-k.rect[o]});for(var h=0,v,g=!1,y=0;y<a;y++){var m=r[y],b=m.rect;v=b[o]-h,v<0&&(b[o]-=v,m.label[o]-=v,g=!0),h=b[o]+b[c]}var S=r[0],E=r[a-1],C,A;D(),C<0&&O(-C,.8),A<0&&O(A,.8),D(),L(C,A,1),L(A,C,-1),D(),C<0&&P(-C),A<0&&P(A);function D(){C=S.rect[o]-e,A=n-E.rect[o]-E.rect[c]}function L(V,k,F){if(V<0){var H=Math.min(k,-V);if(H>0){R(H*F,0,a);var W=H+V;W<0&&O(-W*F,1)}else O(-V*F,1)}}function R(V,k,F){V!==0&&(g=!0);for(var H=k;H<F;H++){var W=r[H],q=W.rect;q[o]+=V,W.label[o]+=V}}function O(V,k){for(var F=[],H=0,W=1;W<a;W++){var q=r[W-1].rect,Y=Math.max(r[W].rect[o]-q[o]-q[c],0);F.push(Y),H+=Y}if(H){var K=Math.min(Math.abs(V)/H,k);if(V>0)for(var W=0;W<a-1;W++){var X=F[W]*K;R(X,0,W+1)}else for(var W=a-1;W>0;W--){var X=F[W-1]*K;R(-X,W,a)}}}function P(V){var k=V<0?-1:1;V=Math.abs(V);for(var F=Math.ceil(V/(a-1)),H=0;H<a-1;H++)if(k>0?R(F,0,H+1):R(-F,a-H-1,a),V-=F,V<=0)return}return g}function iut(r){for(var t=0;t<r.length;t++){var e=r[t],n=e.defaultAttr,i=e.labelLine;e.label.attr("ignore",n.ignore),i&&i.attr("ignore",n.labelGuideIgnore)}}function uz(r){var t=[];r.sort(function(v,g){return(g.suggestIgnore?1:0)-(v.suggestIgnore?1:0)||g.priority-v.priority});function e(v){if(!v.ignore){var g=v.ensureState("emphasis");g.ignore==null&&(g.ignore=!1)}v.ignore=!0}for(var n=0;n<r.length;n++){var i=Go(r[n]);if(!i.label.ignore){for(var a=i.label,o=i.labelLine,c=!1,h=0;h<t.length;h++)if(nb(i,t[h],null,{touchThreshold:.05})){c=!0;break}c?(e(a),o&&e(o)):t.push(i)}}}function nb(r,t,e,n){return!r||!t||r.label&&r.label.ignore||t.label&&t.label.ignore||!r.rect.intersect(t.rect,e,n)?!1:r.axisAligned&&t.axisAligned?!0:dk(r).intersect(dk(t),e,n)}function aut(r){if(r){for(var t=[],e=0;e<r.length;e++)t.push(r[e].slice());return t}}function out(r,t){var e=r.label,n=t&&t.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:aut(n&&n.shape.points)}}var vk=["align","verticalAlign","width","height","fontSize"],ri=new us,Hw=Ee(),sut=Ee();function im(r,t,e){for(var n=0;n<e.length;n++){var i=e[n];t[i]!=null&&(r[i]=t[i])}}var am=["x","y","rotation"],lut=(function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(t,e,n,i,a){var o=i.style,c=i.__hostTarget,h=c.textConfig||{},v=i.getComputedTransform(),g=i.getBoundingRect().plain();ue.applyTransform(g,g,v),v?ri.setLocalTransform(v):(ri.x=ri.y=ri.rotation=ri.originX=ri.originY=0,ri.scaleX=ri.scaleY=1),ri.rotation=Fi(ri.rotation);var y=i.__hostTarget,m;if(y){m=y.getBoundingRect().plain();var b=y.getComputedTransform();ue.applyTransform(m,m,b)}var S=m&&y.getTextGuideLine();this._labelList.push({label:i,labelLine:S,seriesModel:n,dataIndex:t,dataType:e,layoutOptionOrCb:a,layoutOption:null,rect:g,hostRect:m,priority:m?m.width*m.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:S&&S.ignore,x:ri.x,y:ri.y,scaleX:ri.scaleX,scaleY:ri.scaleY,rotation:ri.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:h.position,attachedRot:h.rotation}})},r.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");(re(i)||Le(i).length)&&t.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),c=fe(a);o&&!o.disableLabelLayout&&e._addLabel(c.dataIndex,c.dataType,n,o,i)})},r.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function i(L,R){return function(){hk(L,R)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],c=o.label,h=c.__hostTarget,v=o.defaultAttr,g=void 0;re(o.layoutOptionOrCb)?g=o.layoutOptionOrCb(out(o,h)):g=o.layoutOptionOrCb,g=g||{},o.layoutOption=g;var y=Math.PI/180;h&&h.setTextConfig({local:!1,position:g.x!=null||g.y!=null?null:v.attachedPos,rotation:g.rotate!=null?g.rotate*y:v.attachedRot,offset:[g.dx||0,g.dy||0]});var m=!1;if(g.x!=null?(c.x=Yt(g.x,e),c.setStyle("x",0),m=!0):(c.x=v.x,c.setStyle("x",v.style.x)),g.y!=null?(c.y=Yt(g.y,n),c.setStyle("y",0),m=!0):(c.y=v.y,c.setStyle("y",v.style.y)),g.labelLinePoints){var b=h.getTextGuideLine();b&&(b.setShape({points:g.labelLinePoints}),m=!1)}var S=Hw(c);S.needsUpdateLabelLine=m,c.rotation=g.rotate!=null?g.rotate*y:v.rotation,c.scaleX=v.scaleX,c.scaleY=v.scaleY;for(var E=0;E<vk.length;E++){var C=vk[E];c.setStyle(C,g[C]!=null?g[C]:v.style[C])}if(g.draggable){if(c.draggable=!0,c.cursor="move",h){var A=o.seriesModel;if(o.dataIndex!=null){var D=o.seriesModel.getData(o.dataType);A=D.getItemModel(o.dataIndex)}c.on("drag",i(h,A.getModel("labelLine")))}}else c.off("drag"),c.cursor=v.cursor}},r.prototype.layout=function(t){var e=t.getWidth(),n=t.getHeight(),i=[];j(this._labelList,function(h){h.defaultAttr.ignore||i.push(RT({},h))});var a=Ye(i,function(h){return h.layoutOption.moveOverlap==="shiftX"}),o=Ye(i,function(h){return h.layoutOption.moveOverlap==="shiftY"});IT(a,0,0,e),IT(o,1,0,n);var c=Ye(i,function(h){return h.layoutOption.hideOverlap});iut(c),uz(c)},r.prototype.processLabelsOverall=function(){var t=this;j(this._chartViewList,function(e){var n=e.__model,i=e.ignoreLabelLineUpdate,a=n.isAnimationEnabled();e.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var c=!i,h=o.getTextContent();!c&&h&&(c=Hw(h).needsUpdateLabelLine),c&&t._updateLabelLine(o,n),a&&t._animateLabels(o,n)})})},r.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),i=fe(t),a=i.dataIndex;if(n&&a!=null){var o=e.getData(i.dataType),c=o.getItemModel(a),h={},v=o.getItemVisual(a,"style");if(v){var g=o.getVisual("drawType");h.stroke=v[g]}var y=c.getModel("labelLine");aD(t,oD(c),h),hk(t,y)}},r.prototype._animateLabels=function(t,e){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!hh(t))){var a=Hw(n),o=a.oldLayout,c=fe(t),h=c.dataIndex,v={x:n.x,y:n.y,rotation:n.rotation},g=e.getData(c.dataType);if(o){n.attr(o);var m=t.prevStates;m&&(ge(m,"select")>=0&&n.attr(a.oldLayoutSelect),ge(m,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),Ve(n,v,e,h)}else if(n.attr(v),!Bh(n).valueAnimation){var y=te(n.style.opacity,1);n.style.opacity=0,pr(n,{style:{opacity:y}},e,h)}if(a.oldLayout=v,n.states.select){var b=a.oldLayoutSelect={};im(b,v,am),im(b,n.states.select,am)}if(n.states.emphasis){var S=a.oldLayoutEmphasis={};im(S,v,am),im(S,n.states.emphasis,am)}YH(n,h,g,e,e)}if(i&&!i.ignore&&!i.invisible){var a=sut(i),o=a.oldLayout,E={points:i.shape.points};o?(i.attr({shape:o}),Ve(i,{shape:E},e)):(i.setShape(E),i.style.strokePercent=0,pr(i,{style:{strokePercent:1}},e)),a.oldLayout=E}},r})(),zw=Ee();function uut(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){var i=zw(e).labelManager;i||(i=zw(e).labelManager=new lut),i.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(t,e,n){var i=zw(e).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(e.getViewOfSeriesModel(a))}),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()})}var Uw=Math.sin,Ww=Math.cos,cz=Math.PI,Hu=Math.PI*2,cut=180/cz,fz=(function(){function r(){}return r.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},r.prototype.moveTo=function(t,e){this._add("M",t,e)},r.prototype.lineTo=function(t,e){this._add("L",t,e)},r.prototype.bezierCurveTo=function(t,e,n,i,a,o){this._add("C",t,e,n,i,a,o)},r.prototype.quadraticCurveTo=function(t,e,n,i){this._add("Q",t,e,n,i)},r.prototype.arc=function(t,e,n,i,a,o){this.ellipse(t,e,n,n,0,i,a,o)},r.prototype.ellipse=function(t,e,n,i,a,o,c,h){var v=c-o,g=!h,y=Math.abs(v),m=vl(y-Hu)||(g?v>=Hu:-v>=Hu),b=v>0?v%Hu:v%Hu+Hu,S=!1;m?S=!0:vl(y)?S=!1:S=b>=cz==!!g;var E=t+n*Ww(o),C=e+i*Uw(o);this._start&&this._add("M",E,C);var A=Math.round(a*cut);if(m){var D=1/this._p,L=(g?1:-1)*(Hu-D);this._add("A",n,i,A,1,+g,t+n*Ww(o+L),e+i*Uw(o+L)),D>.01&&this._add("A",n,i,A,0,+g,E,C)}else{var R=t+n*Ww(c),O=e+i*Uw(c);this._add("A",n,i,A,+S,+g,R,O)}},r.prototype.rect=function(t,e,n,i){this._add("M",t,e),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(t,e,n,i,a,o,c,h,v){for(var g=[],y=this._p,m=1;m<arguments.length;m++){var b=arguments[m];if(isNaN(b)){this._invalid=!0;return}g.push(Math.round(b*y)/y)}this._d.push(t+g.join(" ")),this._start=t==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r})(),sD="none",fut=Math.round;function hut(r){var t=r.fill;return t!=null&&t!==sD}function put(r){var t=r.stroke;return t!=null&&t!==sD}var OT=["lineCap","miterLimit","lineJoin"],dut=Pt(OT,function(r){return"stroke-"+r.toLowerCase()});function vut(r,t,e,n){var i=t.opacity==null?1:t.opacity;if(e instanceof En){r("opacity",i);return}if(hut(t)){var a=av(t.fill);r("fill",a.color);var o=t.fillOpacity!=null?t.fillOpacity*a.opacity*i:a.opacity*i;o<1&&r("fill-opacity",o)}else r("fill",sD);if(put(t)){var c=av(t.stroke);r("stroke",c.color);var h=t.strokeNoScale?e.getLineScale():1,v=h?(t.lineWidth||0)/h:0,g=t.strokeOpacity!=null?t.strokeOpacity*c.opacity*i:c.opacity*i,y=t.strokeFirst;if(v!==1&&r("stroke-width",v),y&&r("paint-order",y?"stroke":"fill"),g<1&&r("stroke-opacity",g),t.lineDash){var m=qA(e),b=m[0],S=m[1];b&&(S=fut(S||0),r("stroke-dasharray",b.join(",")),(S||n)&&r("stroke-dashoffset",S))}for(var E=0;E<OT.length;E++){var C=OT[E];if(t[C]!==T0[C]){var A=t[C]||T0[C];A&&r(dut[E],A)}}}}var hz="http://www.w3.org/2000/svg",pz="http://www.w3.org/1999/xlink",gut="http://www.w3.org/2000/xmlns/",yut="http://www.w3.org/XML/1998/namespace",gk="ecmeta_";function dz(r){return document.createElementNS(hz,r)}function fn(r,t,e,n,i){return{tag:r,attrs:e||{},children:n,text:i,key:t}}function mut(r,t){var e=[];if(t)for(var n in t){var i=t[n],a=n;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),e.push(a))}return"<"+r+" "+e.join(" ")+">"}function _ut(r){return"</"+r+">"}function lD(r,t){t=t||{};var e=t.newline?`
`:"";function n(i){var a=i.children,o=i.tag,c=i.attrs,h=i.text;return mut(o,c)+(o!=="style"?ui(h):h||"")+(a?""+e+Pt(a,function(v){return n(v)}).join(e)+e:"")+_ut(o)}return n(r)}function but(r,t,e){e=e||{};var n=e.newline?`
`:"",i=" {"+n,a=n+"}",o=Pt(Le(r),function(h){return h+i+Pt(Le(r[h]),function(v){return v+":"+r[h][v]+";"}).join(n)+a}).join(n),c=Pt(Le(t),function(h){return"@keyframes "+h+i+Pt(Le(t[h]),function(v){return v+i+Pt(Le(t[h][v]),function(g){var y=t[h][v][g];return g==="d"&&(y='path("'+y+'")'),g+":"+y+";"}).join(n)+a}).join(n)+a}).join(n);return!o&&!c?"":["<![CDATA[",o,c,"]]>"].join(n)}function PT(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function yk(r,t,e,n){return fn("svg","root",{width:r,height:t,xmlns:hz,"xmlns:xlink":pz,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+r+" "+t:!1},e)}var Sut=0;function vz(){return Sut++}var mk={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},ju="transform-origin";function wut(r,t,e){var n=Mt({},r.shape);Mt(n,t),r.buildPath(e,n);var i=new fz;return i.reset(GB(r)),e.rebuildPath(i,1),i.generateStr(),i.getStr()}function xut(r,t){var e=t.originX,n=t.originY;(e||n)&&(r[ju]=e+"px "+n+"px")}var Eut={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function gz(r,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=r,e}function Tut(r,t,e){var n=r.shape.paths,i={},a,o;if(j(n,function(h){var v=PT(e.zrId);v.animation=!0,ib(h,{},v,!0);var g=v.cssAnims,y=v.cssNodes,m=Le(g),b=m.length;if(b){o=m[b-1];var S=g[o];for(var E in S){var C=S[E];i[E]=i[E]||{d:""},i[E].d+=C.d||""}for(var A in y){var D=y[A].animation;D.indexOf(o)>=0&&(a=D)}}}),!!a){t.d=!1;var c=gz(i,e);return a.replace(o,c)}}function _k(r){return $t(r)?mk[r]?"cubic-bezier("+mk[r]+")":sA(r)?r:"":""}function ib(r,t,e,n){var i=r.animators,a=i.length,o=[];if(r instanceof Y_){var c=Tut(r,t,e);if(c)o.push(c);else if(!a)return}else if(!a)return;for(var h={},v=0;v<a;v++){var g=i[v],y=[g.getMaxTime()/1e3+"s"],m=_k(g.getClip().easing),b=g.getDelay();m?y.push(m):y.push("linear"),b&&y.push(b/1e3+"s"),g.getLoop()&&y.push("infinite");var S=y.join(" ");h[S]=h[S]||[S,[]],h[S][1].push(g)}function E(D){var L=D[1],R=L.length,O={},P={},V={},k="animation-timing-function";function F(Bt,gt,Ct){for(var wt=Bt.getTracks(),Z=Bt.getMaxTime(),at=0;at<wt.length;at++){var ut=wt[at];if(ut.needsAnimate()){var _t=ut.keyframes,mt=ut.propName;if(Ct&&(mt=Ct(mt)),mt)for(var xt=0;xt<_t.length;xt++){var tt=_t[xt],et=Math.round(tt.time/Z*100)+"%",ht=_k(tt.easing),St=tt.rawValue;($t(St)||Ie(St))&&(gt[et]=gt[et]||{},gt[et][mt]=tt.rawValue,ht&&(gt[et][k]=ht))}}}}for(var H=0;H<R;H++){var W=L[H],q=W.targetName;q?q==="shape"&&F(W,P):!n&&F(W,O)}for(var Y in O){var K={};w0(K,r),Mt(K,O[Y]);var X=FB(K),J=O[Y][k];V[Y]=X?{transform:X}:{},xut(V[Y],K),J&&(V[Y][k]=J)}var it,rt=!0;for(var Y in P){V[Y]=V[Y]||{};var st=!it,J=P[Y][k];st&&(it=new ko);var lt=it.len();it.reset(),V[Y].d=wut(r,P[Y],it);var dt=it.len();if(!st&&lt!==dt){rt=!1;break}J&&(V[Y][k]=J)}if(!rt)for(var Y in V)delete V[Y].d;if(!n)for(var H=0;H<R;H++){var W=L[H],q=W.targetName;q==="style"&&F(W,V,function(wt){return Eut[wt]})}for(var pt=Le(V),Tt=!0,Ft,H=1;H<pt.length;H++){var zt=pt[H-1],Vt=pt[H];if(V[zt][ju]!==V[Vt][ju]){Tt=!1;break}Ft=V[zt][ju]}if(Tt&&Ft){for(var Y in V)V[Y][ju]&&delete V[Y][ju];t[ju]=Ft}if(Ye(pt,function(Bt){return Le(V[Bt]).length>0}).length){var Kt=gz(V,e);return Kt+" "+D[0]+" both"}}for(var C in h){var c=E(h[C]);c&&o.push(c)}if(o.length){var A=e.zrId+"-cls-"+vz();e.cssNodes["."+A]={animation:o.join(",")},t.class=A}}function Cut(r,t,e){if(!r.ignore)if(r.isSilent()){var n={"pointer-events":"none"};bk(n,t,e)}else{var i=r.states.emphasis&&r.states.emphasis.style?r.states.emphasis.style:{},a=i.fill;if(!a){var o=r.style&&r.style.fill,c=r.states.select&&r.states.select.style&&r.states.select.style.fill,h=r.currentStates.indexOf("select")>=0&&c||o;h&&(a=OE(h))}var v=i.lineWidth;if(v){var g=!i.strokeNoScale&&r.transform?r.transform[0]:1;v=v/g}var n={cursor:"pointer"};a&&(n.fill=a),i.stroke&&(n.stroke=i.stroke),v&&(n["stroke-width"]=v),bk(n,t,e)}}function bk(r,t,e,n){var i=JSON.stringify(r),a=e.cssStyleCache[i];a||(a=e.zrId+"-cls-"+vz(),e.cssStyleCache[i]=a,e.cssNodes["."+a+":hover"]=r),t.class=t.class?t.class+" "+a:a}var bv=Math.round;function yz(r){return r&&$t(r.src)}function mz(r){return r&&re(r.toDataURL)}function uD(r,t,e,n){vut(function(i,a){var o=i==="fill"||i==="stroke";o&&VB(a)?bz(t,r,i,n):o&&lA(a)?Sz(e,r,i,n):r[i]=a,o&&n.ssr&&a==="none"&&(r["pointer-events"]="visible")},t,e,!1),Iut(e,r,n)}function cD(r,t){var e=ert(t);e&&(e.each(function(n,i){n!=null&&(r[(gk+i).toLowerCase()]=n+"")}),t.isSilent()&&(r[gk+"silent"]="true"))}function Sk(r){return vl(r[0]-1)&&vl(r[1])&&vl(r[2])&&vl(r[3]-1)}function Aut(r){return vl(r[4])&&vl(r[5])}function fD(r,t,e){if(t&&!(Aut(t)&&Sk(t))){var n=1e4;r.transform=Sk(t)?"translate("+bv(t[4]*n)/n+" "+bv(t[5]*n)/n+")":xet(t)}}function wk(r,t,e){for(var n=r.points,i=[],a=0;a<n.length;a++)i.push(bv(n[a][0]*e)/e),i.push(bv(n[a][1]*e)/e);t.points=i.join(" ")}function xk(r){return!r.smooth}function Dut(r){var t=Pt(r,function(e){return typeof e=="string"?[e,e]:e});return function(e,n,i){for(var a=0;a<t.length;a++){var o=t[a],c=e[o[0]];c!=null&&(n[o[1]]=bv(c*i)/i)}}}var Mut={circle:[Dut(["cx","cy","r"])],polyline:[wk,xk],polygon:[wk,xk]};function Lut(r){for(var t=r.animators,e=0;e<t.length;e++)if(t[e].targetName==="shape")return!0;return!1}function _z(r,t){var e=r.style,n=r.shape,i=Mut[r.type],a={},o=t.animation,c="path",h=r.style.strokePercent,v=t.compress&&GB(r)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(o&&Lut(r))&&!(h<1)){c=r.type;var g=Math.pow(10,v);i[0](n,a,g)}else{var y=!r.path||r.shapeChanged();r.path||r.createPathProxy();var m=r.path;y&&(m.beginPath(),r.buildPath(m,r.shape),r.pathUpdated());var b=m.getVersion(),S=r,E=S.__svgPathBuilder;(S.__svgPathVersion!==b||!E||h!==S.__svgPathStrokePercent)&&(E||(E=S.__svgPathBuilder=new fz),E.reset(v),m.rebuildPath(E,h),E.generateStr(),S.__svgPathVersion=b,S.__svgPathStrokePercent=h),a.d=E.getStr()}return fD(a,r.transform),uD(a,e,r,t),cD(a,r),t.animation&&ib(r,a,t),t.emphasis&&Cut(r,a,t),fn(c,r.id+"",a)}function Nut(r,t){var e=r.style,n=e.image;if(n&&!$t(n)&&(yz(n)?n=n.src:mz(n)&&(n=n.toDataURL())),!!n){var i=e.x||0,a=e.y||0,o=e.width,c=e.height,h={href:n,width:o,height:c};return i&&(h.x=i),a&&(h.y=a),fD(h,r.transform),uD(h,e,r,t),cD(h,r),t.animation&&ib(r,h,t),fn("image",r.id+"",h)}}function Rut(r,t){var e=r.style,n=e.text;if(n!=null&&(n+=""),!(!n||isNaN(e.x)||isNaN(e.y))){var i=e.font||ms,a=e.x||0,o=Tet(e.y||0,Ov(i),e.textBaseline),c=Eet[e.textAlign]||e.textAlign,h={"dominant-baseline":"central","text-anchor":c};if(gH(e)){var v="",g=e.fontStyle,y=vH(e.fontSize);if(!parseFloat(y))return;var m=e.fontFamily||pB,b=e.fontWeight;v+="font-size:"+y+";font-family:"+m+";",g&&g!=="normal"&&(v+="font-style:"+g+";"),b&&b!=="normal"&&(v+="font-weight:"+b+";"),h.style=v}else h.style="font: "+i;return n.match(/\s/)&&(h["xml:space"]="preserve"),a&&(h.x=a),o&&(h.y=o),fD(h,r.transform),uD(h,e,r,t),cD(h,r),t.animation&&ib(r,h,t),fn("text",r.id+"",h,void 0,n)}}function Ek(r,t){if(r instanceof Te)return _z(r,t);if(r instanceof En)return Nut(r,t);if(r instanceof bh)return Rut(r,t)}function Iut(r,t,e){var n=r.style;if(Cet(n)){var i=Aet(r),a=e.shadowCache,o=a[i];if(!o){var c=r.getGlobalScale(),h=c[0],v=c[1];if(!h||!v)return;var g=n.shadowOffsetX||0,y=n.shadowOffsetY||0,m=n.shadowBlur,b=av(n.shadowColor),S=b.opacity,E=b.color,C=m/2/h,A=m/2/v,D=C+" "+A;o=e.zrId+"-s"+e.shadowIdx++,e.defs[o]=fn("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[fn("feDropShadow","",{dx:g/h,dy:y/v,stdDeviation:D,"flood-color":E,"flood-opacity":S})]),a[i]=o}t.filter=I_(o)}}function bz(r,t,e,n){var i=r[e],a,o={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(PB(i))a="linearGradient",o.x1=i.x,o.y1=i.y,o.x2=i.x2,o.y2=i.y2;else if(kB(i))a="radialGradient",o.cx=te(i.x,.5),o.cy=te(i.y,.5),o.r=te(i.r,.5);else return;for(var c=i.colorStops,h=[],v=0,g=c.length;v<g;++v){var y=PE(c[v].offset)*100+"%",m=c[v].color,b=av(m),S=b.color,E=b.opacity,C={offset:y};C["stop-color"]=S,E<1&&(C["stop-opacity"]=E),h.push(fn("stop",v+"",C))}var A=fn(a,"",o,h),D=lD(A),L=n.gradientCache,R=L[D];R||(R=n.zrId+"-g"+n.gradientIdx++,L[D]=R,o.id=R,n.defs[R]=fn(a,R,o,h)),t[e]=I_(R)}function Sz(r,t,e,n){var i=r.style[e],a=r.getBoundingRect(),o={},c=i.repeat,h=c==="no-repeat",v=c==="repeat-x",g=c==="repeat-y",y;if(OB(i)){var m=i.imageWidth,b=i.imageHeight,S=void 0,E=i.image;if($t(E)?S=E:yz(E)?S=E.src:mz(E)&&(S=E.toDataURL()),typeof Image>"u"){var C="Image width/height must been given explictly in svg-ssr renderer.";qn(m,C),qn(b,C)}else if(m==null||b==null){var A=function(H,W){if(H){var q=H.elm,Y=m||W.width,K=b||W.height;H.tag==="pattern"&&(v?(K=1,Y/=a.width):g&&(Y=1,K/=a.height)),H.attrs.width=Y,H.attrs.height=K,q&&(q.setAttribute("width",Y),q.setAttribute("height",K))}},D=dA(S,null,r,function(H){h||A(P,H),A(y,H)});D&&D.width&&D.height&&(m=m||D.width,b=b||D.height)}y=fn("image","img",{href:S,width:m,height:b}),o.width=m,o.height=b}else i.svgElement&&(y=ie(i.svgElement),o.width=i.svgWidth,o.height=i.svgHeight);if(y){var L,R;h?L=R=1:v?(R=1,L=o.width/a.width):g?(L=1,R=o.height/a.height):o.patternUnits="userSpaceOnUse",L!=null&&!isNaN(L)&&(o.width=L),R!=null&&!isNaN(R)&&(o.height=R);var O=FB(i);O&&(o.patternTransform=O);var P=fn("pattern","",o,[y]),V=lD(P),k=n.patternCache,F=k[V];F||(F=n.zrId+"-p"+n.patternIdx++,k[V]=F,o.id=F,P=n.defs[F]=fn("pattern",F,o,[y])),t[e]=I_(F)}}function Out(r,t,e){var n=e.clipPathCache,i=e.defs,a=n[r.id];if(!a){a=e.zrId+"-c"+e.clipPathIdx++;var o={id:a};n[r.id]=a,i[a]=fn("clipPath",a,o,[_z(r,e)])}t["clip-path"]=I_(a)}function Tk(r){return document.createTextNode(r)}function Ju(r,t,e){r.insertBefore(t,e)}function Ck(r,t){r.removeChild(t)}function Ak(r,t){r.appendChild(t)}function wz(r){return r.parentNode}function xz(r){return r.nextSibling}function jw(r,t){r.textContent=t}var Dk=58,Put=120,kut=fn("","");function kT(r){return r===void 0}function vo(r){return r!==void 0}function Vut(r,t,e){for(var n={},i=t;i<=e;++i){var a=r[i].key;a!==void 0&&(n[a]=i)}return n}function Ed(r,t){var e=r.key===t.key,n=r.tag===t.tag;return n&&e}function Sv(r){var t,e=r.children,n=r.tag;if(vo(n)){var i=r.elm=dz(n);if(hD(kut,r),Rt(e))for(t=0;t<e.length;++t){var a=e[t];a!=null&&Ak(i,Sv(a))}else vo(r.text)&&!le(r.text)&&Ak(i,Tk(r.text))}else r.elm=Tk(r.text);return r.elm}function Ez(r,t,e,n,i){for(;n<=i;++n){var a=e[n];a!=null&&Ju(r,Sv(a),t)}}function q0(r,t,e,n){for(;e<=n;++e){var i=t[e];if(i!=null)if(vo(i.tag)){var a=wz(i.elm);Ck(a,i.elm)}else Ck(r,i.elm)}}function hD(r,t){var e,n=t.elm,i=r&&r.attrs||{},a=t.attrs||{};if(i!==a){for(e in a){var o=a[e],c=i[e];c!==o&&(o===!0?n.setAttribute(e,""):o===!1?n.removeAttribute(e):e==="style"?n.style.cssText=o:e.charCodeAt(0)!==Put?n.setAttribute(e,o):e==="xmlns:xlink"||e==="xmlns"?n.setAttributeNS(gut,e,o):e.charCodeAt(3)===Dk?n.setAttributeNS(yut,e,o):e.charCodeAt(5)===Dk?n.setAttributeNS(pz,e,o):n.setAttribute(e,o))}for(e in i)e in a||n.removeAttribute(e)}}function Gut(r,t,e){for(var n=0,i=0,a=t.length-1,o=t[0],c=t[a],h=e.length-1,v=e[0],g=e[h],y,m,b,S;n<=a&&i<=h;)o==null?o=t[++n]:c==null?c=t[--a]:v==null?v=e[++i]:g==null?g=e[--h]:Ed(o,v)?(Zf(o,v),o=t[++n],v=e[++i]):Ed(c,g)?(Zf(c,g),c=t[--a],g=e[--h]):Ed(o,g)?(Zf(o,g),Ju(r,o.elm,xz(c.elm)),o=t[++n],g=e[--h]):Ed(c,v)?(Zf(c,v),Ju(r,c.elm,o.elm),c=t[--a],v=e[++i]):(kT(y)&&(y=Vut(t,n,a)),m=y[v.key],kT(m)?Ju(r,Sv(v),o.elm):(b=t[m],b.tag!==v.tag?Ju(r,Sv(v),o.elm):(Zf(b,v),t[m]=void 0,Ju(r,b.elm,o.elm))),v=e[++i]);(n<=a||i<=h)&&(n>a?(S=e[h+1]==null?null:e[h+1].elm,Ez(r,S,e,i,h)):q0(r,t,n,a))}function Zf(r,t){var e=t.elm=r.elm,n=r.children,i=t.children;r!==t&&(hD(r,t),kT(t.text)?vo(n)&&vo(i)?n!==i&&Gut(e,n,i):vo(i)?(vo(r.text)&&jw(e,""),Ez(e,null,i,0,i.length-1)):vo(n)?q0(e,n,0,n.length-1):vo(r.text)&&jw(e,""):r.text!==t.text&&(vo(n)&&q0(e,n,0,n.length-1),jw(e,t.text)))}function Fut(r,t){if(Ed(r,t))Zf(r,t);else{var e=r.elm,n=wz(e);Sv(t),n!==null&&(Ju(n,t.elm,xz(e)),q0(n,[r],0,0))}return t}var But=0,Hut=(function(){function r(t,e,n){if(this.type="svg",this.refreshHover=Mk(),this.configLayer=Mk(),this.storage=e,this._opts=n=Mt({},n),this.root=t,this._id="zr"+But++,this._oldVNode=yk(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=dz("svg");hD(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(n.width,n.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",Fut(this._oldVNode,t),this._oldVNode=t}},r.prototype.renderOneToVNode=function(t){return Ek(t,PT(this._id))},r.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,i=this._height,a=PT(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis,a.ssr=this._opts.ssr;var o=[],c=this._bgVNode=zut(n,i,this._backgroundColor,a);c&&o.push(c);var h=t.compress?null:this._mainVNode=fn("g","main",{},[]);this._paintList(e,a,h?h.children:o),h&&o.push(h);var v=Pt(Le(a.defs),function(m){return a.defs[m]});if(v.length&&o.push(fn("defs","defs",{},v)),t.animation){var g=but(a.cssNodes,a.cssAnims,{newline:!0});if(g){var y=fn("style","stl",{},[],g);o.push(y)}}return yk(n,i,o,t.useViewBox)},r.prototype.renderToString=function(t){return t=t||{},lD(this.renderToVNode({animation:te(t.cssAnimation,!0),emphasis:te(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:te(t.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(t,e,n){for(var i=t.length,a=[],o=0,c,h,v=0,g=0;g<i;g++){var y=t[g];if(!y.invisible){var m=y.__clipPaths,b=m&&m.length||0,S=h&&h.length||0,E=void 0;for(E=Math.max(b-1,S-1);E>=0&&!(m&&h&&m[E]===h[E]);E--);for(var C=S-1;C>E;C--)o--,c=a[o-1];for(var A=E+1;A<b;A++){var D={};Out(m[A],D,e);var L=fn("g","clip-g-"+v++,D,[]);(c?c.children:n).push(L),a[o++]=L,c=L}h=m;var R=Ek(y,e);R&&(c?c.children:n).push(R)}}},r.prototype.resize=function(t,e){var n=this._opts,i=this.root,a=this._viewport;if(t!=null&&(n.width=t),e!=null&&(n.height=e),i&&a&&(a.style.display="none",t=ih(i,0,n),e=ih(i,1,n),a.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,a){var o=a.style;o.width=t+"px",o.height=e+"px"}if(lA(this._backgroundColor))this.refresh();else{var c=this._svgDom;c&&(c.setAttribute("width",t),c.setAttribute("height",e));var h=this._bgVNode&&this._bgVNode.elm;h&&(h.setAttribute("width",t),h.setAttribute("height",e))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=Met(e),e&&n+"base64,"+e):n+"charset=UTF-8,"+encodeURIComponent(e)},r})();function Mk(r){return function(){}}function zut(r,t,e,n){var i;if(e&&e!=="none")if(i=fn("rect","bg",{width:r,height:t,x:"0",y:"0"}),VB(e))bz({fill:e},i.attrs,"fill",n);else if(lA(e))Sz({style:{fill:e},dirty:Fr,getBoundingRect:function(){return{width:r,height:t}}},i.attrs,"fill",n);else{var a=av(e),o=a.color,c=a.opacity;i.attrs.fill=o,c<1&&(i.attrs["fill-opacity"]=c)}return i}function Uut(r){r.registerPainter("svg",Hut)}function Lk(r,t,e){var n=ka.createCanvas(),i=t.getWidth(),a=t.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",r)),n.width=i*e,n.height=a*e,n}var Yw=(function(r){dr(t,r);function t(e,n,i){var a=r.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||S0,typeof e=="string"?o=Lk(e,n,i):le(e)&&(o=e,e=o.id),a.id=e,a.dom=o;var c=o.style;return c&&(_B(o),o.onselectstart=function(){return!1},c.padding="0",c.margin="0",c.borderWidth="0"),a.painter=n,a.dpr=i,a}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=Lk("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],c=this.maxRepaintRectCount,h=!1,v=new ue(0,0,0,0);function g(D){if(!(!D.isFinite()||D.isZero()))if(o.length===0){var L=new ue(0,0,0,0);L.copy(D),o.push(L)}else{for(var R=!1,O=1/0,P=0,V=0;V<o.length;++V){var k=o[V];if(k.intersect(D)){var F=new ue(0,0,0,0);F.copy(k),F.union(D),o[V]=F,R=!0;break}else if(h){v.copy(D),v.union(k);var H=D.width*D.height,W=k.width*k.height,q=v.width*v.height,Y=q-H-W;Y<O&&(O=Y,P=V)}}if(h&&(o[P].union(D),R=!0),!R){var L=new ue(0,0,0,0);L.copy(D),o.push(L)}h||(h=o.length>=c)}}for(var y=this.__startIndex;y<this.__endIndex;++y){var m=e[y];if(m){var b=m.shouldBePainted(i,a,!0,!0),S=m.__isRendered&&(m.__dirty&Vi||!b)?m.getPrevPaintRect():null;S&&g(S);var E=b&&(m.__dirty&Vi||!m.__isRendered)?m.getPaintRect():null;E&&g(E)}}for(var y=this.__prevStartIndex;y<this.__prevEndIndex;++y){var m=n[y],b=m&&m.shouldBePainted(i,a,!0,!0);if(m&&(!b||!m.__zr)&&m.__isRendered){var S=m.getPrevPaintRect();S&&g(S)}}var C;do{C=!1;for(var y=0;y<o.length;){if(o[y].isZero()){o.splice(y,1);continue}for(var A=y+1;A<o.length;)o[y].intersect(o[A])?(C=!0,o[y].union(o[A]),o.splice(A,1)):A++;y++}}while(C);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,n){var i=this.dpr,a=this.dom,o=a.style,c=this.domBack;o&&(o.width=e+"px",o.height=n+"px"),a.width=e*i,a.height=n*i,c&&(c.width=e*i,c.height=n*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(e,n,i){var a=this.dom,o=this.ctx,c=a.width,h=a.height;n=n||this.clearColor;var v=this.motionBlur&&!e,g=this.lastFrameAlpha,y=this.dpr,m=this;v&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,c/y,h/y));var b=this.domBack;function S(E,C,A,D){if(o.clearRect(E,C,A,D),n&&n!=="transparent"){var L=void 0;if(D_(n)){var R=n.global||n.__width===A&&n.__height===D;L=R&&n.__canvasGradient||_T(o,n,{x:0,y:0,width:A,height:D}),n.__canvasGradient=L,n.__width=A,n.__height=D}else Rtt(n)&&(n.scaleX=n.scaleX||y,n.scaleY=n.scaleY||y,L=bT(o,n,{dirty:function(){m.setUnpainted(),m.painter.refresh()}}));o.save(),o.fillStyle=L||n,o.fillRect(E,C,A,D),o.restore()}v&&(o.save(),o.globalAlpha=g,o.drawImage(b,E,C,A,D),o.restore())}!i||v?S(0,0,c,h):i.length&&j(i,function(E){S(E.x*y,E.y*y,E.width*y,E.height*y)})},t})(da),Nk=1e5,zu=314159,om=.01,Wut=.001;function jut(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function Yut(r,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+r+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var $ut=(function(){function r(t,e,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=Mt({},n||{}),this.dpr=n.devicePixelRatio||S0,this._singleCanvas=a,this.root=t;var o=t.style;o&&(_B(t),t.innerHTML=""),this.storage=e;var c=this._zlevelList;this._prevDisplayList=[];var h=this._layers;if(a){var g=t,y=g.width,m=g.height;n.width!=null&&(y=n.width),n.height!=null&&(m=n.height),this.dpr=n.devicePixelRatio||1,g.width=y*this.dpr,g.height=m*this.dpr,this._width=y,this._height=m;var b=new Yw(g,this,this.dpr);b.__builtin__=!0,b.initContext(),h[zu]=b,b.zlevel=zu,c.push(zu),this._domRoot=t}else{this._width=ih(t,0,n),this._height=ih(t,1,n);var v=this._domRoot=Yut(this._width,this._height);t.appendChild(v)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],c=this._layers[o];if(!c.__builtin__&&c.refresh){var h=a===0?this._backgroundColor:null;c.refresh(h)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),!!e){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<e;o++){var c=t[o];c.__inHover&&(n||(n=this._hoverlayer=this.getLayer(Nk)),a||(a=n.ctx,a.save()),sc(a,c,i,o===e-1))}a&&a.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(Nk)},r.prototype.paintOne=function(t,e){o6(t,e)},r.prototype._paintList=function(t,e,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e,n),o=a.finished,c=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),c&&this._paintHoverList(t),o)this.eachLayer(function(v){v.afterBrush&&v.afterBrush()});else{var h=this;v0(function(){h._paintList(t,e,n,i)})}}},r.prototype._compositeManually=function(){var t=this.getLayer(zu).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)})},r.prototype._doPaintList=function(t,e,n){for(var i=this,a=[],o=this._opts.useDirtyRect,c=0;c<this._zlevelList.length;c++){var h=this._zlevelList[c],v=this._layers[h];v.__builtin__&&v!==this._hoverlayer&&(v.__dirty||n)&&a.push(v)}for(var g=!0,y=!1,m=function(E){var C=a[E],A=C.ctx,D=o&&C.createRepaintRects(t,e,b._width,b._height),L=n?C.__startIndex:C.__drawIndex,R=!n&&C.incremental&&Date.now,O=R&&Date.now(),P=C.zlevel===b._zlevelList[0]?b._backgroundColor:null;if(C.__startIndex===C.__endIndex)C.clear(!1,P,D);else if(L===C.__startIndex){var V=t[L];(!V.incremental||!V.notClear||n)&&C.clear(!1,P,D)}L===-1&&(console.error("For some unknown reason. drawIndex is -1"),L=C.__startIndex);var k,F=function(Y){var K={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(k=L;k<C.__endIndex;k++){var X=t[k];if(X.__inHover&&(y=!0),i._doPaintEl(X,C,o,Y,K,k===C.__endIndex-1),R){var J=Date.now()-O;if(J>15)break}}K.prevElClipPaths&&A.restore()};if(D)if(D.length===0)k=C.__endIndex;else for(var H=b.dpr,W=0;W<D.length;++W){var q=D[W];A.save(),A.beginPath(),A.rect(q.x*H,q.y*H,q.width*H,q.height*H),A.clip(),F(q),A.restore()}else A.save(),F(),A.restore();C.__drawIndex=k,C.__drawIndex<C.__endIndex&&(g=!1)},b=this,S=0;S<a.length;S++)m(S);return De.wxa&&j(this._layers,function(E){E&&E.ctx&&E.ctx.draw&&E.ctx.draw()}),{finished:g,needsRefreshHover:y}},r.prototype._doPaintEl=function(t,e,n,i,a,o){var c=e.ctx;if(n){var h=t.getPaintRect();(!i||h&&h.intersect(i))&&(sc(c,t,a,o),t.setPrevPaintRect(h))}else sc(c,t,a,o)},r.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=zu);var n=this._layers[t];return n||(n=new Yw("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?ye(n,this._layerConfig[t],!0):this._layerConfig[t-om]&&ye(n,this._layerConfig[t-om],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},r.prototype.insertLayer=function(t,e){var n=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,c=null,h=-1;if(!n[t]&&jut(e)){if(a>0&&t>i[0]){for(h=0;h<a-1&&!(i[h]<t&&i[h+1]>t);h++);c=n[i[h]]}if(i.splice(h+1,0,t),n[t]=e,!e.virtual)if(c){var v=c.dom;v.nextSibling?o.insertBefore(e.dom,v.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.painter||(e.painter=this)}},r.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];t.call(e,this._layers[a],a)}},r.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__&&t.call(e,o,a)}},r.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__||t.call(e,o,a)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(y,m){y.__dirty=y.__used=!1});function e(y){a&&(a.__endIndex!==y&&(a.__dirty=!0),a.__endIndex=y)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,c,h;for(h=0;h<t.length;h++){var i=t[h],v=i.zlevel,g=void 0;c!==v&&(c=v,o=0),i.incremental?(g=this.getLayer(v+Wut,this._needsManuallyCompositing),g.incremental=!0,o=1):g=this.getLayer(v+(o>0?om:0),this._needsManuallyCompositing),g.__builtin__||eA("ZLevel "+v+" has been used by unkown layer "+g.id),g!==a&&(g.__used=!0,g.__startIndex!==h&&(g.__dirty=!0),g.__startIndex=h,g.incremental?g.__drawIndex=-1:g.__drawIndex=h,e(h),a=g),i.__dirty&Vi&&!i.__inHover&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=h))}e(h),this.eachBuiltinLayer(function(y,m){!y.__used&&y.getElementCount()>0&&(y.__dirty=!0,y.__startIndex=y.__endIndex=y.__drawIndex=0),y.__dirty&&y.__drawIndex<0&&(y.__drawIndex=y.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(t){t.clear()},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t,j(this._layers,function(e){e.setUnpainted()})},r.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?ye(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+om){var o=this._layers[a];ye(o,n[t],!0)}}}},r.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(ge(n,t),1))},r.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(t!=null&&(i.width=t),e!=null&&(i.height=e),t=ih(a,0,i),e=ih(a,1,i),n.style.display="",this._width!==t||e!==this._height){n.style.width=t+"px",n.style.height=e+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(zu).resize(t,e)}return this},r.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[zu].dom;var e=new Yw("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,a=e.dom.height;this.eachLayer(function(y){y.__builtin__?n.drawImage(y.dom,0,0,i,a):y.renderToCanvas&&(n.save(),y.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},c=this.storage.getDisplayList(!0),h=0,v=c.length;h<v;h++){var g=c[h];sc(n,g,o,h===v-1)}return e.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r})();function qut(r){r.registerPainter("canvas",$ut)}var Xut=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return Ls(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var n=new ne,i=Kr("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);n.add(i),i.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),c=a==="none"?"circle":a,h=e.itemHeight*.8,v=Kr(c,(e.itemWidth-h)/2,(e.itemHeight-h)/2,h,h,e.itemStyle.fill);n.add(v),v.setStyle(e.itemStyle);var g=e.iconRotate==="inherit"?o:e.iconRotate||0;return v.rotation=g*Math.PI/180,v.setOrigin([e.itemWidth/2,e.itemHeight/2]),c.indexOf("empty")>-1&&(v.style.stroke=v.style.fill,v.style.fill=yt.color.neutral00,v.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t})(sr);function Ah(r,t){var e=r.mapDimensionsAll("defaultedLabel"),n=e.length;if(n===1){var i=wh(r,t,e[0]);return i!=null?i+"":null}else if(n){for(var a=[],o=0;o<e.length;o++)a.push(wh(r,t,e[o]));return a.join(" ")}}function Tz(r,t){var e=r.mapDimensionsAll("defaultedLabel");if(!Rt(t))return t+"";for(var n=[],i=0;i<e.length;i++){var a=r.getDimensionIndex(e[i]);a>=0&&n.push(t[a])}return n.join(" ")}var Yv=(function(r){bt(t,r);function t(e,n,i,a){var o=r.call(this)||this;return o.updateData(e,n,i,a),o}return t.prototype._createSymbol=function(e,n,i,a,o,c){this.removeAll();var h=Kr(e,-1,-1,2,2,null,c);h.attr({z2:te(o,100),culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),h.drift=Zut,this._symbolType=e,this.add(h)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Ss(this.childAt(0))},t.prototype.downplay=function(){ws(this.childAt(0))},t.prototype.setZ=function(e,n){var i=this.childAt(0);i.zlevel=e,i.z=n},t.prototype.setDraggable=function(e,n){var i=this.childAt(0);i.draggable=e,i.cursor=!n&&e?"move":i.cursor},t.prototype.updateData=function(e,n,i,a){this.silent=!1;var o=e.getItemVisual(n,"symbol")||"circle",c=e.hostModel,h=t.getSymbolSize(e,n),v=t.getSymbolZ2(e,n),g=o!==this._symbolType,y=a&&a.disableAnimation;if(g){var m=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,e,n,h,v,m)}else{var b=this.childAt(0);b.silent=!1;var S={scaleX:h[0]/2,scaleY:h[1]/2};y?b.attr(S):Ve(b,S,c,n),pa(b)}if(this._updateCommon(e,n,h,i,a),g){var b=this.childAt(0);if(!y){var S={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:b.style.opacity}};b.scaleX=b.scaleY=0,b.style.opacity=0,pr(b,S,c,n)}}y&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,n,i,a,o){var c=this.childAt(0),h=e.hostModel,v,g,y,m,b,S,E,C,A;if(a&&(v=a.emphasisItemStyle,g=a.blurItemStyle,y=a.selectItemStyle,m=a.focus,b=a.blurScope,E=a.labelStatesModels,C=a.hoverScale,A=a.cursorStyle,S=a.emphasisDisabled),!a||e.hasItemOption){var D=a&&a.itemModel?a.itemModel:e.getItemModel(n),L=D.getModel("emphasis");v=L.getModel("itemStyle").getItemStyle(),y=D.getModel(["select","itemStyle"]).getItemStyle(),g=D.getModel(["blur","itemStyle"]).getItemStyle(),m=L.get("focus"),b=L.get("blurScope"),S=L.get("disabled"),E=on(D),C=L.getShallow("scale"),A=D.getShallow("cursor")}var R=e.getItemVisual(n,"symbolRotate");c.attr("rotation",(R||0)*Math.PI/180||0);var O=kc(e.getItemVisual(n,"symbolOffset"),i);O&&(c.x=O[0],c.y=O[1]),A&&c.attr("cursor",A);var P=e.getItemVisual(n,"style"),V=P.fill;if(c instanceof En){var k=c.style;c.useStyle(Mt({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},P))}else c.__isEmptyBrush?c.useStyle(Mt({},P)):c.useStyle(P),c.style.decal=null,c.setColor(V,o&&o.symbolInnerColor),c.style.strokeNoScale=!0;var F=e.getItemVisual(n,"liftZ"),H=this._z2;F!=null?H==null&&(this._z2=c.z2,c.z2+=F):H!=null&&(c.z2=H,this._z2=null);var W=o&&o.useNameLabel;dn(c,E,{labelFetcher:h,labelDataIndex:n,defaultText:q,inheritColor:V,defaultOpacity:P.opacity});function q(X){return W?e.getName(X):Ah(e,X)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var Y=c.ensureState("emphasis");Y.style=v,c.ensureState("select").style=y,c.ensureState("blur").style=g;var K=C==null||C===!0?Math.max(1.1,3/this._sizeY):isFinite(C)&&C>0?+C:1;Y.scaleX=this._sizeX*K,Y.scaleY=this._sizeY*K,this.setSymbolScale(1),yr(this,m,b,S)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,n,i){var a=this.childAt(0),o=fe(this).dataIndex,c=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var h=a.getTextContent();h&&Ml(h,{style:{opacity:0}},n,{dataIndex:o,removeOpt:c,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Ml(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:e,removeOpt:c})},t.getSymbolSize=function(e,n){return Wh(e.getItemVisual(n,"symbolSize"))},t.getSymbolZ2=function(e,n){return e.getItemVisual(n,"z2")},t})(ne);function Zut(r,t){this.parent.drift(r,t)}function $w(r,t,e,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(e))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&r.getItemVisual(e,"symbol")!=="none"}function Rk(r){return r!=null&&!le(r)&&(r={isIgnore:r}),r||{}}function Ik(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:on(t),cursorStyle:t.get("cursor")}}var $v=(function(){function r(t){this.group=new ne,this._SymbolCtor=t||Yv}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=Rk(e);var n=this.group,i=t.hostModel,a=this._data,o=this._SymbolCtor,c=e.disableAnimation,h=Ik(t),v={disableAnimation:c},g=e.getSymbolPoint||function(y){return t.getItemLayout(y)};a||n.removeAll(),t.diff(a).add(function(y){var m=g(y);if($w(t,m,y,e)){var b=new o(t,y,h,v);b.setPosition(m),t.setItemGraphicEl(y,b),n.add(b)}}).update(function(y,m){var b=a.getItemGraphicEl(m),S=g(y);if(!$w(t,S,y,e)){n.remove(b);return}var E=t.getItemVisual(y,"symbol")||"circle",C=b&&b.getSymbolType&&b.getSymbolType();if(!b||C&&C!==E)n.remove(b),b=new o(t,y,h,v),b.setPosition(S);else{b.updateData(t,y,h,v);var A={x:S[0],y:S[1]};c?b.attr(A):Ve(b,A,i)}n.add(b),t.setItemGraphicEl(y,b)}).remove(function(y){var m=a.getItemGraphicEl(y);m&&m.fadeOut(function(){n.remove(m)},i)}).execute(),this._getSymbolPoint=g,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(n,i){var a=t._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Ik(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,n){this._progressiveEls=[],n=Rk(n);function i(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var o=e.getItemLayout(a);if($w(e,o,a,n)){var c=new this._SymbolCtor(e,a,this._seriesScope);c.traverse(i),c.setPosition(o),this.group.add(c),e.setItemGraphicEl(a,c),this._progressiveEls.push(c)}}},r.prototype.eachRendered=function(t){Vl(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},n.hostModel)}):e.removeAll()},r})();function Cz(r,t,e){var n=r.getBaseAxis(),i=r.getOtherAxis(n),a=Kut(i,e),o=n.dim,c=i.dim,h=t.mapDimension(c),v=t.mapDimension(o),g=c==="x"||c==="radius"?1:0,y=Pt(r.dimensions,function(S){return t.mapDimension(S)}),m=!1,b=t.getCalculationInfo("stackResultDimension");return Ll(t,y[0])&&(m=!0,y[0]=b),Ll(t,y[1])&&(m=!0,y[1]=b),{dataDimsForPoint:y,valueStart:a,valueAxisDim:c,baseAxisDim:o,stacked:!!m,valueDim:h,baseDim:v,baseDataOffset:g,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Kut(r,t){var e=0,n=r.scale.getExtent();return t==="start"?e=n[0]:t==="end"?e=n[1]:Ie(t)&&!isNaN(t)?e=t:n[0]>0?e=n[0]:n[1]<0&&(e=n[1]),e}function Az(r,t,e,n){var i=NaN;r.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=r.valueStart);var a=r.baseDataOffset,o=[];return o[a]=e.get(r.baseDim,n),o[1-a]=i,t.dataToPoint(o)}function Jut(r,t){var e=[];return t.diff(r).add(function(n){e.push({cmd:"+",idx:n})}).update(function(n,i){e.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){e.push({cmd:"-",idx:n})}).execute(),e}function Qut(r,t,e,n,i,a,o,c){for(var h=Jut(r,t),v=[],g=[],y=[],m=[],b=[],S=[],E=[],C=Cz(i,t,o),A=r.getLayout("points")||[],D=t.getLayout("points")||[],L=0;L<h.length;L++){var R=h[L],O=!0,P=void 0,V=void 0;switch(R.cmd){case"=":P=R.idx*2,V=R.idx1*2;var k=A[P],F=A[P+1],H=D[V],W=D[V+1];(isNaN(k)||isNaN(F))&&(k=H,F=W),v.push(k,F),g.push(H,W),y.push(e[P],e[P+1]),m.push(n[V],n[V+1]),E.push(t.getRawIndex(R.idx1));break;case"+":var q=R.idx,Y=C.dataDimsForPoint,K=i.dataToPoint([t.get(Y[0],q),t.get(Y[1],q)]);V=q*2,v.push(K[0],K[1]),g.push(D[V],D[V+1]);var X=Az(C,i,t,q);y.push(X[0],X[1]),m.push(n[V],n[V+1]),E.push(t.getRawIndex(q));break;case"-":O=!1}O&&(b.push(R),S.push(S.length))}S.sort(function(zt,Vt){return E[zt]-E[Vt]});for(var J=v.length,it=Eo(J),rt=Eo(J),st=Eo(J),lt=Eo(J),dt=[],L=0;L<S.length;L++){var pt=S[L],Tt=L*2,Ft=pt*2;it[Tt]=v[Ft],it[Tt+1]=v[Ft+1],rt[Tt]=g[Ft],rt[Tt+1]=g[Ft+1],st[Tt]=y[Ft],st[Tt+1]=y[Ft+1],lt[Tt]=m[Ft],lt[Tt+1]=m[Ft+1],dt[L]=b[pt]}return{current:it,next:rt,stackedOnCurrent:st,stackedOnNext:lt,status:dt}}var tl=Math.min,el=Math.max;function yc(r,t){return isNaN(r)||isNaN(t)}function VT(r,t,e,n,i,a,o,c,h){for(var v,g,y,m,b,S,E=e,C=0;C<n;C++){var A=t[E*2],D=t[E*2+1];if(E>=i||E<0)break;if(yc(A,D)){if(h){E+=a;continue}break}if(E===e)r[a>0?"moveTo":"lineTo"](A,D),y=A,m=D;else{var L=A-v,R=D-g;if(L*L+R*R<.5){E+=a;continue}if(o>0){for(var O=E+a,P=t[O*2],V=t[O*2+1];P===A&&V===D&&C<n;)C++,O+=a,E+=a,P=t[O*2],V=t[O*2+1],A=t[E*2],D=t[E*2+1],L=A-v,R=D-g;var k=C+1;if(h)for(;yc(P,V)&&k<n;)k++,O+=a,P=t[O*2],V=t[O*2+1];var F=.5,H=0,W=0,q=void 0,Y=void 0;if(k>=n||yc(P,V))b=A,S=D;else{H=P-v,W=V-g;var K=A-v,X=P-A,J=D-g,it=V-D,rt=void 0,st=void 0;if(c==="x"){rt=Math.abs(K),st=Math.abs(X);var lt=H>0?1:-1;b=A-lt*rt*o,S=D,q=A+lt*st*o,Y=D}else if(c==="y"){rt=Math.abs(J),st=Math.abs(it);var dt=W>0?1:-1;b=A,S=D-dt*rt*o,q=A,Y=D+dt*st*o}else rt=Math.sqrt(K*K+J*J),st=Math.sqrt(X*X+it*it),F=st/(st+rt),b=A-H*o*(1-F),S=D-W*o*(1-F),q=A+H*o*F,Y=D+W*o*F,q=tl(q,el(P,A)),Y=tl(Y,el(V,D)),q=el(q,tl(P,A)),Y=el(Y,tl(V,D)),H=q-A,W=Y-D,b=A-H*rt/st,S=D-W*rt/st,b=tl(b,el(v,A)),S=tl(S,el(g,D)),b=el(b,tl(v,A)),S=el(S,tl(g,D)),H=A-b,W=D-S,q=A+H*st/rt,Y=D+W*st/rt}r.bezierCurveTo(y,m,b,S,A,D),y=q,m=Y}else r.lineTo(A,D)}v=A,g=D,E+=a}return C}var Dz=(function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r})(),tct=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:yt.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new Dz},t.prototype.buildPath=function(e,n){var i=n.points,a=0,o=i.length/2;if(n.connectNulls){for(;o>0&&yc(i[o*2-2],i[o*2-1]);o--);for(;a<o&&yc(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=VT(e,i,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(e,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=ko.CMD,c,h,v=n==="x",g=[],y=0;y<a.length;){var m=a[y++],b=void 0,S=void 0,E=void 0,C=void 0,A=void 0,D=void 0,L=void 0;switch(m){case o.M:c=a[y++],h=a[y++];break;case o.L:if(b=a[y++],S=a[y++],L=v?(e-c)/(b-c):(e-h)/(S-h),L<=1&&L>=0){var R=v?(S-h)*L+h:(b-c)*L+c;return v?[e,R]:[R,e]}c=b,h=S;break;case o.C:b=a[y++],S=a[y++],E=a[y++],C=a[y++],A=a[y++],D=a[y++];var O=v?y0(c,b,E,A,e,g):y0(h,S,C,D,e,g);if(O>0)for(var P=0;P<O;P++){var V=g[P];if(V<=1&&V>=0){var R=v?cn(h,S,C,D,V):cn(c,b,E,A,V);return v?[e,R]:[R,e]}}c=A,h=D;break}}},t})(Te),ect=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(Dz),Mz=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new ect},t.prototype.buildPath=function(e,n){var i=n.points,a=n.stackedOnPoints,o=0,c=i.length/2,h=n.smoothMonotone;if(n.connectNulls){for(;c>0&&yc(i[c*2-2],i[c*2-1]);c--);for(;o<c&&yc(i[o*2],i[o*2+1]);o++);}for(;o<c;){var v=VT(e,i,o,c,c,1,n.smooth,h,n.connectNulls);VT(e,a,o+v-1,v,c,-1,n.stackedOnSmooth,h,n.connectNulls),o+=v+1,e.closePath()}},t})(Te);function Lz(r,t,e,n,i){var a=r.getArea(),o=a.x,c=a.y,h=a.width,v=a.height,g=e.get(["lineStyle","width"])||0;o-=g/2,c-=g/2,h+=g,v+=g,h=Math.ceil(h),o!==Math.floor(o)&&(o=Math.floor(o),h++);var y=new xe({shape:{x:o,y:c,width:h,height:v}});if(t){var m=r.getBaseAxis(),b=m.isHorizontal(),S=m.inverse;b?(S&&(y.shape.x+=h),y.shape.width=0):(S||(y.shape.y+=v),y.shape.height=0);var E=re(i)?function(C){i(C,y)}:null;pr(y,{shape:{width:h,height:v,x:o,y:c}},e,null,n,E)}return y}function Nz(r,t,e){var n=r.getArea(),i=Yr(n.r0,1),a=Yr(n.r,1),o=new Xn({shape:{cx:Yr(r.cx,1),cy:Yr(r.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var c=r.getBaseAxis().dim==="angle";c?o.shape.endAngle=n.startAngle:o.shape.r=i,pr(o,{shape:{endAngle:n.endAngle,r:a}},e)}return o}function qv(r,t,e,n,i){if(r){if(r.type==="polar")return Nz(r,t,e);if(r.type==="cartesian2d")return Lz(r,t,e,n,i)}else return null;return null}function Nl(r,t){return r.type===t}function Ok(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function Pk(r){for(var t=1/0,e=1/0,n=-1/0,i=-1/0,a=0;a<r.length;){var o=r[a++],c=r[a++];isNaN(o)||(t=Math.min(o,t),n=Math.max(o,n)),isNaN(c)||(e=Math.min(c,e),i=Math.max(c,i))}return[[t,e],[n,i]]}function kk(r,t){var e=Pk(r),n=e[0],i=e[1],a=Pk(t),o=a[0],c=a[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-c[0]),Math.abs(i[1]-c[1]))}function Vk(r){return Ie(r)?r:r?.5:0}function rct(r,t,e){if(!e.valueDim)return[];for(var n=t.count(),i=Eo(n*2),a=0;a<n;a++){var o=Az(e,r,t,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function rl(r,t,e,n,i){var a=e.getBaseAxis(),o=a.dim==="x"||a.dim==="radius"?0:1,c=[],h=0,v=[],g=[],y=[],m=[];if(i){for(h=0;h<r.length;h+=2){var b=t||r;!isNaN(b[h])&&!isNaN(b[h+1])&&m.push(r[h],r[h+1])}r=m}for(h=0;h<r.length-2;h+=2)switch(y[0]=r[h+2],y[1]=r[h+3],g[0]=r[h],g[1]=r[h+1],c.push(g[0],g[1]),n){case"end":v[o]=y[o],v[1-o]=g[1-o],c.push(v[0],v[1]);break;case"middle":var S=(g[o]+y[o])/2,E=[];v[o]=E[o]=S,v[1-o]=g[1-o],E[1-o]=y[1-o],c.push(v[0],v[1]),c.push(E[0],E[1]);break;default:v[o]=g[o],v[1-o]=y[1-o],c.push(v[0],v[1])}return c.push(r[h++],r[h++]),c}function nct(r,t){var e=[],n=r.length,i,a;function o(g,y,m){var b=g.coord,S=(m-b)/(y.coord-b),E=wet(S,[g.color,y.color]);return{coord:m,color:E}}for(var c=0;c<n;c++){var h=r[c],v=h.coord;if(v<0)i=h;else if(v>t){a?e.push(o(a,h,t)):i&&e.push(o(i,h,0),o(i,h,t));break}else i&&(e.push(o(i,h,0)),i=null),e.push(h),a=h}return e}function ict(r,t,e){var n=r.getVisual("visualMeta");if(!(!n||!n.length||!r.count())&&t.type==="cartesian2d"){for(var i,a,o=n.length-1;o>=0;o--){var c=r.getDimensionInfo(n[o].dimension);if(i=c&&c.coordDim,i==="x"||i==="y"){a=n[o];break}}if(a){var h=t.getAxis(i),v=Pt(a.stops,function(L){return{coord:h.toGlobalCoord(h.dataToCoord(L.value)),color:L.color}}),g=v.length,y=a.outerColors.slice();g&&v[0].coord>v[g-1].coord&&(v.reverse(),y.reverse());var m=nct(v,i==="x"?e.getWidth():e.getHeight()),b=m.length;if(!b&&g)return v[0].coord<0?y[1]?y[1]:v[g-1].color:y[0]?y[0]:v[0].color;var S=10,E=m[0].coord-S,C=m[b-1].coord+S,A=C-E;if(A<.001)return"transparent";j(m,function(L){L.offset=(L.coord-E)/A}),m.push({offset:b?m[b-1].offset:.5,color:y[1]||"transparent"}),m.unshift({offset:b?m[0].offset:.5,color:y[0]||"transparent"});var D=new Gh(0,0,0,0,m,!0);return D[i]=E,D[i+"2"]=C,D}}}function act(r,t,e){var n=r.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=e.getAxesByScale("ordinal")[0];if(a&&!(i&&oct(a,t))){var o=t.mapDimension(a.dim),c={};return j(a.getViewLabels(),function(h){var v=a.scale.getRawOrdinalNumber(h.tickValue);c[v]=1}),function(h){return!c.hasOwnProperty(t.get(o,h))}}}}function oct(r,t){var e=r.getExtent(),n=Math.abs(e[1]-e[0])/r.scale.count();isNaN(n)&&(n=0);for(var i=t.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(Yv.getSymbolSize(t,o)[r.isHorizontal()?1:0]*1.5>n)return!1;return!0}function sct(r,t){return isNaN(r)||isNaN(t)}function lct(r){for(var t=r.length/2;t>0&&sct(r[t*2-2],r[t*2-1]);t--);return t-1}function Gk(r,t){return[r[t*2],r[t*2+1]]}function uct(r,t,e){for(var n=r.length/2,i=e==="x"?0:1,a,o,c=0,h=-1,v=0;v<n;v++)if(o=r[v*2+i],!(isNaN(o)||isNaN(r[v*2+1-i]))){if(v===0){a=o;continue}if(a<=t&&o>=t||a>=t&&o<=t){h=v;break}c=v,a=o}return{range:[c,h],t:(t-a)/(o-a)}}function Rz(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<di.length;t++)if(r.get([di[t],"endLabel","show"]))return!0;return!1}function qw(r,t,e,n){if(Nl(t,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),o=n.getData(),c={lastFrameIndex:0},h=Rz(n)?function(b,S){r._endLabelOnDuring(b,S,o,c,a,i,t)}:null,v=t.getBaseAxis().isHorizontal(),g=Lz(t,e,n,function(){var b=r._endLabel;b&&e&&c.originalX!=null&&b.attr({x:c.originalX,y:c.originalY})},h);if(!n.get("clip",!0)){var y=g.shape,m=Math.max(y.width,y.height);v?(y.y-=m,y.height+=m*2):(y.x-=m,y.width+=m*2)}return h&&h(1,g),g}else return Nz(t,e,n)}function cct(r,t){var e=t.getBaseAxis(),n=e.isHorizontal(),i=e.inverse,a=n?i?"right":"left":"center",o=n?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||a,verticalAlign:r.get("verticalAlign")||o}}}var fct=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new ne,n=new $v;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=e,this._changePolyState=qt(this._changePolyState,this)},t.prototype.render=function(e,n,i){var a=e.coordinateSystem,o=this.group,c=e.getData(),h=e.getModel("lineStyle"),v=e.getModel("areaStyle"),g=c.getLayout("points")||[],y=a.type==="polar",m=this._coordSys,b=this._symbolDraw,S=this._polyline,E=this._polygon,C=this._lineGroup,A=!n.ssr&&e.get("animation"),D=!v.isEmpty(),L=v.get("origin"),R=Cz(a,c,L),O=D&&rct(a,c,R),P=e.get("showSymbol"),V=e.get("connectNulls"),k=P&&!y&&act(e,c,a),F=this._data;F&&F.eachItemGraphicEl(function(zt,Vt){zt.__temp&&(o.remove(zt),F.setItemGraphicEl(Vt,null))}),P||b.remove(),o.add(C);var H=y?!1:e.get("step"),W;a&&a.getArea&&e.get("clip",!0)&&(W=a.getArea(),W.width!=null?(W.x-=.1,W.y-=.1,W.width+=.2,W.height+=.2):W.r0&&(W.r0-=.5,W.r+=.5)),this._clipShapeForSymbol=W;var q=ict(c,a,i)||c.getVisual("style")[c.getVisual("drawType")];if(!(S&&m.type===a.type&&H===this._step))P&&b.updateData(c,{isIgnore:k,clipShape:W,disableAnimation:!0,getSymbolPoint:function(zt){return[g[zt*2],g[zt*2+1]]}}),A&&this._initSymbolLabelAnimation(c,a,W),H&&(O&&(O=rl(O,g,a,H,V)),g=rl(g,null,a,H,V)),S=this._newPolyline(g),D?E=this._newPolygon(g,O):E&&(C.remove(E),E=this._polygon=null),y||this._initOrUpdateEndLabel(e,a,Cc(q)),C.setClipPath(qw(this,a,!0,e));else{D&&!E?E=this._newPolygon(g,O):E&&!D&&(C.remove(E),E=this._polygon=null),y||this._initOrUpdateEndLabel(e,a,Cc(q));var Y=C.getClipPath();if(Y){var K=qw(this,a,!1,e);pr(Y,{shape:K.shape},e)}else C.setClipPath(qw(this,a,!0,e));P&&b.updateData(c,{isIgnore:k,clipShape:W,disableAnimation:!0,getSymbolPoint:function(zt){return[g[zt*2],g[zt*2+1]]}}),(!Ok(this._stackedOnPoints,O)||!Ok(this._points,g))&&(A?this._doUpdateAnimation(c,O,a,i,H,L,V):(H&&(O&&(O=rl(O,g,a,H,V)),g=rl(g,null,a,H,V)),S.setShape({points:g}),E&&E.setShape({points:g,stackedOnPoints:O})))}var X=e.getModel("emphasis"),J=X.get("focus"),it=X.get("blurScope"),rt=X.get("disabled");if(S.useStyle(se(h.getLineStyle(),{fill:"none",stroke:q,lineJoin:"bevel"})),an(S,e,"lineStyle"),S.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var st=S.getState("emphasis").style;st.lineWidth=+S.style.lineWidth+1}fe(S).seriesIndex=e.seriesIndex,yr(S,J,it,rt);var lt=Vk(e.get("smooth")),dt=e.get("smoothMonotone");if(S.setShape({smooth:lt,smoothMonotone:dt,connectNulls:V}),E){var pt=c.getCalculationInfo("stackedOnSeries"),Tt=0;E.useStyle(se(v.getAreaStyle(),{fill:q,opacity:.7,lineJoin:"bevel",decal:c.getVisual("style").decal})),pt&&(Tt=Vk(pt.get("smooth"))),E.setShape({smooth:lt,stackedOnSmooth:Tt,smoothMonotone:dt,connectNulls:V}),an(E,e,"areaStyle"),fe(E).seriesIndex=e.seriesIndex,yr(E,J,it,rt)}var Ft=this._changePolyState;c.eachItemGraphicEl(function(zt){zt&&(zt.onHoverStateChange=Ft)}),this._polyline.onHoverStateChange=Ft,this._data=c,this._coordSys=a,this._stackedOnPoints=O,this._points=g,this._step=H,this._valueOrigin=L,e.get("triggerLineEvent")&&(this.packEventData(e,S),E&&this.packEventData(e,E))},t.prototype.packEventData=function(e,n){fe(n).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,n,i,a){var o=e.getData(),c=Sc(o,a);if(this._changePolyState("emphasis"),!(c instanceof Array)&&c!=null&&c>=0){var h=o.getLayout("points"),v=o.getItemGraphicEl(c);if(!v){var g=h[c*2],y=h[c*2+1];if(isNaN(g)||isNaN(y)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,y))return;var m=e.get("zlevel")||0,b=e.get("z")||0;v=new Yv(o,c),v.x=g,v.y=y,v.setZ(m,b);var S=v.getSymbolPath().getTextContent();S&&(S.zlevel=m,S.z=b,S.z2=this._polyline.z2+1),v.__temp=!0,o.setItemGraphicEl(c,v),v.stopSymbolAnimation(!0),this.group.add(v)}v.highlight()}else Je.prototype.highlight.call(this,e,n,i,a)},t.prototype.downplay=function(e,n,i,a){var o=e.getData(),c=Sc(o,a);if(this._changePolyState("normal"),c!=null&&c>=0){var h=o.getItemGraphicEl(c);h&&(h.__temp?(o.setItemGraphicEl(c,null),this.group.remove(h)):h.downplay())}else Je.prototype.downplay.call(this,e,n,i,a)},t.prototype._changePolyState=function(e){var n=this._polygon;D0(this._polyline,e),n&&D0(n,e)},t.prototype._newPolyline=function(e){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new tct({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(e,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Mz({shape:{points:e,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,n,i){var a,o,c=n.getBaseAxis(),h=c.inverse;n.type==="cartesian2d"?(a=c.isHorizontal(),o=!1):n.type==="polar"&&(a=c.dim==="angle",o=!0);var v=e.hostModel,g=v.get("animationDuration");re(g)&&(g=g(null));var y=v.get("animationDelay")||0,m=re(y)?y(null):y;e.eachItemGraphicEl(function(b,S){var E=b;if(E){var C=[b.x,b.y],A=void 0,D=void 0,L=void 0;if(i)if(o){var R=i,O=n.pointToCoord(C);a?(A=R.startAngle,D=R.endAngle,L=-O[1]/180*Math.PI):(A=R.r0,D=R.r,L=O[0])}else{var P=i;a?(A=P.x,D=P.x+P.width,L=b.x):(A=P.y+P.height,D=P.y,L=b.y)}var V=D===A?0:(L-A)/(D-A);h&&(V=1-V);var k=re(y)?y(S):g*V+m,F=E.getSymbolPath(),H=F.getTextContent();E.attr({scaleX:0,scaleY:0}),E.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:k}),H&&H.animateFrom({style:{opacity:0}},{duration:300,delay:k}),F.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,n,i){var a=e.getModel("endLabel");if(Rz(e)){var o=e.getData(),c=this._polyline,h=o.getLayout("points");if(!h){c.removeTextContent(),this._endLabel=null;return}var v=this._endLabel;v||(v=this._endLabel=new ke({z2:200}),v.ignoreClip=!0,c.setTextContent(this._endLabel),c.disableLabelAnimation=!0);var g=lct(h);g>=0&&(dn(c,on(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:g,defaultText:function(y,m,b){return b!=null?Tz(o,b):Ah(o,y)},enableTextSetter:!0},cct(a,n)),c.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,n,i,a,o,c,h){var v=this._endLabel,g=this._polyline;if(v){e<1&&a.originalX==null&&(a.originalX=v.x,a.originalY=v.y);var y=i.getLayout("points"),m=i.hostModel,b=m.get("connectNulls"),S=c.get("precision"),E=c.get("distance")||0,C=h.getBaseAxis(),A=C.isHorizontal(),D=C.inverse,L=n.shape,R=D?A?L.x:L.y+L.height:A?L.x+L.width:L.y,O=(A?E:0)*(D?-1:1),P=(A?0:-E)*(D?-1:1),V=A?"x":"y",k=uct(y,R,V),F=k.range,H=F[1]-F[0],W=void 0;if(H>=1){if(H>1&&!b){var q=Gk(y,F[0]);v.attr({x:q[0]+O,y:q[1]+P}),o&&(W=m.getRawValue(F[0]))}else{var q=g.getPointOn(R,V);q&&v.attr({x:q[0]+O,y:q[1]+P});var Y=m.getRawValue(F[0]),K=m.getRawValue(F[1]);o&&(W=aH(i,S,Y,K,k.t))}a.lastFrameIndex=F[0]}else{var X=e===1||a.lastFrameIndex>0?F[0]:0,q=Gk(y,X);o&&(W=m.getRawValue(X)),v.attr({x:q[0]+O,y:q[1]+P})}if(o){var J=Bh(v);typeof J.setLabelText=="function"&&J.setLabelText(W)}}},t.prototype._doUpdateAnimation=function(e,n,i,a,o,c,h){var v=this._polyline,g=this._polygon,y=e.hostModel,m=Qut(this._data,e,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),b=m.current,S=m.stackedOnCurrent,E=m.next,C=m.stackedOnNext;if(o&&(S=rl(m.stackedOnCurrent,m.current,i,o,h),b=rl(m.current,null,i,o,h),C=rl(m.stackedOnNext,m.next,i,o,h),E=rl(m.next,null,i,o,h)),kk(b,E)>3e3||g&&kk(S,C)>3e3){v.stopAnimation(),v.setShape({points:E}),g&&(g.stopAnimation(),g.setShape({points:E,stackedOnPoints:C}));return}v.shape.__points=m.current,v.shape.points=b;var A={shape:{points:E}};m.current!==b&&(A.shape.__points=m.next),v.stopAnimation(),Ve(v,A,y),g&&(g.setShape({points:b,stackedOnPoints:S}),g.stopAnimation(),Ve(g,{shape:{stackedOnPoints:C}},y),v.shape.points!==g.shape.points&&(g.shape.points=v.shape.points));for(var D=[],L=m.status,R=0;R<L.length;R++){var O=L[R].cmd;if(O==="="){var P=e.getItemGraphicEl(L[R].idx1);P&&D.push({el:P,ptIdx:R})}}v.animators&&v.animators.length&&v.animators[0].during(function(){g&&g.dirtyShape();for(var V=v.shape.__points,k=0;k<D.length;k++){var F=D[k].el,H=D[k].ptIdx*2;F.x=V[H],F.y=V[H+1],F.markRedraw()}})},t.prototype.remove=function(e){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(n.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t})(Je);function Xv(r,t){return{seriesType:r,plan:zh(),reset:function(e){var n=e.getData(),i=e.coordinateSystem,a=e.pipelineContext,o=t||a.large;if(i){var c=Pt(i.dimensions,function(b){return n.mapDimension(b)}).slice(0,2),h=c.length,v=n.getCalculationInfo("stackResultDimension");Ll(n,c[0])&&(c[0]=v),Ll(n,c[1])&&(c[1]=v);var g=n.getStore(),y=n.getDimensionIndex(c[0]),m=n.getDimensionIndex(c[1]);return h&&{progress:function(b,S){for(var E=b.end-b.start,C=o&&Eo(E*h),A=[],D=[],L=b.start,R=0;L<b.end;L++){var O=void 0;if(h===1){var P=g.get(y,L);O=i.dataToPoint(P,null,D)}else A[0]=g.get(y,L),A[1]=g.get(m,L),O=i.dataToPoint(A,null,D);o?(C[R++]=O[0],C[R++]=O[1]):S.setItemLayout(L,O.slice())}o&&S.setLayout("points",C)}}}}}}var hct={average:function(r){for(var t=0,e=0,n=0;n<r.length;n++)isNaN(r[n])||(t+=r[n],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},pct=function(r){return Math.round(r.length/2)};function Iz(r){return{seriesType:r,reset:function(t,e,n){var i=t.getData(),a=t.get("sampling"),o=t.coordinateSystem,c=i.count();if(c>10&&o.type==="cartesian2d"&&a){var h=o.getBaseAxis(),v=o.getOtherAxis(h),g=h.getExtent(),y=n.getDevicePixelRatio(),m=Math.abs(g[1]-g[0])*(y||1),b=Math.round(c/m);if(isFinite(b)&&b>1){a==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(v.dim),1/b)):a==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(v.dim),1/b));var S=void 0;$t(a)?S=hct[a]:re(a)&&(S=a),S&&t.setData(i.downSample(i.mapDimension(v.dim),1/b,S,pct))}}}}}function dct(r){r.registerChartView(fct),r.registerSeriesModel(Xut),r.registerLayout(Xv("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Iz("line"))}var wv=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){return Ls(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(e),c=a.dataToPoint(o);if(i)j(a.getAxes(),function(m,b){if(m.type==="category"&&n!=null){var S=m.getTicksCoords(),E=m.getTickModel().get("alignWithLabel"),C=o[b],A=n[b]==="x1"||n[b]==="y1";if(A&&!E&&(C+=1),S.length<2)return;if(S.length===2){c[b]=m.toGlobalCoord(m.getExtent()[A?1:0]);return}for(var D=void 0,L=void 0,R=1,O=0;O<S.length;O++){var P=S[O].coord,V=O===S.length-1?S[O-1].tickValue+R:S[O].tickValue;if(V===C){L=P;break}else if(V<C)D=P;else if(D!=null&&V>C){L=(P+D)/2;break}O===1&&(R=V-S[0].tickValue)}L==null&&(D?D&&(L=S[S.length-1].coord):L=S[0].coord),c[b]=m.toGlobalCoord(L)}});else{var h=this.getData(),v=h.getLayout("offset"),g=h.getLayout("size"),y=a.getBaseAxis().isHorizontal()?0:1;c[y]+=v+g/2}return c}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},t})(sr);sr.registerClass(wv);var vct=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return Ls(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>e&&(e=n),e},t.prototype.brushSelector=function(e,n,i){return i.rect(n.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Gl(wv.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:yt.color.primary,borderWidth:2}},realtimeSort:!1}),t})(wv),gct=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),X0=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="sausage",n}return t.prototype.getDefaultShape=function(){return new gct},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,o=Math.max(n.r0||0,0),c=Math.max(n.r,0),h=(c-o)*.5,v=o+h,g=n.startAngle,y=n.endAngle,m=n.clockwise,b=Math.PI*2,S=m?y-g<b:g-y<b;S||(g=y-(m?b:-b));var E=Math.cos(g),C=Math.sin(g),A=Math.cos(y),D=Math.sin(y);S?(e.moveTo(E*o+i,C*o+a),e.arc(E*v+i,C*v+a,h,-Math.PI+g,g,!m)):e.moveTo(E*c+i,C*c+a),e.arc(i,a,c,g,y,!m),e.arc(A*v+i,D*v+a,h,y-Math.PI*2,y-Math.PI,!m),o!==0&&e.arc(i,a,o,y,g,m)},t})(Te);function yct(r,t){t=t||{};var e=t.isRoundCap;return function(n,i,a){var o=i.position;if(!o||o instanceof Array)return x0(n,i,a);var c=r(o),h=i.distance!=null?i.distance:5,v=this.shape,g=v.cx,y=v.cy,m=v.r,b=v.r0,S=(m+b)/2,E=v.startAngle,C=v.endAngle,A=(E+C)/2,D=e?Math.abs(m-b)/2:0,L=Math.cos,R=Math.sin,O=g+m*L(E),P=y+m*R(E),V="left",k="top";switch(c){case"startArc":O=g+(b-h)*L(A),P=y+(b-h)*R(A),V="center",k="top";break;case"insideStartArc":O=g+(b+h)*L(A),P=y+(b+h)*R(A),V="center",k="bottom";break;case"startAngle":O=g+S*L(E)+sm(E,h+D,!1),P=y+S*R(E)+lm(E,h+D,!1),V="right",k="middle";break;case"insideStartAngle":O=g+S*L(E)+sm(E,-h+D,!1),P=y+S*R(E)+lm(E,-h+D,!1),V="left",k="middle";break;case"middle":O=g+S*L(A),P=y+S*R(A),V="center",k="middle";break;case"endArc":O=g+(m+h)*L(A),P=y+(m+h)*R(A),V="center",k="bottom";break;case"insideEndArc":O=g+(m-h)*L(A),P=y+(m-h)*R(A),V="center",k="top";break;case"endAngle":O=g+S*L(C)+sm(C,h+D,!0),P=y+S*R(C)+lm(C,h+D,!0),V="left",k="middle";break;case"insideEndAngle":O=g+S*L(C)+sm(C,-h+D,!0),P=y+S*R(C)+lm(C,-h+D,!0),V="right",k="middle";break;default:return x0(n,i,a)}return n=n||{},n.x=O,n.y=P,n.align=V,n.verticalAlign=k,n}}function mct(r,t,e,n){if(Ie(n)){r.setTextConfig({rotation:n});return}else if(Rt(t)){r.setTextConfig({rotation:0});return}var i=r.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,c=(a+o)/2,h,v=e(t);switch(v){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":h=c;break;case"startAngle":case"insideStartAngle":h=a;break;case"endAngle":case"insideEndAngle":h=o;break;default:r.setTextConfig({rotation:0});return}var g=Math.PI*1.5-h;v==="middle"&&g>Math.PI/2&&g<Math.PI*1.5&&(g-=Math.PI),r.setTextConfig({rotation:g})}function sm(r,t,e){return t*Math.sin(r)*(e?-1:1)}function lm(r,t,e){return t*Math.cos(r)*(e?1:-1)}function Co(r,t,e){var n=r.get("borderRadius");if(n==null)return e?{cornerRadius:0}:null;Rt(n)||(n=[n,n,n,n]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:Pt(n,function(a){return Ga(a,i)})}}var Xw=Math.max,Zw=Math.min;function _ct(r,t){var e=r.getArea&&r.getArea();if(Nl(r,"cartesian2d")){var n=r.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=t.getLayout("bandWidth");n.isHorizontal()?(e.x-=i,e.width+=i*2):(e.y-=i,e.height+=i*2)}}return e}var bct=(function(r){bt(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,n,i,a){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,n,i):this._renderNormal(e,n,i,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,n){this._progressiveEls=[],this._incrementalRenderLarge(e,n)},t.prototype.eachRendered=function(e){Vl(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e,n,i,a){var o=this.group,c=e.getData(),h=this._data,v=e.coordinateSystem,g=v.getBaseAxis(),y;v.type==="cartesian2d"?y=g.isHorizontal():v.type==="polar"&&(y=g.dim==="angle");var m=e.isAnimationEnabled()?e:null,b=Sct(e,v);b&&this._enableRealtimeSort(b,c,i);var S=e.get("clip",!0)||b,E=_ct(v,c);o.removeClipPath();var C=e.get("roundCap",!0),A=e.get("showBackground",!0),D=e.getModel("backgroundStyle"),L=D.get("borderRadius")||0,R=[],O=this._backgroundEls,P=a&&a.isInitSort,V=a&&a.type==="changeAxisOrder";function k(W){var q=um[v.type](c,W);if(!q)return null;var Y=Dct(v,y,q);return Y.useStyle(D.getItemStyle()),v.type==="cartesian2d"?Y.setShape("r",L):Y.setShape("cornerRadius",L),R[W]=Y,Y}c.diff(h).add(function(W){var q=c.getItemModel(W),Y=um[v.type](c,W,q);if(Y&&(A&&k(W),!(!c.hasValue(W)||!Uk[v.type](Y)))){var K=!1;S&&(K=Fk[v.type](E,Y));var X=Bk[v.type](e,c,W,Y,y,m,g.model,!1,C);b&&(X.forceLabelAnimation=!0),Wk(X,c,W,q,Y,e,y,v.type==="polar"),P?X.attr({shape:Y}):b?Hk(b,m,X,Y,W,y,!1,!1):pr(X,{shape:Y},e,W),c.setItemGraphicEl(W,X),o.add(X),X.ignore=K}}).update(function(W,q){var Y=c.getItemModel(W),K=um[v.type](c,W,Y);if(K){if(A){var X=void 0;O.length===0?X=k(q):(X=O[q],X.useStyle(D.getItemStyle()),v.type==="cartesian2d"?X.setShape("r",L):X.setShape("cornerRadius",L),R[W]=X);var J=um[v.type](c,W),it=Pz(y,J,v);Ve(X,{shape:it},m,W)}var rt=h.getItemGraphicEl(q);if(!c.hasValue(W)||!Uk[v.type](K)){o.remove(rt);return}var st=!1;S&&(st=Fk[v.type](E,K),st&&o.remove(rt));var lt=rt&&(rt.type==="sector"&&C||rt.type==="sausage"&&!C);if(lt&&(rt&&hs(rt,e,q),rt=null),rt?pa(rt):rt=Bk[v.type](e,c,W,K,y,m,g.model,!0,C),b&&(rt.forceLabelAnimation=!0),V){var dt=rt.getTextContent();if(dt){var pt=Bh(dt);pt.prevValue!=null&&(pt.prevValue=pt.value)}}else Wk(rt,c,W,Y,K,e,y,v.type==="polar");P?rt.attr({shape:K}):b?Hk(b,m,rt,K,W,y,!0,V):Ve(rt,{shape:K},e,W,null),c.setItemGraphicEl(W,rt),rt.ignore=st,o.add(rt)}}).remove(function(W){var q=h.getItemGraphicEl(W);q&&hs(q,e,W)}).execute();var F=this._backgroundGroup||(this._backgroundGroup=new ne);F.removeAll();for(var H=0;H<R.length;++H)F.add(R[H]);o.add(F),this._backgroundEls=R,this._data=c},t.prototype._renderLarge=function(e,n,i){this._clear(),Yk(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,n){this._removeBackground(),Yk(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var n=e.get("clip",!0)&&qv(e.coordinateSystem,!1,e),i=this.group;n?i.setClipPath(n):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,n,i){var a=this;if(n.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,e,i),this._isFirstFrame=!1;else{var c=function(h){var v=n.getItemGraphicEl(h),g=v&&v.shape;return g&&Math.abs(o.isHorizontal()?g.height:g.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,c,o,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,n,i){var a=[];return e.each(e.mapDimension(n.dim),function(o,c){var h=i(c);h=h??NaN,a.push({dataIndex:c,mappedValue:h,ordinalNumber:o})}),a.sort(function(o,c){return c.mappedValue-o.mappedValue}),{ordinalNumbers:Pt(a,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,n,i){for(var a=i.scale,o=e.mapDimension(i.dim),c=Number.MAX_VALUE,h=0,v=a.getOrdinalMeta().categories.length;h<v;++h){var g=e.rawIndexOf(o,a.getRawOrdinalNumber(h)),y=g<0?Number.MIN_VALUE:n(e.indexOfRawIndex(g));if(y>c)return!0;c=y}return!1},t.prototype._isOrderDifferentInView=function(e,n){for(var i=n.scale,a=i.getExtent(),o=Math.max(0,a[0]),c=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=c;++o)if(e.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,n,i,a){if(this._isOrderChangedWithinSameData(e,n,i)){var o=this._dataSort(e,i,n);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,n,i){var a=n.baseAxis,o=this._dataSort(e,a,function(c){return e.get(e.mapDimension(n.otherAxis.dim),c)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},t.prototype.remove=function(e,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(e,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var n=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){hs(a,e,fe(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t})(Je),Fk={cartesian2d:function(r,t){var e=t.width<0?-1:1,n=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var i=r.x+r.width,a=r.y+r.height,o=Xw(t.x,r.x),c=Zw(t.x+t.width,i),h=Xw(t.y,r.y),v=Zw(t.y+t.height,a),g=c<o,y=v<h;return t.x=g&&o>i?c:o,t.y=y&&h>a?v:h,t.width=g?0:c-o,t.height=y?0:v-h,e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),g||y},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}var i=Zw(t.r,r.r),a=Xw(t.r0,r.r0);t.r=i,t.r0=a;var o=i-a<0;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}return o}},Bk={cartesian2d:function(r,t,e,n,i,a,o,c,h){var v=new xe({shape:Mt({},n),z2:1});if(v.__dataIndex=e,v.name="item",a){var g=v.shape,y=i?"height":"width";g[y]=0}return v},polar:function(r,t,e,n,i,a,o,c,h){var v=!i&&h?X0:Xn,g=new v({shape:n,z2:1});g.name="item";var y=Oz(i);if(g.calculateTextPosition=yct(y,{isRoundCap:v===X0}),a){var m=g.shape,b=i?"r":"endAngle",S={};m[b]=i?n.r0:n.startAngle,S[b]=n[b],(c?Ve:pr)(g,{shape:S},a)}return g}};function Sct(r,t){var e=r.get("realtimeSort",!0),n=t.getBaseAxis();if(e&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function Hk(r,t,e,n,i,a,o,c){var h,v;a?(v={x:n.x,width:n.width},h={y:n.y,height:n.height}):(v={y:n.y,height:n.height},h={x:n.x,width:n.width}),c||(o?Ve:pr)(e,{shape:h},t,i,null);var g=t?r.baseAxis.model:null;(o?Ve:pr)(e,{shape:v},g,i)}function zk(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var wct=["x","y","width","height"],xct=["cx","cy","r","startAngle","endAngle"],Uk={cartesian2d:function(r){return!zk(r,wct)},polar:function(r){return!zk(r,xct)}},um={cartesian2d:function(r,t,e){var n=r.getItemLayout(t);if(!n)return null;var i=e?Tct(e,n):0,a=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+o*i/2,width:n.width-a*i,height:n.height-o*i}},polar:function(r,t,e){var n=r.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function Ect(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function Oz(r){return(function(t){var e=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+e;default:return n}}})(r)}function Wk(r,t,e,n,i,a,o,c){var h=t.getItemVisual(e,"style");if(c){if(!a.get("roundCap")){var g=r.shape,y=Co(n.getModel("itemStyle"),g,!0);Mt(g,y),r.setShape(g)}}else{var v=n.get(["itemStyle","borderRadius"])||0;r.setShape("r",v)}r.useStyle(h);var m=n.getShallow("cursor");m&&r.attr("cursor",m);var b=c?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",S=on(n);dn(r,S,{labelFetcher:a,labelDataIndex:e,defaultText:Ah(a.getData(),e),inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:b});var E=r.getTextContent();if(c&&E){var C=n.get(["label","position"]);r.textConfig.inside=C==="middle"?!0:null,mct(r,C==="outside"?b:C,Oz(o),n.get(["label","rotate"]))}jH(E,S,a.getRawValue(e),function(D){return Tz(t,D)});var A=n.getModel(["emphasis"]);yr(r,A.get("focus"),A.get("blurScope"),A.get("disabled")),an(r,n),Ect(i)&&(r.style.fill="none",r.style.stroke="none",j(r.states,function(D){D.style&&(D.style.fill=D.style.stroke="none")}))}function Tct(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var n=r.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,i,a)}var Cct=(function(){function r(){}return r})(),jk=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new Cct},t.prototype.buildPath=function(e,n){for(var i=n.points,a=this.baseDimIdx,o=1-this.baseDimIdx,c=[],h=[],v=this.barWidth,g=0;g<i.length;g+=3)h[a]=v,h[o]=i[g+2],c[a]=i[g+a],c[o]=i[g+o],e.rect(c[0],c[1],h[0],h[1])},t})(Te);function Yk(r,t,e,n){var i=r.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),c=i.getLayout("size"),h=r.getModel("backgroundStyle"),v=i.getLayout("largeBackgroundPoints");if(v){var g=new jk({shape:{points:v},incremental:!!n,silent:!0,z2:0});g.baseDimIdx=a,g.largeDataIndices=o,g.barWidth=c,g.useStyle(h.getItemStyle()),t.add(g),e&&e.push(g)}var y=new jk({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});y.baseDimIdx=a,y.largeDataIndices=o,y.barWidth=c,t.add(y),y.useStyle(i.getVisual("style")),y.style.stroke=null,fe(y).seriesIndex=r.seriesIndex,r.get("silent")||(y.on("mousedown",$k),y.on("mousemove",$k)),e&&e.push(y)}var $k=YA(function(r){var t=this,e=Act(t,r.offsetX,r.offsetY);fe(t).dataIndex=e>=0?e:null},30,!1);function Act(r,t,e){for(var n=r.baseDimIdx,i=1-n,a=r.shape.points,o=r.largeDataIndices,c=[],h=[],v=r.barWidth,g=0,y=a.length/3;g<y;g++){var m=g*3;if(h[n]=v,h[i]=a[m+2],c[n]=a[m+n],c[i]=a[m+i],h[i]<0&&(c[i]+=h[i],h[i]=-h[i]),t>=c[0]&&t<=c[0]+h[0]&&e>=c[1]&&e<=c[1]+h[1])return o[g]}return-1}function Pz(r,t,e){if(Nl(e,"cartesian2d")){var n=t,i=e.getArea();return{x:r?n.x:i.x,y:r?i.y:n.y,width:r?n.width:i.width,height:r?i.height:n.height}}else{var i=e.getArea(),a=t;return{cx:i.cx,cy:i.cy,r0:r?i.r0:a.r0,r:r?i.r:a.r,startAngle:r?a.startAngle:0,endAngle:r?a.endAngle:Math.PI*2}}}function Dct(r,t,e){var n=r.type==="polar"?Xn:xe;return new n({shape:Pz(t,e,r),silent:!0,z2:0})}function Mct(r){r.registerChartView(bct),r.registerSeriesModel(vct),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,ve(G6,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,F6("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Iz("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var qk=Math.PI*2,cm=Math.PI/180;function Lct(r,t,e){t.eachSeriesByType(r,function(n){var i=n.getData(),a=i.mapDimension("value"),o=h4(n,e),c=o.cx,h=o.cy,v=o.r,g=o.r0,y=o.viewRect,m=-n.get("startAngle")*cm,b=n.get("endAngle"),S=n.get("padAngle")*cm;b=b==="auto"?m-qk:-b*cm;var E=n.get("minAngle")*cm,C=E+S,A=0;i.each(a,function(it){!isNaN(it)&&A++});var D=i.getSum(a),L=Math.PI/(D||A)*2,R=n.get("clockwise"),O=n.get("roseType"),P=n.get("stillShowZeroSum"),V=i.getDataExtent(a);V[0]=0;var k=R?1:-1,F=[m,b],H=k*S/2;B_(F,!R),m=F[0],b=F[1];var W=kz(n);W.startAngle=m,W.endAngle=b,W.clockwise=R,W.cx=c,W.cy=h,W.r=v,W.r0=g;var q=Math.abs(b-m),Y=q,K=0,X=m;if(i.setLayout({viewRect:y,r:v}),i.each(a,function(it,rt){var st;if(isNaN(it)){i.setItemLayout(rt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:R,cx:c,cy:h,r0:g,r:O?NaN:v});return}O!=="area"?st=D===0&&P?L:it*L:st=q/A,st<C?(st=C,Y-=C):K+=it;var lt=X+k*st,dt=0,pt=0;S>st?(dt=X+k*st/2,pt=dt):(dt=X+H,pt=lt-H),i.setItemLayout(rt,{angle:st,startAngle:dt,endAngle:pt,clockwise:R,cx:c,cy:h,r0:g,r:O?je(it,V,[g,v]):v}),X=lt}),Y<qk&&A)if(Y<=.001){var J=q/A;i.each(a,function(it,rt){if(!isNaN(it)){var st=i.getItemLayout(rt);st.angle=J;var lt=0,dt=0;J<S?(lt=m+k*(rt+1/2)*J,dt=lt):(lt=m+k*rt*J+H,dt=m+k*(rt+1)*J-H),st.startAngle=lt,st.endAngle=dt}})}else L=Y/K,X=m,i.each(a,function(it,rt){if(!isNaN(it)){var st=i.getItemLayout(rt),lt=st.angle===C?C:it*L,dt=0,pt=0;lt<S?(dt=X+k*lt/2,pt=dt):(dt=X+H,pt=X+k*lt-H),st.startAngle=dt,st.endAngle=pt,X+=k*lt}})})}var kz=Ee();function Yh(r){return{seriesType:r,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=t.getData();i.filterSelf(function(a){for(var o=i.getName(a),c=0;c<n.length;c++)if(!n[c].isSelected(o))return!1;return!0})}}}}var Nct=Math.PI/180;function Xk(r,t,e,n,i,a,o,c,h,v){if(r.length<2)return;function g(E){for(var C=E.rB,A=C*C,D=0;D<E.list.length;D++){var L=E.list[D],R=Math.abs(L.label.y-e),O=n+L.len,P=O*O,V=Math.sqrt(Math.abs((1-R*R/A)*P)),k=t+(V+L.len2)*i,F=k-L.label.x,H=L.targetTextWidth-F*i;Vz(L,H,!0),L.label.x=k}}function y(E){for(var C={list:[],maxY:0},A={list:[],maxY:0},D=0;D<E.length;D++)if(E[D].labelAlignTo==="none"){var L=E[D],R=L.label.y>e?A:C,O=Math.abs(L.label.y-e);if(O>=R.maxY){var P=L.label.x-t-L.len2*i,V=n+L.len,k=Math.abs(P)<V?Math.sqrt(O*O/(1-P*P/V/V)):V;R.rB=k,R.maxY=O}R.list.push(L)}g(C),g(A)}for(var m=r.length,b=0;b<m;b++)if(r[b].position==="outer"&&r[b].labelAlignTo==="labelLine"){var S=r[b].label.x-v;r[b].linePoints[1][0]+=S,r[b].label.x=v}IT(r,1,h,h+o)&&y(r)}function Rct(r,t,e,n,i,a,o,c){for(var h=[],v=[],g=Number.MAX_VALUE,y=-Number.MAX_VALUE,m=0;m<r.length;m++){var b=r[m].label;Kw(r[m])||(b.x<t?(g=Math.min(g,b.x),h.push(r[m])):(y=Math.max(y,b.x),v.push(r[m])))}for(var m=0;m<r.length;m++){var S=r[m];if(!Kw(S)&&S.linePoints){if(S.labelStyleWidth!=null)continue;var b=S.label,E=S.linePoints,C=void 0;S.labelAlignTo==="edge"?b.x<t?C=E[2][0]-S.labelDistance-o-S.edgeDistance:C=o+i-S.edgeDistance-E[2][0]-S.labelDistance:S.labelAlignTo==="labelLine"?b.x<t?C=g-o-S.bleedMargin:C=o+i-y-S.bleedMargin:b.x<t?C=b.x-o-S.bleedMargin:C=o+i-b.x-S.bleedMargin,S.targetTextWidth=C,Vz(S,C,!1)}}Xk(v,t,e,n,1,i,a,o,c,y),Xk(h,t,e,n,-1,i,a,o,c,g);for(var m=0;m<r.length;m++){var S=r[m];if(!Kw(S)&&S.linePoints){var b=S.label,E=S.linePoints,A=S.labelAlignTo==="edge",D=b.style.padding,L=D?D[1]+D[3]:0,R=b.style.backgroundColor?0:L,O=S.rect.width+R,P=E[1][0]-E[2][0];A?b.x<t?E[2][0]=o+S.edgeDistance+O+S.labelDistance:E[2][0]=o+i-S.edgeDistance-O-S.labelDistance:(b.x<t?E[2][0]=b.x+S.labelDistance:E[2][0]=b.x-S.labelDistance,E[1][0]=E[2][0]+P),E[1][1]=E[2][1]=b.y}}}function Vz(r,t,e){if(r.labelStyleWidth==null){var n=r.label,i=n.style,a=r.rect,o=i.backgroundColor,c=i.padding,h=c?c[1]+c[3]:0,v=i.overflow,g=a.width+(o?0:h);if(t<g||e){if(v&&v.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-h);var y=n.getBoundingRect();n.setStyle("width",Math.ceil(y.width)),n.setStyle("backgroundColor",o)}else{var m=t-h,b=t<g?m:e?m>r.unconstrainedWidth?null:m:null;n.setStyle("width",b)}Gz(a,n)}}}function Gz(r,t){Zk.rect=r,lz(Zk,t,Ict)}var Ict={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},Zk={};function Kw(r){return r.position==="center"}function Oct(r){var t=r.getData(),e=[],n,i,a=!1,o=(r.get("minShowLabelAngle")||0)*Nct,c=t.getLayout("viewRect"),h=t.getLayout("r"),v=c.width,g=c.x,y=c.y,m=c.height;function b(P){P.ignore=!0}function S(P){if(!P.ignore)return!0;for(var V in P.states)if(P.states[V].ignore===!1)return!0;return!1}t.each(function(P){var V=t.getItemGraphicEl(P),k=V.shape,F=V.getTextContent(),H=V.getTextGuideLine(),W=t.getItemModel(P),q=W.getModel("label"),Y=q.get("position")||W.get(["emphasis","label","position"]),K=q.get("distanceToLabelLine"),X=q.get("alignTo"),J=Yt(q.get("edgeDistance"),v),it=q.get("bleedMargin");it==null&&(it=Math.min(v,m)>200?10:2);var rt=W.getModel("labelLine"),st=rt.get("length");st=Yt(st,v);var lt=rt.get("length2");if(lt=Yt(lt,v),Math.abs(k.endAngle-k.startAngle)<o){j(F.states,b),F.ignore=!0,H&&(j(H.states,b),H.ignore=!0);return}if(S(F)){var dt=(k.startAngle+k.endAngle)/2,pt=Math.cos(dt),Tt=Math.sin(dt),Ft,zt,Vt,Kt;n=k.cx,i=k.cy;var Bt=Y==="inside"||Y==="inner";if(Y==="center")Ft=k.cx,zt=k.cy,Kt="center";else{var gt=(Bt?(k.r+k.r0)/2*pt:k.r*pt)+n,Ct=(Bt?(k.r+k.r0)/2*Tt:k.r*Tt)+i;if(Ft=gt+pt*3,zt=Ct+Tt*3,!Bt){var wt=gt+pt*(st+h-k.r),Z=Ct+Tt*(st+h-k.r),at=wt+(pt<0?-1:1)*lt,ut=Z;X==="edge"?Ft=pt<0?g+J:g+v-J:Ft=at+(pt<0?-K:K),zt=ut,Vt=[[gt,Ct],[wt,Z],[at,ut]]}Kt=Bt?"center":X==="edge"?pt>0?"right":"left":pt>0?"left":"right"}var _t=Math.PI,mt=0,xt=q.get("rotate");if(Ie(xt))mt=xt*(_t/180);else if(Y==="center")mt=0;else if(xt==="radial"||xt===!0){var tt=pt<0?-dt+_t:-dt;mt=tt}else if(xt==="tangential"&&Y!=="outside"&&Y!=="outer"){var et=Math.atan2(pt,Tt);et<0&&(et=_t*2+et);var ht=Tt>0;ht&&(et=_t+et),mt=et-_t}if(a=!!mt,F.x=Ft,F.y=zt,F.rotation=mt,F.setStyle({verticalAlign:"middle"}),Bt){F.setStyle({align:Kt});var It=F.states.select;It&&(It.x+=F.x,It.y+=F.y)}else{var St=new ue(0,0,0,0);Gz(St,F),e.push({label:F,labelLine:H,position:Y,len:st,len2:lt,minTurnAngle:rt.get("minTurnAngle"),maxSurfaceAngle:rt.get("maxSurfaceAngle"),surfaceNormal:new oe(pt,Tt),linePoints:Vt,textAlign:Kt,labelDistance:K,labelAlignTo:X,edgeDistance:J,bleedMargin:it,rect:St,unconstrainedWidth:St.width,labelStyleWidth:F.style.width})}V.setTextConfig({inside:Bt})}}),!a&&r.get("avoidLabelOverlap")&&Rct(e,n,i,h,v,m,g,y);for(var E=0;E<e.length;E++){var C=e[E],A=C.label,D=C.labelLine,L=isNaN(A.x)||isNaN(A.y);if(A){A.setStyle({align:C.textAlign}),L&&(j(A.states,b),A.ignore=!0);var R=A.states.select;R&&(R.x+=A.x,R.y+=A.y)}if(D){var O=C.linePoints;L||!O?(j(D.states,b),D.ignore=!0):(az(O,C.minTurnAngle),tut(O,C.surfaceNormal,C.maxSurfaceAngle),D.setShape({points:O}),A.__hostTarget.textGuideLineConfig={anchor:new oe(O[0][0],O[0][1])})}}}var Pct=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this)||this;a.z2=2;var o=new ke;return a.setTextContent(o),a.updateData(e,n,i,!0),a}return t.prototype.updateData=function(e,n,i,a){var o=this,c=e.hostModel,h=e.getItemModel(n),v=h.getModel("emphasis"),g=e.getItemLayout(n),y=Mt(Co(h.getModel("itemStyle"),g,!0),g);if(isNaN(y.startAngle)){o.setShape(y);return}if(a){o.setShape(y);var m=c.getShallow("animationType");c.ecModel.ssr?(pr(o,{scaleX:0,scaleY:0},c,{dataIndex:n,isFrom:!0}),o.originX=y.cx,o.originY=y.cy):m==="scale"?(o.shape.r=g.r0,pr(o,{shape:{r:g.r}},c,n)):i!=null?(o.setShape({startAngle:i,endAngle:i}),pr(o,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},c,n)):(o.shape.endAngle=g.startAngle,Ve(o,{shape:{endAngle:g.endAngle}},c,n))}else pa(o),Ve(o,{shape:y},c,n);o.useStyle(e.getItemVisual(n,"style")),an(o,h);var b=(g.startAngle+g.endAngle)/2,S=c.get("selectedOffset"),E=Math.cos(b)*S,C=Math.sin(b)*S,A=h.getShallow("cursor");A&&o.attr("cursor",A),this._updateLabel(c,e,n),o.ensureState("emphasis").shape=Mt({r:g.r+(v.get("scale")&&v.get("scaleSize")||0)},Co(v.getModel("itemStyle"),g)),Mt(o.ensureState("select"),{x:E,y:C,shape:Co(h.getModel(["select","itemStyle"]),g)}),Mt(o.ensureState("blur"),{shape:Co(h.getModel(["blur","itemStyle"]),g)});var D=o.getTextGuideLine(),L=o.getTextContent();D&&Mt(D.ensureState("select"),{x:E,y:C}),Mt(L.ensureState("select"),{x:E,y:C}),yr(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},t.prototype._updateLabel=function(e,n,i){var a=this,o=n.getItemModel(i),c=o.getModel("labelLine"),h=n.getItemVisual(i,"style"),v=h&&h.fill,g=h&&h.opacity;dn(a,on(o),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:v,defaultOpacity:g,defaultText:e.getFormattedLabel(i,"normal")||n.getName(i)});var y=a.getTextContent();a.setTextConfig({position:null,rotation:null}),y.attr({z2:10});var m=o.get(["label","position"]);if(m!=="outside"&&m!=="outer")a.removeTextGuideLine();else{var b=this.getTextGuideLine();b||(b=new Pn,this.setTextGuideLine(b)),aD(this,oD(o),{stroke:v,opacity:Hi(c.get(["lineStyle","opacity"]),g,1)})}},t})(Xn),kct=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,i,a){var o=e.getData(),c=this._data,h=this.group,v;if(!c&&o.count()>0){for(var g=o.getItemLayout(0),y=1;isNaN(g&&g.startAngle)&&y<o.count();++y)g=o.getItemLayout(y);g&&(v=g.startAngle)}if(this._emptyCircleSector&&h.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var m=kz(e),b=new Xn({shape:ie(m)});b.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=b,h.add(b)}o.diff(c).add(function(S){var E=new Pct(o,S,v);o.setItemGraphicEl(S,E),h.add(E)}).update(function(S,E){var C=c.getItemGraphicEl(E);C.updateData(o,S,v),C.off("click"),h.add(C),o.setItemGraphicEl(S,C)}).remove(function(S){var E=c.getItemGraphicEl(S);hs(E,e,S)}).execute(),Oct(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=e[0]-a.cx,c=e[1]-a.cy,h=Math.sqrt(o*o+c*c);return h<=a.r&&h>=a.r0}},t.type="pie",t})(Je);function $h(r,t,e){t=Rt(t)&&{coordDimensions:t}||Mt({encodeDefine:r.getEncode()},t);var n=r.getSource(),i=Wv(n,t).dimensions,a=new fi(i,r);return a.initData(n,e),a}var qh=(function(){function r(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},r.prototype.getItemVisual=function(t,e){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,e)},r})(),Vct=Ee(),Fz=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new qh(qt(this.getData,this),qt(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return $h(this,{coordDimensions:["value"],encodeDefaulter:ve(GA,this)})},t.prototype.getDataParams=function(e){var n=this.getData(),i=Vct(n),a=i.seats;if(!a){var o=[];n.each(n.mapDimension("value"),function(h){o.push(h)}),a=i.seats=ort(o,n.hostModel.get("percentPrecision"))}var c=r.prototype.getDataParams.call(this,e);return c.percent=a[e]||0,c.$vars.push("percent"),c},t.prototype._defaultLabelLine=function(e){bc(e,"labelLine",["show"]);var n=e.labelLine,i=e.emphasis.labelLine;n.show=n.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t})(sr);$it({fullType:Fz.type,getCoord2:function(r){return r.getShallow("center")}});function Gct(r){return{seriesType:r,reset:function(t,e){var n=t.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),o=n.get(a,i);return!(Ie(o)&&!isNaN(o)&&o<0)})}}}function Fct(r){r.registerChartView(kct),r.registerSeriesModel(Fz),n6("pie",r.registerAction),r.registerLayout(ve(Lct,"pie")),r.registerProcessor(Yh("pie")),r.registerProcessor(Gct("pie"))}var Bct=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return Ls(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,n,i){return i.point(n.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:yt.color.primary}},universalTransition:{divideShape:"clone"}},t})(sr),Bz=4,Hct=(function(){function r(){}return r})(),zct=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new Hct},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,n){var i=n.points,a=n.size,o=this.symbolProxy,c=o.shape,h=e.getContext?e.getContext():e,v=h&&a[0]<Bz,g=this.softClipShape,y;if(v){this._ctx=h;return}for(this._ctx=null,y=this._off;y<i.length;){var m=i[y++],b=i[y++];isNaN(m)||isNaN(b)||g&&!g.contain(m,b)||(c.x=m-a[0]/2,c.y=b-a[1]/2,c.width=a[0],c.height=a[1],o.buildPath(e,c,!0))}this.incremental&&(this._off=y,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,n=e.points,i=e.size,a=this._ctx,o=this.softClipShape,c;if(a){for(c=this._off;c<n.length;){var h=n[c++],v=n[c++];isNaN(h)||isNaN(v)||o&&!o.contain(h,v)||a.fillRect(h-i[0]/2,v-i[1]/2,i[0],i[1])}this.incremental&&(this._off=c,this.notClear=!0)}},t.prototype.findDataIndex=function(e,n){for(var i=this.shape,a=i.points,o=i.size,c=Math.max(o[0],4),h=Math.max(o[1],4),v=a.length/2-1;v>=0;v--){var g=v*2,y=a[g]-c/2,m=a[g+1]-h/2;if(e>=y&&n>=m&&e<=y+c&&n<=m+h)return v}return-1},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=i[0],n=i[1],a.contain(e,n)){var o=this.hoverDataIdx=this.findDataIndex(e,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,i=n.points,a=n.size,o=a[0],c=a[1],h=1/0,v=1/0,g=-1/0,y=-1/0,m=0;m<i.length;){var b=i[m++],S=i[m++];h=Math.min(b,h),g=Math.max(b,g),v=Math.min(S,v),y=Math.max(S,y)}e=this._rect=new ue(h-o/2,v-c/2,g-h+o,y-v+c)}return e},t})(Te),Uct=(function(){function r(){this.group=new ne}return r.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},r.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;e=new Float32Array(e.buffer,a,i)}n.setShape("points",e),n.reset()})},r.prototype.incrementalPrepareUpdate=function(t){this._clear()},r.prototype.incrementalUpdate=function(t,e,n){var i=this._newAdded[0],a=e.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var c=o.length,h=new Float32Array(c+a.length);h.set(o),h.set(a,c),i.endIndex=t.end,i.setShape({points:h})}else{this._newAdded=[];var v=this._create();v.startIndex=t.start,v.endIndex=t.end,v.incremental=!0,v.setShape({points:a}),this._setCommon(v,e,n)}},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new zct({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},r.prototype._setCommon=function(t,e,n){var i=e.hostModel;n=n||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=Kr(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<Bz;t.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var c=e.getVisual("style"),h=c&&c.fill;h&&t.setColor(h);var v=fe(t);v.seriesIndex=i.seriesIndex,t.on("mousemove",function(g){v.dataIndex=null;var y=t.hoverDataIdx;y>=0&&(v.dataIndex=y+(t.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r})(),Wct=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._updateSymbolDraw(a,e);o.updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,i){var a=e.getData(),o=this._updateSymbolDraw(a,e);o.incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,n,i){this._symbolDraw.incrementalUpdate(e,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=e.end===n.getData().count()},t.prototype.updateTransform=function(e,n,i){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=Xv("").reset(e,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var n=e.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,n){var i=this._symbolDraw,a=n.pipelineContext,o=a.large;return(!i||o!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=o?new Uct:new $v,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t})(Je),Hz={left:0,right:0,top:0,bottom:0},Z0=["25%","25%"],jct=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.mergeDefaultAndTheme=function(e,n){var i=Oc(e.outerBounds);r.prototype.mergeDefaultAndTheme.apply(this,arguments),i&&e.outerBounds&&Vo(e.outerBounds,i)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&e.outerBounds&&Vo(this.option.outerBounds,e.outerBounds)},t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:Hz,outerBoundsContain:"all",outerBoundsClampWidth:Z0[0],outerBoundsClampHeight:Z0[1],backgroundColor:yt.color.transparent,borderWidth:1,borderColor:yt.color.neutral30},t})(Ce),GT=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Ar).models[0]},t.type="cartesian2dAxis",t})(Ce);Jr(GT,jv);var zz={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:yt.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:yt.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:yt.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[yt.color.backgroundTint,yt.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:yt.color.neutral00,borderColor:yt.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},Yct=ye({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},zz),pD=ye({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:yt.color.axisMinorSplitLine,width:1}}},zz),$ct=ye({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},pD),qct=se({logBase:10},pD);const Uz={category:Yct,value:pD,time:$ct,log:qct};var Xct={value:1,category:1,time:1,log:1},FT=null;function Zct(r){FT||(FT=r)}function Zv(){return FT}function Dh(r,t,e,n){j(Xct,function(i,a){var o=ye(ye({},Uz[a],!0),n,!0),c=(function(h){bt(v,h);function v(){var g=h!==null&&h.apply(this,arguments)||this;return g.type=t+"Axis."+a,g}return v.prototype.mergeDefaultAndTheme=function(g,y){var m=hv(this),b=m?Oc(g):{},S=y.getTheme();ye(g,S.get(a+"Axis")),ye(g,this.getDefaultOption()),g.type=Kk(g),m&&Vo(g,b,m)},v.prototype.optionUpdated=function(){var g=this.option;g.type==="category"&&(this.__ordinalMeta=mv.createByAxisModel(this))},v.prototype.getCategories=function(g){var y=this.option;if(y.type==="category")return g?y.data:this.__ordinalMeta.categories},v.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},v.prototype.updateAxisBreaks=function(g){var y=Zv();return y?y.updateModelAxisBreak(this,g):{breaks:[]}},v.type=t+"Axis."+a,v.defaultOption=o,v})(e);r.registerComponentModel(c)}),r.registerSubTypeDefaulter(t+"Axis",Kk)}function Kk(r){return r.type||(r.data?"category":"value")}var Kct=(function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return Pt(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Ye(this.getAxes(),function(e){return e.scale.type===t})},r.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},r})(),BT=["x","y"];function Jk(r){return(r.type==="interval"||r.type==="time")&&!r.hasBreaks()}var Jct=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=BT,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!Jk(e)||!Jk(n))){var i=e.getExtent(),a=n.getExtent(),o=this.dataToPoint([i[0],a[0]]),c=this.dataToPoint([i[1],a[1]]),h=i[1]-i[0],v=a[1]-a[0];if(!(!h||!v)){var g=(c[0]-o[0])/h,y=(c[1]-o[1])/v,m=o[0]-i[0]*g,b=o[1]-a[0]*y,S=this._transform=[g,0,0,y,m,b];this._invTransform=Va([],S)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,n){var i=this.dataToPoint(e),a=this.dataToPoint(n),o=this.getArea(),c=new ue(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(c)},t.prototype.dataToPoint=function(e,n,i){i=i||[];var a=e[0],o=e[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return Br(i,e,this._transform);var c=this.getAxis("x"),h=this.getAxis("y");return i[0]=c.toGlobalCoord(c.dataToCoord(a,n)),i[1]=h.toGlobalCoord(h.dataToCoord(o,n)),i},t.prototype.clampData=function(e,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),c=a.getExtent(),h=i.parse(e[0]),v=a.parse(e[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),h),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(c[0],c[1]),v),Math.max(c[0],c[1])),n},t.prototype.pointToData=function(e,n,i){if(i=i||[],this._invTransform)return Br(i,e,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(e[0]),n),i[1]=o.coordToData(o.toLocalCoord(e[1]),n),i},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-e,o=Math.min(i[0],i[1])-e,c=Math.max(n[0],n[1])-a+e,h=Math.max(i[0],i[1])-o+e;return new ue(a,o,c,h)},t})(Kct),Wz=(function(r){bt(t,r);function t(e,n,i,a,o){var c=r.call(this,e,n,i)||this;return c.index=0,c.type=a||"value",c.position=o||"bottom",c}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),e&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(e,n){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t})(za),ab="expandAxisBreak",jz="collapseAxisBreak",Yz="toggleAxisBreak",dD="axisbreakchanged",Qct={type:ab,event:dD,update:"update",refineEvent:vD},tft={type:jz,event:dD,update:"update",refineEvent:vD},eft={type:Yz,event:dD,update:"update",refineEvent:vD};function vD(r,t,e,n){var i=[];return j(r,function(a){i=i.concat(a.eventBreaks)}),{eventContent:{breaks:i}}}function rft(r){r.registerAction(Qct,t),r.registerAction(tft,t),r.registerAction(eft,t);function t(e,n){var i=[],a=fh(n,e);function o(c,h){j(a[c],function(v){var g=v.updateAxisBreaks(e);j(g.breaks,function(y){var m;i.push(se((m={},m[h]=v.componentIndex,m),y))})})}return o("xAxisModels","xAxisIndex"),o("yAxisModels","yAxisIndex"),o("singleAxisModels","singleAxisIndex"),{eventBreaks:i}}}var gl=Math.PI,nft=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],ift=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],Mh=Ee(),$z=Ee(),qz=(function(){function r(t){this.recordMap={},this.resolveAxisNameOverlap=t}return r.prototype.ensureRecord=function(t){var e=t.axis.dim,n=t.componentIndex,i=this.recordMap,a=i[e]||(i[e]=[]);return a[n]||(a[n]={ready:{}})},r})();function aft(r,t,e,n){var i=e.axis,a=t.ensureRecord(e),o=[],c,h=gD(r.axisName)&&Ch(r.nameLocation);j(n,function(S){var E=Go(S);if(!(!E||E.label.ignore)){o.push(E);var C=a.transGroup;h&&(C.transform?Va(td,C.transform):N_(td),E.transform&&Do(td,td,E.transform),ue.copy(fm,E.localRect),fm.applyTransform(td),c?c.union(fm):ue.copy(c=new ue(0,0,0,0),fm))}});var v=Math.abs(a.dirVec.x)>.1?"x":"y",g=a.transGroup[v];if(o.sort(function(S,E){return Math.abs(S.label[v]-g)-Math.abs(E.label[v]-g)}),h&&c){var y=i.getExtent(),m=Math.min(y[0],y[1]),b=Math.max(y[0],y[1])-m;c.union(new ue(m,0,b,1))}a.stOccupiedRect=c,a.labelInfoList=o}var td=wn(),fm=new ue(0,0,0,0),Xz=function(r,t,e,n,i,a){if(Ch(r.nameLocation)){var o=a.stOccupiedRect;o&&Zz(nut({},o,a.transGroup.transform),n,i)}else Kz(a.labelInfoList,a.dirVec,n,i)};function Zz(r,t,e){var n=new oe;nb(r,t,n,{direction:Math.atan2(e.y,e.x),bidirectional:!1,touchThreshold:.05})&&NT(t,n)}function Kz(r,t,e,n){for(var i=oe.dot(n,t)>=0,a=0,o=r.length;a<o;a++){var c=r[i?a:o-1-a];c.label.ignore||Zz(c,e,n)}}var hi=(function(){function r(t,e,n,i){this.group=new ne,this._axisModel=t,this._api=e,this._local={},this._shared=i||new qz(Xz),this._resetCfgDetermined(n)}return r.prototype.updateCfg=function(t){var e=this._cfg.raw;e.position=t.position,e.labelOffset=t.labelOffset,this._resetCfgDetermined(e)},r.prototype.__getRawCfg=function(){return this._cfg.raw},r.prototype._resetCfgDetermined=function(t){var e=this._axisModel,n=e.getDefaultOption?e.getDefaultOption():{},i=te(t.axisName,e.get("name")),a=e.get("nameMoveOverlap");(a==null||a==="auto")&&(a=te(t.defaultNameMoveOverlap,!0));var o={raw:t,position:t.position,rotation:t.rotation,nameDirection:te(t.nameDirection,1),tickDirection:te(t.tickDirection,1),labelDirection:te(t.labelDirection,1),labelOffset:te(t.labelOffset,0),silent:te(t.silent,!0),axisName:i,nameLocation:Hi(e.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:gD(i)&&a,optionHideOverlap:e.get(["axisLabel","hideOverlap"]),showMinorTicks:e.get(["minorTick","show"])};this._cfg=o;var c=new ne({x:o.position[0],y:o.position[1],rotation:o.rotation});c.updateTransform(),this._transformGroup=c;var h=this._shared.ensureRecord(e);h.transGroup=this._transformGroup,h.dirVec=new oe(Math.cos(-o.rotation),Math.sin(-o.rotation))},r.prototype.build=function(t,e){var n=this;return t||(t={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),j(oft,function(i){t[i]&&sft[i](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,e||{})}),this},r.innerTextLayout=function(t,e,n){var i=qB(e-t),a,o;return ov(i)?(o=n>0?"top":"bottom",a="center"):ov(i-gl)?(o=n>0?"bottom":"top",a="center"):(o="middle",i>0&&i<gl?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},r.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},r.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},r})(),oft=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],sft={axisLine:function(r,t,e,n,i,a,o){var c=n.get(["axisLine","show"]);if(c==="auto"&&(c=!0,r.raw.axisLineAutoShow!=null&&(c=!!r.raw.axisLineAutoShow)),!!c){var h=n.axis.getExtent(),v=a.transform,g=[h[0],0],y=[h[1],0],m=g[0]>y[0];v&&(Br(g,g,v),Br(y,y,v));var b=Mt({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),S={strokeContainThreshold:r.raw.strokeContainThreshold||5,silent:!0,z2:1,style:b};if(n.get(["axisLine","breakLine"])&&n.axis.scale.hasBreaks())Zv().buildAxisBreakLine(n,i,a,S);else{var E=new $r(Mt({shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]}},S));Sh(E.shape,E.style.lineWidth),E.anid="line",i.add(E)}var C=n.get(["axisLine","symbol"]);if(C!=null){var A=n.get(["axisLine","symbolSize"]);$t(C)&&(C=[C,C]),($t(A)||Ie(A))&&(A=[A,A]);var D=kc(n.get(["axisLine","symbolOffset"])||0,A),L=A[0],R=A[1];j([{rotate:r.rotation+Math.PI/2,offset:D[0],r:0},{rotate:r.rotation-Math.PI/2,offset:D[1],r:Math.sqrt((g[0]-y[0])*(g[0]-y[0])+(g[1]-y[1])*(g[1]-y[1]))}],function(O,P){if(C[P]!=="none"&&C[P]!=null){var V=Kr(C[P],-L/2,-R/2,L,R,b.stroke,!0),k=O.r+O.offset,F=m?y:g;V.attr({rotation:O.rotate,x:F[0]+k*Math.cos(r.rotation),y:F[1]-k*Math.sin(r.rotation),silent:!0,z2:11}),i.add(V)}})}}},axisTickLabelEstimate:function(r,t,e,n,i,a,o,c){var h=tV(t,i,c);h&&Qk(r,t,e,n,i,a,o,Fa.estimate)},axisTickLabelDetermine:function(r,t,e,n,i,a,o,c){var h=tV(t,i,c);h&&Qk(r,t,e,n,i,a,o,Fa.determine);var v=fft(r,i,a,n);cft(r,t.labelLayoutList,v),hft(r,i,a,n,r.tickDirection)},axisName:function(r,t,e,n,i,a,o,c){var h=e.ensureRecord(n);t.nameEl&&(i.remove(t.nameEl),t.nameEl=h.nameLayout=h.nameLocation=null);var v=r.axisName;if(gD(v)){var g=r.nameLocation,y=r.nameDirection,m=n.getModel("nameTextStyle"),b=n.get("nameGap")||0,S=n.axis.getExtent(),E=n.axis.inverse?-1:1,C=new oe(0,0),A=new oe(0,0);g==="start"?(C.x=S[0]-E*b,A.x=-E):g==="end"?(C.x=S[1]+E*b,A.x=E):(C.x=(S[0]+S[1])/2,C.y=r.labelOffset+y*b,A.y=y);var D=wn();A.transform(kl(D,D,r.rotation));var L=n.get("nameRotate");L!=null&&(L=L*gl/180);var R,O;Ch(g)?R=hi.innerTextLayout(r.rotation,L??r.rotation,y):(R=lft(r.rotation,g,L||0,S),O=r.raw.axisNameAvailableWidth,O!=null&&(O=Math.abs(O/Math.sin(R.rotation)),!isFinite(O)&&(O=null)));var P=m.getFont(),V=n.get("nameTruncate",!0)||{},k=V.ellipsis,F=On(r.raw.nameTruncateMaxWidth,V.maxWidth,O),H=c.nameMarginLevel||0,W=new ke({x:C.x,y:C.y,rotation:R.rotation,silent:hi.isLabelSilent(n),style:or(m,{text:v,font:P,overflow:"truncate",width:F,ellipsis:k,fill:m.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:m.get("align")||R.textAlign,verticalAlign:m.get("verticalAlign")||R.textVerticalAlign}),z2:1});if(Ms({el:W,componentModel:n,itemName:v}),W.__fullText=v,W.anid="name",n.get("triggerEvent")){var q=hi.makeAxisEventDataBase(n);q.targetType="axisName",q.name=v,fe(W).eventData=q}a.add(W),W.updateTransform(),t.nameEl=W;var Y=h.nameLayout=Go({label:W,priority:W.z2,defaultAttr:{ignore:W.ignore},marginDefault:Ch(g)?nft[H]:ift[H]});if(h.nameLocation=g,i.add(W),W.decomposeTransform(),r.shouldNameMoveOverlap&&Y){var K=e.ensureRecord(n);e.resolveAxisNameOverlap(r,e,n,Y,A,K)}}}};function Qk(r,t,e,n,i,a,o,c){Qz(t)||pft(r,t,i,c,n,o);var h=t.labelLayoutList;dft(r,n,h,a),yft(n,r.rotation,h);var v=r.optionHideOverlap;uft(n,h,v),v&&uz(Ye(h,function(g){return g&&!g.label.ignore})),aft(r,e,n,h)}function lft(r,t,e,n){var i=qB(e-r),a,o,c=n[0]>n[1],h=t==="start"&&!c||t!=="start"&&c;return ov(i-gl/2)?(o=h?"bottom":"top",a="center"):ov(i-gl*1.5)?(o=h?"top":"bottom",a="center"):(o="middle",i<gl*1.5&&i>gl/2?a=h?"left":"right":a=h?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function uft(r,t,e){if(Y6(r.axis))return;function n(c,h,v){var g=Go(t[h]),y=Go(t[v]);if(!(!g||!y)){if(c===!1||g.suggestIgnore){Td(g.label);return}if(y.suggestIgnore){Td(y.label);return}var m=.1;if(!e){var b=[0,0,0,0];g=RT({marginForce:b},g),y=RT({marginForce:b},y)}nb(g,y,null,{touchThreshold:m})&&Td(c?y.label:g.label)}}var i=r.get(["axisLabel","showMinLabel"]),a=r.get(["axisLabel","showMaxLabel"]),o=t.length;n(i,0,1),n(a,o-1,o-2)}function cft(r,t,e){r.showMinorTicks||j(t,function(n){if(n&&n.label.ignore)for(var i=0;i<e.length;i++){var a=e[i],o=$z(a),c=Mh(n.label);if(o.tickValue!=null&&!o.onBand&&o.tickValue===c.tickValue){Td(a);return}}})}function Td(r){r&&(r.ignore=!0)}function Jz(r,t,e,n,i){for(var a=[],o=[],c=[],h=0;h<r.length;h++){var v=r[h].coord;o[0]=v,o[1]=0,c[0]=v,c[1]=e,t&&(Br(o,o,t),Br(c,c,t));var g=new $r({shape:{x1:o[0],y1:o[1],x2:c[0],y2:c[1]},style:n,z2:2,autoBatch:!0,silent:!0});Sh(g.shape,g.style.lineWidth),g.anid=i+"_"+r[h].tickValue,a.push(g);var y=$z(g);y.onBand=!!r[h].onBand,y.tickValue=r[h].tickValue}return a}function fft(r,t,e,n){var i=n.axis,a=n.getModel("axisTick"),o=a.get("show");if(o==="auto"&&(o=!0,r.raw.axisTickAutoShow!=null&&(o=!!r.raw.axisTickAutoShow)),!o||i.scale.isBlank())return[];for(var c=a.getModel("lineStyle"),h=r.tickDirection*a.get("length"),v=i.getTicksCoords(),g=Jz(v,e.transform,h,se(c.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),y=0;y<g.length;y++)t.add(g[y]);return g}function hft(r,t,e,n,i){var a=n.axis,o=n.getModel("minorTick");if(!(!r.showMinorTicks||a.scale.isBlank())){var c=a.getMinorTicksCoords();if(c.length)for(var h=o.getModel("lineStyle"),v=i*o.get("length"),g=se(h.getLineStyle(),se(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),y=0;y<c.length;y++)for(var m=Jz(c[y],e.transform,v,g,"minorticks_"+y),b=0;b<m.length;b++)t.add(m[b])}}function tV(r,t,e){if(Qz(r)){var n=r.axisLabelsCreationContext,i=n.out.noPxChangeTryDetermine;if(e.noPxChange){for(var a=!0,o=0;o<i.length;o++)a=a&&i[o]();if(a)return!1}i.length&&(t.remove(r.labelGroup),HT(r,null,null,null))}return!0}function pft(r,t,e,n,i,a){var o=i.axis,c=On(r.raw.axisLabelShow,i.get(["axisLabel","show"])),h=new ne;e.add(h);var v=U0(n);if(!c||o.scale.isBlank()){HT(t,[],h,v);return}var g=i.getModel("axisLabel"),y=o.getViewLabels(v),m=(On(r.raw.labelRotate,g.get("rotate"))||0)*gl/180,b=hi.innerTextLayout(r.rotation,m,r.labelDirection),S=i.getCategories&&i.getCategories(!0),E=[],C=i.get("triggerEvent"),A=1/0,D=-1/0;j(y,function(R,O){var P,V=o.scale.type==="ordinal"?o.scale.getRawOrdinalNumber(R.tickValue):R.tickValue,k=R.formattedLabel,F=R.rawLabel,H=g;if(S&&S[V]){var W=S[V];le(W)&&W.textStyle&&(H=new Me(W.textStyle,g,i.ecModel))}var q=H.getTextColor()||i.get(["axisLine","lineStyle","color"]),Y=H.getShallow("align",!0)||b.textAlign,K=te(H.getShallow("alignMinLabel",!0),Y),X=te(H.getShallow("alignMaxLabel",!0),Y),J=H.getShallow("verticalAlign",!0)||H.getShallow("baseline",!0)||b.textVerticalAlign,it=te(H.getShallow("verticalAlignMinLabel",!0),J),rt=te(H.getShallow("verticalAlignMaxLabel",!0),J),st=10+(((P=R.time)===null||P===void 0?void 0:P.level)||0);A=Math.min(A,st),D=Math.max(D,st);var lt=new ke({x:0,y:0,rotation:0,silent:hi.isLabelSilent(i),z2:st,style:or(H,{text:k,align:O===0?K:O===y.length-1?X:Y,verticalAlign:O===0?it:O===y.length-1?rt:J,fill:re(q)?q(o.type==="category"?F:o.type==="value"?V+"":V,O):q})});lt.anid="label_"+V;var dt=Mh(lt);if(dt.break=R.break,dt.tickValue=V,dt.layoutRotation=b.rotation,Ms({el:lt,componentModel:i,itemName:k,formatterParamsExtra:{isTruncated:function(){return lt.isTruncated},value:F,tickIndex:O}}),C){var pt=hi.makeAxisEventDataBase(i);pt.targetType="axisLabel",pt.value=F,pt.tickIndex=O,R.break&&(pt.break={start:R.break.parsedBreak.vmin,end:R.break.parsedBreak.vmax}),o.type==="category"&&(pt.dataIndex=V),fe(lt).eventData=pt,R.break&&gft(i,a,lt,R.break)}E.push(lt),h.add(lt)});var L=Pt(E,function(R){return{label:R,priority:Mh(R).break?R.z2+(D-A+1):R.z2,defaultAttr:{ignore:R.ignore}}});HT(t,L,h,v)}function Qz(r){return!!r.labelLayoutList}function HT(r,t,e,n){r.labelLayoutList=t,r.labelGroup=e,r.axisLabelsCreationContext=n}function dft(r,t,e,n){var i=t.get(["axisLabel","margin"]);j(e,function(a,o){var c=Go(a);if(c){var h=c.label,v=Mh(h);c.suggestIgnore=h.ignore,h.ignore=!1,w0(es,vft),es.x=t.axis.dataToCoord(v.tickValue),es.y=r.labelOffset+r.labelDirection*i,es.rotation=v.layoutRotation,n.add(es),es.updateTransform(),n.remove(es),es.decomposeTransform(),w0(h,es),h.markRedraw(),$0(c,!0),Go(c)}})}var es=new xe,vft=new xe;function gD(r){return!!r}function gft(r,t,e,n){e.on("click",function(i){var a={type:ab,breaks:[{start:n.parsedBreak.breakOption.start,end:n.parsedBreak.breakOption.end}]};a[r.axis.dim+"AxisIndex"]=r.componentIndex,t.dispatchAction(a)})}function yft(r,t,e){var n=qr();if(n){var i=n.retrieveAxisBreakPairs(e,function(o){return o&&Mh(o.label).break},!0),a=r.get(["breakLabelLayout","moveOverlap"],!0);(a===!0||a==="auto")&&j(i,function(o){Zv().adjustBreakLabelPair(r.axis.inverse,t,[Go(e[o[0]]),Go(e[o[1]])])})}}function K0(r,t,e){e=e||{};var n=t.axis,i={},a=n.getAxesOnZeroOf()[0],o=n.position,c=a?"onZero":o,h=n.dim,v=[r.x,r.x+r.width,r.y,r.y+r.height],g={left:0,right:1,top:0,bottom:1,onZero:2},y=t.get("offset")||0,m=h==="x"?[v[2]-y,v[3]+y]:[v[0]-y,v[1]+y];if(a){var b=a.toGlobalCoord(a.dataToCoord(0));m[g.onZero]=Math.max(Math.min(b,m[1]),m[0])}i.position=[h==="y"?m[g[c]]:v[0],h==="x"?m[g[c]]:v[3]],i.rotation=Math.PI/2*(h==="x"?0:1);var S={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=S[o],i.labelOffset=a?m[g[o]]-m[g.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),On(e.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var E=t.get(["axisLabel","rotate"]);return i.labelRotate=c==="top"?-E:E,i.z2=1,i}function mft(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function eV(r){var t={xAxisModel:null,yAxisModel:null};return j(t,function(e,n){var i=n.replace(/Model$/,""),a=r.getReferringComponents(i,Ar).models[0];t[n]=a}),t}function _ft(r,t,e,n,i,a){for(var o=K0(r,e),c=!1,h=!1,v=0;v<t.length;v++)CT(t[v].getOtherAxis(e.axis).scale)&&(c=h=!0,e.axis.type==="category"&&e.axis.onBand&&(h=!1));return o.axisLineAutoShow=c,o.axisTickAutoShow=h,o.defaultNameMoveOverlap=a,new hi(e,n,o,i)}function bft(r,t,e){var n=K0(t,e);r.updateCfg(n)}function t8(r,t,e){var n=Es.prototype,i=n.getTicks.call(e),a=n.getTicks.call(e,{expandToNicedExtent:!0}),o=i.length-1,c=n.getInterval.call(e),h=j6(r,t),v=h.extent,g=h.fixMin,y=h.fixMax;r.type==="log"&&(v=AT(r.base,v,!0)),r.setBreaksFromOption($6(t)),r.setExtent(v[0],v[1]),r.calcNiceExtent({splitNumber:o,fixMin:g,fixMax:y});var m=n.getExtent.call(r);g&&(v[0]=m[0]),y&&(v[1]=m[1]);var b=n.getInterval.call(r),S=v[0],E=v[1];if(g&&y)b=(E-S)/o;else if(g)for(E=v[0]+b*o;E<v[1]&&isFinite(E)&&isFinite(v[1]);)b=kw(b),E=v[0]+b*o;else if(y)for(S=v[1]-b*o;S>v[0]&&isFinite(S)&&isFinite(v[0]);)b=kw(b),S=v[1]-b*o;else{var C=r.getTicks().length-1;C>o&&(b=kw(b));var A=b*o;E=Math.ceil(v[1]/b)*b,S=Yr(E-A),S<0&&v[0]>=0?(S=0,E=Yr(A)):E>0&&v[1]<=0&&(E=0,S=-Yr(A))}var D=(i[0].value-a[0].value)/c,L=(i[o].value-a[o].value)/c;n.setExtent.call(r,S+b*D,E+b*L),n.setInterval.call(r,b),(D||L)&&n.setNiceExtent.call(r,S+b,E-b)}var rV=[[3,1],[0,2]],Sft=(function(){function r(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=BT,this._initCartesian(t,e,n),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model);function i(o){var c,h=Le(o),v=h.length;if(v){for(var g=[],y=v-1;y>=0;y--){var m=+h[y],b=o[m],S=b.model,E=b.scale;CT(E)&&S.get("alignTicks")&&S.get("interval")==null?g.push(b):(Th(E,S),CT(E)&&(c=b))}g.length&&(c||(c=g.pop(),Th(c.scale,c.model)),j(g,function(C){t8(C.scale,C.model,c.scale)}))}}i(n.x),i(n.y);var a={};j(n.x,function(o){nV(n,"y",o,a)}),j(n.y,function(o){nV(n,"x",o,a)}),this.resize(this.model,e)},r.prototype.resize=function(t,e,n){var i=sn(t,e),a=this._rect=mr(t.getBoxLayoutParams(),i.refContainer),o=this._axesMap,c=this._coordsList,h=t.get("containLabel");if(zT(o,a),!n){var v=Eft(a,c,o,h,e),g=void 0;if(h)UT?(UT(this._axesList,a),zT(o,a)):g=oV(a.clone(),"axisLabel",null,a,o,v,i);else{var y=Tft(t,a,i),m=y.outerBoundsRect,b=y.parsedOuterBoundsContain,S=y.outerBoundsClamp;m&&(g=oV(m,b,S,a,o,v,i))}e8(a,o,Fa.determine,null,g,i)}j(this._coordsList,function(E){E.calcAffineTransform()})},r.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(n!=null)return n[e||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var n="x"+t+"y"+e;return this._coordsMap[n]}le(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e)return a[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},r.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},r.prototype._findConvertTarget=function(t){var e=t.seriesModel,n=t.xAxisModel||e&&e.getReferringComponents("xAxis",Ar).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",Ar).models[0],a=t.gridModel,o=this._coordsList,c,h;if(e)c=e.coordinateSystem,ge(o,c)<0&&(c=null);else if(n&&i)c=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)h=this.getAxis("x",n.componentIndex);else if(i)h=this.getAxis("y",i.componentIndex);else if(a){var v=a.coordinateSystem;v===this&&(c=this._coordsList[0])}return{cartesian:c,axis:h}},r.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},r.prototype._initCartesian=function(t,e,n){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},c={x:{},y:{}},h={x:0,y:0};if(e.eachComponent("xAxis",v("x"),this),e.eachComponent("yAxis",v("y"),this),!h.x||!h.y){this._axesMap={},this._axesList=[];return}this._axesMap=c,j(c.x,function(g,y){j(c.y,function(m,b){var S="x"+y+"y"+b,E=new Jct(S);E.master=i,E.model=t,i._coordsMap[S]=E,i._coordsList.push(E),E.addAxis(g),E.addAxis(m)})});function v(g){return function(y,m){if(Jw(y,t)){var b=y.get("position");g==="x"?b!=="top"&&b!=="bottom"&&(b=o.bottom?"top":"bottom"):b!=="left"&&b!=="right"&&(b=o.left?"right":"left"),o[b]=!0;var S=new Wz(g,rb(y),[0,0],y.get("type"),b),E=S.type==="category";S.onBand=E&&y.get("boundaryGap"),S.inverse=y.get("inverse"),y.axis=S,S.model=y,S.grid=a,S.index=m,a._axesList.push(S),c[g][m]=S,h[g]++}}}},r.prototype._updateScale=function(t,e){j(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(mft(i)){var a=eV(i),o=a.xAxisModel,c=a.yAxisModel;if(!Jw(o,e)||!Jw(c,e))return;var h=this.getCartesian(o.componentIndex,c.componentIndex),v=i.getData(),g=h.getAxis("x"),y=h.getAxis("y");n(v,g),n(v,y)}},this);function n(i,a){j(z0(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},r.prototype.getTooltipAxes=function(t){var e=[],n=[];return j(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(a);ge(e,a)<0&&e.push(a),ge(n,o)<0&&n.push(o)}),{baseAxes:e,otherAxes:n}},r.create=function(t,e){var n=[];return t.eachComponent("grid",function(i,a){var o=new r(i,t,e);o.name="grid_"+a,o.resize(i,e,!0),i.coordinateSystem=o,n.push(o)}),t.eachSeries(function(i){zv({targetModel:i,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var o=eV(i),c=o.xAxisModel,h=o.yAxisModel,v=c.getCoordSysModel(),g=v.coordinateSystem;return g.getCartesian(c.componentIndex,h.componentIndex)}}),n},r.dimensions=BT,r})();function Jw(r,t){return r.getCoordSysModel()===t}function nV(r,t,e,n){e.getAxesOnZeroOf=function(){return a?[a]:[]};var i=r[t],a,o=e.model,c=o.get(["axisLine","onZero"]),h=o.get(["axisLine","onZeroAxisIndex"]);if(!c)return;if(h!=null)iV(i[h])&&(a=i[h]);else for(var v in i)if(i.hasOwnProperty(v)&&iV(i[v])&&!n[g(i[v])]){a=i[v];break}a&&(n[g(a)]=!0);function g(y){return y.dim+"_"+y.index}}function iV(r){return r&&r.type!=="category"&&r.type!=="time"&&Alt(r)}function wft(r,t){var e=r.getExtent(),n=e[0]+e[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+t}:function(i){return n-i+t},r.toLocalCoord=r.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}function zT(r,t){j(r.x,function(e){return aV(e,t.x,t.width)}),j(r.y,function(e){return aV(e,t.y,t.height)})}function aV(r,t,e){var n=[0,e],i=r.inverse?1:0;r.setExtent(n[i],n[1-i]),wft(r,t)}var UT;function xft(r){UT=r}function oV(r,t,e,n,i,a,o){e8(n,i,Fa.estimate,t,!1,o);var c=[0,0,0,0];v(0),v(1),g(n,0,NaN),g(n,1,NaN);var h=Lc(c,function(m){return m>0})==null;return Ec(n,c,!0,!0,e),zT(i,n),h;function v(m){j(i[de[m]],function(b){if(_v(b.model)){var S=a.ensureRecord(b.model),E=S.labelInfoList;if(E)for(var C=0;C<E.length;C++){var A=E[C],D=b.scale.normalize(Mh(A.label).tickValue);D=m===1?1-D:D,g(A.rect,m,D),g(A.rect,1-m,NaN)}var L=S.nameLayout;if(L){var D=Ch(S.nameLocation)?.5:NaN;g(L.rect,m,D),g(L.rect,1-m,NaN)}}})}function g(m,b,S){var E=r[de[b]]-m[de[b]],C=m[Xr[b]]+m[de[b]]-(r[Xr[b]]+r[de[b]]);E=y(E,1-S),C=y(C,S);var A=rV[b][0],D=rV[b][1];c[A]=Gr(c[A],E),c[D]=Gr(c[D],C)}function y(m,b){return m>0&&!Yn(b)&&b>1e-4&&(m/=b),m}}function Eft(r,t,e,n,i){var a=new qz(Cft);return j(e,function(o){return j(o,function(c){if(_v(c.model)){var h=!n;c.axisBuilder=_ft(r,t,c.model,i,a,h)}})}),a}function e8(r,t,e,n,i,a){var o=e===Fa.determine;j(t,function(v){return j(v,function(g){_v(g.model)&&(bft(g.axisBuilder,r,g.model),g.axisBuilder.build(o?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:i}))})});var c={x:0,y:0};h(0),h(1);function h(v){c[de[1-v]]=r[Xr[v]]<=a.refContainer[Xr[v]]*.5?0:1-v===1?2:1}j(t,function(v,g){return j(v,function(y){_v(y.model)&&((n==="all"||o)&&y.axisBuilder.build({axisName:!0},{nameMarginLevel:c[g]}),o&&y.axisBuilder.build({axisLine:!0}))})})}function Tft(r,t,e){var n,i=r.get("outerBoundsMode",!0);i==="same"?n=t.clone():(i==null||i==="auto")&&(n=mr(r.get("outerBounds",!0)||Hz,e.refContainer));var a=r.get("outerBoundsContain",!0),o;a==null||a==="auto"||ge(["all","axisLabel"],a)<0?o="all":o=a;var c=[E0(te(r.get("outerBoundsClampWidth",!0),Z0[0]),t.width),E0(te(r.get("outerBoundsClampHeight",!0),Z0[1]),t.height)];return{outerBoundsRect:n,parsedOuterBoundsContain:o,outerBoundsClamp:c}}var Cft=function(r,t,e,n,i,a){var o=e.axis.dim==="x"?"y":"x";Xz(r,t,e,n,i,a),Ch(r.nameLocation)||j(t.recordMap[o],function(c){c&&c.labelInfoList&&c.dirVec&&Kz(c.labelInfoList,c.dirVec,n,i)})};function Aft(r,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Dft(e,r,t),e.seriesInvolved&&Lft(e,r),e}function Dft(r,t,e){var n=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];j(e.getCoordinateSystems(),function(c){if(!c.axisPointerEnabled)return;var h=xv(c.model),v=r.coordSysAxesInfo[h]={};r.coordSysMap[h]=c;var g=c.model,y=g.getModel("tooltip",n);if(j(c.getAxes(),ve(E,!1,null)),c.getTooltipAxes&&n&&y.get("show")){var m=y.get("trigger")==="axis",b=y.get(["axisPointer","type"])==="cross",S=c.getTooltipAxes(y.get(["axisPointer","axis"]));(m||b)&&j(S.baseAxes,ve(E,b?"cross":!0,m)),b&&j(S.otherAxes,ve(E,"cross",!1))}function E(C,A,D){var L=D.model.getModel("axisPointer",i),R=L.get("show");if(!(!R||R==="auto"&&!C&&!WT(L))){A==null&&(A=L.get("triggerTooltip")),L=C?Mft(D,y,i,t,C,A):L;var O=L.get("snap"),P=L.get("triggerEmphasis"),V=xv(D.model),k=A||O||D.type==="category",F=r.axesInfo[V]={key:V,axis:D,coordSys:c,axisPointerModel:L,triggerTooltip:A,triggerEmphasis:P,involveSeries:k,snap:O,useHandle:WT(L),seriesModels:[],linkGroup:null};v[V]=F,r.seriesInvolved=r.seriesInvolved||k;var H=Nft(a,D);if(H!=null){var W=o[H]||(o[H]={axesInfo:{}});W.axesInfo[V]=F,W.mapper=a[H].mapper,F.linkGroup=W}}}})}function Mft(r,t,e,n,i,a){var o=t.getModel("axisPointer"),c=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],h={};j(c,function(m){h[m]=ie(o.get(m))}),h.snap=r.type!=="category"&&!!a,o.get("type")==="cross"&&(h.type="line");var v=h.label||(h.label={});if(v.show==null&&(v.show=!1),i==="cross"){var g=o.get(["label","show"]);if(v.show=g??!0,!a){var y=h.lineStyle=o.get("crossStyle");y&&se(v,y.textStyle)}}return r.model.getModel("axisPointer",new Me(h,e,n))}function Lft(r,t){t.eachSeries(function(e){var n=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),a=e.get(["tooltip","show"],!0);!n||!n.model||i==="none"||i===!1||i==="item"||a===!1||e.get(["axisPointer","show"],!0)===!1||j(r.coordSysAxesInfo[xv(n.model)],function(o){var c=o.axis;n.getAxis(c.dim)===c&&(o.seriesModels.push(e),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=e.getData().count())})})}function Nft(r,t){for(var e=t.model,n=t.dim,i=0;i<r.length;i++){var a=r[i]||{};if(Qw(a[n+"AxisId"],e.id)||Qw(a[n+"AxisIndex"],e.componentIndex)||Qw(a[n+"AxisName"],e.name))return i}}function Qw(r,t){return r==="all"||Rt(r)&&ge(r,t)>=0||r===t}function Rft(r){var t=yD(r);if(t){var e=t.axisPointerModel,n=t.axis.scale,i=e.option,a=e.get("status"),o=e.get("value");o!=null&&(o=n.parse(o));var c=WT(e);a==null&&(i.status=c?"show":"hide");var h=n.getExtent().slice();h[0]>h[1]&&h.reverse(),(o==null||o>h[1])&&(o=h[1]),o<h[0]&&(o=h[0]),i.value=o,c&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function yD(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[xv(r)]}function Ift(r){var t=yD(r);return t&&t.axisPointerModel}function WT(r){return!!r.get(["handle","show"])}function xv(r){return r.type+"||"+r.id}var sV={},Gc=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this.axisPointerClass&&Rft(e),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,n,i,a){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,n){var i=this._axisPointer;i&&i.remove(n)},t.prototype.dispose=function(e,n){this._disposeAxisPointer(n),r.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,i){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var o=Ift(e);o?(this._axisPointer||(this._axisPointer=new a)).render(e,o,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,n){sV[e]=n},t.getAxisPointerClass=function(e){return e&&sV[e]},t.type="axis",t})(vr),jT=Ee();function r8(r,t,e,n){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitArea"),o=a.getModel("areaStyle"),c=o.get("color"),h=n.coordinateSystem.getRect(),v=i.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(v.length){var g=c.length,y=jT(r).splitAreaColors,m=Qt(),b=0;if(y)for(var S=0;S<v.length;S++){var E=y.get(v[S].tickValue);if(E!=null){b=(E+(g-1)*S)%g;break}}var C=i.toGlobalCoord(v[0].coord),A=o.getAreaStyle();c=Rt(c)?c:[c];for(var S=1;S<v.length;S++){var D=i.toGlobalCoord(v[S].coord),L=void 0,R=void 0,O=void 0,P=void 0;i.isHorizontal()?(L=C,R=h.y,O=D-L,P=h.height,C=L+O):(L=h.x,R=C,O=h.width,P=D-R,C=R+P);var V=v[S-1].tickValue;V!=null&&m.set(V,b),t.add(new xe({anid:V!=null?"area_"+V:null,shape:{x:L,y:R,width:O,height:P},style:se({fill:c[b]},A),autoBatch:!0,silent:!0})),b=(b+1)%g}jT(r).splitAreaColors=m}}}function n8(r){jT(r).splitAreaColors=null}var Oft=["splitArea","splitLine","minorSplitLine","breakArea"],i8=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,n,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ne,this.group.add(this._axisGroup),!!_v(e)){this._axisGroup.add(e.axis.axisBuilder.group),j(Oft,function(h){e.get([h,"show"])&&Pft[h](this,this._axisGroup,e,e.getCoordSysModel(),i)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||Gv(o,this._axisGroup,e),r.prototype.render.call(this,e,n,i,a)}},t.prototype.remove=function(){n8(this)},t.type="cartesianAxis",t})(Gc),Pft={splitLine:function(r,t,e,n,i){var a=e.axis;if(!a.scale.isBlank()){var o=e.getModel("splitLine"),c=o.getModel("lineStyle"),h=c.get("color"),v=o.get("showMinLine")!==!1,g=o.get("showMaxLine")!==!1;h=Rt(h)?h:[h];for(var y=n.coordinateSystem.getRect(),m=a.isHorizontal(),b=0,S=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),E=[],C=[],A=c.getLineStyle(),D=0;D<S.length;D++){var L=a.toGlobalCoord(S[D].coord);if(!(D===0&&!v||D===S.length-1&&!g)){var R=S[D].tickValue;m?(E[0]=L,E[1]=y.y,C[0]=L,C[1]=y.y+y.height):(E[0]=y.x,E[1]=L,C[0]=y.x+y.width,C[1]=L);var O=b++%h.length,P=new $r({anid:R!=null?"line_"+R:null,autoBatch:!0,shape:{x1:E[0],y1:E[1],x2:C[0],y2:C[1]},style:se({stroke:h[O]},A),silent:!0});Sh(P.shape,A.lineWidth),t.add(P)}}}},minorSplitLine:function(r,t,e,n,i){var a=e.axis,o=e.getModel("minorSplitLine"),c=o.getModel("lineStyle"),h=n.coordinateSystem.getRect(),v=a.isHorizontal(),g=a.getMinorTicksCoords();if(g.length)for(var y=[],m=[],b=c.getLineStyle(),S=0;S<g.length;S++)for(var E=0;E<g[S].length;E++){var C=a.toGlobalCoord(g[S][E].coord);v?(y[0]=C,y[1]=h.y,m[0]=C,m[1]=h.y+h.height):(y[0]=h.x,y[1]=C,m[0]=h.x+h.width,m[1]=C);var A=new $r({anid:"minor_line_"+g[S][E].tickValue,autoBatch:!0,shape:{x1:y[0],y1:y[1],x2:m[0],y2:m[1]},style:b,silent:!0});Sh(A.shape,b.lineWidth),t.add(A)}},splitArea:function(r,t,e,n,i){r8(r,t,e,n)},breakArea:function(r,t,e,n,i){var a=Zv(),o=e.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(t,r,e,n.coordinateSystem.getRect(),i)}},a8=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t})(i8),kft=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=a8.type,e}return t.type="yAxis",t})(i8),Vft=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,n){this.group.removeAll(),e.get("show")&&this.group.add(new xe({shape:e.coordinateSystem.getRect(),style:se({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t})(vr),lV={offset:0};function o8(r){r.registerComponentView(Vft),r.registerComponentModel(jct),r.registerCoordinateSystem("cartesian2d",Sft),Dh(r,"x",GT,lV),Dh(r,"y",GT,lV),r.registerComponentView(a8),r.registerComponentView(kft),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function Gft(r,t){var e=r.coordinateSystem,n=e&&e.type,i=e&&e.getBaseAxis&&e.getBaseAxis(),a=i&&i.scale&&i.scale.type,o=n==="cartesian2d"&&a==="ordinal"||n==="single",c=t.model.get("jitter")>0;return o&&c}var Fft=Ee();function uV(r,t,e,n){if(r instanceof Wz){var i=r.scale.type;if(i!=="category"&&i!=="ordinal")return e}var a=r.model,o=a.get("jitter"),c=a.get("jitterOverlap"),h=a.get("jitterMargin")||0,v=r.scale.type==="ordinal"?r.getBandWidth():null;return o>0?c?s8(e,o,v,n):Bft(r,t,e,n,o,h):e}function s8(r,t,e,n){if(e===null)return r+(Math.random()-.5)*t;var i=e-n*2,a=Math.min(Math.max(0,t),i);return r+(Math.random()-.5)*a}function Bft(r,t,e,n,i,a){var o=Fft(r);o.items||(o.items=[]);var c=o.items,h=cV(c,t,e,n,i,a,1),v=cV(c,t,e,n,i,a,-1),g=Math.abs(h-e)<Math.abs(v-e)?h:v,y=r.scale.type==="ordinal"?r.getBandWidth():null,m=Math.abs(g-e);return m>i/2||y&&m>y/2-n?s8(e,i,y,n):(c.push({fixedCoord:t,floatCoord:g,r:n}),g)}function cV(r,t,e,n,i,a,o){for(var c=e,h=0;h<r.length;h++){var v=r[h],g=t-v.fixedCoord,y=c-v.floatCoord,m=g*g+y*y,b=n+v.r+a;if(m<b*b){var S=v.floatCoord+Math.sqrt(b*b-g*g)*o;if(Math.abs(S-e)>i/2)return Number.MAX_VALUE;if(o===1&&S>c||o===-1&&S<c){c=S,h=-1;continue}}}return c}function Hft(r){r.eachSeriesByType("scatter",function(t){var e=t.coordinateSystem;if(e&&(e.type==="cartesian2d"||e.type==="single")){var n=e.getBaseAxis?e.getBaseAxis():null,i=n&&Gft(t,n);if(i){var a=t.getData();a.each(function(o){var c=n.dim,h=n.orient,v=h==="horizontal"&&n.type!=="category"||h==="vertical"&&n.type==="category",g=a.getItemLayout(o),y=a.getItemVisual(o,"symbolSize"),m=y instanceof Array?(y[1]+y[0])/2:y;if(c==="y"||c==="single"&&v){var b=uV(n,g[0],g[1],m/2);a.setItemLayout(o,[g[0],b])}else if(c==="x"||c==="single"&&!v){var b=uV(n,g[1],g[0],m/2);a.setItemLayout(o,[b,g[1]])}})}}})}function zft(r){be(o8),r.registerSeriesModel(Bct),r.registerChartView(Wct),r.registerLayout(Xv("scatter"))}function Uft(r){r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,Hft)}function Wft(r){r.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){var a=i.getIndicatorAxes();j(a,function(o,c){e.each(e.mapDimension(a[c].dim),function(h,v){n[v]=n[v]||[];var g=i.dataToPoint(h,c);n[v][c]=fV(g)?g:hV(i)})}),e.each(function(o){var c=Lc(n[o],function(h){return fV(h)})||hV(i);n[o].push(c.slice()),e.setItemLayout(o,n[o])})}})}function fV(r){return!isNaN(r[0])&&!isNaN(r[1])}function hV(r){return[r.cx,r.cy]}function jft(r){var t=r.polar;if(t){Rt(t)||(t=[t]);var e=[];j(t,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],Rt(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):e.push(n)}),r.polar=e}j(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var Yft=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.coordinateSystem,o=this.group,c=e.getData(),h=this._data;function v(m,b){var S=m.getItemVisual(b,"symbol")||"circle";if(S!=="none"){var E=Wh(m.getItemVisual(b,"symbolSize")),C=Kr(S,-1,-1,2,2),A=m.getItemVisual(b,"symbolRotate")||0;return C.attr({style:{strokeNoScale:!0},z2:100,scaleX:E[0]/2,scaleY:E[1]/2,rotation:A*Math.PI/180||0}),C}}function g(m,b,S,E,C,A){S.removeAll();for(var D=0;D<b.length-1;D++){var L=v(E,C);L&&(L.__dimIdx=D,m[D]?(L.setPosition(m[D]),Ic[A?"initProps":"updateProps"](L,{x:b[D][0],y:b[D][1]},e,C)):L.setPosition(b[D]),S.add(L))}}function y(m){return Pt(m,function(b){return[a.cx,a.cy]})}c.diff(h).add(function(m){var b=c.getItemLayout(m);if(b){var S=new Zn,E=new Pn,C={shape:{points:b}};S.shape.points=y(b),E.shape.points=y(b),pr(S,C,e,m),pr(E,C,e,m);var A=new ne,D=new ne;A.add(E),A.add(S),A.add(D),g(E.shape.points,b,D,c,m,!0),c.setItemGraphicEl(m,A)}}).update(function(m,b){var S=h.getItemGraphicEl(b),E=S.childAt(0),C=S.childAt(1),A=S.childAt(2),D={shape:{points:c.getItemLayout(m)}};D.shape.points&&(g(E.shape.points,D.shape.points,A,c,m,!1),pa(C),pa(E),Ve(E,D,e),Ve(C,D,e),c.setItemGraphicEl(m,S))}).remove(function(m){o.remove(h.getItemGraphicEl(m))}).execute(),c.eachItemGraphicEl(function(m,b){var S=c.getItemModel(b),E=m.childAt(0),C=m.childAt(1),A=m.childAt(2),D=c.getItemVisual(b,"style"),L=D.fill;o.add(m),E.useStyle(se(S.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:L})),an(E,S,"lineStyle"),an(C,S,"areaStyle");var R=S.getModel("areaStyle"),O=R.isEmpty()&&R.parentModel.isEmpty();C.ignore=O,j(["emphasis","select","blur"],function(V){var k=S.getModel([V,"areaStyle"]),F=k.isEmpty()&&k.parentModel.isEmpty();C.ensureState(V).ignore=F&&O;var H=S.getModel([V,"lineStyle"]).getLineStyle();E.ensureState(V).style=H;var W=k.getAreaStyle();C.ensureState(V).style=W;var q=S.getModel([V,"itemStyle"]).getItemStyle();A.eachChild(function(Y){Y.ensureState(V).style=ie(q)})}),C.useStyle(se(S.getModel("areaStyle").getAreaStyle(),{fill:L,opacity:.7,decal:D.decal}));var P=S.getModel("emphasis");A.eachChild(function(V){if(V instanceof En){var k=V.style;V.useStyle(Mt({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},D))}else V.useStyle(D),V.setColor(L),V.style.strokeNoScale=!0;var F=c.getStore().get(c.getDimensionIndex(V.__dimIdx),b);(F==null||isNaN(F))&&(F=""),dn(V,on(S),{labelFetcher:c.hostModel,labelDataIndex:b,labelDimIndex:V.__dimIdx,defaultText:F,inheritColor:L,defaultOpacity:D.opacity})}),yr(m,P.get("focus"),P.get("blurScope"),P.get("disabled"))}),this._data=c},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t})(Je),$ft=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new qh(qt(this.getData,this),qt(this.getRawData,this))},t.prototype.getInitialData=function(e,n){return $h(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=this.coordinateSystem,c=o.getIndicatorAxes(),h=this.getData().getName(e),v=h===""?this.name:h,g=j4(this,e);return Zr("section",{header:v,sortBlocks:!0,blocks:Pt(c,function(y){var m=a.get(a.mapDimension(y.dim),e);return Zr("nameValue",{markerType:"subItem",markerColor:g,name:y.name,value:m,sortParam:m})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var n=this.getData(),i=this.coordinateSystem,a=n.getValues(Pt(i.dimensions,function(v){return n.mapDimension(v)}),e),o=0,c=a.length;o<c;o++)if(!isNaN(a[o])){var h=i.getIndicatorAxes();return i.coordToPoint(h[o].dataToCoord(a[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t})(sr),ed=Uz.value;function hm(r,t){return se({show:t},r)}var qft=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),c=this.get("axisLabel"),h=this.get("axisName"),v=this.get(["axisName","show"]),g=this.get(["axisName","formatter"]),y=this.get("axisNameGap"),m=this.get("triggerEvent"),b=Pt(this.get("indicator")||[],function(S){S.max!=null&&S.max>0&&!S.min?S.min=0:S.min!=null&&S.min<0&&!S.max&&(S.max=0);var E=h;S.color!=null&&(E=se({color:S.color},h));var C=ye(ie(S),{boundaryGap:e,splitNumber:n,scale:i,axisLine:a,axisTick:o,axisLabel:c,name:S.text,showName:v,nameLocation:"end",nameGap:y,nameTextStyle:E,triggerEvent:m},!1);if($t(g)){var A=C.name;C.name=g.replace("{value}",A??"")}else re(g)&&(C.name=g(C.name,C));var D=new Me(C,null,this.ecModel);return Jr(D,jv.prototype),D.mainType="radar",D.componentIndex=this.componentIndex,D},this);this._indicatorModels=b},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:yt.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:ye({lineStyle:{color:yt.color.neutral20}},ed.axisLine),axisLabel:hm(ed.axisLabel,!1),axisTick:hm(ed.axisTick,!1),splitLine:hm(ed.splitLine,!0),splitArea:hm(ed.splitArea,!0),indicator:[]},t})(Ce),Xft=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group;a.removeAll(),this._buildAxes(e,i),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e,n){var i=e.coordinateSystem,a=i.getIndicatorAxes(),o=Pt(a,function(c){var h=c.model.get("showName")?c.name:"",v=new hi(c.model,n,{axisName:h,position:[i.cx,i.cy],rotation:c.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return v});j(o,function(c){c.build(),this.group.add(c.group)},this)},t.prototype._buildSplitLineAndArea=function(e){var n=e.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var a=e.get("shape"),o=e.getModel("splitLine"),c=e.getModel("splitArea"),h=o.getModel("lineStyle"),v=c.getModel("areaStyle"),g=o.get("show"),y=c.get("show"),m=h.get("color"),b=v.get("color"),S=Rt(m)?m:[m],E=Rt(b)?b:[b],C=[],A=[];function D(X,J,it){var rt=it%J.length;return X[rt]=X[rt]||[],rt}if(a==="circle")for(var L=i[0].getTicksCoords(),R=n.cx,O=n.cy,P=0;P<L.length;P++){if(g){var V=D(C,S,P);C[V].push(new Ds({shape:{cx:R,cy:O,r:L[P].coord}}))}if(y&&P<L.length-1){var V=D(A,E,P);A[V].push(new kv({shape:{cx:R,cy:O,r0:L[P].coord,r:L[P+1].coord}}))}}else for(var k,F=Pt(i,function(X,J){var it=X.getTicksCoords();return k=k==null?it.length-1:Math.min(it.length-1,k),Pt(it,function(rt){return n.coordToPoint(rt.coord,J)})}),H=[],P=0;P<=k;P++){for(var W=[],q=0;q<i.length;q++)W.push(F[q][P]);if(W[0]&&W.push(W[0].slice()),g){var V=D(C,S,P);C[V].push(new Pn({shape:{points:W}}))}if(y&&H){var V=D(A,E,P-1);A[V].push(new Zn({shape:{points:W.concat(H)}}))}H=W.slice().reverse()}var Y=h.getLineStyle(),K=v.getAreaStyle();j(A,function(X,J){this.group.add(sa(X,{style:se({stroke:"none",fill:E[J%E.length]},K),silent:!0}))},this),j(C,function(X,J){this.group.add(sa(X,{style:se({fill:"none",stroke:S[J%S.length]},Y),silent:!0}))},this)},t.type="radar",t})(vr),Zft=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return a.type="value",a.angle=0,a.name="",a}return t})(za),Kft=(function(){function r(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=Pt(t.getIndicatorModels(),function(i,a){var o="indicator_"+a,c=new Zft(o,new Es);return c.name=i.get("name"),c.model=i,i.axis=c,this.dimensions.push(o),c},this),this.resize(t,n)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},r.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e],i=n.angle,a=this.cx+t*Math.cos(i),o=this.cy-t*Math.sin(i);return[a,o]},r.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var a=Math.atan2(-n,e),o=1/0,c,h=-1,v=0;v<this._indicatorAxes.length;v++){var g=this._indicatorAxes[v],y=Math.abs(a-g.angle);y<o&&(c=g,h=v,o=y)}return[h,+(c&&c.coordToData(i))]},r.prototype.resize=function(t,e){var n=sn(t,e).refContainer,i=t.get("center"),a=Math.min(n.width,n.height)/2;this.cx=Yt(i[0],n.width)+n.x,this.cy=Yt(i[1],n.height)+n.y,this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");($t(o)||Ie(o))&&(o=[0,o]),this.r0=Yt(o[0],a),this.r=Yt(o[1],a),j(this._indicatorAxes,function(c,h){c.setExtent(this.r0,this.r);var v=this.startAngle+h*Math.PI*2/this._indicatorAxes.length;v=Math.atan2(Math.sin(v),Math.cos(v)),c.angle=v},this)},r.prototype.update=function(t,e){var n=this._indicatorAxes,i=this._model;j(n,function(c){c.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(c,h){if(!(c.get("coordinateSystem")!=="radar"||t.getComponent("radar",c.get("radarIndex"))!==i)){var v=c.getData();j(n,function(g){g.scale.unionExtentFromData(v,v.mapDimension(g.dim))})}},this);var a=i.get("splitNumber"),o=new Es;o.setExtent(0,a),o.setInterval(1),j(n,function(c,h){t8(c.scale,c.model,o)})},r.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.create=function(t,e){var n=[];return t.eachComponent("radar",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},r.dimensions=[],r})();function Jft(r){r.registerCoordinateSystem("radar",Kft),r.registerComponentModel(qft),r.registerComponentView(Xft),r.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(n){e.setItemVisual(n,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}function Qft(r){be(Jft),r.registerChartView(Yft),r.registerSeriesModel($ft),r.registerLayout(Wft),r.registerProcessor(Yh("radar")),r.registerPreprocessor(jft)}var mD=Ee();function tht(r,t,e){mD(r)[t]=e}function eht(r,t,e){var n=mD(r),i=n[t];i===e&&(n[t]=null)}function pV(r,t){return!!mD(r)[t]}Bo({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Fr);var rht={axisPointer:1,tooltip:1,brush:1};function l8(r,t,e){var n=t.getComponentByElement(r.topTarget);if(!n||n===e||rht.hasOwnProperty(n.mainType))return!1;var i=n.coordinateSystem;if(!i||i.model===e)return!1;var a=Tc(n),o=Tc(e);return!((a.zlevel-o.zlevel||a.z-o.z)<=0)}var Fc=(function(r){bt(t,r);function t(e){var n=r.call(this)||this;n._zr=e;var i=qt(n._mousedownHandler,n),a=qt(n._mousemoveHandler,n),o=qt(n._mouseupHandler,n),c=qt(n._mousewheelHandler,n),h=qt(n._pinchHandler,n);return n.enable=function(v,g){var y=g.zInfo,m=Tc(y.component),b=m.z,S=m.zlevel,E={component:y.component,z:b,zlevel:S,z2:te(y.z2,-1/0)},C=Mt({},g.triggerInfo);this._opt=se(Mt({},g),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:E,triggerInfo:C}),v==null&&(v=!0),(!this._enabled||this._controlType!==v)&&(this._enabled=!0,this.disable(),(v===!0||v==="move"||v==="pan")&&(nd(e,"mousedown",i,E),nd(e,"mousemove",a,E),nd(e,"mouseup",o,E)),(v===!0||v==="scale"||v==="zoom")&&(nd(e,"mousewheel",c,E),nd(e,"pinch",h,E)))},n.disable=function(){this._enabled=!1,id(e,"mousedown",i),id(e,"mousemove",a),id(e,"mouseup",o),id(e,"mousewheel",c),id(e,"pinch",h)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype._checkPointer=function(e,n,i){var a=this._opt,o=a.zInfoParsed;if(l8(e,a.api,o.component))return!1;var c=a.triggerInfo,h=c.roamTrigger,v=!1;return h==="global"&&(v=!0),v||(v=c.isInSelf(e,n,i)),v&&c.isInClip&&!c.isInClip(e,n,i)&&(v=!1),v},t.prototype._decideCursorStyle=function(e,n,i,a){var o=e.target;if(!o&&this._checkPointer(e,n,i))return"grab";if(a)return o&&o.cursor||"default"},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(L2(e)||rd(e))){for(var n=e.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=e.offsetX,a=e.offsetY;this._checkPointer(e,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){var n=this._zr;if(!(e.gestureEvent==="pinch"||pV(n,"globalPan")||rd(e))){var i=e.offsetX,a=e.offsetY;if(!this._dragging||!t0("moveOnMouseMove",e,this._opt)){var o=this._decideCursorStyle(e,i,a,!1);o&&n.setCursorStyle(o);return}n.setCursorStyle("grabbing");var c=this._x,h=this._y,v=i-c,g=a-h;this._x=i,this._y=a,this._opt.preventDefaultMouseMove&&_s(e.event),e.__ecRoamConsumed=!0,dV(this,"pan","moveOnMouseMove",e,{dx:v,dy:g,oldX:c,oldY:h,newX:i,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){if(!rd(e)){var n=this._zr;if(!L2(e)){this._dragging=!1;var i=this._decideCursorStyle(e,e.offsetX,e.offsetY,!0);i&&n.setCursorStyle(i)}}},t.prototype._mousewheelHandler=function(e){if(!rd(e)){var n=t0("zoomOnMouseWheel",e,this._opt),i=t0("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,o=Math.abs(a),c=e.offsetX,h=e.offsetY;if(!(a===0||!n&&!i)){if(n){var v=o>3?1.4:o>1?1.2:1.1,g=a>0?v:1/v;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",e,{scale:g,originX:c,originY:h,isAvailableBehavior:null})}if(i){var y=Math.abs(a),m=(a>0?1:-1)*(y>3?.4:y>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:m,originX:c,originY:h,isAvailableBehavior:null})}}}},t.prototype._pinchHandler=function(e){if(!(pV(this._zr,"globalPan")||rd(e))){var n=e.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,e,{scale:n,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t.prototype._checkTriggerMoveZoom=function(e,n,i,a,o){e._checkPointer(a,o.originX,o.originY)&&(_s(a.event),a.__ecRoamConsumed=!0,dV(e,n,i,a,o))},t})(da);function rd(r){return r.__ecRoamConsumed}var nht=Ee();function ob(r){var t=nht(r);return t.roam=t.roam||{},t.uniform=t.uniform||{},t}function nd(r,t,e,n){for(var i=ob(r),a=i.roam,o=a[t]=a[t]||[],c=0;c<o.length;c++){var h=o[c].zInfoParsed;if((h.zlevel-n.zlevel||h.z-n.z||h.z2-n.z2)<=0)break}o.splice(c,0,{listener:e,zInfoParsed:n}),iht(r,t)}function id(r,t,e){for(var n=ob(r),i=n.roam[t]||[],a=0;a<i.length;a++)if(i[a].listener===e){i.splice(a,1),i.length||aht(r,t);return}}function iht(r,t){var e=ob(r);e.uniform[t]||r.on(t,e.uniform[t]=function(n){var i=e.roam[t];if(i)for(var a=0;a<i.length;a++)i[a].listener(n)})}function aht(r,t){var e=ob(r),n=e.uniform;n[t]&&(r.off(t,n[t]),n[t]=null)}function dV(r,t,e,n,i){i.isAvailableBehavior=qt(t0,null,e,n),r.trigger(t,i)}function t0(r,t,e){var n=e[r];return!r||n&&(!$t(n)||t.event[n+"Key"])}function _D(r,t,e){var n=r.target;n.x+=t,n.y+=e,n.dirty()}function bD(r,t,e,n){var i=r.target,a=r.zoomLimit,o=r.zoom=r.zoom||1;o*=t,o=SD(o,a);var c=o/r.zoom;r.zoom=o,c8(i,e,n,c),i.dirty()}function u8(r,t,e,n,i,a){var o=new ue(0,0,0,0);n.enable(r.get("roam"),{api:t,zInfo:{component:r},triggerInfo:{roamTrigger:r.get("roamTrigger"),isInSelf:function(v,g,y){return o.copy(e.getBoundingRect()),o.applyTransform(e.getComputedTransform()),o.contain(g,y)},isInClip:function(v,g,y){return!a||a.contain(g,y)}}}),i.zoomLimit=r.get("scaleLimit");var c=r.coordinateSystem;i.zoom=c?c.getZoom():1;var h=r.subType+"Roam";n.off("pan").off("zoom").on("pan",function(v){_D(i,v.dx,v.dy),t.dispatchAction({seriesId:r.id,type:h,dx:v.dx,dy:v.dy})}).on("zoom",function(v){bD(i,v.scale,v.originX,v.originY),t.dispatchAction({seriesId:r.id,type:h,zoom:v.scale,originX:v.originX,originY:v.originY}),t.updateLabelLayout()})}function vV(r,t){return r.pointToProjected?r.pointToProjected(t):r.pointToData(t)}function sb(r,t,e){var n=r.getZoom(),i=r.getCenter(),a=t.zoom,o=r.projectedToPoint?r.projectedToPoint(i):r.dataToPoint(i);return t.dx!=null&&t.dy!=null&&(o[0]-=t.dx,o[1]-=t.dy,r.setCenter(vV(r,o))),a!=null&&(a=SD(n*a,e)/n,c8(r,t.originX,t.originY,a),r.updateTransform(),r.setCenter(vV(r,o)),r.setZoom(a*n)),{center:r.getCenter(),zoom:r.getZoom()}}function c8(r,t,e,n){r.x-=(t-r.x)*(n-1),r.y-=(e-r.y)*(n-1),r.scaleX*=n,r.scaleY*=n}function SD(r,t){if(t){var e=t.min||0,n=t.max||1/0;r=Math.max(Math.min(n,r),e)}return r}function f8(r){if($t(r)){var t=new DOMParser;r=t.parseFromString(r,"text/xml")}var e=r;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var tx,J0={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},gV=Le(J0),Q0={"alignment-baseline":"textBaseline","stop-color":"stopColor"},yV=Le(Q0),oht=(function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(t,e){e=e||{};var n=f8(t);this._defsUsePending=[];var i=new ne;this._root=i;var a=[],o=n.getAttribute("viewBox")||"",c=parseFloat(n.getAttribute("width")||e.width),h=parseFloat(n.getAttribute("height")||e.height);isNaN(c)&&(c=null),isNaN(h)&&(h=null),Ii(n,i,null,!0,!1);for(var v=n.firstChild;v;)this._parseNode(v,i,a,null,!1,!1),v=v.nextSibling;uht(this._defs,this._defsUsePending),this._defsUsePending=[];var g,y;if(o){var m=lb(o);m.length>=4&&(g={x:parseFloat(m[0]||0),y:parseFloat(m[1]||0),width:parseFloat(m[2]),height:parseFloat(m[3])})}if(g&&c!=null&&h!=null&&(y=p8(g,{x:0,y:0,width:c,height:h}),!e.ignoreViewBox)){var b=i;i=new ne,i.add(b),b.scaleX=b.scaleY=y.scale,b.x=y.x,b.y=y.y}return!e.ignoreRootClip&&c!=null&&h!=null&&i.setClipPath(new xe({shape:{x:0,y:0,width:c,height:h}})),{root:i,width:c,height:h,viewBoxRect:g,viewBoxTransform:y,named:a}},r.prototype._parseNode=function(t,e,n,i,a,o){var c=t.nodeName.toLowerCase(),h,v=i;if(c==="defs"&&(a=!0),c==="text"&&(o=!0),c==="defs"||c==="switch")h=e;else{if(!a){var g=tx[c];if(g&&Xt(tx,c)){h=g.call(this,t,e);var y=t.getAttribute("name");if(y){var m={name:y,namedFrom:null,svgNodeTagLower:c,el:h};n.push(m),c==="g"&&(v=m)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:c,el:h});e.add(h)}}var b=mV[c];if(b&&Xt(mV,c)){var S=b.call(this,t),E=t.getAttribute("id");E&&(this._defs[E]=S)}}if(h&&h.isGroup)for(var C=t.firstChild;C;)C.nodeType===1?this._parseNode(C,h,n,v,a,o):C.nodeType===3&&o&&this._parseText(C,h),C=C.nextSibling},r.prototype._parseText=function(t,e){var n=new bh({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Ki(e,n),Ii(t,n,this._defsUsePending,!1,!1),sht(n,e);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var c=n.getBoundingRect();return this._textX+=c.width,e.add(n),n},r.internalField=(function(){tx={g:function(t,e){var n=new ne;return Ki(e,n),Ii(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new xe;return Ki(e,n),Ii(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new Ds;return Ki(e,n),Ii(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new $r;return Ki(e,n),Ii(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new W_;return Ki(e,n),Ii(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n=t.getAttribute("points"),i;n&&(i=SV(n));var a=new Zn({shape:{points:i||[]},silent:!0});return Ki(e,a),Ii(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,e){var n=t.getAttribute("points"),i;n&&(i=SV(n));var a=new Pn({shape:{points:i||[]},silent:!0});return Ki(e,a),Ii(t,a,this._defsUsePending,!1,!1),a},image:function(t,e){var n=new En;return Ki(e,n),Ii(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(o);var c=new ne;return Ki(e,c),Ii(t,c,this._defsUsePending,!1,!0),c},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",c=new ne;return Ki(e,c),Ii(t,c,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),c},path:function(t,e){var n=t.getAttribute("d")||"",i=LH(n);return Ki(e,i),Ii(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}})(),r})(),mV={lineargradient:function(r){var t=parseInt(r.getAttribute("x1")||"0",10),e=parseInt(r.getAttribute("y1")||"0",10),n=parseInt(r.getAttribute("x2")||"10",10),i=parseInt(r.getAttribute("y2")||"0",10),a=new Gh(t,e,n,i);return _V(r,a),bV(r,a),a},radialgradient:function(r){var t=parseInt(r.getAttribute("cx")||"0",10),e=parseInt(r.getAttribute("cy")||"0",10),n=parseInt(r.getAttribute("r")||"0",10),i=new OH(t,e,n);return _V(r,i),bV(r,i),i}};function _V(r,t){var e=r.getAttribute("gradientUnits");e==="userSpaceOnUse"&&(t.global=!0)}function bV(r,t){for(var e=r.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var n=e.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var a={};h8(e,a,a);var o=a.stopColor||e.getAttribute("stop-color")||"#000000",c=a.stopOpacity||e.getAttribute("stop-opacity");if(c){var h=Ei(o),v=h&&h[3];v&&(h[3]*=Sl(c),o=Mo(h,"rgba"))}t.colorStops.push({offset:i,color:o})}e=e.nextSibling}}function Ki(r,t){r&&r.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),se(t.__inheritedStyle,r.__inheritedStyle))}function SV(r){for(var t=lb(r),e=[],n=0;n<t.length;n+=2){var i=parseFloat(t[n]),a=parseFloat(t[n+1]);e.push([i,a])}return e}function Ii(r,t,e,n,i){var a=t,o=a.__inheritedStyle=a.__inheritedStyle||{},c={};r.nodeType===1&&(hht(r,t),h8(r,o,c),n||pht(r,o,c)),a.style=a.style||{},o.fill!=null&&(a.style.fill=wV(a,"fill",o.fill,e)),o.stroke!=null&&(a.style.stroke=wV(a,"stroke",o.stroke,e)),j(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(h){o[h]!=null&&(a.style[h]=parseFloat(o[h]))}),j(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(h){o[h]!=null&&(a.style[h]=o[h])}),i&&(a.__selfStyle=c),o.lineDash&&(a.style.lineDash=Pt(lb(o.lineDash),function(h){return parseFloat(h)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(a.invisible=!0),o.display==="none"&&(a.ignore=!0)}function sht(r,t){var e=t.__selfStyle;if(e){var n=e.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),r.style.textBaseline=i}var a=t.__inheritedStyle;if(a){var o=a.textAlign,c=o;o&&(o==="middle"&&(c="center"),r.style.textAlign=c)}}var lht=/^url\(\s*#(.*?)\)/;function wV(r,t,e,n){var i=e&&e.match(lht);if(i){var a=ua(i[1]);n.push([r,t,a]);return}return e==="none"&&(e=null),e}function uht(r,t){for(var e=0;e<t.length;e++){var n=t[e];n[0].style[n[1]]=r[n[2]]}}var cht=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function lb(r){return r.match(cht)||[]}var fht=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,ex=Math.PI/180;function hht(r,t){var e=r.getAttribute("transform");if(e){e=e.replace(/,/g," ");var n=[],i=null;e.replace(fht,function(y,m,b){return n.push(m,b),""});for(var a=n.length-1;a>0;a-=2){var o=n[a],c=n[a-1],h=lb(o);switch(i=i||wn(),c){case"translate":Oo(i,i,[parseFloat(h[0]),parseFloat(h[1]||"0")]);break;case"scale":oA(i,i,[parseFloat(h[0]),parseFloat(h[1]||h[0])]);break;case"rotate":kl(i,i,-parseFloat(h[0])*ex,[parseFloat(h[1]||"0"),parseFloat(h[2]||"0")]);break;case"skewX":var v=Math.tan(parseFloat(h[0])*ex);Do(i,[1,0,v,1,0,0],i);break;case"skewY":var g=Math.tan(parseFloat(h[0])*ex);Do(i,[1,g,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(h[0]),i[1]=parseFloat(h[1]),i[2]=parseFloat(h[2]),i[3]=parseFloat(h[3]),i[4]=parseFloat(h[4]),i[5]=parseFloat(h[5]);break}}t.setLocalTransform(i)}}var xV=/([^\s:;]+)\s*:\s*([^:;]+)/g;function h8(r,t,e){var n=r.getAttribute("style");if(n){xV.lastIndex=0;for(var i;(i=xV.exec(n))!=null;){var a=i[1],o=Xt(J0,a)?J0[a]:null;o&&(t[o]=i[2]);var c=Xt(Q0,a)?Q0[a]:null;c&&(e[c]=i[2])}}}function pht(r,t,e){for(var n=0;n<gV.length;n++){var i=gV[n],a=r.getAttribute(i);a!=null&&(t[J0[i]]=a)}for(var n=0;n<yV.length;n++){var i=yV[n],a=r.getAttribute(i);a!=null&&(e[Q0[i]]=a)}}function p8(r,t){var e=t.width/r.width,n=t.height/r.height,i=Math.min(e,n);return{scale:i,x:-(r.x+r.width/2)*i+(t.x+t.width/2),y:-(r.y+r.height/2)*i+(t.y+t.height/2)}}function dht(r,t){var e=new oht;return e.parse(r,t)}var vht=Qt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),ght=(function(){function r(t,e){this.type="geoSVG",this._usedGraphicMap=Qt(),this._freedGraphics=[],this._mapName=t,this._parsedXML=f8(e)}return r.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=mht(t.named),n=e.regions,i=e.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(t){var e,n;try{e=t&&dht(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=e.root,qn(n!=null)}catch(C){throw new Error(`Invalid svg format
`+C.message)}var i=new ne;i.add(n),i.isGeoSVGGraphicRoot=!0;var a=e.width,o=e.height,c=e.viewBoxRect,h=this._boundingRect;if(!h){var v=void 0,g=void 0,y=void 0,m=void 0;if(a!=null?(v=0,y=a):c&&(v=c.x,y=c.width),o!=null?(g=0,m=o):c&&(g=c.y,m=c.height),v==null||g==null){var b=n.getBoundingRect();v==null&&(v=b.x,y=b.width),g==null&&(g=b.y,m=b.height)}h=this._boundingRect=new ue(v,g,y,m)}if(c){var S=p8(c,h);n.scaleX=n.scaleY=S.scale,n.x=S.x,n.y=S.y}i.setClipPath(new xe({shape:h.plain()}));var E=[];return j(e.named,function(C){vht.get(C.svgNodeTagLower)!=null&&(E.push(C),yht(C.el))}),{root:i,boundingRect:h,named:E}},r.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},r.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},r})();function yht(r){r.silent=!1,r.isGroup&&r.traverse(function(t){t.silent=!1})}function mht(r){var t=[],e=Qt();return j(r,function(n){if(n.namedFrom==null){var i=new Ilt(n.name,n.el);t.push(i),e.set(n.name,i)}}),{regions:t,regionsMap:e}}var YT=[126,25],EV="",Yu=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Uu=0;Uu<Yu.length;Uu++)for(var Pf=0;Pf<Yu[Uu].length;Pf++)Yu[Uu][Pf][0]/=10.5,Yu[Uu][Pf][1]/=-10.5/.75,Yu[Uu][Pf][0]+=YT[0],Yu[Uu][Pf][1]+=YT[1];function _ht(r,t){if(r==="china"){for(var e=0;e<t.length;e++)if(t[e].name===EV)return;t.push(new X6(EV,Pt(Yu,function(n){return{type:"polygon",exterior:n}}),YT))}}var bht={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function Sht(r,t){if(r==="china"){var e=bht[t.name];if(e){var n=t.getCenter();n[0]+=e[0]/10.5,n[1]+=-e[1]/(10.5/.75),t.setCenter(n)}}}var wht=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function xht(r,t){r==="china"&&t.name===""&&t.geometries.push({type:"polygon",exterior:wht[0]})}var Eht="name",Tht=(function(){function r(t,e,n){this.type="geoJSON",this._parsedMap=Qt(),this._mapName=t,this._specialAreas=n,this._geoJSON=Aht(e)}return r.prototype.load=function(t,e){e=e||Eht;var n=this._parsedMap.get(e);if(!n){var i=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:i,boundingRect:Cht(i)})}var a=Qt(),o=[];return j(n.regions,function(c){var h=c.name;t&&Xt(t,h)&&(c=c.cloneShallow(h=t[h])),o.push(c),a.set(h,c)}),{regions:o,boundingRect:n.boundingRect||new ue(0,0,0,0),regionsMap:a}},r.prototype._parseToRegions=function(t){var e=this._mapName,n=this._geoJSON,i;try{i=n?Plt(n,t):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return _ht(e,i),j(i,function(a){var o=a.name;Sht(e,a),xht(e,a);var c=this._specialAreas&&this._specialAreas[o];c&&a.transformTo(c.left,c.top,c.width,c.height)},this),i},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r})();function Cht(r){for(var t,e=0;e<r.length;e++){var n=r[e].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function Aht(r){return $t(r)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var ad=Qt();const Ts={registerMap:function(r,t,e){if(t.svg){var n=new ght(r,t.svg);ad.set(r,n)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?e=t.specialAreas:i=t;var n=new Tht(r,i,e);ad.set(r,n)}},getGeoResource:function(r){return ad.get(r)},getMapForUser:function(r){var t=ad.get(r);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(r,t,e){var n=ad.get(r);if(n)return n.load(t,e)}};var wD=["rect","circle","line","ellipse","polygon","polyline","path"],Dht=Qt(wD),Mht=Qt(wD.concat(["g"])),Lht=Qt(wD.concat(["g"])),d8=Ee();function pm(r){var t=r.getItemStyle(),e=r.get("areaColor");return e!=null&&(t.fill=e),t}function TV(r){var t=r.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var v8=(function(){function r(t){var e=this.group=new ne,n=this._transformGroup=new ne;e.add(n),this.uid=Hh("ec_map_draw"),this._controller=new Fc(t.getZr()),this._controllerHost={target:n},n.add(this._regionsGroup=new ne),n.add(this._svgGroup=new ne)}return r.prototype.draw=function(t,e,n,i,a){var o=t.mainType==="geo",c=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(L){!c&&L.getHostGeoModel()===t&&(c=L.getData())});var h=t.coordinateSystem,v=this._regionsGroup,g=this._transformGroup,y=h.getTransformInfo(),m=y.raw,b=y.roam,S=!v.childAt(0)||a,E=t.getShallow("clip",!0),C;E?(C=h.getViewRect().clone(),this.group.setClipPath(new xe({shape:C.clone()}))):this.group.removeClipPath(),S?(g.x=b.x,g.y=b.y,g.scaleX=b.scaleX,g.scaleY=b.scaleY,g.dirty()):Ve(g,b,t);var A=c&&c.getVisual("visualMeta")&&c.getVisual("visualMeta").length>0,D={api:n,geo:h,mapOrGeoModel:t,data:c,isVisualEncodedByVisualMap:A,isGeo:o,transformInfoRaw:m};h.resourceType==="geoJSON"?this._buildGeoJSON(D):h.resourceType==="geoSVG"&&this._buildSVG(D),this._updateController(t,C,e,n),this._updateMapSelectHandler(t,v,n,i)},r.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Qt(),n=Qt(),i=this._regionsGroup,a=t.transformInfoRaw,o=t.mapOrGeoModel,c=t.data,h=t.geo.projection,v=h&&h.stream;function g(b,S){return S&&(b=S(b)),b&&[b[0]*a.scaleX+a.x,b[1]*a.scaleY+a.y]}function y(b){for(var S=[],E=!v&&h&&h.project,C=0;C<b.length;++C){var A=g(b[C],E);A&&S.push(A)}return S}function m(b){return{shape:{points:y(b)}}}i.removeAll(),j(t.geo.regions,function(b){var S=b.name,E=e.get(S),C=n.get(S)||{},A=C.dataIdx,D=C.regionModel;if(!E){E=e.set(S,new ne),i.add(E),A=c?c.indexOfName(S):null,D=t.isGeo?o.getRegionModel(S):c?c.getItemModel(A):null;var L=D.get("silent",!0);L!=null&&(E.silent=L),n.set(S,{dataIdx:A,regionModel:D})}var R=[],O=[];j(b.geometries,function(k){if(k.type==="polygon"){var F=[k.exterior].concat(k.interiors||[]);v&&(F=NV(F,v)),j(F,function(W){R.push(new Zn(m(W)))})}else{var H=k.points;v&&(H=NV(H,v,!0)),j(H,function(W){O.push(new Pn(m(W)))})}});var P=g(b.getCenter(),h&&h.project);function V(k,F){if(k.length){var H=new Y_({culling:!0,segmentIgnoreThreshold:1,shape:{paths:k}});E.add(H),CV(t,H,A,D),AV(t,H,S,D,o,A,P),F&&(TV(H),j(H.states,TV))}}V(R),V(O,!0)}),e.each(function(b,S){var E=n.get(S),C=E.dataIdx,A=E.regionModel;DV(t,b,S,A,o,C),MV(t,b,S,A,o),LV(t,b,S,A,o)},this)},r.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=Qt(),a=!1;j(this._svgGraphicRecord.named,function(o){var c=o.name,h=t.mapOrGeoModel,v=t.data,g=o.svgNodeTagLower,y=o.el,m=v?v.indexOfName(c):null,b=h.getRegionModel(c);Dht.get(g)!=null&&y instanceof ha&&CV(t,y,m,b),y instanceof ha&&(y.culling=!0);var S=b.get("silent",!0);if(S!=null&&(y.silent=S),y.z2EmphasisLift=0,!o.namedFrom&&(Lht.get(g)!=null&&AV(t,y,c,b,h,m,null),DV(t,y,c,b,h,m),MV(t,y,c,b,h),Mht.get(g)!=null)){var E=LV(t,y,c,b,h);E==="self"&&(a=!0);var C=i.get(c)||i.set(c,[]);C.push(y)}},this),this._enableBlurEntireSVG(a,t)},r.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){xc(a);var o=a.ensureState("blur").style||{};o.opacity==null&&i!=null&&(o.opacity=i),a.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(t,e){if(t==null)return[];var n=e.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},r.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},r.prototype._useSVG=function(t){var e=Ts.getGeoResource(t);if(e&&e.type==="geoSVG"){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},r.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var e=Ts.getGeoResource(t);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(t,e,n,i){var a=t.coordinateSystem,o=this._controller,c=this._controllerHost;c.zoomLimit=t.get("scaleLimit"),c.zoom=a.getZoom(),o.enable(t.get("roam")||!1,{api:i,zInfo:{component:t},triggerInfo:{roamTrigger:t.get("roamTrigger"),isInSelf:function(g,y,m){return a.containPoint([y,m])},isInClip:function(g,y,m){return!e||e.contain(y,m)}}});var h=t.mainType;function v(){var g={type:"geoRoam",componentType:h};return g[h+"Id"]=t.id,g}o.off("pan").on("pan",function(g){this._mouseDownFlag=!1,_D(c,g.dx,g.dy),i.dispatchAction(Mt(v(),{dx:g.dx,dy:g.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(g){this._mouseDownFlag=!1,bD(c,g.scale,g.originX,g.originY),i.dispatchAction(Mt(v(),{totalZoom:c.zoom,zoom:g.scale,originX:g.originX,originY:g.originY,animation:{duration:0}}))},this)},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=d8(e).ignore)})},r.prototype._updateMapSelectHandler=function(t,e,n,i){var a=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){a._mouseDownFlag=!0}),e.on("click",function(o){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},r})();function CV(r,t,e,n){var i=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),o=n.getModel(["blur","itemStyle"]),c=n.getModel(["select","itemStyle"]),h=pm(i),v=pm(a),g=pm(c),y=pm(o),m=r.data;if(m){var b=m.getItemVisual(e,"style"),S=m.getItemVisual(e,"decal");r.isVisualEncodedByVisualMap&&b.fill&&(h.fill=b.fill),S&&(h.decal=xh(S,r.api))}t.setStyle(h),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=v,t.ensureState("select").style=g,t.ensureState("blur").style=y,xc(t)}function AV(r,t,e,n,i,a,o){var c=r.data,h=r.isGeo,v=c&&isNaN(c.get(c.mapDimension("value"),a)),g=c&&c.getItemLayout(a);if(h||v||g&&g.showLabel){var y=h?e:a,m=void 0;(!c||a>=0)&&(m=i);var b=o?{normal:{align:"center",verticalAlign:"middle"}}:null;dn(t,on(n),{labelFetcher:m,labelDataIndex:y,defaultText:e},b);var S=t.getTextContent();if(S&&(d8(S).ignore=S.ignore,t.textConfig&&o)){var E=t.getBoundingRect().clone();t.textConfig.layoutRect=E,t.textConfig.position=[(o[0]-E.x)/E.width*100+"%",(o[1]-E.y)/E.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function DV(r,t,e,n,i,a){r.data?r.data.setItemGraphicEl(a,t):fe(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:e,region:n&&n.option||{}}}function MV(r,t,e,n,i){r.data||Ms({el:t,componentModel:i,itemName:e,itemTooltipOption:n.get("tooltip")})}function LV(r,t,e,n,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var a=n.getModel("emphasis"),o=a.get("focus");return yr(t,o,a.get("blurScope"),a.get("disabled")),r.isGeo&&Vnt(t,i,e),o}function NV(r,t,e){var n=[],i;function a(){i=[]}function o(){i.length&&(n.push(i),i=[])}var c=t({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(h,v){isFinite(h)&&isFinite(v)&&i.push([h,v])},sphere:function(){}});return!e&&c.polygonStart(),j(r,function(h){c.lineStart();for(var v=0;v<h.length;v++)c.point(h[v][0],h[v][1]);c.lineEnd()}),!e&&c.polygonEnd(),n}var Nht=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===e.id){var c=this._mapDraw;c&&o.add(c.group)}else if(e.needsDrawMap){var c=this._mapDraw||new v8(i);o.add(c.group),c.draw(e,n,i,this,a),this._mapDraw=c}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(e,n,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,n,i){var a=e.originalData,o=this.group;a.each(a.mapDimension("value"),function(c,h){if(!isNaN(c)){var v=a.getItemLayout(h);if(!(!v||!v.point)){var g=v.point,y=v.offset,m=new Ds({style:{fill:e.getData().getVisual("style").fill},shape:{cx:g[0]+y*9,cy:g[1],r:3},silent:!0,z2:8+(y?0:Vh+1)});if(!y){var b=e.mainSeries.getData(),S=a.getName(h),E=b.indexOfName(S),C=a.getItemModel(h),A=C.getModel("label"),D=b.getItemGraphicEl(E);dn(m,on(C),{labelFetcher:{getFormattedLabel:function(L,R){return e.getFormattedLabel(E,R)}},defaultText:S}),m.disableLabelAnimation=!0,A.get("position")||m.setTextConfig({position:"bottom"}),D.onHoverStateChange=function(L){D0(m,L)}}o.add(m)}}})},t.type="map",t})(Je),Rht=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),a=this.coordinateSystem,o=a.getRegion(i);return o&&a.dataToPoint(o.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var n=$h(this,{coordDimensions:["value"],encodeDefaulter:ve(GA,this)}),i=Qt(),a=[],o=0,c=n.count();o<c;o++){var h=n.getName(o);i.set(h,o)}var v=Ts.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return j(v.regions,function(g){var y=g.name,m=i.get(y),b=g.properties&&g.properties.echartsStyle,S;m==null?(S={name:y},a.push(S)):S=n.getRawDataItem(m),b&&ye(S,b)}),n.appendData(a),n},t.prototype.getHostGeoModel=function(){if(l4(this).kind!==mo.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var n=this.getData();return n.get(n.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var n=this.getData();return n.getItemModel(n.indexOfName(e))},t.prototype.formatTooltip=function(e,n,i){for(var a=this.getData(),o=this.getRawValue(e),c=a.getName(e),h=this.seriesGroup,v=[],g=0;g<h.length;g++){var y=h[g].originalData.indexOfName(c),m=a.mapDimension("value");isNaN(h[g].originalData.get(m,y))||v.push(h[g].name)}return Zr("section",{header:v.join(", "),noHeader:!v.length,blocks:[Zr("nameValue",{name:c,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var n=e.icon||"roundRect",i=Kr(n,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill=yt.color.neutral00,i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:yt.color.tertiary},itemStyle:{borderWidth:.5,borderColor:yt.color.border,areaColor:yt.color.background},emphasis:{label:{show:!0,color:yt.color.primary},itemStyle:{areaColor:yt.color.highlight}},select:{label:{show:!0,color:yt.color.primary},itemStyle:{color:yt.color.highlight}},nameProperty:"name"},t})(sr);function Iht(r,t){var e={};return j(r,function(n){n.each(n.mapDimension("value"),function(i,a){var o="ec-"+n.getName(a);e[o]=e[o]||[],isNaN(i)||e[o].push(i)})}),r[0].map(r[0].mapDimension("value"),function(n,i){for(var a="ec-"+r[0].getName(i),o=0,c=1/0,h=-1/0,v=e[a].length,g=0;g<v;g++)c=Math.min(c,e[a][g]),h=Math.max(h,e[a][g]),o+=e[a][g];var y;return t==="min"?y=c:t==="max"?y=h:t==="average"?y=o/v:y=o,v===0?NaN:y})}function Oht(r){var t={};r.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),i=n?"o"+n.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),j(t,function(e,n){for(var i=Iht(Pt(e,function(o){return o.getData()}),e[0].get("mapValueCalculation")),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(var a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=a===0&&!e[a].getHostGeoModel(),e[a].setData(i.cloneShallow()),e[a].mainSeries=e[0]})}function Pht(r){var t={};r.eachSeriesByType("map",function(e){var n=e.getMapType();if(!(e.getHostGeoModel()||t[n])){var i={};j(e.seriesGroup,function(o){var c=o.coordinateSystem,h=o.originalData;o.get("showLegendSymbol")&&r.getComponent("legend")&&h.each(h.mapDimension("value"),function(v,g){var y=h.getName(g),m=c.getRegion(y);if(!(!m||isNaN(v))){var b=i[y]||0,S=c.dataToPoint(m.getCenter());i[y]=b+1,h.setItemLayout(g,{point:S,offset:b})}})});var a=e.getData();a.each(function(o){var c=a.getName(o),h=a.getItemLayout(o)||{};h.showLabel=!i[c],a.setItemLayout(o,h)}),t[n]=!0}})}var RV=Br,Bc=(function(r){bt(t,r);function t(e,n){var i=r.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new us,i._rawTransformable=new us,i.name=e,i._opt=n,i}return t.prototype.setBoundingRect=function(e,n,i,a){return this._rect=new ue(e,n,i,a),this._updateCenterAndZoom(),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,n,i,a){this._transformTo(e,n,i,a),this._viewRect=new ue(e,n,i,a)},t.prototype._transformTo=function(e,n,i,a){var o=this.getBoundingRect(),c=this._rawTransformable;c.transform=o.calculateTransform(new ue(e,n,i,a));var h=c.parent;c.parent=null,c.decomposeTransform(),c.parent=h,this._updateTransform()},t.prototype.setCenter=function(e){var n=this._opt;n&&n.api&&n.ecModel&&n.ecModel.getShallow("legacyViewCoordSysCenterBase")&&e&&(e=[Yt(e[0],n.api.getWidth()),Yt(e[1],n.api.getWidth())]),this._centerOption=ie(e),this._updateCenterAndZoom()},t.prototype.setZoom=function(e){this._zoom=SD(e||1,this.zoomLimit),this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),n=e.x+e.width/2,i=e.y+e.height/2;return[n,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._centerOption,n=this._rect;e&&n&&(this._center=[Yt(e[0],n.width,n.x),Yt(e[1],n.height,n.y)]);var i=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,o=this.getDefaultCenter(),c=this.getCenter(),h=this.getZoom();c=Br([],c,i),o=Br([],o,i),a.originX=c[0],a.originY=c[1],a.x=o[0]-c[0],a.y=o[1]-c[1],a.scaleX=a.scaleY=h,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,n=this._rawTransformable;n.parent=e,e.updateTransform(),n.updateTransform(),R_(this.transform||(this.transform=[]),n.transform||wn()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],Va(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,n=this._roamTransformable,i=new us;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?RV(i,e,a):ii(i,e)},t.prototype.pointToData=function(e,n,i){i=i||[];var a=this.invTransform;return a?RV(i,e,a):(i[0]=e[0],i[1]=e[1],i)},t.prototype.convertToPixel=function(e,n,i){var a=IV(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,n,i){var a=IV(n);return a===this?a.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t})(us);function IV(r){var t=r.seriesModel;return t?t.coordinateSystem:null}var kht={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},g8=["lng","lat"],$T=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this,e,{api:i.api,ecModel:i.ecModel})||this;a.dimensions=g8,a.type="geo",a._nameCoordMap=Qt(),a.map=n;var o=i.projection,c=Ts.load(n,i.nameMap,i.nameProperty),h=Ts.getGeoResource(n);a.resourceType=h?h.type:null;var v=a.regions=c.regions,g=kht[h.type];a._regionsMap=c.regionsMap,a.regions=c.regions,a.projection=o;var y;if(o)for(var m=0;m<v.length;m++){var b=v[m].getBoundingRect(o);y=y||b.clone(),y.union(b)}else y=c.boundingRect;return a.setBoundingRect(y.x,y.y,y.width,y.height),a.aspectScale=o?1:te(i.aspectScale,g.aspectScale),a._invertLongitute=o?!1:g.invertLongitute,a}return t.prototype._transformTo=function(e,n,i,a){var o=this.getBoundingRect(),c=this._invertLongitute;o=o.clone(),c&&(o.y=-o.y-o.height);var h=this._rawTransformable;h.transform=o.calculateTransform(new ue(e,n,i,a));var v=h.parent;h.parent=null,h.decomposeTransform(),h.parent=v,c&&(h.scaleY=-h.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var n=this.regions,i=0;i<n.length;i++){var a=n[i];if(a.type==="geoJSON"&&a.contain(e))return n[i]}},t.prototype.addGeoCoord=function(e,n){this._nameCoordMap.set(e,n)},t.prototype.getGeoCoord=function(e){var n=this._regionsMap.get(e);return this._nameCoordMap.get(e)||n&&n.getCenter()},t.prototype.dataToPoint=function(e,n,i){if($t(e)&&(e=this.getGeoCoord(e)),e){var a=this.projection;return a&&(e=a.project(e)),e&&this.projectedToPoint(e,n,i)}},t.prototype.pointToData=function(e,n,i){var a=this.projection;return a&&(e=a.unproject(e)),e&&this.pointToProjected(e,i)},t.prototype.pointToProjected=function(e,n){return r.prototype.pointToData.call(this,e,0,n)},t.prototype.projectedToPoint=function(e,n,i){return r.prototype.dataToPoint.call(this,e,n,i)},t.prototype.convertToPixel=function(e,n,i){var a=OV(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,n,i){var a=OV(n);return a===this?a.pointToData(i):null},t})(Bc);Jr($T,Bc);function OV(r){var t=r.geoModel,e=r.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",Ar).models[0]||{}).coordinateSystem:null}function PV(r,t){var e=r.get("boundingCoords");if(e!=null){var n=e[0],i=e[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var o=n[0],c=n[1],h=i[0],v=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var g=function(O,P,V,k){for(var F=V-O,H=k-P,W=0;W<=100;W++){var q=W/100,Y=a.project([O+F*q,P+H*q]);fl(n,n,Y),hl(i,i,Y)}};g(o,c,h,c),g(h,c,h,v),g(h,v,o,v),g(o,v,h,c)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var y=this.getBoundingRect(),m=r.get("layoutCenter"),b=r.get("layoutSize"),S=sn(r,t).refContainer,E=y.width/y.height*this.aspectScale,C=!1,A,D;m&&b&&(A=[Yt(m[0],S.width)+S.x,Yt(m[1],S.height)+S.y],D=Yt(b,Math.min(S.width,S.height)),!isNaN(A[0])&&!isNaN(A[1])&&!isNaN(D)&&(C=!0));var L;if(C)L={},E>1?(L.width=D,L.height=D/E):(L.height=D,L.width=D*E),L.y=A[1]-L.height/2,L.x=A[0]-L.width/2;else{var R=r.getBoxLayoutParams();R.aspect=E,L=mr(R,S),L=p4(r,L,E)}this.setViewRect(L.x,L.y,L.width,L.height),this.setCenter(r.get("center")),this.setZoom(r.get("zoom"))}function Vht(r,t){j(t.get("geoCoord"),function(e,n){r.addGeoCoord(n,e)})}var Ght=(function(){function r(){this.dimensions=g8}return r.prototype.create=function(t,e){var n=[];function i(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,c){var h=o.get("map"),v=new $T(h+c,h,Mt({nameMap:o.get("nameMap"),api:e,ecModel:t},i(o)));v.zoomLimit=o.get("scaleLimit"),n.push(v),o.coordinateSystem=v,v.model=o,v.resize=PV,v.resize(o,e)}),t.eachSeries(function(o){zv({targetModel:o,coordSysType:"geo",coordSysProvider:function(){var c=o.subType==="map"?o.getHostGeoModel():o.getReferringComponents("geo",Ar).models[0];return c&&c.coordinateSystem},allowNotFound:!0})});var a={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var c=o.getMapType();a[c]=a[c]||[],a[c].push(o)}}),j(a,function(o,c){var h=Pt(o,function(g){return g.get("nameMap")}),v=new $T(c,c,Mt({nameMap:rA(h),api:e,ecModel:t},i(o[0])));v.zoomLimit=On.apply(null,Pt(o,function(g){return g.get("scaleLimit")})),n.push(v),v.resize=PV,v.resize(o[0],e),j(o,function(g){g.coordinateSystem=v,Vht(v,g)})}),n},r.prototype.getFilledRegions=function(t,e,n,i){for(var a=(t||[]).slice(),o=Qt(),c=0;c<a.length;c++)o.set(a[c].name,a[c]);var h=Ts.load(e,n,i);return j(h.regions,function(v){var g=v.name,y=o.get(g),m=v.properties&&v.properties.echartsStyle;y||(y={name:g},a.push(y)),m&&ye(y,m)}),a},r})(),y8=new Ght,Fht=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i);var a=Ts.getGeoResource(e.map);if(a&&a.type==="geoJSON"){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color=e.defaultItemStyleColor||yt.color.backgroundTint)}bc(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,n=this.option;n.regions=y8.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=Io(n.regions||[],function(a,o){var c=o.name;return c&&(a.set(c,new Me(o,e,e.ecModel)),o.selected&&(i[c]=!0)),a},Qt()),n.selectedMap||(n.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Me(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,n){var i=this.getRegionModel(e),a=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:e};if(re(a))return o.status=n,a(o);if($t(a))return a.replace("{a}",e??"")},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[e]=!0}},t.prototype.unSelect=function(e){var n=this.option.selectedMap;n&&(n[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var n=this.option.selectedMap;return!!(n&&n[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:yt.color.tertiary},itemStyle:{borderWidth:.5,borderColor:yt.color.border},emphasis:{label:{show:!0,color:yt.color.primary},itemStyle:{color:yt.color.highlight}},select:{label:{show:!0,color:yt.color.primary},itemStyle:{color:yt.color.highlight}},regions:[]},t})(Ce),Bht=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return t.prototype.init=function(e,n){this._api=n},t.prototype.render=function(e,n,i,a){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new v8(i));var o=this._mapDraw;o.draw(e,n,i,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,n,i)},t.prototype._handleRegionClick=function(e){var n;ac(e.target,function(i){return(n=fe(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(e,n,i){var a=this;this._mapDraw.group.traverse(function(o){var c=fe(o).eventData;if(c)return a._model.isSelected(c.name)?i.enterSelect(o):i.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t})(vr);function Hht(r,t,e){Ts.registerMap(r,t,e)}function m8(r){r.registerCoordinateSystem("geo",y8),r.registerComponentModel(Fht),r.registerComponentView(Bht),r.registerImpl("registerMap",Hht),r.registerImpl("getMap",function(e){return Ts.getMapForUser(e)});function t(e,n){n.update="geo:updateSelectStatus",r.registerAction(n,function(i,a){var o={},c=[];return a.eachComponent({mainType:"geo",query:i},function(h){h[e](i.name);var v=h.coordinateSystem;j(v.regions,function(y){o[y.name]=h.isSelected(y.name)||!1});var g=[];j(o,function(y,m){o[m]&&g.push(m)}),c.push({geoIndex:h.componentIndex,name:g})}),{selected:o,allSelected:c,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,n,i){var a=e.componentType;a||(e.geoId!=null?a="geo":e.seriesId!=null&&(a="series")),a||(a="series"),n.eachComponent({mainType:a,query:e},function(o){var c=o.coordinateSystem;if(c.type==="geo"){var h=sb(c,e,o.get("scaleLimit"));o.setCenter&&o.setCenter(h.center),o.setZoom&&o.setZoom(h.zoom),a==="series"&&j(o.seriesGroup,function(v){v.setCenter(h.center),v.setZoom(h.zoom)})}})})}function zht(r){be(m8),r.registerChartView(Nht),r.registerSeriesModel(Rht),r.registerLayout(Pht),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Oht),n6("map",r.registerAction)}function Uht(r){var t=r;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[t],n,i;n=e.pop();)if(i=n.children,n.isExpand&&i.length)for(var a=i.length,o=a-1;o>=0;o--){var c=i[o];c.hierNode={defaultAncestor:null,ancestor:c,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},e.push(c)}}function Wht(r,t){var e=r.isExpand?r.children:[],n=r.parentNode.children,i=r.hierNode.i?n[r.hierNode.i-1]:null;if(e.length){Yht(r);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;i?(r.hierNode.prelim=i.hierNode.prelim+t(r,i),r.hierNode.modifier=r.hierNode.prelim-a):r.hierNode.prelim=a}else i&&(r.hierNode.prelim=i.hierNode.prelim+t(r,i));r.parentNode.hierNode.defaultAncestor=$ht(r,i,r.parentNode.hierNode.defaultAncestor||n[0],t)}function jht(r){var t=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:t},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function kV(r){return arguments.length?r:Zht}function Cd(r,t){return r-=Math.PI/2,{x:t*Math.cos(r),y:t*Math.sin(r)}}function Yht(r){for(var t=r.children,e=t.length,n=0,i=0;--e>=0;){var a=t[e];a.hierNode.prelim+=n,a.hierNode.modifier+=n,i+=a.hierNode.change,n+=a.hierNode.shift+i}}function $ht(r,t,e,n){if(t){for(var i=r,a=r,o=a.parentNode.children[0],c=t,h=i.hierNode.modifier,v=a.hierNode.modifier,g=o.hierNode.modifier,y=c.hierNode.modifier;c=rx(c),a=nx(a),c&&a;){i=rx(i),o=nx(o),i.hierNode.ancestor=r;var m=c.hierNode.prelim+y-a.hierNode.prelim-v+n(c,a);m>0&&(Xht(qht(c,r,e),r,m),v+=m,h+=m),y+=c.hierNode.modifier,v+=a.hierNode.modifier,h+=i.hierNode.modifier,g+=o.hierNode.modifier}c&&!rx(i)&&(i.hierNode.thread=c,i.hierNode.modifier+=y-h),a&&!nx(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=v-g,e=r)}return e}function rx(r){var t=r.children;return t.length&&r.isExpand?t[t.length-1]:r.hierNode.thread}function nx(r){var t=r.children;return t.length&&r.isExpand?t[0]:r.hierNode.thread}function qht(r,t,e){return r.hierNode.ancestor.parentNode===t.parentNode?r.hierNode.ancestor:e}function Xht(r,t,e){var n=e/(t.hierNode.i-r.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,r.hierNode.change+=n}function Zht(r,t){return r.parentNode===t.parentNode?1:2}var Kht=(function(){function r(){this.parentPoint=[],this.childPoints=[]}return r})(),Jht=(function(r){bt(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:yt.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new Kht},t.prototype.buildPath=function(e,n){var i=n.childPoints,a=i.length,o=n.parentPoint,c=i[0],h=i[a-1];if(a===1){e.moveTo(o[0],o[1]),e.lineTo(c[0],c[1]);return}var v=n.orient,g=v==="TB"||v==="BT"?0:1,y=1-g,m=Yt(n.forkPosition,1),b=[];b[g]=o[g],b[y]=o[y]+(h[y]-o[y])*m,e.moveTo(o[0],o[1]),e.lineTo(b[0],b[1]),e.moveTo(c[0],c[1]),b[g]=c[g],e.lineTo(b[0],b[1]),b[g]=h[g],e.lineTo(b[0],b[1]),e.lineTo(h[0],h[1]);for(var S=1;S<a-1;S++){var E=i[S];e.moveTo(E[0],E[1]),b[g]=E[g],e.lineTo(b[0],b[1])}},t})(Te),Qht=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new ne,e}return t.prototype.init=function(e,n){this._controller=new Fc(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,i){var a=e.getData(),o=e.layoutInfo,c=this._mainGroup,h=e.get("layout");h==="radial"?(c.x=o.x+o.width/2,c.y=o.y+o.height/2):(c.x=o.x,c.y=o.y),this._updateViewCoordSys(e,i),this._updateController(e,null,n,i);var v=this._data;a.diff(v).add(function(g){VV(a,g)&&GV(a,g,null,c,e)}).update(function(g,y){var m=v.getItemGraphicEl(y);if(!VV(a,g)){m&&BV(v,y,m,c,e);return}GV(a,g,m,c,e)}).remove(function(g){var y=v.getItemGraphicEl(g);y&&BV(v,g,y,c,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(g,y){g.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:y})})}),this._data=a},t.prototype._updateViewCoordSys=function(e,n){var i=e.getData(),a=[];i.each(function(y){var m=i.getItemLayout(y);m&&!isNaN(m.x)&&!isNaN(m.y)&&a.push([+m.x,+m.y])});var o=[],c=[];F_(a,o,c);var h=this._min,v=this._max;c[0]-o[0]===0&&(o[0]=h?h[0]:o[0]-1,c[0]=v?v[0]:c[0]+1),c[1]-o[1]===0&&(o[1]=h?h[1]:o[1]-1,c[1]=v?v[1]:c[1]+1);var g=e.coordinateSystem=new Bc(null,{api:n,ecModel:e.ecModel});g.zoomLimit=e.get("scaleLimit"),g.setBoundingRect(o[0],o[1],c[0]-o[0],c[1]-o[1]),g.setCenter(e.get("center")),g.setZoom(e.get("zoom")),this.group.attr({x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY}),this._min=o,this._max=c},t.prototype._updateController=function(e,n,i,a){var o=this;u8(e,a,this.group,this._controller,this._controllerHost,n),this._controller.on("zoom",function(c){o._updateNodeAndLinkScale(e)})},t.prototype._updateNodeAndLinkScale=function(e){var n=e.getData(),i=this._getNodeGlobalScale(e);n.eachItemGraphicEl(function(a,o){a.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(e){var n=e.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,a=n.scaleX||1,o=n.getZoom(),c=(o-1)*i+1;return c/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t})(Je);function VV(r,t){var e=r.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function GV(r,t,e,n,i){var a=!e,o=r.tree.getNodeByDataIndex(t),c=o.getModel(),h=o.getVisual("style").fill,v=o.isExpand===!1&&o.children.length!==0?h:yt.color.neutral00,g=r.tree.root,y=o.parentNode===g?o:o.parentNode||o,m=r.getItemGraphicEl(y.dataIndex),b=y.getLayout(),S=m?{x:m.__oldX,y:m.__oldY,rawX:m.__radialOldRawX,rawY:m.__radialOldRawY}:b,E=o.getLayout();a?(e=new Yv(r,t,null,{symbolInnerColor:v,useNameLabel:!0}),e.x=S.x,e.y=S.y):e.updateData(r,t,null,{symbolInnerColor:v,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=E.rawX,e.__radialRawY=E.rawY,n.add(e),r.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,Ve(e,{x:E.x,y:E.y},i);var C=e.getSymbolPath();if(i.get("layout")==="radial"){var A=g.children[0],D=A.getLayout(),L=A.children.length,R=void 0,O=void 0;if(E.x===D.x&&o.isExpand===!0&&A.children.length){var P={x:(A.children[0].getLayout().x+A.children[L-1].getLayout().x)/2,y:(A.children[0].getLayout().y+A.children[L-1].getLayout().y)/2};R=Math.atan2(P.y-D.y,P.x-D.x),R<0&&(R=Math.PI*2+R),O=P.x<D.x,O&&(R=R-Math.PI)}else R=Math.atan2(E.y-D.y,E.x-D.x),R<0&&(R=Math.PI*2+R),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(O=E.x<D.x,O&&(R=R-Math.PI)):(O=E.x>D.x,O||(R=R-Math.PI));var V=O?"left":"right",k=c.getModel("label"),F=k.get("rotate"),H=F*(Math.PI/180),W=C.getTextContent();W&&(C.setTextConfig({position:k.get("position")||V,rotation:F==null?-R:H,origin:"center"}),W.setStyle("verticalAlign","middle"))}var q=c.get(["emphasis","focus"]),Y=q==="relative"?rv(o.getAncestorsIndices(),o.getDescendantIndices()):q==="ancestor"?o.getAncestorsIndices():q==="descendant"?o.getDescendantIndices():null;Y&&(fe(e).focus=Y),tpt(i,o,g,e,S,b,E,n),e.__edge&&(e.onHoverStateChange=function(K){if(K!=="blur"){var X=o.parentNode&&r.getItemGraphicEl(o.parentNode.dataIndex);X&&X.hoverState===Pv||D0(e.__edge,K)}})}function tpt(r,t,e,n,i,a,o,c){var h=t.getModel(),v=r.get("edgeShape"),g=r.get("layout"),y=r.getOrient(),m=r.get(["lineStyle","curveness"]),b=r.get("edgeForkPosition"),S=h.getModel("lineStyle").getLineStyle(),E=n.__edge;if(v==="curve")t.parentNode&&t.parentNode!==e&&(E||(E=n.__edge=new Vv({shape:qT(g,y,m,i,i)})),Ve(E,{shape:qT(g,y,m,a,o)},r));else if(v==="polyline"&&g==="orthogonal"&&t!==e&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var C=t.children,A=[],D=0;D<C.length;D++){var L=C[D].getLayout();A.push([L.x,L.y])}E||(E=n.__edge=new Jht({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:y,forkPosition:b}})),Ve(E,{shape:{parentPoint:[o.x,o.y],childPoints:A}},r)}E&&!(v==="polyline"&&!t.isExpand)&&(E.useStyle(se({strokeNoScale:!0,fill:null},S)),an(E,h,"lineStyle"),xc(E),c.add(E))}function FV(r,t,e,n,i){var a=t.tree.root,o=_8(a,r),c=o.source,h=o.sourceLayout,v=t.getItemGraphicEl(r.dataIndex);if(v){var g=t.getItemGraphicEl(c.dataIndex),y=g.__edge,m=v.__edge||(c.isExpand===!1||c.children.length===1?y:void 0),b=n.get("edgeShape"),S=n.get("layout"),E=n.get("orient"),C=n.get(["lineStyle","curveness"]);m&&(b==="curve"?Ml(m,{shape:qT(S,E,C,h,h),style:{opacity:0}},n,{cb:function(){e.remove(m)},removeOpt:i}):b==="polyline"&&n.get("layout")==="orthogonal"&&Ml(m,{shape:{parentPoint:[h.x,h.y],childPoints:[[h.x,h.y]]},style:{opacity:0}},n,{cb:function(){e.remove(m)},removeOpt:i}))}}function _8(r,t){for(var e=t.parentNode===r?t:t.parentNode||t,n;n=e.getLayout(),n==null;)e=e.parentNode===r?e:e.parentNode||e;return{source:e,sourceLayout:n}}function BV(r,t,e,n,i){var a=r.tree.getNodeByDataIndex(t),o=r.tree.root,c=_8(o,a).sourceLayout,h={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};Ml(e,{x:c.x+1,y:c.y+1},i,{cb:function(){n.remove(e),r.setItemGraphicEl(t,null)},removeOpt:h}),e.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:h}),a.children.forEach(function(v){FV(v,r,n,i,h)}),FV(a,r,n,i,h)}function qT(r,t,e,n,i){var a,o,c,h,v,g,y,m;if(r==="radial"){v=n.rawX,y=n.rawY,g=i.rawX,m=i.rawY;var b=Cd(v,y),S=Cd(v,y+(m-y)*e),E=Cd(g,m+(y-m)*e),C=Cd(g,m);return{x1:b.x||0,y1:b.y||0,x2:C.x||0,y2:C.y||0,cpx1:S.x||0,cpy1:S.y||0,cpx2:E.x||0,cpy2:E.y||0}}else v=n.x,y=n.y,g=i.x,m=i.y,(t==="LR"||t==="RL")&&(a=v+(g-v)*e,o=y,c=g+(v-g)*e,h=m),(t==="TB"||t==="BT")&&(a=v,o=y+(m-y)*e,c=g,h=m+(y-m)*e);return{x1:v,y1:y,x2:g,y2:m,cpx1:a,cpy1:o,cpx2:c,cpy2:h}}var fa=Ee();function b8(r){var t=r.mainData,e=r.datas;e||(e={main:t},r.datasAttr={main:"data"}),r.datas=r.mainData=null,S8(t,e,r),j(e,function(n){j(t.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,ve(ept,r))})}),t.wrapMethod("cloneShallow",ve(npt,r)),j(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,ve(rpt,r))}),qn(e[t.dataType]===t)}function ept(r,t){if(opt(this)){var e=Mt({},fa(this).datas);e[this.dataType]=t,S8(t,e,r)}else xD(t,this.dataType,fa(this).mainData,r);return t}function rpt(r,t){return r.struct&&r.struct.update(),t}function npt(r,t){return j(fa(t).datas,function(e,n){e!==t&&xD(e.cloneShallow(),n,t,r)}),t}function ipt(r){var t=fa(this).mainData;return r==null||t==null?t:fa(t).datas[r]}function apt(){var r=fa(this).mainData;return r==null?[{data:r}]:Pt(Le(fa(r).datas),function(t){return{type:t,data:fa(r).datas[t]}})}function opt(r){return fa(r).mainData===r}function S8(r,t,e){fa(r).datas={},j(t,function(n,i){xD(n,i,r,e)})}function xD(r,t,e,n){fa(e).datas[t]=r,fa(r).mainData=e,r.dataType=t,n.struct&&(r[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=r),r.getLinkedData=ipt,r.getLinkedDataAll=apt}var spt=(function(){function r(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(t,e,n){re(t)&&(n=e,e=t,t=null),t=t||{},$t(t)&&(t={order:t});var i=t.order||"preorder",a=this[t.attr||"children"],o;i==="preorder"&&(o=e.call(n,this));for(var c=0;!o&&c<a.length;c++)a[c].eachNode(t,e,n);i==="postorder"&&e.call(n,this)},r.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},r.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var a=n[e].getNodeById(t);if(a)return a}},r.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var a=n[e].contains(t);if(a)return a}},r.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},r.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},r.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},r.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},r.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},r.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},r.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},r.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},r})(),ED=(function(){function r(t){this.type="tree",this._nodes=[],this.hostModel=t}return r.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},r.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},r.prototype.getNodeById=function(t){return this.root.getNodeById(t)},r.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(var n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(t,e,n){var i=new r(e),a=[],o=1;c(t);function c(g,y){var m=g.value;o=Math.max(o,Rt(m)?m.length:1),a.push(g);var b=new spt(nn(g.name,""),i);y?lpt(b,y):i.root=b,i._nodes.push(b);var S=g.children;if(S)for(var E=0;E<S.length;E++)c(S[E],b)}i.root.updateDepthAndHeight(0);var h=Wv(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,v=new fi(h,e);return v.initData(a),n&&n(v),b8({mainData:v,struct:i,structAttr:"tree"}),i.update(),i},r})();function lpt(r,t){var e=t.children;r.parentNode!==t&&(e.push(r),r.parentNode=t)}function Ev(r,t,e){if(r&&ge(t,r.type)>=0){var n=e.getData().tree.root,i=r.targetNode;if($t(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var a=r.targetNodeId;if(a!=null&&(i=n.getNodeById(a)))return{node:i}}}function w8(r){for(var t=[];r;)r=r.parentNode,r&&t.push(r);return t.reverse()}function TD(r,t){var e=w8(r);return ge(e,t)>=0}function ub(r,t){for(var e=[];r;){var n=r.dataIndex;e.push({name:r.name,dataIndex:n,value:t.getRawValue(n)}),r=r.parentNode}return e.reverse(),e}var upt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e){var n={name:e.name,children:e.data},i=e.leaves||{},a=new Me(i,this,this.ecModel),o=ED.createTree(n,this,c);function c(y){y.wrapMethod("getItemModel",function(m,b){var S=o.getNodeByDataIndex(b);return S&&S.children.length&&S.isExpand||(m.parentModel=a),m})}var h=0;o.eachNode("preorder",function(y){y.depth>h&&(h=y.depth)});var v=e.expandAndCollapse,g=v&&e.initialTreeDepth>=0?e.initialTreeDepth:h;return o.root.eachNode("preorder",function(y){var m=y.hostTree.data.getRawDataItem(y.dataIndex);y.isExpand=m&&m.collapsed!=null?!m.collapsed:y.depth<=g}),o.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,n,i){for(var a=this.getData().tree,o=a.root.children[0],c=a.getNodeByDataIndex(e),h=c.getValue(),v=c.name;c&&c!==o;)v=c.parentNode.name+"."+v,c=c.parentNode;return Zr("nameValue",{name:v,value:h,noValue:isNaN(h)||h==null})},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=ub(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:yt.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t})(sr);function cpt(r,t,e){for(var n=[r],i=[],a;a=n.pop();)if(i.push(a),a.isExpand){var o=a.children;if(o.length)for(var c=0;c<o.length;c++)n.push(o[c])}for(;a=i.pop();)t(a,e)}function od(r,t){for(var e=[r],n;n=e.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)e.push(i[a])}}function fpt(r,t){r.eachSeriesByType("tree",function(e){hpt(e,t)})}function hpt(r,t){var e=sn(r,t).refContainer,n=mr(r.getBoxLayoutParams(),e);r.layoutInfo=n;var i=r.get("layout"),a=0,o=0,c=null;i==="radial"?(a=2*Math.PI,o=Math.min(n.height,n.width)/2,c=kV(function(R,O){return(R.parentNode===O.parentNode?1:2)/R.depth})):(a=n.width,o=n.height,c=kV());var h=r.getData().tree.root,v=h.children[0];if(v){Uht(h),cpt(v,Wht,c),h.hierNode.modifier=-v.hierNode.prelim,od(v,jht);var g=v,y=v,m=v;od(v,function(R){var O=R.getLayout().x;O<g.getLayout().x&&(g=R),O>y.getLayout().x&&(y=R),R.depth>m.depth&&(m=R)});var b=g===y?1:c(g,y)/2,S=b-g.getLayout().x,E=0,C=0,A=0,D=0;if(i==="radial")E=a/(y.getLayout().x+b+S),C=o/(m.depth-1||1),od(v,function(R){A=(R.getLayout().x+S)*E,D=(R.depth-1)*C;var O=Cd(A,D);R.setLayout({x:O.x,y:O.y,rawX:A,rawY:D},!0)});else{var L=r.getOrient();L==="RL"||L==="LR"?(C=o/(y.getLayout().x+b+S),E=a/(m.depth-1||1),od(v,function(R){D=(R.getLayout().x+S)*C,A=L==="LR"?(R.depth-1)*E:a-(R.depth-1)*E,R.setLayout({x:A,y:D},!0)})):(L==="TB"||L==="BT")&&(E=a/(y.getLayout().x+b+S),C=o/(m.depth-1||1),od(v,function(R){A=(R.getLayout().x+S)*E,D=L==="TB"?(R.depth-1)*C:o-(R.depth-1)*C,R.setLayout({x:A,y:D},!0)}))}}}function ppt(r){r.eachSeriesByType("tree",function(t){var e=t.getData(),n=e.tree;n.eachNode(function(i){var a=i.getModel(),o=a.getModel("itemStyle").getItemStyle(),c=e.ensureUniqueItemVisual(i.dataIndex,"style");Mt(c,o)})})}function dpt(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var i=t.dataIndex,a=n.getData().tree,o=a.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var a=i.coordinateSystem,o=sb(a,t,i.get("scaleLimit"));i.setCenter(o.center),i.setZoom(o.zoom)})})}function vpt(r){r.registerChartView(Qht),r.registerSeriesModel(upt),r.registerLayout(fpt),r.registerVisual(ppt),dpt(r)}var HV=["treemapZoomToNode","treemapRender","treemapMove"];function gpt(r){for(var t=0;t<HV.length;t++)r.registerAction({type:HV[t],update:"updateView"},Fr);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"treemap",query:e},i);function i(a,o){var c=["treemapZoomToNode","treemapRootToNode"],h=Ev(e,c,a);if(h){var v=a.getViewRoot();v&&(e.direction=TD(v,h.node)?"rollUp":"drillDown"),a.resetViewRoot(h.node)}}})}function x8(r){var t=r.getData(),e=t.tree,n={};e.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var o=hT(r.ecModel,a.name||a.dataIndex+"",n);i.setVisual("decal",o)})}var ypt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,n){var i={name:e.name,children:e.data};E8(i);var a=e.levels||[],o=this.designatedVisualItemStyle={},c=new Me({itemStyle:o},this,n);a=e.levels=mpt(a,n);var h=Pt(a||[],function(y){return new Me(y,c,n)},this),v=ED.createTree(i,this,g);function g(y){y.wrapMethod("getItemModel",function(m,b){var S=v.getNodeByDataIndex(b),E=S?h[S.depth]:null;return m.parentModel=E||c,m})}return v.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=this.getRawValue(e),c=a.getName(e);return Zr("nameValue",{name:c,value:o})},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=ub(i,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},Mt(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var n=this._idIndexMap;n||(n=this._idIndexMap=Qt(),this._idIndexMapCount=0);var i=n.get(e);return i==null&&n.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){x8(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,coordinateSystemUsage:"box",left:yt.size.l,top:yt.size.xxxl,right:yt.size.l,bottom:yt.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:yt.size.m,emptyItemWidth:25,itemStyle:{color:yt.color.backgroundShade,textStyle:{color:yt.color.secondary}},emphasis:{itemStyle:{color:yt.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:yt.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:yt.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t})(sr);function E8(r){var t=0;j(r.children,function(n){E8(n);var i=n.value;Rt(i)&&(i=i[0]),t+=i});var e=r.value;Rt(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Rt(r.value)?r.value[0]=e:r.value=e}function mpt(r,t){var e=tr(t.get("color")),n=tr(t.get(["aria","decal","decals"]));if(e){r=r||[];var i,a;j(r,function(c){var h=new Me(c),v=h.get("color"),g=h.get("decal");(h.get(["itemStyle","color"])||v&&v!=="none")&&(i=!0),(h.get(["itemStyle","decal"])||g&&g!=="none")&&(a=!0)});var o=r[0]||(r[0]={});return i||(o.color=e.slice()),!a&&n&&(o.decal=n.slice()),r}}var _pt=8,zV=8,ix=5,bpt=(function(){function r(t){this.group=new ne,t.add(this.group)}return r.prototype.render=function(t,e,n,i){var a=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!a.get("show")||!n)){var c=a.getModel("itemStyle"),h=a.getModel("emphasis"),v=c.getModel("textStyle"),g=h.getModel(["itemStyle","textStyle"]),y=sn(t,e).refContainer,m={left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},b={emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},S=mr(m,y);this._prepare(n,b,v),this._renderContent(t,b,S,c,h,v,g,i),K_(o,m,y)}},r.prototype._prepare=function(t,e,n){for(var i=t;i;i=i.parentNode){var a=nn(i.getModel().get("name"),""),o=n.getTextRect(a),c=Math.max(o.width+_pt*2,e.emptyItemWidth);e.totalWidth+=c+zV,e.renderList.push({node:i,text:a,width:c})}},r.prototype._renderContent=function(t,e,n,i,a,o,c,h){for(var v=0,g=e.emptyItemWidth,y=t.get(["breadcrumb","height"]),m=e.totalWidth,b=e.renderList,S=a.getModel("itemStyle").getItemStyle(),E=b.length-1;E>=0;E--){var C=b[E],A=C.node,D=C.width,L=C.text;m>n.width&&(m-=D-g,D=g,L=null);var R=new Zn({shape:{points:Spt(v,0,D,y,E===b.length-1,E===0)},style:se(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new ke({style:or(o,{text:L})}),textConfig:{position:"inside"},z2:Vh*1e4,onclick:ve(h,A)});R.disableLabelAnimation=!0,R.getTextContent().ensureState("emphasis").style=or(c,{text:L}),R.ensureState("emphasis").style=S,yr(R,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(R),wpt(R,t,A),v+=D+zV}},r.prototype.remove=function(){this.group.removeAll()},r})();function Spt(r,t,e,n,i,a){var o=[[i?r:r-ix,t],[r+e,t],[r+e,t+n],[i?r:r-ix,t+n]];return!a&&o.splice(2,0,[r+e+ix,t+n/2]),!i&&o.push([r,t+n/2]),o}function wpt(r,t,e){fe(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&ub(e,t)}}var xpt=(function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(t,e,n,i,a){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:i,easing:a}),!0)},r.prototype.finished=function(t){return this._finishedCallback=t,this},r.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},r})();function Ept(){return new xpt}var XT=ne,UV=xe,WV=3,jV="label",YV="upperLabel",Tpt=Vh*10,Cpt=Vh*2,Apt=Vh*3,$u=wc([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),$V=function(r){var t=$u(r);return t.stroke=t.fill=t.lineWidth=null,t},t_=Ee(),Dpt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=sd(),e}return t.prototype.render=function(e,n,i,a){var o=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(ge(o,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=n;var c=["treemapZoomToNode","treemapRootToNode"],h=Ev(a,c,e),v=a&&a.type,g=e.layoutInfo,y=!this._oldTree,m=this._storage,b=v==="treemapRootToNode"&&h&&m?{rootNodeGroup:m.nodeGroup[h.node.getRawIndex()],direction:a.direction}:null,S=this._giveContainerGroup(g),E=e.get("animation"),C=this._doRender(S,e,b);E&&!y&&(!v||v==="treemapZoomToNode"||v==="treemapRootToNode")?this._doAnimation(S,C,e,b):C.renderFinally(),this._resetController(i),this._renderBreadcrumb(e,i,h)}},t.prototype._giveContainerGroup=function(e){var n=this._containerGroup;return n||(n=this._containerGroup=new XT,this._initEvents(n),this.group.add(n)),n.x=e.x,n.y=e.y,n},t.prototype._doRender=function(e,n,i){var a=n.getData().tree,o=this._oldTree,c=sd(),h=sd(),v=this._storage,g=[];function y(D,L,R,O){return Mpt(n,h,v,i,c,g,D,L,R,O)}E(a.root?[a.root]:[],o&&o.root?[o.root]:[],e,a===o||!o,0);var m=C(v);if(this._oldTree=a,this._storage=h,this._controllerHost){var b=this.seriesModel.layoutInfo,S=a.root.getLayout();S.width===b.width&&S.height===b.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:c,willDeleteEls:m,renderFinally:A};function E(D,L,R,O,P){O?(L=D,j(D,function(F,H){!F.isRemoved()&&k(H,H)})):new xs(L,D,V,V).add(k).update(k).remove(ve(k,null)).execute();function V(F){return F.getId()}function k(F,H){var W=F!=null?D[F]:null,q=H!=null?L[H]:null,Y=y(W,q,R,P);Y&&E(W&&W.viewChildren||[],q&&q.viewChildren||[],Y,O,P+1)}}function C(D){var L=sd();return D&&j(D,function(R,O){var P=L[O];j(R,function(V){V&&(P.push(V),t_(V).willDelete=!0)})}),L}function A(){j(m,function(D){j(D,function(L){L.parent&&L.parent.remove(L)})}),j(g,function(D){D.invisible=!0,D.dirty()})}},t.prototype._doAnimation=function(e,n,i,a){var o=i.get("animationDurationUpdate"),c=i.get("animationEasing"),h=(re(o)?0:o)||0,v=(re(c)?null:c)||"cubicOut",g=Ept();j(n.willDeleteEls,function(y,m){j(y,function(b,S){if(!b.invisible){var E=b.parent,C,A=t_(E);if(a&&a.direction==="drillDown")C=E===a.rootNodeGroup?{shape:{x:0,y:0,width:A.nodeWidth,height:A.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var D=0,L=0;A.willDelete||(D=A.nodeWidth/2,L=A.nodeHeight/2),C=m==="nodeGroup"?{x:D,y:L,style:{opacity:0}}:{shape:{x:D,y:L,width:0,height:0},style:{opacity:0}}}C&&g.add(b,C,h,0,v)}})}),j(this._storage,function(y,m){j(y,function(b,S){var E=n.lastsForAnimation[m][S],C={};E&&(b instanceof ne?E.oldX!=null&&(C.x=b.x,C.y=b.y,b.x=E.oldX,b.y=E.oldY):(E.oldShape&&(C.shape=Mt({},b.shape),b.setShape(E.oldShape)),E.fadein?(b.setStyle("opacity",0),C.style={opacity:1}):b.style.opacity!==1&&(C.style={opacity:1})),g.add(b,C,h,0,v))})},this),this._state="animating",g.finished(qt(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(e){var n=this,i=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost);var o=this.seriesModel;i||(i=this._controller=new Fc(e.getZr()),i.on("pan",qt(this._onPan,this)),i.on("zoom",qt(this._onZoom,this))),i.enable(o.get("roam"),{api:e,zInfo:{component:o},triggerInfo:{roamTrigger:o.get("roamTrigger"),isInSelf:function(c,h,v){var g=n._containerGroup;return g?g.getBoundingRect().contain(h-g.x,v-g.y):!1}}}),a.zoomLimit=o.get("scaleLimit"),a.zoom=o.get("zoom")},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>WV||Math.abs(e.dy)>WV)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var n=e.originX,i=e.originY,a=e.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var c=o.getLayout();if(!c)return;var h=new ue(c.x,c.y,c.width,c.height),v=null,g=this._controllerHost;v=g.zoomLimit;var y=g.zoom=g.zoom||1;if(y*=a,v){var m=v.min||0,b=v.max||1/0;y=Math.max(Math.min(b,y),m)}var S=y/g.zoom;g.zoom=y;var E=this.seriesModel.layoutInfo;n-=E.x,i-=E.y;var C=wn();Oo(C,C,[-n,-i]),oA(C,C,[S,S]),Oo(C,C,[n,i]),h.applyTransform(C),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:h.x,y:h.y,width:h.width,height:h.height}})}},t.prototype._initEvents=function(e){var n=this;e.on("click",function(i){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var o=n.findTarget(i.offsetX,i.offsetY);if(o){var c=o.node;if(c.getLayout().isLeafRoot)n._rootToNode(o);else if(a==="zoomToNode")n._zoomToNode(o);else if(a==="link"){var h=c.hostTree.data.getItemModel(c.dataIndex),v=h.get("link",!0),g=h.get("target",!0)||"blank";v&&R0(v,g)}}}}},this)},t.prototype._renderBreadcrumb=function(e,n,i){var a=this;i||(i=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new bpt(this.group))).render(e,n,i.node,function(o){a._state!=="animating"&&(TD(e.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=sd(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,n){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(o){var c=this._storage.background[o.getRawIndex()];if(c){var h=c.transformCoordToLocal(e,n),v=c.shape;if(v.x<=h[0]&&h[0]<=v.x+v.width&&v.y<=h[1]&&h[1]<=v.y+v.height)i={node:o,offsetX:h[0],offsetY:h[1]};else return!1}},this),i},t.type="treemap",t})(Je);function sd(){return{nodeGroup:[],background:[],content:[]}}function Mpt(r,t,e,n,i,a,o,c,h,v){if(!o)return;var g=o.getLayout(),y=r.getData(),m=o.getModel();if(y.setItemGraphicEl(o.dataIndex,null),!g||!g.isInView)return;var b=g.width,S=g.height,E=g.borderWidth,C=g.invisible,A=o.getRawIndex(),D=c&&c.getRawIndex(),L=o.viewChildren,R=g.upperHeight,O=L&&L.length,P=m.getModel("itemStyle"),V=m.getModel(["emphasis","itemStyle"]),k=m.getModel(["blur","itemStyle"]),F=m.getModel(["select","itemStyle"]),H=P.get("borderRadius")||0,W=zt("nodeGroup",XT);if(!W)return;if(h.add(W),W.x=g.x||0,W.y=g.y||0,W.markRedraw(),t_(W).nodeWidth=b,t_(W).nodeHeight=S,g.isAboveViewRoot)return W;var q=zt("background",UV,v,Cpt);q&&lt(W,q,O&&g.upperLabelHeight);var Y=m.getModel("emphasis"),K=Y.get("focus"),X=Y.get("blurScope"),J=Y.get("disabled"),it=K==="ancestor"?o.getAncestorsIndices():K==="descendant"?o.getDescendantIndices():K;if(O)uv(W)&&nc(W,!1),q&&(nc(q,!J),y.setItemGraphicEl(o.dataIndex,q),tT(q,it,X));else{var rt=zt("content",UV,v,Apt);rt&&dt(W,rt),q.disableMorphing=!0,q&&uv(q)&&nc(q,!1),nc(W,!J),y.setItemGraphicEl(o.dataIndex,W);var st=m.getShallow("cursor");st&&rt.attr("cursor",st),tT(W,it,X)}return W;function lt(Bt,gt,Ct){var wt=fe(gt);if(wt.dataIndex=o.dataIndex,wt.seriesIndex=r.seriesIndex,gt.setShape({x:0,y:0,width:b,height:S,r:H}),C)pt(gt);else{gt.invisible=!1;var Z=o.getVisual("style"),at=Z.stroke,ut=$V(P);ut.fill=at;var _t=$u(V);_t.fill=V.get("borderColor");var mt=$u(k);mt.fill=k.get("borderColor");var xt=$u(F);if(xt.fill=F.get("borderColor"),Ct){var tt=b-2*E;Tt(gt,at,Z.opacity,{x:E,y:0,width:tt,height:R})}else gt.removeTextContent();gt.setStyle(ut),gt.ensureState("emphasis").style=_t,gt.ensureState("blur").style=mt,gt.ensureState("select").style=xt,xc(gt)}Bt.add(gt)}function dt(Bt,gt){var Ct=fe(gt);Ct.dataIndex=o.dataIndex,Ct.seriesIndex=r.seriesIndex;var wt=Math.max(b-2*E,0),Z=Math.max(S-2*E,0);if(gt.culling=!0,gt.setShape({x:E,y:E,width:wt,height:Z,r:H}),C)pt(gt);else{gt.invisible=!1;var at=o.getVisual("style"),ut=at.fill,_t=$V(P);_t.fill=ut,_t.decal=at.decal;var mt=$u(V),xt=$u(k),tt=$u(F);Tt(gt,ut,at.opacity,null),gt.setStyle(_t),gt.ensureState("emphasis").style=mt,gt.ensureState("blur").style=xt,gt.ensureState("select").style=tt,xc(gt)}Bt.add(gt)}function pt(Bt){!Bt.invisible&&a.push(Bt)}function Tt(Bt,gt,Ct,wt){var Z=m.getModel(wt?YV:jV),at=nn(m.get("name"),null),ut=Z.getShallow("show");dn(Bt,on(m,wt?YV:jV),{defaultText:ut?at:null,inheritColor:gt,defaultOpacity:Ct,labelFetcher:r,labelDataIndex:o.dataIndex});var _t=Bt.getTextContent();if(_t){var mt=_t.style,xt=M_(mt.padding||0);wt&&(Bt.setTextConfig({layoutRect:wt}),_t.disableLabelLayout=!0),_t.beforeUpdate=function(){var et=Math.max((wt?wt.width:Bt.shape.width)-xt[1]-xt[3],0),ht=Math.max((wt?wt.height:Bt.shape.height)-xt[0]-xt[2],0);(mt.width!==et||mt.height!==ht)&&_t.setStyle({width:et,height:ht})},mt.truncateMinChar=2,mt.lineOverflow="truncate",Ft(mt,wt,g);var tt=_t.getState("emphasis");Ft(tt?tt.style:null,wt,g)}}function Ft(Bt,gt,Ct){var wt=Bt?Bt.text:null;if(!gt&&Ct.isLeafRoot&&wt!=null){var Z=r.get("drillDownIcon",!0);Bt.text=Z?Z+" "+wt:wt}}function zt(Bt,gt,Ct,wt){var Z=D!=null&&e[Bt][D],at=i[Bt];return Z?(e[Bt][D]=null,Vt(at,Z)):C||(Z=new gt,Z instanceof ha&&(Z.z2=Lpt(Ct,wt)),Kt(at,Z)),t[Bt][A]=Z}function Vt(Bt,gt){var Ct=Bt[A]={};gt instanceof XT?(Ct.oldX=gt.x,Ct.oldY=gt.y):Ct.oldShape=Mt({},gt.shape)}function Kt(Bt,gt){var Ct=Bt[A]={},wt=o.parentNode,Z=gt instanceof ne;if(wt&&(!n||n.direction==="drillDown")){var at=0,ut=0,_t=i.background[wt.getRawIndex()];!n&&_t&&_t.oldShape&&(at=_t.oldShape.width,ut=_t.oldShape.height),Z?(Ct.oldX=0,Ct.oldY=ut):Ct.oldShape={x:at,y:ut,width:0,height:0}}Ct.fadein=!Z}}function Lpt(r,t){return r*Tpt+t}var Tv=j,Npt=le,e_=-1,hn=(function(){function r(t){var e=t.mappingMethod,n=t.type,i=this.option=ie(t);this.type=n,this.mappingMethod=e,this._normalizeData=Opt[e];var a=r.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],e==="piecewise"?(ax(i),Rpt(i)):e==="category"?i.categories?Ipt(i):ax(i,!0):(qn(e!=="linear"||i.dataExtent),ax(i))}return r.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},r.prototype.getNormalizer=function(){return qt(this._normalizeData,this)},r.listVisualTypes=function(){return Le(r.visualHandlers)},r.isValidType=function(t){return r.visualHandlers.hasOwnProperty(t)},r.eachVisual=function(t,e,n){le(t)?j(t,e,n):e.call(n,t)},r.mapVisual=function(t,e,n){var i,a=Rt(t)?[]:le(t)?{}:(i=!0,null);return r.eachVisual(t,function(o,c){var h=e.call(n,o,c);i?a=h:a[c]=h}),a},r.retrieveVisuals=function(t){var e={},n;return t&&Tv(r.visualHandlers,function(i,a){t.hasOwnProperty(a)&&(e[a]=t[a],n=!0)}),n?e:null},r.prepareVisualTypes=function(t){if(Rt(t))t=t.slice();else if(Npt(t)){var e=[];Tv(t,function(n,i){e.push(i)}),t=e}else return[];return t.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},r.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},r.findPieceIndex=function(t,e,n){for(var i,a=1/0,o=0,c=e.length;o<c;o++){var h=e[o].value;if(h!=null){if(h===t||$t(h)&&h===t+"")return o;n&&m(h,o)}}for(var o=0,c=e.length;o<c;o++){var v=e[o],g=v.interval,y=v.close;if(g){if(g[0]===-1/0){if(vm(y[1],t,g[1]))return o}else if(g[1]===1/0){if(vm(y[0],g[0],t))return o}else if(vm(y[0],g[0],t)&&vm(y[1],t,g[1]))return o;n&&m(g[0],o),n&&m(g[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function m(b,S){var E=Math.abs(b-t);E<a&&(a=E,i=S)}},r.visualHandlers={color:{applyVisual:ld("color"),getColorMapper:function(){var t=this.option;return qt(t.mappingMethod==="category"?function(e,n){return!n&&(e=this._normalizeData(e)),Ad.call(this,e)}:function(e,n,i){var a=!!i;return!n&&(e=this._normalizeData(e)),i=GS(e,t.parsedVisual,i),a?i:Mo(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Mo(GS(t,this.option.parsedVisual),"rgba")},category:Ad,piecewise:function(t,e){var n=KT.call(this,e);return n==null&&(n=Mo(GS(t,this.option.parsedVisual),"rgba")),n},fixed:qu}},colorHue:dm(function(t,e){return wl(t,e)}),colorSaturation:dm(function(t,e){return wl(t,null,e)}),colorLightness:dm(function(t,e){return wl(t,null,null,e)}),colorAlpha:dm(function(t,e){return m0(t,e)}),decal:{applyVisual:ld("decal"),_normalizedToVisual:{linear:null,category:Ad,piecewise:null,fixed:null}},opacity:{applyVisual:ld("opacity"),_normalizedToVisual:ZT([0,1])},liftZ:{applyVisual:ld("liftZ"),_normalizedToVisual:{linear:qu,category:qu,piecewise:qu,fixed:qu}},symbol:{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);n("symbol",i)},_normalizedToVisual:{linear:qV,category:Ad,piecewise:function(t,e){var n=KT.call(this,e);return n==null&&(n=qV.call(this,t)),n},fixed:qu}},symbolSize:{applyVisual:ld("symbolSize"),_normalizedToVisual:ZT([0,1])}},r})();function Rpt(r){var t=r.pieceList;r.hasSpecialVisual=!1,j(t,function(e,n){e.originIndex=n,e.visual!=null&&(r.hasSpecialVisual=!0)})}function Ipt(r){var t=r.categories,e=r.categoryMap={},n=r.visual;if(Tv(t,function(o,c){e[o]=c}),!Rt(n)){var i=[];le(n)?Tv(n,function(o,c){var h=e[c];i[h??e_]=o}):i[e_]=n,n=T8(r,i)}for(var a=t.length-1;a>=0;a--)n[a]==null&&(delete e[t[a]],t.pop())}function ax(r,t){var e=r.visual,n=[];le(e)?Tv(e,function(a){n.push(a)}):e!=null&&n.push(e);var i={color:1,symbol:1};!t&&n.length===1&&!i.hasOwnProperty(r.type)&&(n[1]=n[0]),T8(r,n)}function dm(r){return{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);n("color",r(e("color"),i))},_normalizedToVisual:ZT([0,1])}}function qV(r){var t=this.option.visual;return t[Math.round(je(r,[0,1],[0,t.length-1],!0))]||{}}function ld(r){return function(t,e,n){n(r,this.mapValueToVisual(t))}}function Ad(r){var t=this.option.visual;return t[this.option.loop&&r!==e_?r%t.length:r]}function qu(){return this.option.visual[0]}function ZT(r){return{linear:function(t){return je(t,r,this.option.visual,!0)},category:Ad,piecewise:function(t,e){var n=KT.call(this,e);return n==null&&(n=je(t,r,this.option.visual,!0)),n},fixed:qu}}function KT(r){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var n=hn.findPieceIndex(r,e),i=e[n];if(i&&i.visual)return i.visual[this.type]}}function T8(r,t){return r.visual=t,r.type==="color"&&(r.parsedVisual=Pt(t,function(e){var n=Ei(e);return n||[0,0,0,1]})),t}var Opt={linear:function(r){return je(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var t=this.option.pieceList,e=hn.findPieceIndex(r,t,!0);if(e!=null)return je(e,[0,t.length-1],[0,1],!0)},category:function(r){var t=this.option.categories?this.option.categoryMap[r]:r;return t??e_},fixed:Fr};function vm(r,t,e){return r?t<=e:t<e}var Ppt="itemStyle",C8=Ee();const kpt={seriesType:"treemap",reset:function(r){var t=r.getData().tree,e=t.root;e.isRemoved()||A8(e,{},r.getViewRoot().getAncestors(),r)}};function A8(r,t,e,n){var i=r.getModel(),a=r.getLayout(),o=r.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var c=i.getModel(Ppt),h=Vpt(c,t,n),v=o.ensureUniqueItemVisual(r.dataIndex,"style"),g=c.get("borderColor"),y=c.get("borderColorSaturation"),m;y!=null&&(m=XV(h),g=Gpt(y,m)),v.stroke=g;var b=r.viewChildren;if(!b||!b.length)m=XV(h),v.fill=m;else{var S=Fpt(r,i,a,c,h,b);j(b,function(E,C){if(E.depth>=e.length||E===e[E.depth]){var A=Bpt(i,h,E,C,S,n);A8(E,A,e,n)}})}}}function Vpt(r,t,e){var n=Mt({},t),i=e.designatedVisualItemStyle;return j(["color","colorAlpha","colorSaturation"],function(a){i[a]=t[a];var o=r.get(a);i[a]=null,o!=null&&(n[a]=o)}),n}function XV(r){var t=ox(r,"color");if(t){var e=ox(r,"colorAlpha"),n=ox(r,"colorSaturation");return n&&(t=wl(t,null,null,n)),e&&(t=m0(t,e)),t}}function Gpt(r,t){return t!=null?wl(t,null,null,r):null}function ox(r,t){var e=r[t];if(e!=null&&e!=="none")return e}function Fpt(r,t,e,n,i,a){if(!(!a||!a.length)){var o=sx(t,"color")||i.color!=null&&i.color!=="none"&&(sx(t,"colorAlpha")||sx(t,"colorSaturation"));if(o){var c=t.get("visualMin"),h=t.get("visualMax"),v=e.dataExtent.slice();c!=null&&c<v[0]&&(v[0]=c),h!=null&&h>v[1]&&(v[1]=h);var g=t.get("colorMappingBy"),y={type:o.name,dataExtent:v,visual:o.range};y.type==="color"&&(g==="index"||g==="id")?(y.mappingMethod="category",y.loop=!0):y.mappingMethod="linear";var m=new hn(y);return C8(m).drColorMappingBy=g,m}}}function sx(r,t){var e=r.get(t);return Rt(e)&&e.length?{name:t,range:e}:null}function Bpt(r,t,e,n,i,a){var o=Mt({},t);if(i){var c=i.type,h=c==="color"&&C8(i).drColorMappingBy,v=h==="index"?n:h==="id"?a.mapIdToIndex(e.getId()):e.getValue(r.get("visualDimension"));o[c]=i.mapValueToVisual(v)}return o}var Cv=Math.max,r_=Math.min,ZV=On,CD=j,D8=["itemStyle","borderWidth"],Hpt=["itemStyle","gapWidth"],zpt=["upperLabel","show"],Upt=["upperLabel","height"];const Wpt={seriesType:"treemap",reset:function(r,t,e,n){var i=r.option,a=sn(r,e).refContainer,o=mr(r.getBoxLayoutParams(),a),c=i.size||[],h=Yt(ZV(o.width,c[0]),a.width),v=Yt(ZV(o.height,c[1]),a.height),g=n&&n.type,y=["treemapZoomToNode","treemapRootToNode"],m=Ev(n,y,r),b=g==="treemapRender"||g==="treemapMove"?n.rootRect:null,S=r.getViewRoot(),E=w8(S);if(g!=="treemapMove"){var C=g==="treemapZoomToNode"?Zpt(r,m,S,h,v):b?[b.width,b.height]:[h,v],A=i.sort;A&&A!=="asc"&&A!=="desc"&&(A="desc");var D={squareRatio:i.squareRatio,sort:A,leafDepth:i.leafDepth};S.hostTree.clearLayouts();var L={x:0,y:0,width:C[0],height:C[1],area:C[0]*C[1]};S.setLayout(L),M8(S,D,!1,0),L=S.getLayout(),CD(E,function(O,P){var V=(E[P+1]||S).getValue();O.setLayout(Mt({dataExtent:[V,V],borderWidth:0,upperHeight:0},L))})}var R=r.getData().tree.root;R.setLayout(Kpt(o,b,m),!0),r.setLayoutInfo(o),L8(R,new ue(-o.x,-o.y,e.getWidth(),e.getHeight()),E,S,0)}};function M8(r,t,e,n){var i,a;if(!r.isRemoved()){var o=r.getLayout();i=o.width,a=o.height;var c=r.getModel(),h=c.get(D8),v=c.get(Hpt)/2,g=N8(c),y=Math.max(h,g),m=h-v,b=y-v;r.setLayout({borderWidth:h,upperHeight:y,upperLabelHeight:g},!0),i=Cv(i-2*m,0),a=Cv(a-m-b,0);var S=i*a,E=jpt(r,c,S,t,e,n);if(E.length){var C={x:m,y:b,width:i,height:a},A=r_(i,a),D=1/0,L=[];L.area=0;for(var R=0,O=E.length;R<O;){var P=E[R];L.push(P),L.area+=P.getLayout().area;var V=Xpt(L,A,t.squareRatio);V<=D?(R++,D=V):(L.area-=L.pop().getLayout().area,KV(L,A,C,v,!1),A=r_(C.width,C.height),L.length=L.area=0,D=1/0)}if(L.length&&KV(L,A,C,v,!0),!e){var k=c.get("childrenVisibleMin");k!=null&&S<k&&(e=!0)}for(var R=0,O=E.length;R<O;R++)M8(E[R],t,e,n+1)}}}function jpt(r,t,e,n,i,a){var o=r.children||[],c=n.sort;c!=="asc"&&c!=="desc"&&(c=null);var h=n.leafDepth!=null&&n.leafDepth<=a;if(i&&!h)return r.viewChildren=[];o=Ye(o,function(b){return!b.isRemoved()}),$pt(o,c);var v=qpt(t,o,c);if(v.sum===0)return r.viewChildren=[];if(v.sum=Ypt(t,e,v.sum,c,o),v.sum===0)return r.viewChildren=[];for(var g=0,y=o.length;g<y;g++){var m=o[g].getValue()/v.sum*e;o[g].setLayout({area:m})}return h&&(o.length&&r.setLayout({isLeafRoot:!0},!0),o.length=0),r.viewChildren=o,r.setLayout({dataExtent:v.dataExtent},!0),o}function Ypt(r,t,e,n,i){if(!n)return e;for(var a=r.get("visibleMin"),o=i.length,c=o,h=o-1;h>=0;h--){var v=i[n==="asc"?o-h-1:h].getValue();v/e*t<a&&(c=h,e-=v)}return n==="asc"?i.splice(0,o-c):i.splice(c,o-c),e}function $pt(r,t){return t&&r.sort(function(e,n){var i=t==="asc"?e.getValue()-n.getValue():n.getValue()-e.getValue();return i===0?t==="asc"?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:i}),r}function qpt(r,t,e){for(var n=0,i=0,a=t.length;i<a;i++)n+=t[i].getValue();var o=r.get("visualDimension"),c;return!t||!t.length?c=[NaN,NaN]:o==="value"&&e?(c=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&c.reverse()):(c=[1/0,-1/0],CD(t,function(h){var v=h.getValue(o);v<c[0]&&(c[0]=v),v>c[1]&&(c[1]=v)})),{sum:n,dataExtent:c}}function Xpt(r,t,e){for(var n=0,i=1/0,a=0,o=void 0,c=r.length;a<c;a++)o=r[a].getLayout().area,o&&(o<i&&(i=o),o>n&&(n=o));var h=r.area*r.area,v=t*t*e;return h?Cv(v*n/h,h/(v*i)):1/0}function KV(r,t,e,n,i){var a=t===e.width?0:1,o=1-a,c=["x","y"],h=["width","height"],v=e[c[a]],g=t?r.area/t:0;(i||g>e[h[o]])&&(g=e[h[o]]);for(var y=0,m=r.length;y<m;y++){var b=r[y],S={},E=g?b.getLayout().area/g:0,C=S[h[o]]=Cv(g-2*n,0),A=e[c[a]]+e[h[a]]-v,D=y===m-1||A<E?A:E,L=S[h[a]]=Cv(D-2*n,0);S[c[o]]=e[c[o]]+r_(n,C/2),S[c[a]]=v+r_(n,L/2),v+=D,b.setLayout(S,!0)}e[c[o]]+=g,e[h[o]]-=g}function Zpt(r,t,e,n,i){var a=(t||{}).node,o=[n,i];if(!a||a===e)return o;for(var c,h=n*i,v=h*r.option.zoomToNodeRatio;c=a.parentNode;){for(var g=0,y=c.children,m=0,b=y.length;m<b;m++)g+=y[m].getValue();var S=a.getValue();if(S===0)return o;v*=g/S;var E=c.getModel(),C=E.get(D8),A=Math.max(C,N8(E));v+=4*C*C+(3*C+A)*Math.pow(v,.5),v>rO&&(v=rO),a=c}v<h&&(v=h);var D=Math.pow(v/h,.5);return[n*D,i*D]}function Kpt(r,t,e){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!e)return n;var i=e.node,a=i.getLayout();if(!a)return n;for(var o=[a.width/2,a.height/2],c=i;c;){var h=c.getLayout();o[0]+=h.x,o[1]+=h.y,c=c.parentNode}return{x:r.width/2-o[0],y:r.height/2-o[1]}}function L8(r,t,e,n,i){var a=r.getLayout(),o=e[i],c=o&&o===r;if(!(o&&!c||i===e.length&&r!==n)){r.setLayout({isInView:!0,invisible:!c&&!t.intersect(a),isAboveViewRoot:c},!0);var h=new ue(t.x-a.x,t.y-a.y,t.width,t.height);CD(r.viewChildren||[],function(v){L8(v,h,e,n,i+1)})}}function N8(r){return r.get(zpt)?r.get(Upt):0}function Jpt(r){r.registerSeriesModel(ypt),r.registerChartView(Dpt),r.registerVisual(kpt),r.registerLayout(Wpt),gpt(r)}function Qpt(r){var t=r.findComponents({mainType:"legend"});!t||!t.length||r.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),i=e.getGraph(),a=i.data,o=n.mapArray(n.getName);a.filterSelf(function(c){var h=a.getItemModel(c),v=h.getShallow("category");if(v!=null){Ie(v)&&(v=o[v]);for(var g=0;g<t.length;g++)if(!t[g].isSelected(v))return!1}return!0})})}function tdt(r){var t={};r.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),i=e.getData(),a={};n.each(function(o){var c=n.getName(o);a["ec-"+c]=o;var h=n.getItemModel(o),v=h.getModel("itemStyle").getItemStyle();v.fill||(v.fill=e.getColorFromPalette(c,t)),n.setItemVisual(o,"style",v);for(var g=["symbol","symbolSize","symbolKeepAspect"],y=0;y<g.length;y++){var m=h.getShallow(g[y],!0);m!=null&&n.setItemVisual(o,g[y],m)}}),n.count()&&i.each(function(o){var c=i.getItemModel(o),h=c.getShallow("category");if(h!=null){$t(h)&&(h=a["ec-"+h]);var v=n.getItemVisual(h,"style"),g=i.ensureUniqueItemVisual(o,"style");Mt(g,v);for(var y=["symbol","symbolSize","symbolKeepAspect"],m=0;m<y.length;m++)i.setItemVisual(o,y[m],n.getItemVisual(h,y[m]))}})})}function gm(r){return r instanceof Array||(r=[r,r]),r}function edt(r){r.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),i=gm(t.get("edgeSymbol")),a=gm(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(o){var c=n.getItemModel(o),h=e.getEdgeByIndex(o),v=gm(c.getShallow("symbol",!0)),g=gm(c.getShallow("symbolSize",!0)),y=c.getModel("lineStyle").getLineStyle(),m=n.ensureUniqueItemVisual(o,"style");switch(Mt(m,y),m.stroke){case"source":{var b=h.node1.getVisual("style");m.stroke=b&&b.fill;break}case"target":{var b=h.node2.getVisual("style");m.stroke=b&&b.fill;break}}v[0]&&h.setVisual("fromSymbol",v[0]),v[1]&&h.setVisual("toSymbol",v[1]),g[0]&&h.setVisual("fromSymbolSize",g[0]),g[1]&&h.setVisual("toSymbolSize",g[1])})})}var JT="-->",cb=function(r){return r.get("autoCurveness")||null},R8=function(r,t){var e=cb(r),n=20,i=[];if(Ie(e))n=e;else if(Rt(e)){r.__curvenessList=e;return}t>n&&(n=t);var a=n%2?n+2:n+3;i=[];for(var o=0;o<a;o++)i.push((o%2?o+1:o)/10*(o%2?-1:1));r.__curvenessList=i},Av=function(r,t,e){var n=[r.id,r.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[e.uid,n,i].join(JT)},I8=function(r){var t=r.split(JT);return[t[0],t[2],t[1]].join(JT)},rdt=function(r,t){var e=Av(r.node1,r.node2,t);return t.__edgeMap[e]},ndt=function(r,t){var e=QT(Av(r.node1,r.node2,t),t),n=QT(Av(r.node2,r.node1,t),t);return e+n},QT=function(r,t){var e=t.__edgeMap;return e[r]?e[r].length:0};function idt(r){cb(r)&&(r.__curvenessList=[],r.__edgeMap={},R8(r))}function adt(r,t,e,n){if(cb(e)){var i=Av(r,t,e),a=e.__edgeMap,o=a[I8(i)];a[i]&&!o?a[i].isForward=!0:o&&a[i]&&(o.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function AD(r,t,e,n){var i=cb(t),a=Rt(i);if(!i)return null;var o=rdt(r,t);if(!o)return null;for(var c=-1,h=0;h<o.length;h++)if(o[h]===e){c=h;break}var v=ndt(r,t);R8(t,v),r.lineStyle=r.lineStyle||{};var g=Av(r.node1,r.node2,t),y=t.__curvenessList,m=a||v%2?0:1;if(o.isForward)return y[m+c];var b=I8(g),S=QT(b,t),E=y[c+S+m];return n?a?i&&i[0]===0?(S+m)%2?E:-E:((S%2?0:1)+m)%2?E:-E:(S+m)%2?E:-E:y[c+S+m]}function O8(r){var t=r.coordinateSystem;if(!(t&&t.type!=="view")){var e=r.getGraph();e.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),DD(e,r)}}function DD(r,t){r.eachEdge(function(e,n){var i=Hi(e.getModel().get(["lineStyle","curveness"]),-AD(e,t,n,!0),0),a=fs(e.node1.getLayout()),o=fs(e.node2.getLayout()),c=[a,o];+i&&c.push([(a[0]+o[0])/2-(a[1]-o[1])*i,(a[1]+o[1])/2-(o[0]-a[0])*i]),e.setLayout(c)})}function odt(r,t){r.eachSeriesByType("graph",function(e){var n=e.get("layout"),i=e.coordinateSystem;if(i&&i.type!=="view"){var a=e.getData(),o=[];j(i.dimensions,function(m){o=o.concat(a.mapDimensionsAll(m))});for(var c=0;c<a.count();c++){for(var h=[],v=!1,g=0;g<o.length;g++){var y=a.get(o[g],c);isNaN(y)||(v=!0),h.push(y)}v?a.setItemLayout(c,i.dataToPoint(h)):a.setItemLayout(c,[NaN,NaN])}DD(a.graph,e)}else(!n||n==="none")&&O8(e)})}function Dd(r){var t=r.coordinateSystem;if(t.type!=="view")return 1;var e=r.option.nodeScaleRatio,n=t.scaleX,i=t.getZoom(),a=(i-1)*e+1;return a/n}function Md(r){var t=r.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var JV=Math.PI,lx=[];function MD(r,t,e,n){var i=r.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),o=r.getData(),c=o.graph,h=a.width/2+a.x,v=a.height/2+a.y,g=Math.min(a.width,a.height)/2,y=o.count();if(o.setLayout({cx:h,cy:v}),!!y){if(e){var m=i.pointToData(n),b=m[0],S=m[1],E=[b-h,S-v];Oh(E,E),Fm(E,E,g),e.setLayout([h+E[0],v+E[1]],!0);var C=r.get(["circular","rotateLabel"]);P8(e,C,h,v)}sdt[t](r,c,o,g,h,v,y),c.eachEdge(function(A,D){var L=Hi(A.getModel().get(["lineStyle","curveness"]),AD(A,r,D),0),R=fs(A.node1.getLayout()),O=fs(A.node2.getLayout()),P,V=(R[0]+O[0])/2,k=(R[1]+O[1])/2;+L&&(L*=3,P=[h*L+V*(1-L),v*L+k*(1-L)]),A.setLayout([R,O,P])})}}}var sdt={value:function(r,t,e,n,i,a,o){var c=0,h=e.getSum("value"),v=Math.PI*2/(h||o);t.eachNode(function(g){var y=g.getValue("value"),m=v*(h?y:1)/2;c+=m,g.setLayout([n*Math.cos(c)+i,n*Math.sin(c)+a]),c+=m})},symbolSize:function(r,t,e,n,i,a,o){var c=0;lx.length=o;var h=Dd(r);t.eachNode(function(y){var m=Md(y);isNaN(m)&&(m=2),m<0&&(m=0),m*=h;var b=Math.asin(m/2/n);isNaN(b)&&(b=JV/2),lx[y.dataIndex]=b,c+=b*2});var v=(2*JV-c)/o/2,g=0;t.eachNode(function(y){var m=v+lx[y.dataIndex];g+=m,(!y.getLayout()||!y.getLayout().fixed)&&y.setLayout([n*Math.cos(g)+i,n*Math.sin(g)+a]),g+=m})}};function P8(r,t,e,n){var i=r.getGraphicEl();if(i){var a=r.getModel(),o=a.get(["label","rotate"])||0,c=i.getSymbolPath();if(t){var h=r.getLayout(),v=Math.atan2(h[1]-n,h[0]-e);v<0&&(v=Math.PI*2+v);var g=h[0]<e;g&&(v=v-Math.PI);var y=g?"left":"right";c.setTextConfig({rotation:-v,position:y,origin:"center"});var m=c.ensureState("emphasis");Mt(m.textConfig||(m.textConfig={}),{position:y})}else c.setTextConfig({rotation:o*=Math.PI/180})}}function ldt(r){r.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&MD(t,"symbolSize")})}var kf=SE;function udt(r,t,e){for(var n=r,i=t,a=e.rect,o=a.width,c=a.height,h=[a.x+o/2,a.y+c/2],v=e.gravity==null?.1:e.gravity,g=0;g<n.length;g++){var y=n[g];y.p||(y.p=Nc(o*(Math.random()-.5)+h[0],c*(Math.random()-.5)+h[1])),y.pp=fs(y.p),y.edges=null}var m=e.friction==null?.6:e.friction,b=m,S,E;return{warmUp:function(){b=m*.8},setFixed:function(C){n[C].fixed=!0},setUnfixed:function(C){n[C].fixed=!1},beforeStep:function(C){S=C},afterStep:function(C){E=C},step:function(C){S&&S(n,i);for(var A=[],D=n.length,L=0;L<i.length;L++){var R=i[L];if(!R.ignoreForceLayout){var O=R.n1,P=R.n2;ec(A,P.p,O.p);var V=wE(A)-R.d,k=P.w/(O.w+P.w);isNaN(k)&&(k=0),Oh(A,A),!O.fixed&&kf(O.p,O.p,A,k*V*b),!P.fixed&&kf(P.p,P.p,A,-(1-k)*V*b)}}for(var L=0;L<D;L++){var F=n[L];F.fixed||(ec(A,h,F.p),kf(F.p,F.p,A,v*b))}for(var L=0;L<D;L++)for(var O=n[L],H=L+1;H<D;H++){var P=n[H];ec(A,P.p,O.p);var V=wE(A);V===0&&(iA(A,Math.random()-.5,Math.random()-.5),V=1);var W=(O.rep+P.rep)/V/V;!O.fixed&&kf(O.pp,O.pp,A,W),!P.fixed&&kf(P.pp,P.pp,A,-W)}for(var q=[],L=0;L<D;L++){var F=n[L];F.fixed||(ec(q,F.p,F.pp),kf(F.p,F.p,q,b),ii(F.pp,F.p))}b=b*.992;var Y=b<.01;E&&E(n,i,Y),C&&C(Y)}}}function cdt(r){r.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view"))if(t.get("layout")==="force"){var n=t.preservedPoints||{},i=t.getGraph(),a=i.data,o=i.edgeData,c=t.getModel("force"),h=c.get("initLayout");t.preservedPoints?a.each(function(L){var R=a.getId(L);a.setItemLayout(L,n[R]||[NaN,NaN])}):!h||h==="none"?O8(t):h==="circular"&&MD(t,"value");var v=a.getDataExtent("value"),g=o.getDataExtent("value"),y=c.get("repulsion"),m=c.get("edgeLength"),b=Rt(y)?y:[y,y],S=Rt(m)?m:[m,m];S=[S[1],S[0]];var E=a.mapArray("value",function(L,R){var O=a.getItemLayout(R),P=je(L,v,b);return isNaN(P)&&(P=(b[0]+b[1])/2),{w:P,rep:P,fixed:a.getItemModel(R).get("fixed"),p:!O||isNaN(O[0])||isNaN(O[1])?null:O}}),C=o.mapArray("value",function(L,R){var O=i.getEdgeByIndex(R),P=je(L,g,S);isNaN(P)&&(P=(S[0]+S[1])/2);var V=O.getModel(),k=Hi(O.getModel().get(["lineStyle","curveness"]),-AD(O,t,R,!0),0);return{n1:E[O.node1.dataIndex],n2:E[O.node2.dataIndex],d:P,curveness:k,ignoreForceLayout:V.get("ignoreForceLayout")}}),A=e.getBoundingRect(),D=udt(E,C,{rect:A,gravity:c.get("gravity"),friction:c.get("friction")});D.beforeStep(function(L,R){for(var O=0,P=L.length;O<P;O++)L[O].fixed&&ii(L[O].p,i.getNodeByIndex(O).getLayout())}),D.afterStep(function(L,R,O){for(var P=0,V=L.length;P<V;P++)L[P].fixed||i.getNodeByIndex(P).setLayout(L[P].p),n[a.getId(P)]=L[P].p;for(var P=0,V=R.length;P<V;P++){var k=R[P],F=i.getEdgeByIndex(P),H=k.n1.p,W=k.n2.p,q=F.getLayout();q=q?q.slice():[],q[0]=q[0]||[],q[1]=q[1]||[],ii(q[0],H),ii(q[1],W),+k.curveness&&(q[2]=[(H[0]+W[0])/2-(H[1]-W[1])*k.curveness,(H[1]+W[1])/2-(W[0]-H[0])*k.curveness]),F.setLayout(q)}}),t.forceLayout=D,t.preservedPoints=n,D.step()}else t.forceLayout=null})}function fdt(r,t,e){var n=sn(r,t),i=Mt(r.getBoxLayoutParams(),{aspect:e}),a=mr(i,n.refContainer);return p4(r,a,e)}function hdt(r,t){var e=[];return r.eachSeriesByType("graph",function(n){zv({targetModel:n,coordSysType:"view",coordSysProvider:i,isDefaultDataCoordSys:!0});function i(){var a=n.getData(),o=a.mapArray(function(S){var E=a.getItemModel(S);return[+E.get("x"),+E.get("y")]}),c=[],h=[];F_(o,c,h),h[0]-c[0]===0&&(h[0]+=1,c[0]-=1),h[1]-c[1]===0&&(h[1]+=1,c[1]-=1);var v=(h[0]-c[0])/(h[1]-c[1]),g=fdt(n,t,v);isNaN(v)&&(c=[g.x,g.y],h=[g.x+g.width,g.y+g.height]);var y=h[0]-c[0],m=h[1]-c[1],b=new Bc(null,{api:t,ecModel:r});return b.zoomLimit=n.get("scaleLimit"),b.setBoundingRect(c[0],c[1],y,m),b.setViewRect(g.x,g.y,g.width,g.height),b.setCenter(n.get("center")),b.setZoom(n.get("zoom")),e.push(b),b}}),e}var QV=$r.prototype,ux=Vv.prototype,k8=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r})();(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(k8);function cx(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var V8=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:yt.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new k8},t.prototype.buildPath=function(e,n){cx(n)?QV.buildPath.call(this,e,n):ux.buildPath.call(this,e,n)},t.prototype.pointAt=function(e){return cx(this.shape)?QV.pointAt.call(this,e):ux.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var n=this.shape,i=cx(n)?[n.x2-n.x1,n.y2-n.y1]:ux.tangentAt.call(this,e);return Oh(i,i)},t})(Te),fx=["fromSymbol","toSymbol"];function t5(r){return"_"+r+"Type"}function e5(r,t,e){var n=t.getItemVisual(e,r);if(!n||n==="none")return n;var i=t.getItemVisual(e,r+"Size"),a=t.getItemVisual(e,r+"Rotate"),o=t.getItemVisual(e,r+"Offset"),c=t.getItemVisual(e,r+"KeepAspect"),h=Wh(i),v=kc(o||0,h);return n+h+v+(a||"")+(c||"")}function r5(r,t,e){var n=t.getItemVisual(e,r);if(!(!n||n==="none")){var i=t.getItemVisual(e,r+"Size"),a=t.getItemVisual(e,r+"Rotate"),o=t.getItemVisual(e,r+"Offset"),c=t.getItemVisual(e,r+"KeepAspect"),h=Wh(i),v=kc(o||0,h),g=Kr(n,-h[0]/2+v[0],-h[1]/2+v[1],h[0],h[1],null,c);return g.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,g.name=r,g}}function pdt(r){var t=new V8({name:"line",subPixelOptimize:!0});return tC(t.shape,r),t}function tC(r,t){r.x1=t[0][0],r.y1=t[0][1],r.x2=t[1][0],r.y2=t[1][1],r.percent=1;var e=t[2];e?(r.cpx1=e[0],r.cpy1=e[1]):(r.cpx1=NaN,r.cpy1=NaN)}var LD=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this)||this;return a._createLine(e,n,i),a}return t.prototype._createLine=function(e,n,i){var a=e.hostModel,o=e.getItemLayout(n),c=e.getItemVisual(n,"z2"),h=pdt(o);h.shape.percent=0,pr(h,{z2:te(c,0),shape:{percent:1}},a,n),this.add(h),j(fx,function(v){var g=r5(v,e,n);this.add(g),this[t5(v)]=e5(v,e,n)},this),this._updateCommonStl(e,n,i)},t.prototype.updateData=function(e,n,i){var a=e.hostModel,o=this.childOfName("line"),c=e.getItemLayout(n),h={shape:{}};tC(h.shape,c),Ve(o,h,a,n),j(fx,function(v){var g=e5(v,e,n),y=t5(v);if(this[y]!==g){this.remove(this.childOfName(v));var m=r5(v,e,n);this.add(m)}this[y]=g},this),this._updateCommonStl(e,n,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,n,i){var a=e.hostModel,o=this.childOfName("line"),c=i&&i.emphasisLineStyle,h=i&&i.blurLineStyle,v=i&&i.selectLineStyle,g=i&&i.labelStatesModels,y=i&&i.emphasisDisabled,m=i&&i.focus,b=i&&i.blurScope;if(!i||e.hasItemOption){var S=e.getItemModel(n),E=S.getModel("emphasis");c=E.getModel("lineStyle").getLineStyle(),h=S.getModel(["blur","lineStyle"]).getLineStyle(),v=S.getModel(["select","lineStyle"]).getLineStyle(),y=E.get("disabled"),m=E.get("focus"),b=E.get("blurScope"),g=on(S)}var C=e.getItemVisual(n,"style"),A=C.stroke;o.useStyle(C),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=c,o.ensureState("blur").style=h,o.ensureState("select").style=v,j(fx,function(P){var V=this.childOfName(P);if(V){V.setColor(A),V.style.opacity=C.opacity;for(var k=0;k<di.length;k++){var F=di[k],H=o.getState(F);if(H){var W=H.style||{},q=V.ensureState(F),Y=q.style||(q.style={});W.stroke!=null&&(Y[V.__isEmptyBrush?"stroke":"fill"]=W.stroke),W.opacity!=null&&(Y.opacity=W.opacity)}}V.markRedraw()}},this);var D=a.getRawValue(n);dn(this,g,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(P,V){return a.getFormattedLabel(P,V,e.dataType)}},inheritColor:A||yt.color.neutral99,defaultOpacity:C.opacity,defaultText:(D==null?e.getName(n):isFinite(D)?Yr(D):D)+""});var L=this.getTextContent();if(L){var R=g.normal;L.__align=L.style.align,L.__verticalAlign=L.style.verticalAlign,L.__position=R.get("position")||"middle";var O=R.get("distance");Rt(O)||(O=[O,O]),L.__labelDistance=O}this.setTextConfig({position:null,local:!0,inside:!1}),yr(this,m,b,y)},t.prototype.highlight=function(){Ss(this)},t.prototype.downplay=function(){ws(this)},t.prototype.updateLayout=function(e,n){this.setLinePoints(e.getItemLayout(n))},t.prototype.setLinePoints=function(e){var n=this.childOfName("line");tC(n.shape,e),n.dirty()},t.prototype.beforeUpdate=function(){var e=this,n=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),a=e.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var o=1,c=this.parent;c;)c.scaleX&&(o/=c.scaleX),c=c.parent;var h=e.childOfName("line");if(!this.__dirty&&!h.__dirty)return;var v=h.shape.percent,g=h.pointAt(0),y=h.pointAt(v),m=ec([],y,g);Oh(m,m);function b(H,W){var q=H.__specifiedRotation;if(q==null){var Y=h.tangentAt(W);H.attr("rotation",(W===1?-1:1)*Math.PI/2-Math.atan2(Y[1],Y[0]))}else H.attr("rotation",q)}if(n&&(n.setPosition(g),b(n,0),n.scaleX=n.scaleY=o*v,n.markRedraw()),i&&(i.setPosition(y),b(i,1),i.scaleX=i.scaleY=o*v,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var S=void 0,E=void 0,C=a.__labelDistance,A=C[0]*o,D=C[1]*o,L=v/2,R=h.tangentAt(L),O=[R[1],-R[0]],P=h.pointAt(L);O[1]>0&&(O[0]=-O[0],O[1]=-O[1]);var V=R[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var k=-Math.atan2(R[1],R[0]);y[0]<g[0]&&(k=Math.PI+k),a.rotation=k}var F=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":F=-D,E="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":F=D,E="top";break;default:F=0,E="middle"}switch(a.__position){case"end":a.x=m[0]*A+y[0],a.y=m[1]*D+y[1],S=m[0]>.8?"left":m[0]<-.8?"right":"center",E=m[1]>.8?"top":m[1]<-.8?"bottom":"middle";break;case"start":a.x=-m[0]*A+g[0],a.y=-m[1]*D+g[1],S=m[0]>.8?"right":m[0]<-.8?"left":"center",E=m[1]>.8?"bottom":m[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=A*V+g[0],a.y=g[1]+F,S=R[0]<0?"right":"left",a.originX=-A*V,a.originY=-F;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=P[0],a.y=P[1]+F,S="center",a.originY=-F;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-A*V+y[0],a.y=y[1]+F,S=R[0]>=0?"right":"left",a.originX=A*V,a.originY=-F;break}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||E,align:a.__align||S})}},t})(ne),ND=(function(){function r(t){this.group=new ne,this._LineCtor=t||LD}return r.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=t,a||i.removeAll();var o=n5(t);t.diff(a).add(function(c){e._doAdd(t,c,o)}).update(function(c,h){e._doUpdate(a,t,h,c,o)}).remove(function(c){i.remove(a.getItemGraphicEl(c))}).execute()},r.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=n5(t),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function n(c){!c.isGroup&&!ddt(c)&&(c.incremental=!0,c.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var a=e.getItemLayout(i);if(hx(a)){var o=new this._LineCtor(e,i,this._seriesScope);o.traverse(n),this.group.add(o),e.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(t){Vl(this._progressiveEls||this.group,t)},r.prototype._doAdd=function(t,e,n){var i=t.getItemLayout(e);if(hx(i)){var a=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,a),this.group.add(a)}},r.prototype._doUpdate=function(t,e,n,i,a){var o=t.getItemGraphicEl(n);if(!hx(e.getItemLayout(i))){this.group.remove(o);return}o?o.updateData(e,i,a):o=new this._LineCtor(e,i,a),e.setItemGraphicEl(i,o),this.group.add(o)},r})();function ddt(r){return r.animators&&r.animators.length>0}function n5(r){var t=r.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:on(t)}}function i5(r){return isNaN(r[0])||isNaN(r[1])}function hx(r){return r&&!i5(r[0])&&!i5(r[1])}var px=[],dx=[],vx=[],Vf=Sn,gx=cc,a5=Math.abs;function o5(r,t,e){for(var n=r[0],i=r[1],a=r[2],o=1/0,c,h=e*e,v=.1,g=.1;g<=.9;g+=.1){px[0]=Vf(n[0],i[0],a[0],g),px[1]=Vf(n[1],i[1],a[1],g);var y=a5(gx(px,t)-h);y<o&&(o=y,c=g)}for(var m=0;m<32;m++){var b=c+v;dx[0]=Vf(n[0],i[0],a[0],c),dx[1]=Vf(n[1],i[1],a[1],c),vx[0]=Vf(n[0],i[0],a[0],b),vx[1]=Vf(n[1],i[1],a[1],b);var y=gx(dx,t)-h;if(a5(y)<.01)break;var S=gx(vx,t)-h;v/=2,y<0?S>=0?c=c+v:c=c-v:S>=0?c=c-v:c=c+v}return c}function yx(r,t){var e=[],n=nv,i=[[],[],[]],a=[[],[]],o=[];t/=2,r.eachEdge(function(c,h){var v=c.getLayout(),g=c.getVisual("fromSymbol"),y=c.getVisual("toSymbol");v.__original||(v.__original=[fs(v[0]),fs(v[1])],v[2]&&v.__original.push(fs(v[2])));var m=v.__original;if(v[2]!=null){if(ii(i[0],m[0]),ii(i[1],m[2]),ii(i[2],m[1]),g&&g!=="none"){var b=Md(c.node1),S=o5(i,m[0],b*t);n(i[0][0],i[1][0],i[2][0],S,e),i[0][0]=e[3],i[1][0]=e[4],n(i[0][1],i[1][1],i[2][1],S,e),i[0][1]=e[3],i[1][1]=e[4]}if(y&&y!=="none"){var b=Md(c.node2),S=o5(i,m[1],b*t);n(i[0][0],i[1][0],i[2][0],S,e),i[1][0]=e[1],i[2][0]=e[2],n(i[0][1],i[1][1],i[2][1],S,e),i[1][1]=e[1],i[2][1]=e[2]}ii(v[0],i[0]),ii(v[1],i[2]),ii(v[2],i[1])}else{if(ii(a[0],m[0]),ii(a[1],m[1]),ec(o,a[1],a[0]),Oh(o,o),g&&g!=="none"){var b=Md(c.node1);SE(a[0],a[0],o,b*t)}if(y&&y!=="none"){var b=Md(c.node2);SE(a[1],a[1],o,-b*t)}ii(v[0],a[0]),ii(v[1],a[1])}})}var G8=Ee();function vdt(r){if(r)return G8(r).bridge}function s5(r,t){r&&(G8(r).bridge=t)}function l5(r){return r.type==="view"}var gdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){var i=new $v,a=new ND,o=this.group,c=new ne;this._controller=new Fc(n.getZr()),this._controllerHost={target:c},c.add(i.group),c.add(a.group),o.add(c),this._symbolDraw=i,this._lineDraw=a,this._mainGroup=c,this._firstRender=!0},t.prototype.render=function(e,n,i){var a=this,o=e.coordinateSystem,c=!1;this._model=e,this._api=i,this._active=!0;var h=this._getThumbnailInfo();h&&h.bridge.reset(i);var v=this._symbolDraw,g=this._lineDraw;if(l5(o)){var y={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?this._mainGroup.attr(y):Ve(this._mainGroup,y,e)}yx(e.getGraph(),Dd(e));var m=e.getData();v.updateData(m);var b=e.getEdgeData();g.updateData(b),this._updateNodeAndLinkScale(),this._updateController(null,e,i),clearTimeout(this._layoutTimeout);var S=e.forceLayout,E=e.get(["force","layoutAnimation"]);S&&(c=!0,this._startForceLayoutIteration(S,i,E));var C=e.get("layout");m.graph.eachNode(function(R){var O=R.dataIndex,P=R.getGraphicEl(),V=R.getModel();if(P){P.off("drag").off("dragend");var k=V.get("draggable");k&&P.on("drag",function(H){switch(C){case"force":S.warmUp(),!a._layouting&&a._startForceLayoutIteration(S,i,E),S.setFixed(O),m.setItemLayout(O,[P.x,P.y]);break;case"circular":m.setItemLayout(O,[P.x,P.y]),R.setLayout({fixed:!0},!0),MD(e,"symbolSize",R,[H.offsetX,H.offsetY]),a.updateLayout(e);break;case"none":default:m.setItemLayout(O,[P.x,P.y]),DD(e.getGraph(),e),a.updateLayout(e);break}}).on("dragend",function(){S&&S.setUnfixed(O)}),P.setDraggable(k,!!V.get("cursor"));var F=V.get(["emphasis","focus"]);F==="adjacency"&&(fe(P).focus=R.getAdjacentDataIndices())}}),m.graph.eachEdge(function(R){var O=R.getGraphicEl(),P=R.getModel().get(["emphasis","focus"]);O&&P==="adjacency"&&(fe(O).focus={edge:[R.dataIndex],node:[R.node1.dataIndex,R.node2.dataIndex]})});var A=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),D=m.getLayout("cx"),L=m.getLayout("cy");m.graph.eachNode(function(R){P8(R,A,D,L)}),this._firstRender=!1,c||this._renderThumbnail(e,i,this._symbolDraw,this._lineDraw)},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,n,i){var a=this,o=!1;(function c(){e.step(function(h){a.updateLayout(a._model),(h||!o)&&(o=!0,a._renderThumbnail(a._model,n,a._symbolDraw,a._lineDraw)),(a._layouting=!h)&&(i?a._layoutTimeout=setTimeout(c,16):c())})})()},t.prototype._updateController=function(e,n,i){var a=this._controller,o=this._controllerHost,c=n.coordinateSystem;if(!l5(c)){a.disable();return}a.enable(n.get("roam"),{api:i,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(h,v,g){return c.containPoint([v,g])},isInClip:function(h,v,g){return!e||e.contain(v,g)}}}),o.zoomLimit=n.get("scaleLimit"),o.zoom=c.getZoom(),a.off("pan").off("zoom").on("pan",function(h){i.dispatchAction({seriesId:n.id,type:"graphRoam",dx:h.dx,dy:h.dy})}).on("zoom",function(h){i.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:h.scale,originX:h.originX,originY:h.originY})})},t.prototype.updateViewOnPan=function(e,n,i){this._active&&(_D(this._controllerHost,i.dx,i.dy),this._updateThumbnailWindow())},t.prototype.updateViewOnZoom=function(e,n,i){this._active&&(bD(this._controllerHost,i.zoom,i.originX,i.originY),this._updateNodeAndLinkScale(),yx(e.getGraph(),Dd(e)),this._lineDraw.updateLayout(),n.updateLabelLayout(),this._updateThumbnailWindow())},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,n=e.getData(),i=Dd(e);n.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(i)})},t.prototype.updateLayout=function(e){this._active&&(yx(e.getGraph(),Dd(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},t.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},t.prototype._getThumbnailInfo=function(){var e=this._model,n=e.coordinateSystem;if(n.type==="view"){var i=vdt(e);if(i)return{bridge:i,coordSys:n}}},t.prototype._updateThumbnailWindow=function(){var e=this._getThumbnailInfo();e&&e.bridge.updateWindow(e.coordSys.transform,this._api)},t.prototype._renderThumbnail=function(e,n,i,a){var o=this._getThumbnailInfo();if(o){var c=new ne,h=i.group.children(),v=a.group.children(),g=new ne,y=new ne;c.add(y),c.add(g);for(var m=0;m<h.length;m++){var b=h[m],S=b.children()[0],E=b.x,C=b.y,A=ie(S.shape),D=Mt(A,{width:S.scaleX,height:S.scaleY,x:E-S.scaleX/2,y:C-S.scaleY/2}),L=ie(S.style),R=new S.constructor({shape:D,style:L,z2:151});y.add(R)}for(var m=0;m<v.length;m++){var b=v[m],O=b.children()[0],L=ie(O.style),D=ie(O.shape),P=new V8({style:L,shape:D,z2:151});g.add(P)}o.bridge.renderContent({api:n,roamType:e.get("roam"),viewportRect:null,group:c,targetTrans:o.coordSys.transform})}},t.type="graph",t})(Je);function Gf(r){return"_EC_"+r}var ydt=(function(){function r(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var n=this._nodesMap;if(!n[Gf(t)]){var i=new Xu(t,e);return i.hostGraph=this,this.nodes.push(i),n[Gf(t)]=i,i}},r.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},r.prototype.getNodeById=function(t){return this._nodesMap[Gf(t)]},r.prototype.addEdge=function(t,e,n){var i=this._nodesMap,a=this._edgesMap;if(Ie(t)&&(t=this.nodes[t]),Ie(e)&&(e=this.nodes[e]),t instanceof Xu||(t=i[Gf(t)]),e instanceof Xu||(e=i[Gf(e)]),!(!t||!e)){var o=t.id+"-"+e.id,c=new F8(t,e,n);return c.hostGraph=this,this._directed&&(t.outEdges.push(c),e.inEdges.push(c)),t.edges.push(c),t!==e&&e.edges.push(c),this.edges.push(c),a[o]=c,c}},r.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},r.prototype.getEdge=function(t,e){t instanceof Xu&&(t=t.id),e instanceof Xu&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},r.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&t.call(e,n[a],a)},r.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&t.call(e,n[a],a)},r.prototype.breadthFirstTraverse=function(t,e,n,i){if(e instanceof Xu||(e=this._nodesMap[Gf(e)]),!!e){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,e,null))for(var c=[e];c.length;)for(var h=c.shift(),v=h[a],o=0;o<v.length;o++){var g=v[o],y=g.node1===h?g.node2:g.node1;if(!y.__visited){if(t.call(i,y,h))return;c.push(y),y.__visited=!0}}}},r.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,a=0,o=n.length;a<o;a++)n[a].dataIndex=-1;for(var a=0,o=t.count();a<o;a++)n[t.getRawIndex(a)].dataIndex=a;e.filterSelf(function(c){var h=i[e.getRawIndex(c)];return h.node1.dataIndex>=0&&h.node2.dataIndex>=0});for(var a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(var a=0,o=e.count();a<o;a++)i[e.getRawIndex(a)].dataIndex=a},r.prototype.clone=function(){for(var t=new r(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},r})(),Xu=(function(){function r(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},r.prototype.getTrajectoryDataIndices=function(){for(var t=Qt(),e=Qt(),n=0,i=this.edges.length;n<i;n++){var a=this.edges[n];if(!(a.dataIndex<0)){t.set(a.dataIndex,!0);for(var o=[a.node1],c=[a.node2],h=0;h<o.length;){var v=o[h];h++,e.set(v.dataIndex,!0);for(var g=v.inEdges,y=0,m=g.length,b=void 0,S=void 0;y<m;y++)b=g[y],S=b.dataIndex,S>=0&&!t.hasKey(S)&&(t.set(S,!0),o.push(b.node1))}for(h=0;h<c.length;){var E=c[h];h++,e.set(E.dataIndex,!0);for(var C=E.outEdges,y=0,A=C.length,D=void 0,L=void 0;y<A;y++)D=C[y],L=D.dataIndex,L>=0&&!t.hasKey(L)&&(t.set(L,!0),c.push(D.node2))}}}return{edge:t.keys(),node:e.keys()}},r})(),F8=(function(){function r(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=n??-1}return r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var t=Qt(),e=Qt();t.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var o=n[a];a++,e.set(o.dataIndex,!0);for(var c=o.inEdges,h=0,v=c.length,g=void 0,y=void 0;h<v;h++)g=o.inEdges[h],y=g.dataIndex,y>=0&&!t.hasKey(y)&&(t.set(y,!0),n.push(g.node1))}for(a=0;a<i.length;){var m=i[a];a++,e.set(m.dataIndex,!0);for(var b=m.outEdges,h=0,v=b.length,S=void 0,E=void 0;h<v;h++)S=m.outEdges[h],E=S.dataIndex,E>=0&&!t.hasKey(E)&&(t.set(E,!0),i.push(S.node2))}return{edge:t.keys(),node:e.keys()}},r})();function B8(r,t){return{getValue:function(e){var n=this[r][t];return n.getStore().get(n.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,n){this.dataIndex>=0&&this[r][t].setItemVisual(this.dataIndex,e,n)},getVisual:function(e){return this[r][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,n){this.dataIndex>=0&&this[r][t].setItemLayout(this.dataIndex,e,n)},getLayout:function(){return this[r][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][t].getRawIndex(this.dataIndex)}}}Jr(Xu,B8("hostGraph","data"));Jr(F8,B8("hostGraph","edgeData"));function RD(r,t,e,n,i){for(var a=new ydt(n),o=0;o<r.length;o++)a.addNode(On(r[o].id,r[o].name,o),o);for(var c=[],h=[],v=0,o=0;o<t.length;o++){var g=t[o],y=g.source,m=g.target;a.addEdge(y,m,v)&&(h.push(g),c.push(On(nn(g.id,null),y+" > "+m)),v++)}var b=e.get("coordinateSystem"),S;if(b==="cartesian2d"||b==="polar"||b==="matrix")S=Ls(r,e);else{var E=Hv.get(b),C=E?E.dimensions||[]:[];ge(C,"value")<0&&C.concat(["value"]);var A=Wv(r,{coordDimensions:C,encodeDefine:e.getEncode()}).dimensions;S=new fi(A,e),S.initData(r)}var D=new fi(["value"],e);return D.initData(h,c),i&&i(S,D),b8({mainData:S,struct:a,structAttr:"graph",datas:{node:S,edge:D},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var mdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new qh(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){r.prototype.mergeDefaultAndTheme.apply(this,arguments),bc(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[],o=this;if(a&&i){idt(this);var c=RD(a,i,this,!0,h);return j(c.edges,function(v){adt(v.node1,v.node2,this,v.dataIndex)},this),c.data}function h(v,g){v.wrapMethod("getItemModel",function(S){var E=o._categoriesModels,C=S.getShallow("category"),A=E[C];return A&&(A.parentModel=S.parentModel,S.parentModel=A),S});var y=Me.prototype.getModel;function m(S,E){var C=y.call(this,S,E);return C.resolveParentPath=b,C}g.wrapMethod("getItemModel",function(S){return S.resolveParentPath=b,S.getModel=m,S});function b(S){if(S&&(S[0]==="label"||S[1]==="label")){var E=S.slice();return S[0]==="label"?E[0]="edgeLabel":S[1]==="label"&&(E[1]="edgeLabel"),E}return S}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,n,i){if(i==="edge"){var a=this.getData(),o=this.getDataParams(e,i),c=a.graph.getEdgeByIndex(e),h=a.getName(c.node1.dataIndex),v=a.getName(c.node2.dataIndex),g=[];return h!=null&&g.push(h),v!=null&&g.push(v),Zr("nameValue",{name:g.join(" > "),value:o.value,noValue:o.value==null})}var y=$4({series:this,dataIndex:e,multipleSeries:n});return y},t.prototype._updateCategoriesData=function(){var e=Pt(this.option.categories||[],function(i){return i.value!=null?i:Mt({value:0},i)}),n=new fi(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:yt.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:yt.color.primary}}},t})(sr);function _dt(r){r.registerChartView(gdt),r.registerSeriesModel(mdt),r.registerProcessor(Qpt),r.registerVisual(tdt),r.registerVisual(edt),r.registerLayout(odt),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,ldt),r.registerLayout(cdt),r.registerCoordinateSystem("graphView",{dimensions:Bc.dimensions,create:hdt}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Fr),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Fr),r.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",query:t},function(i){var a=n.getViewOfSeriesModel(i);a&&(t.dx!=null&&t.dy!=null&&a.updateViewOnPan(i,n,t),t.zoom!=null&&t.originX!=null&&t.originY!=null&&a.updateViewOnZoom(i,n,t));var o=i.coordinateSystem,c=sb(o,t,i.get("scaleLimit"));i.setCenter&&i.setCenter(c.center),i.setZoom&&i.setZoom(c.zoom)})})}var u5=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this)||this;fe(a).dataType="node",a.z2=2;var o=new ke;return a.setTextContent(o),a.updateData(e,n,i,!0),a}return t.prototype.updateData=function(e,n,i,a){var o=this,c=e.graph.getNodeByIndex(n),h=e.hostModel,v=c.getModel(),g=v.getModel("emphasis"),y=e.getItemLayout(n),m=Mt(Co(v.getModel("itemStyle"),y,!0),y),b=this;if(isNaN(m.startAngle)){b.setShape(m);return}a?b.setShape(m):Ve(b,{shape:m},h,n);var S=Mt(Co(v.getModel("itemStyle"),y,!0),y);o.setShape(S),o.useStyle(e.getItemVisual(n,"style")),an(o,v),this._updateLabel(h,v,c),e.setItemGraphicEl(n,b),an(b,v,"itemStyle");var E=g.get("focus");yr(this,E==="adjacency"?c.getAdjacentDataIndices():E,g.get("blurScope"),g.get("disabled"))},t.prototype._updateLabel=function(e,n,i){var a=this.getTextContent(),o=i.getLayout(),c=(o.startAngle+o.endAngle)/2,h=Math.cos(c),v=Math.sin(c),g=n.getModel("label");a.ignore=!g.get("show");var y=on(n),m=i.getVisual("style");dn(a,y,{labelFetcher:{getFormattedLabel:function(D,L,R,O,P,V){return e.getFormattedLabel(D,L,"node",O,Hi(P,y.normal&&y.normal.get("formatter"),n.get("name")),V)}},labelDataIndex:i.dataIndex,defaultText:i.dataIndex+"",inheritColor:m.fill,defaultOpacity:m.opacity,defaultOutsidePosition:"startArc"});var b=g.get("position")||"outside",S=g.get("distance")||0,E;b==="outside"?E=o.r+S:E=(o.r+o.r0)/2,this.textConfig={inside:b!=="outside"};var C=b!=="outside"?g.get("align")||"center":h>0?"left":"right",A=b!=="outside"?g.get("verticalAlign")||"middle":v>0?"top":"bottom";a.attr({x:h*E+o.cx,y:v*E+o.cy,rotation:0,style:{align:C,verticalAlign:A}})},t})(Xn),bdt=(function(r){bt(t,r);function t(e,n,i,a){var o=r.call(this)||this;return fe(o).dataType="edge",o.updateData(e,n,i,a,!0),o}return t.prototype.buildPath=function(e,n){e.moveTo(n.s1[0],n.s1[1]);var i=.7,a=n.clockwise;e.arc(n.cx,n.cy,n.r,n.sStartAngle,n.sEndAngle,!a),e.bezierCurveTo((n.cx-n.s2[0])*i+n.s2[0],(n.cy-n.s2[1])*i+n.s2[1],(n.cx-n.t1[0])*i+n.t1[0],(n.cy-n.t1[1])*i+n.t1[1],n.t1[0],n.t1[1]),e.arc(n.cx,n.cy,n.r,n.tStartAngle,n.tEndAngle,!a),e.bezierCurveTo((n.cx-n.t2[0])*i+n.t2[0],(n.cy-n.t2[1])*i+n.t2[1],(n.cx-n.s1[0])*i+n.s1[0],(n.cy-n.s1[1])*i+n.s1[1],n.s1[0],n.s1[1]),e.closePath()},t.prototype.updateData=function(e,n,i,a,o){var c=e.hostModel,h=n.graph.getEdgeByIndex(i),v=h.getLayout(),g=h.node1.getModel(),y=n.getItemModel(h.dataIndex),m=y.getModel("lineStyle"),b=y.getModel("emphasis"),S=b.get("focus"),E=Mt(Co(g.getModel("itemStyle"),v,!0),v),C=this;if(isNaN(E.sStartAngle)||isNaN(E.tStartAngle)){C.setShape(E);return}o?(C.setShape(E),c5(C,h,e,m)):(pa(C),c5(C,h,e,m),Ve(C,{shape:E},c,i)),yr(this,S==="adjacency"?h.getAdjacentDataIndices():S,b.get("blurScope"),b.get("disabled")),an(C,y,"lineStyle"),n.setItemGraphicEl(h.dataIndex,C)},t})(Te);function c5(r,t,e,n){var i=t.node1,a=t.node2,o=r.style;r.setStyle(n.getLineStyle());var c=n.get("color");switch(c){case"source":o.fill=e.getItemVisual(i.dataIndex,"style").fill,o.decal=i.getVisual("style").decal;break;case"target":o.fill=e.getItemVisual(a.dataIndex,"style").fill,o.decal=a.getVisual("style").decal;break;case"gradient":var h=e.getItemVisual(i.dataIndex,"style").fill,v=e.getItemVisual(a.dataIndex,"style").fill;if($t(h)&&$t(v)){var g=r.shape,y=(g.s1[0]+g.s2[0])/2,m=(g.s1[1]+g.s2[1])/2,b=(g.t1[0]+g.t2[0])/2,S=(g.t1[1]+g.t2[1])/2;o.fill=new Gh(y,m,b,S,[{offset:0,color:h},{offset:1,color:v}],!0)}break}}var Sdt=Math.PI/180,wdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,i){var a=e.getData(),o=this._data,c=this.group,h=-e.get("startAngle")*Sdt;if(a.diff(o).add(function(g){var y=a.getItemLayout(g);if(y){var m=new u5(a,g,h);fe(m).dataIndex=g,c.add(m)}}).update(function(g,y){var m=o.getItemGraphicEl(y),b=a.getItemLayout(g);if(!b){m&&hs(m,e,y);return}m?m.updateData(a,g,h):m=new u5(a,g,h),c.add(m)}).remove(function(g){var y=o.getItemGraphicEl(g);y&&hs(y,e,g)}).execute(),!o){var v=e.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=Yt(v[0],i.getWidth()),this.group.originY=Yt(v[1],i.getHeight()),pr(this.group,{scaleX:1,scaleY:1},e)}this._data=a,this.renderEdges(e,h)},t.prototype.renderEdges=function(e,n){var i=e.getData(),a=e.getEdgeData(),o=this._edgeData,c=this.group;a.diff(o).add(function(h){var v=new bdt(i,a,h,n);fe(v).dataIndex=h,c.add(v)}).update(function(h,v){var g=o.getItemGraphicEl(v);g.updateData(i,a,h,n),c.add(g)}).remove(function(h){var v=o.getItemGraphicEl(h);v&&hs(v,e,h)}).execute(),this._edgeData=a},t.prototype.dispose=function(){},t.type="chord",t})(Je),xdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this.legendVisualProvider=new qh(qt(this.getData,this),qt(this.getRawData,this))},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links)},t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[];if(a&&i){var o=RD(a,i,this,!0,c);return o.data}function c(h,v){var g=Me.prototype.getModel;function y(b,S){var E=g.call(this,b,S);return E.resolveParentPath=m,E}v.wrapMethod("getItemModel",function(b){return b.resolveParentPath=m,b.getModel=y,b});function m(b){if(b&&(b[0]==="label"||b[1]==="label")){var S=b.slice();return b[0]==="label"?S[0]="edgeLabel":b[1]==="label"&&(S[1]="edgeLabel"),S}return b}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,i){var a=this.getDataParams(e,i);if(i==="edge"){var o=this.getData(),c=o.graph.getEdgeByIndex(e),h=o.getName(c.node1.dataIndex),v=o.getName(c.node2.dataIndex),g=[];return h!=null&&g.push(h),v!=null&&g.push(v),Zr("nameValue",{name:g.join(" > "),value:a.value,noValue:a.value==null})}return Zr("nameValue",{name:a.name,value:a.value,noValue:a.value==null})},t.prototype.getDataParams=function(e,n){var i=r.prototype.getDataParams.call(this,e,n);if(n==="node"){var a=this.getData(),o=this.getGraph().getNodeByIndex(e);if(i.name==null&&(i.name=a.getName(e)),i.value==null){var c=o.getLayout().value;i.value=c}}return i},t.type="series.chord",t.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},t})(sr),mx=Math.PI/180;function Edt(r,t){r.eachSeriesByType("chord",function(e){Tdt(e,t)})}function Tdt(r,t){var e=r.getData(),n=e.graph,i=r.getEdgeData(),a=i.count();if(a){var o=h4(r,t),c=o.cx,h=o.cy,v=o.r,g=o.r0,y=Math.max((r.get("padAngle")||0)*mx,0),m=Math.max((r.get("minAngle")||0)*mx,0),b=-r.get("startAngle")*mx,S=b+Math.PI*2,E=r.get("clockwise"),C=E?1:-1,A=[b,S];B_(A,!E);var D=A[0],L=A[1],R=L-D,O=e.getSum("value")===0&&i.getSum("value")===0,P=[],V=0;n.eachEdge(function(rt){var st=O?1:rt.getValue("value");O&&(st>0||m)&&(V+=2);var lt=rt.node1.dataIndex,dt=rt.node2.dataIndex;P[lt]=(P[lt]||0)+st,P[dt]=(P[dt]||0)+st});var k=0;if(n.eachNode(function(rt){var st=rt.getValue("value");isNaN(st)||(P[rt.dataIndex]=Math.max(st,P[rt.dataIndex]||0)),!O&&(P[rt.dataIndex]>0||m)&&V++,k+=P[rt.dataIndex]||0}),!(V===0||k===0)){y*V>=Math.abs(R)&&(y=Math.max(0,(Math.abs(R)-m*V)/V)),(y+m)*V>=Math.abs(R)&&(m=(Math.abs(R)-y*V)/V);var F=(R-y*V*C)/k,H=0,W=0,q=0;n.eachNode(function(rt){var st=P[rt.dataIndex]||0,lt=F*(k?st:1)*C;Math.abs(lt)<m?H+=m-Math.abs(lt):(W+=Math.abs(lt)-m,q+=Math.abs(lt)),rt.setLayout({angle:lt,value:st})});var Y=!1;if(H>W){var K=H/W;n.eachNode(function(rt){var st=rt.getLayout().angle;Math.abs(st)>=m?rt.setLayout({angle:st*K,ratio:K},!0):rt.setLayout({angle:m,ratio:m===0?1:st/m},!0)})}else n.eachNode(function(rt){if(!Y){var st=rt.getLayout().angle,lt=Math.min(st/q,1),dt=lt*H;st-dt<m&&(Y=!0)}});var X=H;n.eachNode(function(rt){if(!(X<=0)){var st=rt.getLayout().angle;if(st>m&&m>0){var lt=Y?1:Math.min(st/q,1),dt=st-m,pt=Math.min(dt,Math.min(X,H*lt));X-=pt,rt.setLayout({angle:st-pt,ratio:(st-pt)/st},!0)}else m>0&&rt.setLayout({angle:m,ratio:st===0?1:m/st},!0)}});var J=D,it=[];n.eachNode(function(rt){var st=Math.max(rt.getLayout().angle,m);rt.setLayout({cx:c,cy:h,r0:g,r:v,startAngle:J,endAngle:J+st*C,clockwise:E},!0),it[rt.dataIndex]=J,J+=(st+y)*C}),n.eachEdge(function(rt){var st=O?1:rt.getValue("value"),lt=F*(k?st:1)*C,dt=rt.node1.dataIndex,pt=it[dt]||0,Tt=Math.abs((rt.node1.getLayout().ratio||1)*lt),Ft=pt+Tt*C,zt=[c+g*Math.cos(pt),h+g*Math.sin(pt)],Vt=[c+g*Math.cos(Ft),h+g*Math.sin(Ft)],Kt=rt.node2.dataIndex,Bt=it[Kt]||0,gt=Math.abs((rt.node2.getLayout().ratio||1)*lt),Ct=Bt+gt*C,wt=[c+g*Math.cos(Bt),h+g*Math.sin(Bt)],Z=[c+g*Math.cos(Ct),h+g*Math.sin(Ct)];rt.setLayout({s1:zt,s2:Vt,sStartAngle:pt,sEndAngle:Ft,t1:wt,t2:Z,tStartAngle:Bt,tEndAngle:Ct,cx:c,cy:h,r:g,value:st,clockwise:E}),it[dt]=Ft,it[Kt]=Ct})}}}function Cdt(r){r.registerChartView(wdt),r.registerSeriesModel(xdt),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,Edt),r.registerProcessor(Yh("chord"))}var Adt=(function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r})(),Ddt=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="pointer",n}return t.prototype.getDefaultShape=function(){return new Adt},t.prototype.buildPath=function(e,n){var i=Math.cos,a=Math.sin,o=n.r,c=n.width,h=n.angle,v=n.x-i(h)*c*(c>=o/3?1:2),g=n.y-a(h)*c*(c>=o/3?1:2);h=n.angle-Math.PI/2,e.moveTo(v,g),e.lineTo(n.x+i(h)*c,n.y+a(h)*c),e.lineTo(n.x+i(n.angle)*o,n.y+a(n.angle)*o),e.lineTo(n.x-i(h)*c,n.y-a(h)*c),e.lineTo(v,g)},t})(Te);function Mdt(r,t){var e=r.get("center"),n=t.getWidth(),i=t.getHeight(),a=Math.min(n,i),o=Yt(e[0],t.getWidth()),c=Yt(e[1],t.getHeight()),h=Yt(r.get("radius"),a/2);return{cx:o,cy:c,r:h}}function ym(r,t){var e=r==null?"":r+"";return t&&($t(t)?e=t.replace("{value}",e):re(t)&&(e=t(r))),e}var Ldt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this.group.removeAll();var a=e.get(["axisLine","lineStyle","color"]),o=Mdt(e,i);this._renderMain(e,n,i,a,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,n,i,a,o){var c=this.group,h=e.get("clockwise"),v=-e.get("startAngle")/180*Math.PI,g=-e.get("endAngle")/180*Math.PI,y=e.getModel("axisLine"),m=y.get("roundCap"),b=m?X0:Xn,S=y.get("show"),E=y.getModel("lineStyle"),C=E.get("width"),A=[v,g];B_(A,!h),v=A[0],g=A[1];for(var D=g-v,L=v,R=[],O=0;S&&O<a.length;O++){var P=Math.min(Math.max(a[O][0],0),1);g=v+D*P;var V=new b({shape:{startAngle:L,endAngle:g,cx:o.cx,cy:o.cy,clockwise:h,r0:o.r-C,r:o.r},silent:!0});V.setStyle({fill:a[O][1]}),V.setStyle(E.getLineStyle(["color","width"])),R.push(V),L=g}R.reverse(),j(R,function(F){return c.add(F)});var k=function(F){if(F<=0)return a[0][1];var H;for(H=0;H<a.length;H++)if(a[H][0]>=F&&(H===0?0:a[H-1][0])<F)return a[H][1];return a[H-1][1]};this._renderTicks(e,n,i,k,o,v,g,h,C),this._renderTitleAndDetail(e,n,i,k,o),this._renderAnchor(e,o),this._renderPointer(e,n,i,k,o,v,g,h,C)},t.prototype._renderTicks=function(e,n,i,a,o,c,h,v,g){for(var y=this.group,m=o.cx,b=o.cy,S=o.r,E=+e.get("min"),C=+e.get("max"),A=e.getModel("splitLine"),D=e.getModel("axisTick"),L=e.getModel("axisLabel"),R=e.get("splitNumber"),O=D.get("splitNumber"),P=Yt(A.get("length"),S),V=Yt(D.get("length"),S),k=c,F=(h-c)/R,H=F/O,W=A.getModel("lineStyle").getLineStyle(),q=D.getModel("lineStyle").getLineStyle(),Y=A.get("distance"),K,X,J=0;J<=R;J++){if(K=Math.cos(k),X=Math.sin(k),A.get("show")){var it=Y?Y+g:g,rt=new $r({shape:{x1:K*(S-it)+m,y1:X*(S-it)+b,x2:K*(S-P-it)+m,y2:X*(S-P-it)+b},style:W,silent:!0});W.stroke==="auto"&&rt.setStyle({stroke:a(J/R)}),y.add(rt)}if(L.get("show")){var it=L.get("distance")+Y,st=ym(Yr(J/R*(C-E)+E),L.get("formatter")),lt=a(J/R),dt=K*(S-P-it)+m,pt=X*(S-P-it)+b,Tt=L.get("rotate"),Ft=0;Tt==="radial"?(Ft=-k+2*Math.PI,Ft>Math.PI/2&&(Ft+=Math.PI)):Tt==="tangential"?Ft=-k-Math.PI/2:Ie(Tt)&&(Ft=Tt*Math.PI/180),Ft===0?y.add(new ke({style:or(L,{text:st,x:dt,y:pt,verticalAlign:X<-.8?"top":X>.8?"bottom":"middle",align:K<-.4?"left":K>.4?"right":"center"},{inheritColor:lt}),silent:!0})):y.add(new ke({style:or(L,{text:st,x:dt,y:pt,verticalAlign:"middle",align:"center"},{inheritColor:lt}),silent:!0,originX:dt,originY:pt,rotation:Ft}))}if(D.get("show")&&J!==R){var it=D.get("distance");it=it?it+g:g;for(var zt=0;zt<=O;zt++){K=Math.cos(k),X=Math.sin(k);var Vt=new $r({shape:{x1:K*(S-it)+m,y1:X*(S-it)+b,x2:K*(S-V-it)+m,y2:X*(S-V-it)+b},silent:!0,style:q});q.stroke==="auto"&&Vt.setStyle({stroke:a((J+zt/O)/R)}),y.add(Vt),k+=H}k-=H}else k+=F}},t.prototype._renderPointer=function(e,n,i,a,o,c,h,v,g){var y=this.group,m=this._data,b=this._progressEls,S=[],E=e.get(["pointer","show"]),C=e.getModel("progress"),A=C.get("show"),D=e.getData(),L=D.mapDimension("value"),R=+e.get("min"),O=+e.get("max"),P=[R,O],V=[c,h];function k(H,W){var q=D.getItemModel(H),Y=q.getModel("pointer"),K=Yt(Y.get("width"),o.r),X=Yt(Y.get("length"),o.r),J=e.get(["pointer","icon"]),it=Y.get("offsetCenter"),rt=Yt(it[0],o.r),st=Yt(it[1],o.r),lt=Y.get("keepAspect"),dt;return J?dt=Kr(J,rt-K/2,st-X,K,X,null,lt):dt=new Ddt({shape:{angle:-Math.PI/2,width:K,r:X,x:rt,y:st}}),dt.rotation=-(W+Math.PI/2),dt.x=o.cx,dt.y=o.cy,dt}function F(H,W){var q=C.get("roundCap"),Y=q?X0:Xn,K=C.get("overlap"),X=K?C.get("width"):g/D.count(),J=K?o.r-X:o.r-(H+1)*X,it=K?o.r:o.r-H*X,rt=new Y({shape:{startAngle:c,endAngle:W,cx:o.cx,cy:o.cy,clockwise:v,r0:J,r:it}});return K&&(rt.z2=je(D.get(L,H),[R,O],[100,0],!0)),rt}(A||E)&&(D.diff(m).add(function(H){var W=D.get(L,H);if(E){var q=k(H,c);pr(q,{rotation:-((isNaN(+W)?V[0]:je(W,P,V,!0))+Math.PI/2)},e),y.add(q),D.setItemGraphicEl(H,q)}if(A){var Y=F(H,c),K=C.get("clip");pr(Y,{shape:{endAngle:je(W,P,V,K)}},e),y.add(Y),ZE(e.seriesIndex,D.dataType,H,Y),S[H]=Y}}).update(function(H,W){var q=D.get(L,H);if(E){var Y=m.getItemGraphicEl(W),K=Y?Y.rotation:c,X=k(H,K);X.rotation=K,Ve(X,{rotation:-((isNaN(+q)?V[0]:je(q,P,V,!0))+Math.PI/2)},e),y.add(X),D.setItemGraphicEl(H,X)}if(A){var J=b[W],it=J?J.shape.endAngle:c,rt=F(H,it),st=C.get("clip");Ve(rt,{shape:{endAngle:je(q,P,V,st)}},e),y.add(rt),ZE(e.seriesIndex,D.dataType,H,rt),S[H]=rt}}).execute(),D.each(function(H){var W=D.getItemModel(H),q=W.getModel("emphasis"),Y=q.get("focus"),K=q.get("blurScope"),X=q.get("disabled");if(E){var J=D.getItemGraphicEl(H),it=D.getItemVisual(H,"style"),rt=it.fill;if(J instanceof En){var st=J.style;J.useStyle(Mt({image:st.image,x:st.x,y:st.y,width:st.width,height:st.height},it))}else J.useStyle(it),J.type!=="pointer"&&J.setColor(rt);J.setStyle(W.getModel(["pointer","itemStyle"]).getItemStyle()),J.style.fill==="auto"&&J.setStyle("fill",a(je(D.get(L,H),P,[0,1],!0))),J.z2EmphasisLift=0,an(J,W),yr(J,Y,K,X)}if(A){var lt=S[H];lt.useStyle(D.getItemVisual(H,"style")),lt.setStyle(W.getModel(["progress","itemStyle"]).getItemStyle()),lt.z2EmphasisLift=0,an(lt,W),yr(lt,Y,K,X)}}),this._progressEls=S)},t.prototype._renderAnchor=function(e,n){var i=e.getModel("anchor"),a=i.get("show");if(a){var o=i.get("size"),c=i.get("icon"),h=i.get("offsetCenter"),v=i.get("keepAspect"),g=Kr(c,n.cx-o/2+Yt(h[0],n.r),n.cy-o/2+Yt(h[1],n.r),o,o,null,v);g.z2=i.get("showAbove")?1:0,g.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(g)}},t.prototype._renderTitleAndDetail=function(e,n,i,a,o){var c=this,h=e.getData(),v=h.mapDimension("value"),g=+e.get("min"),y=+e.get("max"),m=new ne,b=[],S=[],E=e.isAnimationEnabled(),C=e.get(["pointer","showAbove"]);h.diff(this._data).add(function(A){b[A]=new ke({silent:!0}),S[A]=new ke({silent:!0})}).update(function(A,D){b[A]=c._titleEls[D],S[A]=c._detailEls[D]}).execute(),h.each(function(A){var D=h.getItemModel(A),L=h.get(v,A),R=new ne,O=a(je(L,[g,y],[0,1],!0)),P=D.getModel("title");if(P.get("show")){var V=P.get("offsetCenter"),k=o.cx+Yt(V[0],o.r),F=o.cy+Yt(V[1],o.r),H=b[A];H.attr({z2:C?0:2,style:or(P,{x:k,y:F,text:h.getName(A),align:"center",verticalAlign:"middle"},{inheritColor:O})}),R.add(H)}var W=D.getModel("detail");if(W.get("show")){var q=W.get("offsetCenter"),Y=o.cx+Yt(q[0],o.r),K=o.cy+Yt(q[1],o.r),X=Yt(W.get("width"),o.r),J=Yt(W.get("height"),o.r),it=e.get(["progress","show"])?h.getItemVisual(A,"style").fill:O,H=S[A],rt=W.get("formatter");H.attr({z2:C?0:2,style:or(W,{x:Y,y:K,text:ym(L,rt),width:isNaN(X)?null:X,height:isNaN(J)?null:J,align:"center",verticalAlign:"middle"},{inheritColor:it})}),jH(H,{normal:W},L,function(lt){return ym(lt,rt)}),E&&YH(H,A,h,e,{getFormattedLabel:function(lt,dt,pt,Tt,Ft,zt){return ym(zt?zt.interpolatedValue:L,rt)}}),R.add(H)}m.add(R)}),this.group.add(m),this._titleEls=b,this._detailEls=S},t.type="gauge",t})(Je),Ndt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return t.prototype.getInitialData=function(e,n){return $h(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,yt.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:yt.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:yt.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:yt.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:yt.color.neutral00,borderWidth:0,borderColor:yt.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:yt.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:yt.color.transparent,borderWidth:0,borderColor:yt.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:yt.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t})(sr);function Rdt(r){r.registerChartView(Ldt),r.registerSeriesModel(Ndt)}var Idt=["itemStyle","opacity"],Odt=(function(r){bt(t,r);function t(e,n){var i=r.call(this)||this,a=i,o=new Pn,c=new ke;return a.setTextContent(c),i.setTextGuideLine(o),i.updateData(e,n,!0),i}return t.prototype.updateData=function(e,n,i){var a=this,o=e.hostModel,c=e.getItemModel(n),h=e.getItemLayout(n),v=c.getModel("emphasis"),g=c.get(Idt);g=g??1,i||pa(a),a.useStyle(e.getItemVisual(n,"style")),a.style.lineJoin="round",i?(a.setShape({points:h.points}),a.style.opacity=0,pr(a,{style:{opacity:g}},o,n)):Ve(a,{style:{opacity:g},shape:{points:h.points}},o,n),an(a,c),this._updateLabel(e,n),yr(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},t.prototype._updateLabel=function(e,n){var i=this,a=this.getTextGuideLine(),o=i.getTextContent(),c=e.hostModel,h=e.getItemModel(n),v=e.getItemLayout(n),g=v.label,y=e.getItemVisual(n,"style"),m=y.fill;dn(o,on(h),{labelFetcher:e.hostModel,labelDataIndex:n,defaultOpacity:y.opacity,defaultText:e.getName(n)},{normal:{align:g.textAlign,verticalAlign:g.verticalAlign}});var b=h.getModel("label"),S=b.get("color"),E=S==="inherit"?m:null;i.setTextConfig({local:!0,inside:!!g.inside,insideStroke:E,outsideFill:E});var C=g.linePoints;a.setShape({points:C}),i.textGuideLineConfig={anchor:C?new oe(C[0][0],C[0][1]):null},Ve(o,{style:{x:g.x,y:g.y}},c,n),o.attr({rotation:g.rotation,originX:g.x,originY:g.y,z2:10}),aD(i,oD(h),{stroke:m})},t})(Zn),Pdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._data,c=this.group;a.diff(o).add(function(h){var v=new Odt(a,h);a.setItemGraphicEl(h,v),c.add(v)}).update(function(h,v){var g=o.getItemGraphicEl(v);g.updateData(a,h),c.add(g),a.setItemGraphicEl(h,g)}).remove(function(h){var v=o.getItemGraphicEl(h);hs(v,e,h)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t})(Je),kdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new qh(qt(this.getData,this),qt(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,n){return $h(this,{coordDimensions:["value"],encodeDefaulter:ve(GA,this)})},t.prototype._defaultLabelLine=function(e){bc(e,"labelLine",["show"]);var n=e.labelLine,i=e.emphasis.labelLine;n.show=n.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var n=this.getData(),i=r.prototype.getDataParams.call(this,e),a=n.mapDimension("value"),o=n.getSum(a);return i.percent=o?+(n.get(a,e)/o*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:yt.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:yt.color.primary}}},t})(sr);function Vdt(r,t){for(var e=r.mapDimension("value"),n=r.mapArray(e,function(h){return h}),i=[],a=t==="ascending",o=0,c=r.count();o<c;o++)i[o]=o;return re(t)?i.sort(t):t!=="none"&&i.sort(function(h,v){return a?n[h]-n[v]:n[v]-n[h]}),i}function Gdt(r){var t=r.hostModel,e=t.get("orient");r.each(function(n){var i=r.getItemModel(n),a=i.getModel("label"),o=a.get("position"),c=i.getModel("labelLine"),h=r.getItemLayout(n),v=h.points,g=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",y,m,b,S;if(g)o==="insideLeft"?(m=(v[0][0]+v[3][0])/2+5,b=(v[0][1]+v[3][1])/2,y="left"):o==="insideRight"?(m=(v[1][0]+v[2][0])/2-5,b=(v[1][1]+v[2][1])/2,y="right"):(m=(v[0][0]+v[1][0]+v[2][0]+v[3][0])/4,b=(v[0][1]+v[1][1]+v[2][1]+v[3][1])/4,y="center"),S=[[m,b],[m,b]];else{var E=void 0,C=void 0,A=void 0,D=void 0,L=c.get("length");o==="left"?(E=(v[3][0]+v[0][0])/2,C=(v[3][1]+v[0][1])/2,A=E-L,m=A-5,y="right"):o==="right"?(E=(v[1][0]+v[2][0])/2,C=(v[1][1]+v[2][1])/2,A=E+L,m=A+5,y="left"):o==="top"?(E=(v[3][0]+v[0][0])/2,C=(v[3][1]+v[0][1])/2,D=C-L,b=D-5,y="center"):o==="bottom"?(E=(v[1][0]+v[2][0])/2,C=(v[1][1]+v[2][1])/2,D=C+L,b=D+5,y="center"):o==="rightTop"?(E=e==="horizontal"?v[3][0]:v[1][0],C=e==="horizontal"?v[3][1]:v[1][1],e==="horizontal"?(D=C-L,b=D-5,y="center"):(A=E+L,m=A+5,y="top")):o==="rightBottom"?(E=v[2][0],C=v[2][1],e==="horizontal"?(D=C+L,b=D+5,y="center"):(A=E+L,m=A+5,y="bottom")):o==="leftTop"?(E=v[0][0],C=e==="horizontal"?v[0][1]:v[1][1],e==="horizontal"?(D=C-L,b=D-5,y="center"):(A=E-L,m=A-5,y="right")):o==="leftBottom"?(E=e==="horizontal"?v[1][0]:v[3][0],C=e==="horizontal"?v[1][1]:v[2][1],e==="horizontal"?(D=C+L,b=D+5,y="center"):(A=E-L,m=A-5,y="right")):(E=(v[1][0]+v[2][0])/2,C=(v[1][1]+v[2][1])/2,e==="horizontal"?(D=C+L,b=D+5,y="center"):(A=E+L,m=A+5,y="left")),e==="horizontal"?(A=E,m=A):(D=C,b=D),S=[[E,C],[A,D]]}h.label={linePoints:S,x:m,y:b,verticalAlign:"middle",textAlign:y,inside:g}})}function Fdt(r,t){r.eachSeriesByType("funnel",function(e){var n=e.getData(),i=n.mapDimension("value"),a=e.get("sort"),o=sn(e,t),c=mr(e.getBoxLayoutParams(),o.refContainer),h=e.get("orient"),v=c.width,g=c.height,y=Vdt(n,a),m=c.x,b=c.y,S=h==="horizontal"?[Yt(e.get("minSize"),g),Yt(e.get("maxSize"),g)]:[Yt(e.get("minSize"),v),Yt(e.get("maxSize"),v)],E=n.getDataExtent(i),C=e.get("min"),A=e.get("max");C==null&&(C=Math.min(E[0],0)),A==null&&(A=E[1]);var D=e.get("funnelAlign"),L=e.get("gap"),R=h==="horizontal"?v:g,O=(R-L*(n.count()-1))/n.count(),P=function(X,J){if(h==="horizontal"){var it=n.get(i,X)||0,rt=je(it,[C,A],S,!0),st=void 0;switch(D){case"top":st=b;break;case"center":st=b+(g-rt)/2;break;case"bottom":st=b+(g-rt);break}return[[J,st],[J,st+rt]]}var lt=n.get(i,X)||0,dt=je(lt,[C,A],S,!0),pt;switch(D){case"left":pt=m;break;case"center":pt=m+(v-dt)/2;break;case"right":pt=m+v-dt;break}return[[pt,J],[pt+dt,J]]};a==="ascending"&&(O=-O,L=-L,h==="horizontal"?m+=v:b+=g,y=y.reverse());for(var V=0;V<y.length;V++){var k=y[V],F=y[V+1],H=n.getItemModel(k);if(h==="horizontal"){var W=H.get(["itemStyle","width"]);W==null?W=O:(W=Yt(W,v),a==="ascending"&&(W=-W));var q=P(k,m),Y=P(F,m+W);m+=W+L,n.setItemLayout(k,{points:q.concat(Y.slice().reverse())})}else{var K=H.get(["itemStyle","height"]);K==null?K=O:(K=Yt(K,g),a==="ascending"&&(K=-K));var q=P(k,b),Y=P(F,b+K);b+=K+L,n.setItemLayout(k,{points:q.concat(Y.slice().reverse())})}}Gdt(n)})}function Bdt(r){r.registerChartView(Pdt),r.registerSeriesModel(kdt),r.registerLayout(Fdt),r.registerProcessor(Yh("funnel"))}var Hdt=.3,zdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new ne,e._initialized=!1,e}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,n,i,a){this._progressiveEls=null;var o=this._dataGroup,c=e.getData(),h=this._data,v=e.coordinateSystem,g=v.dimensions,y=h5(e);c.diff(h).add(m).update(b).remove(S).execute();function m(C){var A=f5(c,o,C,g,v);_x(A,c,C,y)}function b(C,A){var D=h.getItemGraphicEl(A),L=H8(c,C,g,v);c.setItemGraphicEl(C,D),Ve(D,{shape:{points:L}},e,C),pa(D),_x(D,c,C,y)}function S(C){var A=h.getItemGraphicEl(C);o.remove(A)}if(!this._initialized){this._initialized=!0;var E=Udt(v,e,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(E)}this._data=c},t.prototype.incrementalPrepareRender=function(e,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,n,i){for(var a=n.getData(),o=n.coordinateSystem,c=o.dimensions,h=h5(n),v=this._progressiveEls=[],g=e.start;g<e.end;g++){var y=f5(a,this._dataGroup,g,c,o);y.incremental=!0,_x(y,a,g,h),v.push(y)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t})(Je);function Udt(r,t,e){var n=r.model,i=r.getRect(),a=new xe({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o=n.get("layout")==="horizontal"?"width":"height";return a.setShape(o,0),pr(a,{shape:{width:i.width,height:i.height}},t,e),a}function H8(r,t,e,n){for(var i=[],a=0;a<e.length;a++){var o=e[a],c=r.get(r.mapDimension(o),t);Wdt(c,n.getAxis(o).type)||i.push(n.dataToPoint(c,o))}return i}function f5(r,t,e,n,i){var a=H8(r,e,n,i),o=new Pn({shape:{points:a},z2:10});return t.add(o),r.setItemGraphicEl(e,o),o}function h5(r){var t=r.get("smooth",!0);return t===!0&&(t=Hdt),t=bs(t),Yn(t)&&(t=0),{smooth:t}}function _x(r,t,e,n){r.useStyle(t.getItemVisual(e,"style")),r.style.fill=null,r.setShape("smooth",n.smooth);var i=t.getItemModel(e),a=i.getModel("emphasis");an(r,i,"lineStyle"),yr(r,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function Wdt(r,t){return t==="category"?r==null:r==null||isNaN(r)}var jdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.getInitialData=function(e,n){return Ls(null,this,{useEncodeDefaulter:qt(Ydt,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var n=this.coordinateSystem,i=this.getData(),a=[];return n.eachActiveState(i,function(o,c){e===o&&a.push(i.getRawIndex(c))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t})(sr);function Ydt(r){var t=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(t){var e={};return j(t.dimensions,function(n){var i=$dt(n);e[n]=i}),e}}function $dt(r){return+r.replace("dim","")}var qdt=["lineStyle","opacity"],Xdt={seriesType:"parallel",reset:function(r,t){var e=r.coordinateSystem,n={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(i,a){e.eachActiveState(a,function(o,c){var h=n[o];if(o==="normal"&&a.hasItemOption){var v=a.getItemModel(c).get(qdt,!0);v!=null&&(h=v)}var g=a.ensureUniqueItemVisual(c,"style");g.opacity=h},i.start,i.end)}}}};function Zdt(r){Kdt(r),Jdt(r)}function Kdt(r){if(!r.parallel){var t=!1;j(r.series,function(e){e&&e.type==="parallel"&&(t=!0)}),t&&(r.parallel=[{}])}}function Jdt(r){var t=tr(r.parallelAxis);j(t,function(e){if(le(e)){var n=e.parallelIndex||0,i=tr(r.parallel)[n];i&&i.parallelAxisDefault&&ye(e,i.parallelAxisDefault,!1)}})}var Qdt=5,tvt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this._model=e,this._api=i,this._handlers||(this._handlers={},j(evt,function(a,o){i.getZr().on(o,this._handlers[o]=qt(a,this))},this)),Uh(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,n){dv(this,"_throttledDispatchExpand"),j(this._handlers,function(i,a){n.getZr().off(a,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(Mt({type:"parallelAxisExpand"},e))},t.type="parallel",t})(vr),evt={mousedown:function(r){bx(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var t=this._mouseDownPoint;if(bx(this,"click")&&t){var e=[r.offsetX,r.offsetY],n=Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2);if(n>Qdt)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!bx(this,"mousemove"))){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),n=e.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:e.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function bx(r,t){var e=r._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var rvt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var n=this.option;e&&ye(n,e,!0),this._initDimensions()},t.prototype.contains=function(e,n){var i=e.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){j(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){e.hasOwnProperty(n)&&(this.option[n]=e[n])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],n=this.parallelAxisIndex=[],i=Ye(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);j(i,function(a){e.push("dim"+a.get("dim")),n.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t})(Ce),nvt=(function(r){bt(t,r);function t(e,n,i,a,o){var c=r.call(this,e,n,i)||this;return c.type=a||"value",c.axisIndex=o,c}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t})(za);function Rl(r,t,e,n,i,a){r=r||0;var o=e[1]-e[0];if(i!=null&&(i=Ff(i,[0,o])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var c=Math.abs(t[1]-t[0]);c=Ff(c,[0,o]),i=a=Ff(c,[i,a]),n=0}t[0]=Ff(t[0],e),t[1]=Ff(t[1],e);var h=Sx(t,n);t[n]+=r;var v=i||0,g=e.slice();h.sign<0?g[0]+=v:g[1]-=v,t[n]=Ff(t[n],g);var y;return y=Sx(t,n),i!=null&&(y.sign!==h.sign||y.span<i)&&(t[1-n]=t[n]+h.sign*i),y=Sx(t,n),a!=null&&y.span>a&&(t[1-n]=t[n]+y.sign*a),t}function Sx(r,t){var e=r[t]-r[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Ff(r,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,r))}var xx=j,z8=Math.min,U8=Math.max,p5=Math.floor,ivt=Math.ceil,d5=Yr,avt=Math.PI,ovt=(function(){function r(t,e,n){this.type="parallel",this._axesMap=Qt(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return r.prototype._init=function(t,e,n){var i=t.dimensions,a=t.parallelAxisIndex;xx(i,function(o,c){var h=a[c],v=e.getComponent("parallelAxis",h),g=this._axesMap.set(o,new nvt(o,rb(v),[0,0],v.get("type"),h)),y=g.type==="category";g.onBand=y&&v.get("boundaryGap"),g.inverse=v.get("inverse"),v.axis=g,g.model=v,g.coordinateSystem=v.coordinateSystem=this},this)},r.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},r.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,a=e.pixelDimIndex,o=t[1-a],c=t[a];return o>=n&&o<=n+e.axisLength&&c>=i&&c<=i+e.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var i=n.getData();xx(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(i,i.mapDimension(a)),Th(o.scale,o.model)},this)}},this)},r.prototype.resize=function(t,e){var n=sn(t,e).refContainer;this._rect=mr(t.getBoxLayoutParams(),n),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var t=this._model,e=this._rect,n=["x","y"],i=["width","height"],a=t.get("layout"),o=a==="horizontal"?0:1,c=e[i[o]],h=[0,c],v=this.dimensions.length,g=mm(t.get("axisExpandWidth"),h),y=mm(t.get("axisExpandCount")||0,[0,v]),m=t.get("axisExpandable")&&v>3&&v>y&&y>1&&g>0&&c>0,b=t.get("axisExpandWindow"),S;if(b)S=mm(b[1]-b[0],h),b[1]=b[0]+S;else{S=mm(g*(y-1),h);var E=t.get("axisExpandCenter")||p5(v/2);b=[g*E-S/2],b[1]=b[0]+S}var C=(c-S)/(v-y);C<3&&(C=0);var A=[p5(d5(b[0]/g,1))+1,ivt(d5(b[1]/g,1))-1],D=C/g*b[0];return{layout:a,pixelDimIndex:o,layoutBase:e[n[o]],layoutLength:c,axisBase:e[n[1-o]],axisLength:e[i[1-o]],axisExpandable:m,axisExpandWidth:g,axisCollapseWidth:C,axisExpandWindow:b,axisCount:v,winInnerIndices:A,axisExpandWindow0Pos:D}},r.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;e.each(function(o){var c=[0,i.axisLength],h=o.inverse?1:0;o.setExtent(c[h],c[1-h])}),xx(n,function(o,c){var h=(i.axisExpandable?lvt:svt)(c,i),v={horizontal:{x:h.position,y:i.axisLength},vertical:{x:0,y:h.position}},g={horizontal:avt/2,vertical:0},y=[v[a].x+t.x,v[a].y+t.y],m=g[a],b=wn();kl(b,b,m),Oo(b,b,y),this._axesLayout[o]={position:y,rotation:m,transform:b,axisNameAvailableWidth:h.axisNameAvailableWidth,axisLabelShow:h.axisLabelShow,nameTruncateMaxWidth:h.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(t){return this._axesMap.get(t)},r.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},r.prototype.eachActiveState=function(t,e,n,i){n==null&&(n=0),i==null&&(i=t.count());var a=this._axesMap,o=this.dimensions,c=[],h=[];j(o,function(C){c.push(t.mapDimension(C)),h.push(a.get(C).model)});for(var v=this.hasAxisBrushed(),g=n;g<i;g++){var y=void 0;if(!v)y="normal";else{y="active";for(var m=t.getValues(c,g),b=0,S=o.length;b<S;b++){var E=h[b].getActiveState(m[b]);if(E==="inactive"){y="inactive";break}}}e(y,g)}},r.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,a=t.length;i<a;i++)e.get(t[i]).model.getActiveState()!=="normal"&&(n=!0);return n},r.prototype.axisCoordToPoint=function(t,e){var n=this._axesLayout[e];return Oa([t,0],n.transform)},r.prototype.getAxisLayout=function(t){return ie(this._axesLayout[t])},r.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),a=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var c=t[n]-e.layoutBase-e.axisExpandWindow0Pos,h,v="slide",g=e.axisCollapseWidth,y=this._model.get("axisExpandSlideTriggerArea"),m=y[0]!=null;if(g)m&&g&&c<a*y[0]?(v="jump",h=c-a*y[2]):m&&g&&c>a*(1-y[0])?(v="jump",h=c-a*(1-y[2])):(h=c-a*y[1])>=0&&(h=c-a*(1-y[1]))<=0&&(h=0),h*=e.axisExpandWidth/g,h?Rl(h,i,o,"all"):v="none";else{var b=i[1]-i[0],S=o[1]*c/b;i=[U8(0,S-b/2)],i[1]=z8(o[1],i[0]+b),i[0]=i[1]-b}return{axisExpandWindow:i,behavior:v}},r})();function mm(r,t){return z8(U8(r,t[0]),t[1])}function svt(r,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*r,axisNameAvailableWidth:e,axisLabelShow:!0}}function lvt(r,t){var e=t.layoutLength,n=t.axisExpandWidth,i=t.axisCount,a=t.axisCollapseWidth,o=t.winInnerIndices,c,h=a,v=!1,g;return r<o[0]?(c=r*a,g=a):r<=o[1]?(c=t.axisExpandWindow0Pos+r*n-t.axisExpandWindow[0],h=n,v=!0):(c=e-(i-1-r)*a,g=a),{position:c,axisNameAvailableWidth:h,axisLabelShow:v,nameTruncateMaxWidth:g}}function uvt(r,t){var e=[];return r.eachComponent("parallel",function(n,i){var a=new ovt(n,r,t);a.name="parallel_"+i,a.resize(n,t),n.coordinateSystem=a,a.model=n,e.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",Ar).models[0];n.coordinateSystem=i.coordinateSystem}}),e}var cvt={create:uvt},eC=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return t.prototype.getAreaSelectStyle=function(){return wc([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var n=this.activeIntervals=ie(e);if(n)for(var i=n.length-1;i>=0;i--)ca(n[i])},t.prototype.getActiveState=function(e){var n=this.activeIntervals;if(!n.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var a=0,o=n.length;a<o;a++)if(n[a][0]<=e&&e<=n[a][1])return"active";return"inactive"},t})(Ce);Jr(eC,jv);var Ac=!0,Dv=Math.min,Lh=Math.max,fvt=Math.pow,hvt=1e4,pvt=6,dvt=6,v5="globalPan",vvt={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},gvt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},g5={brushStyle:{lineWidth:2,stroke:yt.color.backgroundTint,fill:yt.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},yvt=0,ID=(function(r){bt(t,r);function t(e){var n=r.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new ne,n._uid="brushController_"+yvt++,j(Evt,function(i,a){this._handlers[a]=qt(i,this)},n),n}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var n=this._zr;this._enableGlobalPan||tht(n,v5,this._uid),j(this._handlers,function(i,a){n.on(a,i)}),this._brushType=e.brushType,this._brushOption=ye(ie(g5),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;eht(e,v5,this._uid),j(this._handlers,function(n,i){e.off(i,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var n=this._panels={};j(e,function(i){n[i.panelId]=ie(i)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=Pt(e,function(m){return ye(ie(g5),m,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,c=this._creatingCover;return new xs(i,e,v,h).add(g).update(g).remove(y).execute(),this;function h(m,b){return(m.id!=null?m.id:n+b)+"-"+m.brushType}function v(m,b){return h(m.__brushOption,b)}function g(m,b){var S=e[m];if(b!=null&&i[b]===c)a[m]=i[b];else{var E=a[m]=b!=null?(i[b].__brushOption=S,i[b]):j8(o,W8(o,S));OD(o,E)}}function y(m){i[m]!==c&&o.group.remove(i[m])}},t.prototype.unmount=function(){return this.enableBrush(!1),rC(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t})(da);function W8(r,t){var e=fb[t.brushType].createCover(r,t);return e.__brushOption=t,$8(e,t),r.group.add(e),e}function j8(r,t){var e=PD(t);return e.endCreating&&(e.endCreating(r,t),$8(t,t.__brushOption)),t}function Y8(r,t){var e=t.__brushOption;PD(t).updateCoverShape(r,t,e.range,e)}function $8(r,t){var e=t.z;e==null&&(e=hvt),r.traverse(function(n){n.z=e,n.z2=e})}function OD(r,t){PD(t).updateCommon(r,t),Y8(r,t)}function PD(r){return fb[r.__brushOption.brushType]}function kD(r,t,e){var n=r._panels;if(!n)return Ac;var i,a=r._transform;return j(n,function(o){o.isTargetByCursor(t,e,a)&&(i=o)}),i}function q8(r,t){var e=r._panels;if(!e)return Ac;var n=t.__brushOption.panelId;return n!=null?e[n]:Ac}function rC(r){var t=r._covers,e=t.length;return j(t,function(n){r.group.remove(n)},r),t.length=0,!!e}function Dc(r,t){var e=Pt(r._covers,function(n){var i=n.__brushOption,a=ie(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});r.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function mvt(r){var t=r._track;if(!t.length)return!1;var e=t[t.length-1],n=t[0],i=e[0]-n[0],a=e[1]-n[1],o=fvt(i*i+a*a,.5);return o>pvt}function X8(r){var t=r.length-1;return t<0&&(t=0),[r[0],r[t]]}function Z8(r,t,e,n){var i=new ne;return i.add(new xe({name:"main",style:VD(e),silent:!0,draggable:!0,cursor:"move",drift:ve(y5,r,t,i,["n","s","w","e"]),ondragend:ve(Dc,t,{isEnd:!0})})),j(n,function(a){i.add(new xe({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:ve(y5,r,t,i,a),ondragend:ve(Dc,t,{isEnd:!0})}))}),i}function K8(r,t,e,n){var i=n.brushStyle.lineWidth||0,a=Lh(i,dvt),o=e[0][0],c=e[1][0],h=o-i/2,v=c-i/2,g=e[0][1],y=e[1][1],m=g-a+i/2,b=y-a+i/2,S=g-o,E=y-c,C=S+i,A=E+i;rs(r,t,"main",o,c,S,E),n.transformable&&(rs(r,t,"w",h,v,a,A),rs(r,t,"e",m,v,a,A),rs(r,t,"n",h,v,C,a),rs(r,t,"s",h,b,C,a),rs(r,t,"nw",h,v,a,a),rs(r,t,"ne",m,v,a,a),rs(r,t,"sw",h,b,a,a),rs(r,t,"se",m,b,a,a))}function nC(r,t){var e=t.__brushOption,n=e.transformable,i=t.childAt(0);i.useStyle(VD(e)),i.attr({silent:!n,cursor:n?"move":"default"}),j([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=t.childOfName(a.join("")),c=a.length===1?iC(r,a[0]):bvt(r,a);o&&o.attr({silent:!n,invisible:!n,cursor:n?gvt[c]+"-resize":null})})}function rs(r,t,e,n,i,a,o){var c=t.childOfName(e);c&&c.setShape(wvt(GD(r,t,[[n,i],[n+a,i+o]])))}function VD(r){return se({strokeNoScale:!0},r.brushStyle)}function J8(r,t,e,n){var i=[Dv(r,e),Dv(t,n)],a=[Lh(r,e),Lh(t,n)];return[[i[0],a[0]],[i[1],a[1]]]}function _vt(r){return vc(r.group)}function iC(r,t){var e={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=$_(e[t],_vt(r));return n[i]}function bvt(r,t){var e=[iC(r,t[0]),iC(r,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function y5(r,t,e,n,i,a){var o=e.__brushOption,c=r.toRectRange(o.range),h=Q8(t,i,a);j(n,function(v){var g=vvt[v];c[g[0]][g[1]]+=h[g[0]]}),o.range=r.fromRectRange(J8(c[0][0],c[1][0],c[0][1],c[1][1])),OD(t,e),Dc(t,{isEnd:!1})}function Svt(r,t,e,n){var i=t.__brushOption.range,a=Q8(r,e,n);j(i,function(o){o[0]+=a[0],o[1]+=a[1]}),OD(r,t),Dc(r,{isEnd:!1})}function Q8(r,t,e){var n=r.group,i=n.transformCoordToLocal(t,e),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function GD(r,t,e){var n=q8(r,t);return n&&n!==Ac?n.clipPath(e,r._transform):ie(e)}function wvt(r){var t=Dv(r[0][0],r[1][0]),e=Dv(r[0][1],r[1][1]),n=Lh(r[0][0],r[1][0]),i=Lh(r[0][1],r[1][1]);return{x:t,y:e,width:n-t,height:i-e}}function xvt(r,t,e){if(!(!r._brushType||Tvt(r,t.offsetX,t.offsetY))){var n=r._zr,i=r._covers,a=kD(r,t,e);if(!r._dragging)for(var o=0;o<i.length;o++){var c=i[o].__brushOption;if(a&&(a===Ac||c.panelId===a.panelId)&&fb[c.brushType].contain(i[o],e[0],e[1]))return}a&&n.setCursorStyle("crosshair")}}function aC(r){var t=r.event;t.preventDefault&&t.preventDefault()}function oC(r,t,e){return r.childOfName("main").contain(t,e)}function t7(r,t,e,n){var i=r._creatingCover,a=r._creatingPanel,o=r._brushOption,c;if(r._track.push(e.slice()),mvt(r)||i){if(a&&!i){o.brushMode==="single"&&rC(r);var h=ie(o);h.brushType=m5(h.brushType,a),h.panelId=a===Ac?null:a.panelId,i=r._creatingCover=W8(r,h),r._covers.push(i)}if(i){var v=fb[m5(r._brushType,a)],g=i.__brushOption;g.range=v.getCreatingRange(GD(r,i,r._track)),n&&(j8(r,i),v.updateCommon(r,i)),Y8(r,i),c={isEnd:n}}}else n&&o.brushMode==="single"&&o.removeOnClick&&kD(r,t,e)&&rC(r)&&(c={isEnd:n,removeOnClick:!0});return c}function m5(r,t){return r==="auto"?t.defaultBrushType:r}var Evt={mousedown:function(r){if(this._dragging)_5(this,r);else if(!r.target||!r.target.draggable){aC(r);var t=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var e=this._creatingPanel=kD(this,r,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(r){var t=r.offsetX,e=r.offsetY,n=this.group.transformCoordToLocal(t,e);if(xvt(this,r,n),this._dragging){aC(r);var i=t7(this,r,n,!1);i&&Dc(this,i)}},mouseup:function(r){_5(this,r)}};function _5(r,t){if(r._dragging){aC(t);var e=t.offsetX,n=t.offsetY,i=r.group.transformCoordToLocal(e,n),a=t7(r,t,i,!0);r._dragging=!1,r._track=[],r._creatingCover=null,a&&Dc(r,a)}}function Tvt(r,t,e){var n=r._zr;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var fb={lineX:b5(0),lineY:b5(1),rect:{createCover:function(r,t){function e(n){return n}return Z8({toRectRange:e,fromRectRange:e},r,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var t=X8(r);return J8(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(r,t,e,n){K8(r,t,e,n)},updateCommon:nC,contain:oC},polygon:{createCover:function(r,t){var e=new ne;return e.add(new Pn({name:"main",style:VD(t),silent:!0})),e},getCreatingRange:function(r){return r},endCreating:function(r,t){t.remove(t.childAt(0)),t.add(new Zn({name:"main",draggable:!0,drift:ve(Svt,r,t),ondragend:ve(Dc,r,{isEnd:!0})}))},updateCoverShape:function(r,t,e,n){t.childAt(0).setShape({points:GD(r,t,e)})},updateCommon:nC,contain:oC}};function b5(r){return{createCover:function(t,e){return Z8({toRectRange:function(n){var i=[n,[0,100]];return r&&i.reverse(),i},fromRectRange:function(n){return n[r]}},t,e,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(t){var e=X8(t),n=Dv(e[0][r],e[1][r]),i=Lh(e[0][r],e[1][r]);return[n,i]},updateCoverShape:function(t,e,n,i){var a,o=q8(t,e);if(o!==Ac&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(r);else{var c=t._zr;a=[0,[c.getWidth(),c.getHeight()][1-r]]}var h=[n,a];r&&h.reverse(),K8(t,e,h,i)},updateCommon:nC,contain:oC}}function e7(r){return r=FD(r),function(t){return BH(t,r)}}function r7(r,t){return r=FD(r),function(e){var n=t??e,i=n?r.width:r.height,a=n?r.x:r.y;return[a,a+(i||0)]}}function n7(r,t,e){var n=FD(r);return function(i,a){return n.contain(a[0],a[1])&&!l8(i,t,e)}}function FD(r){return ue.create(r)}var Cvt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){r.prototype.init.apply(this,arguments),(this._brushController=new ID(n.getZr())).on("brush",qt(this._onBrush,this))},t.prototype.render=function(e,n,i,a){if(!Avt(e,n,a)){this.axisModel=e,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ne,this.group.add(this._axisGroup),!!e.get("show")){var c=Mvt(e,n),h=c.coordinateSystem,v=e.getAreaSelectStyle(),g=v.width,y=e.axis.dim,m=h.getAxisLayout(y),b=Mt({strokeContainThreshold:g},m),S=new hi(e,i,b);S.build(),this._axisGroup.add(S.group),this._refreshBrushController(b,v,e,c,g,i),Gv(o,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,n,i,a,o,c){var h=i.axis.getExtent(),v=h[1]-h[0],g=Math.min(30,Math.abs(v)*.1),y=ue.create({x:h[0],y:-o/2,width:v,height:o});y.x-=g,y.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:e7(y),isTargetByCursor:n7(y,c,a),getLinearBrushOtherExtent:r7(y,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(Dvt(i))},t.prototype._onBrush=function(e){var n=e.areas,i=this.axisModel,a=i.axis,o=Pt(n,function(c){return[a.coordToData(c.range[0],!0),a.coordToData(c.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t})(vr);function Avt(r,t,e){return e&&e.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:e})[0]===r}function Dvt(r){var t=r.axis;return Pt(r.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}function Mvt(r,t){return t.getComponent("parallel",r.get("parallelIndex"))}var Lvt={type:"axisAreaSelect",event:"axisAreaSelected"};function Nvt(r){r.registerAction(Lvt,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),r.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(n){n.setAxisExpand(t)})})}var Rvt={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function i7(r){r.registerComponentView(tvt),r.registerComponentModel(rvt),r.registerCoordinateSystem("parallel",cvt),r.registerPreprocessor(Zdt),r.registerComponentModel(eC),r.registerComponentView(Cvt),Dh(r,"parallel",eC,Rvt),Nvt(r)}function Ivt(r){be(i7),r.registerChartView(zdt),r.registerSeriesModel(jdt),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,Xdt)}var Ovt=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r})(),Pvt=(function(r){bt(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Ovt},t.prototype.buildPath=function(e,n){var i=n.extent;e.moveTo(n.x1,n.y1),e.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(e.lineTo(n.x2+i,n.y2),e.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(e.lineTo(n.x2,n.y2+i),e.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),e.closePath()},t.prototype.highlight=function(){Ss(this)},t.prototype.downplay=function(){ws(this)},t})(Te),kvt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new ne,e._focusAdjacencyDisabled=!1,e}return t.prototype.init=function(e,n){this._controller=new Fc(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,i){var a=this,o=e.getGraph(),c=this._mainGroup,h=e.layoutInfo,v=h.width,g=h.height,y=e.getData(),m=e.getData("edge"),b=e.get("orient");this._model=e,c.removeAll(),c.x=h.x,c.y=h.y,this._updateViewCoordSys(e,i),u8(e,i,c,this._controller,this._controllerHost,null),o.eachEdge(function(S){var E=new Pvt,C=fe(E);C.dataIndex=S.dataIndex,C.seriesIndex=e.seriesIndex,C.dataType="edge";var A=S.getModel(),D=A.getModel("lineStyle"),L=D.get("curveness"),R=S.node1.getLayout(),O=S.node1.getModel(),P=O.get("localX"),V=O.get("localY"),k=S.node2.getLayout(),F=S.node2.getModel(),H=F.get("localX"),W=F.get("localY"),q=S.getLayout(),Y,K,X,J,it,rt,st,lt;E.shape.extent=Math.max(1,q.dy),E.shape.orient=b,b==="vertical"?(Y=(P!=null?P*v:R.x)+q.sy,K=(V!=null?V*g:R.y)+R.dy,X=(H!=null?H*v:k.x)+q.ty,J=W!=null?W*g:k.y,it=Y,rt=K*(1-L)+J*L,st=X,lt=K*L+J*(1-L)):(Y=(P!=null?P*v:R.x)+R.dx,K=(V!=null?V*g:R.y)+q.sy,X=H!=null?H*v:k.x,J=(W!=null?W*g:k.y)+q.ty,it=Y*(1-L)+X*L,rt=K,st=Y*L+X*(1-L),lt=J),E.setShape({x1:Y,y1:K,x2:X,y2:J,cpx1:it,cpy1:rt,cpx2:st,cpy2:lt}),E.useStyle(D.getItemStyle()),S5(E.style,b,S);var dt=""+A.get("value"),pt=on(A,"edgeLabel");dn(E,pt,{labelFetcher:{getFormattedLabel:function(zt,Vt,Kt,Bt,gt,Ct){return e.getFormattedLabel(zt,Vt,"edge",Bt,Hi(gt,pt.normal&&pt.normal.get("formatter"),dt),Ct)}},labelDataIndex:S.dataIndex,defaultText:dt}),E.setTextConfig({position:"inside"});var Tt=A.getModel("emphasis");an(E,A,"lineStyle",function(zt){var Vt=zt.getItemStyle();return S5(Vt,b,S),Vt}),c.add(E),m.setItemGraphicEl(S.dataIndex,E);var Ft=Tt.get("focus");yr(E,Ft==="adjacency"?S.getAdjacentDataIndices():Ft==="trajectory"?S.getTrajectoryDataIndices():Ft,Tt.get("blurScope"),Tt.get("disabled"))}),o.eachNode(function(S){var E=S.getLayout(),C=S.getModel(),A=C.get("localX"),D=C.get("localY"),L=C.getModel("emphasis"),R=C.get(["itemStyle","borderRadius"])||0,O=new xe({shape:{x:A!=null?A*v:E.x,y:D!=null?D*g:E.y,width:E.dx,height:E.dy,r:R},style:C.getModel("itemStyle").getItemStyle(),z2:10});dn(O,on(C),{labelFetcher:{getFormattedLabel:function(V,k){return e.getFormattedLabel(V,k,"node")}},labelDataIndex:S.dataIndex,defaultText:S.id}),O.disableLabelAnimation=!0,O.setStyle("fill",S.getVisual("color")),O.setStyle("decal",S.getVisual("style").decal),an(O,C),c.add(O),y.setItemGraphicEl(S.dataIndex,O),fe(O).dataType="node";var P=L.get("focus");yr(O,P==="adjacency"?S.getAdjacentDataIndices():P==="trajectory"?S.getTrajectoryDataIndices():P,L.get("blurScope"),L.get("disabled"))}),y.eachItemGraphicEl(function(S,E){var C=y.getItemModel(E);C.get("draggable")&&(S.drift=function(A,D){a._focusAdjacencyDisabled=!0,this.shape.x+=A,this.shape.y+=D,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:y.getRawIndex(E),localX:this.shape.x/v,localY:this.shape.y/g})},S.ondragend=function(){a._focusAdjacencyDisabled=!1},S.draggable=!0,S.cursor="move")}),!this._data&&e.isAnimationEnabled()&&c.setClipPath(Vvt(c.getBoundingRect(),e,function(){c.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._updateViewCoordSys=function(e,n){var i=e.layoutInfo,a=i.width,o=i.height,c=e.coordinateSystem=new Bc(null,{api:n,ecModel:e.ecModel});c.zoomLimit=e.get("scaleLimit"),c.setBoundingRect(0,0,a,o),c.setCenter(e.get("center")),c.setZoom(e.get("zoom")),this._controllerHost.target.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY})},t.type="sankey",t})(Je);function S5(r,t,e){switch(r.fill){case"source":r.fill=e.node1.getVisual("color"),r.decal=e.node1.getVisual("style").decal;break;case"target":r.fill=e.node2.getVisual("color"),r.decal=e.node2.getVisual("style").decal;break;case"gradient":var n=e.node1.getVisual("color"),i=e.node2.getVisual("color");$t(n)&&$t(i)&&(r.fill=new Gh(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function Vvt(r,t,e){var n=new xe({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return pr(n,{shape:{width:r.width+20}},t,e),n}var Gvt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[],o=e.levels||[];this.levelModels=[];for(var c=this.levelModels,h=0;h<o.length;h++)o[h].depth!=null&&o[h].depth>=0&&(c[o[h].depth]=new Me(o[h],this,n));var v=RD(a,i,this,!0,g);return v.data;function g(y,m){y.wrapMethod("getItemModel",function(b,S){var E=b.parentModel,C=E.getData().getItemLayout(S);if(C){var A=C.depth,D=E.levelModels[A];D&&(b.parentModel=D)}return b}),m.wrapMethod("getItemModel",function(b,S){var E=b.parentModel,C=E.getGraph().getEdgeByIndex(S),A=C.node1.getLayout();if(A){var D=A.depth,L=E.levelModels[D];L&&(b.parentModel=L)}return b})}},t.prototype.setNodePosition=function(e,n){var i=this.option.data||this.option.nodes,a=i[e];a.localX=n[0],a.localY=n[1]},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,i){function a(b){return isNaN(b)||b==null}if(i==="edge"){var o=this.getDataParams(e,i),c=o.data,h=o.value,v=c.source+" -- "+c.target;return Zr("nameValue",{name:v,value:h,noValue:a(h)})}else{var g=this.getGraph().getNodeByIndex(e),y=g.getLayout().value,m=this.getDataParams(e,i).data.name;return Zr("nameValue",{name:m!=null?m+"":null,value:y,noValue:a(y)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,n){var i=r.prototype.getDataParams.call(this,e,n);if(i.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(e),o=a.getLayout().value;i.value=o}return i},t.type="series.sankey",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:yt.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:yt.color.primary}},animationEasing:"linear",animationDuration:1e3},t})(sr);function Fvt(r,t){r.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth"),i=e.get("nodeGap"),a=sn(e,t).refContainer,o=mr(e.getBoxLayoutParams(),a);e.layoutInfo=o;var c=o.width,h=o.height,v=e.getGraph(),g=v.nodes,y=v.edges;Hvt(g);var m=Ye(g,function(C){return C.getLayout().value===0}),b=m.length!==0?0:e.get("layoutIterations"),S=e.get("orient"),E=e.get("nodeAlign");Bvt(g,y,n,i,c,h,b,S,E)})}function Bvt(r,t,e,n,i,a,o,c,h){zvt(r,t,e,i,a,c,h),Yvt(r,t,a,i,n,o,c),egt(r,c)}function Hvt(r){j(r,function(t){var e=Cl(t.outEdges,n_),n=Cl(t.inEdges,n_),i=t.getValue()||0,a=Math.max(e,n,i);t.setLayout({value:a},!0)})}function zvt(r,t,e,n,i,a,o){for(var c=[],h=[],v=[],g=[],y=0,m=0;m<t.length;m++)c[m]=1;for(var m=0;m<r.length;m++)h[m]=r[m].inEdges.length,h[m]===0&&v.push(r[m]);for(var b=-1;v.length;){for(var S=0;S<v.length;S++){var E=v[S],C=E.hostGraph.data.getRawDataItem(E.dataIndex),A=C.depth!=null&&C.depth>=0;A&&C.depth>b&&(b=C.depth),E.setLayout({depth:A?C.depth:y},!0),a==="vertical"?E.setLayout({dy:e},!0):E.setLayout({dx:e},!0);for(var D=0;D<E.outEdges.length;D++){var L=E.outEdges[D],R=t.indexOf(L);c[R]=0;var O=L.node2,P=r.indexOf(O);--h[P]===0&&g.indexOf(O)<0&&g.push(O)}}++y,v=g,g=[]}for(var m=0;m<c.length;m++)if(c[m]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var V=b>y-1?b:y-1;o&&o!=="left"&&Uvt(r,o,a,V);var k=a==="vertical"?(i-e)/V:(n-e)/V;jvt(r,k,a)}function a7(r){var t=r.hostGraph.data.getRawDataItem(r.dataIndex);return t.depth!=null&&t.depth>=0}function Uvt(r,t,e,n){if(t==="right"){for(var i=[],a=r,o=0;a.length;){for(var c=0;c<a.length;c++){var h=a[c];h.setLayout({skNodeHeight:o},!0);for(var v=0;v<h.inEdges.length;v++){var g=h.inEdges[v];i.indexOf(g.node1)<0&&i.push(g.node1)}}a=i,i=[],++o}j(r,function(y){a7(y)||y.setLayout({depth:Math.max(0,n-y.getLayout().skNodeHeight)},!0)})}else t==="justify"&&Wvt(r,n)}function Wvt(r,t){j(r,function(e){!a7(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}function jvt(r,t,e){j(r,function(n){var i=n.getLayout().depth*t;e==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function Yvt(r,t,e,n,i,a,o){var c=$vt(r,o);qvt(c,t,e,n,i,o),Ex(c,i,e,n,o);for(var h=1;a>0;a--)h*=.99,Xvt(c,h,o),Ex(c,i,e,n,o),tgt(c,h,o),Ex(c,i,e,n,o)}function $vt(r,t){var e=[],n=t==="vertical"?"y":"x",i=jE(r,function(a){return a.getLayout()[n]});return i.keys.sort(function(a,o){return a-o}),j(i.keys,function(a){e.push(i.buckets.get(a))}),e}function qvt(r,t,e,n,i,a){var o=1/0;j(r,function(c){var h=c.length,v=0;j(c,function(y){v+=y.getLayout().value});var g=a==="vertical"?(n-(h-1)*i)/v:(e-(h-1)*i)/v;g<o&&(o=g)}),j(r,function(c){j(c,function(h,v){var g=h.getLayout().value*o;a==="vertical"?(h.setLayout({x:v},!0),h.setLayout({dx:g},!0)):(h.setLayout({y:v},!0),h.setLayout({dy:g},!0))})}),j(t,function(c){var h=+c.getValue()*o;c.setLayout({dy:h},!0)})}function Ex(r,t,e,n,i){var a=i==="vertical"?"x":"y";j(r,function(o){o.sort(function(E,C){return E.getLayout()[a]-C.getLayout()[a]});for(var c,h,v,g=0,y=o.length,m=i==="vertical"?"dx":"dy",b=0;b<y;b++)h=o[b],v=g-h.getLayout()[a],v>0&&(c=h.getLayout()[a]+v,i==="vertical"?h.setLayout({x:c},!0):h.setLayout({y:c},!0)),g=h.getLayout()[a]+h.getLayout()[m]+t;var S=i==="vertical"?n:e;if(v=g-t-S,v>0){c=h.getLayout()[a]-v,i==="vertical"?h.setLayout({x:c},!0):h.setLayout({y:c},!0),g=c;for(var b=y-2;b>=0;--b)h=o[b],v=h.getLayout()[a]+h.getLayout()[m]+t-g,v>0&&(c=h.getLayout()[a]-v,i==="vertical"?h.setLayout({x:c},!0):h.setLayout({y:c},!0)),g=h.getLayout()[a]}})}function Xvt(r,t,e){j(r.slice().reverse(),function(n){j(n,function(i){if(i.outEdges.length){var a=Cl(i.outEdges,Zvt,e)/Cl(i.outEdges,n_);if(isNaN(a)){var o=i.outEdges.length;a=o?Cl(i.outEdges,Kvt,e)/o:0}if(e==="vertical"){var c=i.getLayout().x+(a-Il(i,e))*t;i.setLayout({x:c},!0)}else{var h=i.getLayout().y+(a-Il(i,e))*t;i.setLayout({y:h},!0)}}})})}function Zvt(r,t){return Il(r.node2,t)*r.getValue()}function Kvt(r,t){return Il(r.node2,t)}function Jvt(r,t){return Il(r.node1,t)*r.getValue()}function Qvt(r,t){return Il(r.node1,t)}function Il(r,t){return t==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function n_(r){return r.getValue()}function Cl(r,t,e){for(var n=0,i=r.length,a=-1;++a<i;){var o=+t(r[a],e);isNaN(o)||(n+=o)}return n}function tgt(r,t,e){j(r,function(n){j(n,function(i){if(i.inEdges.length){var a=Cl(i.inEdges,Jvt,e)/Cl(i.inEdges,n_);if(isNaN(a)){var o=i.inEdges.length;a=o?Cl(i.inEdges,Qvt,e)/o:0}if(e==="vertical"){var c=i.getLayout().x+(a-Il(i,e))*t;i.setLayout({x:c},!0)}else{var h=i.getLayout().y+(a-Il(i,e))*t;i.setLayout({y:h},!0)}}})})}function egt(r,t){var e=t==="vertical"?"x":"y";j(r,function(n){n.outEdges.sort(function(i,a){return i.node2.getLayout()[e]-a.node2.getLayout()[e]}),n.inEdges.sort(function(i,a){return i.node1.getLayout()[e]-a.node1.getLayout()[e]})}),j(r,function(n){var i=0,a=0;j(n.outEdges,function(o){o.setLayout({sy:i},!0),i+=o.getLayout().dy}),j(n.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}function rgt(r){r.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes,i=e.edges;if(n.length){var a=1/0,o=-1/0;j(n,function(c){var h=c.getLayout().value;h<a&&(a=h),h>o&&(o=h)}),j(n,function(c){var h=new hn({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:t.get("color")}),v=h.mapValueToVisual(c.getLayout().value),g=c.getModel().get(["itemStyle","color"]);g!=null?(c.setVisual("color",g),c.setVisual("style",{fill:g})):(c.setVisual("color",v),c.setVisual("style",{fill:v}))})}i.length&&j(i,function(c){var h=c.getModel().get("lineStyle");c.setVisual("style",h)})})}function ngt(r){r.registerChartView(kvt),r.registerSeriesModel(Gvt),r.registerLayout(Fvt),r.registerVisual(rgt),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),r.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(i){var a=i.coordinateSystem,o=sb(a,t,i.get("scaleLimit"));i.setCenter(o.center),i.setZoom(o.zoom)})})}var o7=(function(){function r(){}return r.prototype._hasEncodeRule=function(t){var e=this.getEncode();return e&&e.get(t)!=null},r.prototype.getInitialData=function(t,e){var n,i=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),o=i.get("type"),c=a.get("type"),h;o==="category"?(t.layout="horizontal",n=i.getOrdinalMeta(),h=!this._hasEncodeRule("x")):c==="category"?(t.layout="vertical",n=a.getOrdinalMeta(),h=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var v=["x","y"],g=t.layout==="horizontal"?0:1,y=this._baseAxisDim=v[g],m=v[1-g],b=[i,a],S=b[g].get("type"),E=b[1-g].get("type"),C=t.data;if(C&&h){var A=[];j(C,function(R,O){var P;Rt(R)?(P=R.slice(),R.unshift(O)):Rt(R.value)?(P=Mt({},R),P.value=P.value.slice(),R.value.unshift(O)):P=R,A.push(P)}),t.data=A}var D=this.defaultValueDimensions,L=[{name:y,type:B0(S),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:m,type:B0(E),dimsDef:D.slice()}];return $h(this,{coordDimensions:L,dimensionsCount:D.length+1,encodeDefaulter:ve(b4,L,this)})},r.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},r})(),s7=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:yt.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:yt.color.shadow}},animationDuration:800},t})(sr);Jr(s7,o7,!0);var igt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this.group,c=this._data;this._data||o.removeAll();var h=e.get("layout")==="horizontal"?1:0;a.diff(c).add(function(v){if(a.hasValue(v)){var g=a.getItemLayout(v),y=w5(g,a,v,h,!0);a.setItemGraphicEl(v,y),o.add(y)}}).update(function(v,g){var y=c.getItemGraphicEl(g);if(!a.hasValue(v)){o.remove(y);return}var m=a.getItemLayout(v);y?(pa(y),l7(m,y,a,v)):y=w5(m,a,v,h),o.add(y),a.setItemGraphicEl(v,y)}).remove(function(v){var g=c.getItemGraphicEl(v);g&&o.remove(g)}).execute(),this._data=a},t.prototype.remove=function(e){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&n.remove(a)})},t.type="boxplot",t})(Je),agt=(function(){function r(){}return r})(),ogt=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="boxplotBoxPath",n}return t.prototype.getDefaultShape=function(){return new agt},t.prototype.buildPath=function(e,n){var i=n.points,a=0;for(e.moveTo(i[a][0],i[a][1]),a++;a<4;a++)e.lineTo(i[a][0],i[a][1]);for(e.closePath();a<i.length;a++)e.moveTo(i[a][0],i[a][1]),a++,e.lineTo(i[a][0],i[a][1])},t})(Te);function w5(r,t,e,n,i){var a=r.ends,o=new ogt({shape:{points:i?sgt(a,n,r):a}});return l7(r,o,t,e,i),o}function l7(r,t,e,n,i){var a=e.hostModel,o=Ic[i?"initProps":"updateProps"];o(t,{shape:{points:r.ends}},a,n),t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var c=e.getItemModel(n),h=c.getModel("emphasis");an(t,c),yr(t,h.get("focus"),h.get("blurScope"),h.get("disabled"))}function sgt(r,t,e){return Pt(r,function(n){return n=n.slice(),n[t]=e.initBaseline,n})}var Xd=j;function lgt(r){var t=ugt(r);Xd(t,function(e){var n=e.seriesModels;n.length&&(cgt(e),Xd(n,function(i,a){fgt(i,e.boxOffsetList[a],e.boxWidthList[a])}))})}function ugt(r){var t=[],e=[];return r.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),a=ge(e,i);a<0&&(a=e.length,e[a]=i,t[a]={axis:i,seriesModels:[]}),t[a].seriesModels.push(n)}),t}function cgt(r){var t=r.axis,e=r.seriesModels,n=e.length,i=r.boxWidthList=[],a=r.boxOffsetList=[],o=[],c;if(t.type==="category")c=t.getBandWidth();else{var h=0;Xd(e,function(S){h=Math.max(h,S.getData().count())});var v=t.getExtent();c=Math.abs(v[1]-v[0])/h}Xd(e,function(S){var E=S.get("boxWidth");Rt(E)||(E=[E,E]),o.push([Yt(E[0],c)||0,Yt(E[1],c)||0])});var g=c*.8-2,y=g/n*.3,m=(g-y*(n-1))/n,b=m/2-g/2;Xd(e,function(S,E){a.push(b),b+=y+m,i.push(Math.min(Math.max(m,o[E][0]),o[E][1]))})}function fgt(r,t,e){var n=r.coordinateSystem,i=r.getData(),a=e/2,o=r.get("layout")==="horizontal"?0:1,c=1-o,h=["x","y"],v=i.mapDimension(h[o]),g=i.mapDimensionsAll(h[c]);if(v==null||g.length<5)return;for(var y=0;y<i.count();y++){var m=i.get(v,y),b=L(m,g[2],y),S=L(m,g[0],y),E=L(m,g[1],y),C=L(m,g[3],y),A=L(m,g[4],y),D=[];R(D,E,!1),R(D,C,!0),D.push(S,E,A,C),O(D,S),O(D,A),O(D,b),i.setItemLayout(y,{initBaseline:b[c],ends:D})}function L(P,V,k){var F=i.get(V,k),H=[];H[o]=P,H[c]=F;var W;return isNaN(P)||isNaN(F)?W=[NaN,NaN]:(W=n.dataToPoint(H),W[o]+=t),W}function R(P,V,k){var F=V.slice(),H=V.slice();F[o]+=a,H[o]-=a,k?P.push(F,H):P.push(H,F)}function O(P,V){var k=V.slice(),F=V.slice();k[o]-=a,F[o]+=a,P.push(k,F)}}function hgt(r,t){t=t||{};for(var e=[],n=[],i=t.boundIQR,a=i==="none"||i===0,o=0;o<r.length;o++){var c=ca(r[o].slice()),h=KS(c,.25),v=KS(c,.5),g=KS(c,.75),y=c[0],m=c[c.length-1],b=(i??1.5)*(g-h),S=a?y:Math.max(y,h-b),E=a?m:Math.min(m,g+b),C=t.itemNameFormatter,A=re(C)?C({value:o}):$t(C)?C.replace("{value}",o+""):o+"";e.push([A,S,h,v,g,E]);for(var D=0;D<c.length;D++){var L=c[D];if(L<S||L>E){var R=[A,L];n.push(R)}}}return{boxData:e,outliers:n}}var pgt={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==xn){var n="";Ue(n)}var i=hgt(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function dgt(r){r.registerSeriesModel(s7),r.registerChartView(igt),r.registerLayout(lgt),r.registerTransform(pgt)}var vgt=["itemStyle","borderColor"],ggt=["itemStyle","borderColor0"],ygt=["itemStyle","borderColorDoji"],mgt=["itemStyle","color"],_gt=["itemStyle","color0"];function BD(r,t){return t.get(r>0?mgt:_gt)}function HD(r,t){return t.get(r===0?ygt:r>0?vgt:ggt)}var bgt={seriesType:"candlestick",plan:zh(),performRawSeries:!0,reset:function(r,t){if(!t.isSeriesFiltered(r)){var e=r.pipelineContext.large;return!e&&{progress:function(n,i){for(var a;(a=n.next())!=null;){var o=i.getItemModel(a),c=i.getItemLayout(a).sign,h=o.getItemStyle();h.fill=BD(c,o),h.stroke=HD(c,o)||h.fill;var v=i.ensureUniqueItemVisual(a,"style");Mt(v,h)}}}}}},Sgt=["color","borderColor"],wgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,n,i){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,n,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,n):this._incrementalRenderNormal(e,n)},t.prototype.eachRendered=function(e){Vl(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e){var n=e.getData(),i=this._data,a=this.group,o=n.getLayout("isSimpleBox"),c=e.get("clip",!0),h=e.coordinateSystem,v=h.getArea&&h.getArea();this._data||a.removeAll(),n.diff(i).add(function(g){if(n.hasValue(g)){var y=n.getItemLayout(g);if(c&&x5(v,y))return;var m=Tx(y,g,!0);pr(m,{shape:{points:y.ends}},e,g),Cx(m,n,g,o),a.add(m),n.setItemGraphicEl(g,m)}}).update(function(g,y){var m=i.getItemGraphicEl(y);if(!n.hasValue(g)){a.remove(m);return}var b=n.getItemLayout(g);if(c&&x5(v,b)){a.remove(m);return}m?(Ve(m,{shape:{points:b.ends}},e,g),pa(m)):m=Tx(b),Cx(m,n,g,o),a.add(m),n.setItemGraphicEl(g,m)}).remove(function(g){var y=i.getItemGraphicEl(g);y&&a.remove(y)}).execute(),this._data=n},t.prototype._renderLarge=function(e){this._clear(),E5(e,this.group);var n=e.get("clip",!0)?qv(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,n){for(var i=n.getData(),a=i.getLayout("isSimpleBox"),o;(o=e.next())!=null;){var c=i.getItemLayout(o),h=Tx(c);Cx(h,i,o,a),h.incremental=!0,this.group.add(h),this._progressiveEls.push(h)}},t.prototype._incrementalRenderLarge=function(e,n){E5(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t})(Je),xgt=(function(){function r(){}return r})(),Egt=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="normalCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new xgt},t.prototype.buildPath=function(e,n){var i=n.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))},t})(Te);function Tx(r,t,e){var n=r.ends;return new Egt({shape:{points:e?Tgt(n,r):n},z2:100})}function x5(r,t){for(var e=!0,n=0;n<t.ends.length;n++)if(r.contain(t.ends[n][0],t.ends[n][1])){e=!1;break}return e}function Cx(r,t,e,n){var i=t.getItemModel(e);r.useStyle(t.getItemVisual(e,"style")),r.style.strokeNoScale=!0,r.__simpleBox=n,an(r,i);var a=t.getItemLayout(e).sign;j(r.states,function(c,h){var v=i.getModel(h),g=BD(a,v),y=HD(a,v)||g,m=c.style||(c.style={});g&&(m.fill=g),y&&(m.stroke=y)});var o=i.getModel("emphasis");yr(r,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function Tgt(r,t){return Pt(r,function(e){return e=e.slice(),e[1]=t.initBaseline,e})}var Cgt=(function(){function r(){}return r})(),Ax=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="largeCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new Cgt},t.prototype.buildPath=function(e,n){for(var i=n.points,a=0;a<i.length;)if(this.__sign===i[a++]){var o=i[a++];e.moveTo(o,i[a++]),e.lineTo(o,i[a++])}else a+=3},t})(Te);function E5(r,t,e,n){var i=r.getData(),a=i.getLayout("largePoints"),o=new Ax({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(o);var c=new Ax({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(c);var h=new Ax({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(h),Dx(1,o,r),Dx(-1,c,r),Dx(0,h,r),n&&(o.incremental=!0,c.incremental=!0),e&&e.push(o,c)}function Dx(r,t,e,n){var i=HD(r,e)||BD(r,e),a=e.getModel("itemStyle").getItemStyle(Sgt);t.useStyle(a),t.style.fill=null,t.style.stroke=i}var u7=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,n,i){var a=n.getItemLayout(e);return a&&i.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t})(sr);Jr(u7,o7,!0);function Agt(r){!r||!Rt(r.series)||j(r.series,function(t){le(t)&&t.type==="k"&&(t.type="candlestick")})}var Dgt={seriesType:"candlestick",plan:zh(),reset:function(r){var t=r.coordinateSystem,e=r.getData(),n=Mgt(r,e),i=0,a=1,o=["x","y"],c=e.getDimensionIndex(e.mapDimension(o[i])),h=Pt(e.mapDimensionsAll(o[a]),e.getDimensionIndex,e),v=h[0],g=h[1],y=h[2],m=h[3];if(e.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),c<0||h.length<4)return;return{progress:r.pipelineContext.large?S:b};function b(E,C){for(var A,D=C.getStore();(A=E.next())!=null;){var L=D.get(c,A),R=D.get(v,A),O=D.get(g,A),P=D.get(y,A),V=D.get(m,A),k=Math.min(R,O),F=Math.max(R,O),H=it(k,L),W=it(F,L),q=it(P,L),Y=it(V,L),K=[];rt(K,W,0),rt(K,H,1),K.push(lt(Y),lt(W),lt(q),lt(H));var X=C.getItemModel(A),J=!!X.get(["itemStyle","borderColorDoji"]);C.setItemLayout(A,{sign:T5(D,A,R,O,g,J),initBaseline:R>O?W[a]:H[a],ends:K,brushRect:st(P,V,L)})}function it(dt,pt){var Tt=[];return Tt[i]=pt,Tt[a]=dt,isNaN(pt)||isNaN(dt)?[NaN,NaN]:t.dataToPoint(Tt)}function rt(dt,pt,Tt){var Ft=pt.slice(),zt=pt.slice();Ft[i]=$m(Ft[i]+n/2,1,!1),zt[i]=$m(zt[i]-n/2,1,!0),Tt?dt.push(Ft,zt):dt.push(zt,Ft)}function st(dt,pt,Tt){var Ft=it(dt,Tt),zt=it(pt,Tt);return Ft[i]-=n/2,zt[i]-=n/2,{x:Ft[0],y:Ft[1],width:n,height:zt[1]-Ft[1]}}function lt(dt){return dt[i]=$m(dt[i],1),dt}}function S(E,C){for(var A=Eo(E.count*4),D=0,L,R=[],O=[],P,V=C.getStore(),k=!!r.get(["itemStyle","borderColorDoji"]);(P=E.next())!=null;){var F=V.get(c,P),H=V.get(v,P),W=V.get(g,P),q=V.get(y,P),Y=V.get(m,P);if(isNaN(F)||isNaN(q)||isNaN(Y)){A[D++]=NaN,D+=3;continue}A[D++]=T5(V,P,H,W,g,k),R[i]=F,R[a]=q,L=t.dataToPoint(R,null,O),A[D++]=L?L[0]:NaN,A[D++]=L?L[1]:NaN,R[a]=Y,L=t.dataToPoint(R,null,O),A[D++]=L?L[1]:NaN}C.setLayout("largePoints",A)}}};function T5(r,t,e,n,i,a){var o;return e>n?o=-1:e<n?o=1:o=a?0:t>0?r.get(i,t-1)<=n?1:-1:1,o}function Mgt(r,t){var e=r.getBaseAxis(),n,i=e.type==="category"?e.getBandWidth():(n=e.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=Yt(te(r.get("barMaxWidth"),i),i),o=Yt(te(r.get("barMinWidth"),1),i),c=r.get("barWidth");return c!=null?Yt(c,i):Math.max(Math.min(i/2,a),o)}function Lgt(r){r.registerChartView(wgt),r.registerSeriesModel(u7),r.registerPreprocessor(Agt),r.registerVisual(bgt),r.registerLayout(Dgt)}function C5(r,t){var e=t.rippleEffectColor||t.color;r.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var Ngt=(function(r){bt(t,r);function t(e,n){var i=r.call(this)||this,a=new Yv(e,n),o=new ne;return i.add(a),i.add(o),i.updateData(e,n),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var n=e.symbolType,i=e.color,a=e.rippleNumber,o=this.childAt(1),c=0;c<a;c++){var h=Kr(n,-1,-1,2,2,i);h.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var v=-c/a*e.period+e.effectOffset;h.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(v).start(),h.animateStyle(!0).when(e.period,{opacity:0}).delay(v).start(),o.add(h)}C5(o,e)},t.prototype.updateEffectAnimation=function(e){for(var n=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var c=a[o];if(n[c]!==e[c]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}C5(i,e)},t.prototype.highlight=function(){Ss(this)},t.prototype.downplay=function(){ws(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,n){var i=this,a=e.hostModel;this.childAt(0).updateData(e,n);var o=this.childAt(1),c=e.getItemModel(n),h=e.getItemVisual(n,"symbol"),v=Wh(e.getItemVisual(n,"symbolSize")),g=e.getItemVisual(n,"style"),y=g&&g.fill,m=c.getModel("emphasis");o.setScale(v),o.traverse(function(C){C.setStyle("fill",y)});var b=kc(e.getItemVisual(n,"symbolOffset"),v);b&&(o.x=b[0],o.y=b[1]);var S=e.getItemVisual(n,"symbolRotate");o.rotation=(S||0)*Math.PI/180||0;var E={};E.showEffectOn=a.get("showEffectOn"),E.rippleScale=c.get(["rippleEffect","scale"]),E.brushType=c.get(["rippleEffect","brushType"]),E.period=c.get(["rippleEffect","period"])*1e3,E.effectOffset=n/e.count(),E.z=a.getShallow("z")||0,E.zlevel=a.getShallow("zlevel")||0,E.symbolType=h,E.color=y,E.rippleEffectColor=c.get(["rippleEffect","color"]),E.rippleNumber=c.get(["rippleEffect","number"]),E.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(E):this.startEffectAnimation(E),this._effectCfg=E):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(C){C==="emphasis"?E.showEffectOn!=="render"&&i.startEffectAnimation(E):C==="normal"&&E.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=E,yr(this,m.get("focus"),m.get("blurScope"),m.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t})(ne),Rgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._symbolDraw=new $v(Ngt)},t.prototype.render=function(e,n,i){var a=e.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(o.group)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,i=n&&n.getArea&&n.getArea();return e.get("clip",!0)?i:null},t.prototype.updateTransform=function(e,n,i){var a=e.getData();this.group.dirty();var o=Xv("").reset(e,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var n=e.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=Qtt(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t})(Je),Igt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return Ls(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,n,i){return i.point(n.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t})(sr);function Ogt(r){r.registerChartView(Rgt),r.registerSeriesModel(Igt),r.registerLayout(Xv("effectScatter"))}var c7=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this)||this;return a.add(a.createLine(e,n,i)),a._updateEffectSymbol(e,n),a}return t.prototype.createLine=function(e,n,i){return new LD(e,n,i)},t.prototype._updateEffectSymbol=function(e,n){var i=e.getItemModel(n),a=i.getModel("effect"),o=a.get("symbolSize"),c=a.get("symbol");Rt(o)||(o=[o,o]);var h=e.getItemVisual(n,"style"),v=a.get("color")||h&&h.stroke,g=this.childAt(1);this._symbolType!==c&&(this.remove(g),g=Kr(c,-.5,-.5,1,1,v),g.z2=100,g.culling=!0,this.add(g)),g&&(g.setStyle("shadowColor",v),g.setStyle(a.getItemStyle(["color"])),g.scaleX=o[0],g.scaleY=o[1],g.setColor(v),this._symbolType=c,this._symbolScale=o,this._updateEffectAnimation(e,a,n))},t.prototype._updateEffectAnimation=function(e,n,i){var a=this.childAt(1);if(a){var o=e.getItemLayout(i),c=n.get("period")*1e3,h=n.get("loop"),v=n.get("roundTrip"),g=n.get("constantSpeed"),y=On(n.get("delay"),function(b){return b/e.count()*c/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),g>0&&(c=this._getLineLength(a)/g*1e3),c!==this._period||h!==this._loop||v!==this._roundTrip){a.stopAnimation();var m=void 0;re(y)?m=y(i):m=y,a.__t>0&&(m=-c*a.__t),this._animateSymbol(a,c,m,h,v)}this._period=c,this._loop=h,this._roundTrip=v}},t.prototype._animateSymbol=function(e,n,i,a,o){if(n>0){e.__t=0;var c=this,h=e.animate("",a).when(o?n*2:n,{__t:o?2:1}).delay(i).during(function(){c._updateSymbolPosition(e)});a||h.done(function(){c.remove(e)}),h.start()}},t.prototype._getLineLength=function(e){return cl(e.__p1,e.__cp1)+cl(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,n){e.__p1=n[0],e.__p2=n[1],e.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(e,n,i){this.childAt(0).updateData(e,n,i),this._updateEffectSymbol(e,n)},t.prototype._updateSymbolPosition=function(e){var n=e.__p1,i=e.__p2,a=e.__cp1,o=e.__t<1?e.__t:2-e.__t,c=[e.x,e.y],h=c.slice(),v=Sn,g=LE;c[0]=v(n[0],a[0],i[0],o),c[1]=v(n[1],a[1],i[1],o);var y=e.__t<1?g(n[0],a[0],i[0],o):g(i[0],a[0],n[0],1-o),m=e.__t<1?g(n[1],a[1],i[1],o):g(i[1],a[1],n[1],1-o);e.rotation=-Math.atan2(m,y)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=cl(h,c)*1.05,o===1&&(c[0]=h[0]+(c[0]-h[0])/2,c[1]=h[1]+(c[1]-h[1])/2)):e.__lastT===1?e.scaleY=2*cl(n,c):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=c[0],e.y=c[1]},t.prototype.updateLayout=function(e,n){this.childAt(0).updateLayout(e,n);var i=e.getItemModel(n).getModel("effect");this._updateEffectAnimation(e,i,n)},t})(ne),f7=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this)||this;return a._createPolyline(e,n,i),a}return t.prototype._createPolyline=function(e,n,i){var a=e.getItemLayout(n),o=new Pn({shape:{points:a}});this.add(o),this._updateCommonStl(e,n,i)},t.prototype.updateData=function(e,n,i){var a=e.hostModel,o=this.childAt(0),c={shape:{points:e.getItemLayout(n)}};Ve(o,c,a,n),this._updateCommonStl(e,n,i)},t.prototype._updateCommonStl=function(e,n,i){var a=this.childAt(0),o=e.getItemModel(n),c=i&&i.emphasisLineStyle,h=i&&i.focus,v=i&&i.blurScope,g=i&&i.emphasisDisabled;if(!i||e.hasItemOption){var y=o.getModel("emphasis");c=y.getModel("lineStyle").getLineStyle(),g=y.get("disabled"),h=y.get("focus"),v=y.get("blurScope")}a.useStyle(e.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var m=a.ensureState("emphasis");m.style=c,yr(this,h,v,g)},t.prototype.updateLayout=function(e,n){var i=this.childAt(0);i.setShape("points",e.getItemLayout(n))},t})(ne),Pgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return t.prototype.createLine=function(e,n,i){return new f7(e,n,i)},t.prototype._updateAnimationPoints=function(e,n){this._points=n;for(var i=[0],a=0,o=1;o<n.length;o++){var c=n[o-1],h=n[o];a+=cl(c,h),i.push(a)}if(a===0){this._length=0;return}for(var o=0;o<i.length;o++)i[o]/=a;this._offsets=i,this._length=a},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var n=e.__t<1?e.__t:2-e.__t,i=this._points,a=this._offsets,o=i.length;if(a){var c=this._lastFrame,h;if(n<this._lastFramePercent){var v=Math.min(c+1,o-1);for(h=v;h>=0&&!(a[h]<=n);h--);h=Math.min(h,o-2)}else{for(h=c;h<o&&!(a[h]>n);h++);h=Math.min(h-1,o-2)}var g=(n-a[h])/(a[h+1]-a[h]),y=i[h],m=i[h+1];e.x=y[0]*(1-g)+g*m[0],e.y=y[1]*(1-g)+g*m[1];var b=e.__t<1?m[0]-y[0]:y[0]-m[0],S=e.__t<1?m[1]-y[1]:y[1]-m[1];e.rotation=-Math.atan2(S,b)-Math.PI/2,this._lastFrame=h,this._lastFramePercent=n,e.ignore=!1}},t})(c7),kgt=(function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r})(),Vgt=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:yt.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new kgt},t.prototype.buildPath=function(e,n){var i=n.segs,a=n.curveness,o;if(n.polyline)for(o=this._off;o<i.length;){var c=i[o++];if(c>0){e.moveTo(i[o++],i[o++]);for(var h=1;h<c;h++)e.lineTo(i[o++],i[o++])}}else for(o=this._off;o<i.length;){var v=i[o++],g=i[o++],y=i[o++],m=i[o++];if(e.moveTo(v,g),a>0){var b=(v+y)/2-(g-m)*a,S=(g+m)/2-(y-v)*a;e.quadraticCurveTo(b,S,y,m)}else e.lineTo(y,m)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(e,n){var i=this.shape,a=i.segs,o=i.curveness,c=this.style.lineWidth;if(i.polyline)for(var h=0,v=0;v<a.length;){var g=a[v++];if(g>0)for(var y=a[v++],m=a[v++],b=1;b<g;b++){var S=a[v++],E=a[v++];if(sl(y,m,S,E,c,e,n))return h}h++}else for(var h=0,v=0;v<a.length;){var y=a[v++],m=a[v++],S=a[v++],E=a[v++];if(o>0){var C=(y+S)/2-(m-E)*o,A=(m+E)/2-(S-y)*o;if(hH(y,m,C,A,S,E,c,e,n))return h}else if(sl(y,m,S,E,c,e,n))return h;h++}return-1},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=i[0],n=i[1],a.contain(e,n)){var o=this.hoverDataIdx=this.findDataIndex(e,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,i=n.segs,a=1/0,o=1/0,c=-1/0,h=-1/0,v=0;v<i.length;){var g=i[v++],y=i[v++];a=Math.min(g,a),c=Math.max(g,c),o=Math.min(y,o),h=Math.max(y,h)}e=this._rect=new ue(a,o,c,h)}return e},t})(Te),Ggt=(function(){function r(){this.group=new ne}return r.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},r.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],i=e.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var o=a.length,c=new Float32Array(o+i.length);c.set(a),c.set(i,o),n.setShape({segs:c})}else{this._newAdded=[];var h=this._create();h.incremental=!0,h.setShape({segs:i}),this._setCommon(h,e),h.__startIndex=t.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new Vgt({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},r.prototype._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var o=fe(t);o.seriesIndex=i.seriesIndex,t.on("mousemove",function(c){o.dataIndex=null;var h=t.hoverDataIdx;h>0&&(o.dataIndex=h+t.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r})(),h7={seriesType:"lines",plan:zh(),reset:function(r){var t=r.coordinateSystem;if(t){var e=r.get("polyline"),n=r.pipelineContext.large;return{progress:function(i,a){var o=[];if(n){var c=void 0,h=i.end-i.start;if(e){for(var v=0,g=i.start;g<i.end;g++)v+=r.getLineCoordsCount(g);c=new Float32Array(h+v*2)}else c=new Float32Array(h*4);for(var y=0,m=[],g=i.start;g<i.end;g++){var b=r.getLineCoords(g,o);e&&(c[y++]=b);for(var S=0;S<b;S++)m=t.dataToPoint(o[S],!1,m),c[y++]=m[0],c[y++]=m[1]}a.setLayout("linesPoints",c)}else for(var g=i.start;g<i.end;g++){var E=a.getItemModel(g),b=r.getLineCoords(g,o),C=[];if(e)for(var A=0;A<b;A++)C.push(t.dataToPoint(o[A]));else{C[0]=t.dataToPoint(o[0]),C[1]=t.dataToPoint(o[1]);var D=E.get(["lineStyle","curveness"]);+D&&(C[2]=[(C[0][0]+C[1][0])/2-(C[0][1]-C[1][1])*D,(C[0][1]+C[1][1])/2-(C[1][0]-C[0][0])*D])}a.setItemLayout(g,C)}}}}}},Fgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._updateLineDraw(a,e),c=e.get("zlevel"),h=e.get(["effect","trailLength"]),v=i.getZr(),g=v.painter.getType()==="svg";g||v.painter.getLayer(c).clear(!0),this._lastZlevel!=null&&!g&&v.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&h>0&&(g||v.configLayer(c,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(h/10+.9,1),0)})),o.updateData(a);var y=e.get("clip",!0)&&qv(e.coordinateSystem,!1,e);y?this.group.setClipPath(y):this.group.removeClipPath(),this._lastZlevel=c,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,i){var a=e.getData(),o=this._updateLineDraw(a,e);o.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(e,n,i){this._lineDraw.incrementalUpdate(e,n.getData()),this._finished=e.end===n.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,n,i){var a=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var c=h7.reset(e,n,i);c.progress&&c.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(e,n){var i=this._lineDraw,a=this._showEffect(n),o=!!n.get("polyline"),c=n.pipelineContext,h=c.large;return(!i||a!==this._hasEffet||o!==this._isPolyline||h!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=h?new Ggt:new ND(o?a?Pgt:f7:a?c7:LD),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=h),this.group.add(i.group),i},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var n=e.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.type="lines",t})(Je),Bgt=typeof Uint32Array>"u"?Array:Uint32Array,Hgt=typeof Float64Array>"u"?Array:Float64Array;function A5(r){var t=r.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(r.data=Pt(t,function(e){var n=[e[0].coord,e[1].coord],i={coords:n};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),rA([i,e[0],e[1]])}))}var zgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.init=function(e){e.data=e.data||[],A5(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),r.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(A5(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}r.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=rv(this._flatCoords,n.flatCoords),this._flatCoordsOffset=rv(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var n=this.getData().getItemModel(e),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[e*2],a=this._flatCoordsOffset[e*2+1],o=0;o<a;o++)n[o]=n[o]||[],n[o][0]=this._flatCoords[i+o*2],n[o][1]=this._flatCoords[i+o*2+1];return a}else{for(var c=this._getCoordsFromItemModel(e),o=0;o<c.length;o++)n[o]=n[o]||[],n[o][0]=c[o][0],n[o][1]=c[o][1];return c.length}},t.prototype._processFlatCoordsArray=function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),Ie(e[0])){for(var i=e.length,a=new Bgt(i),o=new Hgt(i),c=0,h=0,v=0,g=0;g<i;){v++;var y=e[g++];a[h++]=c+n,a[h++]=y;for(var m=0;m<y;m++){var b=e[g++],S=e[g++];o[c++]=b,o[c++]=S}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,h),flatCoords:o,count:v}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,n){var i=new fi(["value"],this);return i.hasItemOption=!1,i.initData(e.data,[],function(a,o,c,h){if(a instanceof Array)return NaN;i.hasItemOption=!0;var v=a.value;if(v!=null)return v instanceof Array?v[h]:v}),i},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=a.getItemModel(e),c=o.get("name");if(c)return c;var h=o.get("fromName"),v=o.get("toName"),g=[];return h!=null&&g.push(h),v!=null&&g.push(v),Zr("nameValue",{name:g.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),n=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t})(sr);function _m(r){return r instanceof Array||(r=[r,r]),r}var Ugt={seriesType:"lines",reset:function(r){var t=_m(r.get("symbol")),e=_m(r.get("symbolSize")),n=r.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",e&&e[0]),n.setVisual("toSymbolSize",e&&e[1]);function i(a,o){var c=a.getItemModel(o),h=_m(c.getShallow("symbol",!0)),v=_m(c.getShallow("symbolSize",!0));h[0]&&a.setItemVisual(o,"fromSymbol",h[0]),h[1]&&a.setItemVisual(o,"toSymbol",h[1]),v[0]&&a.setItemVisual(o,"fromSymbolSize",v[0]),v[1]&&a.setItemVisual(o,"toSymbolSize",v[1])}return{dataEach:n.hasItemOption?i:null}}};function Wgt(r){r.registerChartView(Fgt),r.registerSeriesModel(zgt),r.registerLayout(h7),r.registerVisual(Ugt)}var jgt=256,Ygt=(function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=ka.createCanvas();this.canvas=t}return r.prototype.update=function(t,e,n,i,a,o){var c=this._getBrush(),h=this._getGradient(a,"inRange"),v=this._getGradient(a,"outOfRange"),g=this.pointSize+this.blurSize,y=this.canvas,m=y.getContext("2d"),b=t.length;y.width=e,y.height=n;for(var S=0;S<b;++S){var E=t[S],C=E[0],A=E[1],D=E[2],L=i(D);m.globalAlpha=L,m.drawImage(c,C-g,A-g)}if(!y.width||!y.height)return y;for(var R=m.getImageData(0,0,y.width,y.height),O=R.data,P=0,V=O.length,k=this.minOpacity,F=this.maxOpacity,H=F-k;P<V;){var L=O[P+3]/256,W=Math.floor(L*(jgt-1))*4;if(L>0){var q=o(L)?h:v;L>0&&(L=L*H+k),O[P++]=q[W],O[P++]=q[W+1],O[P++]=q[W+2],O[P++]=q[W+3]*L*256}else P+=4}return m.putImageData(R,0,0),y},r.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=ka.createCanvas()),e=this.pointSize+this.blurSize,n=e*2;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor=yt.color.neutral99,i.beginPath(),i.arc(-e,e,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},r.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],o=0,c=0;c<256;c++)t[e](c/255,!0,a),i[o++]=a[0],i[o++]=a[1],i[o++]=a[2],i[o++]=a[3];return i},r})();function $gt(r,t,e){var n=r[1]-r[0];t=Pt(t,function(o){return{interval:[(o.interval[0]-r[0])/n,(o.interval[1]-r[0])/n]}});var i=t.length,a=0;return function(o){var c;for(c=a;c<i;c++){var h=t[c].interval;if(h[0]<=o&&o<=h[1]){a=c;break}}if(c===i)for(c=a-1;c>=0;c--){var h=t[c].interval;if(h[0]<=o&&o<=h[1]){a=c;break}}return c>=0&&c<i&&e[c]}}function qgt(r,t){var e=r[1]-r[0];return t=[(t[0]-r[0])/e,(t[1]-r[0])/e],function(n){return n>=t[0]&&n<=t[1]}}function D5(r){var t=r.dimensions;return t[0]==="lng"&&t[1]==="lat"}var Xgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a;n.eachComponent("visualMap",function(c){c.eachTargetSeries(function(h){h===e&&(a=c)})}),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"||o.type==="matrix"?this._renderOnGridLike(e,i,0,e.getData().count()):D5(o)&&this._renderOnGeo(o,e,a,i)},t.prototype.incrementalPrepareRender=function(e,n,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,n,i,a){var o=n.coordinateSystem;o&&(D5(o)?this.render(n,i,a):(this._progressiveEls=[],this._renderOnGridLike(n,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Vl(this._progressiveEls||this.group,e)},t.prototype._renderOnGridLike=function(e,n,i,a,o){var c=e.coordinateSystem,h=Nl(c,"cartesian2d"),v=Nl(c,"matrix"),g,y,m,b;if(h){var S=c.getAxis("x"),E=c.getAxis("y");g=S.getBandWidth()+.5,y=E.getBandWidth()+.5,m=S.scale.getExtent(),b=E.scale.getExtent()}for(var C=this.group,A=e.getData(),D=e.getModel(["emphasis","itemStyle"]).getItemStyle(),L=e.getModel(["blur","itemStyle"]).getItemStyle(),R=e.getModel(["select","itemStyle"]).getItemStyle(),O=e.get(["itemStyle","borderRadius"]),P=on(e),V=e.getModel("emphasis"),k=V.get("focus"),F=V.get("blurScope"),H=V.get("disabled"),W=h||v?[A.mapDimension("x"),A.mapDimension("y"),A.mapDimension("value")]:[A.mapDimension("time"),A.mapDimension("value")],q=i;q<a;q++){var Y=void 0,K=A.getItemVisual(q,"style");if(h){var X=A.get(W[0],q),J=A.get(W[1],q);if(isNaN(A.get(W[2],q))||isNaN(X)||isNaN(J)||X<m[0]||X>m[1]||J<b[0]||J>b[1])continue;var it=c.dataToPoint([X,J]);Y=new xe({shape:{x:it[0]-g/2,y:it[1]-y/2,width:g,height:y},style:K})}else if(v){var rt=c.dataToLayout([A.get(W[0],q),A.get(W[1],q)]).rect;if(Yn(rt.x))continue;Y=new xe({z2:1,shape:rt,style:K})}else{if(isNaN(A.get(W[1],q)))continue;var st=c.dataToLayout([A.get(W[0],q)]),rt=st.contentRect||st.rect;if(Yn(rt.x)||Yn(rt.y))continue;Y=new xe({z2:1,shape:rt,style:K})}if(A.hasItemOption){var lt=A.getItemModel(q),dt=lt.getModel("emphasis");D=dt.getModel("itemStyle").getItemStyle(),L=lt.getModel(["blur","itemStyle"]).getItemStyle(),R=lt.getModel(["select","itemStyle"]).getItemStyle(),O=lt.get(["itemStyle","borderRadius"]),k=dt.get("focus"),F=dt.get("blurScope"),H=dt.get("disabled"),P=on(lt)}Y.shape.r=O;var pt=e.getRawValue(q),Tt="-";pt&&pt[2]!=null&&(Tt=pt[2]+""),dn(Y,P,{labelFetcher:e,labelDataIndex:q,defaultOpacity:K.opacity,defaultText:Tt}),Y.ensureState("emphasis").style=D,Y.ensureState("blur").style=L,Y.ensureState("select").style=R,yr(Y,k,F,H),Y.incremental=o,o&&(Y.states.emphasis.hoverLayer=!0),C.add(Y),A.setItemGraphicEl(q,Y),this._progressiveEls&&this._progressiveEls.push(Y)}},t.prototype._renderOnGeo=function(e,n,i,a){var o=i.targetVisuals.inRange,c=i.targetVisuals.outOfRange,h=n.getData(),v=this._hmLayer||this._hmLayer||new Ygt;v.blurSize=n.get("blurSize"),v.pointSize=n.get("pointSize"),v.minOpacity=n.get("minOpacity"),v.maxOpacity=n.get("maxOpacity");var g=e.getViewRect().clone(),y=e.getRoamTransform();g.applyTransform(y);var m=Math.max(g.x,0),b=Math.max(g.y,0),S=Math.min(g.width+g.x,a.getWidth()),E=Math.min(g.height+g.y,a.getHeight()),C=S-m,A=E-b,D=[h.mapDimension("lng"),h.mapDimension("lat"),h.mapDimension("value")],L=h.mapArray(D,function(V,k,F){var H=e.dataToPoint([V,k]);return H[0]-=m,H[1]-=b,H.push(F),H}),R=i.getExtent(),O=i.type==="visualMap.continuous"?qgt(R,i.option.range):$gt(R,i.getPieceList(),i.option.selected);v.update(L,C,A,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:c.color.getColorMapper()},O);var P=new En({style:{width:C,height:A,x:m,y:b,image:v.canvas},silent:!0});this.group.add(P)},t.type="heatmap",t})(Je),Zgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){return Ls(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Hv.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:yt.color.primary}}},t})(sr);function Kgt(r){r.registerChartView(Xgt),r.registerSeriesModel(Zgt)}var Jgt=["itemStyle","borderWidth"],M5=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Mx=new Ds,Qgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group,o=e.getData(),c=this._data,h=e.coordinateSystem,v=h.getBaseAxis(),g=v.isHorizontal(),y=h.master.getRect(),m={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:h,coordSysExtent:[[y.x,y.x+y.width],[y.y,y.y+y.height]],isHorizontal:g,valueDim:M5[+g],categoryDim:M5[1-+g]};o.diff(c).add(function(S){if(o.hasValue(S)){var E=N5(o,S),C=L5(o,S,E,m),A=R5(o,m,C);o.setItemGraphicEl(S,A),a.add(A),O5(A,m,C)}}).update(function(S,E){var C=c.getItemGraphicEl(E);if(!o.hasValue(S)){a.remove(C);return}var A=N5(o,S),D=L5(o,S,A,m),L=m7(o,D);C&&L!==C.__pictorialShapeStr&&(a.remove(C),o.setItemGraphicEl(S,null),C=null),C?oyt(C,m,D):C=R5(o,m,D,!0),o.setItemGraphicEl(S,C),C.__pictorialSymbolMeta=D,a.add(C),O5(C,m,D)}).remove(function(S){var E=c.getItemGraphicEl(S);E&&I5(c,S,E.__pictorialSymbolMeta.animationModel,E)}).execute();var b=e.get("clip",!0)?qv(e.coordinateSystem,!1,e):null;return b?a.setClipPath(b):a.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(e,n){var i=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(o){I5(a,fe(o).dataIndex,e,o)}):i.removeAll()},t.type="pictorialBar",t})(Je);function L5(r,t,e,n){var i=r.getItemLayout(t),a=e.get("symbolRepeat"),o=e.get("symbolClip"),c=e.get("symbolPosition")||"start",h=e.get("symbolRotate"),v=(h||0)*Math.PI/180||0,g=e.get("symbolPatternSize")||2,y=e.isAnimationEnabled(),m={dataIndex:t,layout:i,itemModel:e,symbolType:r.getItemVisual(t,"symbol")||"circle",style:r.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:g,rotation:v,animationModel:y?e:null,hoverScale:y&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};tyt(e,a,i,n,m),eyt(r,t,i,a,o,m.boundingLength,m.pxSign,g,n,m),ryt(e,m.symbolScale,v,n,m);var b=m.symbolSize,S=kc(e.get("symbolOffset"),b);return nyt(e,b,i,a,o,S,c,m.valueLineWidth,m.boundingLength,m.repeatCutLength,n,m),m}function tyt(r,t,e,n,i){var a=n.valueDim,o=r.get("symbolBoundingData"),c=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),h=c.toGlobalCoord(c.dataToCoord(0)),v=1-+(e[a.wh]<=0),g;if(Rt(o)){var y=[Lx(c,o[0])-h,Lx(c,o[1])-h];y[1]<y[0]&&y.reverse(),g=y[v]}else o!=null?g=Lx(c,o)-h:t?g=n.coordSysExtent[a.index][v]-h:g=e[a.wh];i.boundingLength=g,t&&(i.repeatCutLength=e[a.wh]);var m=a.xy==="x",b=c.inverse;i.pxSign=m&&!b||!m&&b?g>=0?1:-1:g>0?1:-1}function Lx(r,t){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(t)))}function eyt(r,t,e,n,i,a,o,c,h,v){var g=h.valueDim,y=h.categoryDim,m=Math.abs(e[y.wh]),b=r.getItemVisual(t,"symbolSize"),S;Rt(b)?S=b.slice():b==null?S=["100%","100%"]:S=[b,b],S[y.index]=Yt(S[y.index],m),S[g.index]=Yt(S[g.index],n?m:Math.abs(a)),v.symbolSize=S;var E=v.symbolScale=[S[0]/c,S[1]/c];E[g.index]*=(h.isHorizontal?-1:1)*o}function ryt(r,t,e,n,i){var a=r.get(Jgt)||0;a&&(Mx.attr({scaleX:t[0],scaleY:t[1],rotation:e}),Mx.updateTransform(),a/=Mx.getLineScale(),a*=t[n.valueDim.index]),i.valueLineWidth=a||0}function nyt(r,t,e,n,i,a,o,c,h,v,g,y){var m=g.categoryDim,b=g.valueDim,S=y.pxSign,E=Math.max(t[b.index]+c,0),C=E;if(n){var A=Math.abs(h),D=On(r.get("symbolMargin"),"15%")+"",L=!1;D.lastIndexOf("!")===D.length-1&&(L=!0,D=D.slice(0,D.length-1));var R=Yt(D,t[b.index]),O=Math.max(E+R*2,0),P=L?0:R*2,V=ZB(n),k=V?n:P5((A+P)/O),F=A-k*E;R=F/2/(L?k:Math.max(k-1,1)),O=E+R*2,P=L?0:R*2,!V&&n!=="fixed"&&(k=v?P5((Math.abs(v)+P)/O):0),C=k*O-P,y.repeatTimes=k,y.symbolMargin=R}var H=S*(C/2),W=y.pathPosition=[];W[m.index]=e[m.wh]/2,W[b.index]=o==="start"?H:o==="end"?h-H:h/2,a&&(W[0]+=a[0],W[1]+=a[1]);var q=y.bundlePosition=[];q[m.index]=e[m.xy],q[b.index]=e[b.xy];var Y=y.barRectShape=Mt({},e);Y[b.wh]=S*Math.max(Math.abs(e[b.wh]),Math.abs(W[b.index]+H)),Y[m.wh]=e[m.wh];var K=y.clipShape={};K[m.xy]=-e[m.xy],K[m.wh]=g.ecSize[m.wh],K[b.xy]=0,K[b.wh]=e[b.wh]}function p7(r){var t=r.symbolPatternSize,e=Kr(r.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function d7(r,t,e,n){var i=r.__pictorialBundle,a=e.symbolSize,o=e.valueLineWidth,c=e.pathPosition,h=t.valueDim,v=e.repeatTimes||0,g=0,y=a[t.valueDim.index]+o+e.symbolMargin*2;for(zD(r,function(E){E.__pictorialAnimationIndex=g,E.__pictorialRepeatTimes=v,g<v?dh(E,null,S(g),e,n):dh(E,null,{scaleX:0,scaleY:0},e,n,function(){i.remove(E)}),g++});g<v;g++){var m=p7(e);m.__pictorialAnimationIndex=g,m.__pictorialRepeatTimes=v,i.add(m);var b=S(g);dh(m,{x:b.x,y:b.y,scaleX:0,scaleY:0},{scaleX:b.scaleX,scaleY:b.scaleY,rotation:b.rotation},e,n)}function S(E){var C=c.slice(),A=e.pxSign,D=E;return(e.symbolRepeatDirection==="start"?A>0:A<0)&&(D=v-1-E),C[h.index]=y*(D-v/2+.5)+c[h.index],{x:C[0],y:C[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function v7(r,t,e,n){var i=r.__pictorialBundle,a=r.__pictorialMainPath;a?dh(a,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,n):(a=r.__pictorialMainPath=p7(e),i.add(a),dh(a,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,n))}function g7(r,t,e){var n=Mt({},t.barRectShape),i=r.__pictorialBarRect;i?dh(i,null,{shape:n},t,e):(i=r.__pictorialBarRect=new xe({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,r.add(i))}function y7(r,t,e,n){if(e.symbolClip){var i=r.__pictorialClipPath,a=Mt({},e.clipShape),o=t.valueDim,c=e.animationModel,h=e.dataIndex;if(i)Ve(i,{shape:a},c,h);else{a[o.wh]=0,i=new xe({shape:a}),r.__pictorialBundle.setClipPath(i),r.__pictorialClipPath=i;var v={};v[o.wh]=e.clipShape[o.wh],Ic[n?"updateProps":"initProps"](i,{shape:v},c,h)}}}function N5(r,t){var e=r.getItemModel(t);return e.getAnimationDelayParams=iyt,e.isAnimationEnabled=ayt,e}function iyt(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function ayt(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function R5(r,t,e,n){var i=new ne,a=new ne;return i.add(a),i.__pictorialBundle=a,a.x=e.bundlePosition[0],a.y=e.bundlePosition[1],e.symbolRepeat?d7(i,t,e):v7(i,t,e),g7(i,e,n),y7(i,t,e,n),i.__pictorialShapeStr=m7(r,e),i.__pictorialSymbolMeta=e,i}function oyt(r,t,e){var n=e.animationModel,i=e.dataIndex,a=r.__pictorialBundle;Ve(a,{x:e.bundlePosition[0],y:e.bundlePosition[1]},n,i),e.symbolRepeat?d7(r,t,e,!0):v7(r,t,e,!0),g7(r,e,!0),y7(r,t,e,!0)}function I5(r,t,e,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var a=[];zD(n,function(o){a.push(o)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(e=null),j(a,function(o){Ml(o,{scaleX:0,scaleY:0},e,t,function(){n.parent&&n.parent.remove(n)})}),r.setItemGraphicEl(t,null)}function m7(r,t){return[r.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function zD(r,t,e){j(r.__pictorialBundle.children(),function(n){n!==r.__pictorialBarRect&&t.call(e,n)})}function dh(r,t,e,n,i,a){t&&r.attr(t),n.symbolClip&&!i?e&&r.attr(e):e&&Ic[i?"updateProps":"initProps"](r,e,n.animationModel,n.dataIndex,a)}function O5(r,t,e){var n=e.dataIndex,i=e.itemModel,a=i.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),c=i.getModel(["blur","itemStyle"]).getItemStyle(),h=i.getModel(["select","itemStyle"]).getItemStyle(),v=i.getShallow("cursor"),g=a.get("focus"),y=a.get("blurScope"),m=a.get("scale");zD(r,function(E){if(E instanceof En){var C=E.style;E.useStyle(Mt({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},e.style))}else E.useStyle(e.style);var A=E.ensureState("emphasis");A.style=o,m&&(A.scaleX=E.scaleX*1.1,A.scaleY=E.scaleY*1.1),E.ensureState("blur").style=c,E.ensureState("select").style=h,v&&(E.cursor=v),E.z2=e.z2});var b=t.valueDim.posDesc[+(e.boundingLength>0)],S=r.__pictorialBarRect;S.ignoreClip=!0,dn(S,on(i),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:Ah(t.seriesModel.getData(),n),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:b}),yr(r,g,y,a.get("disabled"))}function P5(r){var t=Math.round(r);return Math.abs(r-t)<1e-4?t:Math.ceil(r)}var syt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return t.prototype.getInitialData=function(e){return e.stack=null,r.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Gl(wv.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:yt.color.primary}}}),t})(wv);function lyt(r){r.registerChartView(Qgt),r.registerSeriesModel(syt),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,ve(G6,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,F6("pictorialBar"))}var uyt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this,c=this.group,h=e.getLayerSeries(),v=a.getLayout("layoutInfo"),g=v.rect,y=v.boundaryGap;c.x=0,c.y=g.y+y[0];function m(C){return C.name}var b=new xs(this._layersSeries||[],h,m,m),S=[];b.add(qt(E,this,"add")).update(qt(E,this,"update")).remove(qt(E,this,"remove")).execute();function E(C,A,D){var L=o._layers;if(C==="remove"){c.remove(L[A]);return}for(var R=[],O=[],P,V=h[A].indices,k=0;k<V.length;k++){var F=a.getItemLayout(V[k]),H=F.x,W=F.y0,q=F.y;R.push(H,W),O.push(H,W+q),P=a.getItemVisual(V[k],"style")}var Y,K=a.getItemLayout(V[0]),X=e.getModel("label"),J=X.get("margin"),it=e.getModel("emphasis");if(C==="add"){var rt=S[A]=new ne;Y=new Mz({shape:{points:R,stackedOnPoints:O,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),rt.add(Y),c.add(rt),e.isAnimationEnabled()&&Y.setClipPath(cyt(Y.getBoundingRect(),e,function(){Y.removeClipPath()}))}else{var rt=L[D];Y=rt.childAt(0),c.add(rt),S[A]=rt,Ve(Y,{shape:{points:R,stackedOnPoints:O}},e),pa(Y)}dn(Y,on(e),{labelDataIndex:V[k-1],defaultText:a.getName(V[k-1]),inheritColor:P.fill},{normal:{verticalAlign:"middle"}}),Y.setTextConfig({position:null,local:!0});var st=Y.getTextContent();st&&(st.x=K.x-J,st.y=K.y0+K.y/2),Y.useStyle(P),a.setItemGraphicEl(A,Y),an(Y,e),yr(Y,it.get("focus"),it.get("blurScope"),it.get("disabled"))}this._layersSeries=h,this._layers=S},t.type="themeRiver",t})(Je);function cyt(r,t,e){var n=new xe({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return pr(n,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},t,e),n}var Nx=2,fyt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new qh(qt(this.getData,this),qt(this.getRawData,this))},t.prototype.fixData=function(e){var n=e.length,i={},a=jE(e,function(m){return i.hasOwnProperty(m[0]+"")||(i[m[0]+""]=-1),m[2]}),o=[];a.buckets.each(function(m,b){o.push({name:b,dataList:m})});for(var c=o.length,h=0;h<c;++h){for(var v=o[h].name,g=0;g<o[h].dataList.length;++g){var y=o[h].dataList[g][0]+"";i[y]=h}for(var y in i)i.hasOwnProperty(y)&&i[y]!==h&&(i[y]=h,e[n]=[y,0,v],n++)}return e},t.prototype.getInitialData=function(e,n){for(var i=this.getReferringComponents("singleAxis",Ar).models[0],a=i.get("type"),o=Ye(e.data,function(S){return S[2]!==void 0}),c=this.fixData(o||[]),h=[],v=this.nameMap=Qt(),g=0,y=0;y<c.length;++y)h.push(c[y][Nx]),v.get(c[y][Nx])||(v.set(c[y][Nx],g),g++);var m=Wv(c,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:B0(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,b=new fi(m,this);return b.initData(c),b},t.prototype.getLayerSeries=function(){for(var e=this.getData(),n=e.count(),i=[],a=0;a<n;++a)i[a]=a;var o=e.mapDimension("single"),c=jE(i,function(v){return e.get("name",v)}),h=[];return c.buckets.each(function(v,g){v.sort(function(y,m){return e.get(o,y)-e.get(o,m)}),h.push({name:g,indices:v})}),h},t.prototype.getAxisTooltipData=function(e,n,i){Rt(e)||(e=e?[e]:[]);for(var a=this.getData(),o=this.getLayerSeries(),c=[],h=o.length,v,g=0;g<h;++g){for(var y=Number.MAX_VALUE,m=-1,b=o[g].indices.length,S=0;S<b;++S){var E=a.get(e[0],o[g].indices[S]),C=Math.abs(E-n);C<=y&&(v=E,y=C,m=o[g].indices[S])}c.push(m)}return{dataIndices:c,nestestValue:v}},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=a.getName(e),c=a.get(a.mapDimension("value"),e);return Zr("nameValue",{name:o,value:c})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t})(sr);function hyt(r,t){r.eachSeriesByType("themeRiver",function(e){var n=e.getData(),i=e.coordinateSystem,a={},o=i.getRect();a.rect=o;var c=e.get("boundaryGap"),h=i.getAxis();if(a.boundaryGap=c,h.orient==="horizontal"){c[0]=Yt(c[0],o.height),c[1]=Yt(c[1],o.height);var v=o.height-c[0]-c[1];k5(n,e,v)}else{c[0]=Yt(c[0],o.width),c[1]=Yt(c[1],o.width);var g=o.width-c[0]-c[1];k5(n,e,g)}n.setLayout("layoutInfo",a)})}function k5(r,t,e){if(r.count())for(var n=t.coordinateSystem,i=t.getLayerSeries(),a=r.mapDimension("single"),o=r.mapDimension("value"),c=Pt(i,function(C){return Pt(C.indices,function(A){var D=n.dataToPoint(r.get(a,A));return D[1]=r.get(o,A),D})}),h=pyt(c),v=h.y0,g=e/h.max,y=i.length,m=i[0].indices.length,b,S=0;S<m;++S){b=v[S]*g,r.setItemLayout(i[0].indices[S],{layerIndex:0,x:c[0][S][0],y0:b,y:c[0][S][1]*g});for(var E=1;E<y;++E)b+=c[E-1][S][1]*g,r.setItemLayout(i[E].indices[S],{layerIndex:E,x:c[E][S][0],y0:b,y:c[E][S][1]*g})}}function pyt(r){for(var t=r.length,e=r[0].length,n=[],i=[],a=0,o=0;o<e;++o){for(var c=0,h=0;h<t;++h)c+=r[h][o][1];c>a&&(a=c),n.push(c)}for(var v=0;v<e;++v)i[v]=(a-n[v])/2;a=0;for(var g=0;g<e;++g){var y=n[g]+i[g];y>a&&(a=y)}return{y0:i,max:a}}function dyt(r){r.registerChartView(uyt),r.registerSeriesModel(fyt),r.registerLayout(hyt),r.registerProcessor(Yh("themeRiver"))}var vyt=2,gyt=4,V5=(function(r){bt(t,r);function t(e,n,i,a){var o=r.call(this)||this;o.z2=vyt,o.textConfig={inside:!0},fe(o).seriesIndex=n.seriesIndex;var c=new ke({z2:gyt,silent:e.getModel().get(["label","silent"])});return o.setTextContent(c),o.updateData(!0,e,n,i,a),o}return t.prototype.updateData=function(e,n,i,a,o){this.node=n,n.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var c=this;fe(c).dataIndex=n.dataIndex;var h=n.getModel(),v=h.getModel("emphasis"),g=n.getLayout(),y=Mt({},g);y.label=null;var m=n.getVisual("style");m.lineJoin="bevel";var b=n.getVisual("decal");b&&(m.decal=xh(b,o));var S=Co(h.getModel("itemStyle"),y,!0);Mt(y,S),j(di,function(D){var L=c.ensureState(D),R=h.getModel([D,"itemStyle"]);L.style=R.getItemStyle();var O=Co(R,y);O&&(L.shape=O)}),e?(c.setShape(y),c.shape.r=g.r0,pr(c,{shape:{r:g.r}},i,n.dataIndex)):(Ve(c,{shape:y},i),pa(c)),c.useStyle(m),this._updateLabel(i);var E=h.getShallow("cursor");E&&c.attr("cursor",E),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var C=v.get("focus"),A=C==="relative"?rv(n.getAncestorsIndices(),n.getDescendantIndices()):C==="ancestor"?n.getAncestorsIndices():C==="descendant"?n.getDescendantIndices():C;yr(this,A,v.get("blurScope"),v.get("disabled"))},t.prototype._updateLabel=function(e){var n=this,i=this.node.getModel(),a=i.getModel("label"),o=this.node.getLayout(),c=o.endAngle-o.startAngle,h=(o.startAngle+o.endAngle)/2,v=Math.cos(h),g=Math.sin(h),y=this,m=y.getTextContent(),b=this.node.dataIndex,S=a.get("minAngle")/180*Math.PI,E=a.get("show")&&!(S!=null&&Math.abs(c)<S);m.ignore=!E,j(lv,function(A){var D=A==="normal"?i.getModel("label"):i.getModel([A,"label"]),L=A==="normal",R=L?m:m.ensureState(A),O=e.getFormattedLabel(b,A);L&&(O=O||n.node.name),R.style=or(D,{},null,A!=="normal",!0),O&&(R.style.text=O);var P=D.get("show");P!=null&&!L&&(R.ignore=!P);var V=C(D,"position"),k=L?y:y.states[A],F=k.style.fill;k.textConfig={outsideFill:D.get("color")==="inherit"?F:null,inside:V!=="outside"};var H,W=C(D,"distance")||0,q=C(D,"align"),Y=C(D,"rotate"),K=Math.PI*.5,X=Math.PI*1.5,J=Fi(Y==="tangential"?Math.PI/2-h:h),it=J>K&&!ov(J-K)&&J<X;V==="outside"?(H=o.r+W,q=it?"right":"left"):!q||q==="center"?(c===2*Math.PI&&o.r0===0?H=0:H=(o.r+o.r0)/2,q="center"):q==="left"?(H=o.r0+W,q=it?"right":"left"):q==="right"&&(H=o.r-W,q=it?"left":"right"),R.style.align=q,R.style.verticalAlign=C(D,"verticalAlign")||"middle",R.x=H*v+o.cx,R.y=H*g+o.cy;var rt=0;Y==="radial"?rt=Fi(-h)+(it?Math.PI:0):Y==="tangential"?rt=Fi(Math.PI/2-h)+(it?Math.PI:0):Ie(Y)&&(rt=Y*Math.PI/180),R.rotation=Fi(rt)});function C(A,D){var L=A.get(D);return L??a.get(D)}m.dirtyStyle()},t})(Xn),sC="sunburstRootToNode",G5="sunburstHighlight",yyt="sunburstUnhighlight";function myt(r){r.registerAction({type:sC,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(i,a){var o=Ev(t,[sC],i);if(o){var c=i.getViewRoot();c&&(t.direction=TD(c,o.node)?"rollUp":"drillDown"),i.resetViewRoot(o.node)}}}),r.registerAction({type:G5,update:"none"},function(t,e,n){t=Mt({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(a){var o=Ev(t,[G5],a);o&&(t.dataIndex=o.node.dataIndex)}n.dispatchAction(Mt(t,{type:"highlight"}))}),r.registerAction({type:yyt,update:"updateView"},function(t,e,n){t=Mt({},t),n.dispatchAction(Mt(t,{type:"downplay"}))})}var _yt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){var o=this;this.seriesModel=e,this.api=i,this.ecModel=n;var c=e.getData(),h=c.tree.root,v=e.getViewRoot(),g=this.group,y=e.get("renderLabelForZeroData"),m=[];v.eachNode(function(D){m.push(D)});var b=this._oldChildren||[];S(m,b),A(h,v),this._initEvents(),this._oldChildren=m;function S(D,L){if(D.length===0&&L.length===0)return;new xs(L,D,R,R).add(O).update(O).remove(ve(O,null)).execute();function R(P){return P.getId()}function O(P,V){var k=P==null?null:D[P],F=V==null?null:L[V];E(k,F)}}function E(D,L){if(!y&&D&&!D.getValue()&&(D=null),D!==h&&L!==h){if(L&&L.piece)D?(L.piece.updateData(!1,D,e,n,i),c.setItemGraphicEl(D.dataIndex,L.piece)):C(L);else if(D){var R=new V5(D,e,n,i);g.add(R),c.setItemGraphicEl(D.dataIndex,R)}}}function C(D){D&&D.piece&&(g.remove(D.piece),D.piece=null)}function A(D,L){L.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,D,e,n,i):(o.virtualPiece=new V5(D,e,n,i),g.add(o.virtualPiece)),L.piece.off("click"),o.virtualPiece.on("click",function(R){o._rootToNode(L.parentNode)})):o.virtualPiece&&(g.remove(o.virtualPiece),o.virtualPiece=null)}},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,a=e.seriesModel.getViewRoot();a.eachNode(function(o){if(!i&&o.piece&&o.piece===n.target){var c=o.getModel().get("nodeClick");if(c==="rootToNode")e._rootToNode(o);else if(c==="link"){var h=o.getModel(),v=h.get("link");if(v){var g=h.get("target",!0)||"_blank";R0(v,g)}}i=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:sC,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=e[0]-a.cx,c=e[1]-a.cy,h=Math.sqrt(o*o+c*c);return h<=a.r&&h>=a.r0}},t.type="sunburst",t})(Je),byt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e,n){var i={name:e.name,children:e.data};_7(i);var a=this._levelModels=Pt(e.levels||[],function(h){return new Me(h,this,n)},this),o=ED.createTree(i,this,c);function c(h){h.wrapMethod("getItemModel",function(v,g){var y=o.getNodeByDataIndex(g),m=a[y.depth];return m&&(v.parentModel=m),v})}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=ub(i,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){x8(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t})(sr);function _7(r){var t=0;j(r.children,function(n){_7(n);var i=n.value;Rt(i)&&(i=i[0]),t+=i});var e=r.value;Rt(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Rt(r.value)?r.value[0]=e:r.value=e}var F5=Math.PI/180;function Syt(r,t,e){t.eachSeriesByType(r,function(n){var i=n.get("center"),a=n.get("radius");Rt(a)||(a=[0,a]),Rt(i)||(i=[i,i]);var o=e.getWidth(),c=e.getHeight(),h=Math.min(o,c),v=Yt(i[0],o),g=Yt(i[1],c),y=Yt(a[0],h/2),m=Yt(a[1],h/2),b=-n.get("startAngle")*F5,S=n.get("minAngle")*F5,E=n.getData().tree.root,C=n.getViewRoot(),A=C.depth,D=n.get("sort");D!=null&&b7(C,D);var L=0;j(C.children,function(J){!isNaN(J.getValue())&&L++});var R=C.getValue(),O=Math.PI/(R||L)*2,P=C.depth>0,V=C.height-(P?-1:1),k=(m-y)/(V||1),F=n.get("clockwise"),H=n.get("stillShowZeroSum"),W=F?1:-1,q=function(J,it){if(J){var rt=it;if(J!==E){var st=J.getValue(),lt=R===0&&H?O:st*O;lt<S&&(lt=S),rt=it+W*lt;var dt=J.depth-A-(P?-1:1),pt=y+k*dt,Tt=y+k*(dt+1),Ft=n.getLevelModel(J);if(Ft){var zt=Ft.get("r0",!0),Vt=Ft.get("r",!0),Kt=Ft.get("radius",!0);Kt!=null&&(zt=Kt[0],Vt=Kt[1]),zt!=null&&(pt=Yt(zt,h/2)),Vt!=null&&(Tt=Yt(Vt,h/2))}J.setLayout({angle:lt,startAngle:it,endAngle:rt,clockwise:F,cx:v,cy:g,r0:pt,r:Tt})}if(J.children&&J.children.length){var Bt=0;j(J.children,function(gt){Bt+=q(gt,it+Bt)})}return rt-it}};if(P){var Y=y,K=y+k,X=Math.PI*2;E.setLayout({angle:X,startAngle:b,endAngle:b+X,clockwise:F,cx:v,cy:g,r0:Y,r:K})}q(C,b)})}function b7(r,t){var e=r.children||[];r.children=wyt(e,t),e.length&&j(r.children,function(n){b7(n,t)})}function wyt(r,t){if(re(t)){var e=Pt(r,function(i,a){var o=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return o}},index:a}});return e.sort(function(i,a){return t(i.params,a.params)}),Pt(e,function(i){return r[i.index]})}else{var n=t==="asc";return r.sort(function(i,a){var o=(i.getValue()-a.getValue())*(n?1:-1);return o===0?(i.dataIndex-a.dataIndex)*(n?-1:1):o})}}function xyt(r){var t={};function e(n,i,a){if(n.depth===0)return yt.color.neutral50;for(var o=n;o&&o.depth>1;)o=o.parentNode;var c=i.getColorFromPalette(o.name||o.dataIndex+"",t);return n.depth>1&&$t(c)&&(c=IE(c,(n.depth-1)/(a-1)*.5)),c}r.eachSeriesByType("sunburst",function(n){var i=n.getData(),a=i.tree;a.eachNode(function(o){var c=o.getModel(),h=c.getModel("itemStyle").getItemStyle();h.fill||(h.fill=e(o,n,a.root.height));var v=i.ensureUniqueItemVisual(o.dataIndex,"style");Mt(v,h)})})}function Eyt(r){r.registerChartView(_yt),r.registerSeriesModel(byt),r.registerLayout(ve(Syt,"sunburst")),r.registerProcessor(ve(Yh,"sunburst")),r.registerVisual(xyt),myt(r)}var B5={color:"fill",borderColor:"stroke"},Tyt={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},ps=Ee(),Cyt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,n){return Ls(null,this)},t.prototype.getDataParams=function(e,n,i){var a=r.prototype.getDataParams.call(this,e,n);return i&&(a.info=ps(i).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t})(sr);function Ayt(r,t){return t=t||[0,0],Pt(["x","y"],function(e,n){var i=this.getAxis(e),a=t[n],o=r[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-o)-i.dataToCoord(a+o))},this)}function Dyt(r){var t=r.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:qt(Ayt,r)}}}function Myt(r,t){return t=t||[0,0],Pt([0,1],function(e){var n=t[e],i=r[e]/2,a=[],o=[];return a[e]=n-i,o[e]=n+i,a[1-e]=o[1-e]=t[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(o)[e])},this)}function Lyt(r){var t=r.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:r.getZoom()},api:{coord:function(e){return r.dataToPoint(e)},size:qt(Myt,r)}}}function Nyt(r,t){var e=this.getAxis(),n=t instanceof Array?t[0]:t,i=(r instanceof Array?r[0]:r)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(n-i)-e.dataToCoord(n+i))}function Ryt(r){var t=r.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:qt(Nyt,r)}}}function Iyt(r,t){return t=t||[0,0],Pt(["Radius","Angle"],function(e,n){var i="get"+e+"Axis",a=this[i](),o=t[n],c=r[n]/2,h=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-c)-a.dataToCoord(o+c));return e==="Angle"&&(h=h*Math.PI/180),h},this)}function Oyt(r){var t=r.getRadiusAxis(),e=r.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:n[1],r0:n[0]},api:{coord:function(i){var a=t.dataToRadius(i[0]),o=e.dataToAngle(i[1]),c=r.coordToPoint([a,o]);return c.push(a,o*Math.PI/180),c},size:qt(Iyt,r)}}}function Pyt(r){var t=r.getRect(),e=r.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(n,i){return r.dataToPoint(n,i)},layout:function(n,i){return r.dataToLayout(n,i)}}}}function kyt(r){var t=r.getRect();return{coordSys:{type:"matrix",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e,n){return r.dataToPoint(e,n)},layout:function(e,n){return r.dataToLayout(e,n)}}}}function S7(r,t,e,n){return r&&(r.legacy||r.legacy!==!1&&!e&&!n&&t!=="tspan"&&(t==="text"||Xt(r,"text")))}function w7(r,t,e){var n=r,i,a,o;if(t==="text")o=n;else{o={},Xt(n,"text")&&(o.text=n.text),Xt(n,"rich")&&(o.rich=n.rich),Xt(n,"textFill")&&(o.fill=n.textFill),Xt(n,"textStroke")&&(o.stroke=n.textStroke),Xt(n,"fontFamily")&&(o.fontFamily=n.fontFamily),Xt(n,"fontSize")&&(o.fontSize=n.fontSize),Xt(n,"fontStyle")&&(o.fontStyle=n.fontStyle),Xt(n,"fontWeight")&&(o.fontWeight=n.fontWeight),a={type:"text",style:o,silent:!0},i={};var c=Xt(n,"textPosition");e?i.position=c?n.textPosition:"inside":c&&(i.position=n.textPosition),Xt(n,"textPosition")&&(i.position=n.textPosition),Xt(n,"textOffset")&&(i.offset=n.textOffset),Xt(n,"textRotation")&&(i.rotation=n.textRotation),Xt(n,"textDistance")&&(i.distance=n.textDistance)}return H5(o,r),j(o.rich,function(h){H5(h,h)}),{textConfig:i,textContent:a}}function H5(r,t){t&&(t.font=t.textFont||t.font,Xt(t,"textStrokeWidth")&&(r.lineWidth=t.textStrokeWidth),Xt(t,"textAlign")&&(r.align=t.textAlign),Xt(t,"textVerticalAlign")&&(r.verticalAlign=t.textVerticalAlign),Xt(t,"textLineHeight")&&(r.lineHeight=t.textLineHeight),Xt(t,"textWidth")&&(r.width=t.textWidth),Xt(t,"textHeight")&&(r.height=t.textHeight),Xt(t,"textBackgroundColor")&&(r.backgroundColor=t.textBackgroundColor),Xt(t,"textPadding")&&(r.padding=t.textPadding),Xt(t,"textBorderColor")&&(r.borderColor=t.textBorderColor),Xt(t,"textBorderWidth")&&(r.borderWidth=t.textBorderWidth),Xt(t,"textBorderRadius")&&(r.borderRadius=t.textBorderRadius),Xt(t,"textBoxShadowColor")&&(r.shadowColor=t.textBoxShadowColor),Xt(t,"textBoxShadowBlur")&&(r.shadowBlur=t.textBoxShadowBlur),Xt(t,"textBoxShadowOffsetX")&&(r.shadowOffsetX=t.textBoxShadowOffsetX),Xt(t,"textBoxShadowOffsetY")&&(r.shadowOffsetY=t.textBoxShadowOffsetY))}function z5(r,t,e){var n=r;n.textPosition=n.textPosition||e.position||"inside",e.offset!=null&&(n.textOffset=e.offset),e.rotation!=null&&(n.textRotation=e.rotation),e.distance!=null&&(n.textDistance=e.distance);var i=n.textPosition.indexOf("inside")>=0,a=r.fill||yt.color.neutral99;U5(n,t);var o=n.textFill==null;return i?o&&(n.textFill=e.insideFill||yt.color.neutral00,!n.textStroke&&e.insideStroke&&(n.textStroke=e.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(o&&(n.textFill=r.fill||e.outsideFill||yt.color.neutral00),!n.textStroke&&e.outsideStroke&&(n.textStroke=e.outsideStroke)),n.text=t.text,n.rich=t.rich,j(t.rich,function(c){U5(c,c)}),n}function U5(r,t){t&&(Xt(t,"fill")&&(r.textFill=t.fill),Xt(t,"stroke")&&(r.textStroke=t.fill),Xt(t,"lineWidth")&&(r.textStrokeWidth=t.lineWidth),Xt(t,"font")&&(r.font=t.font),Xt(t,"fontStyle")&&(r.fontStyle=t.fontStyle),Xt(t,"fontWeight")&&(r.fontWeight=t.fontWeight),Xt(t,"fontSize")&&(r.fontSize=t.fontSize),Xt(t,"fontFamily")&&(r.fontFamily=t.fontFamily),Xt(t,"align")&&(r.textAlign=t.align),Xt(t,"verticalAlign")&&(r.textVerticalAlign=t.verticalAlign),Xt(t,"lineHeight")&&(r.textLineHeight=t.lineHeight),Xt(t,"width")&&(r.textWidth=t.width),Xt(t,"height")&&(r.textHeight=t.height),Xt(t,"backgroundColor")&&(r.textBackgroundColor=t.backgroundColor),Xt(t,"padding")&&(r.textPadding=t.padding),Xt(t,"borderColor")&&(r.textBorderColor=t.borderColor),Xt(t,"borderWidth")&&(r.textBorderWidth=t.borderWidth),Xt(t,"borderRadius")&&(r.textBorderRadius=t.borderRadius),Xt(t,"shadowColor")&&(r.textBoxShadowColor=t.shadowColor),Xt(t,"shadowBlur")&&(r.textBoxShadowBlur=t.shadowBlur),Xt(t,"shadowOffsetX")&&(r.textBoxShadowOffsetX=t.shadowOffsetX),Xt(t,"shadowOffsetY")&&(r.textBoxShadowOffsetY=t.shadowOffsetY),Xt(t,"textShadowColor")&&(r.textShadowColor=t.textShadowColor),Xt(t,"textShadowBlur")&&(r.textShadowBlur=t.textShadowBlur),Xt(t,"textShadowOffsetX")&&(r.textShadowOffsetX=t.textShadowOffsetX),Xt(t,"textShadowOffsetY")&&(r.textShadowOffsetY=t.textShadowOffsetY))}var x7={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},W5=Le(x7);Io(Po,function(r,t){return r[t]=1,r},{});Po.join(", ");var i_=["","style","shape","extra"],Nh=Ee();function UD(r,t,e,n,i){var a=r+"Animation",o=Fh(r,n,i)||{},c=Nh(t).userDuring;return o.duration>0&&(o.during=c?qt(Hyt,{el:t,userDuring:c}):null,o.setToFinal=!0,o.scope=r),Mt(o,e[a]),o}function e0(r,t,e,n){n=n||{};var i=n.dataIndex,a=n.isInit,o=n.clearStyle,c=e.isAnimationEnabled(),h=Nh(r),v=t.style;h.userDuring=t.during;var g={},y={};if(Uyt(r,t,y),r.type==="compound")for(var m=r.shape.paths,b=t.shape.paths,S=0;S<b.length;S++){var E=b[S];Rx("shape",E,m[S])}else Rx("shape",t,y),Rx("extra",t,y);if(!a&&c&&(zyt(r,t,g),j5("shape",r,t,g),j5("extra",r,t,g),Wyt(r,t,v,g)),y.style=v,Vyt(r,y,o),Fyt(r,t),c)if(a){var C={};j(i_,function(D){var L=D?t[D]:t;L&&L.enterFrom&&(D&&(C[D]=C[D]||{}),Mt(D?C[D]:C,L.enterFrom))});var A=UD("enter",r,t,e,i);A.duration>0&&r.animateFrom(C,A)}else Gyt(r,t,i||0,e,g);E7(r,t),v?r.dirty():r.markRedraw()}function E7(r,t){for(var e=Nh(r).leaveToProps,n=0;n<i_.length;n++){var i=i_[n],a=i?t[i]:t;a&&a.leaveTo&&(e||(e=Nh(r).leaveToProps={}),i&&(e[i]=e[i]||{}),Mt(i?e[i]:e,a.leaveTo))}}function hb(r,t,e,n){if(r){var i=r.parent,a=Nh(r).leaveToProps;if(a){var o=UD("update",r,t,e,0);o.done=function(){i&&i.remove(r)},r.animateTo(a,o)}else i&&i.remove(r)}}function mc(r){return r==="all"}function Vyt(r,t,e){var n=t.style;if(!r.isGroup&&n){if(e){r.useStyle({});for(var i=r.animators,a=0;a<i.length;a++){var o=i[a];o.targetName==="style"&&o.changeTarget(r.style)}}r.setStyle(n)}t&&(t.style=null,t&&r.attr(t),t.style=n)}function Gyt(r,t,e,n,i){if(i){var a=UD("update",r,t,n,e);a.duration>0&&r.animateFrom(i,a)}}function Fyt(r,t){Xt(t,"silent")&&(r.silent=t.silent),Xt(t,"ignore")&&(r.ignore=t.ignore),r instanceof ha&&Xt(t,"invisible")&&(r.invisible=t.invisible),r instanceof Te&&Xt(t,"autoBatch")&&(r.autoBatch=t.autoBatch)}var fo={},Byt={setTransform:function(r,t){return fo.el[r]=t,this},getTransform:function(r){return fo.el[r]},setShape:function(r,t){var e=fo.el,n=e.shape||(e.shape={});return n[r]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(r){var t=fo.el.shape;if(t)return t[r]},setStyle:function(r,t){var e=fo.el,n=e.style;return n&&(n[r]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(r){var t=fo.el.style;if(t)return t[r]},setExtra:function(r,t){var e=fo.el.extra||(fo.el.extra={});return e[r]=t,this},getExtra:function(r){var t=fo.el.extra;if(t)return t[r]}};function Hyt(){var r=this,t=r.el;if(t){var e=Nh(t).userDuring,n=r.userDuring;if(e!==n){r.el=r.userDuring=null;return}fo.el=t,n(Byt)}}function j5(r,t,e,n){var i=e[r];if(i){var a=t[r],o;if(a){var c=e.transition,h=i.transition;if(h)if(!o&&(o=n[r]={}),mc(h))Mt(o,a);else for(var v=tr(h),g=0;g<v.length;g++){var y=v[g],m=a[y];o[y]=m}else if(mc(c)||ge(c,r)>=0){!o&&(o=n[r]={});for(var b=Le(a),g=0;g<b.length;g++){var y=b[g],m=a[y];jyt(i[y],m)&&(o[y]=m)}}}}}function Rx(r,t,e){var n=t[r];if(n)for(var i=e[r]={},a=Le(n),o=0;o<a.length;o++){var c=a[o];i[c]=Hd(n[c])}}function zyt(r,t,e){for(var n=t.transition,i=mc(n)?Po:tr(n||[]),a=0;a<i.length;a++){var o=i[a];if(!(o==="style"||o==="shape"||o==="extra")){var c=r[o];e[o]=c}}}function Uyt(r,t,e){for(var n=0;n<W5.length;n++){var i=W5[n],a=x7[i],o=t[i];o&&(e[a[0]]=o[0],e[a[1]]=o[1])}for(var n=0;n<Po.length;n++){var c=Po[n];t[c]!=null&&(e[c]=t[c])}}function Wyt(r,t,e,n){if(e){var i=r.style,a;if(i){var o=e.transition,c=t.transition;if(o&&!mc(o)){var h=tr(o);!a&&(a=n.style={});for(var v=0;v<h.length;v++){var g=h[v],y=i[g];a[g]=y}}else if(r.getAnimationStyleProps&&(mc(c)||mc(o)||ge(c,"style")>=0)){var m=r.getAnimationStyleProps(),b=m?m.style:null;if(b){!a&&(a=n.style={});for(var S=Le(e),v=0;v<S.length;v++){var g=S[v];if(b[g]){var y=i[g];a[g]=y}}}}}}}function jyt(r,t){return $n(r)?r!==t:r!=null&&isFinite(r)}var T7=Ee(),Yyt=["percent","easing","shape","style","extra"];function C7(r){r.stopAnimation("keyframe"),r.attr(T7(r))}function a_(r,t,e){if(!(!e.isAnimationEnabled()||!t)){if(Rt(t)){j(t,function(c){a_(r,c,e)});return}var n=t.keyframes,i=t.duration;if(e&&i==null){var a=Fh("enter",e,0);i=a&&a.duration}if(!(!n||!i)){var o=T7(r);j(i_,function(c){if(!(c&&!r[c])){var h;n.sort(function(v,g){return v.percent-g.percent}),j(n,function(v){var g=r.animators,y=c?v[c]:v;if(y){var m=Le(y);if(c||(m=Ye(m,function(E){return ge(Yyt,E)<0})),!!m.length){h||(h=r.animate(c,t.loop,!0),h.scope="keyframe");for(var b=0;b<g.length;b++)g[b]!==h&&g[b].targetName===h.targetName&&g[b].stopTracks(m);c&&(o[c]=o[c]||{});var S=c?o[c]:o;j(m,function(E){S[E]=((c?r[c]:r)||{})[E]}),h.whenWithKeys(i*v.percent,y,m,v.easing)}}}),h&&h.delay(t.delay||0).duration(i).start(t.easing)}})}}}var ds="emphasis",yl="normal",WD="blur",jD="select",Ol=[yl,ds,WD,jD],Ix={normal:["itemStyle"],emphasis:[ds,"itemStyle"],blur:[WD,"itemStyle"],select:[jD,"itemStyle"]},Ox={normal:["label"],emphasis:[ds,"label"],blur:[WD,"label"],select:[jD,"label"]},$yt=["x","y"],qyt="e\0\0",Ji={normal:{},emphasis:{},blur:{},select:{}},Xyt={cartesian2d:Dyt,geo:Lyt,single:Ryt,polar:Oyt,calendar:Pyt,matrix:kyt};function lC(r){return r instanceof Te}function uC(r){return r instanceof ha}function Zyt(r,t){t.copyTransform(r),uC(t)&&uC(r)&&(t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t.invisible=r.invisible,t.ignore=r.ignore,lC(t)&&lC(r)&&t.setShape(r.shape))}var Kyt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this._progressiveEls=null;var o=this._data,c=e.getData(),h=this.group,v=Y5(e,c,n,i);o||h.removeAll(),c.diff(o).add(function(y){Px(i,null,y,v(y,a),e,h,c)}).remove(function(y){var m=o.getItemGraphicEl(y);m&&hb(m,ps(m).option,e)}).update(function(y,m){var b=o.getItemGraphicEl(m);Px(i,b,y,v(y,a),e,h,c)}).execute();var g=e.get("clip",!0)?qv(e.coordinateSystem,!1,e):null;g?h.setClipPath(g):h.removeClipPath(),this._data=c},t.prototype.incrementalPrepareRender=function(e,n,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,n,i,a,o){var c=n.getData(),h=Y5(n,c,i,a),v=this._progressiveEls=[];function g(b){b.isGroup||(b.incremental=!0,b.ensureState("emphasis").hoverLayer=!0)}for(var y=e.start;y<e.end;y++){var m=Px(null,null,y,h(y,o),n,this.group,c);m&&(m.traverse(g),v.push(m))}},t.prototype.eachRendered=function(e){Vl(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,n,i,a){var o=n.element;if(o==null||i.name===o)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===o)return!0;return!1},t.type="custom",t})(Je);function YD(r){var t=r.type,e;if(t==="path"){var n=r.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=M7(n);e=cv(a,null,i,n.layout||"center"),ps(e).customPathData=a}else if(t==="image")e=new En({}),ps(e).customImagePath=r.style.image;else if(t==="text")e=new ke({});else if(t==="group")e=new ne;else if(t==="compoundPath"){var n=r.shape;if(!n||!n.paths){var o="";Ue(o)}var c=Pt(n.paths,function(g){if(g.type==="path")return cv(g.shape.pathData,g,null);var y=M0(g.type);if(!y){var m="";Ue(m)}return new y});e=new Y_({shape:{paths:c}})}else{var h=M0(t);if(!h){var o="";Ue(o)}e=new h}return ps(e).customGraphicType=t,e.name=r.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function $D(r,t,e,n,i,a,o){C7(t);var c=i&&i.normal.cfg;c&&t.setTextConfig(c),n&&n.transition==null&&(n.transition=$yt);var h=n&&n.style;if(h){if(t.type==="text"){var v=h;Xt(v,"textFill")&&(v.fill=v.textFill),Xt(v,"textStroke")&&(v.stroke=v.textStroke)}var g=void 0,y=lC(t)?h.decal:null;r&&y&&(y.dirty=!0,g=xh(y,r)),h.__decalPattern=g}if(uC(t)&&h){var g=h.__decalPattern;g&&(h.decal=g)}e0(t,n,a,{dataIndex:e,isInit:o,clearStyle:!0}),a_(t,n.keyframeAnimation,a)}function A7(r,t,e,n,i){var a=t.isGroup?null:t,o=i&&i[r].cfg;if(a){var c=a.ensureState(r);if(n===!1){var h=a.getState(r);h&&(h.style=null)}else c.style=n||null;o&&(c.textConfig=o),xc(a)}}function Jyt(r,t,e){if(!r.isGroup){var n=r,i=e.currentZ,a=e.currentZLevel;n.z=i,n.zlevel=a;var o=t.z2;o!=null&&(n.z2=o||0);for(var c=0;c<Ol.length;c++)Qyt(n,t,Ol[c])}}function Qyt(r,t,e){var n=e===yl,i=n?t:o_(t,e),a=i?i.z2:null,o;a!=null&&(o=n?r:r.ensureState(e),o.z2=a||0)}function Y5(r,t,e,n){var i=r.get("renderItem");if(typeof i=="string"){var a=fst(i);a&&(i=a)}var o=r.coordinateSystem,c={};o&&(c=o.prepareCustoms?o.prepareCustoms(o):Xyt[o.type](o));for(var h=se({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:O,style:V,ordinalRawValue:P,styleEmphasis:k,visual:W,barLayout:q,currentSeriesIndices:Y,font:K},c.api||{}),v={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:c.coordSys,dataInsideLength:t.count(),encode:tmt(r.getData()),itemPayload:r.get("itemPayload")||{}},g,y,m={},b={},S={},E={},C=0;C<Ol.length;C++){var A=Ol[C];S[A]=r.getModel(Ix[A]),E[A]=r.getModel(Ox[A])}function D(X){return X===g?y||(y=t.getItemModel(X)):t.getItemModel(X)}function L(X,J){return t.hasItemOption?X===g?m[J]||(m[J]=D(X).getModel(Ix[J])):D(X).getModel(Ix[J]):S[J]}function R(X,J){return t.hasItemOption?X===g?b[J]||(b[J]=D(X).getModel(Ox[J])):D(X).getModel(Ox[J]):E[J]}return function(X,J){return g=X,y=null,m={},b={},i&&i(se({dataIndexInside:X,dataIndex:t.getRawIndex(X),actionType:J?J.type:null},v),h)};function O(X,J){return J==null&&(J=g),t.getStore().get(t.getDimensionIndex(X||0),J)}function P(X,J){J==null&&(J=g),X=X||0;var it=t.getDimensionInfo(X);if(!it){var rt=t.getDimensionIndex(X);return rt>=0?t.getStore().get(rt,J):void 0}var st=t.get(it.name,J),lt=it&&it.ordinalMeta;return lt?lt.categories[st]:st}function V(X,J){J==null&&(J=g);var it=t.getItemVisual(J,"style"),rt=it&&it.fill,st=it&&it.opacity,lt=L(J,yl).getItemStyle();rt!=null&&(lt.fill=rt),st!=null&&(lt.opacity=st);var dt={inheritColor:$t(rt)?rt:yt.color.neutral99},pt=R(J,yl),Tt=or(pt,null,dt,!1,!0);Tt.text=pt.getShallow("show")?te(r.getFormattedLabel(J,yl),Ah(t,J)):null;var Ft=L0(pt,dt,!1);return H(X,lt),lt=z5(lt,Tt,Ft),X&&F(lt,X),lt.legacy=!0,lt}function k(X,J){J==null&&(J=g);var it=L(J,ds).getItemStyle(),rt=R(J,ds),st=or(rt,null,null,!0,!0);st.text=rt.getShallow("show")?Hi(r.getFormattedLabel(J,ds),r.getFormattedLabel(J,yl),Ah(t,J)):null;var lt=L0(rt,null,!0);return H(X,it),it=z5(it,st,lt),X&&F(it,X),it.legacy=!0,it}function F(X,J){for(var it in J)Xt(J,it)&&(X[it]=J[it])}function H(X,J){X&&(X.textFill&&(J.textFill=X.textFill),X.textPosition&&(J.textPosition=X.textPosition))}function W(X,J){if(J==null&&(J=g),Xt(B5,X)){var it=t.getItemVisual(J,"style");return it?it[B5[X]]:null}if(Xt(Tyt,X))return t.getItemVisual(J,X)}function q(X){if(o.type==="cartesian2d"){var J=o.getBaseAxis();return ult(se({axis:J},X))}}function Y(){return e.getCurrentSeriesIndices()}function K(X){return CA(X,e)}}function tmt(r){var t={};return j(r.dimensions,function(e){var n=r.getDimensionInfo(e);if(!n.isExtraCoord){var i=n.coordDim,a=t[i]=t[i]||[];a[n.coordDimIndex]=r.getDimensionIndex(e)}}),t}function Px(r,t,e,n,i,a,o){if(!n){a.remove(t);return}var c=qD(r,t,e,n,i,a);return c&&o.setItemGraphicEl(e,c),c&&yr(c,n.focus,n.blurScope,n.emphasisDisabled),c}function qD(r,t,e,n,i,a){var o=-1,c=t;t&&D7(t,n,i)&&(o=ge(a.childrenRef(),t),t=null);var h=!t,v=t;v?v.clearStates():(v=YD(n),c&&Zyt(c,v)),n.morph===!1?v.disableMorphing=!0:v.disableMorphing&&(v.disableMorphing=!1),n.tooltipDisabled&&(v.tooltipDisabled=!0),Ji.normal.cfg=Ji.normal.conOpt=Ji.emphasis.cfg=Ji.emphasis.conOpt=Ji.blur.cfg=Ji.blur.conOpt=Ji.select.cfg=Ji.select.conOpt=null,Ji.isLegacy=!1,rmt(v,e,n,i,h,Ji),emt(v,e,n,i,h),$D(r,v,e,n,Ji,i,h),Xt(n,"info")&&(ps(v).info=n.info);for(var g=0;g<Ol.length;g++){var y=Ol[g];if(y!==yl){var m=o_(n,y),b=XD(n,m,y);A7(y,v,m,b,Ji)}}return Jyt(v,n,i),n.type==="group"&&nmt(r,v,e,n,i),o>=0?a.replaceAt(v,o):a.add(v),v}function D7(r,t,e){var n=ps(r),i=t.type,a=t.shape,o=t.style;return e.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&smt(a)&&M7(a)!==n.customPathData||i==="image"&&Xt(o,"image")&&o.image!==n.customImagePath}function emt(r,t,e,n,i){var a=e.clipPath;if(a===!1)r&&r.getClipPath()&&r.removeClipPath();else if(a){var o=r.getClipPath();o&&D7(o,a,n)&&(o=null),o||(o=YD(a),r.setClipPath(o)),$D(null,o,t,a,null,n,i)}}function rmt(r,t,e,n,i,a){if(!(r.isGroup||r.type==="compoundPath")){$5(e,null,a),$5(e,ds,a);var o=a.normal.conOpt,c=a.emphasis.conOpt,h=a.blur.conOpt,v=a.select.conOpt;if(o!=null||c!=null||v!=null||h!=null){var g=r.getTextContent();if(o===!1)g&&r.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},g?g.clearStates():(g=YD(o),r.setTextContent(g)),$D(null,g,t,o,null,n,i);for(var y=o&&o.style,m=0;m<Ol.length;m++){var b=Ol[m];if(b!==yl){var S=a[b].conOpt;A7(b,g,S,XD(o,S,b),null)}}y?g.dirty():g.markRedraw()}}}}function $5(r,t,e){var n=t?o_(r,t):r,i=t?XD(r,n,ds):r.style,a=r.type,o=n?n.textConfig:null,c=r.textContent,h=c?t?o_(c,t):c:null;if(i&&(e.isLegacy||S7(i,a,!!o,!!h))){e.isLegacy=!0;var v=w7(i,a,!t);!o&&v.textConfig&&(o=v.textConfig),!h&&v.textContent&&(h=v.textContent)}if(!t&&h){var g=h;!g.type&&(g.type="text")}var y=t?e[t]:e.normal;y.cfg=o,y.conOpt=h}function o_(r,t){return t?r?r[t]:null:r}function XD(r,t,e){var n=t&&t.style;return n==null&&e===ds&&r&&(n=r.styleEmphasis),n}function nmt(r,t,e,n,i){var a=n.children,o=a?a.length:0,c=n.$mergeChildren,h=c==="byName"||n.diffChildrenByName,v=c===!1;if(!(!o&&!h&&!v)){if(h){amt({api:r,oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,seriesModel:i,group:t});return}v&&t.removeAll();for(var g=0;g<o;g++){var y=a[g],m=t.childAt(g);y?(y.ignore==null&&(y.ignore=!1),qD(r,m,e,y,i,t)):m.ignore=!0}for(var b=t.childCount()-1;b>=g;b--){var S=t.childAt(b);imt(t,S,i)}}}function imt(r,t,e){t&&hb(t,ps(r).option,e)}function amt(r){new xs(r.oldChildren,r.newChildren,q5,q5,r).add(X5).update(X5).remove(omt).execute()}function q5(r,t){var e=r&&r.name;return e??qyt+t}function X5(r,t){var e=this.context,n=r!=null?e.newChildren[r]:null,i=t!=null?e.oldChildren[t]:null;qD(e.api,i,e.dataIndex,n,e.seriesModel,e.group)}function omt(r){var t=this.context,e=t.oldChildren[r];e&&hb(e,ps(e).option,t.seriesModel)}function M7(r){return r&&(r.pathData||r.d)}function smt(r){return r&&(Xt(r,"pathData")||Xt(r,"d"))}function lmt(r){r.registerChartView(Kyt),r.registerSeriesModel(Cyt)}var Qu=Ee(),Z5=ie,kx=qt,ZD=(function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(t,e,n,i){var a=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var c=this._group,h=this._handle;if(!o||o==="hide"){c&&c.hide(),h&&h.hide();return}c&&c.show(),h&&h.show();var v={};this.makeElOption(v,a,t,e,n);var g=v.graphicKey;g!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=g;var y=this._moveAnimation=this.determineAnimation(t,e);if(!c)c=this._group=new ne,this.createPointerEl(c,v,t,e),this.createLabelEl(c,v,t,e),n.getZr().add(c);else{var m=ve(K5,e,y);this.updatePointerEl(c,v,m),this.updateLabelEl(c,v,m,e)}Q5(c,e,!0),this._renderHandle(a)}},r.prototype.remove=function(t){this.clear(t)},r.prototype.dispose=function(t){this.clear(t)},r.prototype.determineAnimation=function(t,e){var n=e.get("animation"),i=t.axis,a=i.type==="category",o=e.get("snap");if(!o&&!a)return!1;if(n==="auto"||n==null){var c=this.animationThreshold;if(a&&i.getBandWidth()>c)return!0;if(o){var h=yD(t).seriesDataCount,v=i.getExtent();return Math.abs(v[0]-v[1])/h>c}return!1}return n===!0},r.prototype.makeElOption=function(t,e,n,i,a){},r.prototype.createPointerEl=function(t,e,n,i){var a=e.pointer;if(a){var o=Qu(t).pointerEl=new Ic[a.type](Z5(e.pointer));t.add(o)}},r.prototype.createLabelEl=function(t,e,n,i){if(e.label){var a=Qu(t).labelEl=new ke(Z5(e.label));t.add(a),J5(a,i)}},r.prototype.updatePointerEl=function(t,e,n){var i=Qu(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},r.prototype.updateLabelEl=function(t,e,n,i){var a=Qu(t).labelEl;a&&(a.setStyle(e.label.style),n(a,{x:e.label.x,y:e.label.y}),J5(a,i))},r.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=e.getModel("handle"),o=e.get("status");if(!a.get("show")||!o||o==="hide"){i&&n.remove(i),this._handle=null;return}var c;this._handle||(c=!0,i=this._handle=Fv(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(v){_s(v.event)},onmousedown:kx(this._onHandleDragMove,this,0,0),drift:kx(this._onHandleDragMove,this),ondragend:kx(this._onHandleDragEnd,this)}),n.add(i)),Q5(i,e,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=a.get("size");Rt(h)||(h=[h,h]),i.scaleX=h[0]/2,i.scaleY=h[1]/2,Uh(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,c)}},r.prototype._moveHandleToValue=function(t,e){K5(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Vx(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(Vx(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(Vx(i)),Qu(n).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),dv(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}},r})();function K5(r,t,e,n){L7(Qu(e).lastProp,n)||(Qu(e).lastProp=n,t?Ve(e,n,r):(e.stopAnimation(),e.attr(n)))}function L7(r,t){if(le(r)&&le(t)){var e=!0;return j(t,function(n,i){e=e&&L7(r[i],n)}),!!e}else return r===t}function J5(r,t){r[t.get(["label","show"])?"show":"hide"]()}function Vx(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function Q5(r,t,e){var n=t.get("z"),i=t.get("zlevel");r&&r.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=e)})}function KD(r){var t=r.get("type"),e=r.getModel(t+"Style"),n;return t==="line"?(n=e.getLineStyle(),n.fill=null):t==="shadow"&&(n=e.getAreaStyle(),n.stroke=null),n}function N7(r,t,e,n,i){var a=e.get("value"),o=R7(a,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),c=e.getModel("label"),h=Bv(c.get("padding")||0),v=c.getFont(),g=O_(o,v),y=i.position,m=g.width+h[1]+h[3],b=g.height+h[0]+h[2],S=i.align;S==="right"&&(y[0]-=m),S==="center"&&(y[0]-=m/2);var E=i.verticalAlign;E==="bottom"&&(y[1]-=b),E==="middle"&&(y[1]-=b/2),umt(y,m,b,n);var C=c.get("backgroundColor");(!C||C==="auto")&&(C=t.get(["axisLine","lineStyle","color"])),r.label={x:y[0],y:y[1],style:or(c,{text:o,font:v,fill:c.getTextColor(),padding:h,backgroundColor:C}),z2:10}}function umt(r,t,e,n){var i=n.getWidth(),a=n.getHeight();r[0]=Math.min(r[0]+t,i)-t,r[1]=Math.min(r[1]+e,a)-e,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function R7(r,t,e,n,i){r=t.scale.parse(r);var a=t.scale.getLabel({value:r},{precision:i.precision}),o=i.formatter;if(o){var c={value:H0(t,{value:r}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};j(n,function(h){var v=e.getSeriesByIndex(h.seriesIndex),g=h.dataIndexInside,y=v&&v.getDataParams(g);y&&c.seriesData.push(y)}),$t(o)?a=o.replace("{value}",a):re(o)&&(a=o(c))}return a}function JD(r,t,e){var n=wn();return kl(n,n,e.rotation),Oo(n,n,e.position),Oa([r.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],n)}function I7(r,t,e,n,i,a){var o=hi.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=i.get(["label","margin"]),N7(t,n,i,a,{position:JD(n.axis,r,e),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function QD(r,t,e){return e=e||0,{x1:r[e],y1:r[1-e],x2:t[e],y2:t[1-e]}}function O7(r,t,e){return e=e||0,{x:r[e],y:r[1-e],width:t[e],height:t[1-e]}}function tG(r,t,e,n,i,a){return{cx:r,cy:t,r0:e,r:n,startAngle:i,endAngle:a,clockwise:!0}}var cmt=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,o){var c=i.axis,h=c.grid,v=a.get("type"),g=eG(h,c).getOtherAxis(c).getGlobalExtent(),y=c.toGlobalCoord(c.dataToCoord(n,!0));if(v&&v!=="none"){var m=KD(a),b=fmt[v](c,y,g);b.style=m,e.graphicKey=b.type,e.pointer=b}var S=K0(h.getRect(),i);I7(n,e,S,i,a,o)},t.prototype.getHandleTransform=function(e,n,i){var a=K0(n.axis.grid.getRect(),n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=JD(n.axis,e,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,i,a){var o=i.axis,c=o.grid,h=o.getGlobalExtent(!0),v=eG(c,o).getOtherAxis(o).getGlobalExtent(),g=o.dim==="x"?0:1,y=[e.x,e.y];y[g]+=n[g],y[g]=Math.min(h[1],y[g]),y[g]=Math.max(h[0],y[g]);var m=(v[1]+v[0])/2,b=[m,m];b[g]=y[g];var S=[{verticalAlign:"middle"},{align:"center"}];return{x:y[0],y:y[1],rotation:e.rotation,cursorPoint:b,tooltipOption:S[g]}},t})(ZD);function eG(r,t){var e={};return e[t.dim+"AxisIndex"]=t.index,r.getCartesian(e)}var fmt={line:function(r,t,e){var n=QD([t,e[0]],[t,e[1]],rG(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,t,e){var n=Math.max(1,r.getBandWidth()),i=e[1]-e[0];return{type:"Rect",shape:O7([t-n/2,e[0]],[n,i],rG(r))}}};function rG(r){return r.dim==="x"?0:1}var hmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:yt.color.border,width:1,type:"dashed"},shadowStyle:{color:yt.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:yt.color.neutral00,padding:[5,7,5,7],backgroundColor:yt.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:yt.color.accent40,throttle:40}},t})(Ce),cs=Ee(),pmt=j;function P7(r,t,e){if(!De.node){var n=t.getZr();cs(n).records||(cs(n).records={}),dmt(n,t);var i=cs(n).records[r]||(cs(n).records[r]={});i.handler=e}}function dmt(r,t){if(cs(r).initialized)return;cs(r).initialized=!0,e("click",ve(nG,"click")),e("mousemove",ve(nG,"mousemove")),e("globalout",gmt);function e(n,i){r.on(n,function(a){var o=ymt(t);pmt(cs(r).records,function(c){c&&i(c,a,o.dispatchAction)}),vmt(o.pendings,t)})}}function vmt(r,t){var e=r.showTip.length,n=r.hideTip.length,i;e?i=r.showTip[e-1]:n&&(i=r.hideTip[n-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function gmt(r,t,e){r.handler("leave",null,e)}function nG(r,t,e,n){t.handler(r,e,n)}function ymt(r){var t={showTip:[],hideTip:[]},e=function(n){var i=t[n.type];i?i.push(n):(n.dispatchAction=e,r.dispatchAction(n))};return{dispatchAction:e,pendings:t}}function cC(r,t){if(!De.node){var e=t.getZr(),n=(cs(e).records||{})[r];n&&(cs(e).records[r]=null)}}var mmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=n.getComponent("tooltip"),o=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";P7("axisPointer",i,function(c,h,v){o!=="none"&&(c==="leave"||o.indexOf(c)>=0)&&v({type:"updateAxisPointer",currTrigger:c,x:h&&h.offsetX,y:h&&h.offsetY})})},t.prototype.remove=function(e,n){cC("axisPointer",n)},t.prototype.dispose=function(e,n){cC("axisPointer",n)},t.type="axisPointer",t})(vr);function k7(r,t){var e=[],n=r.seriesIndex,i;if(n==null||!(i=t.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),o=Sc(a,r);if(o==null||o<0||Rt(o))return{point:[]};var c=a.getItemGraphicEl(o),h=i.coordinateSystem;if(i.getTooltipPosition)e=i.getTooltipPosition(o)||[];else if(h&&h.dataToPoint)if(r.isStacked){var v=h.getBaseAxis(),g=h.getOtherAxis(v),y=g.dim,m=v.dim,b=y==="x"||y==="radius"?1:0,S=a.mapDimension(m),E=[];E[b]=a.get(S,o),E[1-b]=a.get(a.getCalculationInfo("stackResultDimension"),o),e=h.dataToPoint(E)||[]}else e=h.dataToPoint(a.getValues(Pt(h.dimensions,function(A){return a.mapDimension(A)}),o))||[];else if(c){var C=c.getBoundingRect().clone();C.applyTransform(c.transform),e=[C.x+C.width/2,C.y+C.height/2]}return{point:e,el:c}}var iG=Ee();function _mt(r,t,e){var n=r.currTrigger,i=[r.x,r.y],a=r,o=r.dispatchAction||qt(e.dispatchAction,e),c=t.getComponent("axisPointer").coordSysAxesInfo;if(c){r0(i)&&(i=k7({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var h=r0(i),v=a.axesInfo,g=c.axesInfo,y=n==="leave"||r0(i),m={},b={},S={list:[],map:{}},E={showPointer:ve(Smt,b),showTooltip:ve(wmt,S)};j(c.coordSysMap,function(A,D){var L=h||A.containPoint(i);j(c.coordSysAxesInfo[D],function(R,O){var P=R.axis,V=Cmt(v,R);if(!y&&L&&(!v||V)){var k=V&&V.value;k==null&&!h&&(k=P.pointToData(i)),k!=null&&aG(R,k,E,!1,m)}})});var C={};return j(g,function(A,D){var L=A.linkGroup;L&&!b[D]&&j(L.axesInfo,function(R,O){var P=b[O];if(R!==A&&P){var V=P.value;L.mapper&&(V=A.axis.scale.parse(L.mapper(V,oG(R),oG(A)))),C[A.key]=V}})}),j(C,function(A,D){aG(g[D],A,E,!0,m)}),xmt(b,g,m),Emt(S,i,r,o),Tmt(g,o,e),m}}function aG(r,t,e,n,i){var a=r.axis;if(!(a.scale.isBlank()||!a.containData(t))){if(!r.involveSeries){e.showPointer(r,t);return}var o=bmt(t,r),c=o.payloadBatch,h=o.snapToValue;c[0]&&i.seriesIndex==null&&Mt(i,c[0]),!n&&r.snap&&a.containData(h)&&h!=null&&(t=h),e.showPointer(r,t,c),e.showTooltip(r,o,h)}}function bmt(r,t){var e=t.axis,n=e.dim,i=r,a=[],o=Number.MAX_VALUE,c=-1;return j(t.seriesModels,function(h,v){var g=h.getData().mapDimensionsAll(n),y,m;if(h.getAxisTooltipData){var b=h.getAxisTooltipData(g,r,e);m=b.dataIndices,y=b.nestestValue}else{if(m=h.indicesOfNearest(n,g[0],r,e.type==="category"?.5:null),!m.length)return;y=h.getData().get(g[0],m[0])}if(!(y==null||!isFinite(y))){var S=r-y,E=Math.abs(S);E<=o&&((E<o||S>=0&&c<0)&&(o=E,c=S,i=y,a.length=0),j(m,function(C){a.push({seriesIndex:h.seriesIndex,dataIndexInside:C,dataIndex:h.getData().getRawIndex(C)})}))}}),{payloadBatch:a,snapToValue:i}}function Smt(r,t,e,n){r[t.key]={value:e,payloadBatch:n}}function wmt(r,t,e,n){var i=e.payloadBatch,a=t.axis,o=a.model,c=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var h=t.coordSys.model,v=xv(h),g=r.map[v];g||(g=r.map[v]={coordSysId:h.id,coordSysIndex:h.componentIndex,coordSysType:h.type,coordSysMainType:h.mainType,dataByAxis:[]},r.list.push(g)),g.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:c.get(["label","precision"]),formatter:c.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function xmt(r,t,e){var n=e.axesInfo=[];j(t,function(i,a){var o=i.axisPointerModel.option,c=r[a];c?(!i.useHandle&&(o.status="show"),o.value=c.value,o.seriesDataIndices=(c.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function Emt(r,t,e,n){if(r0(t)||!r.list.length){n({type:"hideTip"});return}var i=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:r.list})}function Tmt(r,t,e){var n=e.getZr(),i="axisPointerLastHighlights",a=iG(n)[i]||{},o=iG(n)[i]={};j(r,function(v,g){var y=v.axisPointerModel.option;y.status==="show"&&v.triggerEmphasis&&j(y.seriesDataIndices,function(m){var b=m.seriesIndex+" | "+m.dataIndex;o[b]=m})});var c=[],h=[];j(a,function(v,g){!o[g]&&h.push(v)}),j(o,function(v,g){!a[g]&&c.push(v)}),h.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:h}),c.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:c})}function Cmt(r,t){for(var e=0;e<(r||[]).length;e++){var n=r[e];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function oG(r){var t=r.axis.model,e={},n=e.axisDim=r.axis.dim;return e.axisIndex=e[n+"AxisIndex"]=t.componentIndex,e.axisName=e[n+"AxisName"]=t.name,e.axisId=e[n+"AxisId"]=t.id,e}function r0(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function Kv(r){Gc.registerAxisPointerClass("CartesianAxisPointer",cmt),r.registerComponentModel(hmt),r.registerComponentView(mmt),r.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Rt(e)&&(t.axisPointer.link=[e])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Aft(t,e)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},_mt)}function Amt(r){be(o8),be(Kv)}var Dmt=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,o){var c=i.axis;c.dim==="angle"&&(this.animationThreshold=Math.PI/18);var h=c.polar,v=h.getOtherAxis(c),g=v.getExtent(),y=c.dataToCoord(n),m=a.get("type");if(m&&m!=="none"){var b=KD(a),S=Lmt[m](c,h,y,g);S.style=b,e.graphicKey=S.type,e.pointer=S}var E=a.get(["label","margin"]),C=Mmt(n,i,a,h,E);N7(e,i,a,o,C)},t})(ZD);function Mmt(r,t,e,n,i){var a=t.axis,o=a.dataToCoord(r),c=n.getAngleAxis().getExtent()[0];c=c/180*Math.PI;var h=n.getRadiusAxis().getExtent(),v,g,y;if(a.dim==="radius"){var m=wn();kl(m,m,c),Oo(m,m,[n.cx,n.cy]),v=Oa([o,-i],m);var b=t.getModel("axisLabel").get("rotate")||0,S=hi.innerTextLayout(c,b*Math.PI/180,-1);g=S.textAlign,y=S.textVerticalAlign}else{var E=h[1];v=n.coordToPoint([E+i,o]);var C=n.cx,A=n.cy;g=Math.abs(v[0]-C)/E<.3?"center":v[0]>C?"left":"right",y=Math.abs(v[1]-A)/E<.3?"middle":v[1]>A?"top":"bottom"}return{position:v,align:g,verticalAlign:y}}var Lmt={line:function(r,t,e,n){return r.dim==="angle"?{type:"Line",shape:QD(t.coordToPoint([n[0],e]),t.coordToPoint([n[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(r,t,e,n){var i=Math.max(1,r.getBandWidth()),a=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:tG(t.cx,t.cy,n[0],n[1],(-e-i/2)*a,(-e+i/2)*a)}:{type:"Sector",shape:tG(t.cx,t.cy,e-i/2,e+i/2,0,Math.PI*2)}}},Nmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.findAxisModel=function(e){var n,i=this.ecModel;return i.eachComponent(e,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t})(Ce),tM=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Ar).models[0]},t.type="polarAxis",t})(Ce);Jr(tM,jv);var Rmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="angleAxis",t})(tM),Imt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="radiusAxis",t})(tM),eM=(function(r){bt(t,r);function t(e,n){return r.call(this,"radius",e,n)||this}return t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t})(za);eM.prototype.dataToRadius=za.prototype.dataToCoord;eM.prototype.radiusToData=za.prototype.coordToData;var Omt=Ee(),rM=(function(r){bt(t,r);function t(e,n){return r.call(this,"angle",e,n||[0,360])||this}return t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,n=e.getLabelModel(),i=e.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var c=a[0],h=e.dataToCoord(c+1)-e.dataToCoord(c),v=Math.abs(h),g=O_(c==null?"":c+"",n.getFont(),"center","top"),y=Math.max(g.height,7),m=y/v;isNaN(m)&&(m=1/0);var b=Math.max(0,Math.floor(m)),S=Omt(e.model),E=S.lastAutoInterval,C=S.lastTickCount;return E!=null&&C!=null&&Math.abs(E-b)<=1&&Math.abs(C-o)<=1&&E>b?b=E:(S.lastTickCount=o,S.lastAutoInterval=b),b},t})(za);rM.prototype.dataToAngle=za.prototype.dataToCoord;rM.prototype.angleToData=za.prototype.coordToData;var V7=["radius","angle"],Pmt=(function(){function r(t){this.dimensions=V7,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new eM,this._angleAxis=new rM,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},r.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},r.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},r.prototype.dataToPoint=function(t,e,n){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)],n)},r.prototype.pointToData=function(t,e,n){n=n||[];var i=this.pointToCoord(t);return n[0]=this._radiusAxis.radiusToData(i[0],e),n[1]=this._angleAxis.angleToData(i[1],e),n},r.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),o=Math.min(a[0],a[1]),c=Math.max(a[0],a[1]);i.inverse?o=c-360:c=o+360;var h=Math.sqrt(e*e+n*n);e/=h,n/=h;for(var v=Math.atan2(-n,e)/Math.PI*180,g=v<o?1:-1;v<o||v>c;)v+=g*360;return[h,v]},r.prototype.coordToPoint=function(t,e){e=e||[];var n=t[0],i=t[1]/180*Math.PI;return e[0]=Math.cos(i)*n+this.cx,e[1]=-Math.sin(i)*n+this.cy,e},r.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),n=e.getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),a=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(c,h){var v=c-this.cx,g=h-this.cy,y=v*v+g*g,m=this.r,b=this.r0;return m!==b&&y-o<=m*m&&y+o>=b*b},x:this.cx-n[1],y:this.cy-n[1],width:n[1]*2,height:n[1]*2}},r.prototype.convertToPixel=function(t,e,n){var i=sG(e);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=sG(e);return i===this?this.pointToData(n):null},r})();function sG(r){var t=r.seriesModel,e=r.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function kmt(r,t,e){var n=t.get("center"),i=sn(t,e).refContainer;r.cx=Yt(n[0],i.width)+i.x,r.cy=Yt(n[1],i.height)+i.y;var a=r.getRadiusAxis(),o=Math.min(i.width,i.height)/2,c=t.get("radius");c==null?c=[0,"100%"]:Rt(c)||(c=[0,c]);var h=[Yt(c[0],o),Yt(c[1],o)];a.inverse?a.setExtent(h[1],h[0]):a.setExtent(h[0],h[1])}function Vmt(r,t){var e=this,n=e.getAngleAxis(),i=e.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),r.eachSeries(function(c){if(c.coordinateSystem===e){var h=c.getData();j(z0(h,"radius"),function(v){i.scale.unionExtentFromData(h,v)}),j(z0(h,"angle"),function(v){n.scale.unionExtentFromData(h,v)})}}),Th(n.scale,n.model),Th(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),o=360/n.scale.count();n.inverse?a[1]+=o:a[1]-=o,n.setExtent(a[0],a[1])}}function Gmt(r){return r.mainType==="angleAxis"}function lG(r,t){var e;if(r.type=t.get("type"),r.scale=rb(t),r.onBand=t.get("boundaryGap")&&r.type==="category",r.inverse=t.get("inverse"),Gmt(t)){r.inverse=r.inverse!==t.get("clockwise");var n=t.get("startAngle"),i=(e=t.get("endAngle"))!==null&&e!==void 0?e:n+(r.inverse?-360:360);r.setExtent(n,i)}t.axis=r,r.model=t}var Fmt={dimensions:V7,create:function(r,t){var e=[];return r.eachComponent("polar",function(n,i){var a=new Pmt(i+"");a.update=Vmt;var o=a.getRadiusAxis(),c=a.getAngleAxis(),h=n.findAxisModel("radiusAxis"),v=n.findAxisModel("angleAxis");lG(o,h),lG(c,v),kmt(a,n,t),e.push(a),n.coordinateSystem=a,a.model=n}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",Ar).models[0];n.coordinateSystem=i.coordinateSystem}}),e}},Bmt=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function bm(r,t,e){t[1]>t[0]&&(t=t.slice().reverse());var n=r.coordToPoint([t[0],e]),i=r.coordToPoint([t[1],e]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function Sm(r){var t=r.getRadiusAxis();return t.inverse?0:1}function uG(r){var t=r[0],e=r[r.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&r.pop()}var Hmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,n){if(this.group.removeAll(),!!e.get("show")){var i=e.axis,a=i.polar,o=a.getRadiusAxis().getExtent(),c=i.getTicksCoords({breakTicks:"none"}),h=i.getMinorTicksCoords(),v=Pt(i.getViewLabels(),function(g){g=ie(g);var y=i.scale,m=y.type==="ordinal"?y.getRawOrdinalNumber(g.tickValue):g.tickValue;return g.coord=i.dataToCoord(m),g});uG(v),uG(c),j(Bmt,function(g){e.get([g,"show"])&&(!i.scale.isBlank()||g==="axisLine")&&zmt[g](this.group,e,a,c,h,o,v)},this)}},t.type="angleAxis",t})(Gc),zmt={axisLine:function(r,t,e,n,i,a){var o=t.getModel(["axisLine","lineStyle"]),c=e.getAngleAxis(),h=Math.PI/180,v=c.getExtent(),g=Sm(e),y=g?0:1,m,b=Math.abs(v[1]-v[0])===360?"Circle":"Arc";a[y]===0?m=new Ic[b]({shape:{cx:e.cx,cy:e.cy,r:a[g],startAngle:-v[0]*h,endAngle:-v[1]*h,clockwise:c.inverse},style:o.getLineStyle(),z2:1,silent:!0}):m=new kv({shape:{cx:e.cx,cy:e.cy,r:a[g],r0:a[y]},style:o.getLineStyle(),z2:1,silent:!0}),m.style.fill=null,r.add(m)},axisTick:function(r,t,e,n,i,a){var o=t.getModel("axisTick"),c=(o.get("inside")?-1:1)*o.get("length"),h=a[Sm(e)],v=Pt(n,function(g){return new $r({shape:bm(e,[h,h+c],g.coord)})});r.add(sa(v,{style:se(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,t,e,n,i,a){if(i.length){for(var o=t.getModel("axisTick"),c=t.getModel("minorTick"),h=(o.get("inside")?-1:1)*c.get("length"),v=a[Sm(e)],g=[],y=0;y<i.length;y++)for(var m=0;m<i[y].length;m++)g.push(new $r({shape:bm(e,[v,v+h],i[y][m].coord)}));r.add(sa(g,{style:se(c.getModel("lineStyle").getLineStyle(),se(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,t,e,n,i,a,o){var c=t.getCategories(!0),h=t.getModel("axisLabel"),v=h.get("margin"),g=t.get("triggerEvent");j(o,function(y,m){var b=h,S=y.tickValue,E=a[Sm(e)],C=e.coordToPoint([E+v,y.coord]),A=e.cx,D=e.cy,L=Math.abs(C[0]-A)/E<.3?"center":C[0]>A?"left":"right",R=Math.abs(C[1]-D)/E<.3?"middle":C[1]>D?"top":"bottom";if(c&&c[S]){var O=c[S];le(O)&&O.textStyle&&(b=new Me(O.textStyle,h,h.ecModel))}var P=new ke({silent:hi.isLabelSilent(t),style:or(b,{x:C[0],y:C[1],fill:b.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:y.formattedLabel,align:L,verticalAlign:R})});if(r.add(P),Ms({el:P,componentModel:t,itemName:y.formattedLabel,formatterParamsExtra:{isTruncated:function(){return P.isTruncated},value:y.rawLabel,tickIndex:m}}),g){var V=hi.makeAxisEventDataBase(t);V.targetType="axisLabel",V.value=y.rawLabel,fe(P).eventData=V}},this)},splitLine:function(r,t,e,n,i,a){var o=t.getModel("splitLine"),c=o.getModel("lineStyle"),h=c.get("color"),v=0;h=h instanceof Array?h:[h];for(var g=[],y=0;y<n.length;y++){var m=v++%h.length;g[m]=g[m]||[],g[m].push(new $r({shape:bm(e,a,n[y].coord)}))}for(var y=0;y<g.length;y++)r.add(sa(g[y],{style:se({stroke:h[y%h.length]},c.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(r,t,e,n,i,a){if(i.length){for(var o=t.getModel("minorSplitLine"),c=o.getModel("lineStyle"),h=[],v=0;v<i.length;v++)for(var g=0;g<i[v].length;g++)h.push(new $r({shape:bm(e,a,i[v][g].coord)}));r.add(sa(h,{style:c.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(r,t,e,n,i,a){if(n.length){var o=t.getModel("splitArea"),c=o.getModel("areaStyle"),h=c.get("color"),v=0;h=h instanceof Array?h:[h];for(var g=[],y=Math.PI/180,m=-n[0].coord*y,b=Math.min(a[0],a[1]),S=Math.max(a[0],a[1]),E=t.get("clockwise"),C=1,A=n.length;C<=A;C++){var D=C===A?n[0].coord:n[C].coord,L=v++%h.length;g[L]=g[L]||[],g[L].push(new Xn({shape:{cx:e.cx,cy:e.cy,r0:b,r:S,startAngle:m,endAngle:-D*y,clockwise:E},silent:!0})),m=-D*y}for(var C=0;C<g.length;C++)r.add(sa(g[C],{style:se({fill:h[C%h.length]},c.getAreaStyle()),silent:!0}))}}},Umt=["splitLine","splitArea","minorSplitLine"],Wmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,n,i){if(this.group.removeAll(),!!e.get("show")){var a=this._axisGroup,o=this._axisGroup=new ne;this.group.add(o);var c=e.axis,h=c.polar,v=h.getAngleAxis(),g=c.getTicksCoords(),y=c.getMinorTicksCoords(),m=v.getExtent()[0],b=c.getExtent(),S=Ymt(h,e,m),E=new hi(e,i,S);E.build(),o.add(E.group),Gv(a,o,e),j(Umt,function(C){e.get([C,"show"])&&!c.scale.isBlank()&&jmt[C](this.group,e,h,m,b,g,y)},this)}},t.type="radiusAxis",t})(Gc),jmt={splitLine:function(r,t,e,n,i,a){var o=t.getModel("splitLine"),c=o.getModel("lineStyle"),h=c.get("color"),v=0,g=e.getAngleAxis(),y=Math.PI/180,m=g.getExtent(),b=Math.abs(m[1]-m[0])===360?"Circle":"Arc";h=h instanceof Array?h:[h];for(var S=[],E=0;E<a.length;E++){var C=v++%h.length;S[C]=S[C]||[],S[C].push(new Ic[b]({shape:{cx:e.cx,cy:e.cy,r:Math.max(a[E].coord,0),startAngle:-m[0]*y,endAngle:-m[1]*y,clockwise:g.inverse}}))}for(var E=0;E<S.length;E++)r.add(sa(S[E],{style:se({stroke:h[E%h.length],fill:null},c.getLineStyle()),silent:!0}))},minorSplitLine:function(r,t,e,n,i,a,o){if(o.length){for(var c=t.getModel("minorSplitLine"),h=c.getModel("lineStyle"),v=[],g=0;g<o.length;g++)for(var y=0;y<o[g].length;y++)v.push(new Ds({shape:{cx:e.cx,cy:e.cy,r:o[g][y].coord}}));r.add(sa(v,{style:se({fill:null},h.getLineStyle()),silent:!0}))}},splitArea:function(r,t,e,n,i,a){if(a.length){var o=t.getModel("splitArea"),c=o.getModel("areaStyle"),h=c.get("color"),v=0;h=h instanceof Array?h:[h];for(var g=[],y=a[0].coord,m=1;m<a.length;m++){var b=v++%h.length;g[b]=g[b]||[],g[b].push(new Xn({shape:{cx:e.cx,cy:e.cy,r0:y,r:a[m].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=a[m].coord}for(var m=0;m<g.length;m++)r.add(sa(g[m],{style:se({fill:h[m%h.length]},c.getAreaStyle()),silent:!0}))}}};function Ymt(r,t,e){return{position:[r.cx,r.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function G7(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function F7(r,t){return t.dim+r.model.componentIndex}function $mt(r,t,e){var n={},i=qmt(Ye(t.getSeriesByType(r),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));t.eachSeriesByType(r,function(a){if(a.coordinateSystem.type==="polar"){var o=a.getData(),c=a.coordinateSystem,h=c.getBaseAxis(),v=F7(c,h),g=G7(a),y=i[v][g],m=y.offset,b=y.width,S=c.getOtherAxis(h),E=a.coordinateSystem.cx,C=a.coordinateSystem.cy,A=a.get("barMinHeight")||0,D=a.get("barMinAngle")||0;n[g]=n[g]||[];for(var L=o.mapDimension(S.dim),R=o.mapDimension(h.dim),O=Ll(o,L),P=h.dim!=="radius"||!a.get("roundCap",!0),V=S.model,k=V.get("startValue"),F=S.dataToCoord(k||0),H=0,W=o.count();H<W;H++){var q=o.get(L,H),Y=o.get(R,H),K=q>=0?"p":"n",X=F;O&&(n[g][Y]||(n[g][Y]={p:F,n:F}),X=n[g][Y][K]);var J=void 0,it=void 0,rt=void 0,st=void 0;if(S.dim==="radius"){var lt=S.dataToCoord(q)-F,dt=h.dataToCoord(Y);Math.abs(lt)<A&&(lt=(lt<0?-1:1)*A),J=X,it=X+lt,rt=dt-m,st=rt-b,O&&(n[g][Y][K]=it)}else{var pt=S.dataToCoord(q,P)-F,Tt=h.dataToCoord(Y);Math.abs(pt)<D&&(pt=(pt<0?-1:1)*D),J=Tt+m,it=J+b,rt=X,st=X+pt,O&&(n[g][Y][K]=st)}o.setItemLayout(H,{cx:E,cy:C,r0:J,r:it,startAngle:-rt*Math.PI/180,endAngle:-st*Math.PI/180,clockwise:rt>=st})}}})}function qmt(r){var t={};j(r,function(n,i){var a=n.getData(),o=n.coordinateSystem,c=o.getBaseAxis(),h=F7(o,c),v=c.getExtent(),g=c.type==="category"?c.getBandWidth():Math.abs(v[1]-v[0])/a.count(),y=t[h]||{bandWidth:g,remainedWidth:g,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},m=y.stacks;t[h]=y;var b=G7(n);m[b]||y.autoWidthCount++,m[b]=m[b]||{width:0,maxWidth:0};var S=Yt(n.get("barWidth"),g),E=Yt(n.get("barMaxWidth"),g),C=n.get("barGap"),A=n.get("barCategoryGap");S&&!m[b].width&&(S=Math.min(y.remainedWidth,S),m[b].width=S,y.remainedWidth-=S),E&&(m[b].maxWidth=E),C!=null&&(y.gap=C),A!=null&&(y.categoryGap=A)});var e={};return j(t,function(n,i){e[i]={};var a=n.stacks,o=n.bandWidth,c=Yt(n.categoryGap,o),h=Yt(n.gap,1),v=n.remainedWidth,g=n.autoWidthCount,y=(v-c)/(g+(g-1)*h);y=Math.max(y,0),j(a,function(E,C){var A=E.maxWidth;A&&A<y&&(A=Math.min(A,v),E.width&&(A=Math.min(A,E.width)),v-=A,E.width=A,g--)}),y=(v-c)/(g+(g-1)*h),y=Math.max(y,0);var m=0,b;j(a,function(E,C){E.width||(E.width=y),b=E,m+=E.width*(1+h)}),b&&(m-=b.width*h);var S=-m/2;j(a,function(E,C){e[i][C]=e[i][C]||{offset:S,width:E.width},S+=E.width*(1+h)})}),e}var Xmt={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Zmt={splitNumber:5},Kmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="polar",t})(vr);function Jmt(r){be(Kv),Gc.registerAxisPointerClass("PolarAxisPointer",Dmt),r.registerCoordinateSystem("polar",Fmt),r.registerComponentModel(Nmt),r.registerComponentView(Kmt),Dh(r,"angle",Rmt,Xmt),Dh(r,"radius",Imt,Zmt),r.registerComponentView(Hmt),r.registerComponentView(Wmt),r.registerLayout(ve($mt,"bar"))}function fC(r,t){t=t||{};var e=r.coordinateSystem,n=r.axis,i={},a=n.position,o=n.orient,c=e.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],v={horizontal:{top:h[2],bottom:h[3]},vertical:{left:h[0],right:h[1]}};i.position=[o==="vertical"?v.vertical[a]:h[0],o==="horizontal"?v.horizontal[a]:h[3]];var g={horizontal:0,vertical:1};i.rotation=Math.PI/2*g[o];var y={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=y[a],r.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),On(t.labelInside,r.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var m=r.get(["axisLabel","rotate"]);return i.labelRotate=a==="top"?-m:m,i.z2=1,i}var Qmt=["splitArea","splitLine","breakArea"],t0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return t.prototype.render=function(e,n,i,a){var o=this.group;o.removeAll();var c=this._axisGroup;this._axisGroup=new ne;var h=fC(e),v=new hi(e,i,h);v.build(),o.add(this._axisGroup),o.add(v.group),j(Qmt,function(g){e.get([g,"show"])&&e0t[g](this,this.group,this._axisGroup,e,i)},this),Gv(c,this._axisGroup,e),r.prototype.render.call(this,e,n,i,a)},t.prototype.remove=function(){n8(this)},t.type="singleAxis",t})(Gc),e0t={splitLine:function(r,t,e,n,i){var a=n.axis;if(!a.scale.isBlank()){var o=n.getModel("splitLine"),c=o.getModel("lineStyle"),h=c.get("color");h=h instanceof Array?h:[h];for(var v=c.get("width"),g=n.coordinateSystem.getRect(),y=a.isHorizontal(),m=[],b=0,S=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),E=[],C=[],A=0;A<S.length;++A){var D=a.toGlobalCoord(S[A].coord);y?(E[0]=D,E[1]=g.y,C[0]=D,C[1]=g.y+g.height):(E[0]=g.x,E[1]=D,C[0]=g.x+g.width,C[1]=D);var L=new $r({shape:{x1:E[0],y1:E[1],x2:C[0],y2:C[1]},silent:!0});Sh(L.shape,v);var R=b++%h.length;m[R]=m[R]||[],m[R].push(L)}for(var O=c.getLineStyle(["color"]),A=0;A<m.length;++A)t.add(sa(m[A],{style:se({stroke:h[A%h.length]},O),silent:!0}))}},splitArea:function(r,t,e,n,i){r8(r,e,n,n)},breakArea:function(r,t,e,n,i){var a=Zv(),o=n.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(t,r,n,n.coordinateSystem.getRect(),i)}},n0=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},t})(Ce);Jr(n0,jv.prototype);var r0t=(function(r){bt(t,r);function t(e,n,i,a,o){var c=r.call(this,e,n,i)||this;return c.type=a||"value",c.position=o||"bottom",c}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.pointToData=function(e,n){return this.coordinateSystem.pointToData(e)[0]},t})(za),B7=["single"],n0t=(function(){function r(t,e,n){this.type="single",this.dimension="single",this.dimensions=B7,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return r.prototype._init=function(t,e,n){var i=this.dimension,a=new r0t(i,rb(t),[0,0],t.get("type"),t.get("position")),o=a.type==="category";a.onBand=o&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},r.prototype.update=function(t,e){t.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();j(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),Th(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(t,e){var n=sn(t,e).refContainer;this._rect=mr(t.getBoxLayoutParams(),n),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],a=e.inverse?1:0;e.setExtent(i[a],i[1-a]),this._updateAxisTransform(e,n?t.x:t.y)},r.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),i=n[0]+n[1],a=t.isHorizontal();t.toGlobalCoord=a?function(o){return o+e}:function(o){return i-o+e},t.toLocalCoord=a?function(o){return o-e}:function(o){return i-o+e}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},r.prototype.pointToData=function(t,e,n){n=n||[];var i=this.getAxis();return n[0]=i.coordToData(i.toLocalCoord(t[i.orient==="horizontal"?0:1])),n},r.prototype.dataToPoint=function(t,e,n){var i=this.getAxis(),a=this.getRect();n=n||[];var o=i.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),n[o]=i.toGlobalCoord(i.dataToCoord(+t)),n[1-o]=o===0?a.y+a.height/2:a.x+a.width/2,n},r.prototype.convertToPixel=function(t,e,n){var i=cG(e);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=cG(e);return i===this?this.pointToData(n):null},r})();function cG(r){var t=r.seriesModel,e=r.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function i0t(r,t){var e=[];return r.eachComponent("singleAxis",function(n,i){var a=new n0t(n,r,t);a.name="single_"+i,a.resize(n,t),n.coordinateSystem=a,e.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",Ar).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),e}var a0t={create:i0t,dimensions:B7},fG=["x","y"],o0t=["width","height"],s0t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,o){var c=i.axis,h=c.coordinateSystem,v=Gx(h,1-s_(c)),g=h.dataToPoint(n)[0],y=a.get("type");if(y&&y!=="none"){var m=KD(a),b=l0t[y](c,g,v);b.style=m,e.graphicKey=b.type,e.pointer=b}var S=fC(i);I7(n,e,S,i,a,o)},t.prototype.getHandleTransform=function(e,n,i){var a=fC(n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=JD(n.axis,e,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,i,a){var o=i.axis,c=o.coordinateSystem,h=s_(o),v=Gx(c,h),g=[e.x,e.y];g[h]+=n[h],g[h]=Math.min(v[1],g[h]),g[h]=Math.max(v[0],g[h]);var y=Gx(c,1-h),m=(y[1]+y[0])/2,b=[m,m];return b[h]=g[h],{x:g[0],y:g[1],rotation:e.rotation,cursorPoint:b,tooltipOption:{verticalAlign:"middle"}}},t})(ZD),l0t={line:function(r,t,e){var n=QD([t,e[0]],[t,e[1]],s_(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,t,e){var n=r.getBandWidth(),i=e[1]-e[0];return{type:"Rect",shape:O7([t-n/2,e[0]],[n,i],s_(r))}}};function s_(r){return r.isHorizontal()?0:1}function Gx(r,t){var e=r.getRect();return[e[fG[t]],e[fG[t]]+e[o0t[t]]]}var u0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="single",t})(vr);function c0t(r){be(Kv),Gc.registerAxisPointerClass("SingleAxisPointer",s0t),r.registerComponentView(u0t),r.registerComponentView(t0t),r.registerComponentModel(n0),Dh(r,"single",n0,n0.defaultOption),r.registerCoordinateSystem("single",a0t)}var f0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n,i){var a=Oc(e);r.prototype.init.apply(this,arguments),hG(e,a)},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),hG(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.layoutMode="box",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:yt.color.axisLine,width:1,type:"solid"}},itemStyle:{color:yt.color.neutral00,borderWidth:1,borderColor:yt.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:yt.size.s,color:yt.color.secondary},monthLabel:{show:!0,position:"start",margin:yt.size.s,align:"center",formatter:null,color:yt.color.secondary},yearLabel:{show:!0,position:null,margin:yt.size.xl,formatter:null,color:yt.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t})(Ce);function hG(r,t){var e=r.cellSize,n;Rt(e)?n=e:n=r.cellSize=[e,e],n.length===1&&(n[1]=n[0]);var i=Pt([0,1],function(a){return Zit(t,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});Vo(r,t,{type:"box",ignoreSize:i})}var h0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group;a.removeAll();var o=e.coordinateSystem,c=o.getRangeInfo(),h=o.getOrient(),v=n.getLocaleModel();this._renderDayRect(e,c,a),this._renderLines(e,c,h,a),this._renderYearText(e,c,h,a),this._renderMonthText(e,v,h,a),this._renderWeekText(e,v,c,h,a)},t.prototype._renderDayRect=function(e,n,i){for(var a=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),c=a.getCellWidth(),h=a.getCellHeight(),v=n.start.time;v<=n.end.time;v=a.getNextNDay(v,1).time){var g=a.dataToCalendarLayout([v],!1).tl,y=new xe({shape:{x:g[0],y:g[1],width:c,height:h},cursor:"default",style:o});i.add(y)}},t.prototype._renderLines=function(e,n,i,a){var o=this,c=e.coordinateSystem,h=e.getModel(["splitLine","lineStyle"]).getLineStyle(),v=e.get(["splitLine","show"]),g=h.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var y=n.start,m=0;y.time<=n.end.time;m++){S(y.formatedDate),m===0&&(y=c.getDateInfo(n.start.y+"-"+n.start.m));var b=y.date;b.setMonth(b.getMonth()+1),y=c.getDateInfo(b)}S(c.getNextNDay(n.end.time,1).formatedDate);function S(E){o._firstDayOfMonth.push(c.getDateInfo(E)),o._firstDayPoints.push(c.dataToCalendarLayout([E],!1).tl);var C=o._getLinePointsOfOneWeek(e,E,i);o._tlpoints.push(C[0]),o._blpoints.push(C[C.length-1]),v&&o._drawSplitline(C,h,a)}v&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,g,i),h,a),v&&this._drawSplitline(o._getEdgesPoints(o._blpoints,g,i),h,a)},t.prototype._getEdgesPoints=function(e,n,i){var a=[e[0].slice(),e[e.length-1].slice()],o=i==="horizontal"?0:1;return a[0][o]=a[0][o]-n/2,a[1][o]=a[1][o]+n/2,a},t.prototype._drawSplitline=function(e,n,i){var a=new Pn({z2:20,shape:{points:e},style:n});i.add(a)},t.prototype._getLinePointsOfOneWeek=function(e,n,i){for(var a=e.coordinateSystem,o=a.getDateInfo(n),c=[],h=0;h<7;h++){var v=a.getNextNDay(o.time,h),g=a.dataToCalendarLayout([v.time],!1);c[2*v.day]=g.tl,c[2*v.day+1]=g[i==="horizontal"?"bl":"tr"]}return c},t.prototype._formatterLabel=function(e,n){return $t(e)&&e?Wit(e,n):re(e)?e(n):n.nameMap},t.prototype._yearTextPositionControl=function(e,n,i,a,o){var c=n[0],h=n[1],v=["center","bottom"];a==="bottom"?(h+=o,v=["center","top"]):a==="left"?c-=o:a==="right"?(c+=o,v=["center","top"]):h-=o;var g=0;return(a==="left"||a==="right")&&(g=Math.PI/2),{rotation:g,x:c,y:h,style:{align:v[0],verticalAlign:v[1]}}},t.prototype._renderYearText=function(e,n,i,a){var o=e.getModel("yearLabel");if(o.get("show")){var c=o.get("margin"),h=o.get("position");h||(h=i!=="horizontal"?"top":"left");var v=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(v[0][0]+v[1][0])/2,y=(v[0][1]+v[1][1])/2,m=i==="horizontal"?0:1,b={top:[g,v[m][1]],bottom:[g,v[1-m][1]],left:[v[1-m][0],y],right:[v[m][0],y]},S=n.start.y;+n.end.y>+n.start.y&&(S=S+"-"+n.end.y);var E=o.get("formatter"),C={start:n.start.y,end:n.end.y,nameMap:S},A=this._formatterLabel(E,C),D=new ke({z2:30,style:or(o,{text:A}),silent:o.get("silent")});D.attr(this._yearTextPositionControl(D,b[h],i,h,c)),a.add(D)}},t.prototype._monthTextPositionControl=function(e,n,i,a,o){var c="left",h="top",v=e[0],g=e[1];return i==="horizontal"?(g=g+o,n&&(c="center"),a==="start"&&(h="bottom")):(v=v+o,n&&(h="middle"),a==="start"&&(c="right")),{x:v,y:g,align:c,verticalAlign:h}},t.prototype._renderMonthText=function(e,n,i,a){var o=e.getModel("monthLabel");if(o.get("show")){var c=o.get("nameMap"),h=o.get("margin"),v=o.get("position"),g=o.get("align"),y=[this._tlpoints,this._blpoints];(!c||$t(c))&&(c&&(n=oT(c)||n),c=n.get(["time","monthAbbr"])||[]);var m=v==="start"?0:1,b=i==="horizontal"?0:1;h=v==="start"?-h:h;for(var S=g==="center",E=o.get("silent"),C=0;C<y[m].length-1;C++){var A=y[m][C].slice(),D=this._firstDayOfMonth[C];if(S){var L=this._firstDayPoints[C];A[b]=(L[b]+y[0][C+1][b])/2}var R=o.get("formatter"),O=c[+D.m-1],P={yyyy:D.y,yy:(D.y+"").slice(2),MM:D.m,M:+D.m,nameMap:O},V=this._formatterLabel(R,P),k=new ke({z2:30,style:Mt(or(o,{text:V}),this._monthTextPositionControl(A,S,i,v,h)),silent:E});a.add(k)}}},t.prototype._weekTextPositionControl=function(e,n,i,a,o){var c="center",h="middle",v=e[0],g=e[1],y=i==="start";return n==="horizontal"?(v=v+a+(y?1:-1)*o[0]/2,c=y?"right":"left"):(g=g+a+(y?1:-1)*o[1]/2,h=y?"bottom":"top"),{x:v,y:g,align:c,verticalAlign:h}},t.prototype._renderWeekText=function(e,n,i,a,o){var c=e.getModel("dayLabel");if(c.get("show")){var h=e.coordinateSystem,v=c.get("position"),g=c.get("nameMap"),y=c.get("margin"),m=h.getFirstDayOfWeek();if(!g||$t(g)){g&&(n=oT(g)||n);var b=n.get(["time","dayOfWeekShort"]);g=b||Pt(n.get(["time","dayOfWeekAbbr"]),function(P){return P[0]})}var S=h.getNextNDay(i.end.time,7-i.lweek).time,E=[h.getCellWidth(),h.getCellHeight()];y=Yt(y,Math.min(E[1],E[0])),v==="start"&&(S=h.getNextNDay(i.start.time,-(7+i.fweek)).time,y=-y);for(var C=c.get("silent"),A=0;A<7;A++){var D=h.getNextNDay(S,A),L=h.dataToCalendarLayout([D.time],!1).center,R=A;R=Math.abs((A+m)%7);var O=new ke({z2:30,style:Mt(or(c,{text:g[R]}),this._weekTextPositionControl(L,a,v,y,E)),silent:C});o.add(O)}}},t.type="calendar",t})(vr),Fx=864e5,p0t=(function(){function r(t,e,n){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=t,this._update(e,n)}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(t){t=Rc(t);var e=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,a=t.getDate(),o=a<10?"0"+a:""+a,c=t.getDay();return c=Math.abs((c+7-this.getFirstDayOfWeek())%7),{y:e+"",m:i,d:o,day:c,time:t.getTime(),formatedDate:e+"-"+i+"-"+o,date:t}},r.prototype.getNextNDay=function(t,e){return e=e||0,e===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e),this.getDateInfo(t))},r.prototype._update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),c=this._orient==="horizontal"?[n,7]:[7,n];j([0,1],function(y){g(a,y)&&(o[i[y]]=a[y]*c[y])});var h={width:e.getWidth(),height:e.getHeight()},v=this._rect=mr(o,h);j([0,1],function(y){g(a,y)||(a[y]=v[i[y]]/c[y])});function g(y,m){return y[m]!=null&&y[m]!=="auto"}this._sw=a[0],this._sh=a[1]},r.prototype.dataToPoint=function(t,e,n){n=n||[],Rt(t)&&(t=t[0]),e==null&&(e=!0);var i=this.getDateInfo(t),a=this._rangeInfo,o=i.formatedDate;if(e&&!(i.time>=a.start.time&&i.time<a.end.time+Fx))return n[0]=n[1]=NaN,n;var c=i.day,h=this._getRangeInfo([a.start.time,o]).nthWeek;return this._orient==="vertical"?(n[0]=this._rect.x+c*this._sw+this._sw/2,n[1]=this._rect.y+h*this._sh+this._sh/2):(n[0]=this._rect.x+h*this._sw+this._sw/2,n[1]=this._rect.y+c*this._sh+this._sh/2),n},r.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},r.prototype.dataToLayout=function(t,e,n){n=n||{};var i=n.rect=n.rect||{},a=n.contentRect=n.contentRect||{},o=this.dataToPoint(t,e);return i.x=o[0]-this._sw/2,i.y=o[1]-this._sh/2,i.width=this._sw,i.height=this._sh,ue.copy(a,i),Ec(a,this._lineWidth/2,!0,!0),n},r.prototype.dataToCalendarLayout=function(t,e){var n=this.dataToPoint(t,e);return{center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},r.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},r.prototype.convertToPixel=function(t,e,n){var i=Bx(e);return i===this?i.dataToPoint(n):null},r.prototype.convertToLayout=function(t,e,n){var i=Bx(e);return i===this?i.dataToLayout(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=Bx(e);return i===this?i.pointToData(n):null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var t=this._model.get("range"),e;if(Rt(t)&&t.length===1&&(t=t[0]),Rt(t))e=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);e=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var c=this._getRangeInfo(e);return c.start.time>c.end.time&&e.reverse(),e},r.prototype._getRangeInfo=function(t){var e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],n;e[0].time>e[1].time&&(n=!0,e.reverse());var i=Math.floor(e[1].time/Fx)-Math.floor(e[0].time/Fx)+1,a=new Date(e[0].time),o=a.getDate(),c=e[1].date.getDate();a.setDate(o+i-1);var h=a.getDate();if(h!==c)for(var v=a.getTime()-e[1].time>0?1:-1;(h=a.getDate())!==c&&(a.getTime()-e[1].time)*v>0;)i-=v,a.setDate(h-v);var g=Math.floor((i+e[0].day+6)/7),y=n?-g+1:g-1;return n&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:g,nthWeek:y,fweek:e[0].day,lweek:e[1].day}},r.prototype._getDateByWeeksAndDay=function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||t===0&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var a=(t-1)*7-i.fweek+e,o=new Date(i.start.time);return o.setDate(+i.start.d+a),this.getDateInfo(o)},r.create=function(t,e){var n=[];return t.eachComponent("calendar",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachComponent(function(i,a){zv({targetModel:a,coordSysType:"calendar",coordSysProvider:u4})}),n},r.dimensions=["time","value"],r})();function Bx(r){var t=r.calendarModel,e=r.seriesModel,n=t?t.coordinateSystem:e?e.coordinateSystem:null;return n}function d0t(r){r.registerComponentModel(f0t),r.registerComponentView(h0t),r.registerCoordinateSystem("calendar",p0t)}var ls={level:1,leaf:2,nonLeaf:3},vs={none:0,all:1,body:2,corner:3};function hC(r,t,e){var n=t[de[e]].getCell(r);return!n&&Ie(r)&&r<0&&(n=t[de[1-e]].getUnitLayoutInfo(e,Math.round(r))),n}function H7(r){var t=r||[];return t[0]=t[0]||[],t[1]=t[1]||[],t[0][0]=t[0][1]=t[1][0]=t[1][1]=NaN,t}function z7(r,t,e,n,i){pG(r[0],t,i,e,n,0),pG(r[1],t,i,e,n,1)}function pG(r,t,e,n,i,a){r[0]=1/0,r[1]=-1/0;var o=n[a],c=Rt(o)?o:[o],h=c.length,v=!!e;if(h>=1?(dG(r,t,c,v,i,a,0),h>1&&dG(r,t,c,v,i,a,h-1)):r[0]=r[1]=NaN,v){var g=-i[de[1-a]].getLocatorCount(a),y=i[de[a]].getLocatorCount(a)-1;e===vs.body?g=Gr(0,g):e===vs.corner&&(y=zi(-1,y)),y<g&&(g=y=NaN),Yn(r[0])&&(r[0]=g),Yn(r[1])&&(r[1]=y),r[0]=Gr(zi(r[0],y),g),r[1]=Gr(zi(r[1],y),g)}}function dG(r,t,e,n,i,a,o){var c=hC(e[o],i,a);if(!c){r[0]=r[1]=NaN;return}var h=c.id[de[a]],v=h,g=m0t(c);g&&(v+=g.span[de[a]]-1),r[0]=zi(r[0],h,v),r[1]=Gr(r[1],h,v)}function wm(r,t){return Yn(r[t][0])||Yn(r[t][1])}function vG(r,t,e,n){t=t||v0t;for(var i=0;i<n;i++)t[i]=!1;for(;;){for(var a=!1,i=0;i<n;i++){var o=e[i];!t[i]&&o.cellMergeOwner&&g0t(r,o.locatorRange)&&(t[i]=!0,a=!0)}if(!a)break}}var v0t=[];function g0t(r,t){return!gG(r[0],t[0])||!gG(r[1],t[1])?!1:(r[0][0]=zi(r[0][0],t[0][0]),r[0][1]=Gr(r[0][1],t[0][1]),r[1][0]=zi(r[1][0],t[1][0]),r[1][1]=Gr(r[1][1],t[1][1]),!0)}function gG(r,t){return r[1]>=t[0]&&r[0]<=t[1]}function yG(r,t){r.id.set(t[0][0],t[1][0]),r.span.set(t[0][1]-r.id.x+1,t[1][1]-r.id.y+1)}function y0t(r,t){r[0][0]=t[0][0],r[0][1]=t[0][1],r[1][0]=t[1][0],r[1][1]=t[1][1]}function mG(r,t,e,n){var i=hC(t[n][0],e,n),a=hC(t[n][1],e,n);r[de[n]]=r[Xr[n]]=NaN,i&&a&&(r[de[n]]=i.xy,r[Xr[n]]=a.xy+a.wh-i.xy)}function ud(r,t,e,n){return r[de[t]]=e,r[de[1-t]]=n,r}function m0t(r){return r&&(r.type===ls.leaf||r.type===ls.nonLeaf)?r:null}function l_(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var _G=(function(){function r(t,e){this._cells=[],this._levels=[],this.dim=t,this.dimIdx=t==="x"?0:1,this._model=e,this._uniqueValueGen=_0t(t);var n=e.get("data",!0);n!=null&&!Rt(n)&&(n=[]),n?this._initByDimModelData(n):this._initBySeriesData()}return r.prototype._initByDimModelData=function(t){var e=this,n=e._cells,i=e._levels,a=[],o=0;e._leavesCount=c(t,0,0),h();return;function c(v,g,y){var m=0;return v&&j(v,function(b,S){var E;$t(b)?E={value:b}:le(b)?(E=b,b.value!=null&&!$t(b.value)&&(E={value:null})):E={value:null};var C={type:ls.nonLeaf,ordinal:NaN,level:y,firstLeafLocator:g,id:new oe,span:ud(new oe,e.dimIdx,1,1),option:E,xy:NaN,wh:NaN,dim:e,rect:l_()};o++,(a[g]||(a[g]=[])).push(C),i[y]||(i[y]={type:ls.level,xy:NaN,wh:NaN,option:null,id:new oe,dim:e});var A=c(E.children,g,y+1),D=Math.max(1,A);C.span[de[e.dimIdx]]=D,m+=D,g+=D}),m}function h(){for(var v=[];n.length<o;)for(var g=0;g<a.length;g++){var y=a[g].pop();if(y){y.ordinal=v.length;var m=y.option.value;v.push(m),n.push(y),e._uniqueValueGen.calcDupBase(m)}}e._uniqueValueGen.ensureValueUnique(v,n);var b=e._ordinalMeta=new mv({categories:v,needCollect:!1,deduplication:!1});e._scale=new Eh({ordinalMeta:b});for(var S=0;S<e._leavesCount;S++){var E=e._cells[S];E.type=ls.leaf,E.span[de[1-e.dimIdx]]=e._levels.length-E.level}e._initCellsId(),e._initLevelIdOptions()}},r.prototype._initBySeriesData=function(){var t=this;t._leavesCount=0,t._levels=[{type:ls.level,xy:NaN,wh:NaN,option:null,id:new oe,dim:t}],t._initLevelIdOptions();var e=t._ordinalMeta=new mv({needCollect:!0,deduplication:!0,onCollect:function(n,i){var a=t._cells[i]={type:ls.leaf,ordinal:i,level:0,firstLeafLocator:i,id:new oe,span:ud(new oe,t.dimIdx,1,1),option:{value:n+""},xy:NaN,wh:NaN,dim:t,rect:l_()};t._leavesCount++,t._setCellId(a)}});t._scale=new Eh({ordinalMeta:e})},r.prototype._setCellId=function(t){var e=this._levels.length,n=this.dimIdx;ud(t.id,n,t.firstLeafLocator,t.level-e)},r.prototype._initCellsId=function(){var t=this._levels.length,e=this.dimIdx;j(this._cells,function(n){ud(n.id,e,n.firstLeafLocator,n.level-t)})},r.prototype._initLevelIdOptions=function(){var t=this._levels.length,e=this.dimIdx,n=this._model.get("levels",!0);n=Rt(n)?n:[],j(this._levels,function(i,a){ud(i.id,e,0,a-t),i.option=n[a]})},r.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},r.prototype.resetLayoutIterator=function(t,e,n,i){if(t=t||new xl,e===this.dimIdx){var a=this._leavesCount,o=n!=null?Math.max(0,n):0;i=i!=null?Math.min(i,a):a,t.reset(this._cells,o,o+i)}else{var a=this._levels.length,o=n!=null?Math.max(0,n+a):0;i=i!=null?Math.min(i,a):a,t.reset(this._levels,o,o+i)}return t},r.prototype.resetCellIterator=function(t){return(t||new xl).reset(this._cells,0)},r.prototype.resetLevelIterator=function(t){return(t||new xl).reset(this._levels,0)},r.prototype.getLayout=function(t,e,n){var i=this.getUnitLayoutInfo(e,n);t[de[e]]=i?i.xy:NaN,t[Xr[e]]=i?i.wh:NaN},r.prototype.getUnitLayoutInfo=function(t,e){return t===this.dimIdx?e<this._leavesCount?this._cells[e]:void 0:this._levels[e+this._levels.length]},r.prototype.getCell=function(t){var e=this._scale.parse(t);return Yn(e)?void 0:this._cells[e]},r.prototype.getLocatorCount=function(t){return t===this.dimIdx?this._leavesCount:this._levels.length},r.prototype.getOrdinalMeta=function(){return this._ordinalMeta},r})();function _0t(r){var t=r.toUpperCase(),e=new RegExp("^"+t+"([0-9]+)$"),n=0;function i(c){var h;c!=null&&(h=c.match(e))&&(n=Gr(n,+h[1]+1))}function a(){return""+t+n++}function o(c,h){for(var v=Qt(),g=0;g<c.length;g++){var y=c[g];(y==null||v.get(y)!=null)&&(c[g]=y=a(),h[g].option=se({value:y},h[g].option)),v.set(y,!0)}}return{calcDupBase:i,ensureValueUnique:o}}var bG=(function(){function r(t,e,n){this._model=e,this._dims=n,this._kind=t,this._cellMergeOwnerList=[]}return r.prototype._ensureCellMap=function(){var t=this,e=t._cellMap;return e||(e=t._cellMap=Qt(),n()),e;function n(){var a=[],o=t._model.getShallow("data");o&&!Rt(o)&&(o=null),j(o,function(S,E){if(!(!le(S)||!Rt(S.coord))){var C=H7([]),A=null;if(z7(C,A,S.coord,t._dims,S.coordClamp?vs[t._kind]:vs.none),!(wm(C,0)||wm(C,1))){var D=S&&S.mergeCells,L={id:new oe,span:new oe,locatorRange:C,option:S,cellMergeOwner:D};yG(L,C),a.push(L)}}});for(var c=[],h=0;h<a.length;h++){var v=a[h];if(v.cellMergeOwner){var g=v.locatorRange;vG(g,c,a,h);for(var y=0;y<h;y++)c[y]&&(a[y].cellMergeOwner=!1);if(g[0][0]!==v.id.x||g[1][0]!==v.id.y){v.cellMergeOwner=!1;var m=Mt({},v.option);m.coord=null;var b={id:new oe,span:new oe,locatorRange:g,option:m,cellMergeOwner:!0};yG(b,g),a.push(b)}}}j(a,function(S){var E=i(S.id.x,S.id.y);if(S.cellMergeOwner&&(E.cellMergeOwner=!0,E.span=S.span,E.locatorRange=S.locatorRange,E.spanRect=l_(),t._cellMergeOwnerList.push(E)),!(!S.cellMergeOwner&&!S.option))for(var C=0;C<S.span.y;C++)for(var A=0;A<S.span.x;A++){var D=i(S.id.x+A,S.id.y+C);D.option=S.option,S.cellMergeOwner&&(D.inSpanOf=E)}})}function i(a,o){var c=SG(a,o),h=e.get(c);return h||(h=e.set(c,{id:new oe(a,o),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),h}},r.prototype.getCell=function(t){return this._ensureCellMap().get(SG(t[0],t[1]))},r.prototype.travelExistingCells=function(t){this._ensureCellMap().each(t)},r.prototype.expandRangeByCellMerge=function(t){if(!wm(t,0)&&!wm(t,1)&&t[0][0]===t[0][1]&&t[1][0]===t[1][1]){Hx[0]=t[0][0],Hx[1]=t[1][0];var e=this.getCell(Hx),n=e&&e.inSpanOf;if(n){y0t(t,n.locatorRange);return}}var i=this._cellMergeOwnerList;vG(t,null,i,i.length)},r})(),Hx=[];function SG(r,t){return r+"|"+t}var nM={show:!0,color:yt.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function iM(r){return{color:"none",borderWidth:1,borderColor:r?"none":yt.color.borderTint}}var wG={show:!0,label:nM,itemStyle:iM(!1),silent:void 0,dividerLineStyle:{width:1,color:yt.color.border}},b0t={label:nM,itemStyle:iM(!1),silent:void 0},S0t={label:nM,itemStyle:iM(!0),silent:void 0},w0t={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:wG,y:wG,body:b0t,corner:S0t,backgroundStyle:{color:"none",borderColor:yt.color.axisLine,borderWidth:1}},x0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this._dimModels={x:new xG(this.get("x",!0)||{}),y:new xG(this.get("y",!0)||{})};e.x.option.type=e.y.option.type="category";var n=e.x.dim=new _G("x",e.x),i=e.y.dim=new _G("y",e.y),a={x:n,y:i};this._body=new bG("body",new Me(this.getShallow("body")),a),this._corner=new bG("corner",new Me(this.getShallow("corner")),a)},t.prototype.getDimensionModel=function(e){return this._dimModels[e]},t.prototype.getBody=function(){return this._body},t.prototype.getCorner=function(){return this._corner},t.type="matrix",t.layoutMode="box",t.defaultOption=w0t,t})(Ce),xG=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},t})(Me),xm=Math.round,E0t=0,T0t=99,C0t={normal:25,special:100},A0t={normal:50,special:125},D0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n){this.group.removeAll();var i=this.group,a=e.coordinateSystem,o=a.getRect(),c=e.getDimensionModel("x"),h=e.getDimensionModel("y"),v=c.dim,g=h.dim;M0t(i,e,n),L0t(i,e,v,g,n);var y=e.getShallow("borderZ2",!0),m=te(y,T0t),b=m-1,S=e.getModel("backgroundStyle").getItemStyle(["borderWidth"]);S.lineWidth=0;var E=e.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);E.fill="none";var C=pC(o.clone(),S,E0t),A=pC(o.clone(),E,m);C.silent=!0,A.silent=!0,i.add(C),i.add(A);var D=v.getUnitLayoutInfo(0,0),L=g.getUnitLayoutInfo(1,0);D&&L&&(v.shouldShow()&&i.add(EG({x1:o.x,y1:L.xy,x2:o.x+o.width,y2:L.xy},c.getModel("dividerLineStyle").getLineStyle(),b)),g.shouldShow()&&i.add(EG({x1:D.xy,y1:o.y,x2:D.xy,y2:o.y+o.height},h.getModel("dividerLineStyle").getLineStyle(),b)))},t.type="matrix",t})(vr);function M0t(r,t,e){n(0),n(1);function n(i){var a=t.getDimensionModel(de[i]),o=a.dim;if(o.shouldShow())for(var c=a.getModel("itemStyle"),h=a.getModel("label"),v=t.getShallow("tooltip",!0),g=[],y=o.resetCellIterator();y.next();){var m=y.item,b={};ue.copy(b,m.rect),iA(g,m.id.x,m.id.y),U7(g,t,r,e,m.option,c,h,a,b,m.option.value,A0t,v)}}}function L0t(r,t,e,n,i){a("body",t.getBody(),e,n),e.shouldShow()&&n.shouldShow()&&a("corner",t.getCorner(),n,e);function a(o,c,h,v){var g=new Me(t.getShallow(o,!0)),y=g.getModel("itemStyle"),m=g.getModel("label"),b=new xl,S=new xl,E=[],C=t.getShallow("tooltip",!0);for(v.resetLayoutIterator(S,1);S.next();)for(h.resetLayoutIterator(b,0);b.next();){var A=b.item,D=S.item;iA(E,A.id.x,D.id.y);var L=c.getCell(E);if(!(L&&L.inSpanOf&&L.inSpanOf!==L)){var R={};L&&L.span?ue.copy(R,L.spanRect):(A.dim.getLayout(R,0,E[0]),D.dim.getLayout(R,1,E[1]));var O=L?L.option:null;U7(E,t,r,i,O,y,m,g,R,O?O.value:null,C0t,C)}}}}function U7(r,t,e,n,i,a,o,c,h,v,g,y){var m;Em.option=i?i.itemStyle:null,Em.parentModel=a,Bf.option=i,Bf.parentModel=c;var b=te(Bf.getShallow("z2"),i&&i.itemStyle?g.special:g.normal),S=y&&y.show,E=pC(h,Em.getItemStyle(),b);e.add(E);var C=Bf.get("cursor");C!=null&&E.attr("cursor",C);var A;if(v!=null){var D=v+"";if(Hf.option=i?i.label:null,Hf.parentModel=o,Hf.ecModel=n,dn(E,{normal:Hf},{defaultText:D,autoOverflowArea:!0,layoutRect:ie(E.shape)}),A=E.getTextContent(),A){A.z2=b+1;var L=A.style;if(L&&L.overflow&&L.overflow!=="none"&&L.lineOverflow){var R={};ue.copy(R,h),Ec(R,(((m=E.style)===null||m===void 0?void 0:m.lineWidth)||0)/2,!0,!0),E.updateInnerText(),A.getLocalTransform(Tm),Va(Tm,Tm),ue.applyTransform(R,R,Tm),A.setClipPath(new xe({shape:R}))}}Ms({el:E,componentModel:t,itemName:D,itemTooltipOption:y,formatterParamsExtra:{xyLocator:r.slice()}})}if(A){var O=Hf.get("silent");O==null&&(O=!S),A.silent=O,A.ignoreHostSilent=!0}var P=Bf.get("silent");P==null&&(P=!E.style||E.style.fill==="none"||!E.style.fill),E.silent=P,JS(Bf),JS(Em),JS(Hf)}var Bf=new Me,Em=new Me,Hf=new Me,Tm=[];function pC(r,t,e){var n=t.lineWidth;if(n){var i=r.x+r.width,a=r.y+r.height;r.x=Bi(r.x,n,!0),r.y=Bi(r.y,n,!0),r.width=Bi(i,n,!0)-r.x,r.height=Bi(a,n,!0)-r.y}return new xe({shape:r,style:t,z2:e})}function EG(r,t,e){var n=t.lineWidth;return n&&(xm(r.x1*2)===xm(r.x2*2)&&(r.x1=r.x2=Bi(r.x1,n,!0)),xm(r.y1*2)===xm(r.y2*2)&&(r.y1=r.y2=Bi(r.y1,n,!0))),new $r({shape:r,style:t,silent:!0,z2:e})}var N0t=(function(){function r(t,e,n){this.dimensions=r.dimensions,this.type="matrix",this._model=t;var i=this._dimModels={x:t.getDimensionModel("x"),y:t.getDimensionModel("y")};this._dims={x:i.x.dim,y:i.y.dim},this._resize(t,n)}return r.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},r.create=function(t,e){var n=[];return t.eachComponent("matrix",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachComponent(function(i,a){zv({targetModel:a,coordSysType:"matrix",coordSysProvider:u4})}),n},r.prototype.getRect=function(){return this._rect},r.prototype._resize=function(t,e){var n=this._dims,i=this._dimModels,a=this._rect=mr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});TG(i,n,a,0),TG(i,n,a,1),CG(0,n),CG(1,n),AG(this._model.getBody(),n),AG(this._model.getCorner(),n)},r.prototype.dataToPoint=function(t,e,n){return n=n||[],this.dataToLayout(t,e,cd),n[0]=cd.rect.x+cd.rect.width/2,n[1]=cd.rect.y+cd.rect.height/2,n},r.prototype.dataToLayout=function(t,e,n){var i=this._dims;n=n||{};var a=n.rect=n.rect||{};a.x=a.y=a.width=a.height=NaN;var o=n.matrixXYLocatorRange=H7(n.matrixXYLocatorRange);return Rt(t)&&(z7(o,null,t,i,te(e&&e.clamp,vs.none)),(!e||!e.ignoreMergeCells)&&((!e||e.clamp!==vs.corner)&&this._model.getBody().expandRangeByCellMerge(o),(!e||e.clamp!==vs.body)&&this._model.getCorner().expandRangeByCellMerge(o)),mG(a,o,i,0),mG(a,o,i,1)),n},r.prototype.pointToData=function(t,e,n){var i=this._dims;return DG(uo,0,i,t,e&&e.clamp),DG(uo,1,i,t,e&&e.clamp),n=n||[],n[0]=n[1]=NaN,uo.y===In.inCorner&&uo.x===In.inBody?MG(uo,n,0,i):uo.x===In.inCorner&&uo.y===In.inBody?MG(uo,n,1,i):(LG(uo,n,0,i),LG(uo,n,1,i)),n},r.prototype.convertToPixel=function(t,e,n,i){var a=Ux(e);return a===this?a.dataToPoint(n,i):void 0},r.prototype.convertToLayout=function(t,e,n,i){var a=Ux(e);return a===this?a.dataToLayout(n,i):void 0},r.prototype.convertFromPixel=function(t,e,n,i){var a=Ux(e);return a===this?a.pointToData(n,i):void 0},r.prototype.containPoint=function(t){return this._rect.contain(t[0],t[1])},r.dimensions=["x","y","value"],r})(),cd={rect:l_()},Cm=new xl,zx=new xl;function TG(r,t,e,n){for(var i=1-n,a=t[de[n]],o=t[de[i]],c=o.shouldShow(),h=a.resetCellIterator();h.next();)h.item.wh=h.item.xy=NaN;for(var v=o.resetLayoutIterator(null,n);v.next();)v.item.wh=v.item.xy=NaN;for(var g=e[Xr[n]],y=a.getLocatorCount(n)+o.getLocatorCount(n),m=new Me,b=o.resetLevelIterator();b.next();)m.option=b.item.option,m.parentModel=r[de[i]],C(b.item,c?m.get("levelSize"):0);for(var S=new Me,E=a.resetCellIterator();E.next();)E.item.type===ls.leaf&&(S.option=E.item.option,S.parentModel=void 0,C(E.item,S.get("size")));function C(V,k){var F=R0t(k,n,e);Yn(F)||(V.wh=dC(F,g),g=dC(g-V.wh),y--)}var A=y?g/y:0,D=!y&&g>=1,L=e[de[n]],R=a.getLocatorCount(n)-1,O=new xl;for(o.resetLayoutIterator(O,n);O.next();)P(O.item);for(a.resetLayoutIterator(O,n);O.next();)P(O.item);function P(V){Yn(V.wh)&&(V.wh=A),V.xy=L,V.id[de[n]]===R&&!D&&(V.wh=e[de[n]]+e[Xr[n]]-V.xy),L+=V.wh}}function CG(r,t){for(var e=t[de[r]].resetCellIterator();e.next();){var n=e.item;u_(n.rect,r,n.id,n.span,t),u_(n.rect,1-r,n.id,n.span,t),n.type===ls.nonLeaf&&(n.xy=n.rect[de[r]],n.wh=n.rect[Xr[r]])}}function AG(r,t){r.travelExistingCells(function(e){var n=e.span;if(n){var i=e.spanRect,a=e.id;u_(i,0,a,n,t),u_(i,1,a,n,t)}})}function u_(r,t,e,n,i){r[Xr[t]]=0;var a=e[de[t]],o=a<0?i[de[1-t]]:i[de[t]],c=o.getUnitLayoutInfo(t,e[de[t]]);if(r[de[t]]=c.xy,r[Xr[t]]=c.wh,n[de[t]]>1){var h=o.getUnitLayoutInfo(t,e[de[t]]+n[de[t]]-1);r[Xr[t]]=h.xy+h.wh-c.xy}}function R0t(r,t,e){var n=E0(r,e[Xr[t]]);return dC(n,e[Xr[t]])}function dC(r,t){return Math.max(Math.min(r,te(t,1/0)),0)}function Ux(r){var t=r.matrixModel,e=r.seriesModel,n=t?t.coordinateSystem:e?e.coordinateSystem:null;return n}var In={inBody:1,inCorner:2,outside:3},uo={x:null,y:null,point:[]};function DG(r,t,e,n,i){var a=e[de[t]],o=e[de[1-t]],c=a.getUnitLayoutInfo(t,a.getLocatorCount(t)-1),h=a.getUnitLayoutInfo(t,0),v=o.getUnitLayoutInfo(t,-o.getLocatorCount(t)),g=o.shouldShow()?o.getUnitLayoutInfo(t,-1):null,y=r.point[t]=n[t];if(!h&&!g){r[de[t]]=In.outside;return}if(i===vs.body){h?(r[de[t]]=In.inBody,y=zi(c.xy+c.wh,Gr(h.xy,y)),r.point[t]=y):r[de[t]]=In.outside;return}else if(i===vs.corner){g?(r[de[t]]=In.inCorner,y=zi(g.xy+g.wh,Gr(v.xy,y)),r.point[t]=y):r[de[t]]=In.outside;return}var m=h?h.xy:g?g.xy+g.wh:NaN,b=v?v.xy:m,S=c?c.xy+c.wh:m;if(y<b){if(!i){r[de[t]]=In.outside;return}y=b}else if(y>S){if(!i){r[de[t]]=In.outside;return}y=S}r.point[t]=y,r[de[t]]=m<=y&&y<=S?In.inBody:b<=y&&y<=m?In.inCorner:In.outside}function MG(r,t,e,n){var i=1-e;if(r[de[e]]!==In.outside)for(n[de[e]].resetCellIterator(zx);zx.next();){var a=zx.item;if(NG(r.point[e],a.rect,e)&&NG(r.point[i],a.rect,i)){t[e]=a.ordinal,t[i]=a.id[de[i]];return}}}function LG(r,t,e,n){if(r[de[e]]!==In.outside){var i=r[de[e]]===In.inCorner?n[de[1-e]]:n[de[e]];for(i.resetLayoutIterator(Cm,e);Cm.next();)if(I0t(r.point[e],Cm.item)){t[e]=Cm.item.id[de[e]];return}}}function I0t(r,t){return t.xy<=r&&r<=t.xy+t.wh}function NG(r,t,e){return t[de[e]]<=r&&r<=t[de[e]]+t[Xr[e]]}function O0t(r){r.registerComponentModel(x0t),r.registerComponentView(D0t),r.registerCoordinateSystem("matrix",N0t)}function P0t(r,t){var e=r.existing;if(t.id=r.keyInfo.id,!t.type&&e&&(t.type=e.type),t.parentId==null){var n=t.parentOption;n?t.parentId=n.id:e&&(t.parentId=e.parentId)}t.parentOption=null}function RG(r,t){var e;return j(t,function(n){r[n]!=null&&r[n]!=="auto"&&(e=!0)}),e}function k0t(r,t,e){var n=Mt({},e),i=r[t],a=e.$action||"merge";a==="merge"?i?(ye(i,n,!0),Vo(i,n,{ignoreSize:!0}),d4(e,i),Am(e,i),Am(e,i,"shape"),Am(e,i,"style"),Am(e,i,"extra"),e.clipPath=i.clipPath):r[t]=n:a==="replace"?r[t]=n:a==="remove"&&i&&(r[t]=null)}var W7=["transition","enterFrom","leaveTo"],V0t=W7.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Am(r,t,e){if(e&&(!r[e]&&t[e]&&(r[e]={}),r=r[e],t=t[e]),!(!r||!t))for(var n=e?W7:V0t,i=0;i<n.length;i++){var a=n[i];r[a]==null&&t[a]!=null&&(r[a]=t[a])}}function G0t(r,t){if(r&&(r.hv=t.hv=[RG(t,["left","right"]),RG(t,["top","bottom"])],r.type==="group")){var e=r,n=t;e.width==null&&(e.width=n.width=0),e.height==null&&(e.height=n.height=0)}}var F0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,e,n),this.option.elements=i},t.prototype.optionUpdated=function(e,n){var i=this.option,a=(n?i:e).elements,o=i.elements=n?[]:i.elements,c=[];this._flatten(a,c,null);var h=rH(o,c,"normalMerge"),v=this._elOptionsToUpdate=[];j(h,function(g,y){var m=g.newOption;m&&(v.push(m),P0t(g,m),k0t(o,y,m),G0t(o[y],m))},this),i.elements=Ye(o,function(g){return g&&delete g.$action,g!=null})},t.prototype._flatten=function(e,n,i){j(e,function(a){if(a){i&&(a.parentOption=i),n.push(a);var o=a.children;o&&o.length&&this._flatten(o,n,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t})(Ce),IG={path:null,compoundPath:null,group:ne,image:En,text:ke},ia=Ee(),B0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._elMap=Qt()},t.prototype.render=function(e,n,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},t.prototype._updateElements=function(e){var n=e.useElOptionsToUpdate();if(n){var i=this._elMap,a=this.group,o=e.get("z"),c=e.get("zlevel");j(n,function(h){var v=nn(h.id,null),g=v!=null?i.get(v):null,y=nn(h.parentId,null),m=y!=null?i.get(y):a,b=h.type,S=h.style;b==="text"&&S&&h.hv&&h.hv[1]&&(S.textVerticalAlign=S.textBaseline=S.verticalAlign=S.align=null);var E=h.textContent,C=h.textConfig;if(S&&S7(S,b,!!C,!!E)){var A=w7(S,b,!0);!C&&A.textConfig&&(C=h.textConfig=A.textConfig),!E&&A.textContent&&(E=A.textContent)}var D=H0t(h),L=h.$action||"merge",R=L==="merge",O=L==="replace";if(R){var P=!g,V=g;P?V=OG(v,m,h.type,i):(V&&(ia(V).isNew=!1),C7(V)),V&&(e0(V,D,e,{isInit:P}),PG(V,h,o,c))}else if(O){i0(g,h,i,e);var k=OG(v,m,h.type,i);k&&(e0(k,D,e,{isInit:!0}),PG(k,h,o,c))}else L==="remove"&&(E7(g,h),i0(g,h,i,e));var F=i.get(v);if(F&&E)if(R){var H=F.getTextContent();H?H.attr(E):F.setTextContent(new ke(E))}else O&&F.setTextContent(new ke(E));if(F){var W=h.clipPath;if(W){var q=W.type,Y=void 0,P=!1;if(R){var K=F.getClipPath();P=!K||ia(K).type!==q,Y=P?vC(q):K}else O&&(P=!0,Y=vC(q));F.setClipPath(Y),e0(Y,W,e,{isInit:P}),a_(Y,W.keyframeAnimation,e)}var X=ia(F);F.setTextConfig(C),X.option=h,z0t(F,e,h),Ms({el:F,componentModel:e,itemName:F.name,itemTooltipOption:h.tooltip}),a_(F,h.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,n){for(var i=e.option.elements,a=this.group,o=this._elMap,c=n.getWidth(),h=n.getHeight(),v=["x","y"],g=0;g<i.length;g++){var y=i[g],m=nn(y.id,null),b=m!=null?o.get(m):null;if(!(!b||!b.isGroup)){var S=b.parent,E=S===a,C=ia(b),A=ia(S);C.width=Yt(C.option.width,E?c:A.width)||0,C.height=Yt(C.option.height,E?h:A.height)||0}}for(var g=i.length-1;g>=0;g--){var y=i[g],m=nn(y.id,null),b=m!=null?o.get(m):null;if(b){var S=b.parent,A=ia(S),D=S===a?{width:c,height:h}:{width:A.width,height:A.height},L={},R=K_(b,y,D,null,{hv:y.hv,boundingMode:y.bounding},L);if(!ia(b).isNew&&R){for(var O=y.transition,P={},V=0;V<v.length;V++){var k=v[V],F=L[k];O&&(mc(O)||ge(O,k)>=0)?P[k]=F:b[k]=F}Ve(b,P,e,0)}else b.attr(L)}}},t.prototype._clear=function(){var e=this,n=this._elMap;n.each(function(i){i0(i,ia(i).option,n,e._lastGraphicModel)}),this._elMap=Qt()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t})(vr);function vC(r){var t=Xt(IG,r)?IG[r]:M0(r),e=new t({});return ia(e).type=r,e}function OG(r,t,e,n){var i=vC(e);return t.add(i),n.set(r,i),ia(i).id=r,ia(i).isNew=!0,i}function i0(r,t,e,n){var i=r&&r.parent;i&&(r.type==="group"&&r.traverse(function(a){i0(a,t,e,n)}),hb(r,t,n),e.removeKey(ia(r).id))}function PG(r,t,e,n){r.isGroup||j([["cursor",ha.prototype.cursor],["zlevel",n||0],["z",e||0],["z2",0]],function(i){var a=i[0];Xt(t,a)?r[a]=te(t[a],i[1]):r[a]==null&&(r[a]=i[1])}),j(Le(t),function(i){if(i.indexOf("on")===0){var a=t[i];r[i]=re(a)?a:null}}),Xt(t,"draggable")&&(r.draggable=t.draggable),t.name!=null&&(r.name=t.name),t.id!=null&&(r.id=t.id)}function H0t(r){return r=Mt({},r),j(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(c4),function(t){delete r[t]}),r}function z0t(r,t,e){var n=fe(r).eventData;!r.silent&&!r.ignore&&!n&&(n=fe(r).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:r.name}),n&&(n.info=e.info)}function U0t(r){r.registerComponentModel(F0t),r.registerComponentView(B0t),r.registerPreprocessor(function(t){var e=t.graphic;Rt(e)?!e[0]||!e[0].elements?t.graphic=[{elements:e}]:t.graphic=[t.graphic[0]]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}var kG=["x","y","radius","angle","single"],W0t=["cartesian2d","polar","singleAxis"];function j0t(r){var t=r.get("coordinateSystem");return ge(W0t,t)>=0}function ml(r){return r+"Axis"}function Y0t(r,t){var e=Qt(),n=[],i=Qt();r.eachComponent({mainType:"dataZoom",query:t},function(g){i.get(g.uid)||c(g)});var a;do a=!1,r.eachComponent("dataZoom",o);while(a);function o(g){!i.get(g.uid)&&h(g)&&(c(g),a=!0)}function c(g){i.set(g.uid,!0),n.push(g),v(g)}function h(g){var y=!1;return g.eachTargetAxis(function(m,b){var S=e.get(m);S&&S[b]&&(y=!0)}),y}function v(g){g.eachTargetAxis(function(y,m){(e.get(y)||e.set(y,[]))[m]=!0})}return n}function j7(r){var t=r.ecModel,e={infoList:[],infoMap:Qt()};return r.eachTargetAxis(function(n,i){var a=t.getComponent(ml(n),i);if(a){var o=a.getCoordSysModel();if(o){var c=o.uid,h=e.infoMap.get(c);h||(h={model:o,axisModels:[]},e.infoList.push(h),e.infoMap.set(c,h)),h.axisModels.push(a)}}}),e}var Wx=(function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},r})(),Mv=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,n,i){var a=VG(e);this.settledOption=a,this.mergeDefaultAndTheme(e,i),this._doInit(a)},t.prototype.mergeOption=function(e){var n=VG(e);ye(this.option,e,!0),ye(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(e){var n=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;j([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),n=this._targetAxisInfoMap=Qt(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var n=!1;return j(kG,function(i){var a=this.getReferringComponents(ml(i),Trt);if(a.specified){n=!0;var o=new Wx;j(a.models,function(c){o.add(c.componentIndex)}),e.set(i,o)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(e,n){var i=this.ecModel,a=!0;if(a){var o=n==="vertical"?"y":"x",c=i.findComponents({mainType:o+"Axis"});h(c,o)}if(a){var c=i.findComponents({mainType:"singleAxis",filter:function(g){return g.get("orient",!0)===n}});h(c,"single")}function h(v,g){var y=v[0];if(y){var m=new Wx;if(m.add(y.componentIndex),e.set(g,m),a=!1,g==="x"||g==="y"){var b=y.getReferringComponents("grid",Ar).models[0];b&&j(v,function(S){y.componentIndex!==S.componentIndex&&b===S.getReferringComponents("grid",Ar).models[0]&&m.add(S.componentIndex)})}}}a&&j(kG,function(v){if(a){var g=i.findComponents({mainType:ml(v),filter:function(m){return m.get("type",!0)==="category"}});if(g[0]){var y=new Wx;y.add(g[0].componentIndex),e.set(v,y),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(n){!e&&(e=n)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var n=this._rangePropMode,i=this.get("rangeMode");j([["start","startValue"],["end","endValue"]],function(a,o){var c=e[a[0]]!=null,h=e[a[1]]!=null;c&&!h?n[o]="percent":!c&&h?n[o]="value":i?n[o]=i[o]:c&&(n[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(n,i){e==null&&(e=this.ecModel.getComponent(ml(n),i))},this),e},t.prototype.eachTargetAxis=function(e,n){this._targetAxisInfoMap.each(function(i,a){j(i.indexList,function(o){e.call(n,a,o)})})},t.prototype.getAxisProxy=function(e,n){var i=this.getAxisModel(e,n);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,n){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[n])return this.ecModel.getComponent(ml(e),n)},t.prototype.setRawRange=function(e){var n=this.option,i=this.settledOption;j([["start","startValue"],["end","endValue"]],function(a){(e[a[0]]!=null||e[a[1]]!=null)&&(n[a[0]]=i[a[0]]=e[a[0]],n[a[1]]=i[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var n=this.option;j(["start","startValue","end","endValue"],function(i){n[i]=e[i]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,n){if(e==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(e,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],c=this._targetAxisInfoMap.get(o),h=0;h<c.indexList.length;h++){var v=this.getAxisProxy(o,c.indexList[h]);if(v.hostedBy(this))return v;n||(n=v)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t})(Ce);function VG(r){var t={};return j(["start","end","startValue","endValue","throttle"],function(e){r.hasOwnProperty(e)&&(t[e]=r[e])}),t}var $0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t})(Mv),aM=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this.dataZoomModel=e,this.ecModel=n,this.api=i},t.type="dataZoom",t})(vr),q0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t})(aM),Kf=j,GG=ca,X0t=(function(){function r(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}return r.prototype.hostedBy=function(t){return this._dataZoomModel===t},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(j0t(e)){var n=ml(this._dimName),i=e.getReferringComponents(n,Ar).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}},this),t},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return ie(this._minMaxSpan)},r.prototype.calculateDataWindow=function(t){var e=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],c=[],h=[],v;Kf(["start","end"],function(m,b){var S=t[m],E=t[m+"Value"];a[b]==="percent"?(S==null&&(S=o[b]),E=i.parse(je(S,o,e))):(v=!0,E=E==null?e[b]:i.parse(E),S=je(E,e,o)),h[b]=E==null||isNaN(E)?e[b]:E,c[b]=S==null||isNaN(S)?o[b]:S}),GG(h),GG(c);var g=this._minMaxSpan;v?y(h,c,e,o,!1):y(c,h,o,e,!0);function y(m,b,S,E,C){var A=C?"Span":"ValueSpan";Rl(0,m,S,"all",g["min"+A],g["max"+A]);for(var D=0;D<2;D++)b[D]=je(m[D],S,E,!0),C&&(b[D]=i.parse(b[D]))}return{valueWindow:h,percentWindow:c}},r.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=Z0t(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),o=this._valueWindow;if(a==="none")return;Kf(i,function(h){var v=h.getData(),g=v.mapDimensionsAll(n);if(g.length){if(a==="weakFilter"){var y=v.getStore(),m=Pt(g,function(b){return v.getDimensionIndex(b)},v);v.filterSelf(function(b){for(var S,E,C,A=0;A<g.length;A++){var D=y.get(m[A],b),L=!isNaN(D),R=D<o[0],O=D>o[1];if(L&&!R&&!O)return!0;L&&(C=!0),R&&(S=!0),O&&(E=!0)}return C&&S&&E})}else Kf(g,function(b){if(a==="empty")h.setData(v=v.map(b,function(E){return c(E)?E:NaN}));else{var S={};S[b]=o,v.selectRange(S)}});Kf(g,function(b){v.setApproximateExtent(o,b)})}});function c(h){return h>=o[0]&&h<=o[1]}},r.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;Kf(["min","max"],function(i){var a=e.get(i+"Span"),o=e.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=je(n[0]+o,n,[0,100],!0):a!=null&&(o=je(a,[0,100],n,!0)-n[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=o},this)},r.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var i=$B(n,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;e[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),e[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},r})();function Z0t(r,t,e){var n=[1/0,-1/0];Kf(e,function(o){Dlt(n,o.getData(),t)});var i=r.getAxisModel(),a=W6(i.axis.scale,i,n).calculate();return[a.min,a.max]}var K0t={getTargetSeries:function(r){function t(i){r.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,c){var h=r.getComponent(ml(o),c);i(o,c,h,a)})})}t(function(i,a,o,c){o.__dzAxisProxy=null});var e=[];t(function(i,a,o,c){o.__dzAxisProxy||(o.__dzAxisProxy=new X0t(i,a,c,r),e.push(o.__dzAxisProxy))});var n=Qt();return j(e,function(i){j(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(r,t){r.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).reset(e)}),e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).filterData(e,t)})}),r.eachComponent("dataZoom",function(e){var n=e.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function J0t(r){r.registerAction("dataZoom",function(t,e){var n=Y0t(e,t);j(n,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var FG=!1;function oM(r){FG||(FG=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,K0t),J0t(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Q0t(r){r.registerComponentModel($0t),r.registerComponentView(q0t),oM(r)}var oa=(function(){function r(){}return r})(),Y7={};function Jf(r,t){Y7[r]=t}function $7(r){return Y7[r]}var t_t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;j(this.option.feature,function(n,i){var a=$7(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),ye(n,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:yt.color.border,borderRadius:0,borderWidth:0,padding:yt.size.m,itemSize:15,itemGap:yt.size.s,showTitle:!0,iconStyle:{borderColor:yt.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:yt.color.accent50}},tooltip:{show:!1,position:"bottom"}},t})(Ce);function q7(r,t){var e=Bv(t.get("padding")),n=t.getItemStyle(["color","opacity"]);n.fill=t.get("backgroundColor");var i=new xe({shape:{x:r.x-e[3],y:r.y-e[0],width:r.width+e[1]+e[3],height:r.height+e[0]+e[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1});return i}var e_t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i,a){var o=this.group;if(o.removeAll(),!e.get("show"))return;var c=+e.get("itemSize"),h=e.get("orient")==="vertical",v=e.get("feature")||{},g=this._features||(this._features={}),y=[];j(v,function(D,L){y.push(L)}),new xs(this._featureNames||[],y).add(m).update(m).remove(ve(m,null)).execute(),this._featureNames=y;function m(D,L){var R=y[D],O=y[L],P=v[R],V=new Me(P,e,e.ecModel),k;if(a&&a.newTitle!=null&&a.featureName===R&&(P.title=a.newTitle),R&&!O){if(r_t(R))k={onclick:V.option.onclick,featureName:R};else{var F=$7(R);if(!F)return;k=new F}g[R]=k}else if(k=g[O],!k)return;k.uid=Hh("toolbox-feature"),k.model=V,k.ecModel=n,k.api=i;var H=k instanceof oa;if(!R&&O){H&&k.dispose&&k.dispose(n,i);return}if(!V.get("show")||H&&k.unusable){H&&k.remove&&k.remove(n,i);return}b(V,k,R),V.setIconStatus=function(W,q){var Y=this.option,K=this.iconPaths;Y.iconStatus=Y.iconStatus||{},Y.iconStatus[W]=q,K[W]&&(q==="emphasis"?Ss:ws)(K[W])},k instanceof oa&&k.render&&k.render(V,n,i,a)}function b(D,L,R){var O=D.getModel("iconStyle"),P=D.getModel(["emphasis","iconStyle"]),V=L instanceof oa&&L.getIcons?L.getIcons():D.get("icon"),k=D.get("title")||{},F,H;$t(V)?(F={},F[R]=V):F=V,$t(k)?(H={},H[R]=k):H=k;var W=D.iconPaths={};j(F,function(q,Y){var K=Fv(q,{},{x:-c/2,y:-c/2,width:c,height:c});K.setStyle(O.getItemStyle());var X=K.ensureState("emphasis");X.style=P.getItemStyle();var J=new ke({style:{text:H[Y],align:P.get("textAlign"),borderRadius:P.get("textBorderRadius"),padding:P.get("textPadding"),fill:null,font:CA({fontStyle:P.get("textFontStyle"),fontFamily:P.get("textFontFamily"),fontSize:P.get("textFontSize"),fontWeight:P.get("textFontWeight")},n)},ignore:!0});K.setTextContent(J),Ms({el:K,componentModel:e,itemName:Y,formatterParamsExtra:{title:H[Y]}}),K.__title=H[Y],K.on("mouseover",function(){var it=P.getItemStyle(),rt=h?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";J.setStyle({fill:P.get("textFill")||it.fill||it.stroke||yt.color.neutral99,backgroundColor:P.get("textBackgroundColor")}),K.setTextConfig({position:P.get("textPosition")||rt}),J.ignore=!e.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){D.get(["iconStatus",Y])!=="emphasis"&&i.leaveEmphasis(this),J.hide()}),(D.get(["iconStatus",Y])==="emphasis"?Ss:ws)(K),o.add(K),K.on("click",qt(L.onclick,L,n,i,Y)),W[Y]=K})}var S=sn(e,i).refContainer,E=e.getBoxLayoutParams(),C=e.get("padding"),A=mr(E,S,C);gc(e.get("orient"),o,e.get("itemGap"),A.width,A.height),K_(o,E,S,C),o.add(q7(o.getBoundingRect(),e)),h||o.eachChild(function(D){var L=D.__title,R=D.ensureState("emphasis"),O=R.textConfig||(R.textConfig={}),P=D.getTextContent(),V=P&&P.ensureState("emphasis");if(V&&!re(V)&&L){var k=V.style||(V.style={}),F=O_(L,ke.makeFont(k)),H=D.x+o.x,W=D.y+o.y+c,q=!1;W+F.height>i.getHeight()&&(O.position="top",q=!0);var Y=q?-5-F.height:c+10;H+F.width/2>i.getWidth()?(O.position=["100%",Y],k.align="right"):H-F.width/2<0&&(O.position=[0,Y],k.align="left")}})},t.prototype.updateView=function(e,n,i,a){j(this._features,function(o){o instanceof oa&&o.updateView&&o.updateView(o.model,n,i,a)})},t.prototype.remove=function(e,n){j(this._features,function(i){i instanceof oa&&i.remove&&i.remove(e,n)}),this.group.removeAll()},t.prototype.dispose=function(e,n){j(this._features,function(i){i instanceof oa&&i.dispose&&i.dispose(e,n)})},t.type="toolbox",t})(vr);function r_t(r){return r.indexOf("my")===0}var n_t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){var i=this.model,a=i.get("name")||e.get("title.0.text")||"echarts",o=n.getZr().painter.getType()==="svg",c=o?"svg":i.get("type",!0)||"png",h=n.getConnectedDataURL({type:c,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||yt.color.neutral00,connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),v=De.browser;if(typeof MouseEvent=="function"&&(v.newEdge||!v.ie&&!v.edge)){var g=document.createElement("a");g.download=a+"."+c,g.target="_blank",g.href=h;var y=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});g.dispatchEvent(y)}else if(window.navigator.msSaveOrOpenBlob||o){var m=h.split(","),b=m[0].indexOf("base64")>-1,S=o?decodeURIComponent(m[1]):m[1];b&&(S=window.atob(S));var E=a+"."+c;if(window.navigator.msSaveOrOpenBlob){for(var C=S.length,A=new Uint8Array(C);C--;)A[C]=S.charCodeAt(C);var D=new Blob([A]);window.navigator.msSaveOrOpenBlob(D,E)}else{var L=document.createElement("iframe");document.body.appendChild(L);var R=L.contentWindow,O=R.document;O.open("image/svg+xml","replace"),O.write(S),O.close(),R.focus(),O.execCommand("SaveAs",!0,E),document.body.removeChild(L)}}else{var P=i.get("lang"),V='<body style="margin:0;"><img src="'+h+'" style="max-width:100%;" title="'+(P&&P[0]||"")+'" /></body>',k=window.open();k.document.write(V),k.document.title=a}},t.getDefaultOption=function(e){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:yt.color.neutral00,name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},t})(oa),BG="__ec_magicType_stack__",i_t=[["line","bar"],["stack"]],a_t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,n=e.get("icon"),i={};return j(e.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},t.getDefaultOption=function(e){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},t.prototype.onclick=function(e,n,i){var a=this.model,o=a.get(["seriesIndex",i]);if(HG[i]){var c={series:[]},h=function(y){var m=y.subType,b=y.id,S=HG[i](m,b,y,a);S&&(se(S,y.option),c.series.push(S));var E=y.coordinateSystem;if(E&&E.type==="cartesian2d"&&(i==="line"||i==="bar")){var C=E.getAxesByScale("ordinal")[0];if(C){var A=C.dim,D=A+"Axis",L=y.getReferringComponents(D,Ar).models[0],R=L.componentIndex;c[D]=c[D]||[];for(var O=0;O<=R;O++)c[D][R]=c[D][R]||{};c[D][R].boundaryGap=i==="bar"}}};j(i_t,function(y){ge(y,i)>=0&&j(y,function(m){a.setIconStatus(m,"normal")})}),a.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},h);var v,g=i;i==="stack"&&(v=ye({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(g="tiled")),n.dispatchAction({type:"changeMagicType",currentType:g,newOption:c,newTitle:v,featureName:"magicType"})}},t})(oa),HG={line:function(r,t,e,n){if(r==="bar")return ye({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(r,t,e,n){if(r==="line")return ye({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(r,t,e,n){var i=e.get("stack")===BG;if(r==="line"||r==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),ye({id:t,stack:i?"":BG},n.get(["option","stack"])||{},!0)}};Bo({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,t){t.mergeOption(r.newOption)});var pb=new Array(60).join("-"),Rh="	";function o_t(r){var t={},e=[],n=[];return r.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var c=o.dim+"_"+o.index;t[c]||(t[c]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),t[c].series.push(i)}else e.push(i)}else e.push(i)}),{seriesGroupByCategoryAxis:t,other:e,meta:n}}function s_t(r){var t=[];return j(r,function(e,n){var i=e.categoryAxis,a=e.valueAxis,o=a.dim,c=[" "].concat(Pt(e.series,function(b){return b.name})),h=[i.model.getCategories()];j(e.series,function(b){var S=b.getRawData();h.push(b.getRawData().mapArray(S.mapDimension(o),function(E){return E}))});for(var v=[c.join(Rh)],g=0;g<h[0].length;g++){for(var y=[],m=0;m<h.length;m++)y.push(h[m][g]);v.push(y.join(Rh))}t.push(v.join(`
`))}),t.join(`

`+pb+`

`)}function l_t(r){return Pt(r,function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],c=e.getName(o),h=0;h<a-1;h++)i[h]=arguments[h];n.push((c?c+Rh:"")+i.join(Rh))}),n.join(`
`)}).join(`

`+pb+`

`)}function u_t(r){var t=o_t(r);return{value:Ye([s_t(t.seriesGroupByCategoryAxis),l_t(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+pb+`

`),meta:t.meta}}function c_(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function c_t(r){var t=r.slice(0,r.indexOf(`
`));if(t.indexOf(Rh)>=0)return!0}var gC=new RegExp("["+Rh+"]+","g");function f_t(r){for(var t=r.split(/\n+/g),e=c_(t.shift()).split(gC),n=[],i=Pt(e,function(h){return{name:h,data:[]}}),a=0;a<t.length;a++){var o=c_(t[a]).split(gC);n.push(o.shift());for(var c=0;c<o.length;c++)i[c]&&(i[c].data[a]=o[c])}return{series:i,categories:n}}function h_t(r){for(var t=r.split(/\n+/g),e=c_(t.shift()),n=[],i=0;i<t.length;i++){var a=c_(t[i]);if(a){var o=a.split(gC),c="",h=void 0,v=!1;isNaN(o[0])?(v=!0,c=o[0],o=o.slice(1),n[i]={name:c,value:[]},h=n[i].value):h=n[i]=[];for(var g=0;g<o.length;g++)h.push(+o[g]);h.length===1&&(v?n[i].value=h[0]:n[i]=h[0])}}return{name:e,data:n}}function p_t(r,t){var e=r.split(new RegExp(`
*`+pb+`
*`,"g")),n={series:[]};return j(e,function(i,a){if(c_t(i)){var o=f_t(i),c=t[a],h=c.axisDim+"Axis";c&&(n[h]=n[h]||[],n[h][c.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=h_t(i);n.series.push(o)}}),n}var d_t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||yt.color.neutral00;var c=document.createElement("h4"),h=a.get("lang")||[];c.innerHTML=h[0]||a.get("title"),c.style.cssText="margin:10px 20px",c.style.color=a.get("textColor");var v=document.createElement("div"),g=document.createElement("textarea");v.style.cssText="overflow:auto";var y=a.get("optionToContent"),m=a.get("contentToOption"),b=u_t(e);if(re(y)){var S=y(n.getOption());$t(S)?v.innerHTML=S:yh(S)&&v.appendChild(S)}else{g.readOnly=a.get("readOnly");var E=g.style;E.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",E.color=a.get("textColor"),E.borderColor=a.get("textareaBorderColor"),E.backgroundColor=a.get("textareaColor"),g.value=b.value,v.appendChild(g)}var C=b.meta,A=document.createElement("div");A.style.cssText="position:absolute;bottom:5px;left:0;right:0";var D="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",L=document.createElement("div"),R=document.createElement("div");D+=";background-color:"+a.get("buttonColor"),D+=";color:"+a.get("buttonTextColor");var O=this;function P(){i.removeChild(o),O._dom=null}AE(L,"click",P),AE(R,"click",function(){if(m==null&&y!=null||m!=null&&y==null){P();return}var V;try{re(m)?V=m(v,n.getOption()):V=p_t(g.value,C)}catch(k){throw P(),new Error("Data view format error "+k)}V&&n.dispatchAction({type:"changeDataView",newOption:V}),P()}),L.innerHTML=h[1],R.innerHTML=h[2],R.style.cssText=L.style.cssText=D,!a.get("readOnly")&&A.appendChild(R),A.appendChild(L),o.appendChild(c),o.appendChild(v),o.appendChild(A),v.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},t.prototype.remove=function(e,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.getDefaultOption=function(e){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:yt.color.background,textColor:yt.color.primary,textareaColor:yt.color.background,textareaBorderColor:yt.color.border,buttonColor:yt.color.accent50,buttonTextColor:yt.color.neutral00};return n},t})(oa);function v_t(r,t){return Pt(r,function(e,n){var i=t&&t[n];if(le(i)&&!Rt(i)){var a=le(e)&&!Rt(e);a||(e={value:e});var o=i.name!=null&&e.name==null;return e=se(e,i),o&&delete e.name,e}else return e})}Bo({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,t){var e=[];j(r.newOption.series,function(n){var i=t.getSeriesByName(n.name)[0];if(!i)e.push(Mt({type:"scatter"},n));else{var a=i.get("data");e.push({name:n.name,data:v_t(n.data,a)})}}),t.mergeOption(se({series:e},r.newOption))});var X7=j,Z7=Ee();function g_t(r,t){var e=sM(r);X7(t,function(n,i){for(var a=e.length-1;a>=0;a--){var o=e[a];if(o[i])break}if(a<0){var c=r.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(c){var h=c.getPercentRange();e[0][i]={dataZoomId:i,start:h[0],end:h[1]}}}}),e.push(t)}function y_t(r){var t=sM(r),e=t[t.length-1];t.length>1&&t.pop();var n={};return X7(e,function(i,a){for(var o=t.length-1;o>=0;o--)if(i=t[o][a],i){n[a]=i;break}}),n}function m_t(r){Z7(r).snapshots=null}function __t(r){return sM(r).length}function sM(r){var t=Z7(r);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var b_t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){m_t(e),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return n},t})(oa);Bo({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,t){t.resetOption("recreate")});var S_t=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],lM=(function(){function r(t,e,n){var i=this;this._targetInfoList=[];var a=zG(e,t);j(w_t,function(o,c){(!n||!n.include||ge(n.include,c)>=0)&&o(a,i._targetInfoList)})}return r.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var o=jx[n.brushType](0,a,i);n.__rangeOffset={offset:YG[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},r.prototype.matchOutputRanges=function(t,e,n){j(t,function(i){var a=this.findTargetInfo(i,e);a&&a!==!0&&j(a.coordSyses,function(o){var c=jx[i.brushType](1,o,i.range,!0);n(i,c.values,o,e)})},this)},r.prototype.setInputRanges=function(t,e){j(t,function(n){var i=this.findTargetInfo(n,e);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=jx[n.brushType](0,i.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?YG[n.brushType](a.values,o.offset,x_t(a.xyMinMax,o.xyMinMax)):a.values}},this)},r.prototype.makePanelOpts=function(t,e){return Pt(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:e7(i),isTargetByCursor:n7(i,t,n.coordSysModel),getLinearBrushOtherExtent:r7(i)}})},r.prototype.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return i===!0||i&&ge(i.coordSyses,e.coordinateSystem)>=0},r.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=zG(e,t),a=0;a<n.length;a++){var o=n[a],c=t.panelId;if(c){if(o.panelId===c)return o}else for(var h=0;h<UG.length;h++)if(UG[h](i,o))return o}return!0},r})();function yC(r){return r[0]>r[1]&&r.reverse(),r}function zG(r,t){return fh(r,t,{includeMainTypes:S_t})}var w_t={grid:function(r,t){var e=r.xAxisModels,n=r.yAxisModels,i=r.gridModels,a=Qt(),o={},c={};!e&&!n&&!i||(j(e,function(h){var v=h.axis.grid.model;a.set(v.id,v),o[v.id]=!0}),j(n,function(h){var v=h.axis.grid.model;a.set(v.id,v),c[v.id]=!0}),j(i,function(h){a.set(h.id,h),o[h.id]=!0,c[h.id]=!0}),a.each(function(h){var v=h.coordinateSystem,g=[];j(v.getCartesians(),function(y,m){(ge(e,y.getAxis("x").model)>=0||ge(n,y.getAxis("y").model)>=0)&&g.push(y)}),t.push({panelId:"grid--"+h.id,gridModel:h,coordSysModel:h,coordSys:g[0],coordSyses:g,getPanelRect:WG.grid,xAxisDeclared:o[h.id],yAxisDeclared:c[h.id]})}))},geo:function(r,t){j(r.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:WG.geo})})}},UG=[function(r,t){var e=r.xAxisModel,n=r.yAxisModel,i=r.gridModel;return!i&&e&&(i=e.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===t.gridModel},function(r,t){var e=r.geoModel;return e&&e===t.geoModel}],WG={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,t=r.getBoundingRect().clone();return t.applyTransform(vc(r)),t}},jx={lineX:ve(jG,0),lineY:ve(jG,1),rect:function(r,t,e,n){var i=r?t.pointToData([e[0][0],e[1][0]],n):t.dataToPoint([e[0][0],e[1][0]],n),a=r?t.pointToData([e[0][1],e[1][1]],n):t.dataToPoint([e[0][1],e[1][1]],n),o=[yC([i[0],a[0]]),yC([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(r,t,e,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=Pt(e,function(o){var c=r?t.pointToData(o,n):t.dataToPoint(o,n);return i[0][0]=Math.min(i[0][0],c[0]),i[1][0]=Math.min(i[1][0],c[1]),i[0][1]=Math.max(i[0][1],c[0]),i[1][1]=Math.max(i[1][1],c[1]),c});return{values:a,xyMinMax:i}}};function jG(r,t,e,n){var i=e.getAxis(["x","y"][r]),a=yC(Pt([0,1],function(c){return t?i.coordToData(i.toLocalCoord(n[c]),!0):i.toGlobalCoord(i.dataToCoord(n[c]))})),o=[];return o[r]=a,o[1-r]=[NaN,NaN],{values:a,xyMinMax:o}}var YG={lineX:ve($G,0),lineY:ve($G,1),rect:function(r,t,e){return[[r[0][0]-e[0]*t[0][0],r[0][1]-e[0]*t[0][1]],[r[1][0]-e[1]*t[1][0],r[1][1]-e[1]*t[1][1]]]},polygon:function(r,t,e){return Pt(r,function(n,i){return[n[0]-e[0]*t[i][0],n[1]-e[1]*t[i][1]]})}};function $G(r,t,e,n){return[t[0]-n[r]*e[0],t[1]-n[r]*e[1]]}function x_t(r,t){var e=qG(r),n=qG(t),i=[e[0]/n[0],e[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function qG(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var mC=j,E_t=brt("toolbox-dataZoom_"),T_t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i,a){this._brushController||(this._brushController=new ID(i.getZr()),this._brushController.on("brush",qt(this._onBrush,this)).mount()),D_t(e,n,this,a,i),A_t(e,n)},t.prototype.onclick=function(e,n,i){C_t[i].call(this)},t.prototype.remove=function(e,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var n=e.areas;if(!e.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new lM(uM(this.model),a,{include:["grid"]});o.matchOutputRanges(n,a,function(v,g,y){if(y.type==="cartesian2d"){var m=v.brushType;m==="rect"?(c("x",y,g[0]),c("y",y,g[1])):c({lineX:"x",lineY:"y"}[m],y,g)}}),g_t(a,i),this._dispatchZoomAction(i);function c(v,g,y){var m=g.getAxis(v),b=m.model,S=h(v,b,a),E=S.findRepresentativeAxisProxy(b).getMinMaxSpan();(E.minValueSpan!=null||E.maxValueSpan!=null)&&(y=Rl(0,y.slice(),m.scale.getExtent(),0,E.minValueSpan,E.maxValueSpan)),S&&(i[S.id]={dataZoomId:S.id,startValue:y[0],endValue:y[1]})}function h(v,g,y){var m;return y.eachComponent({mainType:"dataZoom",subType:"select"},function(b){var S=b.getAxisModel(v,g.componentIndex);S&&(m=b)}),m}},t.prototype._dispatchZoomAction=function(e){var n=[];mC(e,function(i,a){n.push(ie(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(e){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:yt.color.backgroundTint}};return n},t})(oa),C_t={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(y_t(this.ecModel))}};function uM(r){var t={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function A_t(r,t){r.setIconStatus("back",__t(t)>1?"emphasis":"normal")}function D_t(r,t,e,n,i){var a=e._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),e._isZoomActive=a,r.setIconStatus("zoom",a?"emphasis":"normal");var o=new lM(uM(r),t,{include:["grid"]}),c=o.makePanelOpts(i,function(h){return h.xAxisDeclared&&!h.yAxisDeclared?"lineX":!h.xAxisDeclared&&h.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(c).enableBrush(a&&c.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}nat("dataZoom",function(r){var t=r.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var n=t.getModel(e),i=[],a=uM(n),o=fh(r,a);mC(o.xAxisModels,function(h){return c(h,"xAxis","xAxisIndex")}),mC(o.yAxisModels,function(h){return c(h,"yAxis","yAxisIndex")});function c(h,v,g){var y=h.componentIndex,m={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:E_t+v+y};m[g]=y,i.push(m)}return i});function M_t(r){r.registerComponentModel(t_t),r.registerComponentView(e_t),Jf("saveAsImage",n_t),Jf("magicType",a_t),Jf("dataView",d_t),Jf("dataZoom",T_t),Jf("restore",b_t),be(Q0t)}var L_t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:yt.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:yt.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:yt.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:yt.color.tertiary,fontSize:14}},t})(Ce);function K7(r){var t=r.get("confine");return t!=null?!!t:r.get("renderMode")==="richText"}function J7(r){if(De.domSupported){for(var t=document.documentElement.style,e=0,n=r.length;e<n;e++)if(r[e]in t)return r[e]}}var Q7=J7(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),N_t=J7(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function t9(r,t){if(!r)return t;t=a4(t,!0);var e=r.indexOf(t);return r=e===-1?t:"-"+r.slice(0,e)+"-"+t,r.toLowerCase()}function R_t(r,t){var e=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return e?e[t]:null}var I_t=t9(N_t,"transition"),cM=t9(Q7,"transform"),O_t="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(De.transform3dSupported?"will-change:transform;":"");function P_t(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function k_t(r,t,e){if(!$t(e)||e==="inside")return"";var n=r.get("backgroundColor"),i=r.get("borderWidth");t=Cc(t);var a=P_t(e),o=Math.max(Math.round(i)*1.5,6),c="",h=cM+":",v;ge(["left","right"],a)>-1?(c+="top:50%",h+="translateY(-50%) rotate("+(v=a==="left"?-225:-45)+"deg)"):(c+="left:50%",h+="translateX(-50%) rotate("+(v=a==="top"?225:45)+"deg)");var g=v*Math.PI/180,y=o+i,m=y*Math.abs(Math.cos(g))+y*Math.abs(Math.sin(g)),b=Math.round(((m-Math.SQRT2*i)/2+Math.SQRT2*i-(m-y)/2)*100)/100;c+=";"+a+":-"+b+"px";var S=t+" solid "+i+"px;",E=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",c+";"+h+";","border-bottom:"+S,"border-right:"+S,"background-color:"+n+";"];return'<div style="'+E.join("")+'"></div>'}function V_t(r,t,e){var n="cubic-bezier(0.23,1,0.32,1)",i="",a="";return e&&(i=" "+r/2+"s "+n,a="opacity"+i+",visibility"+i),t||(i=" "+r+"s "+n,a+=(a.length?",":"")+(De.transformSupported?""+cM+i:",left"+i+",top"+i)),I_t+":"+a}function XG(r,t,e){var n=r.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!De.transformSupported)return e?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=De.transform3dSupported,o="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return e?"top:0;left:0;"+cM+":"+o+";":[["top",0],["left",0],[Q7,o]]}function G_t(r){var t=[],e=r.get("fontSize"),n=r.getTextColor();n&&t.push("color:"+n),t.push("font:"+r.getFont());var i=te(r.get("lineHeight"),Math.round(e*3/2));e&&t.push("line-height:"+i+"px");var a=r.get("textShadowColor"),o=r.get("textShadowBlur")||0,c=r.get("textShadowOffsetX")||0,h=r.get("textShadowOffsetY")||0;return a&&o&&t.push("text-shadow:"+c+"px "+h+"px "+o+"px "+a),j(["decoration","align"],function(v){var g=r.get(v);g&&t.push("text-"+v+":"+g)}),t.join(";")}function F_t(r,t,e,n){var i=[],a=r.get("transitionDuration"),o=r.get("backgroundColor"),c=r.get("shadowBlur"),h=r.get("shadowColor"),v=r.get("shadowOffsetX"),g=r.get("shadowOffsetY"),y=r.getModel("textStyle"),m=Y4(r,"html"),b=v+"px "+g+"px "+c+"px "+h;return i.push("box-shadow:"+b),t&&a>0&&i.push(V_t(a,e,n)),o&&i.push("background-color:"+o),j(["width","color","radius"],function(S){var E="border-"+S,C=a4(E),A=r.get(C);A!=null&&i.push(E+":"+A+(S==="color"?"":"px"))}),i.push(G_t(y)),m!=null&&i.push("padding:"+Bv(m).join("px ")+"px"),i.join(";")+";"}function ZG(r,t,e,n,i){var a=t&&t.painter;if(e){var o=a&&a.getViewportRoot();o&&Htt(r,o,e,n,i)}else{r[0]=n,r[1]=i;var c=a&&a.getViewportRootOffset();c&&(r[0]+=c.offsetLeft,r[1]+=c.offsetTop)}r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var B_t=(function(){function r(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,De.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=t.getZr(),a=e.appendTo,o=a&&($t(a)?document.querySelector(a):yh(a)?a:re(a)&&a(t.getDom()));ZG(this._styleCoord,i,o,t.getWidth()/2,t.getHeight()/2),(o||t.getDom()).appendChild(n),this._api=t,this._container=o;var c=this;n.onmouseenter=function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0},n.onmousemove=function(h){if(h=h||window.event,!c._enterable){var v=i.handler,g=i.painter.getViewportRoot();ea(g,h,!0),v.dispatch("mousemove",h)}},n.onmouseleave=function(){c._inContent=!1,c._enterable&&c._show&&c.hideLater(c._hideDelay)}}return r.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),n=R_t(e,"position"),i=e.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=t.get("displayTransition")&&t.get("transitionDuration")>0,this.el.className=t.get("className")||""},r.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=O_t+F_t(t,!this._firstShow,this._longHide,this._enableDisplayTransition)+XG(a[0],a[1],!0)+("border-color:"+Cc(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(t,e,n,i,a){var o=this.el;if(t==null){o.innerHTML="";return}var c="";if($t(a)&&n.get("trigger")==="item"&&!K7(n)&&(c=k_t(n,i,a)),$t(t))o.innerHTML=t+c;else if(t){o.innerHTML="",Rt(t)||(t=[t]);for(var h=0;h<t.length;h++)yh(t[h])&&t[h].parentNode!==o&&o.appendChild(t[h]);if(c&&o.childNodes.length){var v=document.createElement("div");v.innerHTML=c,o.appendChild(v)}}},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},r.prototype.moveTo=function(t,e){if(this.el){var n=this._styleCoord;if(ZG(n,this._zr,this._container,t,e),n[0]!=null&&n[1]!=null){var i=this.el.style,a=XG(n[0],n[1]);j(a,function(o){i[o[0]]=o[1]})}}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){var t=this,e=this.el.style;this._enableDisplayTransition?(e.visibility="hidden",e.opacity="0"):e.display="none",De.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(qt(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this._zr;ztt(t&&t.painter&&t.painter.getViewportRoot(),this._container);var e=this.el;if(e){e.onmouseenter=e.onmousemove=e.onmouseleave=null;var n=e.parentNode;n&&n.removeChild(e)}this.el=this._container=null},r})(),H_t=(function(){function r(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),JG(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return r.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(t,e,n,i,a){var o=this;le(t)&&Ue(""),this.el&&this._zr.remove(this.el);var c=n.getModel("textStyle");this.el=new ke({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:c.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Y4(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),j(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(v){o.el.style[v]=n.get(v)}),j(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(v){o.el.style[v]=c.get(v)||0}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=KG(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},r.prototype.moveTo=function(t,e){var n=this.el;if(n){var i=this._styleCoord;JG(i,this._zr,t,e),t=i[0],e=i[1];var a=n.style,o=il(a.borderWidth||0),c=KG(a);n.x=t+o+c.left,n.y=e+o+c.top,n.markRedraw()}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(qt(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r})();function il(r){return Math.max(0,r)}function KG(r){var t=il(r.shadowBlur||0),e=il(r.shadowOffsetX||0),n=il(r.shadowOffsetY||0);return{left:il(t-e),right:il(t+e),top:il(t-n),bottom:il(t+n)}}function JG(r,t,e,n){r[0]=e,r[1]=n,r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var z_t=new xe({shape:{x:-1,y:-1,width:2,height:2}}),U_t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){if(!(De.node||!n.getDom())){var i=e.getComponent("tooltip"),a=this._renderMode=Art(i.get("renderMode"));this._tooltipContent=a==="richText"?new H_t(n):new B_t(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(e,n,i){if(!(De.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?Uh(this,"_updatePosition",50,"fixRate"):dv(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,n=e.get("triggerOn");P7("itemTooltip",this._api,qt(function(i,a,o){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,n=this._ecModel,i=this._api,a=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(e,n,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,n,i,a){if(!(a.from===this.uid||De.node||!i.getDom())){var o=QG(a,i);this._ticket="";var c=a.dataByCoordSys,h=$_t(a,n,i);if(h){var v=h.el.getBoundingRect().clone();v.applyTransform(h.el.transform),this._tryShow({offsetX:v.x+v.width/2,offsetY:v.y+v.height/2,target:h.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var g=z_t;g.x=a.x,g.y=a.y,g.update(),fe(g).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:g},o)}else if(c)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:c,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(e,n,i,a))return;var y=k7(a,n),m=y.point[0],b=y.point[1];m!=null&&b!=null&&this._tryShow({offsetX:m,offsetY:b,target:y.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},t.prototype.manuallyHideTip=function(e,n,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(QG(a,i))},t.prototype._manuallyAxisShowTip=function(e,n,i,a){var o=a.seriesIndex,c=a.dataIndex,h=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||c==null||h==null)){var v=n.getSeriesByIndex(o);if(v){var g=v.getData(),y=fd([g.getItemModel(c),v,(v.coordinateSystem||{}).model],this._tooltipModel);if(y.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:c,position:a.position}),!0}}},t.prototype._tryShow=function(e,n){var i=e.target,a=this._tooltipModel;if(a){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(i){var c=fe(i);if(c.ssrType==="legend")return;this._lastDataByCoordSys=null;var h,v;ac(i,function(g){if(g.tooltipDisabled)return h=v=null,!0;h||v||(fe(g).dataIndex!=null?h=g:fe(g).tooltipConfig!=null&&(v=g))},!0),h?this._showSeriesItemTooltip(e,h,n):v?this._showComponentItemTooltip(e,v,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(e,n){var i=e.get("showDelay");n=qt(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},t.prototype._showAxisTooltip=function(e,n){var i=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],c=fd([n.tooltipOption],a),h=this._renderMode,v=[],g=Zr("section",{blocks:[],noHeader:!0}),y=[],m=new Ew;j(e,function(D){j(D.dataByAxis,function(L){var R=i.getComponent(L.axisDim+"Axis",L.axisIndex),O=L.value;if(!(!R||O==null)){var P=R7(O,R.axis,i,L.seriesDataIndices,L.valueLabelOpt),V=Zr("section",{header:P,noHeader:!ua(P),sortBlocks:!0,blocks:[]});g.blocks.push(V),j(L.seriesDataIndices,function(k){var F=i.getSeriesByIndex(k.seriesIndex),H=k.dataIndexInside,W=F.getDataParams(H);if(!(W.dataIndex<0)){W.axisDim=L.axisDim,W.axisIndex=L.axisIndex,W.axisType=L.axisType,W.axisId=L.axisId,W.axisValue=H0(R.axis,{value:O}),W.axisValueLabel=P,W.marker=m.makeTooltipMarker("item",Cc(W.color),h);var q=dP(F.formatTooltip(H,!0,null)),Y=q.frag;if(Y){var K=fd([F],a).get("valueFormatter");V.blocks.push(K?Mt({valueFormatter:K},Y):Y)}q.text&&y.push(q.text),v.push(W)}})}})}),g.blocks.reverse(),y.reverse();var b=n.position,S=c.get("order"),E=bP(g,m,h,S,i.get("useUTC"),c.get("textStyle"));E&&y.unshift(E);var C=h==="richText"?`

`:"<br/>",A=y.join(C);this._showOrMove(c,function(){this._updateContentNotChangedOnAxis(e,v)?this._updatePosition(c,b,o[0],o[1],this._tooltipContent,v):this._showTooltipContent(c,A,v,Math.random()+"",o[0],o[1],b,null,m)})},t.prototype._showSeriesItemTooltip=function(e,n,i){var a=this._ecModel,o=fe(n),c=o.seriesIndex,h=a.getSeriesByIndex(c),v=o.dataModel||h,g=o.dataIndex,y=o.dataType,m=v.getData(y),b=this._renderMode,S=e.positionDefault,E=fd([m.getItemModel(g),v,h&&(h.coordinateSystem||{}).model],this._tooltipModel,S?{position:S}:null),C=E.get("trigger");if(!(C!=null&&C!=="item")){var A=v.getDataParams(g,y),D=new Ew;A.marker=D.makeTooltipMarker("item",Cc(A.color),b);var L=dP(v.formatTooltip(g,!1,y)),R=E.get("order"),O=E.get("valueFormatter"),P=L.frag,V=P?bP(O?Mt({valueFormatter:O},P):P,D,b,R,a.get("useUTC"),E.get("textStyle")):L.text,k="item_"+v.name+"_"+g;this._showOrMove(E,function(){this._showTooltipContent(E,V,A,k,e.offsetX,e.offsetY,e.position,e.target,D)}),i({type:"showTip",dataIndexInside:g,dataIndex:m.getRawIndex(g),seriesIndex:c,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,n,i){var a=this._renderMode==="html",o=fe(n),c=o.tooltipConfig,h=c.option||{},v=h.encodeHTMLContent;if($t(h)){var g=h;h={content:g,formatter:g},v=!0}v&&a&&h.content&&(h=ie(h),h.content=ui(h.content));var y=[h],m=this._ecModel.getComponent(o.componentMainType,o.componentIndex);m&&y.push(m),y.push({formatter:h.content});var b=e.positionDefault,S=fd(y,this._tooltipModel,b?{position:b}:null),E=S.get("content"),C=Math.random()+"",A=new Ew;this._showOrMove(S,function(){var D=ie(S.get("formatterParams")||{});this._showTooltipContent(S,E,D,C,e.offsetX,e.offsetY,e.position,n,A)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,n,i,a,o,c,h,v,g){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var y=this._tooltipContent;y.setEnterable(e.get("enterable"));var m=e.get("formatter");h=h||e.get("position");var b=n,S=this._getNearestPoint([o,c],i,e.get("trigger"),e.get("borderColor"),e.get("defaultBorderColor",!0)),E=S.color;if(m)if($t(m)){var C=e.ecModel.get("useUTC"),A=Rt(i)?i[0]:i,D=A&&A.axisType&&A.axisType.indexOf("time")>=0;b=m,D&&(b=Z_(A.axisValue,b,C)),b=o4(b,i,!0)}else if(re(m)){var L=qt(function(R,O){R===this._ticket&&(y.setContent(O,g,e,E,h),this._updatePosition(e,h,o,c,y,i,v))},this);this._ticket=a,b=m(i,a,L)}else b=m;y.setContent(b,g,e,E,h),y.show(e,E),this._updatePosition(e,h,o,c,y,i,v)}},t.prototype._getNearestPoint=function(e,n,i,a,o){if(i==="axis"||Rt(n))return{color:a||o};if(!Rt(n))return{color:a||n.color||n.borderColor}},t.prototype._updatePosition=function(e,n,i,a,o,c,h){var v=this._api.getWidth(),g=this._api.getHeight();n=n||e.get("position");var y=o.getSize(),m=e.get("align"),b=e.get("verticalAlign"),S=h&&h.getBoundingRect().clone();if(h&&S.applyTransform(h.transform),re(n)&&(n=n([i,a],c,o.el,S,{viewSize:[v,g],contentSize:y.slice()})),Rt(n))i=Yt(n[0],v),a=Yt(n[1],g);else if(le(n)){var E=n;E.width=y[0],E.height=y[1];var C=mr(E,{width:v,height:g});i=C.x,a=C.y,m=null,b=null}else if($t(n)&&h){var A=Y_t(n,S,y,e.get("borderWidth"));i=A[0],a=A[1]}else{var A=W_t(i,a,o,v,g,m?null:20,b?null:20);i=A[0],a=A[1]}if(m&&(i-=t3(m)?y[0]/2:m==="right"?y[0]:0),b&&(a-=t3(b)?y[1]/2:b==="bottom"?y[1]:0),K7(e)){var A=j_t(i,a,o,v,g);i=A[0],a=A[1]}o.moveTo(i,a)},t.prototype._updateContentNotChangedOnAxis=function(e,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===e.length;return o&&j(i,function(c,h){var v=c.dataByAxis||[],g=e[h]||{},y=g.dataByAxis||[];o=o&&v.length===y.length,o&&j(v,function(m,b){var S=y[b]||{},E=m.seriesDataIndices||[],C=S.seriesDataIndices||[];o=o&&m.value===S.value&&m.axisType===S.axisType&&m.axisId===S.axisId&&E.length===C.length,o&&j(E,function(A,D){var L=C[D];o=o&&A.seriesIndex===L.seriesIndex&&A.dataIndex===L.dataIndex}),a&&j(m.seriesDataIndices,function(A){var D=A.seriesIndex,L=n[D],R=a[D];L&&R&&R.data!==L.data&&(o=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=n,!!o},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,n){De.node||!n.getDom()||(dv(this,"_updatePosition"),this._tooltipContent.dispose(),cC("itemTooltip",n))},t.type="tooltip",t})(vr);function fd(r,t,e){var n=t.ecModel,i;e?(i=new Me(e,n,n),i=new Me(t.option,i,n)):i=t;for(var a=r.length-1;a>=0;a--){var o=r[a];o&&(o instanceof Me&&(o=o.get("tooltip",!0)),$t(o)&&(o={formatter:o}),o&&(i=new Me(o,i,n)))}return i}function QG(r,t){return r.dispatchAction||qt(t.dispatchAction,t)}function W_t(r,t,e,n,i,a,o){var c=e.getSize(),h=c[0],v=c[1];return a!=null&&(r+h+a+2>n?r-=h+a:r+=a),o!=null&&(t+v+o>i?t-=v+o:t+=o),[r,t]}function j_t(r,t,e,n,i){var a=e.getSize(),o=a[0],c=a[1];return r=Math.min(r+o,n)-o,t=Math.min(t+c,i)-c,r=Math.max(r,0),t=Math.max(t,0),[r,t]}function Y_t(r,t,e,n){var i=e[0],a=e[1],o=Math.ceil(Math.SQRT2*n)+8,c=0,h=0,v=t.width,g=t.height;switch(r){case"inside":c=t.x+v/2-i/2,h=t.y+g/2-a/2;break;case"top":c=t.x+v/2-i/2,h=t.y-a-o;break;case"bottom":c=t.x+v/2-i/2,h=t.y+g+o;break;case"left":c=t.x-i-o,h=t.y+g/2-a/2;break;case"right":c=t.x+v+o,h=t.y+g/2-a/2}return[c,h]}function t3(r){return r==="center"||r==="middle"}function $_t(r,t,e){var n=hA(r).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=kh(t,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var c=e.getViewOfComponentModel(o),h;if(c.group.traverse(function(v){var g=fe(v).tooltipConfig;if(g&&g.name===r.name)return h=v,!0}),h)return{componentMainType:i,componentIndex:o.componentIndex,el:h}}}}function q_t(r){be(Kv),r.registerComponentModel(L_t),r.registerComponentView(U_t),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Fr),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Fr)}var X_t=["rect","polygon","keep","clear"];function Z_t(r,t){var e=tr(r?r.brush:[]);if(e.length){var n=[];j(e,function(h){var v=h.hasOwnProperty("toolbox")?h.toolbox:[];v instanceof Array&&(n=n.concat(v))});var i=r&&r.toolbox;Rt(i)&&(i=i[0]),i||(i={feature:{}},r.toolbox=[i]);var a=i.feature||(i.feature={}),o=a.brush||(a.brush={}),c=o.type||(o.type=[]);c.push.apply(c,n),K_t(c),t&&!c.length&&c.push.apply(c,X_t)}}function K_t(r){var t={};j(r,function(e){t[e]=1}),r.length=0,j(t,function(e,n){r.push(n)})}var e3=j;function r3(r){if(r){for(var t in r)if(r.hasOwnProperty(t))return!0}}function _C(r,t,e){var n={};return e3(t,function(a){var o=n[a]=i();e3(r[a],function(c,h){if(hn.isValidType(h)){var v={type:h,visual:c};e&&e(v,a),o[h]=new hn(v),h==="opacity"&&(v=ie(v),v.type="colorAlpha",o.__hidden.__alphaForOpacity=new hn(v))}})}),n;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var o=new a;return o}}function e9(r,t,e){var n;j(e,function(i){t.hasOwnProperty(i)&&r3(t[i])&&(n=!0)}),n&&j(e,function(i){t.hasOwnProperty(i)&&r3(t[i])?r[i]=ie(t[i]):delete r[i]})}function J_t(r,t,e,n,i,a){var o={};j(r,function(y){var m=hn.prepareVisualTypes(t[y]);o[y]=m});var c;function h(y){return $A(e,c,y)}function v(y,m){r6(e,c,y,m)}e.each(g);function g(y,m){c=y;var b=e.getRawDataItem(c);if(!(b&&b.visualMap===!1))for(var S=n.call(i,y),E=t[S],C=o[S],A=0,D=C.length;A<D;A++){var L=C[A];E[L]&&E[L].applyVisual(y,h,v)}}}function Q_t(r,t,e,n){var i={};return j(r,function(a){var o=hn.prepareVisualTypes(t[a]);i[a]=o}),{progress:function(o,c){var h;n!=null&&(h=c.getDimensionIndex(n));function v(O){return $A(c,y,O)}function g(O,P){r6(c,y,O,P)}for(var y,m=c.getStore();(y=o.next())!=null;){var b=c.getRawDataItem(y);if(!(b&&b.visualMap===!1))for(var S=n!=null?m.get(h,y):y,E=e(S),C=t[E],A=i[E],D=0,L=A.length;D<L;D++){var R=A[D];C[R]&&C[R].applyVisual(S,v,g)}}}}}function tbt(r){var t=r.brushType,e={point:function(n){return n3[t].point(n,e,r)},rect:function(n){return n3[t].rect(n,e,r)}};return e}var n3={lineX:i3(0),lineY:i3(1),rect:{point:function(r,t,e){return r&&e.boundingRect.contain(r[0],r[1])},rect:function(r,t,e){return r&&e.boundingRect.intersect(r)}},polygon:{point:function(r,t,e){return r&&e.boundingRect.contain(r[0],r[1])&&Ku(e.range,r[0],r[1])},rect:function(r,t,e){var n=e.range;if(!r||n.length<=1)return!1;var i=r.x,a=r.y,o=r.width,c=r.height,h=n[0];if(Ku(n,i,a)||Ku(n,i+o,a)||Ku(n,i,a+c)||Ku(n,i+o,a+c)||ue.create(r).contain(h[0],h[1])||Sd(i,a,i+o,a,n)||Sd(i,a,i,a+c,n)||Sd(i+o,a,i+o,a+c,n)||Sd(i,a+c,i+o,a+c,n))return!0}}};function i3(r){var t=["x","y"],e=["width","height"];return{point:function(n,i,a){if(n){var o=a.range,c=n[r];return hd(c,o)}},rect:function(n,i,a){if(n){var o=a.range,c=[n[t[r]],n[t[r]]+n[e[r]]];return c[1]<c[0]&&c.reverse(),hd(c[0],o)||hd(c[1],o)||hd(o[0],c)||hd(o[1],c)}}}}function hd(r,t){return t[0]<=r&&r<=t[1]}var a3=["inBrush","outOfBrush"],Yx="__ecBrushSelect",bC="__ecInBrushSelectEvent";function r9(r){r.eachComponent({mainType:"brush"},function(t){var e=t.brushTargetManager=new lM(t.option,r);e.setInputRanges(t.areas,r)})}function ebt(r,t,e){var n=[],i,a;r.eachComponent({mainType:"brush"},function(o){e&&e.type==="takeGlobalCursor"&&o.setBrushOption(e.key==="brush"?e.brushOption:{brushType:!1})}),r9(r),r.eachComponent({mainType:"brush"},function(o,c){var h={brushId:o.id,brushIndex:c,brushName:o.name,areas:ie(o.areas),selected:[]};n.push(h);var v=o.option,g=v.brushLink,y=[],m=[],b=[],S=!1;c||(i=v.throttleType,a=v.throttleDelay);var E=Pt(o.areas,function(O){var P=abt[O.brushType],V=se({boundingRect:P?P(O):void 0},O);return V.selectors=tbt(V),V}),C=_C(o.option,a3,function(O){O.mappingMethod="fixed"});Rt(g)&&j(g,function(O){y[O]=1});function A(O){return g==="all"||!!y[O]}function D(O){return!!O.length}r.eachSeries(function(O,P){var V=b[P]=[];O.subType==="parallel"?L(O,P):R(O,P,V)});function L(O,P){var V=O.coordinateSystem;S=S||V.hasAxisBrushed(),A(P)&&V.eachActiveState(O.getData(),function(k,F){k==="active"&&(m[F]=1)})}function R(O,P,V){if(!(!O.brushSelector||ibt(o,P))&&(j(E,function(F){o.brushTargetManager.controlSeries(F,O,r)&&V.push(F),S=S||D(V)}),A(P)&&D(V))){var k=O.getData();k.each(function(F){o3(O,V,k,F)&&(m[F]=1)})}}r.eachSeries(function(O,P){var V={seriesId:O.id,seriesIndex:P,seriesName:O.name,dataIndex:[]};h.selected.push(V);var k=b[P],F=O.getData(),H=A(P)?function(W){return m[W]?(V.dataIndex.push(F.getRawIndex(W)),"inBrush"):"outOfBrush"}:function(W){return o3(O,k,F,W)?(V.dataIndex.push(F.getRawIndex(W)),"inBrush"):"outOfBrush"};(A(P)?S:D(k))&&J_t(a3,C,F,H)})}),rbt(t,i,a,n,e)}function rbt(r,t,e,n,i){if(i){var a=r.getZr();if(!a[bC]){a[Yx]||(a[Yx]=nbt);var o=Uh(a,Yx,e,t);o(r,n)}}}function nbt(r,t){if(!r.isDisposed()){var e=r.getZr();e[bC]=!0,r.dispatchAction({type:"brushSelect",batch:t}),e[bC]=!1}}function o3(r,t,e,n){for(var i=0,a=t.length;i<a;i++){var o=t[i];if(r.brushSelector(n,e,o.selectors,o))return!0}}function ibt(r,t){var e=r.option.seriesIndex;return e!=null&&e!=="all"&&(Rt(e)?ge(e,t)<0:t!==e)}var abt={rect:function(r){return s3(r.range)},polygon:function(r){for(var t,e=r.range,n=0,i=e.length;n<i;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=e[n];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&s3(t)}};function s3(r){return new ue(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var obt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){this.ecModel=e,this.api=n,this.model,(this._brushController=new ID(n.getZr())).on("brush",qt(this._onBrush,this)).mount()},t.prototype.render=function(e,n,i,a){this.model=e,this._updateController(e,n,i,a)},t.prototype.updateTransform=function(e,n,i,a){r9(n),this._updateController(e,n,i,a)},t.prototype.updateVisual=function(e,n,i,a){this.updateTransform(e,n,i,a)},t.prototype.updateView=function(e,n,i,a){this._updateController(e,n,i,a)},t.prototype._updateController=function(e,n,i,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:ie(i),$from:n}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:ie(i),$from:n})},t.type="brush",t})(vr),sbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return t.prototype.optionUpdated=function(e,n){var i=this.option;!n&&e9(i,e,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:this.option.defaultOutOfBrushColor},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=Pt(e,function(n){return l3(this.option,n)},this))},t.prototype.setBrushOption=function(e){this.brushOption=l3(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:yt.color.backgroundTint,borderColor:yt.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:yt.color.disabled},t})(Ce);function l3(r,t){return ye({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new Me(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},t,!0)}var lbt=["rect","polygon","lineX","lineY","keep","clear"],ubt=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i){var a,o,c;n.eachComponent({mainType:"brush"},function(h){a=h.brushType,o=h.brushOption.brushMode||"single",c=c||!!h.areas.length}),this._brushType=a,this._brushMode=o,j(e.get("type",!0),function(h){e.setIconStatus(h,(h==="keep"?o==="multiple":h==="clear"?c:h===a)?"emphasis":"normal")})},t.prototype.updateView=function(e,n,i){this.render(e,n,i)},t.prototype.getIcons=function(){var e=this.model,n=e.get("icon",!0),i={};return j(e.get("type",!0),function(a){n[a]&&(i[a]=n[a])}),i},t.prototype.onclick=function(e,n,i){var a=this._brushType,o=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?o==="multiple"?"single":"multiple":o}})},t.getDefaultOption=function(e){var n={show:!0,type:lbt.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return n},t})(oa);function cbt(r){r.registerComponentView(obt),r.registerComponentModel(sbt),r.registerPreprocessor(Z_t),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,ebt),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Fr),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Fr),Jf("brush",ubt)}var fbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:yt.size.m,backgroundColor:yt.color.transparent,borderColor:yt.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:yt.color.primary},subtextStyle:{fontSize:12,color:yt.color.quaternary}},t})(Ce),hbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){if(this.group.removeAll(),!!e.get("show")){var a=this.group,o=e.getModel("textStyle"),c=e.getModel("subtextStyle"),h=e.get("textAlign"),v=te(e.get("textBaseline"),e.get("textVerticalAlign")),g=new ke({style:or(o,{text:e.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),y=g.getBoundingRect(),m=e.get("subtext"),b=new ke({style:or(c,{text:m,fill:c.getTextColor(),y:y.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),S=e.get("link"),E=e.get("sublink"),C=e.get("triggerEvent",!0);g.silent=!S&&!C,b.silent=!E&&!C,S&&g.on("click",function(){R0(S,"_"+e.get("target"))}),E&&b.on("click",function(){R0(E,"_"+e.get("subtarget"))}),fe(g).eventData=fe(b).eventData=C?{componentType:"title",componentIndex:e.componentIndex}:null,a.add(g),m&&a.add(b);var A=a.getBoundingRect(),D=e.getBoxLayoutParams();D.width=A.width,D.height=A.height;var L=sn(e,i),R=mr(D,L.refContainer,e.get("padding"));h||(h=e.get("left")||e.get("right"),h==="middle"&&(h="center"),h==="right"?R.x+=R.width:h==="center"&&(R.x+=R.width/2)),v||(v=e.get("top")||e.get("bottom"),v==="center"&&(v="middle"),v==="bottom"?R.y+=R.height:v==="middle"&&(R.y+=R.height/2),v=v||"top"),a.x=R.x,a.y=R.y,a.markRedraw();var O={align:h,verticalAlign:v};g.setStyle(O),b.setStyle(O),A=a.getBoundingRect();var P=R.margin,V=e.getItemStyle(["color","opacity"]);V.fill=e.get("backgroundColor");var k=new xe({shape:{x:A.x-P[3],y:A.y-P[0],width:A.width+P[1]+P[3],height:A.height+P[0]+P[2],r:e.get("borderRadius")},style:V,subPixelOptimize:!0,silent:!0});a.add(k)}},t.type="title",t})(vr);function pbt(r){r.registerComponentModel(fbt),r.registerComponentView(hbt)}var u3=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),this._initData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var n=this._data.count();this.option.loop?e=(e%n+n)%n:(e>=n&&(e=n-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e=this.option,n=e.data||[],i=e.axisType,a=this._names=[],o;i==="category"?(o=[],j(n,function(v,g){var y=nn(Ph(v),""),m;le(v)?(m=ie(v),m.value=g):m=g,o.push(m),a.push(y)})):o=n;var c={category:"ordinal",time:"time",value:"number"}[i]||"number",h=this._data=new fi([{name:"value",type:c}],this);h.initData(o,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:yt.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:yt.color.secondary},data:[]},t})(Ce),n9=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline.slider",t.defaultOption=Gl(u3.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:yt.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:yt.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:yt.color.tertiary},itemStyle:{color:yt.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:yt.color.accent50,borderColor:yt.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:yt.color.accent50,borderColor:yt.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:yt.color.accent60},itemStyle:{color:yt.color.accent60,borderColor:yt.color.accent60},controlStyle:{color:yt.color.accent70,borderColor:yt.color.accent70}},progress:{lineStyle:{color:yt.color.accent30},itemStyle:{color:yt.color.accent40}},data:[]}),t})(u3);Jr(n9,Q_.prototype);var dbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline",t})(vr),vbt=(function(r){bt(t,r);function t(e,n,i,a){var o=r.call(this,e,n,i)||this;return o.type=a||"value",o}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t})(za),$x=Math.PI,c3=Ee(),gbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){this.api=n},t.prototype.render=function(e,n,i){if(this.model=e,this.api=i,this.ecModel=n,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,i),o=this._createGroup("_mainGroup"),c=this._createGroup("_labelGroup"),h=this._axis=this._createAxis(a,e);e.formatTooltip=function(v){var g=h.scale.getLabel({value:v});return Zr("nameValue",{noName:!0,value:g})},j(["AxisLine","AxisTick","Control","CurrentPointer"],function(v){this["_render"+v](a,o,h,e)},this),this._renderAxisLabel(a,c,h,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,n){var i=e.get(["label","position"]),a=e.get("orient"),o=mbt(e,n),c;i==null||i==="auto"?c=a==="horizontal"?o.y+o.height/2<n.getHeight()/2?"-":"+":o.x+o.width/2<n.getWidth()/2?"+":"-":$t(i)?c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:c=i;var h={horizontal:"center",vertical:c>=0||c==="+"?"left":"right"},v={horizontal:c>=0||c==="+"?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:$x/2},y=a==="vertical"?o.height:o.width,m=e.getModel("controlStyle"),b=m.get("show",!0),S=b?m.get("itemSize"):0,E=b?m.get("itemGap"):0,C=S+E,A=e.get(["label","rotate"])||0;A=A*$x/180;var D,L,R,O=m.get("position",!0),P=b&&m.get("showPlayBtn",!0),V=b&&m.get("showPrevBtn",!0),k=b&&m.get("showNextBtn",!0),F=0,H=y;O==="left"||O==="bottom"?(P&&(D=[0,0],F+=C),V&&(L=[F,0],F+=C),k&&(R=[H-S,0],H-=C)):(P&&(D=[H-S,0],H-=C),V&&(L=[0,0],F+=C),k&&(R=[H-S,0],H-=C));var W=[F,H];return e.get("inverse")&&W.reverse(),{viewRect:o,mainLength:y,orient:a,rotation:g[a],labelRotation:A,labelPosOpt:c,labelAlign:e.get(["label","align"])||h[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||v[a],playPosition:D,prevBtnPosition:L,nextBtnPosition:R,axisExtent:W,controlSize:S,controlGap:E}},t.prototype._position=function(e,n){var i=this._mainGroup,a=this._labelGroup,o=e.viewRect;if(e.orient==="vertical"){var c=wn(),h=o.x,v=o.y+o.height;Oo(c,c,[-h,-v]),kl(c,c,-$x/2),Oo(c,c,[h,v]),o=o.clone(),o.applyTransform(c)}var g=D(o),y=D(i.getBoundingRect()),m=D(a.getBoundingRect()),b=[i.x,i.y],S=[a.x,a.y];S[0]=b[0]=g[0][0];var E=e.labelPosOpt;if(E==null||$t(E)){var C=E==="+"?0:1;L(b,y,g,1,C),L(S,m,g,1,1-C)}else{var C=E>=0?0:1;L(b,y,g,1,C),S[1]=b[1]+E}i.setPosition(b),a.setPosition(S),i.rotation=a.rotation=e.rotation,A(i),A(a);function A(R){R.originX=g[0][0]-R.x,R.originY=g[1][0]-R.y}function D(R){return[[R.x,R.x+R.width],[R.y,R.y+R.height]]}function L(R,O,P,V,k){R[V]+=P[V][k]-O[V][k]}},t.prototype._createAxis=function(e,n){var i=n.getData(),a=n.get("axisType"),o=ybt(n,a);o.getTicks=function(){return i.mapArray(["value"],function(v){return{value:v}})};var c=i.getDataExtent("value");o.setExtent(c[0],c[1]),o.calcNiceTicks();var h=new vbt("value",o,e.axisExtent,a);return h.model=n,h},t.prototype._createGroup=function(e){var n=this[e]=new ne;return this.group.add(n),n},t.prototype._renderAxisLine=function(e,n,i,a){var o=i.getExtent();if(a.get(["lineStyle","show"])){var c=new $r({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:Mt({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(c);var h=this._progressLine=new $r({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:se({lineCap:"round",lineWidth:c.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(h)}},t.prototype._renderAxisTick=function(e,n,i,a){var o=this,c=a.getData(),h=i.scale.getTicks();this._tickSymbols=[],j(h,function(v){var g=i.dataToCoord(v.value),y=c.getItemModel(v.value),m=y.getModel("itemStyle"),b=y.getModel(["emphasis","itemStyle"]),S=y.getModel(["progress","itemStyle"]),E={x:g,y:0,onclick:qt(o._changeTimeline,o,v.value)},C=f3(y,m,n,E);C.ensureState("emphasis").style=b.getItemStyle(),C.ensureState("progress").style=S.getItemStyle(),dc(C);var A=fe(C);y.get("tooltip")?(A.dataIndex=v.value,A.dataModel=a):A.dataIndex=A.dataModel=null,o._tickSymbols.push(C)})},t.prototype._renderAxisLabel=function(e,n,i,a){var o=this,c=i.getLabelModel();if(c.get("show")){var h=a.getData(),v=i.getViewLabels();this._tickLabels=[],j(v,function(g){var y=g.tickValue,m=h.getItemModel(y),b=m.getModel("label"),S=m.getModel(["emphasis","label"]),E=m.getModel(["progress","label"]),C=i.dataToCoord(g.tickValue),A=new ke({x:C,y:0,rotation:e.labelRotation-e.rotation,onclick:qt(o._changeTimeline,o,y),silent:!1,style:or(b,{text:g.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});A.ensureState("emphasis").style=or(S),A.ensureState("progress").style=or(E),n.add(A),dc(A),c3(A).dataIndex=y,o._tickLabels.push(A)})}},t.prototype._renderControl=function(e,n,i,a){var o=e.controlSize,c=e.rotation,h=a.getModel("controlStyle").getItemStyle(),v=a.getModel(["emphasis","controlStyle"]).getItemStyle(),g=a.getPlayState(),y=a.get("inverse",!0);m(e.nextBtnPosition,"next",qt(this._changeTimeline,this,y?"-":"+")),m(e.prevBtnPosition,"prev",qt(this._changeTimeline,this,y?"+":"-")),m(e.playPosition,g?"stop":"play",qt(this._handlePlayClick,this,!g),!0);function m(b,S,E,C){if(b){var A=Ga(te(a.get(["controlStyle",S+"BtnSize"]),o),o),D=[0,-A/2,A,A],L=_bt(a,S+"Icon",D,{x:b[0],y:b[1],originX:o/2,originY:0,rotation:C?-c:0,rectHover:!0,style:h,onclick:E});L.ensureState("emphasis").style=v,n.add(L),dc(L)}}},t.prototype._renderCurrentPointer=function(e,n,i,a){var o=a.getData(),c=a.getCurrentIndex(),h=o.getItemModel(c).getModel("checkpointStyle"),v=this,g={onCreate:function(y){y.draggable=!0,y.drift=qt(v._handlePointerDrag,v),y.ondragend=qt(v._handlePointerDragend,v),h3(y,v._progressLine,c,i,a,!0)},onUpdate:function(y){h3(y,v._progressLine,c,i,a)}};this._currentPointer=f3(h,h,this._mainGroup,{},this._currentPointer,g)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,n){var i=this._toAxisCoord(e)[0],a=this._axis,o=ca(a.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var c=this._progressLine;c&&(c.shape.x2=i,c.dirty());var h=this._findNearestTick(i),v=this.model;(n||h!==v.getCurrentIndex()&&v.get("realtime"))&&this._changeTimeline(h)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=e.model;e._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var n=this._mainGroup.getLocalTransform();return Oa(e,n,!0)},t.prototype._findNearestTick=function(e){var n=this.model.getData(),i=1/0,a,o=this._axis;return n.each(["value"],function(c,h){var v=o.dataToCoord(c),g=Math.abs(v-e);g<i&&(i=g,a=h)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var n=this.model.getCurrentIndex();e==="+"?e=n+1:e==="-"&&(e=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<e);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",c3(i[a]).dataIndex<=e)},t.type="timeline.slider",t})(dbt);function ybt(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new Eh({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new nD({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new Es}}function mbt(r,t){return mr(r.getBoxLayoutParams(),sn(r,t).refContainer,r.get("padding"))}function _bt(r,t,e,n){var i=n.style,a=Fv(r.get(["controlStyle",t]),n||{},new ue(e[0],e[1],e[2],e[3]));return i&&a.setStyle(i),a}function f3(r,t,e,n,i,a){var o=t.get("color");if(i)i.setColor(o),e.add(i),a&&a.onUpdate(i);else{var c=r.get("symbol");i=Kr(c,-1,-1,2,2,o),i.setStyle("strokeNoScale",!0),e.add(i),a&&a.onCreate(i)}var h=t.getItemStyle(["color"]);i.setStyle(h),n=ye({rectHover:!0,z2:100},n,!0);var v=Wh(r.get("symbolSize"));n.scaleX=v[0]/2,n.scaleY=v[1]/2;var g=kc(r.get("symbolOffset"),v);g&&(n.x=(n.x||0)+g[0],n.y=(n.y||0)+g[1]);var y=r.get("symbolRotate");return n.rotation=(y||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function h3(r,t,e,n,i,a){if(!r.dragging){var o=i.getModel("checkpointStyle"),c=n.dataToCoord(i.getData().get("value",e));if(a||!o.get("animation",!0))r.attr({x:c,y:0}),t&&t.attr({shape:{x2:c}});else{var h={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:c,y:0},h),t&&t.animateTo({shape:{x2:c}},h)}}}function bbt(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,n){var i=e.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),se({currentIndex:i.option.currentIndex},t)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&t.playState!=null&&n.setPlayState(t.playState)})}function Sbt(r){var t=r&&r.timeline;Rt(t)||(t=t?[t]:[]),j(t,function(e){e&&wbt(e)})}function wbt(r){var t=r.type,e={number:"value",time:"time"};if(e[t]&&(r.axisType=e[t],delete r.type),p3(r),tc(r,"controlPosition")){var n=r.controlStyle||(r.controlStyle={});tc(n,"position")||(n.position=r.controlPosition),n.position==="none"&&!tc(n,"show")&&(n.show=!1,delete n.position),delete r.controlPosition}j(r.data||[],function(i){le(i)&&!Rt(i)&&(!tc(i,"value")&&tc(i,"name")&&(i.value=i.name),p3(i))})}function p3(r){var t=r.itemStyle||(r.itemStyle={}),e=t.emphasis||(t.emphasis={}),n=r.label||r.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};j(n,function(o,c){!a[c]&&!tc(i,c)&&(i[c]=o)}),e.label&&!tc(n,"emphasis")&&(n.emphasis=e.label,delete e.label)}function tc(r,t){return r.hasOwnProperty(t)}function xbt(r){r.registerComponentModel(n9),r.registerComponentView(gbt),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),bbt(r),r.registerPreprocessor(Sbt)}function fM(r,t){if(!r)return!1;for(var e=Rt(r)?r:[r],n=0;n<e.length;n++)if(e[n]&&e[n][t])return!0;return!1}function Dm(r){bc(r,"label",["show"])}var Mm=Ee(),Fo=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e.preventAutoZ=!0,e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(De.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,n){this._mergeOption(e,n,!1,!1)},t.prototype._mergeOption=function(e,n,i,a){var o=this.mainType;i||n.eachSeries(function(c){var h=c.get(this.mainType,!0),v=Mm(c)[o];if(!h||!h.data){Mm(c)[o]=null;return}v?v._mergeOption(h,n,!0):(a&&Dm(h),j(h.data,function(g){g instanceof Array?(Dm(g[0]),Dm(g[1])):Dm(g)}),v=this.createMarkerModelFromSeries(h,this,n),Mt(v,{mainType:this.mainType,seriesIndex:c.seriesIndex,name:c.name,createdBySelf:!0}),v.__hostSeries=c),Mm(c)[o]=v},this)},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=this.getRawValue(e),c=a.getName(e);return Zr("section",{header:this.name,blocks:[Zr("nameValue",{name:c,value:o,noName:!c,noValue:o==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,n){var i=Q_.prototype.getDataParams.call(this,e,n),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},t.getMarkerModelFromSeries=function(e,n){return Mm(e)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t})(Ce);Jr(Fo,Q_.prototype);var Ebt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t})(Fo);function SC(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function Tbt(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function Lm(r,t,e,n,i,a,o){var c=[],h=Ll(t,i),v=h?t.getCalculationInfo("stackResultDimension"):i,g=f_(t,v,r),y=t.hostModel,m=y.indicesOfNearest(e,v,g)[0];c[a]=t.get(n,m),c[o]=t.get(v,m);var b=t.get(i,m),S=wo(t.get(i,m));return S=Math.min(S,20),S>=0&&(c[o]=+c[o].toFixed(S)),[c,b]}var Nm={min:ve(Lm,"min"),max:ve(Lm,"max"),average:ve(Lm,"average"),median:ve(Lm,"median")};function Lv(r,t){if(t){var e=r.getData(),n=r.coordinateSystem,i=n&&n.dimensions;if(!Tbt(t)&&!Rt(t.coord)&&Rt(i)){var a=i9(t,e,n,r);if(t=ie(t),t.type&&Nm[t.type]&&a.baseAxis&&a.valueAxis){var o=ge(i,a.baseAxis.dim),c=ge(i,a.valueAxis.dim),h=Nm[t.type](e,a.valueAxis.dim,a.baseDataDim,a.valueDataDim,o,c);t.coord=h[0],t.value=h[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!Rt(i)){t.coord=[];var v=r.getBaseAxis();if(v&&t.type&&Nm[t.type]){var g=n.getOtherAxis(v);g&&(t.value=f_(e,e.mapDimension(g.dim),t.type))}}else for(var y=t.coord,m=0;m<2;m++)Nm[y[m]]&&(y[m]=f_(e,e.mapDimension(i[m]),y[m]));return t}}function i9(r,t,e,n){var i={};return r.valueIndex!=null||r.valueDim!=null?(i.valueDataDim=r.valueIndex!=null?t.getDimension(r.valueIndex):r.valueDim,i.valueAxis=e.getAxis(Cbt(n,i.valueDataDim)),i.baseAxis=e.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=e.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function Cbt(r,t){var e=r.getData().getDimensionInfo(t);return e&&e.coordDim}function Nv(r,t){return r&&r.containData&&t.coord&&!SC(t)?r.containData(t.coord):!0}function Abt(r,t,e){return r&&r.containZone&&t.coord&&e.coord&&!SC(t)&&!SC(e)?r.containZone(t.coord,e.coord):!0}function a9(r,t){return r?function(e,n,i,a){var o=a<2?e.coord&&e.coord[a]:e.value;return Tl(o,t[a])}:function(e,n,i,a){return Tl(e.value,t[a])}}function f_(r,t,e){if(e==="average"){var n=0,i=0;return r.each(t,function(a,o){isNaN(a)||(n+=a,i++)}),n/i}else return e==="median"?r.getMedian(t):r.getDataExtent(t)[e==="max"?1:0]}var qx=Ee(),hM=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this.markerGroupMap=Qt()},t.prototype.render=function(e,n,i){var a=this,o=this.markerGroupMap;o.each(function(c){qx(c).keep=!1}),n.eachSeries(function(c){var h=Fo.getMarkerModelFromSeries(c,a.type);h&&a.renderSeries(c,h,n,i)}),o.each(function(c){!qx(c).keep&&a.group.remove(c.group)}),Dbt(n,o,this.type)},t.prototype.markKeep=function(e){qx(e).keep=!0},t.prototype.toggleBlurSeries=function(e,n){var i=this;j(e,function(a){var o=Fo.getMarkerModelFromSeries(a,i.type);if(o){var c=o.getData();c.eachItemGraphicEl(function(h){h&&(n?SH(h):bA(h))})}})},t.type="marker",t})(vr);function Dbt(r,t,e){r.eachSeries(function(n){var i=Fo.getMarkerModelFromSeries(n,e),a=t.get(n.id);if(i&&a&&a.group){var o=Tc(i),c=o.z,h=o.zlevel;q_(a.group,c,h)}})}function d3(r,t,e){var n=t.coordinateSystem,i=e.getWidth(),a=e.getHeight(),o=n&&n.getArea&&n.getArea();r.each(function(c){var h=r.getItemModel(c),v=h.get("relativeTo")==="coordinate",g=v?o?o.width:0:i,y=v?o?o.height:0:a,m=v&&o?o.x:0,b=v&&o?o.y:0,S,E=Yt(h.get("x"),g)+m,C=Yt(h.get("y"),y)+b;if(!isNaN(E)&&!isNaN(C))S=[E,C];else if(t.getMarkerPosition)S=t.getMarkerPosition(r.getValues(r.dimensions,c));else if(n){var A=r.get(n.dimensions[0],c),D=r.get(n.dimensions[1],c);S=n.dataToPoint([A,D])}isNaN(E)||(S[0]=E),isNaN(C)||(S[1]=C),r.setItemLayout(c,S)})}var Mbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var o=Fo.getMarkerModelFromSeries(a,"markPoint");o&&(d3(o.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(e,n,i,a){var o=e.coordinateSystem,c=e.id,h=e.getData(),v=this.markerGroupMap,g=v.get(c)||v.set(c,new $v),y=Lbt(o,e,n);n.setData(y),d3(n.getData(),e,a),y.each(function(m){var b=y.getItemModel(m),S=b.getShallow("symbol"),E=b.getShallow("symbolSize"),C=b.getShallow("symbolRotate"),A=b.getShallow("symbolOffset"),D=b.getShallow("symbolKeepAspect");if(re(S)||re(E)||re(C)||re(A)){var L=n.getRawValue(m),R=n.getDataParams(m);re(S)&&(S=S(L,R)),re(E)&&(E=E(L,R)),re(C)&&(C=C(L,R)),re(A)&&(A=A(L,R))}var O=b.getModel("itemStyle").getItemStyle(),P=b.get("z2"),V=Uv(h,"color");O.fill||(O.fill=V),y.setItemVisual(m,{z2:te(P,0),symbol:S,symbolSize:E,symbolRotate:C,symbolOffset:A,symbolKeepAspect:D,style:O})}),g.updateData(y),this.group.add(g.group),y.eachItemGraphicEl(function(m){m.traverse(function(b){fe(b).dataModel=n})}),this.markKeep(g),g.group.silent=n.get("silent")||e.get("silent")},t.type="markPoint",t})(hM);function Lbt(r,t,e){var n;r?n=Pt(r&&r.dimensions,function(c){var h=t.getData().getDimensionInfo(t.getData().mapDimension(c))||{};return Mt(Mt({},h),{name:c,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new fi(n,e),a=Pt(e.get("data"),ve(Lv,t));r&&(a=Ye(a,ve(Nv,r)));var o=a9(!!r,n);return i.initData(a,null,o),i}function Nbt(r){r.registerComponentModel(Ebt),r.registerComponentView(Mbt),r.registerPreprocessor(function(t){fM(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var Rbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t})(Fo),Rm=Ee(),Ibt=function(r,t,e,n){var i=r.getData(),a;if(Rt(n))a=n;else{var o=n.type;if(o==="min"||o==="max"||o==="average"||o==="median"||n.xAxis!=null||n.yAxis!=null){var c=void 0,h=void 0;if(n.yAxis!=null||n.xAxis!=null)c=t.getAxis(n.yAxis!=null?"y":"x"),h=On(n.yAxis,n.xAxis);else{var v=i9(n,i,t,r);c=v.valueAxis;var g=R6(i,v.valueDataDim);h=f_(i,g,o)}var y=c.dim==="x"?0:1,m=1-y,b=ie(n),S={coord:[]};b.type=null,b.coord=[],b.coord[m]=-1/0,S.coord[m]=1/0;var E=e.get("precision");E>=0&&Ie(h)&&(h=+h.toFixed(Math.min(E,20))),b.coord[y]=S.coord[y]=h,a=[b,S,{type:o,valueIndex:n.valueIndex,value:h}]}else a=[]}var C=[Lv(r,a[0]),Lv(r,a[1]),Mt({},a[2])];return C[2].type=C[2].type||null,ye(C[2],C[0]),ye(C[2],C[1]),C};function h_(r){return!isNaN(r)&&!isFinite(r)}function v3(r,t,e,n){var i=1-r,a=n.dimensions[r];return h_(t[i])&&h_(e[i])&&t[r]===e[r]&&n.getAxis(a).containData(t[r])}function Obt(r,t){if(r.type==="cartesian2d"){var e=t[0].coord,n=t[1].coord;if(e&&n&&(v3(1,e,n,r)||v3(0,e,n,r)))return!0}return Nv(r,t[0])&&Nv(r,t[1])}function Xx(r,t,e,n,i){var a=n.coordinateSystem,o=r.getItemModel(t),c,h=Yt(o.get("x"),i.getWidth()),v=Yt(o.get("y"),i.getHeight());if(!isNaN(h)&&!isNaN(v))c=[h,v];else{if(n.getMarkerPosition)c=n.getMarkerPosition(r.getValues(r.dimensions,t));else{var g=a.dimensions,y=r.get(g[0],t),m=r.get(g[1],t);c=a.dataToPoint([y,m])}if(Nl(a,"cartesian2d")){var b=a.getAxis("x"),S=a.getAxis("y"),g=a.dimensions;h_(r.get(g[0],t))?c[0]=b.toGlobalCoord(b.getExtent()[e?0:1]):h_(r.get(g[1],t))&&(c[1]=S.toGlobalCoord(S.getExtent()[e?0:1]))}isNaN(h)||(c[0]=h),isNaN(v)||(c[1]=v)}r.setItemLayout(t,c)}var Pbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var o=Fo.getMarkerModelFromSeries(a,"markLine");if(o){var c=o.getData(),h=Rm(o).from,v=Rm(o).to;h.each(function(g){Xx(h,g,!0,a,i),Xx(v,g,!1,a,i)}),c.each(function(g){c.setItemLayout(g,[h.getItemLayout(g),v.getItemLayout(g)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,n,i,a){var o=e.coordinateSystem,c=e.id,h=e.getData(),v=this.markerGroupMap,g=v.get(c)||v.set(c,new ND);this.group.add(g.group);var y=kbt(o,e,n),m=y.from,b=y.to,S=y.line;Rm(n).from=m,Rm(n).to=b,n.setData(S);var E=n.get("symbol"),C=n.get("symbolSize"),A=n.get("symbolRotate"),D=n.get("symbolOffset");Rt(E)||(E=[E,E]),Rt(C)||(C=[C,C]),Rt(A)||(A=[A,A]),Rt(D)||(D=[D,D]),y.from.each(function(R){L(m,R,!0),L(b,R,!1)}),S.each(function(R){var O=S.getItemModel(R),P=O.getModel("lineStyle").getLineStyle();S.setItemLayout(R,[m.getItemLayout(R),b.getItemLayout(R)]);var V=O.get("z2");P.stroke==null&&(P.stroke=m.getItemVisual(R,"style").fill),S.setItemVisual(R,{z2:te(V,0),fromSymbolKeepAspect:m.getItemVisual(R,"symbolKeepAspect"),fromSymbolOffset:m.getItemVisual(R,"symbolOffset"),fromSymbolRotate:m.getItemVisual(R,"symbolRotate"),fromSymbolSize:m.getItemVisual(R,"symbolSize"),fromSymbol:m.getItemVisual(R,"symbol"),toSymbolKeepAspect:b.getItemVisual(R,"symbolKeepAspect"),toSymbolOffset:b.getItemVisual(R,"symbolOffset"),toSymbolRotate:b.getItemVisual(R,"symbolRotate"),toSymbolSize:b.getItemVisual(R,"symbolSize"),toSymbol:b.getItemVisual(R,"symbol"),style:P})}),g.updateData(S),y.line.eachItemGraphicEl(function(R){fe(R).dataModel=n,R.traverse(function(O){fe(O).dataModel=n})});function L(R,O,P){var V=R.getItemModel(O);Xx(R,O,P,e,a);var k=V.getModel("itemStyle").getItemStyle();k.fill==null&&(k.fill=Uv(h,"color")),R.setItemVisual(O,{symbolKeepAspect:V.get("symbolKeepAspect"),symbolOffset:te(V.get("symbolOffset",!0),D[P?0:1]),symbolRotate:te(V.get("symbolRotate",!0),A[P?0:1]),symbolSize:te(V.get("symbolSize"),C[P?0:1]),symbol:te(V.get("symbol",!0),E[P?0:1]),style:k})}this.markKeep(g),g.group.silent=n.get("silent")||e.get("silent")},t.type="markLine",t})(hM);function kbt(r,t,e){var n;r?n=Pt(r&&r.dimensions,function(v){var g=t.getData().getDimensionInfo(t.getData().mapDimension(v))||{};return Mt(Mt({},g),{name:v,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new fi(n,e),a=new fi(n,e),o=new fi([],e),c=Pt(e.get("data"),ve(Ibt,t,r,e));r&&(c=Ye(c,ve(Obt,r)));var h=a9(!!r,n);return i.initData(Pt(c,function(v){return v[0]}),null,h),a.initData(Pt(c,function(v){return v[1]}),null,h),o.initData(Pt(c,function(v){return v[2]})),o.hasItemOption=!0,{from:i,to:a,line:o}}function Vbt(r){r.registerComponentModel(Rbt),r.registerComponentView(Pbt),r.registerPreprocessor(function(t){fM(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var Gbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t})(Fo),Im=Ee(),Fbt=function(r,t,e,n){var i=n[0],a=n[1];if(!(!i||!a)){var o=Lv(r,i),c=Lv(r,a),h=o.coord,v=c.coord;h[0]=On(h[0],-1/0),h[1]=On(h[1],-1/0),v[0]=On(v[0],1/0),v[1]=On(v[1],1/0);var g=rA([{},o,c]);return g.coord=[o.coord,c.coord],g.x0=o.x,g.y0=o.y,g.x1=c.x,g.y1=c.y,g}};function p_(r){return!isNaN(r)&&!isFinite(r)}function g3(r,t,e,n){var i=1-r;return p_(t[i])&&p_(e[i])}function Bbt(r,t){var e=t.coord[0],n=t.coord[1],i={coord:e,x:t.x0,y:t.y0},a={coord:n,x:t.x1,y:t.y1};return Nl(r,"cartesian2d")?e&&n&&(g3(1,e,n)||g3(0,e,n))?!0:Abt(r,i,a):Nv(r,i)||Nv(r,a)}function y3(r,t,e,n,i){var a=n.coordinateSystem,o=r.getItemModel(t),c,h=Yt(o.get(e[0]),i.getWidth()),v=Yt(o.get(e[1]),i.getHeight());if(!isNaN(h)&&!isNaN(v))c=[h,v];else{if(n.getMarkerPosition){var g=r.getValues(["x0","y0"],t),y=r.getValues(["x1","y1"],t),m=a.clampData(g),b=a.clampData(y),S=[];e[0]==="x0"?S[0]=m[0]>b[0]?y[0]:g[0]:S[0]=m[0]>b[0]?g[0]:y[0],e[1]==="y0"?S[1]=m[1]>b[1]?y[1]:g[1]:S[1]=m[1]>b[1]?g[1]:y[1],c=n.getMarkerPosition(S,e,!0)}else{var E=r.get(e[0],t),C=r.get(e[1],t),A=[E,C];a.clampData&&a.clampData(A,A),c=a.dataToPoint(A,!0)}if(Nl(a,"cartesian2d")){var D=a.getAxis("x"),L=a.getAxis("y"),E=r.get(e[0],t),C=r.get(e[1],t);p_(E)?c[0]=D.toGlobalCoord(D.getExtent()[e[0]==="x0"?0:1]):p_(C)&&(c[1]=L.toGlobalCoord(L.getExtent()[e[1]==="y0"?0:1]))}isNaN(h)||(c[0]=h),isNaN(v)||(c[1]=v)}return c}var m3=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Hbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var o=Fo.getMarkerModelFromSeries(a,"markArea");if(o){var c=o.getData();c.each(function(h){var v=Pt(m3,function(y){return y3(c,h,y,a,i)});c.setItemLayout(h,v);var g=c.getItemGraphicEl(h);g.setShape("points",v)})}},this)},t.prototype.renderSeries=function(e,n,i,a){var o=e.coordinateSystem,c=e.id,h=e.getData(),v=this.markerGroupMap,g=v.get(c)||v.set(c,{group:new ne});this.group.add(g.group),this.markKeep(g);var y=zbt(o,e,n);n.setData(y),y.each(function(m){var b=Pt(m3,function(H){return y3(y,m,H,e,a)}),S=o.getAxis("x").scale,E=o.getAxis("y").scale,C=S.getExtent(),A=E.getExtent(),D=[S.parse(y.get("x0",m)),S.parse(y.get("x1",m))],L=[E.parse(y.get("y0",m)),E.parse(y.get("y1",m))];ca(D),ca(L);var R=!(C[0]>D[1]||C[1]<D[0]||A[0]>L[1]||A[1]<L[0]),O=!R;y.setItemLayout(m,{points:b,allClipped:O});var P=y.getItemModel(m),V=P.getModel("itemStyle").getItemStyle(),k=P.get("z2"),F=Uv(h,"color");V.fill||(V.fill=F,$t(V.fill)&&(V.fill=m0(V.fill,.4))),V.stroke||(V.stroke=F),y.setItemVisual(m,"style",V),y.setItemVisual(m,"z2",te(k,0))}),y.diff(Im(g).data).add(function(m){var b=y.getItemLayout(m),S=y.getItemVisual(m,"z2");if(!b.allClipped){var E=new Zn({z2:te(S,0),shape:{points:b.points}});y.setItemGraphicEl(m,E),g.group.add(E)}}).update(function(m,b){var S=Im(g).data.getItemGraphicEl(b),E=y.getItemLayout(m),C=y.getItemVisual(m,"z2");E.allClipped?S&&g.group.remove(S):(S?Ve(S,{z2:te(C,0),shape:{points:E.points}},n,m):S=new Zn({shape:{points:E.points}}),y.setItemGraphicEl(m,S),g.group.add(S))}).remove(function(m){var b=Im(g).data.getItemGraphicEl(m);g.group.remove(b)}).execute(),y.eachItemGraphicEl(function(m,b){var S=y.getItemModel(b),E=y.getItemVisual(b,"style");m.useStyle(y.getItemVisual(b,"style")),dn(m,on(S),{labelFetcher:n,labelDataIndex:b,defaultText:y.getName(b)||"",inheritColor:$t(E.fill)?m0(E.fill,1):yt.color.neutral99}),an(m,S),yr(m,null,null,S.get(["emphasis","disabled"])),fe(m).dataModel=n}),Im(g).data=y,g.group.silent=n.get("silent")||e.get("silent")},t.type="markArea",t})(hM);function zbt(r,t,e){var n,i,a=["x0","y0","x1","y1"];if(r){var o=Pt(r&&r.dimensions,function(v){var g=t.getData(),y=g.getDimensionInfo(g.mapDimension(v))||{};return Mt(Mt({},y),{name:v,ordinalMeta:null})});i=Pt(a,function(v,g){return{name:v,type:o[g%2].type}}),n=new fi(i,e)}else i=[{name:"value",type:"float"}],n=new fi(i,e);var c=Pt(e.get("data"),ve(Fbt,t,r,e));r&&(c=Ye(c,ve(Bbt,r)));var h=r?function(v,g,y,m){var b=v.coord[Math.floor(m/2)][m%2];return Tl(b,i[m])}:function(v,g,y,m){return Tl(v.value,i[m])};return n.initData(c,null,h),n.hasItemOption=!0,n}function Ubt(r){r.registerComponentModel(Gbt),r.registerComponentView(Hbt),r.registerPreprocessor(function(t){fM(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var Wbt=function(r,t){if(t==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},wC=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},t.prototype._updateSelector=function(e){var n=e.selector,i=this.ecModel;n===!0&&(n=e.selector=["all","inverse"]),Rt(n)&&j(n,function(a,o){$t(a)&&(a={type:a}),n[o]=ye(a,Wbt(i,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<e.length;i++){var a=e[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var n=[],i=[];e.eachRawSeries(function(h){var v=h.name;i.push(v);var g;if(h.legendVisualProvider){var y=h.legendVisualProvider,m=y.getAllNames();e.isSeriesFiltered(h)||(i=i.concat(m)),m.length?n=n.concat(m):g=!0}else g=!0;g&&fA(h)&&n.push(h.name)}),this._availableNames=i;var a=this.get("data")||n,o=Qt(),c=Pt(a,function(h){return($t(h)||Ie(h))&&(h={name:h}),o.get(h.name)?null:(o.set(h.name,!0),new Me(h,this,this.ecModel))},this);this._data=Ye(c,function(h){return!!h})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;j(a,function(o){n[o.get("name")]=!1})}n[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var n=this.option.selected;n.hasOwnProperty(e)||(n[e]=!0),this[n[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,n=this.option.selected;j(e,function(i){n[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,n=this.option.selected;j(e,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},t.prototype.isSelected=function(e){var n=this.option.selected;return!(n.hasOwnProperty(e)&&!n[e])&&ge(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:yt.size.m,align:"auto",backgroundColor:yt.color.transparent,borderColor:yt.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:yt.color.disabled,inactiveBorderColor:yt.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:yt.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:yt.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:yt.color.tertiary,borderWidth:1,borderColor:yt.color.border},emphasis:{selectorLabel:{show:!0,color:yt.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},t})(Ce),zf=ve,xC=j,Om=ne,o9=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new Om),this.group.add(this._selectorGroup=new Om),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var o=e.get("align"),c=e.get("orient");(!o||o==="auto")&&(o=e.get("left")==="right"&&c==="vertical"?"right":"left");var h=e.get("selector",!0),v=e.get("selectorPosition",!0);h&&(!v||v==="auto")&&(v=c==="horizontal"?"end":"start"),this.renderInner(o,e,n,i,h,c,v);var g=sn(e,i).refContainer,y=e.getBoxLayoutParams(),m=e.get("padding"),b=mr(y,g,m),S=this.layoutInner(e,o,b,a,h,v),E=mr(se({width:S.width,height:S.height},y),g,m);this.group.x=E.x-S.x,this.group.y=E.y-S.y,this.group.markRedraw(),this.group.add(this._backgroundEl=q7(S,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,n,i,a,o,c,h){var v=this.getContentGroup(),g=Qt(),y=n.get("selectedMode"),m=n.get("triggerEvent"),b=[];i.eachRawSeries(function(S){!S.get("legendHoverLink")&&b.push(S.id)}),xC(n.getData(),function(S,E){var C=this,A=S.get("name");if(!this.newlineDisabled&&(A===""||A===`
`)){var D=new Om;D.newline=!0,v.add(D);return}var L=i.getSeriesByName(A)[0];if(!g.get(A))if(L){var R=L.getData(),O=R.getVisual("legendLineStyle")||{},P=R.getVisual("legendIcon"),V=R.getVisual("style"),k=this._createItem(L,A,E,S,n,e,O,V,P,y,a);k.on("click",zf(_3,A,null,a,b)).on("mouseover",zf(EC,L.name,null,a,b)).on("mouseout",zf(TC,L.name,null,a,b)),i.ssr&&k.eachChild(function(F){var H=fe(F);H.seriesIndex=L.seriesIndex,H.dataIndex=E,H.ssrType="legend"}),m&&k.eachChild(function(F){C.packEventData(F,n,L,E,A)}),g.set(A,!0)}else i.eachRawSeries(function(F){var H=this;if(!g.get(A)&&F.legendVisualProvider){var W=F.legendVisualProvider;if(!W.containName(A))return;var q=W.indexOfName(A),Y=W.getItemVisual(q,"style"),K=W.getItemVisual(q,"legendIcon"),X=Ei(Y.fill);X&&X[3]===0&&(X[3]=.2,Y=Mt(Mt({},Y),{fill:Mo(X,"rgba")}));var J=this._createItem(F,A,E,S,n,e,{},Y,K,y,a);J.on("click",zf(_3,null,A,a,b)).on("mouseover",zf(EC,null,A,a,b)).on("mouseout",zf(TC,null,A,a,b)),i.ssr&&J.eachChild(function(it){var rt=fe(it);rt.seriesIndex=F.seriesIndex,rt.dataIndex=E,rt.ssrType="legend"}),m&&J.eachChild(function(it){H.packEventData(it,n,F,E,A)}),g.set(A,!0)}},this)},this),o&&this._createSelector(o,n,a,c,h)},t.prototype.packEventData=function(e,n,i,a,o){var c={componentType:"legend",componentIndex:n.componentIndex,dataIndex:a,value:o,seriesIndex:i.seriesIndex};fe(e).eventData=c},t.prototype._createSelector=function(e,n,i,a,o){var c=this.getSelectorGroup();xC(e,function(v){var g=v.type,y=new ke({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:g==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});c.add(y);var m=n.getModel("selectorLabel"),b=n.getModel(["emphasis","selectorLabel"]);dn(y,{normal:m,emphasis:b},{defaultText:v.title}),dc(y)})},t.prototype._createItem=function(e,n,i,a,o,c,h,v,g,y,m){var b=e.visualDrawType,S=o.get("itemWidth"),E=o.get("itemHeight"),C=o.isSelected(n),A=a.get("symbolRotate"),D=a.get("symbolKeepAspect"),L=a.get("icon");g=L||g||"roundRect";var R=jbt(g,a,h,v,b,C,m),O=new Om,P=a.getModel("textStyle");if(re(e.getLegendIcon)&&(!L||L==="inherit"))O.add(e.getLegendIcon({itemWidth:S,itemHeight:E,icon:g,iconRotate:A,itemStyle:R.itemStyle,lineStyle:R.lineStyle,symbolKeepAspect:D}));else{var V=L==="inherit"&&e.getData().getVisual("symbol")?A==="inherit"?e.getData().getVisual("symbolRotate"):A:0;O.add(Ybt({itemWidth:S,itemHeight:E,icon:g,iconRotate:V,itemStyle:R.itemStyle,symbolKeepAspect:D}))}var k=c==="left"?S+5:-5,F=c,H=o.get("formatter"),W=n;$t(H)&&H?W=H.replace("{name}",n??""):re(H)&&(W=H(n));var q=C?P.getTextColor():a.get("inactiveColor");O.add(new ke({style:or(P,{text:W,x:k,y:E/2,fill:q,align:F,verticalAlign:"middle"},{inheritColor:q})}));var Y=new xe({shape:O.getBoundingRect(),style:{fill:"transparent"}}),K=a.getModel("tooltip");return K.get("show")&&Ms({el:Y,componentModel:o,itemName:n,itemTooltipOption:K.option}),O.add(Y),O.eachChild(function(X){X.silent=!0}),Y.silent=!y,this.getContentGroup().add(O),dc(O),O.__legendDataIndex=i,O},t.prototype.layoutInner=function(e,n,i,a,o,c){var h=this.getContentGroup(),v=this.getSelectorGroup();gc(e.get("orient"),h,e.get("itemGap"),i.width,i.height);var g=h.getBoundingRect(),y=[-g.x,-g.y];if(v.markRedraw(),h.markRedraw(),o){gc("horizontal",v,e.get("selectorItemGap",!0));var m=v.getBoundingRect(),b=[-m.x,-m.y],S=e.get("selectorButtonGap",!0),E=e.getOrient().index,C=E===0?"width":"height",A=E===0?"height":"width",D=E===0?"y":"x";c==="end"?b[E]+=g[C]+S:y[E]+=m[C]+S,b[1-E]+=g[A]/2-m[A]/2,v.x=b[0],v.y=b[1],h.x=y[0],h.y=y[1];var L={x:0,y:0};return L[C]=g[C]+S+m[C],L[A]=Math.max(g[A],m[A]),L[D]=Math.min(0,m[D]+b[1-E]),L}else return h.x=y[0],h.y=y[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t})(vr);function jbt(r,t,e,n,i,a,o){function c(C,A){C.lineWidth==="auto"&&(C.lineWidth=A.lineWidth>0?2:0),xC(C,function(D,L){C[L]==="inherit"&&(C[L]=A[L])})}var h=t.getModel("itemStyle"),v=h.getItemStyle(),g=r.lastIndexOf("empty",0)===0?"fill":"stroke",y=h.getShallow("decal");v.decal=!y||y==="inherit"?n.decal:xh(y,o),v.fill==="inherit"&&(v.fill=n[i]),v.stroke==="inherit"&&(v.stroke=n[g]),v.opacity==="inherit"&&(v.opacity=(i==="fill"?n:e).opacity),c(v,n);var m=t.getModel("lineStyle"),b=m.getLineStyle();if(c(b,e),v.fill==="auto"&&(v.fill=n.fill),v.stroke==="auto"&&(v.stroke=n.fill),b.stroke==="auto"&&(b.stroke=n.fill),!a){var S=t.get("inactiveBorderWidth"),E=v[g];v.lineWidth=S==="auto"?n.lineWidth>0&&E?2:0:v.lineWidth,v.fill=t.get("inactiveColor"),v.stroke=t.get("inactiveBorderColor"),b.stroke=m.get("inactiveColor"),b.lineWidth=m.get("inactiveWidth")}return{itemStyle:v,lineStyle:b}}function Ybt(r){var t=r.icon||"roundRect",e=Kr(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return e.setStyle(r.itemStyle),e.rotation=(r.iconRotate||0)*Math.PI/180,e.setOrigin([r.itemWidth/2,r.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill=yt.color.neutral00,e.style.lineWidth=2),e}function _3(r,t,e,n){TC(r,t,e,n),e.dispatchAction({type:"legendToggleSelect",name:r??t}),EC(r,t,e,n)}function s9(r){for(var t=r.getZr().storage.getDisplayList(),e,n=0,i=t.length;n<i&&!(e=t[n].states.emphasis);)n++;return e&&e.hoverLayer}function EC(r,t,e,n){s9(e)||e.dispatchAction({type:"highlight",seriesName:r,name:t,excludeSeriesId:n})}function TC(r,t,e,n){s9(e)||e.dispatchAction({type:"downplay",seriesName:r,name:t,excludeSeriesId:n})}function $bt(r){var t=r.findComponents({mainType:"legend"});t&&t.length&&r.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}function pd(r,t,e){var n=r==="allSelect"||r==="inverseSelect",i={},a=[];e.eachComponent({mainType:"legend",query:t},function(c){n?c[r]():c[r](t.name),b3(c,i),a.push(c.componentIndex)});var o={};return e.eachComponent("legend",function(c){j(i,function(h,v){c[h?"select":"unSelect"](v)}),b3(c,o)}),n?{selected:o,legendIndex:a}:{name:t.name,selected:o}}function b3(r,t){var e=t||{};return j(r.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=r.isSelected(i);Xt(e,i)?e[i]=e[i]&&a:e[i]=a}}),e}function qbt(r){r.registerAction("legendToggleSelect","legendselectchanged",ve(pd,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",ve(pd,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",ve(pd,"inverseSelect")),r.registerAction("legendSelect","legendselected",ve(pd,"select")),r.registerAction("legendUnSelect","legendunselected",ve(pd,"unSelect"))}function l9(r){r.registerComponentModel(wC),r.registerComponentView(o9),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,$bt),r.registerSubTypeDefaulter("legend",function(){return"plain"}),qbt(r)}var Xbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,n,i){var a=Oc(e);r.prototype.init.call(this,e,n,i),S3(this,e,a)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),S3(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Gl(wC.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:yt.color.accent50,pageIconInactiveColor:yt.color.accent10,pageIconSize:15,pageTextStyle:{color:yt.color.tertiary},animationDurationUpdate:800}),t})(wC);function S3(r,t,e){var n=r.getOrient(),i=[1,1];i[n.index]=0,Vo(t,e,{type:"box",ignoreSize:!!i})}var w3=ne,Zx=["width","height"],Kx=["x","y"],Zbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new w3),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new w3)},t.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,n,i,a,o,c,h){var v=this;r.prototype.renderInner.call(this,e,n,i,a,o,c,h);var g=this._controllerGroup,y=n.get("pageIconSize",!0),m=Rt(y)?y:[y,y];S("pagePrev",0);var b=n.getModel("pageTextStyle");g.add(new ke({name:"pageText",style:{text:"xx/xx",fill:b.getTextColor(),font:b.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),S("pageNext",1);function S(E,C){var A=E+"DataIndex",D=Fv(n.get("pageIcons",!0)[n.getOrient().name][C],{onclick:qt(v._pageGo,v,A,n,a)},{x:-m[0]/2,y:-m[1]/2,width:m[0],height:m[1]});D.name=E,g.add(D)}},t.prototype.layoutInner=function(e,n,i,a,o,c){var h=this.getSelectorGroup(),v=e.getOrient().index,g=Zx[v],y=Kx[v],m=Zx[1-v],b=Kx[1-v];o&&gc("horizontal",h,e.get("selectorItemGap",!0));var S=e.get("selectorButtonGap",!0),E=h.getBoundingRect(),C=[-E.x,-E.y],A=ie(i);o&&(A[g]=i[g]-E[g]-S);var D=this._layoutContentAndController(e,a,A,v,g,m,b,y);if(o){if(c==="end")C[v]+=D[g]+S;else{var L=E[g]+S;C[v]-=L,D[y]-=L}D[g]+=E[g]+S,C[1-v]+=D[b]+D[m]/2-E[m]/2,D[m]=Math.max(D[m],E[m]),D[b]=Math.min(D[b],E[b]+C[1-v]),h.x=C[0],h.y=C[1],h.markRedraw()}return D},t.prototype._layoutContentAndController=function(e,n,i,a,o,c,h,v){var g=this.getContentGroup(),y=this._containerGroup,m=this._controllerGroup;gc(e.get("orient"),g,e.get("itemGap"),a?i.width:null,a?null:i.height),gc("horizontal",m,e.get("pageButtonItemGap",!0));var b=g.getBoundingRect(),S=m.getBoundingRect(),E=this._showController=b[o]>i[o],C=[-b.x,-b.y];n||(C[a]=g[v]);var A=[0,0],D=[-S.x,-S.y],L=te(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(E){var R=e.get("pageButtonPosition",!0);R==="end"?D[a]+=i[o]-S[o]:A[a]+=S[o]+L}D[1-a]+=b[c]/2-S[c]/2,g.setPosition(C),y.setPosition(A),m.setPosition(D);var O={x:0,y:0};if(O[o]=E?i[o]:b[o],O[c]=Math.max(b[c],S[c]),O[h]=Math.min(0,S[h]+D[1-a]),y.__rectSize=i[o],E){var P={x:0,y:0};P[o]=Math.max(i[o]-S[o]-L,0),P[c]=O[c],y.setClipPath(new xe({shape:P})),y.__rectSize=P[o]}else m.eachChild(function(k){k.attr({invisible:!0,silent:!0})});var V=this._getPageInfo(e);return V.pageIndex!=null&&Ve(g,{x:V.contentPosition[0],y:V.contentPosition[1]},E?e:null),this._updatePageInfoView(e,V),O},t.prototype._pageGo=function(e,n,i){var a=this._getPageInfo(n)[e];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},t.prototype._updatePageInfoView=function(e,n){var i=this._controllerGroup;j(["pagePrev","pageNext"],function(g){var y=g+"DataIndex",m=n[y]!=null,b=i.childOfName(g);b&&(b.setStyle("fill",m?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),b.cursor=m?"pointer":"default")});var a=i.childOfName("pageText"),o=e.get("pageFormatter"),c=n.pageIndex,h=c!=null?c+1:0,v=n.pageCount;a&&o&&a.setStyle("text",$t(o)?o.replace("{current}",h==null?"":h+"").replace("{total}",v==null?"":v+""):o({current:h,total:v}))},t.prototype._getPageInfo=function(e){var n=e.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=e.getOrient().index,c=Zx[o],h=Kx[o],v=this._findTargetItemIndex(n),g=i.children(),y=g[v],m=g.length,b=m?1:0,S={contentPosition:[i.x,i.y],pageCount:b,pageIndex:b-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return S;var E=R(y);S.contentPosition[o]=-E.s;for(var C=v+1,A=E,D=E,L=null;C<=m;++C)L=R(g[C]),(!L&&D.e>A.s+a||L&&!O(L,A.s))&&(D.i>A.i?A=D:A=L,A&&(S.pageNextDataIndex==null&&(S.pageNextDataIndex=A.i),++S.pageCount)),D=L;for(var C=v-1,A=E,D=E,L=null;C>=-1;--C)L=R(g[C]),(!L||!O(D,L.s))&&A.i<D.i&&(D=A,S.pagePrevDataIndex==null&&(S.pagePrevDataIndex=A.i),++S.pageCount,++S.pageIndex),A=L;return S;function R(P){if(P){var V=P.getBoundingRect(),k=V[h]+P[h];return{s:k,e:k+V[c],i:P.__legendDataIndex}}}function O(P,V){return P.e>=V&&P.s<=V+a}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(o,c){var h=o.__legendDataIndex;a==null&&h!=null&&(a=c),h===e&&(n=c)}),n??a},t.type="legend.scroll",t})(o9);function Kbt(r){r.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;n!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(n)})})}function Jbt(r){be(l9),r.registerComponentModel(Xbt),r.registerComponentView(Zbt),Kbt(r)}function Qbt(r){be(l9),be(Jbt)}var t1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=Gl(Mv.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t})(Mv),pM=Ee();function e1t(r,t,e){pM(r).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(t.uid);i&&(i.getRange=e)})}function r1t(r,t){for(var e=pM(r).coordSysRecordMap,n=e.keys(),i=0;i<n.length;i++){var a=n[i],o=e.get(a),c=o.dataZoomInfoMap;if(c){var h=t.uid,v=c.get(h);v&&(c.removeKey(h),c.keys().length||u9(e,o))}}}function u9(r,t){if(t){r.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function n1t(r,t){var e={model:t,containsPoint:ve(a1t,t),dispatchAction:ve(i1t,r),dataZoomInfoMap:null,controller:null},n=e.controller=new Fc(r.getZr());return j(["pan","zoom","scrollMove"],function(i){n.on(i,function(a){var o=[];e.dataZoomInfoMap.each(function(c){if(a.isAvailableBehavior(c.model.option)){var h=(c.getRange||{})[i],v=h&&h(c.dzReferCoordSysInfo,e.model.mainType,e.controller,a);!c.model.get("disabled",!0)&&v&&o.push({dataZoomId:c.model.id,start:v[0],end:v[1]})}}),o.length&&e.dispatchAction(o)})}),e}function i1t(r,t){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function a1t(r,t,e,n){return r.coordinateSystem.containPoint([e,n])}function o1t(r,t,e){var n,i="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return r.each(function(c){var h=c.model,v=h.get("disabled",!0)?!1:h.get("zoomLock",!0)?"move":!0;a[i+v]>a[i+n]&&(n=v),o=o&&h.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o,api:e,zInfo:{component:t.model},triggerInfo:{roamTrigger:null,isInSelf:t.containsPoint}}}}function s1t(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=pM(e),i=n.coordSysRecordMap||(n.coordSysRecordMap=Qt());i.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var o=j7(a);j(o.infoList,function(c){var h=c.model.uid,v=i.get(h)||i.set(h,n1t(e,c.model)),g=v.dataZoomInfoMap||(v.dataZoomInfoMap=Qt());g.set(a.uid,{dzReferCoordSysInfo:c,model:a,getRange:null})})}),i.each(function(a){var o=a.controller,c,h=a.dataZoomInfoMap;if(h){var v=h.keys()[0];v!=null&&(c=h.get(v))}if(!c){u9(i,a);return}var g=o1t(h,a,e);o.enable(g.controlType,g.opt),Uh(a,"dispatchAction",c.model.get("throttle",!0),"fixRate")})})}var l1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,n,i){if(r.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),e1t(i,e,{pan:qt(Jx.pan,this),zoom:qt(Jx.zoom,this),scrollMove:qt(Jx.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){r1t(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t})(aM),Jx={zoom:function(r,t,e,n){var i=this.range,a=i.slice(),o=r.axisModels[0];if(o){var c=Qx[t](null,[n.originX,n.originY],o,e,r),h=(c.signal>0?c.pixelStart+c.pixelLength-c.pixel:c.pixel-c.pixelStart)/c.pixelLength*(a[1]-a[0])+a[0],v=Math.max(1/n.scale,0);a[0]=(a[0]-h)*v+h,a[1]=(a[1]-h)*v+h;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Rl(0,a,[0,100],0,g.minSpan,g.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:x3(function(r,t,e,n,i,a){var o=Qx[n]([a.oldX,a.oldY],[a.newX,a.newY],t,i,e);return o.signal*(r[1]-r[0])*o.pixel/o.pixelLength}),scrollMove:x3(function(r,t,e,n,i,a){var o=Qx[n]([0,0],[a.scrollDelta,a.scrollDelta],t,i,e);return o.signal*(r[1]-r[0])*a.scrollDelta})};function x3(r){return function(t,e,n,i){var a=this.range,o=a.slice(),c=t.axisModels[0];if(c){var h=r(o,c,t,e,n,i);if(Rl(h,o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}}}var Qx={grid:function(r,t,e,n,i){var a=e.axis,o={},c=i.model.coordinateSystem.getRect();return r=r||[0,0],a.dim==="x"?(o.pixel=t[0]-r[0],o.pixelLength=c.width,o.pixelStart=c.x,o.signal=a.inverse?1:-1):(o.pixel=t[1]-r[1],o.pixelLength=c.height,o.pixelStart=c.y,o.signal=a.inverse?-1:1),o},polar:function(r,t,e,n,i){var a=e.axis,o={},c=i.model.coordinateSystem,h=c.getRadiusAxis().getExtent(),v=c.getAngleAxis().getExtent();return r=r?c.pointToCoord(r):[0,0],t=c.pointToCoord(t),e.mainType==="radiusAxis"?(o.pixel=t[0]-r[0],o.pixelLength=h[1]-h[0],o.pixelStart=h[0],o.signal=a.inverse?1:-1):(o.pixel=t[1]-r[1],o.pixelLength=v[1]-v[0],o.pixelStart=v[0],o.signal=a.inverse?-1:1),o},singleAxis:function(r,t,e,n,i){var a=e.axis,o=i.model.coordinateSystem.getRect(),c={};return r=r||[0,0],a.orient==="horizontal"?(c.pixel=t[0]-r[0],c.pixelLength=o.width,c.pixelStart=o.x,c.signal=a.inverse?1:-1):(c.pixel=t[1]-r[1],c.pixelLength=o.height,c.pixelStart=o.y,c.signal=a.inverse?-1:1),c}};function c9(r){oM(r),r.registerComponentModel(t1t),r.registerComponentView(l1t),s1t(r)}var u1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Gl(Mv.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:yt.color.accent10,borderRadius:0,backgroundColor:yt.color.transparent,dataBackground:{lineStyle:{color:yt.color.accent30,width:.5},areaStyle:{color:yt.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:yt.color.accent40,width:.5},areaStyle:{color:yt.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:yt.color.neutral00,borderColor:yt.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:yt.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:yt.color.tertiary},brushSelect:!0,brushStyle:{color:yt.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:yt.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),t})(Mv),dd=xe,c1t=1,tE=30,f1t=7,vd="horizontal",E3="vertical",h1t=5,p1t=["line","bar","candlestick","scatter"],d1t={easing:"cubicOut",duration:100,delay:0},v1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,n){this.api=n,this._onBrush=qt(this._onBrush,this),this._onBrushEnd=qt(this._onBrushEnd,this)},t.prototype.render=function(e,n,i,a){if(r.prototype.render.apply(this,arguments),Uh(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){dv(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new ne;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,n=this.api,i=e.get("brushSelect"),a=i?f1t:0,o=sn(e,n).refContainer,c=this._findCoordRect(),h=e.get("defaultLocationEdgeGap",!0)||0,v=this._orient===vd?{right:o.width-c.x-c.width,top:o.height-tE-h-a,width:c.width,height:tE}:{right:h,top:c.y,width:tE,height:c.height},g=Oc(e.option);j(["right","top","width","height"],function(m){g[m]==="ph"&&(g[m]=v[m])});var y=mr(g,o);this._location={x:y.x,y:y.y},this._size=[y.width,y.height],this._orient===E3&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,n=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),c=this._displayables.sliderGroup,h=(this._dataShadowInfo||{}).otherAxisInverse;c.attr(i===vd&&!o?{scaleY:h?1:-1,scaleX:1}:i===vd&&o?{scaleY:h?1:-1,scaleX:-1}:i===E3&&!o?{scaleY:h?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:h?-1:1,scaleX:-1,rotation:Math.PI/2});var v=e.getBoundingRect([c]);e.x=n.x-v.x,e.y=n.y-v.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,a=e.get("brushSelect");i.add(new dd({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new dd({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:qt(this._onClickPanel,this)}),c=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",c.on("mousemove",this._onBrush),c.on("mouseup",this._onBrushEnd)):(c.off("mousemove",this._onBrush),c.off("mouseup",this._onBrushEnd)),i.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var n=this._size,i=this._shadowSize||[],a=e.series,o=a.getRawData(),c=a.getShadowDim&&a.getShadowDim(),h=c&&o.getDimensionInfo(c)?a.getShadowDim():e.otherDim;if(h==null)return;var v=this._shadowPolygonPts,g=this._shadowPolylinePts;if(o!==this._shadowData||h!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var y=o.getDataExtent(e.thisDim),m=o.getDataExtent(h),b=(m[1]-m[0])*.3;m=[m[0]-b,m[1]+b];var S=[0,n[1]],E=[0,n[0]],C=[[n[0],0],[0,0]],A=[],D=E[1]/Math.max(1,o.count()-1),L=n[0]/(y[1]-y[0]),R=e.thisAxis.type==="time",O=-D,P=Math.round(o.count()/n[0]),V;o.each([e.thisDim,h],function(q,Y,K){if(P>0&&K%P){R||(O+=D);return}O=R?(+q-y[0])*L:O+D;var X=Y==null||isNaN(Y)||Y==="",J=X?0:je(Y,m,S,!0);X&&!V&&K?(C.push([C[C.length-1][0],0]),A.push([A[A.length-1][0],0])):!X&&V&&(C.push([O,0]),A.push([O,0])),X||(C.push([O,J]),A.push([O,J])),V=X}),v=this._shadowPolygonPts=C,g=this._shadowPolylinePts=A}this._shadowData=o,this._shadowDim=h,this._shadowSize=[n[0],n[1]];var k=this.dataZoomModel;function F(q){var Y=k.getModel(q?"selectedDataBackground":"dataBackground"),K=new ne,X=new Zn({shape:{points:v},segmentIgnoreThreshold:1,style:Y.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),J=new Pn({shape:{points:g},segmentIgnoreThreshold:1,style:Y.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return K.add(X),K.add(J),K}for(var H=0;H<3;H++){var W=F(H===1);this._displayables.sliderGroup.add(W),this._displayables.dataShadowSegs.push(W)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,n=e.get("showDataShadow");if(n!==!1){var i,a=this.ecModel;return e.eachTargetAxis(function(o,c){var h=e.getAxisProxy(o,c).getTargetSeriesModels();j(h,function(v){if(!i&&!(n!==!0&&ge(p1t,v.get("type"))<0)){var g=a.getComponent(ml(o),c).axis,y=g1t(o),m,b=v.coordinateSystem;y!=null&&b.getOtherAxis&&(m=b.getOtherAxis(g).inverse),y=v.getData().mapDimension(y);var S=v.getData().mapDimension(o);i={thisAxis:g,series:v,thisDim:S,otherDim:y,otherAxisInverse:m}}},this)},this),i}},t.prototype._renderHandle=function(){var e=this.group,n=this._displayables,i=n.handles=[null,null],a=n.handleLabels=[null,null],o=this._displayables.sliderGroup,c=this._size,h=this.dataZoomModel,v=this.api,g=h.get("borderRadius")||0,y=h.get("brushSelect"),m=n.filler=new dd({silent:y,style:{fill:h.get("fillerColor")},textConfig:{position:"inside"}});o.add(m),o.add(new dd({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:c[0],height:c[1],r:g},style:{stroke:h.get("dataBackgroundColor")||h.get("borderColor"),lineWidth:c1t,fill:yt.color.transparent}})),j([0,1],function(L){var R=h.get("handleIcon");!P0[R]&&R.indexOf("path://")<0&&R.indexOf("image://")<0&&(R="path://"+R);var O=Kr(R,-1,0,2,2,null,!0);O.attr({cursor:y1t(this._orient),draggable:!0,drift:qt(this._onDragMove,this,L),ondragend:qt(this._onDragEnd,this),onmouseover:qt(this._showDataInfo,this,!0),onmouseout:qt(this._showDataInfo,this,!1),z2:5});var P=O.getBoundingRect(),V=h.get("handleSize");this._handleHeight=Yt(V,this._size[1]),this._handleWidth=P.width/P.height*this._handleHeight,O.setStyle(h.getModel("handleStyle").getItemStyle()),O.style.strokeNoScale=!0,O.rectHover=!0,O.ensureState("emphasis").style=h.getModel(["emphasis","handleStyle"]).getItemStyle(),dc(O);var k=h.get("handleColor");k!=null&&(O.style.fill=k),o.add(i[L]=O);var F=h.getModel("textStyle"),H=h.get("handleLabel")||{},W=H.show||!1;e.add(a[L]=new ke({silent:!0,invisible:!W,style:or(F,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:F.getTextColor(),font:F.getFont()}),z2:10}))},this);var b=m;if(y){var S=Yt(h.get("moveHandleSize"),c[1]),E=n.moveHandle=new xe({style:h.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:c[1]-.5,height:S}}),C=S*.8,A=n.moveHandleIcon=Kr(h.get("moveHandleIcon"),-C/2,-C/2,C,C,yt.color.neutral00,!0);A.silent=!0,A.y=c[1]+S/2-.5,E.ensureState("emphasis").style=h.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var D=Math.min(c[1]/2,Math.max(S,10));b=n.moveZone=new xe({invisible:!0,shape:{y:c[1]-D,height:S+D}}),b.on("mouseover",function(){v.enterEmphasis(E)}).on("mouseout",function(){v.leaveEmphasis(E)}),o.add(E),o.add(A),o.add(b)}b.attr({draggable:!0,cursor:"default",drift:qt(this._onDragMove,this,"all"),ondragstart:qt(this._showDataInfo,this,!0),ondragend:qt(this._onDragEnd,this),onmouseover:qt(this._showDataInfo,this,!0),onmouseout:qt(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[je(e[0],[0,100],n,!0),je(e[1],[0,100],n,!0)]},t.prototype._updateInterval=function(e,n){var i=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),c=i.findRepresentativeAxisProxy().getMinMaxSpan(),h=[0,100];Rl(n,a,o,i.get("zoomLock")?"all":e,c.minSpan!=null?je(c.minSpan,h,o,!0):null,c.maxSpan!=null?je(c.maxSpan,h,o,!0):null);var v=this._range,g=this._range=ca([je(a[0],o,h,!0),je(a[1],o,h,!0)]);return!v||v[0]!==g[0]||v[1]!==g[1]},t.prototype._updateView=function(e){var n=this._displayables,i=this._handleEnds,a=ca(i.slice()),o=this._size;j([0,1],function(b){var S=n.handles[b],E=this._handleHeight;S.attr({scaleX:E/2,scaleY:E/2,x:i[b]+(b?-1:1),y:o[1]/2-E/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var c={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(c),n.moveZone.setShape(c),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",c.x+c.width/2));for(var h=n.dataShadowSegs,v=[0,a[0],a[1],o[0]],g=0;g<h.length;g++){var y=h[g],m=y.getClipPath();m||(m=new xe,y.setClipPath(m)),m.setShape({x:v[g],y:0,width:v[g+1]-v[g],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var n=this.dataZoomModel,i=this._displayables,a=i.handleLabels,o=this._orient,c=["",""];if(n.get("showDetail")){var h=n.findRepresentativeAxisProxy();if(h){var v=h.getAxisModel().axis,g=this._range,y=e?h.calculateDataWindow({start:g[0],end:g[1]}).valueWindow:h.getDataValueWindow();c=[this._formatLabel(y[0],v),this._formatLabel(y[1],v)]}}var m=ca(this._handleEnds.slice());b.call(this,0),b.call(this,1);function b(S){var E=vc(i.handles[S].parent,this.group),C=$_(S===0?"right":"left",E),A=this._handleWidth/2+h1t,D=Oa([m[S]+(S===0?-A:A),this._size[1]/2],E);a[S].setStyle({x:D[0],y:D[1],verticalAlign:o===vd?"middle":C,align:o===vd?C:"center",text:c[S]})}},t.prototype._formatLabel=function(e,n){var i=this.dataZoomModel,a=i.get("labelFormatter"),o=i.get("labelPrecision");(o==null||o==="auto")&&(o=n.getPixelPrecision());var c=e==null||isNaN(e)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return re(a)?a(e,c):$t(a)?a.replace("{value}",c):c},t.prototype._showDataInfo=function(e){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=a.get("show")||!1,c=e||this._dragging?o:i,h=this._displayables,v=h.handleLabels;v[0].attr("invisible",!c),v[1].attr("invisible",!c),h.moveHandle&&this.api[c?"enterEmphasis":"leaveEmphasis"](h.moveHandle,1)},t.prototype._onDragMove=function(e,n,i,a){this._dragging=!0,_s(a.event);var o=this._displayables.sliderGroup.getLocalTransform(),c=Oa([n,i],o,!0),h=this._updateInterval(e,c[0]),v=this.dataZoomModel.get("realtime");this._updateView(!v),h&&v&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var a=this._handleEnds,o=(a[0]+a[1])/2,c=this._updateInterval("all",i[0]-o);this._updateView(),c&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var n=e.offsetX,i=e.offsetY;this._brushStart=new oe(n,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),c=[0,100],h=this._handleEnds=[i.x,i.x+i.width],v=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();Rl(0,h,o,0,v.minSpan!=null?je(v.minSpan,c,o,!0):null,v.maxSpan!=null?je(v.maxSpan,c,o,!0):null),this._range=ca([je(h[0],o,c,!0),je(h[1],o,c,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(_s(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,n){var i=this._displayables,a=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new dd({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var c=this._brushStart,h=this._displayables.sliderGroup,v=h.transformCoordToLocal(e,n),g=h.transformCoordToLocal(c.x,c.y),y=this._size;v[0]=Math.max(Math.min(y[0],v[0]),0),o.setShape({x:g[0],y:0,width:v[0]-g[0],height:y[1]})},t.prototype._dispatchZoomAction=function(e){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?d1t:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var e,n=j7(this.dataZoomModel).infoList;if(!e&&n.length){var i=n[0].model.coordinateSystem;e=i.getRect&&i.getRect()}if(!e){var a=this.api.getWidth(),o=this.api.getHeight();e={x:a*.2,y:o*.2,width:a*.6,height:o*.6}}return e},t.type="dataZoom.slider",t})(aM);function g1t(r){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[r]}function y1t(r){return r==="vertical"?"ns-resize":"ew-resize"}function f9(r){r.registerComponentModel(u1t),r.registerComponentView(v1t),oM(r)}function m1t(r){be(c9),be(f9)}var h9={get:function(r,t,e){var n=ie((_1t[r]||{})[t]);return e&&Rt(n)?n[n.length-1]:n}},_1t={color:{active:["#006edd","#e0ffff"],inactive:[yt.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},T3=hn.mapVisual,b1t=hn.eachVisual,S1t=Rt,C3=j,w1t=ca,x1t=je,d_=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,n){var i=this.option;!n&&e9(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var n=this.stateList;e=qt(e,this),this.controllerVisuals=_C(this.option.controller,n,e),this.targetVisuals=_C(this.option.target,n,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesId,n=this.option.seriesIndex;n==null&&e==null&&(n="all");var i=kh(this.ecModel,"series",{index:n,id:e},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return Pt(i,function(a){return a.componentIndex})},t.prototype.eachTargetSeries=function(e,n){j(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&e.call(n,a)},this)},t.prototype.isTargetSeries=function(e){var n=!1;return this.eachTargetSeries(function(i){i===e&&(n=!0)}),n},t.prototype.formatValueText=function(e,n,i){var a=this.option,o=a.precision,c=this.dataBound,h=a.formatter,v;i=i||["<",">"],Rt(e)&&(e=e.slice(),v=!0);var g=n?e:v?[y(e[0]),y(e[1])]:y(e);if($t(h))return h.replace("{value}",v?g[0]:g).replace("{value2}",v?g[1]:g);if(re(h))return v?h(e[0],e[1]):h(e);if(v)return e[0]===c[0]?i[0]+" "+g[1]:e[1]===c[1]?i[1]+" "+g[0]:g[0]+" - "+g[1];return g;function y(m){return m===c[0]?"min":m===c[1]?"max":(+m).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,n=w1t([e.min,e.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(e){var n=this.option.dimension;if(n!=null)return e.getDimensionIndex(n);for(var i=e.dimensions,a=i.length-1;a>=0;a--){var o=i[a],c=e.getDimensionInfo(o);if(!c.isCalculationCoord)return c.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),o=n.controller||(n.controller={});ye(a,i),ye(o,i);var c=this.isCategory();h.call(this,a),h.call(this,o),v.call(this,a,"inRange","outOfRange"),g.call(this,o);function h(y){S1t(n.color)&&!y.inRange&&(y.inRange={color:n.color.slice().reverse()}),y.inRange=y.inRange||{color:e.get("gradientColor")}}function v(y,m,b){var S=y[m],E=y[b];S&&!E&&(E=y[b]={},C3(S,function(C,A){if(hn.isValidType(A)){var D=h9.get(A,"inactive",c);D!=null&&(E[A]=D,A==="color"&&!E.hasOwnProperty("opacity")&&!E.hasOwnProperty("colorAlpha")&&(E.opacity=[0,0]))}}))}function g(y){var m=(y.inRange||{}).symbol||(y.outOfRange||{}).symbol,b=(y.inRange||{}).symbolSize||(y.outOfRange||{}).symbolSize,S=this.get("inactiveColor"),E=this.getItemSymbol(),C=E||"roundRect";C3(this.stateList,function(A){var D=this.itemSize,L=y[A];L||(L=y[A]={color:c?S:[S]}),L.symbol==null&&(L.symbol=m&&ie(m)||(c?C:[C])),L.symbolSize==null&&(L.symbolSize=b&&ie(b)||(c?D[0]:[D[0],D[0]])),L.symbol=T3(L.symbol,function(P){return P==="none"?C:P});var R=L.symbolSize;if(R!=null){var O=-1/0;b1t(R,function(P){P>O&&(O=P)}),L.symbolSize=T3(R,function(P){return x1t(P,[0,O],[0,D[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:yt.color.transparent,borderColor:yt.color.borderTint,contentColor:yt.color.theme[0],inactiveColor:yt.color.disabled,borderWidth:0,padding:yt.size.m,textGap:10,precision:0,textStyle:{color:yt.color.secondary}},t})(Ce),A3=[20,140],E1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(e,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=A3[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=A3[1])},t.prototype._resetRange=function(){var e=this.getExtent(),n=this.option.range;!n||n.auto?(e.auto=1,this.option.range=e):Rt(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],e[0]),n[1]=Math.min(n[1],e[1]))},t.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),j(this.stateList,function(e){var n=this.option.controller[e].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),n=ca((this.get("range")||[]).slice());return n[0]>e[1]&&(n[0]=e[1]),n[1]>e[1]&&(n[1]=e[1]),n[0]<e[0]&&(n[0]=e[0]),n[1]<e[0]&&(n[1]=e[0]),n},t.prototype.getValueState=function(e){var n=this.option.range,i=this.getExtent(),a=te(this.option.unboundedRange,!0);return(a&&n[0]<=i[0]||n[0]<=e)&&(a&&n[1]>=i[1]||e<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[];return this.eachTargetSeries(function(i){var a=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(c,h){e[0]<=c&&c<=e[1]&&a.push(h)},this),n.push({seriesId:i.id,dataIndex:a})},this),n},t.prototype.getVisualMeta=function(e){var n=D3(this,"outOfRange",this.getExtent()),i=D3(this,"inRange",this.option.range.slice()),a=[];function o(b,S){a.push({value:b,color:e(b,S)})}for(var c=0,h=0,v=i.length,g=n.length;h<g&&(!i.length||n[h]<=i[0]);h++)n[h]<i[c]&&o(n[h],"outOfRange");for(var y=1;c<v;c++,y=0)y&&a.length&&o(i[c],"outOfRange"),o(i[c],"inRange");for(var y=1;h<g;h++)(!i.length||i[i.length-1]<n[h])&&(y&&(a.length&&o(a[a.length-1].value,"outOfRange"),y=0),o(n[h],"outOfRange"));var m=a.length;return{stops:a,outerColors:[m?a[0].color:"transparent",m?a[m-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Gl(d_.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:yt.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:yt.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:yt.color.shadow}}),t})(d_);function D3(r,t,e){if(e[0]===e[1])return e.slice();for(var n=200,i=(e[1]-e[0])/n,a=e[0],o=[],c=0;c<=n&&a<e[1];c++)o.push(a),a+=i;return o.push(e[1]),o}var p9=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return t.prototype.init=function(e,n){this.ecModel=e,this.api=n},t.prototype.render=function(e,n,i,a){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,n,i,a)},t.prototype.renderBackground=function(e){var n=this.visualMapModel,i=Bv(n.get("padding")||0),a=e.getBoundingRect();e.add(new xe({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,n,i){i=i||{};var a=i.forceState,o=this.visualMapModel,c={};if(n==="color"){var h=o.get("contentColor");c.color=h}function v(b){return c[b]}function g(b,S){c[b]=S}var y=o.controllerVisuals[a||o.getValueState(e)],m=hn.prepareVisualTypes(y);return j(m,function(b){var S=y[b];i.convertOpacityToAlpha&&b==="opacity"&&(b="colorAlpha",S=y.__alphaForOpacity),hn.dependsOn(b,n)&&S&&S.applyVisual(e,v,g)}),c[n]},t.prototype.positionGroup=function(e){var n=this.visualMapModel,i=this.api,a=sn(n,i).refContainer;K_(e,n.getBoxLayoutParams(),a)},t.prototype.doRender=function(e,n,i,a){},t.type="visualMap",t})(vr),M3=[["left","right","width"],["top","bottom","height"]];function d9(r,t,e){var n=r.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var a={width:t.getWidth(),height:t.getHeight()},o=n.orient==="horizontal"?1:0,c=M3[o],h=[0,null,10],v={},g=0;g<3;g++)v[M3[1-o][g]]=h[g],v[c[g]]=g===2?e[0]:n[c[g]];var y=[["x","width",3],["y","height",0]][o],m=mr(v,a,n.padding);return c[(m.margin[y[2]]||0)+m[y[0]]+m[y[1]]*.5<a[y[1]]*.5?0:1]}function a0(r,t){return j(r||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),r}var ho=je,T1t=j,L3=Math.min,eE=Math.max,C1t=12,A1t=6,D1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return t.prototype.init=function(e,n){r.prototype.init.call(this,e,n),this._hoverLinkFromSeriesMouseOver=qt(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=qt(this._hideIndicator,this)},t.prototype.doRender=function(e,n,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,n=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(n);var i=e.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(e,n,i){if(n){var a=n[1-i];a=a!=null?a+"":"";var o=this.visualMapModel,c=o.get("textGap"),h=o.itemSize,v=this._shapes.mainGroup,g=this._applyTransform([h[0]/2,i===0?-c:h[1]+c],v),y=this._applyTransform(i===0?"bottom":"top",v),m=this._orient,b=this.visualMapModel.textStyleModel;this.group.add(new ke({style:or(b,{x:g[0],y:g[1],verticalAlign:b.get("verticalAlign")||(m==="horizontal"?"middle":y),align:b.get("align")||(m==="horizontal"?y:"center"),text:a})}))}},t.prototype._renderBar=function(e){var n=this.visualMapModel,i=this._shapes,a=n.itemSize,o=this._orient,c=this._useHandle,h=d9(n,this.api,a),v=i.mainGroup=this._createBarGroup(h),g=new ne;v.add(g),g.add(i.outOfRange=N3()),g.add(i.inRange=N3(null,c?I3(this._orient):null,qt(this._dragHandle,this,"all",!1),qt(this._dragHandle,this,"all",!0))),g.setClipPath(new xe({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var y=n.textStyleModel.getTextRect(""),m=eE(y.width,y.height);c&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,v,0,a,m,o),this._createHandle(n,v,1,a,m,o)),this._createIndicator(n,v,a,m,o),e.add(v)},t.prototype._createHandle=function(e,n,i,a,o,c){var h=qt(this._dragHandle,this,i,!1),v=qt(this._dragHandle,this,i,!0),g=Ga(e.get("handleSize"),a[0]),y=Kr(e.get("handleIcon"),-g/2,-g/2,g,g,null,!0),m=I3(this._orient);y.attr({cursor:m,draggable:!0,drift:h,ondragend:v,onmousemove:function(A){_s(A.event)}}),y.x=a[0]/2,y.useStyle(e.getModel("handleStyle").getItemStyle()),y.setStyle({strokeNoScale:!0,strokeFirst:!0}),y.style.lineWidth*=2,y.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),nc(y,!0),n.add(y);var b=this.visualMapModel.textStyleModel,S=new ke({cursor:m,draggable:!0,drift:h,onmousemove:function(A){_s(A.event)},ondragend:v,style:or(b,{x:0,y:0,text:""})});S.ensureState("blur").style={opacity:.1},S.stateTransition={duration:200},this.group.add(S);var E=[g,0],C=this._shapes;C.handleThumbs[i]=y,C.handleLabelPoints[i]=E,C.handleLabels[i]=S},t.prototype._createIndicator=function(e,n,i,a,o){var c=Ga(e.get("indicatorSize"),i[0]),h=Kr(e.get("indicatorIcon"),-c/2,-c/2,c,c,null,!0);h.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var v=e.getModel("indicatorStyle").getItemStyle();if(h instanceof En){var g=h.style;h.useStyle(Mt({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},v))}else h.useStyle(v);n.add(h);var y=this.visualMapModel.textStyleModel,m=new ke({silent:!0,invisible:!0,style:or(y,{x:0,y:0,text:""})});this.group.add(m);var b=[(o==="horizontal"?a/2:A1t)+i[0]/2,0],S=this._shapes;S.indicator=h,S.indicatorLabel=m,S.indicatorLabelPoint=b,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,n,i,a){if(this._useHandle){if(this._dragging=!n,!n){var o=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():R3(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,n=this._dataInterval=e.getSelected(),i=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[ho(n[0],i,a,!0),ho(n[1],i,a,!0)]},t.prototype._updateInterval=function(e,n){n=n||0;var i=this.visualMapModel,a=this._handleEnds,o=[0,i.itemSize[1]];Rl(n,a,o,e,0);var c=i.getExtent();this._dataInterval=[ho(a[0],o,c,!0),ho(a[1],o,c,!0)]},t.prototype._updateView=function(e){var n=this.visualMapModel,i=n.getExtent(),a=this._shapes,o=[0,n.itemSize[1]],c=e?o:this._handleEnds,h=this._createBarVisual(this._dataInterval,i,c,"inRange"),v=this._createBarVisual(i,i,o,"outOfRange");a.inRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),a.outOfRange.setStyle({fill:v.barColor}).setShape("points",v.barPoints),this._updateHandle(c,h)},t.prototype._createBarVisual=function(e,n,i,a){var o={forceState:a,convertOpacityToAlpha:!0},c=this._makeColorGradient(e,o),h=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],v=this._createBarPoints(i,h);return{barColor:new Gh(0,0,0,1,c),barPoints:v,handlesColor:[c[0].color,c[c.length-1].color]}},t.prototype._makeColorGradient=function(e,n){var i=100,a=[],o=(e[1]-e[0])/i;a.push({color:this.getControllerVisual(e[0],"color",n),offset:0});for(var c=1;c<i;c++){var h=e[0]+o*c;if(h>e[1])break;a.push({color:this.getControllerVisual(h,"color",n),offset:c/i})}return a.push({color:this.getControllerVisual(e[1],"color",n),offset:1}),a},t.prototype._createBarPoints=function(e,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-n[1],e[1]]]},t.prototype._createBarGroup=function(e){var n=this._orient,i=this.visualMapModel.get("inverse");return new ne(n==="horizontal"&&!i?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},t.prototype._updateHandle=function(e,n){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,o=i.handleThumbs,c=i.handleLabels,h=a.itemSize,v=a.getExtent(),g=this._applyTransform("left",i.mainGroup);T1t([0,1],function(y){var m=o[y];m.setStyle("fill",n.handlesColor[y]),m.y=e[y];var b=ho(e[y],[0,h[1]],v,!0),S=this.getControllerVisual(b,"symbolSize");m.scaleX=m.scaleY=S/h[0],m.x=h[0]-S/2;var E=Oa(i.handleLabelPoints[y],vc(m,this.group));if(this._orient==="horizontal"){var C=g==="left"||g==="top"?(h[0]-S)/2:(h[0]-S)/-2;E[1]+=C}c[y].setStyle({x:E[0],y:E[1],text:a.formatValueText(this._dataInterval[y]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,n,i,a){var o=this.visualMapModel,c=o.getExtent(),h=o.itemSize,v=[0,h[1]],g=this._shapes,y=g.indicator;if(y){y.attr("invisible",!1);var m={convertOpacityToAlpha:!0},b=this.getControllerVisual(e,"color",m),S=this.getControllerVisual(e,"symbolSize"),E=ho(e,c,v,!0),C=h[0]-S/2,A={x:y.x,y:y.y};y.y=E,y.x=C;var D=Oa(g.indicatorLabelPoint,vc(y,this.group)),L=g.indicatorLabel;L.attr("invisible",!1);var R=this._applyTransform("left",g.mainGroup),O=this._orient,P=O==="horizontal";L.setStyle({text:(i||"")+o.formatValueText(n),verticalAlign:P?R:"middle",align:P?"center":R});var V={x:C,y:E,style:{fill:b}},k={style:{x:D[0],y:D[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var F={duration:100,easing:"cubicInOut",additive:!0};y.x=A.x,y.y=A.y,y.animateTo(V,F),L.animateTo(k,F)}else y.attr(V),L.attr(k);this._firstShowIndicator=!1;var H=this._shapes.handleLabels;if(H)for(var W=0;W<H.length;W++)this.api.enterBlur(H[W])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(n){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,a=e._applyTransform([n.offsetX,n.offsetY],e._shapes.mainGroup,!0,!0);a[1]=L3(eE(0,a[1]),i[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,n){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var o=[0,a[1]],c=i.getExtent();e=L3(eE(o[0],e),o[1]);var h=M1t(i,c,o),v=[e-h,e+h],g=ho(e,o,c,!0),y=[ho(v[0],o,c,!0),ho(v[1],o,c,!0)];v[0]<o[0]&&(y[0]=-1/0),v[1]>o[1]&&(y[1]=1/0),n&&(y[0]===-1/0?this._showIndicator(g,y[1],"< ",h):y[1]===1/0?this._showIndicator(g,y[0],"> ",h):this._showIndicator(g,g," ",h));var m=this._hoverLinkDataIndices,b=[];(n||R3(i))&&(b=this._hoverLinkDataIndices=i.findTargetDataIndices(y));var S=xrt(m,b);this._dispatchHighDown("downplay",a0(S[0],i)),this._dispatchHighDown("highlight",a0(S[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var n;if(ac(e.target,function(h){var v=fe(h);if(v.dataIndex!=null)return n=v,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var o=i.getData(n.dataType),c=o.getStore().get(a.getDataDimensionIndex(o),n.dataIndex);isNaN(c)||this._showIndicator(c,c)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",a0(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,n,i,a){var o=vc(n,a?null:this.group);return Rt(e)?Oa(e,o,i):$_(e,o,i)},t.prototype._dispatchHighDown=function(e,n){n&&n.length&&this.api.dispatchAction({type:e,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t})(p9);function N3(r,t,e,n){return new Zn({shape:{points:r},draggable:!!e,cursor:t,drift:e,onmousemove:function(i){_s(i.event)},ondragend:n})}function M1t(r,t,e){var n=C1t/2,i=r.get("hoverLinkDataSize");return i&&(n=ho(i,t,e,!0)/2),n}function R3(r){var t=r.get("hoverLinkOnHandle");return!!(t??r.get("realtime"))}function I3(r){return r==="vertical"?"ns-resize":"ew-resize"}var L1t={type:"selectDataRange",event:"dataRangeSelected",update:"update"},N1t=function(r,t){t.eachComponent({mainType:"visualMap",query:r},function(e){e.setSelected(r.selected)})},R1t=[{createOnAllSeries:!0,reset:function(r,t){var e=[];return t.eachComponent("visualMap",function(n){var i=r.pipelineContext;!n.isTargetSeries(r)||i&&i.large||e.push(Q_t(n.stateList,n.targetVisuals,qt(n.getValueState,n),n.getDataDimensionIndex(r.getData())))}),e}},{createOnAllSeries:!0,reset:function(r,t){var e=r.getData(),n=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(r)){var a=i.getVisualMeta(qt(I1t,null,r,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(e);o>=0&&(a.dimension=o,n.push(a))}}),r.getData().setVisual("visualMeta",n)}}];function I1t(r,t,e,n){for(var i=t.targetVisuals[n],a=hn.prepareVisualTypes(i),o={color:Uv(r.getData(),"color")},c=0,h=a.length;c<h;c++){var v=a[c],g=i[v==="opacity"?"__alphaForOpacity":v];g&&g.applyVisual(e,y,m)}return o.color;function y(b){return o[b]}function m(b,S){o[b]=S}}var O3=j;function O1t(r){var t=r&&r.visualMap;Rt(t)||(t=t?[t]:[]),O3(t,function(e){if(e){Uf(e,"splitList")&&!Uf(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var n=e.pieces;n&&Rt(n)&&O3(n,function(i){le(i)&&(Uf(i,"start")&&!Uf(i,"min")&&(i.min=i.start),Uf(i,"end")&&!Uf(i,"max")&&(i.max=i.end))})}})}function Uf(r,t){return r&&r.hasOwnProperty&&r.hasOwnProperty(t)}var P3=!1;function v9(r){P3||(P3=!0,r.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),r.registerAction(L1t,N1t),j(R1t,function(t){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,t)}),r.registerPreprocessor(O1t))}function g9(r){r.registerComponentModel(E1t),r.registerComponentView(D1t),v9(r)}var P1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return t.prototype.optionUpdated=function(e,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],k1t[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var a=this.option.categories;this.resetVisual(function(o,c){i==="categories"?(o.mappingMethod="category",o.categories=ie(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=Pt(this._pieceList,function(h){return h=ie(h),c!=="inRange"&&(h.visual=null),h}))})},t.prototype.completeVisualOption=function(){var e=this.option,n={},i=hn.listVisualTypes(),a=this.isCategory();j(e.pieces,function(c){j(i,function(h){c.hasOwnProperty(h)&&(n[h]=1)})}),j(n,function(c,h){var v=!1;j(this.stateList,function(g){v=v||o(e,g,h)||o(e.target,g,h)},this),!v&&j(this.stateList,function(g){(e[g]||(e[g]={}))[h]=h9.get(h,g==="inRange"?"active":"inactive",a)})},this);function o(c,h,v){return c&&c[h]&&c[h].hasOwnProperty(v)}r.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,n){var i=this.option,a=this._pieceList,o=(n?i:e).selected||{};if(i.selected=o,j(a,function(h,v){var g=this.getSelectedMapKey(h);o.hasOwnProperty(g)||(o[g]=!0)},this),i.selectedMode==="single"){var c=!1;j(a,function(h,v){var g=this.getSelectedMapKey(h);o[g]&&(c?o[g]=!1:c=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=ie(e)},t.prototype.getValueState=function(e){var n=hn.findPieceIndex(e,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[],i=this._pieceList;return this.eachTargetSeries(function(a){var o=[],c=a.getData();c.each(this.getDataDimensionIndex(c),function(h,v){var g=hn.findPieceIndex(h,i);g===e&&o.push(v)},this),n.push({seriesId:a.id,dataIndex:o})},this),n},t.prototype.getRepresentValue=function(e){var n;if(this.isCategory())n=e.value;else if(e.value!=null)n=e.value;else{var i=e.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},t.prototype.getVisualMeta=function(e){if(this.isCategory())return;var n=[],i=["",""],a=this;function o(g,y){var m=a.getRepresentValue({interval:g});y||(y=a.getValueState(m));var b=e(m,y);g[0]===-1/0?i[0]=b:g[1]===1/0?i[1]=b:n.push({value:g[0],color:b},{value:g[1],color:b})}var c=this._pieceList.slice();if(!c.length)c.push({interval:[-1/0,1/0]});else{var h=c[0].interval[0];h!==-1/0&&c.unshift({interval:[-1/0,h]}),h=c[c.length-1].interval[1],h!==1/0&&c.push({interval:[h,1/0]})}var v=-1/0;return j(c,function(g){var y=g.interval;y&&(y[0]>v&&o([v,y[0]],"outOfRange"),o(y.slice()),v=y[1])},this),{stops:n,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=Gl(d_.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t})(d_),k1t={splitNumber:function(r){var t=this.option,e=Math.min(t.precision,20),n=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(n[1]-n[0])/i;+a.toFixed(e)!==a&&e<5;)e++;t.precision=e,a=+a.toFixed(e),t.minOpen&&r.push({interval:[-1/0,n[0]],close:[0,0]});for(var o=0,c=n[0];o<i;c+=a,o++){var h=o===i-1?n[1]:c+a;r.push({interval:[c,h],close:[1,1]})}t.maxOpen&&r.push({interval:[n[1],1/0],close:[0,0]}),nO(r),j(r,function(v,g){v.index=g,v.text=this.formatValueText(v.interval)},this)},categories:function(r){var t=this.option;j(t.categories,function(e){r.push({text:this.formatValueText(e,!0),value:e})},this),k3(t,r)},pieces:function(r){var t=this.option;j(t.pieces,function(e,n){le(e)||(e={value:e});var i={text:"",index:n};if(e.label!=null&&(i.text=e.label),e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a],i.close=[1,1]}else{for(var o=i.interval=[],c=i.close=[0,0],h=[1,0,1],v=[-1/0,1/0],g=[],y=0;y<2;y++){for(var m=[["gte","gt","min"],["lte","lt","max"]][y],b=0;b<3&&o[y]==null;b++)o[y]=e[m[b]],c[y]=h[b],g[y]=b===2;o[y]==null&&(o[y]=v[y])}g[0]&&o[1]===1/0&&(c[0]=0),g[1]&&o[0]===-1/0&&(c[1]=0),o[0]===o[1]&&c[0]&&c[1]&&(i.value=o[0])}i.visual=hn.retrieveVisuals(e),r.push(i)},this),k3(t,r),nO(r),j(r,function(e){var n=e.close,i=[["<",""][n[1]],[">",""][n[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,i)},this)}};function k3(r,t){var e=r.inverse;(r.orient==="vertical"?!e:e)&&t.reverse()}var V1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.doRender=function(){var e=this.group;e.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,o=this._getItemAlign(),c=n.itemSize,h=this._getViewData(),v=h.endsText,g=On(n.get("showLabel",!0),!v),y=!n.get("selectedMode");v&&this._renderEndsText(e,v[0],c,g,o),j(h.viewPieceList,function(m){var b=m.piece,S=new ne;S.onclick=qt(this._onItemClick,this,b),this._enableHoverLink(S,m.indexInModelPieceList);var E=n.getRepresentValue(b);if(this._createItemSymbol(S,E,[0,0,c[0],c[1]],y),g){var C=this.visualMapModel.getValueState(E),A=a.get("align")||o;S.add(new ke({style:or(a,{x:A==="right"?-i:c[0]+i,y:c[1]/2,text:b.text,verticalAlign:a.get("verticalAlign")||"middle",align:A,opacity:te(a.get("opacity"),C==="outOfRange"?.5:1)}),silent:y}))}e.add(S)},this),v&&this._renderEndsText(e,v[1],c,g,o),gc(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,n){var i=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var c=i.visualMapModel;c.option.hoverLink&&i.api.dispatchAction({type:o,batch:a0(c.findTargetDataIndices(n),c)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,n=e.option;if(n.orient==="vertical")return d9(e,this.api,e.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(e,n,i,a,o){if(n){var c=new ne,h=this.visualMapModel.textStyleModel;c.add(new ke({style:or(h,{x:a?o==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?o:"center",text:n})})),e.add(c)}},t.prototype._getViewData=function(){var e=this.visualMapModel,n=Pt(e.getPieceList(),function(c,h){return{piece:c,indexInModelPieceList:h}}),i=e.get("text"),a=e.get("orient"),o=e.get("inverse");return(a==="horizontal"?o:!o)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},t.prototype._createItemSymbol=function(e,n,i,a){var o=Kr(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));o.silent=a,e.add(o)},t.prototype._onItemClick=function(e){var n=this.visualMapModel,i=n.option,a=i.selectedMode;if(a){var o=ie(i.selected),c=n.getSelectedMapKey(e);a==="single"||a===!0?(o[c]=!0,j(o,function(h,v){o[v]=v===c})):o[c]=!o[c],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t})(p9);function y9(r){r.registerComponentModel(P1t),r.registerComponentView(V1t),v9(r)}function G1t(r){be(g9),be(y9)}var F1t=(function(){function r(t){this._thumbnailModel=t}return r.prototype.reset=function(t){this._renderVersion=t.getMainProcessVersion()},r.prototype.renderContent=function(t){var e=t.api.getViewOfComponentModel(this._thumbnailModel);e&&(t.group.silent=!0,e.renderContent({group:t.group,targetTrans:t.targetTrans,z2Range:zH(t.group),roamType:t.roamType,viewportRect:t.viewportRect,renderVersion:this._renderVersion}))},r.prototype.updateWindow=function(t,e){var n=e.getViewOfComponentModel(this._thumbnailModel);n&&n.updateWindow({targetTrans:t,renderVersion:this._renderVersion})},r})(),B1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.optionUpdated=function(e,n){this._updateBridge()},t.prototype._updateBridge=function(){var e=this._birdge=this._birdge||new F1t(this);if(this._target=null,this.ecModel.eachSeries(function(i){s5(i,null)}),this.shouldShow()){var n=this.getTarget();s5(n.baseMapProvider,e)}},t.prototype.shouldShow=function(){return this.getShallow("show",!0)},t.prototype.getBridge=function(){return this._birdge},t.prototype.getTarget=function(){if(this._target)return this._target;var e=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return e?e.subType!=="graph"&&(e=null):e=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:e},this._target},t.type="thumbnail",t.layoutMode="box",t.dependencies=["series","geo"],t.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:yt.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:yt.color.neutral30,borderColor:yt.color.neutral40,opacity:.3},z:10},t})(Ce),H1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){if(this._api=i,this._model=e,this._coordSys||(this._coordSys=new Bc),!this._isEnabled()){this._clear();return}this._renderVersion=i.getMainProcessVersion();var a=this.group;a.removeAll();var o=e.getModel("itemStyle"),c=o.getItemStyle();c.fill==null&&(c.fill=n.get("backgroundColor")||yt.color.neutral00);var h=sn(e,i).refContainer,v=mr(f4(e,!0),h),g=c.lineWidth||0,y=this._contentRect=Ec(v.clone(),g/2,!0,!0),m=new ne;a.add(m),m.setClipPath(new xe({shape:y.plain()}));var b=this._targetGroup=new ne;m.add(b);var S=v.plain();S.r=o.getShallow("borderRadius",!0),a.add(this._bgRect=new xe({style:c,shape:S,silent:!1,cursor:"grab"}));var E=e.getModel("windowStyle"),C=E.getShallow("borderRadius",!0);m.add(this._windowRect=new xe({shape:{x:0,y:0,width:0,height:0,r:C},style:E.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),G3(e,this)},t.prototype.renderContent=function(e){this._bridgeRendered=e,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),G3(this._model,this))},t.prototype._dealRenderContent=function(){var e=this._bridgeRendered;if(!(!e||e.renderVersion!==this._renderVersion)){var n=this._targetGroup,i=this._coordSys,a=this._contentRect;if(n.removeAll(),!!e){var o=e.group,c=o.getBoundingRect();n.add(o),this._bgRect.z2=e.z2Range.min-10,i.setBoundingRect(c.x,c.y,c.width,c.height);var h=mr({left:"center",top:"center",aspect:c.width/c.height},a);i.setViewRect(h.x,h.y,h.width,h.height),o.attr(i.getTransformInfo().raw),this._windowRect.z2=e.z2Range.max+10,this._resetRoamController(e.roamType)}}},t.prototype.updateWindow=function(e){var n=this._bridgeRendered;n&&n.renderVersion===e.renderVersion&&(n.targetTrans=e.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},t.prototype._dealUpdateWindow=function(){var e=this._bridgeRendered;if(!(!e||e.renderVersion!==this._renderVersion)){var n=Va([],e.targetTrans),i=Do([],this._coordSys.transform,n);this._transThisToTarget=Va([],i);var a=e.viewportRect;a?a=a.clone():a=new ue(0,0,this._api.getWidth(),this._api.getHeight()),a.applyTransform(i);var o=this._windowRect,c=o.shape.r;o.setShape(se({r:c},a))}},t.prototype._resetRoamController=function(e){var n=this,i=this._api,a=this._roamController;if(a||(a=this._roamController=new Fc(i.getZr())),!e||!this._isEnabled()){a.disable();return}a.enable(e,{api:i,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(o,c,h){return n._contentRect.contain(c,h)}}}),a.off("pan").off("zoom").on("pan",qt(this._onPan,this)).on("zoom",qt(this._onZoom,this))},t.prototype._onPan=function(e){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var i=Br([],[e.oldX,e.oldY],n),a=Br([],[e.oldX-e.dx,e.oldY-e.dy],n);this._api.dispatchAction(V3(this._model.getTarget().baseMapProvider,{dx:a[0]-i[0],dy:a[1]-i[1]}))}},t.prototype._onZoom=function(e){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var i=Br([],[e.originX,e.originY],n);this._api.dispatchAction(V3(this._model.getTarget().baseMapProvider,{zoom:1/e.scale,originX:i[0],originY:i[1]}))}},t.prototype._isEnabled=function(){var e=this._model;if(!e||!e.shouldShow())return!1;var n=e.getTarget().baseMapProvider;return!!n},t.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},t.prototype.remove=function(){this._clear()},t.prototype.dispose=function(){this._clear()},t.type="thumbnail",t})(vr);function V3(r,t){var e=r.mainType==="series"?r.subType+"Roam":r.mainType+"Roam",n={type:e};return n[r.mainType+"Id"]=r.id,Mt(n,t),n}function G3(r,t){var e=Tc(r);q_(t.group,e.z,e.zlevel)}function z1t(r){r.registerComponentModel(B1t),r.registerComponentView(H1t)}var U1t={label:{enabled:!0},decal:{show:!1}},F3=Ee(),W1t={};function j1t(r,t){var e=r.getModel("aria");if(!e.get("enabled"))return;var n=ie(U1t);ye(n.label,r.getLocaleModel().get("aria"),!1),ye(e.option,n,!1),i(),a();function i(){var v=e.getModel("decal"),g=v.get("show");if(g){var y=Qt();r.eachSeries(function(m){if(!m.isColorBySeries()){var b=y.get(m.type);b||(b={},y.set(m.type,b)),F3(m).scope=b}}),r.eachRawSeries(function(m){if(r.isSeriesFiltered(m))return;if(re(m.enableAriaDecal)){m.enableAriaDecal();return}var b=m.getData();if(m.isColorBySeries()){var D=hT(m.ecModel,m.name,W1t,r.getSeriesCount()),L=b.getVisual("decal");b.setVisual("decal",R(L,D))}else{var S=m.getRawData(),E={},C=F3(m).scope;b.each(function(O){var P=b.getRawIndex(O);E[P]=O});var A=S.count();S.each(function(O){var P=E[O],V=S.getName(O)||O+"",k=hT(m.ecModel,V,C,A),F=b.getItemVisual(P,"decal");b.setItemVisual(P,"decal",R(F,k))})}function R(O,P){var V=O?Mt(Mt({},P),O):P;return V.dirty=!0,V}})}}function a(){var v=t.getZr().dom;if(v){var g=r.getLocaleModel().get("aria"),y=e.getModel("label");if(y.option=se(y.option,g),!!y.get("enabled")){if(v.setAttribute("role","img"),y.get("description")){v.setAttribute("aria-label",y.get("description"));return}var m=r.getSeriesCount(),b=y.get(["data","maxCount"])||10,S=y.get(["series","maxCount"])||10,E=Math.min(m,S),C;if(!(m<1)){var A=c();if(A){var D=y.get(["general","withTitle"]);C=o(D,{title:A})}else C=y.get(["general","withoutTitle"]);var L=[],R=m>1?y.get(["series","multiple","prefix"]):y.get(["series","single","prefix"]);C+=o(R,{seriesCount:m}),r.eachSeries(function(k,F){if(F<E){var H=void 0,W=k.get("name"),q=W?"withName":"withoutName";H=m>1?y.get(["series","multiple",q]):y.get(["series","single",q]),H=o(H,{seriesId:k.seriesIndex,seriesName:k.get("name"),seriesType:h(k.subType)});var Y=k.getData();if(Y.count()>b){var K=y.get(["data","partialData"]);H+=o(K,{displayCnt:b})}else H+=y.get(["data","allData"]);for(var X=y.get(["data","separator","middle"]),J=y.get(["data","separator","end"]),it=y.get(["data","excludeDimensionId"]),rt=[],st=0;st<Y.count();st++)if(st<b){var lt=Y.getName(st),dt=it?Ye(Y.getValues(st),function(Tt,Ft){return ge(it,Ft)===-1}):Y.getValues(st),pt=y.get(["data",lt?"withName":"withoutName"]);rt.push(o(pt,{name:lt,value:dt.join(X)}))}H+=rt.join(X)+J,L.push(H)}});var O=y.getModel(["series","multiple","separator"]),P=O.get("middle"),V=O.get("end");C+=L.join(P)+V,v.setAttribute("aria-label",C)}}}}function o(v,g){if(!$t(v))return v;var y=v;return j(g,function(m,b){y=y.replace(new RegExp("\\{\\s*"+b+"\\s*\\}","g"),m)}),y}function c(){var v=r.get("title");return v&&v.length&&(v=v[0]),v&&v.text}function h(v){var g=r.getLocaleModel().get(["series","typeNames"]);return g[v]||g.chart}}function Y1t(r){if(!(!r||!r.aria)){var t=r.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},j(["description","general","series","data"],function(e){t[e]!=null&&(t.label[e]=t[e])})}}function $1t(r){r.registerPreprocessor(Y1t),r.registerVisual(r.PRIORITY.VISUAL.ARIA,j1t)}var B3={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},q1t=(function(){function r(t){var e=this._condVal=$t(t)?new RegExp(t):Itt(t)?t:null;if(e==null){var n="";Ue(n)}}return r.prototype.evaluate=function(t){var e=typeof t;return $t(e)?this._condVal.test(t):Ie(e)?this._condVal.test(t+""):!1},r})(),X1t=(function(){function r(){}return r.prototype.evaluate=function(){return this.value},r})(),Z1t=(function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},r})(),K1t=(function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},r})(),J1t=(function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r})(),Q1t=(function(){function r(){}return r.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,n=e(this.valueGetterParam),i=t?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?i:n))return!1;return!0},r})();function dM(r,t){if(r===!0||r===!1){var e=new X1t;return e.value=r,e}var n="";return m9(r)||Ue(n),r.and?H3("and",r,t):r.or?H3("or",r,t):r.not?tSt(r,t):eSt(r,t)}function H3(r,t,e){var n=t[r],i="";Rt(n)||Ue(i),n.length||Ue(i);var a=r==="and"?new Z1t:new K1t;return a.children=Pt(n,function(o){return dM(o,e)}),a.children.length||Ue(i),a}function tSt(r,t){var e=r.not,n="";m9(e)||Ue(n);var i=new J1t;return i.child=dM(e,t),i.child||Ue(n),i}function eSt(r,t){for(var e="",n=t.prepareGetValue(r),i=[],a=Le(r),o=r.parser,c=o?I4(o):null,h=0;h<a.length;h++){var v=a[h];if(!(v==="parser"||t.valueGetterAttrMap.get(v))){var g=Xt(B3,v)?B3[v]:v,y=r[v],m=c?c(y):y,b=Gat(g,m)||g==="reg"&&new q1t(m);b||Ue(e),i.push(b)}}i.length||Ue(e);var S=new Q1t;return S.valueGetterParam=n,S.valueParser=c,S.getValue=t.getValue,S.subCondList=i,S}function m9(r){return le(r)&&!$n(r)}var rSt=(function(){function r(t,e){this._cond=dM(t,e)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r})();function nSt(r,t){return new rSt(r,t)}var iSt={type:"echarts:filter",transform:function(r){for(var t=r.upstream,e,n=nSt(r.config,{valueGetterAttrMap:Qt({dimension:!0}),prepareGetValue:function(c){var h="",v=c.dimension;Xt(c,"dimension")||Ue(h);var g=t.getDimensionInfo(v);return g||Ue(h),{dimIdx:g.index}},getValue:function(c){return t.retrieveValueFromItem(e,c.dimIdx)}}),i=[],a=0,o=t.count();a<o;a++)e=t.getRawDataItem(a),n.evaluate()&&i.push(e);return{data:i}}},aSt={type:"echarts:sort",transform:function(r){var t=r.upstream,e=r.config,n="",i=tr(e);i.length||Ue(n);var a=[];j(i,function(g){var y=g.dimension,m=g.order,b=g.parser,S=g.incomparable;if(y==null&&Ue(n),m!=="asc"&&m!=="desc"&&Ue(n),S&&S!=="min"&&S!=="max"){var E="";Ue(E)}if(m!=="asc"&&m!=="desc"){var C="";Ue(C)}var A=t.getDimensionInfo(y);A||Ue(n);var D=b?I4(b):null;b&&!D&&Ue(n),a.push({dimIdx:A.index,parser:D,comparator:new P4(m,S)})});var o=t.sourceFormat;o!==xn&&o!==Wi&&Ue(n);for(var c=[],h=0,v=t.count();h<v;h++)c.push(t.getRawDataItem(h));return c.sort(function(g,y){for(var m=0;m<a.length;m++){var b=a[m],S=t.retrieveValueFromItem(g,b.dimIdx),E=t.retrieveValueFromItem(y,b.dimIdx);b.parser&&(S=b.parser(S),E=b.parser(E));var C=b.comparator.evaluate(S,E);if(C!==0)return C}return 0}),{data:c}}};function oSt(r){r.registerTransform(iSt),r.registerTransform(aSt)}var sSt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataset",e}return t.prototype.init=function(e,n,i){r.prototype.init.call(this,e,n,i),this._sourceManager=new F4(this),mP(this)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),mP(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Pa},t})(Ce),lSt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataset",e}return t.type="dataset",t})(vr);function uSt(r){r.registerComponentModel(sSt),r.registerComponentView(lSt)}var co=ko.CMD;function ah(r,t){return Math.abs(r-t)<1e-5}function CC(r){var t=r.data,e=r.len(),n=[],i,a=0,o=0,c=0,h=0;function v(Y,K){i&&i.length>2&&n.push(i),i=[Y,K]}function g(Y,K,X,J){ah(Y,X)&&ah(K,J)||i.push(Y,K,X,J,X,J)}function y(Y,K,X,J,it,rt){var st=Math.abs(K-Y),lt=Math.tan(st/4)*4/3,dt=K<Y?-1:1,pt=Math.cos(Y),Tt=Math.sin(Y),Ft=Math.cos(K),zt=Math.sin(K),Vt=pt*it+X,Kt=Tt*rt+J,Bt=Ft*it+X,gt=zt*rt+J,Ct=it*lt*dt,wt=rt*lt*dt;i.push(Vt-Ct*Tt,Kt+wt*pt,Bt+Ct*zt,gt-wt*Ft,Bt,gt)}for(var m,b,S,E,C=0;C<e;){var A=t[C++],D=C===1;switch(D&&(a=t[C],o=t[C+1],c=a,h=o,(A===co.L||A===co.C||A===co.Q)&&(i=[c,h])),A){case co.M:a=c=t[C++],o=h=t[C++],v(c,h);break;case co.L:m=t[C++],b=t[C++],g(a,o,m,b),a=m,o=b;break;case co.C:i.push(t[C++],t[C++],t[C++],t[C++],a=t[C++],o=t[C++]);break;case co.Q:m=t[C++],b=t[C++],S=t[C++],E=t[C++],i.push(a+2/3*(m-a),o+2/3*(b-o),S+2/3*(m-S),E+2/3*(b-E),S,E),a=S,o=E;break;case co.A:var L=t[C++],R=t[C++],O=t[C++],P=t[C++],V=t[C++],k=t[C++]+V;C+=1;var F=!t[C++];m=Math.cos(V)*O+L,b=Math.sin(V)*P+R,D?(c=m,h=b,v(c,h)):g(a,o,m,b),a=Math.cos(k)*O+L,o=Math.sin(k)*P+R;for(var H=(F?-1:1)*Math.PI/2,W=V;F?W>k:W<k;W+=H){var q=F?Math.max(W+H,k):Math.min(W+H,k);y(W,q,L,R,O,P)}break;case co.R:c=a=t[C++],h=o=t[C++],m=c+t[C++],b=h+t[C++],v(m,h),g(m,h,m,b),g(m,b,c,b),g(c,b,c,h),g(c,h,m,h);break;case co.Z:i&&g(a,o,c,h),a=c,o=h;break}}return i&&i.length>2&&n.push(i),n}function AC(r,t,e,n,i,a,o,c,h,v){if(ah(r,e)&&ah(t,n)&&ah(i,o)&&ah(a,c)){h.push(o,c);return}var g=2/v,y=g*g,m=o-r,b=c-t,S=Math.sqrt(m*m+b*b);m/=S,b/=S;var E=e-r,C=n-t,A=i-o,D=a-c,L=E*E+C*C,R=A*A+D*D;if(L<y&&R<y){h.push(o,c);return}var O=m*E+b*C,P=-m*A-b*D,V=L-O*O,k=R-P*P;if(V<y&&O>=0&&k<y&&P>=0){h.push(o,c);return}var F=[],H=[];Dl(r,e,i,o,.5,F),Dl(t,n,a,c,.5,H),AC(F[0],H[0],F[1],H[1],F[2],H[2],F[3],H[3],h,v),AC(F[4],H[4],F[5],H[5],F[6],H[6],F[7],H[7],h,v)}function cSt(r,t){var e=CC(r),n=[];t=t||1;for(var i=0;i<e.length;i++){var a=e[i],o=[],c=a[0],h=a[1];o.push(c,h);for(var v=2;v<a.length;){var g=a[v++],y=a[v++],m=a[v++],b=a[v++],S=a[v++],E=a[v++];AC(c,h,g,y,m,b,S,E,o,t),c=S,h=E}n.push(o)}return n}function _9(r,t,e){var n=r[t],i=r[1-t],a=Math.abs(n/i),o=Math.ceil(Math.sqrt(a*e)),c=Math.floor(e/o);c===0&&(c=1,o=e);for(var h=[],v=0;v<o;v++)h.push(c);var g=o*c,y=e-g;if(y>0)for(var v=0;v<y;v++)h[v%o]+=1;return h}function z3(r,t,e){for(var n=r.r0,i=r.r,a=r.startAngle,o=r.endAngle,c=Math.abs(o-a),h=c*i,v=i-n,g=h>Math.abs(v),y=_9([h,v],g?0:1,t),m=(g?c:v)/y.length,b=0;b<y.length;b++)for(var S=(g?v:c)/y[b],E=0;E<y[b];E++){var C={};g?(C.startAngle=a+m*b,C.endAngle=a+m*(b+1),C.r0=n+S*E,C.r=n+S*(E+1)):(C.startAngle=a+S*E,C.endAngle=a+S*(E+1),C.r0=n+m*b,C.r=n+m*(b+1)),C.clockwise=r.clockwise,C.cx=r.cx,C.cy=r.cy,e.push(C)}}function fSt(r,t,e){for(var n=r.width,i=r.height,a=n>i,o=_9([n,i],a?0:1,t),c=a?"width":"height",h=a?"height":"width",v=a?"x":"y",g=a?"y":"x",y=r[c]/o.length,m=0;m<o.length;m++)for(var b=r[h]/o[m],S=0;S<o[m];S++){var E={};E[v]=m*y,E[g]=S*b,E[c]=y,E[h]=b,E.x+=r.x,E.y+=r.y,e.push(E)}}function U3(r,t,e,n){return r*n-e*t}function hSt(r,t,e,n,i,a,o,c){var h=e-r,v=n-t,g=o-i,y=c-a,m=U3(g,y,h,v);if(Math.abs(m)<1e-6)return null;var b=r-i,S=t-a,E=U3(b,S,g,y)/m;return E<0||E>1?null:new oe(E*h+r,E*v+t)}function pSt(r,t,e){var n=new oe;oe.sub(n,e,t),n.normalize();var i=new oe;oe.sub(i,r,t);var a=i.dot(n);return a}function Wf(r,t){var e=r[r.length-1];e&&e[0]===t[0]&&e[1]===t[1]||r.push(t)}function dSt(r,t,e){for(var n=r.length,i=[],a=0;a<n;a++){var o=r[a],c=r[(a+1)%n],h=hSt(o[0],o[1],c[0],c[1],t.x,t.y,e.x,e.y);h&&i.push({projPt:pSt(h,t,e),pt:h,idx:a})}if(i.length<2)return[{points:r},{points:r}];i.sort(function(C,A){return C.projPt-A.projPt});var v=i[0],g=i[i.length-1];if(g.idx<v.idx){var y=v;v=g,g=y}for(var m=[v.pt.x,v.pt.y],b=[g.pt.x,g.pt.y],S=[m],E=[b],a=v.idx+1;a<=g.idx;a++)Wf(S,r[a].slice());Wf(S,b),Wf(S,m);for(var a=g.idx+1;a<=v.idx+n;a++)Wf(E,r[a%n].slice());return Wf(E,m),Wf(E,b),[{points:S},{points:E}]}function W3(r){var t=r.points,e=[],n=[];F_(t,e,n);var i=new ue(e[0],e[1],n[0]-e[0],n[1]-e[1]),a=i.width,o=i.height,c=i.x,h=i.y,v=new oe,g=new oe;return a>o?(v.x=g.x=c+a/2,v.y=h,g.y=h+o):(v.y=g.y=h+o/2,v.x=c,g.x=c+a),dSt(t,v,g)}function v_(r,t,e,n){if(e===1)n.push(t);else{var i=Math.floor(e/2),a=r(t);v_(r,a[0],i,n),v_(r,a[1],e-i,n)}return n}function vSt(r,t){for(var e=[],n=0;n<t;n++)e.push(wA(r));return e}function gSt(r,t){t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel}function ySt(r){for(var t=[],e=0;e<r.length;)t.push([r[e++],r[e++]]);return t}function mSt(r,t){var e=[],n=r.shape,i;switch(r.type){case"rect":fSt(n,t,e),i=xe;break;case"sector":z3(n,t,e),i=Xn;break;case"circle":z3({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,e),i=Xn;break;default:var a=r.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,c=Pt(cSt(r.getUpdatedPathProxy(),o),function(A){return ySt(A)}),h=c.length;if(h===0)v_(W3,{points:c[0]},t,e);else if(h===t)for(var v=0;v<h;v++)e.push({points:c[v]});else{var g=0,y=Pt(c,function(A){var D=[],L=[];F_(A,D,L);var R=(L[1]-D[1])*(L[0]-D[0]);return g+=R,{poly:A,area:R}});y.sort(function(A,D){return D.area-A.area});for(var m=t,v=0;v<h;v++){var b=y[v];if(m<=0)break;var S=v===h-1?m:Math.ceil(b.area/g*t);S<0||(v_(W3,{points:b.poly},S,e),m-=S)}}i=Zn;break}if(!i)return vSt(r,t);for(var E=[],v=0;v<e.length;v++){var C=new i;C.setShape(e[v]),gSt(r,C),E.push(C)}return E}function _St(r,t){var e=r.length,n=t.length;if(e===n)return[r,t];for(var i=[],a=[],o=e<n?r:t,c=Math.min(e,n),h=Math.abs(n-e)/6,v=(c-2)/6,g=Math.ceil(h/v)+1,y=[o[0],o[1]],m=h,b=2;b<c;){var S=o[b-2],E=o[b-1],C=o[b++],A=o[b++],D=o[b++],L=o[b++],R=o[b++],O=o[b++];if(m<=0){y.push(C,A,D,L,R,O);continue}for(var P=Math.min(m,g-1)+1,V=1;V<=P;V++){var k=V/P;Dl(S,C,D,R,k,i),Dl(E,A,L,O,k,a),S=i[3],E=a[3],y.push(i[1],a[1],i[2],a[2],S,E),C=i[5],A=a[5],D=i[6],L=a[6]}m-=P-1}return o===r?[y,t]:[r,y]}function j3(r,t){for(var e=r.length,n=r[e-2],i=r[e-1],a=[],o=0;o<t.length;)a[o++]=n,a[o++]=i;return a}function bSt(r,t){for(var e,n,i,a=[],o=[],c=0;c<Math.max(r.length,t.length);c++){var h=r[c],v=t[c],g=void 0,y=void 0;h?v?(e=_St(h,v),g=e[0],y=e[1],n=g,i=y):(y=j3(i||h,h),g=h):(g=j3(n||v,v),y=v),a.push(g),o.push(y)}return[a,o]}function Y3(r){for(var t=0,e=0,n=0,i=r.length,a=0,o=i-2;a<i;o=a,a+=2){var c=r[o],h=r[o+1],v=r[a],g=r[a+1],y=c*g-v*h;t+=y,e+=(c+v)*y,n+=(h+g)*y}return t===0?[r[0]||0,r[1]||0]:[e/t/3,n/t/3,t]}function SSt(r,t,e,n){for(var i=(r.length-2)/6,a=1/0,o=0,c=r.length,h=c-2,v=0;v<i;v++){for(var g=v*6,y=0,m=0;m<c;m+=2){var b=m===0?g:(g+m-2)%h+2,S=r[b]-e[0],E=r[b+1]-e[1],C=t[m]-n[0],A=t[m+1]-n[1],D=C-S,L=A-E;y+=D*D+L*L}y<a&&(a=y,o=v)}return o}function wSt(r){for(var t=[],e=r.length,n=0;n<e;n+=2)t[n]=r[e-n-2],t[n+1]=r[e-n-1];return t}function xSt(r,t,e,n){for(var i=[],a,o=0;o<r.length;o++){var c=r[o],h=t[o],v=Y3(c),g=Y3(h);a==null&&(a=v[2]<0!=g[2]<0);var y=[],m=[],b=0,S=1/0,E=[],C=c.length;a&&(c=wSt(c));for(var A=SSt(c,h,v,g)*6,D=C-2,L=0;L<D;L+=2){var R=(A+L)%D+2;y[L+2]=c[R]-v[0],y[L+3]=c[R+1]-v[1]}y[0]=c[A]-v[0],y[1]=c[A+1]-v[1];for(var O=n/e,P=-n/2;P<=n/2;P+=O){for(var V=Math.sin(P),k=Math.cos(P),F=0,L=0;L<c.length;L+=2){var H=y[L],W=y[L+1],q=h[L]-g[0],Y=h[L+1]-g[1],K=q*k-Y*V,X=q*V+Y*k;E[L]=K,E[L+1]=X;var J=K-H,it=X-W;F+=J*J+it*it}if(F<S){S=F,b=P;for(var rt=0;rt<E.length;rt++)m[rt]=E[rt]}}i.push({from:y,to:m,fromCp:v,toCp:g,rotation:-b})}return i}function g_(r){return r.__isCombineMorphing}var b9="__mOriginal_";function y_(r,t,e){var n=b9+t,i=r[n]||r[t];r[n]||(r[n]=r[t]);var a=e.replace,o=e.after,c=e.before;r[t]=function(){var h=arguments,v;return c&&c.apply(this,h),a?v=a.apply(this,h):v=i.apply(this,h),o&&o.apply(this,h),v}}function Zd(r,t){var e=b9+t;r[e]&&(r[t]=r[e],r[e]=null)}function $3(r,t){for(var e=0;e<r.length;e++)for(var n=r[e],i=0;i<n.length;){var a=n[i],o=n[i+1];n[i++]=t[0]*a+t[2]*o+t[4],n[i++]=t[1]*a+t[3]*o+t[5]}}function S9(r,t){var e=r.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),i=bSt(CC(e),CC(n)),a=i[0],o=i[1],c=r.getComputedTransform(),h=t.getComputedTransform();function v(){this.transform=null}c&&$3(a,c),h&&$3(o,h),y_(t,"updateTransform",{replace:v}),t.transform=null;var g=xSt(a,o,10,Math.PI),y=[];y_(t,"buildPath",{replace:function(m){for(var b=t.__morphT,S=1-b,E=[],C=0;C<g.length;C++){var A=g[C],D=A.from,L=A.to,R=A.rotation*b,O=A.fromCp,P=A.toCp,V=Math.sin(R),k=Math.cos(R);Bm(E,O,P,b);for(var F=0;F<D.length;F+=2){var H=D[F],W=D[F+1],q=L[F],Y=L[F+1],K=H*S+q*b,X=W*S+Y*b;y[F]=K*k-X*V+E[0],y[F+1]=K*V+X*k+E[1]}var J=y[0],it=y[1];m.moveTo(J,it);for(var F=2;F<D.length;){var q=y[F++],Y=y[F++],rt=y[F++],st=y[F++],lt=y[F++],dt=y[F++];J===q&&it===Y&&rt===lt&&st===dt?m.lineTo(lt,dt):m.bezierCurveTo(q,Y,rt,st,lt,dt),J=lt,it=dt}}}})}function vM(r,t,e){if(!r||!t)return t;var n=e.done,i=e.during;S9(r,t),t.__morphT=0;function a(){Zd(t,"buildPath"),Zd(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},se({during:function(o){t.dirtyShape(),i&&i(o)},done:function(){a(),n&&n()}},e)),t}function ESt(r,t,e,n,i,a){var o=16;r=i===e?0:Math.round(32767*(r-e)/(i-e)),t=a===n?0:Math.round(32767*(t-n)/(a-n));for(var c=0,h,v=(1<<o)/2;v>0;v/=2){var g=0,y=0;(r&v)>0&&(g=1),(t&v)>0&&(y=1),c+=v*v*(3*g^y),y===0&&(g===1&&(r=v-1-r,t=v-1-t),h=r,r=t,t=h)}return c}function m_(r){var t=1/0,e=1/0,n=-1/0,i=-1/0,a=Pt(r,function(c){var h=c.getBoundingRect(),v=c.getComputedTransform(),g=h.x+h.width/2+(v?v[4]:0),y=h.y+h.height/2+(v?v[5]:0);return t=Math.min(g,t),e=Math.min(y,e),n=Math.max(g,n),i=Math.max(y,i),[g,y]}),o=Pt(a,function(c,h){return{cp:c,z:ESt(c[0],c[1],t,e,n,i),path:r[h]}});return o.sort(function(c,h){return c.z-h.z}).map(function(c){return c.path})}function w9(r){return mSt(r.path,r.count)}function DC(){return{fromIndividuals:[],toIndividuals:[],count:0}}function TSt(r,t,e){var n=[];function i(O){for(var P=0;P<O.length;P++){var V=O[P];g_(V)?i(V.childrenRef()):V instanceof Te&&n.push(V)}}i(r);var a=n.length;if(!a)return DC();var o=e.dividePath||w9,c=o({path:t,count:a});if(c.length!==a)return console.error("Invalid morphing: unmatched splitted path"),DC();n=m_(n),c=m_(c);for(var h=e.done,v=e.during,g=e.individualDelay,y=new us,m=0;m<a;m++){var b=n[m],S=c[m];S.parent=t,S.copyTransform(y),g||S9(b,S)}t.__isCombineMorphing=!0,t.childrenRef=function(){return c};function E(O){for(var P=0;P<c.length;P++)c[P].addSelfToZr(O)}y_(t,"addSelfToZr",{after:function(O){E(O)}}),y_(t,"removeSelfFromZr",{after:function(O){for(var P=0;P<c.length;P++)c[P].removeSelfFromZr(O)}});function C(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,Zd(t,"addSelfToZr"),Zd(t,"removeSelfFromZr")}var A=c.length;if(g)for(var D=A,L=function(){D--,D===0&&(C(),h&&h())},m=0;m<A;m++){var R=g?se({delay:(e.delay||0)+g(m,A,n[m],c[m]),done:L},e):e;vM(n[m],c[m],R)}else t.__morphT=0,t.animateTo({__morphT:1},se({during:function(O){for(var P=0;P<A;P++){var V=c[P];V.__morphT=t.__morphT,V.dirtyShape()}v&&v(O)},done:function(){C();for(var O=0;O<r.length;O++)Zd(r[O],"updateTransform");h&&h()}},e));return t.__zr&&E(t.__zr),{fromIndividuals:n,toIndividuals:c,count:A}}function CSt(r,t,e){var n=t.length,i=[],a=e.dividePath||w9;function o(b){for(var S=0;S<b.length;S++){var E=b[S];g_(E)?o(E.childrenRef()):E instanceof Te&&i.push(E)}}if(g_(r)){o(r.childrenRef());var c=i.length;if(c<n)for(var h=0,v=c;v<n;v++)i.push(wA(i[h++%c]));i.length=n}else{i=a({path:r,count:n});for(var g=r.getComputedTransform(),v=0;v<i.length;v++)i[v].setLocalTransform(g);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),DC()}i=m_(i),t=m_(t);for(var y=e.individualDelay,v=0;v<n;v++){var m=y?se({delay:(e.delay||0)+y(v,n,i[v],t[v])},e):e;vM(i[v],t[v],m)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function q3(r){return Rt(r[0])}function X3(r,t){for(var e=[],n=r.length,i=0;i<n;i++)e.push({one:r[i],many:[]});for(var i=0;i<t.length;i++){var a=t[i].length,o=void 0;for(o=0;o<a;o++)e[o%n].many.push(t[i][o])}for(var c=0,i=n-1;i>=0;i--)if(!e[i].many.length){var h=e[c].many;if(h.length<=1)if(c)c=0;else return e;var a=h.length,v=Math.ceil(a/2);e[i].many=h.slice(v,a),e[c].many=h.slice(0,v),c++}return e}var ASt={clone:function(r){for(var t=[],e=1-Math.pow(1-r.path.style.opacity,1/r.count),n=0;n<r.count;n++){var i=wA(r.path);i.setStyle("opacity",e),t.push(i)}return t},split:null};function rE(r,t,e,n,i,a){if(!r.length||!t.length)return;var o=Fh("update",n,i);if(!(o&&o.duration>0))return;var c=n.getModel("universalTransition").get("delay"),h=Object.assign({setToFinal:!0},o),v,g;q3(r)&&(v=r,g=t),q3(t)&&(v=t,g=r);function y(A,D,L,R,O){var P=A.many,V=A.one;if(P.length===1&&!O){var k=D?P[0]:V,F=D?V:P[0];if(g_(k))y({many:[k],one:F},!0,L,R,!0);else{var H=c?se({delay:c(L,R)},h):h;vM(k,F,H),a(k,F,k,F,H)}}else for(var W=se({dividePath:ASt[e],individualDelay:c&&function(it,rt,st,lt){return c(it+L,R)}},h),q=D?TSt(P,V,W):CSt(V,P,W),Y=q.fromIndividuals,K=q.toIndividuals,X=Y.length,J=0;J<X;J++){var H=c?se({delay:c(J,X)},h):h;a(Y[J],K[J],D?P[J]:A.one,D?A.one:P[J],H)}}for(var m=v?v===r:r.length>t.length,b=v?X3(g,v):X3(m?t:r,[m?r:t]),S=0,E=0;E<b.length;E++)S+=b[E].many.length;for(var C=0,E=0;E<b.length;E++)y(b[E],m,C,S),C+=b[E].many.length}function Zu(r){if(!r)return[];if(Rt(r)){for(var t=[],e=0;e<r.length;e++)t.push(Zu(r[e]));return t}var n=[];return r.traverse(function(i){i instanceof Te&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var x9=1e4,DSt=0,Z3=1,K3=2,MSt=Ee();function LSt(r,t){for(var e=r.dimensions,n=0;n<e.length;n++){var i=r.getDimensionInfo(e[n]);if(i&&i.otherDims[t]===0)return e[n]}}function NSt(r,t,e){var n=r.getDimensionInfo(e),i=n&&n.ordinalMeta;if(n){var a=r.get(n.name,t);return i&&i.categories[a]||a+""}}function J3(r,t,e,n){var i=n?"itemChildGroupId":"itemGroupId",a=LSt(r,i);if(a){var o=NSt(r,t,a);return o}var c=r.getRawDataItem(t),h=n?"childGroupId":"groupId";if(c&&c[h])return c[h]+"";if(!n)return e||r.getId(t)}function Q3(r){var t=[];return j(r,function(e){var n=e.data,i=e.dataGroupId;if(!(n.count()>x9))for(var a=n.getIndices(),o=0;o<a.length;o++)t.push({data:n,groupId:J3(n,o,i,!1),childGroupId:J3(n,o,i,!0),divide:e.divide,dataIndex:o})}),t}function nE(r,t,e){r.traverse(function(n){n instanceof Te&&pr(n,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function iE(r){if(r.parent){var t=r.getComputedTransform();r.setLocalTransform(t),r.parent.remove(r)}}function jf(r){r.stopAnimation(),r.isGroup&&r.traverse(function(t){t.stopAnimation()})}function RSt(r,t,e){var n=Fh("update",e,t);n&&r.traverse(function(i){if(i instanceof ha){var a=fit(i);a&&i.animateFrom({style:a},n)}})}function ISt(r,t){var e=r.length;if(e!==t.length)return!1;for(var n=0;n<e;n++){var i=r[n],a=t[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function E9(r,t,e){var n=Q3(r),i=Q3(t);function a(L,R,O,P,V){(O||L)&&R.animateFrom({style:O&&O!==L?Mt(Mt({},O.style),L.style):L.style},V)}var o=!1,c=DSt,h=Qt(),v=Qt();n.forEach(function(L){L.groupId&&h.set(L.groupId,!0),L.childGroupId&&v.set(L.childGroupId,!0)});for(var g=0;g<i.length;g++){var y=i[g].groupId;if(v.get(y)){c=Z3;break}var m=i[g].childGroupId;if(m&&h.get(m)){c=K3;break}}function b(L,R){return function(O){var P=O.data,V=O.dataIndex;return R?P.getId(V):L?c===Z3?O.childGroupId:O.groupId:c===K3?O.childGroupId:O.groupId}}var S=ISt(n,i),E={};if(!S)for(var g=0;g<i.length;g++){var C=i[g],A=C.data.getItemGraphicEl(C.dataIndex);A&&(E[A.id]=!0)}function D(L,R){var O=n[R],P=i[L],V=P.data.hostModel,k=O.data.getItemGraphicEl(O.dataIndex),F=P.data.getItemGraphicEl(P.dataIndex);if(k===F){F&&RSt(F,P.dataIndex,V);return}k&&E[k.id]||F&&(jf(F),k?(jf(k),iE(k),o=!0,rE(Zu(k),Zu(F),P.divide,V,L,a)):nE(F,V,L))}new xs(n,i,b(!0,S),b(!1,S),null,"multiple").update(D).updateManyToOne(function(L,R){var O=i[L],P=O.data,V=P.hostModel,k=P.getItemGraphicEl(O.dataIndex),F=Ye(Pt(R,function(H){return n[H].data.getItemGraphicEl(n[H].dataIndex)}),function(H){return H&&H!==k&&!E[H.id]});k&&(jf(k),F.length?(j(F,function(H){jf(H),iE(H)}),o=!0,rE(Zu(F),Zu(k),O.divide,V,L,a)):nE(k,V,O.dataIndex))}).updateOneToMany(function(L,R){var O=n[R],P=O.data.getItemGraphicEl(O.dataIndex);if(!(P&&E[P.id])){var V=Ye(Pt(L,function(F){return i[F].data.getItemGraphicEl(i[F].dataIndex)}),function(F){return F&&F!==P}),k=i[L[0]].data.hostModel;V.length&&(j(V,function(F){return jf(F)}),P?(jf(P),iE(P),o=!0,rE(Zu(P),Zu(V),O.divide,k,L[0],a)):j(V,function(F){return nE(F,k,L[0])}))}}).updateManyToMany(function(L,R){new xs(R,L,function(O){return n[O].data.getId(n[O].dataIndex)},function(O){return i[O].data.getId(i[O].dataIndex)}).update(function(O,P){D(L[O],R[P])}).execute()}).execute(),o&&j(t,function(L){var R=L.data,O=R.hostModel,P=O&&e.getViewOfSeriesModel(O),V=Fh("update",O,0);P&&O.isAnimationEnabled()&&V&&V.duration>0&&P.group.traverse(function(k){k instanceof Te&&!k.animators.length&&k.animateFrom({style:{opacity:0}},V)})})}function tF(r){var t=r.getModel("universalTransition").get("seriesKey");return t||r.id}function eF(r){return Rt(r)?r.sort().join(","):r}function ll(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function OSt(r,t){var e=Qt(),n=Qt(),i=Qt();return j(r.oldSeries,function(a,o){var c=r.oldDataGroupIds[o],h=r.oldData[o],v=tF(a),g=eF(v);n.set(g,{dataGroupId:c,data:h}),Rt(v)&&j(v,function(y){i.set(y,{key:g,dataGroupId:c,data:h})})}),j(t.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),c=a.getData(),h=tF(a),v=eF(h),g=n.get(v);if(g)e.set(v,{oldSeries:[{dataGroupId:g.dataGroupId,divide:ll(g.data),data:g.data}],newSeries:[{dataGroupId:o,divide:ll(c),data:c}]});else if(Rt(h)){var y=[];j(h,function(S){var E=n.get(S);E.data&&y.push({dataGroupId:E.dataGroupId,divide:ll(E.data),data:E.data})}),y.length&&e.set(v,{oldSeries:y,newSeries:[{dataGroupId:o,data:c,divide:ll(c)}]})}else{var m=i.get(h);if(m){var b=e.get(m.key);b||(b={oldSeries:[{dataGroupId:m.dataGroupId,data:m.data,divide:ll(m.data)}],newSeries:[]},e.set(m.key,b)),b.newSeries.push({dataGroupId:o,data:c,divide:ll(c)})}}}}),e}function rF(r,t){for(var e=0;e<r.length;e++){var n=t.seriesIndex!=null&&t.seriesIndex===r[e].seriesIndex||t.seriesId!=null&&t.seriesId===r[e].id;if(n)return e}}function PSt(r,t,e,n){var i=[],a=[];j(tr(r.from),function(o){var c=rF(t.oldSeries,o);c>=0&&i.push({dataGroupId:t.oldDataGroupIds[c],data:t.oldData[c],divide:ll(t.oldData[c]),groupIdDim:o.dimension})}),j(tr(r.to),function(o){var c=rF(e.updatedSeries,o);if(c>=0){var h=e.updatedSeries[c].getData();a.push({dataGroupId:t.oldDataGroupIds[c],data:h,divide:ll(h),groupIdDim:o.dimension})}}),i.length>0&&a.length>0&&E9(i,a,n)}function kSt(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){j(tr(n.seriesTransition),function(i){j(tr(i.to),function(a){for(var o=n.updatedSeries,c=0;c<o.length;c++)(a.seriesIndex!=null&&a.seriesIndex===o[c].seriesIndex||a.seriesId!=null&&a.seriesId===o[c].id)&&(o[c][Jm]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(t,e,n){var i=MSt(e);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)j(tr(a),function(b){PSt(b,i,n,e)});else{var o=OSt(i,n);j(o.keys(),function(b){var S=o.get(b);E9(S.oldSeries,S.newSeries,e)})}j(n.updatedSeries,function(b){b[Jm]&&(b[Jm]=!1)})}for(var c=t.getSeries(),h=i.oldSeries=[],v=i.oldDataGroupIds=[],g=i.oldData=[],y=0;y<c.length;y++){var m=c[y].getData();m.count()<x9&&(h.push(c[y]),v.push(c[y].get("dataGroupId")),g.push(m))}})}var VSt=(function(){function r(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return r.prototype.setBreaks=function(t){this.breaks=t.breaks},r.prototype.update=function(t){FSt(this,t);var e=this._elapsedExtent;e[0]=this.elapse(t[0]),e[1]=this.elapse(t[1])},r.prototype.hasBreaks=function(){return!!this.breaks.length},r.prototype.calcNiceTickMultiple=function(t,e){for(var n=0;n<this.breaks.length;n++){var i=this.breaks[n];if(i.vmin<t&&t<i.vmax){var a=e(t,i.vmax);return a}}return 0},r.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},r.prototype.normalize=function(t){var e=this._elapsedExtent[1]-this._elapsedExtent[0];return e===0?.5:(this.elapse(t)-this._elapsedExtent[0])/e},r.prototype.scale=function(t){return this.unelapse(t*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},r.prototype.elapse=function(t){for(var e=nF,n=iF,i=!0,a=0;a<this.breaks.length;a++){var o=this.breaks[a];if(t<=o.vmax){t>o.vmin?e+=o.vmin-n+(t-o.vmin)/(o.vmax-o.vmin)*o.gapReal:e+=t-n,n=o.vmax,i=!1;break}e+=o.vmin-n+o.gapReal,n=o.vmax}return i&&(e+=t-n),e},r.prototype.unelapse=function(t){for(var e=nF,n=iF,i=!0,a=0,o=0;o<this.breaks.length;o++){var c=this.breaks[o],h=e+c.vmin-n,v=h+c.gapReal;if(t<=v){t>h?a=c.vmin+(t-h)/(v-h)*(c.vmax-c.vmin):a=n+t-e,n=c.vmax,i=!1;break}e=v,n=c.vmax}return i&&(a=n+t-e),a},r})();function GSt(){return new VSt}var nF=0,iF=0;function FSt(r,t){var e=0,n={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},i=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},a={S:{tpAbs:i(),tpPrct:i()},E:{tpAbs:i(),tpPrct:i()}};j(r.breaks,function(c){var h=c.gapParsed;h.type==="tpPrct"&&(e+=h.val);var v=gM(c,t);if(v){var g=v.vmin!==c.vmin,y=v.vmax!==c.vmax,m=v.vmax-v.vmin;if(!(g&&y))if(g||y){var b=g?"S":"E";a[b][h.type].has=!0,a[b][h.type].span=m,a[b][h.type].inExtFrac=m/(c.vmax-c.vmin),a[b][h.type].val=h.val}else n[h.type].span+=m,n[h.type].val+=h.val}});var o=e*(0+(t[1]-t[0])+(n.tpAbs.val-n.tpAbs.span)+(a.S.tpAbs.has?(a.S.tpAbs.val-a.S.tpAbs.span)*a.S.tpAbs.inExtFrac:0)+(a.E.tpAbs.has?(a.E.tpAbs.val-a.E.tpAbs.span)*a.E.tpAbs.inExtFrac:0)-n.tpPrct.span-(a.S.tpPrct.has?a.S.tpPrct.span*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.span*a.E.tpPrct.inExtFrac:0))/(1-n.tpPrct.val-(a.S.tpPrct.has?a.S.tpPrct.val*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.val*a.E.tpPrct.inExtFrac:0));j(r.breaks,function(c){var h=c.gapParsed;h.type==="tpPrct"&&(c.gapReal=e!==0?Math.max(o,0)*h.val/e:0),h.type==="tpAbs"&&(c.gapReal=h.val),c.gapReal==null&&(c.gapReal=0)})}function BSt(r,t,e,n,i,a){r!=="no"&&j(e,function(o){var c=gM(o,a);if(c)for(var h=t.length-1;h>=0;h--){var v=t[h],g=n(v),y=i*3/4;g>c.vmin-y&&g<c.vmax+y&&(r!=="preserve_extent_bound"||g!==a[0]&&g!==a[1])&&t.splice(h,1)}})}function HSt(r,t,e,n){j(t,function(i){var a=gM(i,e);a&&(r.push({value:a.vmin,break:{type:"vmin",parsedBreak:a},time:n?n(a):void 0}),r.push({value:a.vmax,break:{type:"vmax",parsedBreak:a},time:n?n(a):void 0}))}),t.length&&r.sort(function(i,a){return i.value-a.value})}function gM(r,t){var e=Math.max(r.vmin,t[0]),n=Math.min(r.vmax,t[1]);return e<n||e===n&&e>t[0]&&e<t[1]?{vmin:e,vmax:n,breakOption:r.breakOption,gapParsed:r.gapParsed,gapReal:r.gapReal}:null}function MC(r,t,e){var n=[];if(!r)return{breaks:n};function i(o,c){return o>=0&&o<1-1e-5}j(r,function(o){if(!(!o||o.start==null||o.end==null)&&!o.isExpanded){var c={breakOption:ie(o),vmin:t(o.start),vmax:t(o.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(o.gap!=null){var h=!1;if($t(o.gap)){var v=ua(o.gap);if(v.match(/%$/)){var g=parseFloat(v)/100;i(g)||(g=0),c.gapParsed.type="tpPrct",c.gapParsed.val=g,h=!0}}if(!h){var y=t(o.gap);(!isFinite(y)||y<0)&&(y=0),c.gapParsed.type="tpAbs",c.gapParsed.val=y}}if(c.vmin===c.vmax&&(c.gapParsed.type="tpAbs",c.gapParsed.val=0),e&&e.noNegative&&j(["vmin","vmax"],function(b){c[b]<0&&(c[b]=0)}),c.vmin>c.vmax){var m=c.vmax;c.vmax=c.vmin,c.vmin=m}n.push(c)}}),n.sort(function(o,c){return o.vmin-c.vmin});var a=-1/0;return j(n,function(o,c){a>o.vmin&&(n[c]=null),a=o.vmax}),{breaks:n.filter(function(o){return!!o})}}function yM(r,t){return LC(t)===LC(r)}function LC(r){return r.start+"_\0_"+r.end}function zSt(r,t,e){var n=[];j(r,function(a,o){var c=t(a);c&&c.type==="vmin"&&n.push([o])}),j(r,function(a,o){var c=t(a);if(c&&c.type==="vmax"){var h=Lc(n,function(v){return yM(t(r[v[0]]).parsedBreak.breakOption,c.parsedBreak.breakOption)});h&&h.push(o)}});var i=[];return j(n,function(a){a.length===2&&i.push(e?a:[r[a[0]],r[a[1]]])}),i}function USt(r,t,e,n){var i,a;if(r.break){var o=r.break.parsedBreak,c=Lc(e,function(y){return yM(y.breakOption,r.break.parsedBreak.breakOption)}),h=n(Math.pow(t,o.vmin),c.vmin),v=n(Math.pow(t,o.vmax),c.vmax),g={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?Yr(Math.pow(t,o.vmin+o.gapParsed.val))-h:o.gapParsed.val};i={type:r.break.type,parsedBreak:{breakOption:o.breakOption,vmin:h,vmax:v,gapParsed:g,gapReal:o.gapReal}},a=c[r.break.type]}return{brkRoundingCriterion:a,vBreak:i}}function WSt(r,t,e){var n={noNegative:!0},i=MC(r,e,n),a=MC(r,e,n),o=Math.log(t);return a.breaks=Pt(a.breaks,function(c){var h=Math.log(c.vmin)/o,v=Math.log(c.vmax)/o,g={type:c.gapParsed.type,val:c.gapParsed.type==="tpAbs"?Math.log(c.vmin+c.gapParsed.val)/o-h:c.gapParsed.val};return{vmin:h,vmax:v,gapParsed:g,gapReal:c.gapReal,breakOption:c.breakOption}}),{parsedOriginal:i,parsedLogged:a}}var jSt={vmin:"start",vmax:"end"};function YSt(r,t){return t&&(r=r||{},r.break={type:jSt[t.type],start:t.parsedBreak.vmin,end:t.parsedBreak.vmax}),r}function $St(){Oit({createScaleBreakContext:GSt,pruneTicksByBreak:BSt,addBreaksToTicks:HSt,parseAxisBreakOption:MC,identifyAxisBreak:yM,serializeAxisBreakIdentifier:LC,retrieveAxisBreakPairs:zSt,getTicksLogTransformBreak:USt,logarithmicParseBreaksFromOption:WSt,makeAxisLabelFormatterParamBreak:YSt})}var aF=Ee();function qSt(r,t){var e=Lc(r,function(n){return qr().identifyAxisBreak(n.parsedBreak.breakOption,t.breakOption)});return e||r.push(e={zigzagRandomList:[],parsedBreak:t,shouldRemove:!1}),e}function XSt(r){j(r,function(t){return t.shouldRemove=!0})}function ZSt(r){for(var t=r.length-1;t>=0;t--)r[t].shouldRemove&&r.splice(t,1)}function KSt(r,t,e,n,i){var a=e.axis;if(a.scale.isBlank()||!qr())return;var o=qr().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(F){return F.break},!1);if(!o.length)return;var c=e.getModel("breakArea"),h=c.get("zigzagAmplitude"),v=c.get("zigzagMinSpan"),g=c.get("zigzagMaxSpan");v=Math.max(2,v||0),g=Math.max(v,g||0);var y=c.get("expandOnClick"),m=c.get("zigzagZ"),b=c.getModel("itemStyle"),S=b.getItemStyle(),E=S.stroke,C=S.lineWidth,A=S.lineDash,D=S.fill,L=new ne({ignoreModelZ:!0}),R=a.isHorizontal(),O=aF(t).visualList||(aF(t).visualList=[]);XSt(O);for(var P=function(F){var H=o[F][0].break.parsedBreak,W=[];W[0]=a.toGlobalCoord(a.dataToCoord(H.vmin,!0)),W[1]=a.toGlobalCoord(a.dataToCoord(H.vmax,!0)),W[1]<W[0]&&W.reverse();var q=qSt(O,H);q.shouldRemove=!1;var Y=new ne;k(q.zigzagRandomList,Y,W[0],W[1],R,H),y&&Y.on("click",function(){var K={type:ab,breaks:[{start:H.breakOption.start,end:H.breakOption.end}]};K[a.dim+"AxisIndex"]=e.componentIndex,i.dispatchAction(K)}),Y.silent=!y,L.add(Y)},V=0;V<o.length;V++)P(V);r.add(L),ZSt(O);function k(F,H,W,q,Y,K){var X={stroke:E,lineWidth:C,lineDash:A,fill:"none"},J=Y?0:1,it=1-J,rt=n[de[it]]+n[Xr[it]];function st(at){var ut=[],_t=[];ut[J]=_t[J]=at,ut[it]=n[de[it]],_t[it]=rt;var mt={x1:ut[0],y1:ut[1],x2:_t[0],y2:_t[1]};return H_(mt,mt,{lineWidth:1}),ut[0]=mt.x1,ut[1]=mt.y1,ut[J]}W=st(W),q=st(q);for(var lt=[],dt=[],pt=!0,Tt=n[de[it]],Ft=0;;Ft++){var zt=Tt===n[de[it]],Vt=Tt>=rt;Vt&&(Tt=rt);var Kt=[],Bt=[];Kt[J]=W,Bt[J]=q,!zt&&!Vt&&(Kt[J]+=pt?-h:h,Bt[J]-=pt?h:-h),Kt[it]=Tt,Bt[it]=Tt,lt.push(Kt),dt.push(Bt);var gt=void 0;if(Ft<F.length?gt=F[Ft]:(gt=Math.random(),F.push(gt)),Tt+=gt*(g-v)+v,pt=!pt,Vt)break}var Ct=qr().serializeAxisBreakIdentifier(K.breakOption);if(H.add(new Pn({anid:"break_a_"+Ct,shape:{points:lt},style:X,z:m})),K.gapReal!==0){H.add(new Pn({anid:"break_b_"+Ct,shape:{points:dt},style:X,z:m}));var wt=dt.slice();wt.reverse();var Z=lt.concat(wt);H.add(new Zn({anid:"break_c_"+Ct,shape:{points:Z},style:{fill:D,opacity:S.opacity},z:m}))}}}function JSt(r,t,e,n){var i=r.axis,a=e.transform;qn(n.style);var o=i.getExtent();i.inverse&&(o=o.slice(),o.reverse());var c=qr().retrieveAxisBreakPairs(i.scale.getTicks({breakTicks:"only_break"}),function(C){return C.break},!1),h=Pt(c,function(C){var A=C[0].break.parsedBreak,D=[i.dataToCoord(A.vmin,!0),i.dataToCoord(A.vmax,!0)];return D[0]>D[1]&&D.reverse(),{coordPair:D,brkId:qr().serializeAxisBreakIdentifier(A.breakOption)}});h.sort(function(C,A){return C.coordPair[0]-A.coordPair[0]});for(var v=o[0],g=null,y=0;y<h.length;y++){var m=h[y],b=Math.max(m.coordPair[0],o[0]),S=Math.min(m.coordPair[1],o[1]);v<=b&&E(v,b,g,m),v=S,g=m}v<=o[1]&&E(v,o[1],g,null);function E(C,A,D,L){function R(W,q){a&&(Br(W,W,a),Br(q,q,a))}function O(W,q){var Y={x1:W[0],y1:W[1],x2:q[0],y2:q[1]};H_(Y,Y,n.style),W[0]=Y.x1,W[1]=Y.y1,q[0]=Y.x2,q[1]=Y.y2}var P=[C,0],V=[A,0],k=[C,5],F=[A,5];R(P,k),O(P,k),R(V,F),O(V,F),O(P,V);var H=new $r(Mt({shape:{x1:P[0],y1:P[1],x2:V[0],y2:V[1]}},n));t.add(H),H.anid="breakLine_"+(D?D.brkId:"\0")+"_\0_"+(L?L.brkId:"\0")}}function QSt(r,t,e){if(Lc(e,function(D){return!D}))return;var n=new oe;if(!nb(e[0],e[1],n,{direction:-(r?t+Math.PI:t),touchThreshold:0,bidirectional:!1}))return;var i=wn();kl(i,i,-t);var a=Pt(e,function(D){return D.transform?Do(wn(),i,D.transform):i});function o(D){var L=e[0].localRect,R=new oe(L[Xr[D]]*a[0][0],L[Xr[D]]*a[0][1]);return Math.abs(R.y)<1e-5}var c=.5;if(o(0)||o(1)){var h=Pt(e,function(D,L){var R=D.localRect.clone();return R.applyTransform(a[L]),R}),v=new oe;v.copy(e[0].label).add(e[1].label).scale(.5),v.transform(i);var g=n.clone().transform(i),y=h[0].x+h[1].x+(g.x>=0?h[0].width:h[1].width),m=(y+g.x)/2-v.x,b=Math.min(m,m-g.x),S=Math.max(m,m-g.x),E=S<0?S:b>0?b:0;c=(m-E)/g.x}var C=new oe,A=new oe;oe.scale(C,n,-c),oe.scale(A,n,1-c),NT(e[0],C),NT(e[1],A)}function twt(r,t){var e={breaks:[]};return j(t.breaks,function(n){if(n){var i=Lc(r.get("breaks",!0),function(c){return qr().identifyAxisBreak(c,n)});if(i){var a=t.type,o={isExpanded:!!i.isExpanded};i.isExpanded=a===ab?!0:a===jz?!1:a===Yz?!i.isExpanded:i.isExpanded,e.breaks.push({start:i.start,end:i.end,isExpanded:!!i.isExpanded,old:o})}}}),e}function ewt(){Zct({adjustBreakLabelPair:QSt,buildAxisBreakLine:JSt,rectCoordBuildBreakAxis:KSt,updateModelAxisBreak:twt})}function rwt(r){rft(r),$St(),ewt()}function nwt(){xft(iwt)}function iwt(r,t){j(r,function(e){if(!e.model.get(["axisLabel","inside"])){var n=awt(e);if(n){var i=e.isHorizontal()?"height":"width",a=e.model.get(["axisLabel","margin"]);t[i]-=n[i]+a,e.position==="top"?t.y+=n.height+a:e.position==="left"&&(t.x+=n.width+a)}}})}function awt(r){var t=r.model,e=r.scale;if(!t.get(["axisLabel","show"])||e.isBlank())return;var n,i,a=e.getExtent();e instanceof Eh?i=e.count():(n=e.getTicks(),i=n.length);var o=r.getLabelModel(),c=jh(r),h,v=1;i>40&&(v=Math.ceil(i/40));for(var g=0;g<i;g+=v){var y=n?n[g]:{value:a[0]+g},m=c(y,g),b=o.getTextRect(m),S=E(b,o.get("rotate")||0);h?h.union(S):h=S}return h;function E(C,A){var D=A*Math.PI/180,L=C.width,R=C.height,O=L*Math.abs(Math.cos(D))+Math.abs(R*Math.sin(D)),P=L*Math.abs(Math.sin(D))+Math.abs(R*Math.cos(D)),V=new ue(C.x,C.y,O,P);return V}}be([qut]);be([Uut]);be([dct,Mct,Fct,zft,Qft,zht,vpt,Jpt,_dt,Cdt,Rdt,Bdt,Ivt,ngt,dgt,Lgt,Ogt,Wgt,Kgt,lyt,dyt,Eyt,lmt]);be(Amt);be(Jmt);be(m8);be(c0t);be(i7);be(d0t);be(O0t);be(U0t);be(M_t);be(q_t);be(Kv);be(cbt);be(pbt);be(xbt);be(Nbt);be(Vbt);be(Ubt);be(Qbt);be(m1t);be(c9);be(f9);be(G1t);be(g9);be(y9);be(z1t);be($1t);be(oSt);be(uSt);be(kSt);be(uut);be(rwt);be(nwt);be(Uft);var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function owt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var aE={exports:{}};var oF;function swt(){return oF||(oF=1,(function(r,t){(function(e,n){r.exports=n()})(globalThis,(()=>(()=>{var e={866:o=>{o.exports=function c(h,v){if(h===v)return!0;if(h&&v&&typeof h=="object"&&typeof v=="object"){if(h.constructor!==v.constructor)return!1;var g,y,m;if(Array.isArray(h)){if((g=h.length)!=v.length)return!1;for(y=g;y--!=0;)if(!c(h[y],v[y]))return!1;return!0}if(h.constructor===RegExp)return h.source===v.source&&h.flags===v.flags;if(h.valueOf!==Object.prototype.valueOf)return h.valueOf()===v.valueOf();if(h.toString!==Object.prototype.toString)return h.toString()===v.toString();if((g=(m=Object.keys(h)).length)!==Object.keys(v).length)return!1;for(y=g;y--!=0;)if(!Object.prototype.hasOwnProperty.call(v,m[y]))return!1;for(y=g;y--!=0;){var b=m[y];if(!c(h[b],v[b]))return!1}return!0}return h!=h&&v!=v}},693:o=>{var c,h="__lodash_hash_undefined__",v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/,y=/^\./,m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/\\(\\)?/g,S=/^\[object .+?Constructor\]$/,E=typeof Yf=="object"&&Yf&&Yf.Object===Object&&Yf,C=typeof self=="object"&&self&&self.Object===Object&&self,A=E||C||Function("return this")(),D=Array.prototype,L=Function.prototype,R=Object.prototype,O=A["__core-js_shared__"],P=(c=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",V=L.toString,k=R.hasOwnProperty,F=R.toString,H=RegExp("^"+V.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=A.Symbol,q=D.splice,Y=pt(A,"Map"),K=pt(Object,"create"),X=W?W.prototype:void 0,J=X?X.toString:void 0;function it(gt){var Ct=-1,wt=gt?gt.length:0;for(this.clear();++Ct<wt;){var Z=gt[Ct];this.set(Z[0],Z[1])}}function rt(gt){var Ct=-1,wt=gt?gt.length:0;for(this.clear();++Ct<wt;){var Z=gt[Ct];this.set(Z[0],Z[1])}}function st(gt){var Ct=-1,wt=gt?gt.length:0;for(this.clear();++Ct<wt;){var Z=gt[Ct];this.set(Z[0],Z[1])}}function lt(gt,Ct){for(var wt,Z,at=gt.length;at--;)if((wt=gt[at][0])===(Z=Ct)||wt!=wt&&Z!=Z)return at;return-1}function dt(gt,Ct){var wt,Z,at=gt.__data__;return((Z=typeof(wt=Ct))=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?wt!=="__proto__":wt===null)?at[typeof Ct=="string"?"string":"hash"]:at.map}function pt(gt,Ct){var wt=(function(Z,at){return Z?.[at]})(gt,Ct);return(function(Z){if(!Kt(Z)||P&&P in Z)return!1;var at=(function(ut){var _t=Kt(ut)?F.call(ut):"";return _t=="[object Function]"||_t=="[object GeneratorFunction]"})(Z)||(function(ut){var _t=!1;if(ut!=null&&typeof ut.toString!="function")try{_t=!!(ut+"")}catch{}return _t})(Z)?H:S;return at.test((function(ut){if(ut!=null){try{return V.call(ut)}catch{}try{return ut+""}catch{}}return""})(Z))})(wt)?wt:void 0}it.prototype.clear=function(){this.__data__=K?K(null):{}},it.prototype.delete=function(gt){return this.has(gt)&&delete this.__data__[gt]},it.prototype.get=function(gt){var Ct=this.__data__;if(K){var wt=Ct[gt];return wt===h?void 0:wt}return k.call(Ct,gt)?Ct[gt]:void 0},it.prototype.has=function(gt){var Ct=this.__data__;return K?Ct[gt]!==void 0:k.call(Ct,gt)},it.prototype.set=function(gt,Ct){return this.__data__[gt]=K&&Ct===void 0?h:Ct,this},rt.prototype.clear=function(){this.__data__=[]},rt.prototype.delete=function(gt){var Ct=this.__data__,wt=lt(Ct,gt);return!(wt<0||(wt==Ct.length-1?Ct.pop():q.call(Ct,wt,1),0))},rt.prototype.get=function(gt){var Ct=this.__data__,wt=lt(Ct,gt);return wt<0?void 0:Ct[wt][1]},rt.prototype.has=function(gt){return lt(this.__data__,gt)>-1},rt.prototype.set=function(gt,Ct){var wt=this.__data__,Z=lt(wt,gt);return Z<0?wt.push([gt,Ct]):wt[Z][1]=Ct,this},st.prototype.clear=function(){this.__data__={hash:new it,map:new(Y||rt),string:new it}},st.prototype.delete=function(gt){return dt(this,gt).delete(gt)},st.prototype.get=function(gt){return dt(this,gt).get(gt)},st.prototype.has=function(gt){return dt(this,gt).has(gt)},st.prototype.set=function(gt,Ct){return dt(this,gt).set(gt,Ct),this};var Tt=zt((function(gt){var Ct;gt=(Ct=gt)==null?"":(function(Z){if(typeof Z=="string")return Z;if(Bt(Z))return J?J.call(Z):"";var at=Z+"";return at=="0"&&1/Z==-1/0?"-0":at})(Ct);var wt=[];return y.test(gt)&&wt.push(""),gt.replace(m,(function(Z,at,ut,_t){wt.push(ut?_t.replace(b,"$1"):at||Z)})),wt}));function Ft(gt){if(typeof gt=="string"||Bt(gt))return gt;var Ct=gt+"";return Ct=="0"&&1/gt==-1/0?"-0":Ct}function zt(gt,Ct){if(typeof gt!="function"||Ct&&typeof Ct!="function")throw new TypeError("Expected a function");var wt=function(){var Z=arguments,at=Ct?Ct.apply(this,Z):Z[0],ut=wt.cache;if(ut.has(at))return ut.get(at);var _t=gt.apply(this,Z);return wt.cache=ut.set(at,_t),_t};return wt.cache=new(zt.Cache||st),wt}zt.Cache=st;var Vt=Array.isArray;function Kt(gt){var Ct=typeof gt;return!!gt&&(Ct=="object"||Ct=="function")}function Bt(gt){return typeof gt=="symbol"||(function(Ct){return!!Ct&&typeof Ct=="object"})(gt)&&F.call(gt)=="[object Symbol]"}o.exports=function(gt,Ct,wt){var Z=gt==null?void 0:(function(at,ut){var _t;ut=(function(tt,et){if(Vt(tt))return!1;var ht=typeof tt;return!(ht!="number"&&ht!="symbol"&&ht!="boolean"&&tt!=null&&!Bt(tt))||g.test(tt)||!v.test(tt)||et!=null&&tt in Object(et)})(ut,at)?[ut]:Vt(_t=ut)?_t:Tt(_t);for(var mt=0,xt=ut.length;at!=null&&mt<xt;)at=at[Ft(ut[mt++])];return mt&&mt==xt?at:void 0})(gt,Ct);return Z===void 0?wt:Z}},732:()=>{var o;(function(c){(function(){var h=typeof globalThis=="object"?globalThis:typeof Yf=="object"?Yf:typeof self=="object"?self:typeof this=="object"?this:(function(){try{return Function("return this;")()}catch{}})()||(function(){try{return(0,eval)("(function() { return this; })()")}catch{}})(),v=g(c);function g(y,m){return function(b,S){Object.defineProperty(y,b,{configurable:!0,writable:!0,value:S}),m&&m(b,S)}}h.Reflect!==void 0&&(v=g(h.Reflect,v)),(function(y,m){var b=Object.prototype.hasOwnProperty,S=typeof Symbol=="function",E=S&&Symbol.toPrimitive!==void 0?Symbol.toPrimitive:"@@toPrimitive",C=S&&Symbol.iterator!==void 0?Symbol.iterator:"@@iterator",A=typeof Object.create=="function",D={__proto__:[]}instanceof Array,L=!A&&!D,R={create:A?function(){return xt(Object.create(null))}:D?function(){return xt({__proto__:null})}:function(){return xt({})},has:L?function(tt,et){return b.call(tt,et)}:function(tt,et){return et in tt},get:L?function(tt,et){return b.call(tt,et)?tt[et]:void 0}:function(tt,et){return tt[et]}},O=Object.getPrototypeOf(Function),P=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:(function(){var tt={},et=[],ht=(function(){function Dt(Lt,Ht,Jt){this._index=0,this._keys=Lt,this._values=Ht,this._selector=Jt}return Dt.prototype["@@iterator"]=function(){return this},Dt.prototype[C]=function(){return this},Dt.prototype.next=function(){var Lt=this._index;if(Lt>=0&&Lt<this._keys.length){var Ht=this._selector(this._keys[Lt],this._values[Lt]);return Lt+1>=this._keys.length?(this._index=-1,this._keys=et,this._values=et):this._index++,{value:Ht,done:!1}}return{value:void 0,done:!0}},Dt.prototype.throw=function(Lt){throw this._index>=0&&(this._index=-1,this._keys=et,this._values=et),Lt},Dt.prototype.return=function(Lt){return this._index>=0&&(this._index=-1,this._keys=et,this._values=et),{value:Lt,done:!0}},Dt})();return(function(){function Dt(){this._keys=[],this._values=[],this._cacheKey=tt,this._cacheIndex=-2}return Object.defineProperty(Dt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Dt.prototype.has=function(Lt){return this._find(Lt,!1)>=0},Dt.prototype.get=function(Lt){var Ht=this._find(Lt,!1);return Ht>=0?this._values[Ht]:void 0},Dt.prototype.set=function(Lt,Ht){var Jt=this._find(Lt,!0);return this._values[Jt]=Ht,this},Dt.prototype.delete=function(Lt){var Ht=this._find(Lt,!1);if(Ht>=0){for(var Jt=this._keys.length,pe=Ht+1;pe<Jt;pe++)this._keys[pe-1]=this._keys[pe],this._values[pe-1]=this._values[pe];return this._keys.length--,this._values.length--,gt(Lt,this._cacheKey)&&(this._cacheKey=tt,this._cacheIndex=-2),!0}return!1},Dt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=tt,this._cacheIndex=-2},Dt.prototype.keys=function(){return new ht(this._keys,this._values,St)},Dt.prototype.values=function(){return new ht(this._keys,this._values,It)},Dt.prototype.entries=function(){return new ht(this._keys,this._values,Gt)},Dt.prototype["@@iterator"]=function(){return this.entries()},Dt.prototype[C]=function(){return this.entries()},Dt.prototype._find=function(Lt,Ht){if(!gt(this._cacheKey,Lt)){this._cacheIndex=-1;for(var Jt=0;Jt<this._keys.length;Jt++)if(gt(this._keys[Jt],Lt)){this._cacheIndex=Jt;break}}return this._cacheIndex<0&&Ht&&(this._cacheIndex=this._keys.length,this._keys.push(Lt),this._values.push(void 0)),this._cacheIndex},Dt})();function St(Dt,Lt){return Dt}function It(Dt,Lt){return Lt}function Gt(Dt,Lt){return[Dt,Lt]}})(),V=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:(function(){function tt(){this._map=new P}return Object.defineProperty(tt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),tt.prototype.has=function(et){return this._map.has(et)},tt.prototype.add=function(et){return this._map.set(et,et),this},tt.prototype.delete=function(et){return this._map.delete(et)},tt.prototype.clear=function(){this._map.clear()},tt.prototype.keys=function(){return this._map.keys()},tt.prototype.values=function(){return this._map.keys()},tt.prototype.entries=function(){return this._map.entries()},tt.prototype["@@iterator"]=function(){return this.keys()},tt.prototype[C]=function(){return this.keys()},tt})(),k=typeof WeakMap=="function"?WeakMap:(function(){var tt=R.create(),et=ht();return(function(){function Dt(){this._key=ht()}return Dt.prototype.has=function(Lt){var Ht=St(Lt,!1);return Ht!==void 0&&R.has(Ht,this._key)},Dt.prototype.get=function(Lt){var Ht=St(Lt,!1);return Ht!==void 0?R.get(Ht,this._key):void 0},Dt.prototype.set=function(Lt,Ht){return St(Lt,!0)[this._key]=Ht,this},Dt.prototype.delete=function(Lt){var Ht=St(Lt,!1);return Ht!==void 0&&delete Ht[this._key]},Dt.prototype.clear=function(){this._key=ht()},Dt})();function ht(){var Dt;do Dt="@@WeakMap@@"+Gt();while(R.has(tt,Dt));return tt[Dt]=!0,Dt}function St(Dt,Lt){if(!b.call(Dt,et)){if(!Lt)return;Object.defineProperty(Dt,et,{value:R.create()})}return Dt[et]}function It(Dt,Lt){for(var Ht=0;Ht<Lt;++Ht)Dt[Ht]=255*Math.random()|0;return Dt}function Gt(){var Dt=(function(pe){if(typeof Uint8Array=="function"){var Ge=new Uint8Array(pe);return typeof crypto<"u"?crypto.getRandomValues(Ge):typeof msCrypto<"u"?msCrypto.getRandomValues(Ge):It(Ge,pe),Ge}return It(new Array(pe),pe)})(16);Dt[6]=79&Dt[6]|64,Dt[8]=191&Dt[8]|128;for(var Lt="",Ht=0;Ht<16;++Ht){var Jt=Dt[Ht];Ht!==4&&Ht!==6&&Ht!==8||(Lt+="-"),Jt<16&&(Lt+="0"),Lt+=Jt.toString(16).toLowerCase()}return Lt}})(),F=S?Symbol.for("@reflect-metadata:registry"):void 0,H=(function(){var tt;return!lt(F)&&pt(m.Reflect)&&Object.isExtensible(m.Reflect)&&(tt=m.Reflect[F]),lt(tt)&&(tt=(function(){var et,ht,St,It;lt(F)||m.Reflect===void 0||F in m.Reflect||typeof m.Reflect.defineMetadata!="function"||(et=(function(me){var $e=me.defineMetadata,_e=me.hasOwnMetadata,er=me.getOwnMetadata,Qr=me.getOwnMetadataKeys,Tn=me.deleteMetadata,kn=new k;return{isProviderFor:function(va,Ns){var Ho=kn.get(va);return!(lt(Ho)||!Ho.has(Ns))||!!Qr(va,Ns).length&&(lt(Ho)&&(Ho=new V,kn.set(va,Ho)),Ho.add(Ns),!0)},OrdinaryDefineOwnMetadata:$e,OrdinaryHasOwnMetadata:_e,OrdinaryGetOwnMetadata:er,OrdinaryOwnMetadataKeys:Qr,OrdinaryDeleteMetadata:Tn}})(m.Reflect));var Gt=new k,Dt={registerProvider:Lt,getProvider:Jt,setProvider:Ge};return Dt;function Lt(me){if(!Object.isExtensible(Dt))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case et===me:break;case lt(ht):ht=me;break;case ht===me:break;case lt(St):St=me;break;case St===me:break;default:It===void 0&&(It=new V),It.add(me)}}function Ht(me,$e){if(!lt(ht)){if(ht.isProviderFor(me,$e))return ht;if(!lt(St)){if(St.isProviderFor(me,$e))return ht;if(!lt(It))for(var _e=wt(It);;){var er=at(_e);if(!er)return;var Qr=Z(er);if(Qr.isProviderFor(me,$e))return ut(_e),Qr}}}if(!lt(et)&&et.isProviderFor(me,$e))return et}function Jt(me,$e){var _e,er=Gt.get(me);return lt(er)||(_e=er.get($e)),lt(_e)&&(lt(_e=Ht(me,$e))||(lt(er)&&(er=new P,Gt.set(me,er)),er.set($e,_e))),_e}function pe(me){if(lt(me))throw new TypeError;return ht===me||St===me||!lt(It)&&It.has(me)}function Ge(me,$e,_e){if(!pe(_e))throw new Error("Metadata provider not registered.");var er=Jt(me,$e);if(er!==_e){if(!lt(er))return!1;var Qr=Gt.get(me);lt(Qr)&&(Qr=new P,Gt.set(me,Qr)),Qr.set($e,_e)}return!0}})()),!lt(F)&&pt(m.Reflect)&&Object.isExtensible(m.Reflect)&&Object.defineProperty(m.Reflect,F,{enumerable:!1,configurable:!1,writable:!1,value:tt}),tt})(),W=(function(tt){var et=new k,ht={isProviderFor:function(It,Gt){var Dt=et.get(It);return!lt(Dt)&&Dt.has(Gt)},OrdinaryDefineOwnMetadata:function(It,Gt,Dt,Lt){St(Dt,Lt,!0).set(It,Gt)},OrdinaryHasOwnMetadata:function(It,Gt,Dt){var Lt=St(Gt,Dt,!1);return!lt(Lt)&&Ft(Lt.has(It))},OrdinaryGetOwnMetadata:function(It,Gt,Dt){var Lt=St(Gt,Dt,!1);if(!lt(Lt))return Lt.get(It)},OrdinaryOwnMetadataKeys:function(It,Gt){var Dt=[],Lt=St(It,Gt,!1);if(lt(Lt))return Dt;for(var Ht=wt(Lt.keys()),Jt=0;;){var pe=at(Ht);if(!pe)return Dt.length=Jt,Dt;var Ge=Z(pe);try{Dt[Jt]=Ge}catch(me){try{ut(Ht)}finally{throw me}}Jt++}},OrdinaryDeleteMetadata:function(It,Gt,Dt){var Lt=St(Gt,Dt,!1);if(lt(Lt)||!Lt.delete(It))return!1;if(Lt.size===0){var Ht=et.get(Gt);lt(Ht)||(Ht.delete(Dt),Ht.size===0&&et.delete(Ht))}return!0}};return H.registerProvider(ht),ht;function St(It,Gt,Dt){var Lt=et.get(It),Ht=!1;if(lt(Lt)){if(!Dt)return;Lt=new P,et.set(It,Lt),Ht=!0}var Jt=Lt.get(Gt);if(lt(Jt)){if(!Dt)return;if(Jt=new P,Lt.set(Gt,Jt),!tt.setProvider(It,Gt,ht))throw Lt.delete(Gt),Ht&&et.delete(It),new Error("Wrong provider for target.")}return Jt}})(H);function q(tt,et,ht){if(Y(tt,et,ht))return!0;var St=_t(et);return!dt(St)&&q(tt,St,ht)}function Y(tt,et,ht){var St=mt(et,ht,!1);return!lt(St)&&Ft(St.OrdinaryHasOwnMetadata(tt,et,ht))}function K(tt,et,ht){if(Y(tt,et,ht))return X(tt,et,ht);var St=_t(et);return dt(St)?void 0:K(tt,St,ht)}function X(tt,et,ht){var St=mt(et,ht,!1);if(!lt(St))return St.OrdinaryGetOwnMetadata(tt,et,ht)}function J(tt,et,ht,St){mt(ht,St,!0).OrdinaryDefineOwnMetadata(tt,et,ht,St)}function it(tt,et){var ht=rt(tt,et),St=_t(tt);if(St===null)return ht;var It=it(St,et);if(It.length<=0)return ht;if(ht.length<=0)return It;for(var Gt=new V,Dt=[],Lt=0,Ht=ht;Lt<Ht.length;Lt++){var Jt=Ht[Lt];Gt.has(Jt)||(Gt.add(Jt),Dt.push(Jt))}for(var pe=0,Ge=It;pe<Ge.length;pe++)Jt=Ge[pe],Gt.has(Jt)||(Gt.add(Jt),Dt.push(Jt));return Dt}function rt(tt,et){var ht=mt(tt,et,!1);return ht?ht.OrdinaryOwnMetadataKeys(tt,et):[]}function st(tt){if(tt===null)return 1;switch(typeof tt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return tt===null?1:6;default:return 6}}function lt(tt){return tt===void 0}function dt(tt){return tt===null}function pt(tt){return typeof tt=="object"?tt!==null:typeof tt=="function"}function Tt(tt,et){switch(st(tt)){case 0:case 1:case 2:case 3:case 4:case 5:return tt}var ht="string",St=Ct(tt,E);if(St!==void 0){var It=St.call(tt,ht);if(pt(It))throw new TypeError;return It}return(function(Gt,Dt){var Lt,Ht;{var Jt=Gt.toString;if(Kt(Jt)&&!pt(Ht=Jt.call(Gt))||Kt(Lt=Gt.valueOf)&&!pt(Ht=Lt.call(Gt)))return Ht}throw new TypeError})(tt)}function Ft(tt){return!!tt}function zt(tt){var et=Tt(tt);return typeof et=="symbol"?et:(function(ht){return""+ht})(et)}function Vt(tt){return Array.isArray?Array.isArray(tt):tt instanceof Object?tt instanceof Array:Object.prototype.toString.call(tt)==="[object Array]"}function Kt(tt){return typeof tt=="function"}function Bt(tt){return typeof tt=="function"}function gt(tt,et){return tt===et||tt!=tt&&et!=et}function Ct(tt,et){var ht=tt[et];if(ht!=null){if(!Kt(ht))throw new TypeError;return ht}}function wt(tt){var et=Ct(tt,C);if(!Kt(et))throw new TypeError;var ht=et.call(tt);if(!pt(ht))throw new TypeError;return ht}function Z(tt){return tt.value}function at(tt){var et=tt.next();return!et.done&&et}function ut(tt){var et=tt.return;et&&et.call(tt)}function _t(tt){var et=Object.getPrototypeOf(tt);if(typeof tt!="function"||tt===O||et!==O)return et;var ht=tt.prototype,St=ht&&Object.getPrototypeOf(ht);if(St==null||St===Object.prototype)return et;var It=St.constructor;return typeof It!="function"||It===tt?et:It}function mt(tt,et,ht){var St=H.getProvider(tt,et);if(!lt(St))return St;if(ht){if(H.setProvider(tt,et,W))return W;throw new Error("Illegal state.")}}function xt(tt){return tt.__=void 0,delete tt.__,tt}y("decorate",(function(tt,et,ht,St){if(lt(ht)){if(!Vt(tt))throw new TypeError;if(!Bt(et))throw new TypeError;return(function(It,Gt){for(var Dt=It.length-1;Dt>=0;--Dt){var Lt=(0,It[Dt])(Gt);if(!lt(Lt)&&!dt(Lt)){if(!Bt(Lt))throw new TypeError;Gt=Lt}}return Gt})(tt,et)}if(!Vt(tt))throw new TypeError;if(!pt(et))throw new TypeError;if(!pt(St)&&!lt(St)&&!dt(St))throw new TypeError;return dt(St)&&(St=void 0),(function(It,Gt,Dt,Lt){for(var Ht=It.length-1;Ht>=0;--Ht){var Jt=(0,It[Ht])(Gt,Dt,Lt);if(!lt(Jt)&&!dt(Jt)){if(!pt(Jt))throw new TypeError;Lt=Jt}}return Lt})(tt,et,ht=zt(ht),St)})),y("metadata",(function(tt,et){return function(ht,St){if(!pt(ht))throw new TypeError;if(!lt(St)&&!(function(It){switch(st(It)){case 3:case 4:return!0;default:return!1}})(St))throw new TypeError;J(tt,et,ht,St)}})),y("defineMetadata",(function(tt,et,ht,St){if(!pt(ht))throw new TypeError;return lt(St)||(St=zt(St)),J(tt,et,ht,St)})),y("hasMetadata",(function(tt,et,ht){if(!pt(et))throw new TypeError;return lt(ht)||(ht=zt(ht)),q(tt,et,ht)})),y("hasOwnMetadata",(function(tt,et,ht){if(!pt(et))throw new TypeError;return lt(ht)||(ht=zt(ht)),Y(tt,et,ht)})),y("getMetadata",(function(tt,et,ht){if(!pt(et))throw new TypeError;return lt(ht)||(ht=zt(ht)),K(tt,et,ht)})),y("getOwnMetadata",(function(tt,et,ht){if(!pt(et))throw new TypeError;return lt(ht)||(ht=zt(ht)),X(tt,et,ht)})),y("getMetadataKeys",(function(tt,et){if(!pt(tt))throw new TypeError;return lt(et)||(et=zt(et)),it(tt,et)})),y("getOwnMetadataKeys",(function(tt,et){if(!pt(tt))throw new TypeError;return lt(et)||(et=zt(et)),rt(tt,et)})),y("deleteMetadata",(function(tt,et,ht){if(!pt(et))throw new TypeError;if(lt(ht)||(ht=zt(ht)),!pt(et))throw new TypeError;lt(ht)||(ht=zt(ht));var St=mt(et,ht,!1);return!lt(St)&&St.OrdinaryDeleteMetadata(tt,et,ht)}))})(v,h),h.Reflect===void 0&&(h.Reflect=c)})()})(o||(o={}))}},n={};function i(o){var c=n[o];if(c!==void 0)return c.exports;var h=n[o]={exports:{}};return e[o](h,h.exports,i),h.exports}i.n=o=>{var c=o&&o.__esModule?()=>o.default:()=>o;return i.d(c,{a:c}),c},i.d=(o,c)=>{for(var h in c)i.o(c,h)&&!i.o(o,h)&&Object.defineProperty(o,h,{enumerable:!0,get:c[h]})},i.o=(o,c)=>Object.prototype.hasOwnProperty.call(o,c),i.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var a={};return(()=>{i.r(a),i.d(a,{ABORTED:()=>Jn,ADialog:()=>Er,AEventDispatcher:()=>ga,ALineUp:()=>MX,ActionColumn:()=>Ab,ActionsColumnBuilder:()=>JZ,AggregateGroupColumn:()=>ep,AnnotateColumn:()=>Db,ArrayColumn:()=>Wl,BooleanColumn:()=>og,BooleanColumnBuilder:()=>eK,BooleansColumn:()=>GM,BoxPlotColumn:()=>Ai,CategoricalColumn:()=>we,CategoricalColumnBuilder:()=>VZ,CategoricalMapColumn:()=>mL,CategoricalsColumn:()=>_L,Categories:()=>SM,Category:()=>ln,Column:()=>vt,ColumnBuilder:()=>Zo,CompositeColumn:()=>vn,CompositeNumberColumn:()=>vp,CustomColorMappingFunction:()=>Ps,DEFAULT_CATEGORICAL_COLOR_FUNCTION:()=>gi,DEFAULT_COLOR:()=>Oe,DEFAULT_COLOR_FUNCTION:()=>dp,DataBuilder:()=>jI,DataProvider:()=>Ae,DateColumn:()=>Wr,DateColumnBuilder:()=>YZ,DatesColumn:()=>hp,DatesMapColumn:()=>UL,DialogManager:()=>mf,DivergentColorFunction:()=>Ja,EAdvancedSortMethod:()=>tn,EAggregationState:()=>rr,EAlignment:()=>Wo,ECompareValueType:()=>tt,EDateSort:()=>jo,EDirtyReason:()=>Dr,EGroupSortMethod:()=>xg,EMode:()=>Bn,ERenderMode:()=>Re,ESortMethod:()=>zc,EStringFilterType:()=>et,EStringGroupCriteriaType:()=>An,EngineRanking:()=>du,EngineRenderer:()=>Xi,FIRST_IS_MISSING:()=>xb,FIRST_IS_NAN:()=>wb,GroupColumn:()=>Kb,HierarchyColumn:()=>WL,HierarchyColumnBuilder:()=>XZ,ImpositionBoxPlotColumn:()=>JL,ImpositionCompositeColumn:()=>n1,ImpositionCompositesColumn:()=>QL,LineUp:()=>Ws,LinkColumn:()=>Yo,LinkMapColumn:()=>c1,LinksColumn:()=>lN,LocalDataProvider:()=>au,MapColumn:()=>ef,MultiLevelCompositeColumn:()=>eN,NestedColumn:()=>rN,NumberColumn:()=>ce,NumberColumnBuilder:()=>BZ,NumberMapColumn:()=>nN,NumbersColumn:()=>Mn,OrdinalColumn:()=>eu,QuantizedColorFunction:()=>Qa,RankColumn:()=>ig,Ranking:()=>he,RankingBuilder:()=>dS,ReduceColumn:()=>tN,RemoteDataProvider:()=>DK,RenderColumn:()=>cS,ReplacementColorMappingFunction:()=>Sb,SCHEMA_REF:()=>cN,ScaleMappingFunction:()=>zr,ScriptColumn:()=>u1,ScriptMappingFunction:()=>Qc,SearchBox:()=>vu,SelectionColumn:()=>Cb,SelectionIndicator:()=>II,SequentialColorFunction:()=>Ka,SetColumn:()=>Ul,SidePanel:()=>hS,SlopeGraph:()=>RI,SolidColorFunction:()=>ma,SortByDefault:()=>Ua,StackColumn:()=>$i,StringColumn:()=>Nr,StringColumnBuilder:()=>UZ,StringMapColumn:()=>oN,StringsColumn:()=>sN,SupportType:()=>Hc,Taggle:()=>pS,TaggleRenderer:()=>Pp,UnknownColorFunction:()=>KL,ValueColumn:()=>Tr,asLineUp:()=>aK,asTaggle:()=>iK,buildActionsColumn:()=>QZ,buildBooleanColumn:()=>rK,buildCategoricalColumn:()=>GZ,buildColumn:()=>OZ,buildDateColumn:()=>$Z,buildHierarchicalColumn:()=>ZZ,buildId:()=>IK,buildNumberColumn:()=>HZ,buildRanking:()=>VI,buildStringColumn:()=>WZ,builder:()=>vS,builderAdapter:()=>o,categories:()=>Bl,categoryOf:()=>Xh,categoryOfDesc:()=>wM,colorOf:()=>xr,createActionDesc:()=>K9,createAggregateDesc:()=>ng,createGroupDesc:()=>Zb,createImpositionBoxPlotDesc:()=>i1,createImpositionDesc:()=>Dg,createImpositionsDesc:()=>a1,createLineUp:()=>LK,createLocalDataProvider:()=>MK,createNestedDesc:()=>s1,createRankDesc:()=>$c,createReduceDesc:()=>o1,createScriptDesc:()=>l1,createSelectionDesc:()=>ag,createStackDesc:()=>Ng,createTaggle:()=>NK,default:()=>Ws,defaultGroup:()=>ht,defaultOptions:()=>oS,defineColumn:()=>TK,deriveColors:()=>d1,deriveColumnDescriptions:()=>p1,deriveHierarchy:()=>bj,dialogAddons:()=>vi,dialogContext:()=>Ri,exportRanking:()=>v1,exportTable:()=>g1,getSortType:()=>db,isArrayColumn:()=>Sp,isBoxPlotColumn:()=>zo,isCategoricalColumn:()=>nu,isCategoricalLikeColumn:()=>Xo,isCategoricalsColumn:()=>NN,isCategory:()=>e$,isDateColumn:()=>iu,isDatesColumn:()=>RN,isGroup:()=>It,isHierarchical:()=>_j,isMapAbleColumn:()=>Ze,isMapColumn:()=>bp,isMissingValue:()=>Hr,isMultiLevelColumn:()=>Gt,isNumberColumn:()=>Qe,isNumbersColumn:()=>Cn,isSetColumn:()=>Og,isSortingAscByDefault:()=>Rs,isSupportType:()=>Hl,isUnknown:()=>rp,license:()=>OK,mappingFunctions:()=>dL,missingGroup:()=>Uo,othersGroup:()=>St,renderMissingCanvas:()=>Mi,renderMissingDOM:()=>ur,rendererClasses:()=>c,rendererUtils:()=>h,resolveInnerNodes:()=>jL,spaceFillingRule:()=>OI,tasksAll:()=>of,toCategories:()=>Wa,toolbar:()=>qe,updateLodRules:()=>PI,version:()=>RK});var o={};i.r(o),i.d(o,{Adapter:()=>wK,build:()=>js,buildActions:()=>hK,buildAllColumnsRanking:()=>bK,buildBoolean:()=>fK,buildCategorical:()=>oK,buildDate:()=>sK,buildGeneric:()=>pK,buildHierarchy:()=>lK,buildImposeRanking:()=>dK,buildNestedRanking:()=>vK,buildNumber:()=>uK,buildRanking:()=>YI,buildReduceRanking:()=>yK,buildScriptRanking:()=>mK,buildString:()=>cK,buildSupportRanking:()=>_K,buildWeightedSumRanking:()=>gK,equal:()=>Ge,isSame:()=>gS,isTypeInstance:()=>SK,pick:()=>yy});var c={};i.r(c),i.d(c,{AAggregatedGroupRenderer:()=>LR,ANumbersCellRenderer:()=>G1,ActionRenderer:()=>FN,AggregateGroupRenderer:()=>UN,AnnotationRenderer:()=>YN,BarCellRenderer:()=>$N,BooleanCellRenderer:()=>qN,BoxplotCellRenderer:()=>ZN,BrightnessCellRenderer:()=>KN,CategoricalCellRenderer:()=>JN,CategoricalHeatmapCellRenderer:()=>tR,CategoricalStackedDistributionlCellRenderer:()=>eR,CategoricalTickCellRenderer:()=>eI,CircleCellRenderer:()=>rR,DateCellRenderer:()=>YR,DateHistogramCellRenderer:()=>$R,DefaultCellRenderer:()=>I1,DotCellRenderer:()=>iR,GroupCellRenderer:()=>oR,HeatmapCellRenderer:()=>sR,HistogramCellRenderer:()=>AR,ImageCellRenderer:()=>MR,InterleavingCellRenderer:()=>NR,LinkCellRenderer:()=>RR,LinkMapCellRenderer:()=>VR,LoadingCellRenderer:()=>GR,MapBarCellRenderer:()=>OR,MultiLevelCellRenderer:()=>q1,RankCellRenderer:()=>FR,SelectionRenderer:()=>BR,SetCellRenderer:()=>HR,SparklineCellRenderer:()=>UR,StringCellRenderer:()=>Fg,StringHistogramCellRenderer:()=>XR,TableCellRenderer:()=>PR,TickCellRenderer:()=>tI,UpSetCellRenderer:()=>WR,VerticalBarCellRenderer:()=>jR,ViolinPlotCellRenderer:()=>KR});var h={};i.r(h),i.d(h,{adaptDynamicColorToBgColor:()=>kN,adaptTextColorToBgColor:()=>C1,noRenderer:()=>hr,toHeatMapColor:()=>Gs,wideEnough:()=>kg,wideEnoughCat:()=>ON});var v,g=(v=function(p,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(u[f]=l[f])},v(p,s)},function(p,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=p}v(p,s),p.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});function y(p){return p.every((function(){return!1}))}function m(p){return Array.isArray(p)||p instanceof Uint8Array||p instanceof Uint16Array||p instanceof Uint32Array||p instanceof Float32Array||p instanceof Int8Array||p instanceof Int16Array||p instanceof Int32Array||p instanceof Float64Array}var b=(function(){function p(s,u){this.it=s,this.filters=u,this._length=-1}return Object.defineProperty(p.prototype,"length",{get:function(){if(this._length>=0)return this._length;var s=0;return this.forEach((function(){return s++})),this._length=s,s},enumerable:!1,configurable:!0}),p.prototype.filter=function(s){return new p(this.it,this.filters.concat(s))},p.prototype.map=function(s){return new E(this,s)},p.prototype.forEach=function(s){if(m(this.it))t:for(var u=0;u<this.it.length;++u){for(var l=this.it[u],f=0,d=this.filters;f<d.length;f++)if(!(0,d[f])(l,u))continue t;s(l,u)}else{var _=0,w=this.it[Symbol.iterator](),x=w.next(),T=0;t:for(;!x.done;){for(var M=0,N=this.filters;M<N.length;M++)if(!(0,N[M])(x.value,T)){x=w.next(),T++;continue t}s(x.value,_++),x=w.next(),T++}}},p.prototype[Symbol.iterator]=function(){var s=this,u=this.it[Symbol.iterator]();return{next:function(){var l=u.next(),f=-1;t:for(;!l.done;){f++;for(var d=0,_=s.filters;d<_.length;d++)if(!(0,_[d])(l.value,f)){l=u.next();continue t}return l}return l}}},p.prototype.some=function(s){if(m(this.it)){t:for(var u=0;u<this.it.length;++u){for(var l=this.it[u],f=0,d=this.filters;f<d.length;f++)if(!(0,d[f])(l,u))continue t;if(s(l,u))return!0}return!1}var _=0,w=this.it[Symbol.iterator](),x=w.next(),T=0;t:for(;!x.done;){for(var M=0,N=this.filters;M<N.length;M++)if(!(0,N[M])(x.value,T)){x=w.next(),T++;continue t}if(s(x.value,_++))return!0;x=w.next(),T++}return!1},p.prototype.every=function(s){if(m(this.it)){t:for(var u=0;u<this.it.length;++u){for(var l=this.it[u],f=0,d=this.filters;f<d.length;f++)if(!(0,d[f])(l,u))continue t;if(!s(l,u))return!1}return!0}var _=0,w=this.it[Symbol.iterator](),x=w.next(),T=0;t:for(;!x.done;){for(var M=0,N=this.filters;M<N.length;M++)if(!(0,N[M])(x.value,T)){x=w.next(),T++;continue t}if(!s(x.value,_++))return!1;x=w.next(),T++}return!0},p.prototype.reduce=function(s,u){if(m(this.it)){var l=u,f=0;t:for(var d=0;d<this.it.length;++d){for(var _=this.it[d],w=0,x=this.filters;w<x.length;w++)if(!(0,x[w])(_,d))continue t;l=s(l,_,f++)}return l}var T=0,M=this.it[Symbol.iterator](),N=M.next(),I=0,G=u;t:for(;!N.done;){for(var B=0,U=this.filters;B<U.length;B++)if(!(0,U[B])(N.value,I)){N=M.next(),I++;continue t}G=s(G,N.value,T++),N=M.next(),I++}return G},p})(),S=(function(){function p(s){this.it=s}return Object.defineProperty(p.prototype,"length",{get:function(){return this.it.length},enumerable:!1,configurable:!0}),p.prototype.filter=function(s){return new b(this,[s])},p.prototype.forEach=function(s){if(m(this.it))for(var u=0;u<this.it.length;++u)s(this.mapV(this.it[u],u),u);else{var l=this.it[Symbol.iterator](),f=l.next();for(u=0;!f.done;f=l.next(),u++)s(this.mapV(f.value,u),u)}},p.prototype[Symbol.iterator]=function(){var s=this,u=this.it[Symbol.iterator](),l=0;return{next:function(){var f=u.next();if(f.done)return{value:void 0,done:!0};var d=s.mapV(f.value,l);return l++,{value:d,done:!1}}}},p.prototype.some=function(s){if(m(this.it)){for(var u=0;u<this.it.length;++u)if(s(this.mapV(this.it[u],u),u))return!0;return!1}var l=this.it[Symbol.iterator](),f=l.next();for(u=0;!f.done;f=l.next(),u++)if(s(this.mapV(f.value,u),u))return!0;return!1},p.prototype.every=function(s){if(m(this.it)){for(var u=0;u<this.it.length;++u)if(!s(this.mapV(this.it[u],u),u))return!1;return!0}var l=this.it[Symbol.iterator](),f=l.next();for(u=0;!f.done;f=l.next(),u++)if(!s(this.mapV(f.value,u),u))return!1;return!0},p.prototype.reduce=function(s,u){if(m(this.it)){for(var l=u,f=0;f<this.it.length;++f)l=s(l,this.mapV(this.it[f],f),f);return l}var d=this.it[Symbol.iterator](),_=u,w=d.next();for(f=0;!w.done;w=d.next(),f++)_=s(_,this.mapV(w.value,f),f);return _},p})(),E=(function(p){function s(u,l){var f=p.call(this,u)||this;return f.map12=l,f}return g(s,p),s.prototype.mapV=function(u,l){return this.map12(u,l)},s.prototype.map=function(u){return new C(this.it,this.map12,u)},s})(S),C=(function(p){function s(u,l,f){var d=p.call(this,u)||this;return d.map12=l,d.map23=f,d}return g(s,p),s.prototype.map=function(u){return new A(this.it,this.map12,this.map23,u)},s.prototype.mapV=function(u,l){return this.map23(this.map12(u,l),l)},s})(S),A=(function(p){function s(u,l,f,d){var _=p.call(this,u)||this;return _.map12=l,_.map23=f,_.map34=d,_}return g(s,p),s.prototype.map=function(u){var l=this;return new E(this.it,(function(f,d){return u(l.map34(l.map23(l.map12(f,d),d),d),d)}))},s.prototype.mapV=function(u,l){return this.map34(this.map23(this.map12(u,l),l),l)},s})(S),D=(function(){function p(s){this.iterable=s,this._arr=null}return Object.defineProperty(p.prototype,"arr",{get:function(){return this._arr||(m(this.iterable)?this._arr=this.iterable:this._arr=Array.from(this.iterable)),this._arr},enumerable:!1,configurable:!0}),p.prototype[Symbol.iterator]=function(){return this.iterable[Symbol.iterator]()},p.prototype.filter=function(s){return new b(this.arr,[s])},p.prototype.map=function(s){return new E(this.arr,s)},p.prototype.forEach=function(s){if(m(this.iterable))for(var u=0;u<this.iterable.length;++u)s(this.iterable[u],u);else{var l=this[Symbol.iterator](),f=l.next();for(u=0;!f.done;f=l.next(),u++)s(f.value,u)}},p.prototype.some=function(s){if(m(this.iterable)){for(var u=0;u<this.iterable.length;++u)if(s(this.iterable[u],u))return!0;return!1}var l=this[Symbol.iterator](),f=l.next();for(u=0;!f.done;f=l.next(),u++)if(s(f.value,u))return!0;return!1},p.prototype.every=function(s){if(m(this.iterable)){for(var u=0;u<this.iterable.length;++u)if(!s(this.iterable[u],u))return!1;return!0}var l=this[Symbol.iterator](),f=l.next();for(u=0;!f.done;f=l.next(),u++)if(!s(f.value,u))return!1;return!0},p.prototype.reduce=function(s,u){if(m(this.iterable)){for(var l=u,f=0;f<this.iterable.length;++f)l=s(l,this.iterable[f],f);return l}var d=this[Symbol.iterator](),_=u,w=d.next();for(f=0;!w.done;w=d.next(),f++)_=s(_,w.value,f);return _},Object.defineProperty(p.prototype,"length",{get:function(){var s=this.iterable;return m(s)?s.length:s instanceof Set||s instanceof Map?s.size:this.arr.length},enumerable:!1,configurable:!0}),p})();function L(p){return new D(p)}var R=(function(){function p(s){this.seqs=s}return p.prototype[Symbol.iterator]=function(){var s=Array.from(this.seqs),u=s.shift()[Symbol.iterator](),l=function(){var f=u.next();return f.done?s.length===0?f:(u=s.shift()[Symbol.iterator](),l()):f};return{next:l}},p.prototype.filter=function(s){return new b(this,[s])},p.prototype.map=function(s){return new E(this,s)},p.prototype.forEach=function(s){this.seqs.forEach((function(u){return u.forEach(s)}))},p.prototype.some=function(s){return this.seqs.some((function(u){return u.some(s)}))},p.prototype.every=function(s){return this.seqs.every((function(u){return u.every(s)}))},p.prototype.reduce=function(s,u){return this.seqs.reduce((function(l,f){return f.reduce(s,l)}),u)},Object.defineProperty(p.prototype,"length",{get:function(){return this.seqs.reduce((function(s,u){return s+u.length}),0)},enumerable:!1,configurable:!0}),p})(),O=Math.max(navigator.hardwareConcurrency-1,1),P=(function(){function p(s){var u=this;this.blob=s,this.workers=[],this.cleanUpWorkerTimer=-1,this.workerTaskCounter=0,this.cleanUpWorker=function(){for(;u.workers.length>1;){var d=u.workers.findIndex((function(_){return _.tasks.size===0}));if(d<0)break;u.workers.splice(d,1)[0].worker.terminate()}u.finishedTask()};for(var l=0;l<1;++l){var f=new Worker(s);this.workers.push({worker:f,tasks:new Set,refs:new Set,index:l})}}return p.prototype.terminate=function(){this.workers.splice(0,this.workers.length).forEach((function(s){return s.worker.terminate()}))},p.prototype.checkOutWorker=function(){this.cleanUpWorkerTimer>=0&&(clearTimeout(this.cleanUpWorkerTimer),this.cleanUpWorkerTimer=-1);var s=this.workers.find((function(l){return l.tasks.size===0}));if(s)return s;if(this.workers.length>=O)return this.workers.reduce((function(l,f){return l==null||l.tasks.size>f.tasks.size?f:l}),null);var u={worker:new Worker(this.blob),tasks:new Set,refs:new Set,index:this.workers.length};return this.workers.push(u),u},p.prototype.finishedTask=function(){this.cleanUpWorkerTimer===-1&&this.workers.length>1&&(this.cleanUpWorkerTimer=setTimeout(this.cleanUpWorker,1e4))},p.prototype.pushStats=function(s,u,l,f,d,_){var w=this;return new Promise((function(x){var T=w.workerTaskCounter++,M=w.checkOutWorker(),N=M.worker,I=M.tasks,G=M.refs,B=function($){var Q=$.data;Q.uid===T&&Q.type===s&&(N.removeEventListener("message",B),I.delete(T),w.finishedTask(),x(Q.stats))};N.addEventListener("message",B),I.add(T);var U=Object.assign({type:s,uid:T,refData:l,refIndices:d||null},u);l&&G.has(l)||(U.data=f,l&&G.add(l)),!_||d&&G.has(d)||(U.indices=_,d&&G.add(d)),N.postMessage(U)}))},p.prototype.push=function(s,u,l,f){var d=this;return new Promise((function(_){var w=d.workerTaskCounter++,x=d.checkOutWorker(),T=x.worker,M=x.tasks,N=function(G){var B=G.data;B.uid===w&&B.type===s&&(T.removeEventListener("message",N),M.delete(w),d.finishedTask(),_(f?f(B):B))};T.addEventListener("message",N),M.add(w);var I=Object.assign({type:s,uid:w},u);T.postMessage(I,l)}))},p.prototype.setRef=function(s,u){for(var l=0,f=this.workers;l<f.length;l++)f[l].refs.add(s);this.broadCast("setRef",{ref:s,data:u})},p.prototype.deleteRef=function(s,u){u===void 0&&(u=!1);for(var l={type:"deleteRef",uid:this.workerTaskCounter++,ref:s,startsWith:u},f=0,d=this.workers;f<d.length;f++){var _=d[f];if(_.worker.postMessage(l),u)for(var w=0,x=Array.from(_.refs);w<x.length;w++){var T=x[w];T.startsWith(s)&&_.refs.delete(T)}else _.refs.delete(s)}},p.prototype.deleteRefs=function(){for(var s={type:"deleteRef",uid:this.workerTaskCounter++,ref:"",startsWith:!0},u=0,l=this.workers;u<l.length;u++){var f=l[u];f.worker.postMessage(s),f.refs.clear()}},p.prototype.broadCast=function(s,u){for(var l=this.workerTaskCounter++,f=Object.assign({type:s,uid:l},u),d=0,_=this.workers;d<_.length;d++)_[d].worker.postMessage(f)},p})();function V(p){return p===0?1:Math.ceil(Math.log(p)/Math.LN2)+1}function k(p,s){for(var u=Number.POSITIVE_INFINITY,l=0,f=p;l<f.length;l++){var d=f[l],_=s?s(d):d;_<u&&(u=_)}return u}function F(p,s){for(var u=Number.NEGATIVE_INFINITY,l=0,f=p;l<f.length;l++){var d=f[l],_=s?s(d):d;_>u&&(u=_)}return u}function H(p,s){for(var u=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,f=0,d=p;f<d.length;f++){var _=d[f],w=s?s(_):_;w<l&&(l=w),w>u&&(u=w)}return[l,u]}function W(p){var s=new Array(p);return s.fill(null),s}function q(p,s,u){if(u===void 0&&(u=p.length),u===0)return NaN;var l=(u-1)*s,f=Math.floor(l);if(f===l)return p[f];var d=p[f];return d+(p[f+1]-d)*(l-f)}function Y(p,s){var u=s?p.map(s):p.slice();return u.sort((function(l,f){return l<f?-1:l>f?1:0})),q(u,.5)}function K(p){return function(s){if(m(s))for(var u=0;u<s.length;++u)p(s[u]);else s.forEach(p)}}function X(p){var s=Math.sqrt(2*Math.PI);return Math.exp(-.5*p*p)/s}function J(p,s){return p*s/(s-1)}function it(p,s,u){var l=Math.sqrt(J(s,u));return typeof p=="number"&&(l=Math.min(l,p/1.34)),1.06*l*Math.pow(u,-.2)}function rt(p,s,u){for(var l=0,f=0;f<s;f++){var d=p[f];l+=(d-u)*(d-u)}return l/s}function st(p,s,u,l,f,d,_){var w=it(_,d,s),x=function(M){var N=0,I=0;for(N=0;N<s;N++)I+=X((M-p[N])/w);return I/w/s},T=(f-l)/(u-1);return Array.from({length:u},(function(M,N){var I=N===u-1?f:l+N*T;return{v:I,p:x(I)}}))}function lt(p,s){var u=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,f=0,d=0,_=0,w=s??100,x=[],T=p!=null?new Float64Array(p):null,M=function(B){d+=1,B==null||Number.isNaN(B)?_+=1:(B<u&&(u=B),B>l&&(l=B),f+=B)},N=function(B){M(B),T?T[d]=B:x.push(B)},I={min:NaN,max:NaN,mean:NaN,missing:_,count:d,whiskerHigh:NaN,whiskerLow:NaN,outlier:[],median:NaN,q1:NaN,q3:NaN,kdePoints:[]},G=function(B){for(var U=d-_,$=q(B,.5,U),Q=q(B,.25,U),nt=q(B,.75,U),ot=nt-Q,ft=Q-1.5*ot,Et=nt+1.5*ot,At=rt(B,U,f/U),Ot=[],Wt=ft,ct=0;ct<U;++ct){if(ft<(Nt=B[ct])){Wt=Nt;break}Ot.push(Nt)}var kt=Et,jt=[];for(ct=U-1;ct>=0;--ct){var Nt;if((Nt=B[ct])<Et){kt=Nt;break}jt.push(Nt)}Ot=Ot.concat(jt.reverse());var ee=st(B,U,w,u,l,At,ot);return{min:u,max:l,count:d,missing:_,mean:f/U,whiskerHigh:kt,whiskerLow:Wt,outlier:Ot,median:$,q1:Q,q3:nt,kdePoints:ee}};return{push:N,build:function(){if(d-_==0)return I;var B=T?T.sort():Float64Array.from(x).sort();return G(B)},buildArr:function(B){for(var U=B.slice().sort(),$=0;$<B.length;++$)M(B[$]);return G(U)},pushAll:K(N)}}function dt(p,s){for(var u=[],l=p[0],f=(p[1]-p[0])/s,d=0;d<s;++d,l+=f)u.push({x0:l,x1:l+f,count:0});var _=p[0]+f,w=p[1]-f,x=Number.POSITIVE_INFINITY,T=Number.NEGATIVE_INFINITY,M=0,N=0,I=0,G=function(B){N+=1,B==null||Number.isNaN(B)?I+=1:(B<x&&(x=B),B>T&&(T=B),M+=B,u[(function(U){if(U<_)return 0;if(U>=w)return s-1;if(s===3)return 1;for(var $=1,Q=s-1;$<Q;){var nt=Math.floor((Q+$)/2);U<u[nt].x1?Q=nt:$=nt+1}return $})(B)].count++)};return{push:G,build:function(){var B=N-I;return B===0?{count:I,missing:I,min:NaN,max:NaN,mean:NaN,hist:u,maxBin:0}:{count:N,min:x,max:T,mean:M/B,missing:I,hist:u,maxBin:u.reduce((function(U,$){return Math.max(U,$.count)}),0)}},pushAll:K(G)}}function pt(p,s,u){if(u===void 0&&(u=1),s<p[0].x1)p[0].count+=u;else{var l=p.length-1;if(s>p[l].x0)p[l].count+=u;else if(l!==2){for(var f=1,d=l;f<d;){var _=Math.floor((d+f)/2);s<p[_].x1?d=_:f=_+1}p[f].count+=u}else p[1].count+=u}}function Tt(p){var s=null,u=null,l=0,f=0,d=new Map,_=p?p.hist.map((function(x){return{x0:x.x0,x1:x.x1,count:0}})):null,w=function(x){if(l+=1,x&&x!=null)if((s==null||x<s)&&(s=x),(u==null||x>u)&&(u=x),_)pt(_,x,1);else{var T=1e4*x.getFullYear()+100*x.getMonth()+x.getDate();d.has(T)?d.get(T).count++:d.set(T,{count:1,x})}else f+=1};return{push:w,build:function(){if(_)return{min:s,max:u,missing:f,count:l,maxBin:_.reduce((function(N,I){return Math.max(N,I.count)}),0),hist:_,histGranularity:p.histGranularity};var x=(function(N,I){if(N==null||I==null)return{histGranularity:"year",hist:[]};var G=[];if(I.getFullYear()-N.getFullYear()>=2){for(var B=N.getFullYear(),U=I.getFullYear(),$=B;$<=U;++$)G.push({x0:new Date($,0,1),x1:new Date($+1,0,1),count:0});return{hist:G,histGranularity:"year"}}if(I.getTime()-N.getTime()<=26784e5){for(var Q=new Date(N.getFullYear(),N.getMonth(),N.getDate());Q<=I;)(ot=new Date(Q)).setDate(ot.getDate()+1),G.push({x0:Q,x1:ot,count:0}),Q=ot;return{hist:G,histGranularity:"day"}}for(var nt=new Date(N.getFullYear(),N.getMonth(),1);nt<=I;){var ot;(ot=new Date(nt)).setMonth(ot.getMonth()+1),G.push({x0:nt,x1:ot,count:0}),nt=ot}return{hist:G,histGranularity:"month"}})(s,u),T=x.histGranularity,M=x.hist;return d.forEach((function(N){return pt(M,N.x,N.count)})),{min:s,max:u,missing:f,count:l,maxBin:M.reduce((function(N,I){return Math.max(N,I.count)}),0),hist:M,histGranularity:T}},pushAll:K(w)}}function Ft(p){var s=new Map;p.forEach((function(d){return s.set(d.name,{cat:d.name,count:0})}));var u=0,l=0,f=function(d){if(l+=1,d==null)u+=1;else{var _=s.get(d.name);_?_.count++:s.set(d.name,{cat:d.name,count:1})}};return{push:f,build:function(){var d=p.map((function(_){return s.get(_.name)}));return{maxBin:d.reduce((function(_,w){return Math.max(_,w.count)}),Number.NEGATIVE_INFINITY),hist:d,count:l,missing:u}},pushAll:K(f)}}function zt(p){var s=0,u=0,l=new Map;if(Array.isArray(p))for(var f=0,d=p;f<d.length;f++){var _=d[f];l.set(_,{value:_,count:0})}var w=function(x){if(u+=1,x==null)s+=1;else{var T=l.get(x);T?T.count++:l.set(x,{value:x,count:1})}};return{push:w,build:function(){var x=Array.isArray(p)?p.map((function(T){return l.get(T)})):Array.from(l.values()).sort((function(T,M){return T.count===M.count?T.value.localeCompare(M.value):M.count-T.count}));return{count:u,missing:s,topN:x.slice(0,Math.min(x.length,Array.isArray(p)?p.length:p)),unique:l.size}},pushAll:K(w)}}function Vt(p,s){if(s===void 0&&(s=0),s===0)return Math.round(p);var u=Math.pow(10,s);return Math.round(p*u)/u}function Kt(p,s,u){return u===void 0&&(u=.5),p===s||Math.abs(p-s)<u}function Bt(p){return p instanceof Promise||typeof p.then=="function"}function gt(p,s){return s===void 0&&(s=p),s<=255?new Uint8Array(p):s<=65535?new Uint16Array(p):new Uint32Array(p)}function Ct(p,s){if(p instanceof Uint8Array||p instanceof Uint16Array||p instanceof Uint32Array)return p.slice();var u=s??p.length;return u<=255?Uint8Array.from(p):u<=65535?Uint16Array.from(p):Uint32Array.from(p)}function wt(p,s){switch(p.length){case 0:return[];case 1:return p[0];default:for(var u=p.reduce((function(x,T){return x+T.length}),0),l=(function(x,T,M){return x instanceof Uint8Array?new Uint8Array(T):x instanceof Uint16Array?new Uint16Array(T):x instanceof Uint32Array?new Uint32Array(T):gt(T,M)})(p[0],u,s),f=0,d=0,_=p;d<_.length;d++){var w=_[d];l.set(w,f),f+=w.length}return l}}function Z(p,s){return p<s?-1:p>s?1:0}function at(p,s){return p<s?1:p>s?-1:0}function ut(p,s){if(p.length<2)return p;switch(s.length){case 0:return p.sort();case 1:var u=s[0].asc?Z:at,l=s[0].lookup;return p.sort((function(M,N){var I=u(l[M],l[N]);return I!==0?I:M-N}));case 2:var f=s[0].asc?Z:at,d=s[0].lookup,_=s[1].asc?Z:at,w=s[1].lookup;return p.sort((function(M,N){var I=f(d[M],d[N]);return(I=I!==0?I:_(w[M],w[N]))!==0?I:M-N}));default:var x=s.length,T=s.map((function(M){return M.asc?Z:at}));return p.sort((function(M,N){for(var I=0;I<x;++I){var G=s[I].lookup,B=T[I](G[M],G[N]);if(B!==0)return B}return M-N}))}}function _t(p){return Number.isNaN(p)?null:new Date(p)}function mt(p,s){return p===0?null:s[p-1]}function xt(){var p=self,s=new Map,u=function(f){var d=f.data?f.data:s.get(f.refData),_=f.indices?f.indices:f.refIndices?s.get(f.refIndices):void 0;return f.refData&&s.set(f.refData,d),f.refIndices&&s.set(f.refIndices,_),{data:d,indices:_}},l={sort:function(f){f.sortOrders&&ut(f.indices,f.sortOrders);var d=f.indices;p.postMessage({type:f.type,uid:f.uid,ref:f.ref,order:d},[f.indices.buffer])},setRef:function(f){f.data?s.set(f.ref,f.data):s.delete(f.ref)},deleteRef:function(f){if(f.startsWith)for(var d=0,_=Array.from(s.keys());d<_.length;d++){var w=_[d];w.startsWith(f.ref)&&s.delete(w)}else s.delete(f.ref)},dateStats:function(f){var d=u(f),_=d.data,w=d.indices,x=Tt(f.template);if(w)for(var T=0;T<w.length;++T){var M=_[w[T]];x.push(_t(M))}else for(var N=0;N<_.length;++N)x.push(_t(_[N]));p.postMessage({type:f.type,uid:f.uid,stats:x.build()})},categoricalStats:function(f){var d=u(f),_=d.data,w=d.indices,x=f.categories.map((function(I){return{name:I}})),T=Ft(x);if(w)for(var M=0;M<w.length;++M)T.push(mt(_[w[M]],x));else for(var N=0;N<_.length;++N)T.push(mt(_[N],x));p.postMessage({type:f.type,uid:f.uid,stats:T.build()})},numberStats:function(f){var d,_=u(f),w=_.data,x=_.indices,T=dt((d=f.domain)!==null&&d!==void 0?d:[0,1],f.numberOfBins);if(x)for(var M=0;M<x.length;++M)T.push(w[x[M]]);else for(var N=0;N<w.length;++N)T.push(w[N]);p.postMessage({type:f.type,uid:f.uid,stats:T.build()})},boxplotStats:function(f){var d,_=u(f),w=_.data,x=_.indices,T=lt(x?x.length:void 0);if(x){for(var M=0;M<x.length;++M)T.push(w[x[M]]);d=T.build()}else d=T.buildArr(w);p.postMessage({type:f.type,uid:f.uid,stats:d})},stringStats:function(f){var d,_=u(f),w=_.data,x=_.indices,T=zt((d=f.topN)!==null&&d!==void 0?d:10);if(x)for(var M=0;M<x.length;++M)T.push(w[x[M]]);else for(var N=0;N<w.length;++N)T.push(w[N]);p.postMessage({type:f.type,uid:f.uid,stats:T.build()})}};p.addEventListener("message",(function(f){var d=f.data;if(typeof d.uid=="number"&&typeof d.type=="string"){var _=l[d.type];_&&_(d)}}))}var tt,et,ht={name:"Default",color:"gray"},St={name:"Others",color:"gray"};function It(p){return p&&p.group==null}function Gt(p){return typeof p.getCollapsed=="function"}function Dt(p){var s=[],u=p.trim();if(!u)return s;for(var l="",f=!1,d=0;d<u.length;){var _=u[d];_==='"'?f?(l.trim()&&s.push(l.trim()),l="",f=!1):(l.trim()&&l.split(/[\s,]+/).forEach((function(w){w.trim()&&s.push(w.trim())})),l="",f=!0):f?l+=_:_===" "||_===","?(l.trim()&&s.push(l.trim()),l=""):l+=_,d++}return l.trim()&&(f?s.push(l.trim()):l.split(/[\s,]+/).forEach((function(w){w.trim()&&s.push(w.trim())}))),s}function Lt(p,s,u){u===void 0&&(u=et.contains);var l=p.toLowerCase();return s.some((function(f){var d=f.toLowerCase();switch(u){case et.exact:return l===d;case et.startsWith:return l.startsWith(d);case et.contains:default:return l.includes(d)}}))}function Ht(p,s,u){if(u===void 0&&(u=et.contains),!p)return!1;if(s instanceof RegExp)return s.test(p);var l=s.toString();if(!l||l.trim()==="")return!0;if(u===et.exact)return p.toLowerCase()===l.toLowerCase();var f=Dt(l);if(f.length>1)return Lt(p,f,u);if(f.length===1){var d=p.toLowerCase(),_=f[0].toLowerCase();switch(u){case et.startsWith:return d.startsWith(_);case et.contains:default:return d.includes(_)}}var w=p.toLowerCase(),x=l.toLowerCase();switch(u){case et.startsWith:return w.startsWith(x);case et.contains:default:return w.includes(x)}}(function(p){p[p.BINARY=0]="BINARY",p[p.COUNT=1]="COUNT",p[p.UINT8=2]="UINT8",p[p.UINT16=3]="UINT16",p[p.UINT32=4]="UINT32",p[p.INT8=5]="INT8",p[p.INT16=6]="INT16",p[p.INT32=7]="INT32",p[p.FLOAT=8]="FLOAT",p[p.FLOAT_ASC=9]="FLOAT_ASC",p[p.DOUBLE=10]="DOUBLE",p[p.DOUBLE_ASC=11]="DOUBLE_ASC",p[p.STRING=12]="STRING"})(tt||(tt={})),(function(p){p.contains="contains",p.exact="exact",p.startsWith="startsWith",p.regex="regex"})(et||(et={}));var Jt=i(866),pe=i.n(Jt);function Ge(p,s){return(typeof Jt=="function"?Jt:pe())(p,s)}function me(p,s){return p.length===s.length&&p.every((function(u,l){return u===s[l]}))}function $e(p){return p.replace(/[\s!#$%&'()*+,./:;<=>?@[\\\]^`{|}~]+/g,"_")}function _e(p){for(;p.lastChild;)p.removeChild(p.lastChild);return p}function er(p){for(var s=[],u=0,l=p;u<l.length;u++){var f=l[u];if(Array.isArray(f))for(var d=0,_=f;d<_.length;d++){var w=_[d];s.push(w)}else s.push(f)}return s}function Qr(p){switch(p){case"min":return"Minimum";case"max":return"Maximum";case"median":return"Median";case"mean":return"Mean";case"q1":return"25% Quantile";case"q3":return"75% Quantile";default:return String(p)}}var Tn={value:()=>{}};function kn(){for(var p,s=0,u=arguments.length,l={};s<u;++s){if(!(p=arguments[s]+"")||p in l||/[\s.]/.test(p))throw new Error("illegal type: "+p);l[p]=[]}return new va(l)}function va(p){this._=p}function Ns(p,s){for(var u,l=0,f=p.length;l<f;++l)if((u=p[l]).name===s)return u.value}function Ho(p,s,u){for(var l=0,f=p.length;l<f;++l)if(p[l].name===s){p[l]=Tn,p=p.slice(0,l).concat(p.slice(l+1));break}return u!=null&&p.push({name:s,value:u}),p}va.prototype=kn.prototype={constructor:va,on:function(p,s){var u,l,f=this._,d=(l=f,(p+"").trim().split(/^|\s+/).map((function(x){var T="",M=x.indexOf(".");if(M>=0&&(T=x.slice(M+1),x=x.slice(0,M)),x&&!l.hasOwnProperty(x))throw new Error("unknown type: "+x);return{type:x,name:T}}))),_=-1,w=d.length;if(!(arguments.length<2)){if(s!=null&&typeof s!="function")throw new Error("invalid callback: "+s);for(;++_<w;)if(u=(p=d[_]).type)f[u]=Ho(f[u],p.name,s);else if(s==null)for(u in f)f[u]=Ho(f[u],p.name,null);return this}for(;++_<w;)if((u=(p=d[_]).type)&&(u=Ns(f[u],p.name)))return u},copy:function(){var p={},s=this._;for(var u in s)p[u]=s[u].slice();return new va(p)},call:function(p,s){if((u=arguments.length-2)>0)for(var u,l,f=new Array(u),d=0;d<u;++d)f[d]=arguments[d+2];if(!this._.hasOwnProperty(p))throw new Error("unknown type: "+p);for(d=0,u=(l=this._[p]).length;d<u;++d)l[d].value.apply(s,f)},apply:function(p,s,u){if(!this._.hasOwnProperty(p))throw new Error("unknown type: "+p);for(var l=this._[p],f=0,d=l.length;f<d;++f)l[f].value.apply(s,u)}};const T9=kn;var mM=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function Fe(p){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];return s.map((function(l){return"".concat(l).concat(p)}))}const ga=(function(){function p(){var s=this.createEventList();this.listenerEvents=new Set(s),this.listeners=T9.apply(void 0,s);var u=this;this.forwarder=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];u.fireImpl.apply(u,mM([this.type,this.primaryType,this.origin],l,!1))}}return p.prototype.on=function(s,u){var l=this;return Array.isArray(s)?s.forEach((function(f){l.listenerEvents.has(f.split(".")[0])&&(l.listenersChanged(f,!!u),l.listeners.on(f,u))})):this.listenerEvents.has(s.split(".")[0])&&(this.listenersChanged(s,!!u),this.listeners.on(s,u)),this},p.prototype.listenersChanged=function(s,u){},p.prototype.createEventList=function(){return[]},p.prototype.fire=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];var f=Array.isArray(s)?s[0]:s;this.fireImpl.apply(this,mM([s,f,this],u,!1))},p.prototype.fireImpl=function(s,u,l){for(var f=this,d=[],_=3;_<arguments.length;_++)d[_-3]=arguments[_];var w=function(x){if(f.listenerEvents.has(x)){var T={source:f,origin:l,type:x,primaryType:u,args:d};f.listeners.apply(x,T,d)}};Array.isArray(s)?s.forEach(w):w(s)},p.prototype.forward=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];s.on(u,this.forwarder)},p.prototype.unforward=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];s.on(u,null)},p})();i(732);var _M=Symbol.for("SupportType"),bM=Symbol.for("Category");function Hc(){return Reflect.metadata(_M,!0)}function Ua(p){return p===void 0&&(p="ascending"),p==="descending"?Reflect.metadata(Symbol.for("sortDescendingByDefault"),!0):function(s){return s}}function Rs(p){var s=p.constructor;return!Reflect.hasMetadata(Symbol.for("sortDescendingByDefault"),s)}var SM=function(){this.string={label:"label",order:1,name:"string",featureLevel:"basic"},this.categorical={label:"categorical",order:2,name:"categorical",featureLevel:"basic"},this.number={label:"numerical",order:3,name:"number",featureLevel:"basic"},this.date={label:"date",order:4,name:"date",featureLevel:"basic"},this.array={label:"matrix",order:5,name:"array",featureLevel:"advanced"},this.map={label:"map",order:6,name:"map",featureLevel:"advanced"},this.composite={label:"combined",order:7,name:"composite",featureLevel:"advanced"},this.support={label:"support",order:8,name:"support",featureLevel:"advanced"},this.other={label:"others",order:9,name:"other",featureLevel:"advanced"}},Bl=new SM;function ln(p){return Reflect.metadata(bM,p)}function db(p){var s=Xh(p),u=p.desc.type;return s===Bl.string||s===Bl.categorical?"abc":s===Bl.number||u==="rank"||Rs(p)||new Set(["rank","number","numbers","ordinal","boxplot","script","reduce","stack"]).has(u)?"num":void 0}function qe(){for(var p=[],s=0;s<arguments.length;s++)p[s]=arguments[s];return Reflect.metadata(Symbol.for("toolbarIcon"),p)}function vi(p){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];return Reflect.metadata(Symbol.for("toolbarDialogAddon".concat(p)),s)}function Hl(p){var s=p.constructor;return Reflect.hasMetadata(_M,s)}function Xh(p){var s,u,l=(s=Reflect.getMetadata(bM,typeof p=="function"?p:Object.getPrototypeOf(p).constructor))!==null&&s!==void 0?s:"other";return(u=Bl[l])!==null&&u!==void 0?u:Bl.other}function wM(p,s){var u=s[typeof p=="string"?p:p.type];return u?Xh(u):Bl.other}var C9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Oe="#a0a0a0",A9=(function(p){function s(u,l){var f=p.call(this)||this;return f.desc=l,f.width=100,f.parent=null,f.uid=$e(u),f.renderer=f.desc.renderer||f.desc.type,f.groupRenderer=f.desc.groupRenderer||f.desc.type,f.summaryRenderer=f.desc.summaryRenderer||f.desc.type,f.width=f.desc.width!=null&&f.desc.width>0?f.desc.width:100,f.visible=f.desc.visible!==!1,f.metadata={label:l.label||f.id,summary:l.summary||"",description:l.description||""},f}return C9(s,p),Object.defineProperty(s.prototype,"fixed",{get:function(){return!!this.desc.fixed},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"frozen",{get:function(){return!!this.desc.frozen},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this.uid},enumerable:!1,configurable:!0}),s.prototype.assignNewId=function(u){this.uid=$e(u())},Object.defineProperty(s.prototype,"label",{get:function(){return this.metadata.label},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"description",{get:function(){return this.metadata.description},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fqid",{get:function(){return this.parent?"".concat(this.parent.fqid,"_").concat(this.id):this.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fqpath",{get:function(){return this.parent?"".concat(this.parent.fqpath,"@").concat(this.parent.indexOf(this)):""},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_WIDTH_CHANGED,s.EVENT_LABEL_CHANGED,s.EVENT_METADATA_CHANGED,s.EVENT_VISIBILITY_CHANGED,s.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,s.EVENT_RENDERER_TYPE_CHANGED,s.EVENT_GROUP_RENDERER_TYPE_CHANGED,s.EVENT_DIRTY,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.getWidth=function(){return this.width},s.prototype.hide=function(){this.setVisible(!1)},s.prototype.show=function(){this.setVisible(!0)},s.prototype.isVisible=function(){return this.visible},s.prototype.getVisible=function(){return this.isVisible()},s.prototype.setVisible=function(u){this.visible!==u&&this.fire([s.EVENT_VISIBILITY_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.visible,this.visible=u)},s.prototype.flatten=function(u,l,f,d){var _=this.getWidth();return u.push({col:this,offset:l,width:_}),_},s.prototype.setWidth=function(u){Kt(this.width,u,.5)||this.fire([s.EVENT_WIDTH_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.width,this.width=u)},s.prototype.setWidthImpl=function(u){this.width=u},s.prototype.setMetaData=function(u){if(u.label!==this.label||this.description!==u.description||this.metadata.summary!==u.summary){var l=this.getMetaData();this.metadata={label:u.label,summary:u.summary,description:u.description},this.fire([s.EVENT_LABEL_CHANGED,s.EVENT_METADATA_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY],l,this.getMetaData())}},s.prototype.getMetaData=function(){return Object.assign({},this.metadata)},s.prototype.sortByMe=function(u,l){u===void 0&&(u=Rs(this)),l===void 0&&(l=0);var f=this.findMyRanker();return!!f&&f.sortBy(this,u,l)},s.prototype.groupByMe=function(){var u=this.findMyRanker();return!!u&&u.toggleGrouping(this)},s.prototype.isGroupedBy=function(){var u=this.findMyRanker();return u?u.getGroupCriteria().indexOf(this):-1},s.prototype.toggleMySorting=function(){var u=this.findMyRanker();return!!u&&u.toggleSorting(this)},s.prototype.isSortedByMeImpl=function(u){var l=this,f=this.findMyRanker();if(!f)return{asc:void 0,priority:void 0};var d=u(f),_=d.findIndex((function(w){return w.col===l}));return _<0?{asc:void 0,priority:void 0}:{asc:d[_].asc?"asc":"desc",priority:_}},s.prototype.isSortedByMe=function(){return this.isSortedByMeImpl((function(u){return u.getSortCriteria()}))},s.prototype.groupSortByMe=function(u,l){u===void 0&&(u=Rs(this)),l===void 0&&(l=0);var f=this.findMyRanker();return!!f&&f.groupSortBy(this,u,l)},s.prototype.toggleMyGroupSorting=function(){var u=this.findMyRanker();return!!u&&u.toggleGroupSorting(this)},s.prototype.isGroupSortedByMe=function(){return this.isSortedByMeImpl((function(u){return u.getGroupSortCriteria()}))},s.prototype.removeMe=function(){return!this.fixed&&!!this.parent&&this.parent.remove(this)},s.prototype.attach=function(u){this.parent=u},s.prototype.detach=function(){this.parent=null},s.prototype.insertAfterMe=function(u){return!!this.parent&&this.parent.insertAfter(u,this)!=null},s.prototype.insertBeforeMe=function(u){return!!this.parent&&this.parent.insertBefore(u,this)!=null},s.prototype.nextSibling=function(){var u;if(this.parent){var l=this.parent.indexOf(this);return l<0?null:(u=this.parent.at(l+1))!==null&&u!==void 0?u:null}return null},s.prototype.previousSibling=function(){var u;if(this.parent){var l=this.parent.indexOf(this);return l<1?null:(u=this.parent.at(l-1))!==null&&u!==void 0?u:null}return null},s.prototype.findMyRanker=function(){return this.parent?this.parent.findMyRanker():null},s.prototype.dump=function(u){var l={id:this.id,desc:u(this.desc),width:this.width};return this.label!==(this.desc.label||this.id)&&(l.label=this.label),this.metadata.summary&&(l.summary=this.metadata.summary),this.getRenderer()!==this.desc.type&&(l.renderer=this.getRenderer()),this.getGroupRenderer()!==this.desc.type&&(l.groupRenderer=this.getGroupRenderer()),this.getSummaryRenderer()!==this.desc.type&&(l.summaryRenderer=this.getSummaryRenderer()),l},s.prototype.restore=function(u,l){this.uid=u.id,this.width=u.width||this.width,this.metadata={label:u.label||this.label,summary:u.summary||"",description:this.description},(u.renderer||u.rendererType)&&(this.renderer=u.renderer||u.rendererType||this.renderer),u.groupRenderer&&(this.groupRenderer=u.groupRenderer),u.summaryRenderer&&(this.summaryRenderer=u.summaryRenderer)},s.prototype.getLabel=function(u){var l=this.getValue(u);return l==null?"":String(l)},s.prototype.getValue=function(u){return""},s.prototype.getExportValue=function(u,l){return l==="text"?this.getLabel(u):this.getValue(u)},s.prototype.getColor=function(u){return Oe},s.prototype.toCompareValue=function(u,l){return 0},s.prototype.toCompareValueType=function(){return tt.UINT8},s.prototype.group=function(u,l){return Object.assign({},ht)},s.prototype.toCompareGroupValue=function(u,l,f){return l.name.toLowerCase()},s.prototype.toCompareGroupValueType=function(){return tt.STRING},s.prototype.isFiltered=function(){return!1},s.prototype.clearFilter=function(){return!1},s.prototype.filter=function(u,l){return u!=null},s.prototype.getRenderer=function(){return this.renderer},s.prototype.getGroupRenderer=function(){return this.groupRenderer},s.prototype.getSummaryRenderer=function(){return this.summaryRenderer},s.prototype.setRenderer=function(u){u!==this.renderer&&this.fire([s.EVENT_RENDERER_TYPE_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.renderer,this.renderer=u)},s.prototype.setGroupRenderer=function(u){u!==this.groupRenderer&&this.fire([s.EVENT_GROUP_RENDERER_TYPE_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.groupRenderer,this.groupRenderer=u)},s.prototype.setSummaryRenderer=function(u){u!==this.summaryRenderer&&this.fire([s.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY],this.summaryRenderer,this.summaryRenderer=u)},s.prototype.markDirty=function(u){switch(u===void 0&&(u="all"),u){case"header":return this.fire([s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY]);case"values":return this.fire([s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES,s.EVENT_DIRTY]);default:return this.fire([s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES,s.EVENT_DIRTY])}},s.prototype.getHeaderLabel=function(u){return this.desc.labelAsHTML===!0?{content:this.label,asHTML:!0}:typeof this.desc.labelAsHTML=="function"?{content:this.desc.labelAsHTML(this,u),asHTML:!0}:{content:this.label,asHTML:!1}},s.prototype.getSummaryLabel=function(u,l){l===void 0&&(l=!1);var f=this.metadata.summary;return!f&&l&&(f=this.description),this.desc.summaryAsHTML===!0?{content:f,asHTML:!0}:typeof this.desc.summaryAsHTML=="function"?{content:this.desc.summaryAsHTML(this,u),asHTML:!0}:{content:f,asHTML:!1}},s.FLAT_ALL_COLUMNS=-1,s.EVENT_WIDTH_CHANGED="widthChanged",s.EVENT_LABEL_CHANGED="labelChanged",s.EVENT_METADATA_CHANGED="metaDataChanged",s.EVENT_DIRTY="dirty",s.EVENT_DIRTY_HEADER="dirtyHeader",s.EVENT_DIRTY_VALUES="dirtyValues",s.EVENT_DIRTY_CACHES="dirtyCaches",s.EVENT_RENDERER_TYPE_CHANGED="rendererTypeChanged",s.EVENT_GROUP_RENDERER_TYPE_CHANGED="groupRendererChanged",s.EVENT_SUMMARY_RENDERER_TYPE_CHANGED="summaryRendererChanged",s.EVENT_VISIBILITY_CHANGED="visibilityChanged",s})(ga);const vt=A9;var D9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),M9=(function(p){function s(u,l){var f=p.call(this,u,l)||this;return f.accessor=l.accessor||function(){return null},f.loaded=l.lazyLoaded!==!0,f}return D9(s,p),s.prototype.onDataUpdate=function(u){},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_DATA_LOADED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.getLabel=function(u){if(!this.isLoaded())return"";var l=this.getValue(u);return l==null?"":String(l)},s.prototype.getRaw=function(u){return this.isLoaded()?this.accessor(u,this.desc):null},s.prototype.getValue=function(u){return this.getRaw(u)},s.prototype.isLoaded=function(){return this.loaded},s.prototype.setLoaded=function(u){this.loaded!==u&&this.fire([s.EVENT_DATA_LOADED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.loaded,this.loaded=u)},s.prototype.getRenderer=function(){return this.isLoaded()?p.prototype.getRenderer.call(this):s.RENDERER_LOADING},s.prototype.dump=function(u){var l=p.prototype.dump.call(this,u);return l.loaded=this.loaded,this.loaded||l.renderer!==s.RENDERER_LOADING||delete l.renderer,l},s.prototype.restore=function(u,l){u.loaded!==void 0&&(this.loaded=u.loaded),p.prototype.restore.call(this,u,l)},s.EVENT_DATA_LOADED="dataLoaded",s.RENDERER_LOADING="loading",s})(vt);const Tr=M9;function Ze(p){return p instanceof vt&&typeof p.getMapping=="function"||!(p instanceof vt)&&Qe(p)&&(p.type.startsWith("number")||p.type.startsWith("boxplot"))}function Qe(p){return p instanceof vt&&typeof p.getNumber=="function"||!(p instanceof vt)&&p.type.match(/(number|stack|ordinal)/)!=null}var zc,tn;function zo(p){return typeof p.getBoxPlotData=="function"}function Cn(p){return zo(p)&&typeof p.getNumbers=="function"}(function(p){p.min="min",p.max="max",p.median="median",p.q1="q1",p.q3="q3"})(zc||(zc={})),(function(p){p.min="min",p.max="max",p.median="median",p.q1="q1",p.q3="q3",p.mean="mean"})(tn||(tn={}));var L9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),xM=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))},N9=(function(p){function s(){var l=p!==null&&p.apply(this,arguments)||this;return l._children=[],l}var u;return L9(s,p),u=s,s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_FILTER_CHANGED,u.EVENT_ADD_COLUMN,u.EVENT_MOVE_COLUMN,u.EVENT_REMOVE_COLUMN])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.assignNewId=function(l){p.prototype.assignNewId.call(this,l),this._children.forEach((function(f){return f.assignNewId(l)}))},Object.defineProperty(s.prototype,"children",{get:function(){return this._children.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"length",{get:function(){return this._children.length},enumerable:!1,configurable:!0}),s.prototype.flatten=function(l,f,d,_){d===void 0&&(d=0),_===void 0&&(_=0);var w=0;return(d===0||d<=vt.FLAT_ALL_COLUMNS)&&(w=this.getWidth(),l.push({col:this,offset:f,width:w}),d===0)||this._children.forEach((function(x){x.isVisible()&&d<=vt.FLAT_ALL_COLUMNS&&x.flatten(l,f,d-1,_)})),w},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.children=this._children.map((function(d){return d.dump(l)})),f},s.prototype.restore=function(l,f){var d=this;l.children.forEach((function(_){var w=f(_);w&&d.push(w)})),p.prototype.restore.call(this,l,f)},s.prototype.insert=function(l,f){return!Qe(l)&&this.canJustAddNumbers?null:(this._children.splice(f,0,l),this.insertImpl(l,f))},s.prototype.move=function(l,f){if(l.parent!==this)return null;var d=this._children.indexOf(l);return f===d?l:(this._children.splice(d,1),this._children.splice(d<f?f-1:f,0,l),this.moveImpl(l,f,d))},s.prototype.insertImpl=function(l,f){return l.attach(this),this.forward.apply(this,xM([l],Fe(".combine",vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY,u.EVENT_FILTER_CHANGED,vt.EVENT_RENDERER_TYPE_CHANGED,vt.EVENT_GROUP_RENDERER_TYPE_CHANGED),!1)),this.fire([u.EVENT_ADD_COLUMN,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],l,f),l},s.prototype.moveImpl=function(l,f,d){return this.fire([u.EVENT_MOVE_COLUMN,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY,vt.EVENT_RENDERER_TYPE_CHANGED,vt.EVENT_GROUP_RENDERER_TYPE_CHANGED],l,f,d),l},s.prototype.push=function(l){return this.insert(l,this._children.length)},s.prototype.at=function(l){return this._children[l]},s.prototype.indexOf=function(l){return this._children.indexOf(l)},s.prototype.insertAfter=function(l,f){var d=this.indexOf(f);return d<0?null:this.insert(l,d+1)},s.prototype.moveAfter=function(l,f){var d=this.indexOf(f);return d<0?null:this.move(l,d+1)},s.prototype.insertBefore=function(l,f){var d=this.indexOf(f);return d<0?null:this.insert(l,d)},s.prototype.moveBefore=function(l,f){var d=this.indexOf(f);return d<0?null:this.move(l,d)},s.prototype.remove=function(l){var f=this._children.indexOf(l);return!(f<0)&&(this._children.splice(f,1),this.removeImpl(l,f))},s.prototype.removeImpl=function(l,f){return l.detach(),this.unforward.apply(this,xM([l],Fe(".combine",vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY,u.EVENT_FILTER_CHANGED),!1)),this.fire([u.EVENT_REMOVE_COLUMN,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],l,f),!0},s.prototype.isFiltered=function(){return this._children.some((function(l){return l.isFiltered()}))},s.prototype.clearFilter=function(){return this._children.map((function(l){return l.clearFilter()})).some((function(l){return l}))},s.prototype.filter=function(l){return this._children.every((function(f){return f.filter(l)}))},s.prototype.isLoaded=function(){return this._children.every((function(l){return!(l instanceof Tr||l instanceof u)||l.isLoaded()}))},Object.defineProperty(s.prototype,"canJustAddNumbers",{get:function(){return!1},enumerable:!1,configurable:!0}),s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_ADD_COLUMN="addColumn",s.EVENT_MOVE_COLUMN="moveColumn",s.EVENT_REMOVE_COLUMN="removeColumn",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("compositeContained","splitCombined"),ln("composite")],s)})(vt);const vn=N9;function ze(p){for(var s=p.length/6|0,u=new Array(s),l=0;l<s;)u[l]="#"+p.slice(6*l,6*++l);return u}const Uc=ze("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Jv=ze("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var EM,R9=(function(){function p(s){s===void 0&&(s=[]),this[EM]=Symbol("OrderedSet"),this.set=new Set,this.list=[],this.addAll(Array.isArray(s)?s:Array.from(s))}return Object.defineProperty(p.prototype,"size",{get:function(){return this.set.size},enumerable:!1,configurable:!0}),p.prototype.clear=function(){this.set.clear(),this.list.splice(0,this.list.length)},p.prototype.addAll=function(s){var u=this;return s.forEach((function(l){return u.add(l)})),this},p.prototype.add=function(s){return this.set.has(s)||(this.set.add(s),this.list.push(s)),this},p.prototype.has=function(s){return this.set.has(s)},p.prototype.delete=function(s){if(!this.set.delete(s))return!1;var u=this.list.indexOf(s);return console.assert(u>=0),this.list.splice(u,1),!0},p.prototype.deleteAll=function(s){var u=this;return s.reduce((function(l,f){return u.delete(f)&&l}),!0)},p.prototype.forEach=function(s,u){this.list.forEach((function(l){s.call(this,l,l,this)}),u)},p.prototype[EM=Symbol.toStringTag,Symbol.iterator]=function(){return this.list[Symbol.iterator]()},p})();const Zh=R9;var Kh=function(){return Kh=Object.assign||function(p){for(var s,u=1,l=arguments.length;u<l;u++)for(var f in s=arguments[u])Object.prototype.hasOwnProperty.call(s,f)&&(p[f]=s[f]);return p},Kh.apply(this,arguments)},TM=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function fr(p,s){return s===void 0&&(s={}),Object.keys(s).forEach((function(u){var l=u;p[l]===void 0&&(p[l]=s[l])})),p}function vb(p){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];return new(Function.bind.apply(Function,TM(TM([void 0,"value"],s,!1),[`
  const escapedValue = encodeURIComponent(String(value));
  return \``.concat(p,"`;\n ")],!1)))}function CM(p){if(p.length===0)return Kh({},ht);if(p.length===1&&!p[0].parent)return Kh({},p[0]);for(var s=[],u=0,l=p;u<l.length;u++){for(var f=l[u],d=[],_=f;_.parent;)d.unshift(_.parent),_=_.parent;s.push.apply(s,d),s.push(Object.assign({subGroups:[]},f))}return s.slice(1).forEach((function(w,x){w.parent=s[x],w.name="".concat(s[x].name,"  ").concat(w.name),w.color=w.color!==Oe?w.color:w.parent.color,s[x].subGroups=[w]})),s[s.length-1]}function AM(p){var s=Object.assign({},p);return delete s.order,Qv(s)&&(s.subGroups=[]),s.parent&&(s.parent=AM(s.parent),s.parent.subGroups.push(s)),s}function Jh(p){return p.name}function Qv(p){return p.subGroups!=null}function gb(p){for(var s=new Zh,u=0,l=p;u<l.length;u++){for(var f=l[u];f.parent;)f=f.parent;s.add(f)}return Array.from(s)}var yb=Uc.concat(Jv),I9=yb.length;function mb(){var p=0;return function(){return yb[p++%yb.length]}}function DM(p,s){for(var u=[],l=0;l<p.length;++l)u.push(s(p[l],l));return u}function tg(p,s){for(var u=0;u<p.length;++u)if(!s(p[u],u))return!1;return!0}function Wc(p,s){for(var u=0;u<p.length;++u)s(p[u],u)}function _b(p){return p==null||typeof p!="number"&&!Number.isNaN(p)?tt.UINT32:p<=255?tt.UINT8:p<=65535?tt.UINT16:tt.UINT32}var MM=new Map;function lr(p,s){return s===void 0&&(s=""),p[0]==="$"&&(p=p.slice(1)),MM.has(p)?MM.get(p):s}var O9=lr("lu_selected_color","#ffcf76"),ji=Number.parseInt(lr("lu_engine_grip_gap","5px"),10),Qh=Number.parseFloat(lr("lu_filtered_opacity","0.2")),tp={width:Number.parseInt(lr("lu_missing_dash_width","2px"),10),height:Number.parseInt(lr("lu_missing_dash_height","10px"),10),color:lr("lu_missing_dash_color","#a0a0a0")},bb={color:lr("lu_renderer_upset_color"),inactive:Number.parseFloat(lr("lu_renderer_upset_inactive_opacity","0.1"))},Vn={color:lr("lu_renderer_dot_color","gray"),size:Number.parseInt(lr("lu_renderer_dot_size","5px"),10),opacity:Number.parseFloat(lr("lu_renderer_dot_opacity","0.5")),opacitySingle:Number.parseFloat(lr("lu_renderer_dot_opacity","1"))},jc={color:lr("lu_renderer_tick_color","gray"),size:Number.parseInt(lr("lu_renderer_tick_size","3px"),10),opacity:Number.parseFloat(lr("lu_renderer_tick_opacity","1"))},eg={box:lr("lu_renderer_boxplot_box","#e0e0e0"),stroke:lr("lu_renderer_boxplot_stroke","black"),sort:lr("lu_renderer_boxplot_sort_indicator","#ffa500"),outlier:lr("lu_renderer_boxplot_outlier","#e0e0e0")},rg={width:Number.parseInt(lr("lu_aggregate_square_bracket_width","4px"),10),strokeWidth:Number.parseInt(lr("lu_aggregate_square_bracket_stroke_width","2px"),10),color:lr("lu_aggregate_square_bracket_stroke_color","#000"),levelOffset:Number.parseInt(lr("lu_aggregate_level_offset","2px"),10),levelWidth:Number.parseInt(lr("lu_aggregate_level_width","22px"),10)},P9=Number.parseInt(lr("lu_slope_width","200px"),10),un=4,LM=lr("lu_css_prefix","lu"),NM="le",RM=Number.parseInt(lr("lu_engine_resize_space","50px"),10),k9=Number.parseInt(lr("lu_engine_resize_animation_duration","1000ms"),10),IM=Number.parseInt(lr("lu_aggregate_level_width","22px"),10);function z(p){return p?"".concat(LM,"-").concat(p):LM}function Se(p){return p?"".concat(NM,"-").concat(p):NM}function Kn(p){return'<span class="'.concat(z("aria"),'" aria-hidden="true">').concat(p,"</span>")}var rr,V9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function ng(p){return p===void 0&&(p="Aggregate Groups"),{type:"aggregate",label:p,fixed:!0}}(function(p){p.COLLAPSE="collapse",p.EXPAND="expand",p.EXPAND_TOP_N="expand_top"})(rr||(rr={}));var G9=(function(p){function s(l,f){return p.call(this,l,fr(f,{width:2*IM}))||this}var u;return V9(s,p),u=s,Object.defineProperty(s.prototype,"frozen",{get:function(){return this.desc.frozen!==!1},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_AGGREGATE])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.isAggregated=function(l){var f=this.findMyRanker();return!!this.desc.isAggregated&&this.desc.isAggregated(f,l)},s.prototype.setAggregated=function(l,f){var d=typeof f=="boolean"?f?rr.EXPAND:rr.COLLAPSE:f,_=this.findMyRanker();return(this.desc.isAggregated&&this.desc.isAggregated(_,l))===d||(this.desc.setAggregated&&this.desc.setAggregated(_,l,d),this.fire(u.EVENT_AGGREGATE,_,l,d!==rr.COLLAPSE,d),!1)},s.EVENT_AGGREGATE="aggregate",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("setShowTopN","rename"),Hc(),ln("support")],s)})(vt);const ep=G9;var gi={apply:function(p){return p?p.color:Oe},toJSON:function(){return null},clone:function(){return gi},eq:function(p){return p===gi}},Sb=(function(){function p(s){this.map=new Map(Array.from(s.entries()).map((function(u){var l=u[0],f=u[1];return[typeof l=="string"?l:l.name,f]})))}return p.prototype.apply=function(s){return this.map.has(s.name)?this.map.get(s.name):gi.apply(s)},p.prototype.toJSON=function(){var s={};return this.map.forEach((function(u,l){return s[l]=u})),{type:"replace",map:s}},p.prototype.clone=function(){return new p(new Map(this.map.entries()))},p.prototype.eq=function(s){var u=this;return s instanceof p&&s.map.size===this.map.size&&Array.from(this.map.keys()).every((function(l){return u.map.get(l)===s.map.get(l)}))},p.restore=function(s,u){s.type==="replace"&&(s=s.map);for(var l=new Map(u.map((function(x){return[x.name,x]}))),f=new Map,d=0,_=Object.keys(s);d<_.length;d++){var w=_[d];l.has(w)&&f.set(l.get(w),s[w])}return new p(f)},p})();function F9(p,s){return p?Sb.restore(p,s):gi}function Hr(p){if(p==null||p===void 0||p===""||p==="NA"||p==="na"||p==="Na"||p==="nA"||p==="NaN"||typeof p=="number"&&Number.isNaN(p))return!0;if(!Array.isArray(p))return!1;for(var s=0,u=p;s<u.length;s++)if(!Hr(u[s]))return!1;return!0}function rp(p){return p==null||p===void 0||Number.isNaN(p)}var wb=-1,xb=1,Uo={name:"Missing values",color:"gray"};function OM(p,s,u){if(u===void 0&&(u=function(){return Oe}),typeof p=="string")return{name:p,label:p,color:u(),value:s};var l=p.name==null?String(p.value):p.name;return{name:l,label:p.label||l,color:p.color||u(),value:p.value!=null?p.value:s}}function Eb(p,s){var u=p==null||Number.isNaN(p.value),l=s==null||Number.isNaN(s.value);return u||p==null?l?0:xb:l||s==null?-xb:p.value===s.value?p.label.toLowerCase().localeCompare(s.label.toLowerCase()):p.value-s.value}function Wa(p){if(!p.categories)return[];var s=mb(),u=p.categories.length-1;return p.categories.map((function(l,f){return OM(l,f/u,s)})).sort(Eb)}function PM(p){return p==null||!p.filterMissing&&(p.filter==null||p.filter==="")}function Tb(p,s){return p===s||(p==null||s==null?PM(p)===PM(s):p.filterMissing===s.filterMissing&&typeof p.filter==typeof s.filter&&Array.isArray(p.filter)===Array.isArray(s.filter)&&(Array.isArray(p.filter)?(function(u,l){var f=u!=null?u.length:0;return f===(l!=null?l.length:0)&&(f===0||u.every((function(d,_){return d===l[_]})))})(p.filter,s.filter):String(p.filter)===String(s.filter)))}function zl(p,s){if(p==null)return!0;if(s==null||Number.isNaN(s.value))return!p.filterMissing;var u=p.filter;return Array.isArray(u)?u.includes(s.name):typeof u=="string"&&u.length>0?s.name.toLowerCase().includes(u.toLowerCase()):!(u instanceof RegExp)||u.test(s.name)}var B9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),kM=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))},H9=(function(p){function s(l,f){var d=p.call(this,l,f)||this;return d.lookup=new Map,d.currentFilter=null,d.categories=Wa(f),d.categories.forEach((function(_){return d.lookup.set(_.name,_)})),d.categoryOrder=f.categoryOrder||"given",d.colorMapping=gi,d}var u;return B9(s,p),u=s,s.prototype.onDataUpdate=function(l){var f,d=this;if(p.prototype.onDataUpdate.call(this,l),!Array.isArray(this.desc.categories)||this.categoryOrder!=="given"){var _=new Map;if(l.forEach((function(x){var T=p.prototype.getValue.call(d,x);if(T){var M=String(T),N=_.get(M);N?N.count++:_.set(M,{name:M,count:1})}})),!Array.isArray(this.desc.categories)){var w=Array.from(_.keys());w.sort(),(f=this.categories).splice.apply(f,kM([0,this.categories.length],Wa({categories:w}),!1)),this.categories.forEach((function(x){return d.lookup.set(x.name,x)}))}this.sortCategories(_)}},s.prototype.sortCategories=function(l){for(var f,d,_,w=this,x=0,T=this.categories;x<T.length;x++)(I=T[x]).value=(_=(d=l.get(I.name))===null||d===void 0?void 0:d.count)!==null&&_!==void 0?_:0;if(typeof this.categoryOrder=="function")(f=this.categories).splice.apply(f,kM([0,this.categories.length],this.categoryOrder(this.categories),!1));else if(this.categoryOrder==="large-to-small"){for(var M=0,N=this.categories;M<N.length;M++){var I;(I=N[M]).value=-1*I.value}this.categories.sort(Eb)}else this.categoryOrder==="small-to-large"&&this.categories.sort(Eb);this.categories.forEach((function(G,B){G.value=B/w.categories.length}))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_FILTER_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getValue=function(l){var f=this.getCategory(l);return f?f.name:null},s.prototype.getCategory=function(l){var f=p.prototype.getValue.call(this,l);if(!f)return null;var d=String(f);return this.lookup.has(d)?this.lookup.get(d):null},Object.defineProperty(s.prototype,"dataLength",{get:function(){return this.categories.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"labels",{get:function(){return this.categories.map((function(l){return l.label}))},enumerable:!1,configurable:!0}),s.prototype.getLabel=function(l){var f=this.getCategory(l);return f?f.label:""},s.prototype.getCategories=function(l){return[this.getCategory(l)]},s.prototype.getValues=function(l){var f=this.getCategory(l);return this.categories.map((function(d){return d===f}))},s.prototype.getLabels=function(l){return this.getValues(l).map(String)},s.prototype.getMap=function(l){var f=this.categories;return this.getValues(l).map((function(d,_){return{key:f[_].label,value:d}}))},s.prototype.getMapLabel=function(l){var f=this.categories;return this.getLabels(l).map((function(d,_){return{key:f[_].label,value:d}}))},s.prototype.getSet=function(l){var f=this.getCategory(l),d=new Set;return f&&d.add(f),d},s.prototype.iterCategory=function(l){return[this.getCategory(l)]},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.filter=this.currentFilter,f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){if(p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories),l.filter!==void 0){var d=l.filter;typeof d=="string"||Array.isArray(d)?this.currentFilter={filter:d,filterMissing:!1}:this.currentFilter=d}else this.currentFilter=null},s.prototype.getColor=function(l){var f=this.getCategory(l);return f?this.colorMapping.apply(f):Oe},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([u.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l,f){return zl(this.currentFilter,f!==void 0?f:this.getCategory(l))},s.prototype.getFilter=function(){return this.currentFilter==null?null:Object.assign({},this.currentFilter)},s.prototype.setFilter=function(l){Tb(this.currentFilter,l)||this.fire([u.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.currentFilter,this.currentFilter=l)},s.prototype.clearFilter=function(){var l=this.isFiltered();return this.setFilter(null),l},s.prototype.toCompareValue=function(l,f){return(d=f!==void 0?f:this.getCategory(l))==null?NaN:d.value;var d},s.prototype.toCompareValueType=function(){return tt.FLOAT_ASC},s.prototype.group=function(l,f){var d=f!==void 0?f:this.getCategory(l);return d?{name:d.label,color:d.color}:Object.assign({},Uo)},s.prototype.toCompareGroupValue=function(l,f,d){return(function(_,w,x){if(y(_))return[NaN,null];var T=(function(M,N){var I=new Map;if(N?N.forEach((function(U){I.set(U,(I.get(U)||0)+1)})):M.forEach((function(U){I.set(U,(I.get(U)||0)+1)})),I.size===0)return{cat:null,count:0};var G=null,B=0;return I.forEach((function(U,$){U>B&&(G=$,B=U)})),{cat:G,count:B}})(_.map((function(M){return w.getCategory(M)})),x);return T.cat==null?[NaN,null]:[T.cat.value,T.cat.name.toLowerCase()]})(l,this,d)},s.prototype.toCompareGroupValueType=function(){return[tt.FLOAT,tt.STRING]},s.prototype.getGroupRenderer=function(){var l=p.prototype.getGroupRenderer.call(this);return l===this.desc.type&&this.isGroupedBy()>=0?"catdistributionbar":l},s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_COLOR_MAPPING_CHANGED="colorMappingChanged",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","group","groupBy","sortGroupBy","filterCategorical","colorMappedCategorical"),ln("categorical")],s)})(Tr);const we=H9;var z9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),U9=(function(p){function s(l,f){var d=p.call(this,l,fr(f,{renderer:"upset",groupRenderer:"upset",summaryRenderer:"categorical"}))||this;return d.lookup=new Map,d.currentFilter=null,d.separator=new RegExp(f.separator||";"),d.categories=Wa(f),d.categories.forEach((function(_){return d.lookup.set(_.name,_)})),d.colorMapping=gi,d}var u;return z9(s,p),u=s,s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},Object.defineProperty(s.prototype,"labels",{get:function(){return this.categories.map((function(l){return l.label}))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dataLength",{get:function(){return this.categories.length},enumerable:!1,configurable:!0}),s.prototype.getValue=function(l){var f=this.getSortedSet(l);return f.length===0?null:f.map((function(d){return d.name}))},s.prototype.getLabel=function(l){return"(".concat(this.getSortedSet(l).map((function(f){return f.label})).join(","),")")},s.prototype.normalize=function(l){return typeof l=="string"?l.split(this.separator).map((function(f){return f.trim()})):Array.isArray(l)?l.map((function(f){return String(f).trim()})):l instanceof Set?Array.from(l).map(String):[]},s.prototype.getSet=function(l){var f=this,d=this.normalize(p.prototype.getValue.call(this,l)),_=new Set;return d.forEach((function(w){var x=f.lookup.get(w);x&&_.add(x)})),_},s.prototype.getSortedSet=function(l){return Array.from(this.getSet(l)).sort((function(f,d){return f.value===d.value?f.label.localeCompare(d.label):f.value-d.value}))},s.prototype.getCategories=function(l){return this.getSortedSet(l)},s.prototype.getColors=function(l){var f=this;return this.getSortedSet(l).map((function(d){return f.colorMapping.apply(d)}))},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){return we.prototype.setColorMapping.call(this,l)},s.prototype.getValues=function(l){var f=this.getSet(l);return this.categories.map((function(d){return f.has(d)}))},s.prototype.getLabels=function(l){return this.getValues(l).map(String)},s.prototype.getMap=function(l){return this.getSortedSet(l).map((function(f){return{key:f.label,value:!0}}))},s.prototype.getMapLabel=function(l){return this.getSortedSet(l).map((function(f){return{key:f.label,value:"true"}}))},s.prototype.iterCategory=function(l){var f=this.getSet(l);return f.size>0?Array.from(f):[null]},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.filter=this.currentFilter,f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){if(p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories),"filter"in l){var d=l.filter;typeof d=="string"||Array.isArray(d)?this.currentFilter={filter:d,filterMissing:!1,mode:"some"}:this.currentFilter=d}else this.currentFilter=null},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l){var f=this;if(!this.currentFilter)return!0;var d=Array.from(this.getSet(l));return d.length===0?zl(this.currentFilter,null):this.currentFilter.mode==="every"?d.every((function(_){return zl(f.currentFilter,_)})):d.some((function(_){return zl(f.currentFilter,_)}))},s.prototype.getFilter=function(){return this.currentFilter==null?null:Object.assign({},this.currentFilter)},s.prototype.setFilter=function(l){var f,d;Tb(f=this.currentFilter,d=l)&&(f&&f.mode?f.mode:"every")===(d&&d.mode?d.mode:"every")||this.fire([we.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.currentFilter,this.currentFilter=l)},s.prototype.clearFilter=function(){return we.prototype.clearFilter.call(this)},s.prototype.toCompareValue=function(l){for(var f=this.getSet(l),d=[f.size],_=0,w=this.categories;_<w.length;_++){var x=w[_];d.push(f.has(x)?1:0)}return d},s.prototype.toCompareValueType=function(){return[_b(this.categories.length)].concat(this.categories.map((function(){return tt.BINARY})))},s.prototype.group=function(l){var f=this.getSet(l),d=f.size,_=this.categories.filter((function(x){return f.has(x)})),w={name:_.length===0?"None":_.map((function(x){return x.name})).join(", "),color:_.length===1?_[0].color:Oe};return w.parent={name:"#".concat(d),color:Oe,subGroups:[w]},w},s.EVENT_FILTER_CHANGED=we.EVENT_FILTER_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=we.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","filterCategorical","colorMappedCategorical","group","groupBy"),ln("categorical")],s)})(Tr);const Ul=U9;var Dr,W9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Yc=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};(function(p){p.UNKNOWN="unknown",p.FILTER_CHANGED="filter",p.SORT_CRITERIA_CHANGED="sort_changed",p.SORT_CRITERIA_DIRTY="sort_dirty",p.GROUP_CRITERIA_CHANGED="group_changed",p.GROUP_CRITERIA_DIRTY="group_dirty",p.GROUP_SORT_CRITERIA_CHANGED="group_sort_changed",p.GROUP_SORT_CRITERIA_DIRTY="group_sort_dirty"})(Dr||(Dr={}));var j9=(function(p){function s(u){var l=p.call(this)||this;return l.id=u,l.sortCriteria=[],l.groupColumns=[],l.groupSortCriteria=[],l.columns=[],l.dirtyOrder=function(f){l.fire([s.EVENT_DIRTY_ORDER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],f)},l.dirtyOrderSortDirty=function(){return l.dirtyOrder([Dr.SORT_CRITERIA_DIRTY])},l.dirtyOrderGroupDirty=function(){return l.dirtyOrder([Dr.GROUP_CRITERIA_DIRTY])},l.dirtyOrderGroupSortDirty=function(){return l.dirtyOrder([Dr.GROUP_SORT_CRITERIA_DIRTY])},l.dirtyOrderFiltering=function(){return l.dirtyOrder([Dr.FILTER_CHANGED])},l.groups=[Object.assign({order:[]},ht)],l.order=[],l.index2pos=[],l.id=$e(u),l.label="Ranking ".concat(u.startsWith("rank")?u.slice(4):u),l}return W9(s,p),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_WIDTH_CHANGED,s.EVENT_FILTER_CHANGED,s.EVENT_LABEL_CHANGED,s.EVENT_GROUPS_CHANGED,s.EVENT_ADD_COLUMN,s.EVENT_REMOVE_COLUMN,s.EVENT_GROUP_CRITERIA_CHANGED,s.EVENT_MOVE_COLUMN,s.EVENT_DIRTY,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES,s.EVENT_GROUP_SORT_CRITERIA_CHANGED,s.EVENT_COLUMN_VISIBILITY_CHANGED,s.EVENT_SORT_CRITERIA_CHANGED,s.EVENT_DIRTY_ORDER,s.EVENT_ORDER_CHANGED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.assignNewId=function(u){this.id=$e(u()),this.columns.forEach((function(l){return l.assignNewId(u)}))},s.prototype.getLabel=function(){return this.label},s.prototype.setLabel=function(u){u!==this.label&&this.fire(s.EVENT_LABEL_CHANGED,this.label,this.label=u)},s.prototype.setGroups=function(u,l,f){var d=this.order,_=this.groups;if(this.groups=u,this.index2pos=l,this.order=wt(u.map((function(x){return x.order}))),u.length>1)this.unifyGroups(u);else if(u.length===1)for(var w=u[0].parent;w;)w.order=this.order,w=w.parent;this.fire([s.EVENT_ORDER_CHANGED,s.EVENT_GROUPS_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],d,this.order,_,u,f)},s.prototype.unifyGroups=function(u){for(var l=0,f=this.order,d=new Map,_=0,w=u;_<w.length;_++){var x=w[_],T=x.order.length;x.order=f.subarray(l,l+T),d.set(x,{offset:l,size:T}),l+=T}for(var M=gb(u),N=function(U){if(d.has(U))return d.get(U);var $=U.subGroups.map((function(ft){return N(ft)})),Q=$.length>0?$[0].offset:0,nt=$.reduce((function(ft,Et){return ft+Et.size}),0),ot={offset:Q,size:nt};return d.set(U,ot),U.order=f.subarray(Q,Q+nt),ot},I=0,G=M;I<G.length;I++){var B=G[I];N(B)}},s.prototype.getRank=function(u){if(u<0||u>this.index2pos.length)return-1;var l=this.index2pos[u];return l!=null&&!Number.isNaN(l)&&l>0?l:-1},s.prototype.getOrder=function(){return this.order},s.prototype.getOrderLength=function(){return this.order.length},s.prototype.getGroups=function(){return this.groups.slice()},s.prototype.getFlatGroups=function(){var u,l,f,d=[];return u=this.groups,l=function(_){d.push(_)},f=function(_){l(_)!==!1&&Qv(_)&&_.subGroups.forEach(f)},gb(u).forEach(f),d},s.prototype.dump=function(u){var l={};return l.columns=this.columns.map((function(f){return f.dump(u)})),l.sortCriteria=this.sortCriteria.map((function(f){return{asc:f.asc,sortBy:f.col.id}})),l.groupSortCriteria=this.groupSortCriteria.map((function(f){return{asc:f.asc,sortBy:f.col.id}})),l.groupColumns=this.groupColumns.map((function(f){return f.id})),l},s.prototype.restore=function(u,l){var f=this;if(this.clear(),(u.columns||[]).forEach((function(x){var T=l(x);T&&f.push(T)})),u.sortColumn&&u.sortColumn.sortBy){var d=this.columns.find((function(x){return x.id===u.sortColumn.sortBy}));d&&this.sortBy(d,u.sortColumn.asc)}if(u.groupColumns){var _=u.groupColumns.map((function(x){return f.columns.find((function(T){return T.id===x}))})).filter((function(x){return x!=null}));this.setGroupCriteria(_)}var w=function(x){return x.map((function(T){return{asc:T.asc,col:f.columns.find((function(M){return M.id===T.sortBy}))||null}})).filter((function(T){return T.col}))};u.sortCriteria&&this.setSortCriteria(w(u.sortCriteria)),u.groupSortCriteria&&this.setGroupSortCriteria(w(u.groupSortCriteria))},s.prototype.flatten=function(u,l,f,d){f===void 0&&(f=0),d===void 0&&(d=0);var _=l;return(f>0||f<=vt.FLAT_ALL_COLUMNS)&&this.columns.forEach((function(w){w.getVisible()&&f<=vt.FLAT_ALL_COLUMNS&&(_+=w.flatten(u,_,f-1,d)+d)})),_-l},s.prototype.getPrimarySortCriteria=function(){return this.sortCriteria.length===0?null:this.sortCriteria[0]},s.prototype.getSortCriteria=function(){return this.sortCriteria.map((function(u){return Object.assign({},u)}))},s.prototype.getGroupSortCriteria=function(){return this.groupSortCriteria.map((function(u){return Object.assign({},u)}))},s.prototype.toggleSorting=function(u){return this.setSortCriteria(this.toggleSortingLogic(u,this.sortCriteria))},s.prototype.toggleSortingLogic=function(u,l){var f=l.slice(),d=f.findIndex((function(w){return w.col===u})),_=Rs(u);return d<0?f.splice(0,f.length,{col:u,asc:_}):f[d].asc===_?f.splice(d,1,{col:u,asc:!_}):f.splice(d,1),f},s.prototype.toggleGrouping=function(u){var l=this.groupColumns.indexOf(u);if(l>=0){var f=this.groupColumns.slice();return f.splice(l,1),this.setGroupCriteria(f)}return this.setGroupCriteria([u])},s.prototype.getGroupCriteria=function(){return this.groupColumns.slice()},s.prototype.sortBy=function(u,l,f){return l===void 0&&(l=!1),f===void 0&&(f=0),u.findMyRanker()===this&&this.setSortCriteria(this.hierarchyLogic(this.sortCriteria,this.sortCriteria.findIndex((function(d){return d.col===u})),{col:u,asc:l},f))},s.prototype.groupSortBy=function(u,l,f){return l===void 0&&(l=!1),f===void 0&&(f=0),u.findMyRanker()===this&&this.setGroupSortCriteria(this.hierarchyLogic(this.groupSortCriteria,this.groupSortCriteria.findIndex((function(d){return d.col===u})),{col:u,asc:l},f))},s.prototype.hierarchyLogic=function(u,l,f,d){return u=u.slice(),l>=0?(u.splice(l,1),d>=0&&u.splice(Math.min(d,u.length),0,f)):d>=0&&(u[Math.min(d,u.length)]=f),u},s.prototype.groupBy=function(u,l){return l===void 0&&(l=0),u.findMyRanker()===this&&this.setGroupCriteria(this.hierarchyLogic(this.groupColumns,this.groupColumns.indexOf(u),u,l))},s.prototype.setSortCriteria=function(u){var l,f=this,d=Array.isArray(u)?u.slice():[u],_=this.sortCriteria.slice();return!VM(d,_)&&(_.forEach((function(w){w.col.on(s.COLUMN_SORT_DIRTY,null)})),d.forEach((function(w){w.col.on(s.COLUMN_SORT_DIRTY,f.dirtyOrderSortDirty)})),(l=this.sortCriteria).splice.apply(l,Yc([0,this.sortCriteria.length],d.slice(),!1)),this.triggerResort(_),!0)},s.prototype.setGroupCriteria=function(u){var l,f=this,d=Array.isArray(u)?u:[u];if(me(this.groupColumns,d))return!0;this.groupColumns.forEach((function(w){w.on(s.COLUMN_GROUP_DIRTY,null)}));var _=this.groupColumns.slice();return(l=this.groupColumns).splice.apply(l,Yc([0,this.groupColumns.length],d,!1)),this.groupColumns.forEach((function(w){w.on(s.COLUMN_GROUP_DIRTY,f.dirtyOrderGroupDirty)})),this.fire([s.EVENT_GROUP_CRITERIA_CHANGED,s.EVENT_DIRTY_ORDER,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES,s.EVENT_DIRTY],_,this.getGroupCriteria()),this.autoAdaptAggregationColumn(),!0},s.prototype.autoAdaptAggregationColumn=function(){var u=this.groupColumns.reduce((function(d,_){return d+(_ instanceof Ul?2:1)}),0),l=this.children.find((function(d){return d instanceof ep}));if(l){var f=u*IM;f>l.getWidth()&&l.setWidth(f)}},s.prototype.toggleGroupSorting=function(u){return this.setGroupSortCriteria(this.toggleSortingLogic(u,this.groupSortCriteria))},s.prototype.setGroupSortCriteria=function(u){var l,f=this,d=Array.isArray(u)?u.slice():[u],_=this.groupSortCriteria.slice();return!VM(d,_)&&(_.forEach((function(w){w.col.on(s.COLUMN_GROUP_SORT_DIRTY,null)})),d.forEach((function(w){w.col.on(s.COLUMN_GROUP_SORT_DIRTY,f.dirtyOrderGroupSortDirty)})),(l=this.groupSortCriteria).splice.apply(l,Yc([0,this.groupSortCriteria.length],d.slice(),!1)),this.triggerGroupResort(_),!0)},s.prototype.triggerGroupResort=function(u){var l=this.getGroupSortCriteria(),f=Array.isArray(u)?u:l;this.fire([s.EVENT_GROUP_SORT_CRITERIA_CHANGED,s.EVENT_DIRTY_ORDER,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],f,l)},s.prototype.triggerResort=function(u){var l=this.getSortCriteria(),f=Array.isArray(u)?u:l;this.fire([s.EVENT_SORT_CRITERIA_CHANGED,s.EVENT_DIRTY_ORDER,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],f,l)},Object.defineProperty(s.prototype,"children",{get:function(){return this.columns.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"length",{get:function(){return this.columns.length},enumerable:!1,configurable:!0}),s.prototype.insert=function(u,l){var f=this;return l===void 0&&(l=this.columns.length),this.columns.splice(l,0,u),u.attach(this),this.forward.apply(this,Yc([u],s.FORWARD_COLUMN_EVENTS,!1)),u.on("".concat(s.EVENT_FILTER_CHANGED,".order"),this.dirtyOrderFiltering),u.on("".concat(vt.EVENT_VISIBILITY_CHANGED,".ranking"),(function(d,_){return f.fire([s.EVENT_COLUMN_VISIBILITY_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,d,_)})),this.fire([s.EVENT_ADD_COLUMN,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l),u.isFiltered()&&this.dirtyOrderFiltering(),u},s.prototype.move=function(u,l){if(l===void 0&&(l=this.columns.length),u.parent!==this)return console.error("invalid move operation: ",u),null;var f=this.columns.indexOf(u);return l===f||(this.columns.splice(f,1),this.columns.splice(f<l?l-1:l,0,u),this.fire([s.EVENT_MOVE_COLUMN,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l,f)),u},s.prototype.moveAfter=function(u,l){var f=this.columns.indexOf(l);return f<0?null:this.move(u,f+1)},s.prototype.moveBefore=function(u,l){var f=this.columns.indexOf(l);return f<0?null:this.move(u,f)},Object.defineProperty(s.prototype,"fqpath",{get:function(){return""},enumerable:!1,configurable:!0}),s.prototype.findByPath=function(u){for(var l=this,f=u.split("@").map(Number).slice(1);f.length>0;){var d=f.shift();l=l.at(d)}return l},s.prototype.indexOf=function(u){return this.columns.indexOf(u)},s.prototype.at=function(u){return this.columns[u]},s.prototype.insertAfter=function(u,l){var f=this.columns.indexOf(l);return f<0?null:this.insert(u,f+1)},s.prototype.insertBefore=function(u,l){var f=this.columns.indexOf(l);return f<0?null:this.insert(u,f)},s.prototype.push=function(u){return this.insert(u)},s.prototype.remove=function(u){var l=this.columns.indexOf(u);if(l<0)return!1;this.unforward.apply(this,Yc([u],s.FORWARD_COLUMN_EVENTS,!1));var f=this.sortCriteria.findIndex((function(M){return M.col===u})),d=f>=0;d&&this.sortCriteria.splice(f,1);var _=this.groupSortCriteria.findIndex((function(M){return M.col===u})),w=_>=0;w&&this.groupSortCriteria.splice(_,1);var x=null,T=this.groupColumns.indexOf(u);return T>=0&&(x=this.groupColumns.slice()).splice(T,1),u.detach(),this.columns.splice(l,1),this.fire([s.EVENT_REMOVE_COLUMN,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l),x?this.setGroupCriteria(x):d?this.triggerResort(null):w?this.triggerGroupResort(null):u.isFiltered()&&this.dirtyOrderFiltering(),!0},s.prototype.clear=function(){var u=this;if(this.columns.length!==0){this.sortCriteria.forEach((function(f){f.col.on("".concat(vt.EVENT_DIRTY_CACHES,".order"),null)})),this.sortCriteria.splice(0,this.sortCriteria.length),this.groupSortCriteria.forEach((function(f){f.col.on(s.COLUMN_GROUP_SORT_DIRTY,null)})),this.groupSortCriteria.splice(0,this.groupSortCriteria.length),this.groupColumns.forEach((function(f){f.on(s.COLUMN_GROUP_DIRTY,null)})),this.groupColumns.splice(0,this.groupColumns.length),this.columns.forEach((function(f){u.unforward.apply(u,Yc([f],s.FORWARD_COLUMN_EVENTS,!1)),f.detach()}));var l=this.columns.splice(0,this.columns.length);this.fire([s.EVENT_REMOVE_COLUMN,s.EVENT_DIRTY_ORDER,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],l)}},Object.defineProperty(s.prototype,"flatColumns",{get:function(){var u=[];return this.flatten(u,0,vt.FLAT_ALL_COLUMNS),u.map((function(l){return l.col}))},enumerable:!1,configurable:!0}),s.prototype.find=function(u){for(var l=typeof u=="string"?function(w){return w.id===u}:u,f=0,d=this.flatColumns;f<d.length;f++){var _=d[f];if(l(_))return _}return null},s.prototype.isFiltered=function(){return this.columns.some((function(u){return u.isFiltered()}))},s.prototype.filter=function(u){return this.columns.every((function(l){return l.filter(u)}))},s.prototype.clearFilters=function(){return this.columns.map((function(u){return u.clearFilter()})).some((function(u){return u}))},s.prototype.findMyRanker=function(){return this},Object.defineProperty(s.prototype,"fqid",{get:function(){return this.id},enumerable:!1,configurable:!0}),s.prototype.markDirty=function(u){switch(u===void 0&&(u="all"),u){case"header":return this.fire([vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY]);case"values":return this.fire([vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY]);default:return this.fire([vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY])}},s.EVENT_WIDTH_CHANGED=vt.EVENT_WIDTH_CHANGED,s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_LABEL_CHANGED=vt.EVENT_LABEL_CHANGED,s.EVENT_ADD_COLUMN=vn.EVENT_ADD_COLUMN,s.EVENT_MOVE_COLUMN=vn.EVENT_MOVE_COLUMN,s.EVENT_REMOVE_COLUMN=vn.EVENT_REMOVE_COLUMN,s.EVENT_DIRTY=vt.EVENT_DIRTY,s.EVENT_DIRTY_HEADER=vt.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES=vt.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES=vt.EVENT_DIRTY_CACHES,s.EVENT_COLUMN_VISIBILITY_CHANGED=vt.EVENT_VISIBILITY_CHANGED,s.EVENT_SORT_CRITERIA_CHANGED="sortCriteriaChanged",s.EVENT_GROUP_CRITERIA_CHANGED="groupCriteriaChanged",s.EVENT_GROUP_SORT_CRITERIA_CHANGED="groupSortCriteriaChanged",s.EVENT_DIRTY_ORDER="dirtyOrder",s.EVENT_ORDER_CHANGED="orderChanged",s.EVENT_GROUPS_CHANGED="groupsChanged",s.FORWARD_COLUMN_EVENTS=Fe(".ranking",vt.EVENT_VISIBILITY_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY,vt.EVENT_VISIBILITY_CHANGED,s.EVENT_FILTER_CHANGED),s.COLUMN_GROUP_SORT_DIRTY=Fe(".groupOrder",vt.EVENT_DIRTY_CACHES,"sortMethodChanged"),s.COLUMN_SORT_DIRTY=Fe(".order",vt.EVENT_DIRTY_CACHES),s.COLUMN_GROUP_DIRTY=Fe(".group",vt.EVENT_DIRTY_CACHES,"groupingChanged"),s})(ga);const he=j9;function VM(p,s){return p.length===s.length&&p.every((function(u,l){var f=s[l];return u.col===f.col&&u.asc===f.asc}))}function ja(p,s,u){s===void 0&&(s=100);var l=-1,f=null;return function(){for(var d=[],_=0;_<arguments.length;_++)d[_]=arguments[_];l>=0&&(clearTimeout(l),l=-1);var w={self:this,args:d};f=f&&u?u(f,w):w,l=setTimeout((function(){console.assert(f!=null),p.apply(f.self,f.args),f=null}),s)}}var Y9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function $c(p){return p===void 0&&(p="Rank"),{type:"rank",label:p}}var $9=(function(p){function s(u,l){return p.call(this,u,fr(l,{width:50}))||this}return Y9(s,p),s.prototype.getLabel=function(u){return String(this.getValue(u))},s.prototype.getRaw=function(u){var l=this.findMyRanker();return l?l.getRank(u.i):-1},s.prototype.getValue=function(u){var l=this.getRaw(u);return l===-1?null:l},Object.defineProperty(s.prototype,"frozen",{get:function(){return this.desc.frozen!==!1},enumerable:!1,configurable:!0}),(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([Hc(),ln("support")],s)})(vt);const ig=$9;var q9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function ag(p){return p===void 0&&(p="Selections"),{type:"selection",label:p}}var X9=(function(p){function s(l,f){var d=p.call(this,l,fr(f,{width:50}))||this;return d.currentFilter=null,d}var u;return q9(s,p),u=s,Object.defineProperty(s.prototype,"frozen",{get:function(){return this.desc.frozen!==!1},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_SELECT,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.setValue=function(l,f){return this.getValue(l)===f||this.setImpl(l,f)},s.prototype.setValues=function(l,f){return l.length!==0&&(this.desc.setterAll&&this.desc.setterAll(l,f),this.fire(u.EVENT_SELECT,l[0],f,l),!0)},s.prototype.setImpl=function(l,f){return this.desc.setter&&this.desc.setter(l.i,f),this.fire(u.EVENT_SELECT,l.i,f),!0},s.prototype.toggleValue=function(l){var f=this.getValue(l);return this.setImpl(l,!f),!f},s.prototype.toCompareValue=function(l){return this.getValue(l)===!0?1:0},s.prototype.toCompareValueType=function(){return tt.BINARY},s.prototype.group=function(l){var f=this.getValue(l);return Object.assign({},f?u.SELECTED_GROUP:u.NOT_SELECTED_GROUP)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.filter=this.currentFilter?Array.from(this.currentFilter).sort((function(d,_){return d-_})):null,f},s.prototype.restore=function(l,f){if(p.prototype.restore.call(this,l,f),l.filter){var d=l.filter;this.currentFilter=new Set(d)}else this.currentFilter=null},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l){return!this.isFiltered()||this.currentFilter.has(l.i)},s.prototype.getFilter=function(){return this.currentFilter==null?null:Array.from(this.currentFilter)},s.prototype.setFilter=function(l){var f,d,_,w,x=l?new Set(l):null;f=x,d=this.currentFilter,_=f!=null?f.size:0,w=d!=null?d.size:0,_===w&&(_===0||w===0||Array.from(f).every((function(T){return d.has(T)})))||this.fire([u.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.currentFilter,this.currentFilter=x)},s.prototype.clearFilter=function(){var l=this.isFiltered();return this.setFilter(null),l},s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_SELECT="select",s.SELECTED_GROUP={name:"Selected",color:"orange"},s.NOT_SELECTED_GROUP={name:"Unselected",color:"gray"},u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([Hc(),qe("sort","sortBy","group","groupBy","clearSelection","invertSelection","filterSelection"),ln("support")],s)})(Tr);const Cb=X9;var Z9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function K9(p,s,u){return p===void 0&&(p="actions"),s===void 0&&(s=[]),u===void 0&&(u=[]),{type:"actions",label:p,actions:s,groupActions:u,fixed:!0}}var J9=(function(p){function s(u,l){var f=p.call(this,u,l)||this;return f.actions=l.actions||[],f.groupActions=l.groupActions||[],f}return Z9(s,p),s.prototype.getLabel=function(){return""},s.prototype.getValue=function(){return""},s.prototype.compare=function(){return 0},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([Hc(),ln("support")],s)})(vt);const Ab=J9;var Wo,An,Q9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();(function(p){p.left="left",p.center="center",p.right="right"})(Wo||(Wo={})),(function(p){p.value="value",p.startsWith="startsWith",p.regex="regex"})(An||(An={}));var tU=(function(p){function s(l,f){var d,_=p.call(this,l,fr(f,{width:200}))||this;return _.currentFilter=null,_.currentGroupCriteria={type:An.startsWith,values:[]},_.alignment=(d=f.alignment)!==null&&d!==void 0?d:Wo.left,_.escape=f.escape!==!1,_}var u;return Q9(s,p),u=s,s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_GROUPING_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getValue=function(l){var f=p.prototype.getValue.call(this,l);return Hr(f)?null:String(f)},s.prototype.getLabel=function(l){return this.getValue(l)||""},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);if(this.currentFilter?this.currentFilter.filter instanceof RegExp?f.filter={filter:"REGEX:".concat(this.currentFilter.filter.source),filterMissing:this.currentFilter.filterMissing,filterType:et.regex}:f.filter={filter:this.currentFilter.filter,filterMissing:this.currentFilter.filterMissing,filterType:this.currentFilter.filterType}:f.filter=this.currentFilter,this.currentGroupCriteria){var d=this.currentGroupCriteria,_=d.type,w=d.values;f.groupCriteria={type:_,values:w.map((function(x){return x instanceof RegExp&&_===An.regex?x.source:x}))}}return f},s.prototype.restore=function(l,f){if(p.prototype.restore.call(this,l,f),l.filter){var d=l.filter;typeof d=="string"?d.startsWith("REGEX:")?this.currentFilter={filter:new RegExp(d.slice(6),"mi"),filterMissing:!1,filterType:et.regex}:d===u.FILTER_MISSING?this.currentFilter={filter:null,filterMissing:!0,filterType:et.contains}:this.currentFilter={filter:d,filterMissing:!1,filterType:et.contains}:this.currentFilter={filter:d.filter&&d.filter.startsWith("REGEX:")?new RegExp(d.filter.slice(6),"mi"):d.filter||"",filterMissing:d.filterMissing===!0,filterType:d.filterType||et.contains}}else this.currentFilter=null;if(l.groupCriteria){var _=l.groupCriteria,w=_.type,x=_.values;this.currentGroupCriteria={type:w,values:x.map((function(T){return w===An.regex?new RegExp(T,"mi"):T}))}}},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l){if(!this.isFiltered())return!0;var f=this.getLabel(l),d=this.currentFilter,_=d.filter,w=d.filterType||et.contains;if(f==null||f.trim()==="")return!d.filterMissing;if(!_)return!0;if(_ instanceof RegExp)return f!==""&&f.match(_)!=null;if(w===et.exact)return f!==""&&f.toLowerCase()===_.toLowerCase();var x=Dt(_);if(x.length>1)return f!==""&&Lt(f,x,w);if(x.length===1){var T=f.toLowerCase(),M=x[0].toLowerCase();switch(w){case et.startsWith:return f!==""&&T.startsWith(M);case et.contains:default:return f!==""&&T.includes(M)}}var N=f.toLowerCase(),I=_.toLowerCase();switch(w){case et.startsWith:return f!==""&&N.startsWith(I);case et.contains:default:return f!==""&&N.includes(I)}},s.prototype.getFilter=function(){return this.currentFilter},s.prototype.setFilter=function(l){if(l!==this.currentFilter){var f=this.currentFilter||{filter:null,filterMissing:!1,filterType:et.contains},d=l||{filter:null,filterMissing:!1,filterType:et.contains};l&&l.filterType===void 0&&(l.filterType=et.contains),f.filterMissing===d.filterMissing&&f.filterType===d.filterType&&(f.filter===d.filter||f.filter instanceof RegExp&&d.filter instanceof RegExp&&f.filter.source===d.filter.source)||this.fire([u.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.currentFilter,this.currentFilter=l)}},s.prototype.clearFilter=function(){var l=this.isFiltered();return this.setFilter(null),l},s.prototype.getGroupCriteria=function(){return this.currentGroupCriteria},s.prototype.setGroupCriteria=function(l){if(!Ge(this.currentGroupCriteria,l)&&l!=null){var f=this.getGroupCriteria();this.currentGroupCriteria=l,this.fire([u.EVENT_GROUPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],f,l)}},s.prototype.group=function(l){if(this.getValue(l)==null)return Object.assign({},Uo);if(!this.currentGroupCriteria)return Object.assign({},St);var f=this.getLabel(l);if(!f)return Object.assign({},Uo);var d=this.currentGroupCriteria,_=d.type,w=d.values;if(_===An.value)return{name:f,color:ht.color};if(_===An.startsWith){for(var x=0,T=w;x<T.length;x++)if(typeof(I=T[x])=="string"&&f.startsWith(I))return{name:I,color:ht.color};return Object.assign({},St)}for(var M=0,N=w;M<N.length;M++){var I;if((I=N[M])instanceof RegExp&&I.test(f))return{name:I.source,color:ht.color}}return Object.assign({},St)},s.prototype.toCompareValue=function(l){var f=this.getValue(l);return f===""||f==null?null:f.toLowerCase()},s.prototype.toCompareValueType=function(){return tt.STRING},s.prototype.toCompareGroupValue=function(l,f,d){var _=this;return y(l)?null:d?d.reduce((function(w,x){return w==null||x<w?x:w}),null):l.reduce((function(w,x){var T=_.getValue(x);return w==null||T!=null&&T<w?T:w}),null)},s.prototype.toCompareGroupValueType=function(){return tt.STRING},s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_GROUPING_CHANGED="groupingChanged",s.FILTER_MISSING="__FILTER_MISSING",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","search","groupBy","sortGroupBy","filterString"),vi("group","groupString"),ln("string")],s)})(Tr);const Nr=tU;var eU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),rU=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.annotations=new Map,u}return eU(s,p),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_VALUE_CHANGED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.getValue=function(u){return this.annotations.has(u.i)?this.annotations.get(u.i):p.prototype.getValue.call(this,u)},s.prototype.dump=function(u){var l=p.prototype.dump.call(this,u);return l.annotations={},this.annotations.forEach((function(f,d){l.annotations[d]=f})),l},s.prototype.restore=function(u,l){var f=this;p.prototype.restore.call(this,u,l),u.annotations&&Object.keys(u.annotations).forEach((function(d){f.annotations.set(Number(d),u.annotations[d])}))},s.prototype.setValue=function(u,l){var f=this.getValue(u);return f===l||(l===""||l==null?this.annotations.delete(u.i):this.annotations.set(u.i,l),this.fire([s.EVENT_VALUE_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],u.i,f,l)),!0},s.EVENT_VALUE_CHANGED="valueChanged",s})(Nr);const Db=rU;var nU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),iU=(function(p){function s(l,f){var d,_,w=p.call(this,l,fr(f,{width:30,renderer:"categorical",groupRenderer:"categorical",summaryRenderer:"categorical"}))||this;return w.currentFilter=null,w.categories=[{name:(d=f.trueMarker)!==null&&d!==void 0?d:"",color:u.GROUP_TRUE.color,label:u.GROUP_TRUE.name,value:0},{name:(_=f.falseMarker)!==null&&_!==void 0?_:"",color:u.GROUP_FALSE.color,label:u.GROUP_FALSE.name,value:1}],w.colorMapping=gi,w}var u;return nU(s,p),u=s,s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},Object.defineProperty(s.prototype,"dataLength",{get:function(){return this.categories.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"labels",{get:function(){return this.categories.map((function(l){return l.label}))},enumerable:!1,configurable:!0}),s.prototype.getValue=function(l){var f,d=p.prototype.getValue.call(this,l);if(d===void 0||d==null)return null;var _=(f=this.desc.trueValues)!==null&&f!==void 0?f:u.DEFAULT_TRUE_VALUES,w=String(d).toLowerCase();return _.some((function(x){return x===d||x===w}))},s.prototype.getCategoryOfBoolean=function(l){return l==null?null:this.categories[l?0:1]},s.prototype.getCategory=function(l){var f=this.getValue(l);return f==null?null:this.categories[f?0:1]},s.prototype.getCategories=function(l){return[this.getCategory(l)]},s.prototype.iterCategory=function(l){return[this.getCategory(l)]},s.prototype.getColor=function(l){return we.prototype.getColor.call(this,l)},s.prototype.getLabel=function(l){return we.prototype.getLabel.call(this,l)},s.prototype.getLabels=function(l){return we.prototype.getLabels.call(this,l)},s.prototype.getValues=function(l){return we.prototype.getValues.call(this,l)},s.prototype.getMap=function(l){return we.prototype.getMap.call(this,l)},s.prototype.getMapLabel=function(l){return we.prototype.getMapLabel.call(this,l)},s.prototype.getSet=function(l){var f=this.getValue(l),d=new Set;return f!=null&&d.add(this.categories[f?0:1]),d},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.colorMapping=this.colorMapping.toJSON(),this.currentFilter!=null&&(f.filter=this.currentFilter),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories),typeof l.filter=="boolean"?this.currentFilter={filter:[this.getCategoryOfBoolean(l.filter).name],filterMissing:!1}:l.filter!==void 0&&(this.currentFilter=l.filter)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([we.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l){return zl(this.currentFilter,this.getCategory(l))},s.prototype.getFilter=function(){return this.currentFilter==null?null:Object.assign({},this.currentFilter)},s.prototype.setFilter=function(l){var f=typeof l=="boolean"?{filter:[this.getCategoryOfBoolean(l).name],filterMissing:!1}:l;Tb(this.currentFilter,f)||this.fire([u.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.currentFilter,this.currentFilter=f)},s.prototype.clearFilter=function(){var l=this.isFiltered();return this.setFilter(null),l},s.prototype.toCompareValue=function(l){var f=this.getValue(l);return f==null?NaN:f?1:0},s.prototype.toCompareValueType=function(){return tt.BINARY},s.prototype.group=function(l){var f=this.getValue(l);return f==null?Object.assign({},Uo):Object.assign({},f?u.GROUP_TRUE:u.GROUP_FALSE)},s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_COLOR_MAPPING_CHANGED="colorMappingChanged",s.GROUP_TRUE={name:"True",color:"#444444"},s.GROUP_FALSE={name:"False",color:"#dddddd"},s.DEFAULT_TRUE_VALUES=["y","yes","true",!0,"1","1.0",1,1,"on"],u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","group","groupBy","filterCategorical","colorMappedCategorical"),ln("categorical")],s)})(Tr);const og=iU;var aU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),oU=(function(p){function s(u,l){var f=p.call(this,u,l)||this;return f._dataLength=l.dataLength==null||Number.isNaN(l.dataLength)?null:l.dataLength,f.originalLabels=l.labels||W(f._dataLength==null?0:f._dataLength).map((function(d,_){return"Column ".concat(_)})),f}return aU(s,p),Object.defineProperty(s.prototype,"labels",{get:function(){return this.originalLabels},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dataLength",{get:function(){return this._dataLength},enumerable:!1,configurable:!0}),s.prototype.getValue=function(u){var l=this.getValues(u);return l.every((function(f){return f===null}))?null:l},s.prototype.getValues=function(u){var l=p.prototype.getValue.call(this,u);return l??[]},s.prototype.getLabels=function(u){return this.getValues(u).map(String)},s.prototype.getLabel=function(u){var l=this.getLabels(u);return l.length===0?"":l.toString()},s.prototype.getMap=function(u){var l=this.labels;return this.getValues(u).map((function(f,d){return{key:l[d],value:f}}))},s.prototype.getMapLabel=function(u){var l=this.labels;return this.getLabels(u).map((function(f,d){return{key:l[d],value:f}}))},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([ln("array")],s)})(Tr);const Wl=oU;var sU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),lU=(function(p){function s(l,f){var d=p.call(this,l,fr(f,{renderer:"upset"}))||this;return d.colorMapping=gi,d}var u;return sU(s,p),u=s,Object.defineProperty(s.prototype,"categories",{get:function(){return this.labels.map((function(l,f){return OM(l,f)}))},enumerable:!1,configurable:!0}),s.prototype.getSet=function(l){var f=this.getValues(l);return new Set(this.categories.filter((function(d,_){return f[_]})))},s.prototype.toCompareValue=function(l){var f=this.getValue(l);return f==null?NaN:f.reduce((function(d,_){return d+(_?1:0)}),0)},s.prototype.toCompareValueType=function(){return _b(this.dataLength)},s.prototype.getCategories=function(l){var f=this.categories;return p.prototype.getValues.call(this,l).map((function(d,_){return d?f[_]:null}))},s.prototype.iterCategory=function(l){return this.getCategories(l)},s.prototype.getColors=function(l){var f=this;return this.getCategories(l).map((function(d){return d?f.colorMapping.apply(d):Oe}))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){return we.prototype.setColorMapping.call(this,l)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories)},s.EVENT_COLOR_MAPPING_CHANGED=we.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy")],s)})(Wl);const GM=lU;function sg(p,s){if((u=(p=s?p.toExponential(s-1):p.toExponential()).indexOf("e"))<0)return null;var u,l=p.slice(0,u);return[l.length>1?l[0]+l.slice(2):l,+p.slice(u+1)]}function qc(p){return(p=sg(Math.abs(p)))?p[1]:NaN}var FM,uU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function np(p){if(!(s=uU.exec(p)))throw new Error("invalid format: "+p);var s;return new Mb({fill:s[1],align:s[2],sign:s[3],symbol:s[4],zero:s[5],width:s[6],comma:s[7],precision:s[8]&&s[8].slice(1),trim:s[9],type:s[10]})}function Mb(p){this.fill=p.fill===void 0?" ":p.fill+"",this.align=p.align===void 0?">":p.align+"",this.sign=p.sign===void 0?"-":p.sign+"",this.symbol=p.symbol===void 0?"":p.symbol+"",this.zero=!!p.zero,this.width=p.width===void 0?void 0:+p.width,this.comma=!!p.comma,this.precision=p.precision===void 0?void 0:+p.precision,this.trim=!!p.trim,this.type=p.type===void 0?"":p.type+""}function BM(p,s){var u=sg(p,s);if(!u)return p+"";var l=u[0],f=u[1];return f<0?"0."+new Array(-f).join("0")+l:l.length>f+1?l.slice(0,f+1)+"."+l.slice(f+1):l+new Array(f-l.length+2).join("0")}np.prototype=Mb.prototype,Mb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const HM={"%":(p,s)=>(100*p).toFixed(s),b:p=>Math.round(p).toString(2),c:p=>p+"",d:function(p){return Math.abs(p=Math.round(p))>=1e21?p.toLocaleString("en").replace(/,/g,""):p.toString(10)},e:(p,s)=>p.toExponential(s),f:(p,s)=>p.toFixed(s),g:(p,s)=>p.toPrecision(s),o:p=>Math.round(p).toString(8),p:(p,s)=>BM(100*p,s),r:BM,s:function(p,s){var u=sg(p,s);if(!u)return p+"";var l=u[0],f=u[1],d=f-(FM=3*Math.max(-8,Math.min(8,Math.floor(f/3))))+1,_=l.length;return d===_?l:d>_?l+new Array(d-_+1).join("0"):d>0?l.slice(0,d)+"."+l.slice(d):"0."+new Array(1-d).join("0")+sg(p,Math.max(0,s+d-1))[0]},X:p=>Math.round(p).toString(16).toUpperCase(),x:p=>Math.round(p).toString(16)};function zM(p){return p}var Lb,Yi,UM,WM=Array.prototype.map,jM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];Lb=(function(p){var s,u,l=p.grouping===void 0||p.thousands===void 0?zM:(s=WM.call(p.grouping,Number),u=p.thousands+"",function(I,G){for(var B=I.length,U=[],$=0,Q=s[0],nt=0;B>0&&Q>0&&(nt+Q+1>G&&(Q=Math.max(1,G-nt)),U.push(I.substring(B-=Q,B+Q)),!((nt+=Q+1)>G));)Q=s[$=($+1)%s.length];return U.reverse().join(u)}),f=p.currency===void 0?"":p.currency[0]+"",d=p.currency===void 0?"":p.currency[1]+"",_=p.decimal===void 0?".":p.decimal+"",w=p.numerals===void 0?zM:(function(I){return function(G){return G.replace(/[0-9]/g,(function(B){return I[+B]}))}})(WM.call(p.numerals,String)),x=p.percent===void 0?"%":p.percent+"",T=p.minus===void 0?"":p.minus+"",M=p.nan===void 0?"NaN":p.nan+"";function N(I){var G=(I=np(I)).fill,B=I.align,U=I.sign,$=I.symbol,Q=I.zero,nt=I.width,ot=I.comma,ft=I.precision,Et=I.trim,At=I.type;At==="n"?(ot=!0,At="g"):HM[At]||(ft===void 0&&(ft=12),Et=!0,At="g"),(Q||G==="0"&&B==="=")&&(Q=!0,G="0",B="=");var Ot=$==="$"?f:$==="#"&&/[boxX]/.test(At)?"0"+At.toLowerCase():"",Wt=$==="$"?d:/[%p]/.test(At)?x:"",ct=HM[At],kt=/[defgprs%]/.test(At);function jt(Nt){var ee,Ut,Ne,Be=Ot,Xe=Wt;if(At==="c")Xe=ct(Nt)+Xe,Nt="";else{var mi=(Nt=+Nt)<0||1/Nt<0;if(Nt=isNaN(Nt)?M:ct(Math.abs(Nt),ft),Et&&(Nt=(function(Mr){t:for(var Nn,ei=Mr.length,Cr=1,Or=-1;Cr<ei;++Cr)switch(Mr[Cr]){case".":Or=Nn=Cr;break;case"0":Or===0&&(Or=Cr),Nn=Cr;break;default:if(!+Mr[Cr])break t;Or>0&&(Or=0)}return Or>0?Mr.slice(0,Or)+Mr.slice(Nn+1):Mr})(Nt)),mi&&+Nt==0&&U!=="+"&&(mi=!1),Be=(mi?U==="("?U:T:U==="-"||U==="("?"":U)+Be,Xe=(At==="s"?jM[8+FM/3]:"")+Xe+(mi&&U==="("?")":""),kt){for(ee=-1,Ut=Nt.length;++ee<Ut;)if(48>(Ne=Nt.charCodeAt(ee))||Ne>57){Xe=(Ne===46?_+Nt.slice(ee+1):Nt.slice(ee))+Xe,Nt=Nt.slice(0,ee);break}}}ot&&!Q&&(Nt=l(Nt,1/0));var yn=Be.length+Nt.length+Xe.length,ti=yn<nt?new Array(nt-yn+1).join(G):"";switch(ot&&Q&&(Nt=l(ti+Nt,ti.length?nt-Xe.length:1/0),ti=""),B){case"<":Nt=Be+Nt+Xe+ti;break;case"=":Nt=Be+ti+Nt+Xe;break;case"^":Nt=ti.slice(0,yn=ti.length>>1)+Be+Nt+Xe+ti.slice(yn);break;default:Nt=ti+Be+Nt+Xe}return w(Nt)}return ft=ft===void 0?6:/[gprs]/.test(At)?Math.max(1,Math.min(21,ft)):Math.max(0,Math.min(20,ft)),jt.toString=function(){return I+""},jt}return{format:N,formatPrefix:function(I,G){var B=N(((I=np(I)).type="f",I)),U=3*Math.max(-8,Math.min(8,Math.floor(qc(G)/3))),$=Math.pow(10,-U),Q=jM[8+U/3];return function(nt){return B($*nt)+Q}}}})({thousands:",",grouping:[3],currency:["$",""]}),Yi=Lb.format,UM=Lb.formatPrefix;const cU=Math.sqrt(50),fU=Math.sqrt(10),hU=Math.sqrt(2);function lg(p,s,u){const l=(s-p)/Math.max(0,u),f=Math.floor(Math.log10(l)),d=l/Math.pow(10,f),_=d>=cU?10:d>=fU?5:d>=hU?2:1;let w,x,T;return f<0?(T=Math.pow(10,-f)/_,w=Math.round(p*T),x=Math.round(s*T),w/T<p&&++w,x/T>s&&--x,T=-T):(T=Math.pow(10,f)*_,w=Math.round(p/T),x=Math.round(s/T),w*T<p&&++w,x*T>s&&--x),x<w&&.5<=u&&u<2?lg(p,s,2*u):[w,x,T]}function Nb(p,s,u){if(!((u=+u)>0))return[];if((p=+p)==(s=+s))return[p];const l=s<p,[f,d,_]=l?lg(s,p,u):lg(p,s,u);if(!(d>=f))return[];const w=d-f+1,x=new Array(w);if(l)if(_<0)for(let T=0;T<w;++T)x[T]=(d-T)/-_;else for(let T=0;T<w;++T)x[T]=(d-T)*_;else if(_<0)for(let T=0;T<w;++T)x[T]=(f+T)/-_;else for(let T=0;T<w;++T)x[T]=(f+T)*_;return x}function Rb(p,s,u){return lg(p=+p,s=+s,u=+u)[2]}function ug(p,s){return p==null||s==null?NaN:p<s?-1:p>s?1:p>=s?0:NaN}function pU(p,s){return p==null||s==null?NaN:s<p?-1:s>p?1:s>=p?0:NaN}function YM(p){let s,u,l;function f(d,_,w=0,x=d.length){if(w<x){if(s(_,_)!==0)return x;do{const T=w+x>>>1;u(d[T],_)<0?w=T+1:x=T}while(w<x)}return w}return p.length!==2?(s=ug,u=(d,_)=>ug(p(d),_),l=(d,_)=>p(d)-_):(s=p===ug||p===pU?p:dU,u=p,l=p),{left:f,center:function(d,_,w=0,x=d.length){const T=f(d,_,w,x-1);return T>w&&l(d[T-1],_)>-l(d[T],_)?T-1:T},right:function(d,_,w=0,x=d.length){if(w<x){if(s(_,_)!==0)return x;do{const T=w+x>>>1;u(d[T],_)<=0?w=T+1:x=T}while(w<x)}return w}}}function dU(){return 0}const vU=YM(ug),gU=vU.right,yU=(YM((function(p){return p===null?NaN:+p})).center,gU);function cg(p,s,u){p.prototype=s.prototype=u,u.constructor=p}function Ib(p,s){var u=Object.create(p.prototype);for(var l in s)u[l]=s[l];return u}function Xc(){}var jl=.7,Zc=1/jl,Kc="\\s*([+-]?\\d+)\\s*",ip="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mU=/^#([0-9a-f]{3,8})$/,_U=new RegExp(`^rgb\\(${Kc},${Kc},${Kc}\\)$`),bU=new RegExp(`^rgb\\(${Ya},${Ya},${Ya}\\)$`),SU=new RegExp(`^rgba\\(${Kc},${Kc},${Kc},${ip}\\)$`),wU=new RegExp(`^rgba\\(${Ya},${Ya},${Ya},${ip}\\)$`),xU=new RegExp(`^hsl\\(${ip},${Ya},${Ya}\\)$`),EU=new RegExp(`^hsla\\(${ip},${Ya},${Ya},${ip}\\)$`),$M={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qM(){return this.rgb().formatHex()}function XM(){return this.rgb().formatRgb()}function Ci(p){var s,u;return p=(p+"").trim().toLowerCase(),(s=mU.exec(p))?(u=s[1].length,s=parseInt(s[1],16),u===6?ZM(s):u===3?new Gn(s>>8&15|s>>4&240,s>>4&15|240&s,(15&s)<<4|15&s,1):u===8?fg(s>>24&255,s>>16&255,s>>8&255,(255&s)/255):u===4?fg(s>>12&15|s>>8&240,s>>8&15|s>>4&240,s>>4&15|240&s,((15&s)<<4|15&s)/255):null):(s=_U.exec(p))?new Gn(s[1],s[2],s[3],1):(s=bU.exec(p))?new Gn(255*s[1]/100,255*s[2]/100,255*s[3]/100,1):(s=SU.exec(p))?fg(s[1],s[2],s[3],s[4]):(s=wU.exec(p))?fg(255*s[1]/100,255*s[2]/100,255*s[3]/100,s[4]):(s=xU.exec(p))?tL(s[1],s[2]/100,s[3]/100,1):(s=EU.exec(p))?tL(s[1],s[2]/100,s[3]/100,s[4]):$M.hasOwnProperty(p)?ZM($M[p]):p==="transparent"?new Gn(NaN,NaN,NaN,0):null}function ZM(p){return new Gn(p>>16&255,p>>8&255,255&p,1)}function fg(p,s,u,l){return l<=0&&(p=s=u=NaN),new Gn(p,s,u,l)}function KM(p){return p instanceof Xc||(p=Ci(p)),p?new Gn((p=p.rgb()).r,p.g,p.b,p.opacity):new Gn}function hg(p,s,u,l){return arguments.length===1?KM(p):new Gn(p,s,u,l??1)}function Gn(p,s,u,l){this.r=+p,this.g=+s,this.b=+u,this.opacity=+l}function JM(){return`#${$l(this.r)}${$l(this.g)}${$l(this.b)}`}function QM(){const p=pg(this.opacity);return`${p===1?"rgb(":"rgba("}${Yl(this.r)}, ${Yl(this.g)}, ${Yl(this.b)}${p===1?")":`, ${p})`}`}function pg(p){return isNaN(p)?1:Math.max(0,Math.min(1,p))}function Yl(p){return Math.max(0,Math.min(255,Math.round(p)||0))}function $l(p){return((p=Yl(p))<16?"0":"")+p.toString(16)}function tL(p,s,u,l){return l<=0?p=s=u=NaN:u<=0||u>=1?p=s=NaN:s<=0&&(p=NaN),new ya(p,s,u,l)}function eL(p){if(p instanceof ya)return new ya(p.h,p.s,p.l,p.opacity);if(p instanceof Xc||(p=Ci(p)),!p)return new ya;if(p instanceof ya)return p;var s=(p=p.rgb()).r/255,u=p.g/255,l=p.b/255,f=Math.min(s,u,l),d=Math.max(s,u,l),_=NaN,w=d-f,x=(d+f)/2;return w?(_=s===d?(u-l)/w+6*(u<l):u===d?(l-s)/w+2:(s-u)/w+4,w/=x<.5?d+f:2-d-f,_*=60):w=x>0&&x<1?0:_,new ya(_,w,x,p.opacity)}function ap(p,s,u,l){return arguments.length===1?eL(p):new ya(p,s,u,l??1)}function ya(p,s,u,l){this.h=+p,this.s=+s,this.l=+u,this.opacity=+l}function rL(p){return(p=(p||0)%360)<0?p+360:p}function dg(p){return Math.max(0,Math.min(1,p||0))}function Ob(p,s,u){return 255*(p<60?s+(u-s)*p/60:p<180?u:p<240?s+(u-s)*(240-p)/60:s)}function TU(p,s,u,l,f){var d=p*p,_=d*p;return((1-3*p+3*d-_)*s+(4-6*d+3*_)*u+(1+3*p+3*d-3*_)*l+_*f)/6}cg(Xc,Ci,{copy(p){return Object.assign(new this.constructor,this,p)},displayable(){return this.rgb().displayable()},hex:qM,formatHex:qM,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return eL(this).formatHsl()},formatRgb:XM,toString:XM}),cg(Gn,hg,Ib(Xc,{brighter(p){return p=p==null?Zc:Math.pow(Zc,p),new Gn(this.r*p,this.g*p,this.b*p,this.opacity)},darker(p){return p=p==null?jl:Math.pow(jl,p),new Gn(this.r*p,this.g*p,this.b*p,this.opacity)},rgb(){return this},clamp(){return new Gn(Yl(this.r),Yl(this.g),Yl(this.b),pg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JM,formatHex:JM,formatHex8:function(){return`#${$l(this.r)}${$l(this.g)}${$l(this.b)}${$l(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:QM,toString:QM})),cg(ya,ap,Ib(Xc,{brighter(p){return p=p==null?Zc:Math.pow(Zc,p),new ya(this.h,this.s,this.l*p,this.opacity)},darker(p){return p=p==null?jl:Math.pow(jl,p),new ya(this.h,this.s,this.l*p,this.opacity)},rgb(){var p=this.h%360+360*(this.h<0),s=isNaN(p)||isNaN(this.s)?0:this.s,u=this.l,l=u+(u<.5?u:1-u)*s,f=2*u-l;return new Gn(Ob(p>=240?p-240:p+120,f,l),Ob(p,f,l),Ob(p<120?p+240:p-120,f,l),this.opacity)},clamp(){return new ya(rL(this.h),dg(this.s),dg(this.l),pg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const p=pg(this.opacity);return`${p===1?"hsl(":"hsla("}${rL(this.h)}, ${100*dg(this.s)}%, ${100*dg(this.l)}%${p===1?")":`, ${p})`}`}}));const vg=p=>()=>p;function nL(p,s){return function(u){return p+u*s}}function Jc(p,s){var u=s-p;return u?nL(p,u):vg(isNaN(p)?s:p)}const iL=(function p(s){var u=(function(f){return(f=+f)==1?Jc:function(d,_){return _-d?(function(w,x,T){return w=Math.pow(w,T),x=Math.pow(x,T)-w,T=1/T,function(M){return Math.pow(w+M*x,T)}})(d,_,f):vg(isNaN(d)?_:d)}})(s);function l(f,d){var _=u((f=hg(f)).r,(d=hg(d)).r),w=u(f.g,d.g),x=u(f.b,d.b),T=Jc(f.opacity,d.opacity);return function(M){return f.r=_(M),f.g=w(M),f.b=x(M),f.opacity=T(M),f+""}}return l.gamma=p,l})(1);function CU(p){return function(s){var u,l,f=s.length,d=new Array(f),_=new Array(f),w=new Array(f);for(u=0;u<f;++u)l=hg(s[u]),d[u]=l.r||0,_[u]=l.g||0,w[u]=l.b||0;return d=p(d),_=p(_),w=p(w),l.opacity=1,function(x){return l.r=d(x),l.g=_(x),l.b=w(x),l+""}}}var AU=CU((function(p){var s=p.length-1;return function(u){var l=u<=0?u=0:u>=1?(u=1,s-1):Math.floor(u*s),f=p[l],d=p[l+1],_=l>0?p[l-1]:2*f-d,w=l<s-1?p[l+2]:2*d-f;return TU((u-l/s)*s,_,f,d,w)}}));function DU(p,s){var u,l=s?s.length:0,f=p?Math.min(l,p.length):0,d=new Array(f),_=new Array(l);for(u=0;u<f;++u)d[u]=Vb(p[u],s[u]);for(;u<l;++u)_[u]=s[u];return function(w){for(u=0;u<f;++u)_[u]=d[u](w);return _}}function MU(p,s){var u=new Date;return p=+p,s=+s,function(l){return u.setTime(p*(1-l)+s*l),u}}function gg(p,s){return p=+p,s=+s,function(u){return p*(1-u)+s*u}}function LU(p,s){var u,l={},f={};for(u in p!==null&&typeof p=="object"||(p={}),s!==null&&typeof s=="object"||(s={}),s)u in p?l[u]=Vb(p[u],s[u]):f[u]=s[u];return function(d){for(u in l)f[u]=l[u](d);return f}}var Pb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kb=new RegExp(Pb.source,"g");function NU(p,s){var u,l,f,d=Pb.lastIndex=kb.lastIndex=0,_=-1,w=[],x=[];for(p+="",s+="";(u=Pb.exec(p))&&(l=kb.exec(s));)(f=l.index)>d&&(f=s.slice(d,f),w[_]?w[_]+=f:w[++_]=f),(u=u[0])===(l=l[0])?w[_]?w[_]+=l:w[++_]=l:(w[++_]=null,x.push({i:_,x:gg(u,l)})),d=kb.lastIndex;return d<s.length&&(f=s.slice(d),w[_]?w[_]+=f:w[++_]=f),w.length<2?x[0]?(function(T){return function(M){return T(M)+""}})(x[0].x):(function(T){return function(){return T}})(s):(s=x.length,function(T){for(var M,N=0;N<s;++N)w[(M=x[N]).i]=M.x(T);return w.join("")})}function RU(p,s){s||(s=[]);var u,l=p?Math.min(s.length,p.length):0,f=s.slice();return function(d){for(u=0;u<l;++u)f[u]=p[u]*(1-d)+s[u]*d;return f}}function Vb(p,s){var u,l,f=typeof s;return s==null||f==="boolean"?vg(s):(f==="number"?gg:f==="string"?(u=Ci(s))?(s=u,iL):NU:s instanceof Ci?iL:s instanceof Date?MU:(l=s,!ArrayBuffer.isView(l)||l instanceof DataView?Array.isArray(s)?DU:typeof s.valueOf!="function"&&typeof s.toString!="function"||isNaN(s)?LU:gg:RU))(p,s)}function IU(p,s){return p=+p,s=+s,function(u){return Math.round(p*(1-u)+s*u)}}function OU(p){return+p}var aL=[0,1];function $a(p){return p}function Gb(p,s){return(s-=p=+p)?function(l){return(l-p)/s}:(u=isNaN(s)?NaN:.5,function(){return u});var u}function PU(p,s,u){var l=p[0],f=p[1],d=s[0],_=s[1];return f<l?(l=Gb(f,l),d=u(_,d)):(l=Gb(l,f),d=u(d,_)),function(w){return d(l(w))}}function kU(p,s,u){var l=Math.min(p.length,s.length)-1,f=new Array(l),d=new Array(l),_=-1;for(p[l]<p[0]&&(p=p.slice().reverse(),s=s.slice().reverse());++_<l;)f[_]=Gb(p[_],p[_+1]),d[_]=u(s[_],s[_+1]);return function(w){var x=yU(p,w,1,l)-1;return d[x](f[x](w))}}function Fb(p,s){return s.domain(p.domain()).range(p.range()).interpolate(p.interpolate()).clamp(p.clamp()).unknown(p.unknown())}function Bb(){var p,s,u,l,f,d,_=aL,w=aL,x=Vb,T=$a;function M(){var I,G,B,U=Math.min(_.length,w.length);return T!==$a&&(I=_[0],G=_[U-1],I>G&&(B=I,I=G,G=B),T=function($){return Math.max(I,Math.min(G,$))}),l=U>2?kU:PU,f=d=null,N}function N(I){return I==null||isNaN(I=+I)?u:(f||(f=l(_.map(p),w,x)))(p(T(I)))}return N.invert=function(I){return T(s((d||(d=l(w,_.map(p),gg)))(I)))},N.domain=function(I){return arguments.length?(_=Array.from(I,OU),M()):_.slice()},N.range=function(I){return arguments.length?(w=Array.from(I),M()):w.slice()},N.rangeRound=function(I){return w=Array.from(I),x=IU,M()},N.clamp=function(I){return arguments.length?(T=!!I||$a,M()):T!==$a},N.interpolate=function(I){return arguments.length?(x=I,M()):x},N.unknown=function(I){return arguments.length?(u=I,N):u},function(I,G){return p=I,s=G,M()}}function Hb(p,s){switch(arguments.length){case 0:break;case 1:this.range(p);break;default:this.range(s).domain(p)}return this}function oL(p){return Math.log(p)}function sL(p){return Math.exp(p)}function VU(p){return-Math.log(-p)}function GU(p){return-Math.exp(-p)}function FU(p){return isFinite(p)?+("1e"+p):p<0?0:p}function lL(p){return(s,u)=>-p(-s,u)}function uL(){const p=(function(s){const u=s(oL,sL),l=u.domain;let f,d,_=10;function w(){return f=(function(x){return x===Math.E?Math.log:x===10&&Math.log10||x===2&&Math.log2||(x=Math.log(x),T=>Math.log(T)/x)})(_),d=(function(x){return x===10?FU:x===Math.E?Math.exp:T=>Math.pow(x,T)})(_),l()[0]<0?(f=lL(f),d=lL(d),s(VU,GU)):s(oL,sL),u}return u.base=function(x){return arguments.length?(_=+x,w()):_},u.domain=function(x){return arguments.length?(l(x),w()):l()},u.ticks=x=>{const T=l();let M=T[0],N=T[T.length-1];const I=N<M;I&&([M,N]=[N,M]);let G,B,U=f(M),$=f(N);const Q=x==null?10:+x;let nt=[];if(!(_%1)&&$-U<Q){if(U=Math.floor(U),$=Math.ceil($),M>0){for(;U<=$;++U)for(G=1;G<_;++G)if(B=U<0?G/d(-U):G*d(U),!(B<M)){if(B>N)break;nt.push(B)}}else for(;U<=$;++U)for(G=_-1;G>=1;--G)if(B=U>0?G/d(-U):G*d(U),!(B<M)){if(B>N)break;nt.push(B)}2*nt.length<Q&&(nt=Nb(M,N,Q))}else nt=Nb(U,$,Math.min($-U,Q)).map(d);return I?nt.reverse():nt},u.tickFormat=(x,T)=>{if(x==null&&(x=10),T==null&&(T=_===10?"s":","),typeof T!="function"&&(_%1||(T=np(T)).precision!=null||(T.trim=!0),T=Yi(T)),x===1/0)return T;const M=Math.max(1,_*x/u.ticks().length);return N=>{let I=N/d(Math.round(f(N)));return I*_<_-.5&&(I*=_),I<=M?T(N):""}},u.nice=()=>l((function(x,T){var M,N=0,I=(x=x.slice()).length-1,G=x[N],B=x[I];return B<G&&(M=N,N=I,I=M,M=G,G=B,B=M),x[N]=T.floor(G),x[I]=T.ceil(B),x})(l(),{floor:x=>d(Math.floor(f(x))),ceil:x=>d(Math.ceil(f(x)))})),u})(Bb()).domain([1,10]);return p.copy=()=>Fb(p,uL()).base(p.base()),Hb.apply(p,arguments),p}function cL(p){var s=p.domain;return p.ticks=function(u){var l=s();return Nb(l[0],l[l.length-1],u??10)},p.tickFormat=function(u,l){var f=s();return(function(d,_,w,x){var T,M=(function(I,G,B){B=+B;const U=(G=+G)<(I=+I),$=U?Rb(G,I,B):Rb(I,G,B);return(U?-1:1)*($<0?1/-$:$)})(d,_,w);switch((x=np(x??",f")).type){case"s":var N=Math.max(Math.abs(d),Math.abs(_));return x.precision!=null||isNaN(T=(function(I,G){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(qc(G)/3)))-qc(Math.abs(I)))})(M,N))||(x.precision=T),UM(x,N);case"":case"e":case"g":case"p":case"r":x.precision!=null||isNaN(T=(function(I,G){return I=Math.abs(I),G=Math.abs(G)-I,Math.max(0,qc(G)-qc(I))+1})(M,Math.max(Math.abs(d),Math.abs(_))))||(x.precision=T-(x.type==="e"));break;case"f":case"%":x.precision!=null||isNaN(T=(function(I){return Math.max(0,-qc(Math.abs(I)))})(M))||(x.precision=T-2*(x.type==="%"))}return Yi(x)})(f[0],f[f.length-1],u??10,l)},p.nice=function(u){u==null&&(u=10);var l,f,d=s(),_=0,w=d.length-1,x=d[_],T=d[w],M=10;for(T<x&&(f=x,x=T,T=f,f=_,_=w,w=f);M-- >0;){if((f=Rb(x,T,u))===l)return d[_]=x,d[w]=T,s(d);if(f>0)x=Math.floor(x/f)*f,T=Math.ceil(T/f)*f;else{if(!(f<0))break;x=Math.ceil(x*f)/f,T=Math.floor(T*f)/f}l=f}return p},p}function op(){var p=Bb()($a,$a);return p.copy=function(){return Fb(p,op())},Hb.apply(p,arguments),cL(p)}function fL(p){return function(s){return s<0?-Math.pow(-s,p):Math.pow(s,p)}}function BU(p){return p<0?-Math.sqrt(-p):Math.sqrt(p)}function HU(p){return p<0?-p*p:p*p}function sp(){var p=(function(s){var u=s($a,$a),l=1;return u.exponent=function(f){return arguments.length?(l=+f)==1?s($a,$a):l===.5?s(BU,HU):s(fL(l),fL(1/l)):l},cL(u)})(Bb());return p.copy=function(){return Fb(p,sp()).exponent(p.exponent())},Hb.apply(p,arguments),p}function hL(p){switch(p===void 0&&(p="linear"),p){case"log":return uL().clamp(!0);case"sqrt":return(function(){return sp.apply(null,arguments).exponent(.5)})().clamp(!0);case"pow1.1":return sp().exponent(1.1).clamp(!0);case"pow2":return sp().exponent(2).clamp(!0);case"pow3":return sp().exponent(3).clamp(!0);default:return op().clamp(!0)}}function pL(p,s){return p.length===s.length&&p.every((function(u,l){return Kt(u,s[l],1e-4)}))}function yg(p,s){return s==="log"&&p[0]===0&&(p[0]=1e-7),p[0]==null&&(p[0]=Number.NaN),p[1]==null&&(p[1]=Number.NaN),p}var zr=(function(){function p(s,u,l){var f;if(s===void 0&&(s=[0,1]),u===void 0&&(u="linear"),l===void 0&&(l=[0,1]),!s||Array.isArray(s))this.type=u,this.s=hL(u).domain(yg((f=s)!==null&&f!==void 0?f:[0,1],this.type)).range(l);else{var d=s;this.type=d.type,this.s=hL(d.type).domain(yg(d.domain,d.type)).range(d.range)}}return Object.defineProperty(p.prototype,"domain",{get:function(){return this.s.domain()},set:function(s){this.s.domain(yg(s,this.type))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"range",{get:function(){return this.s.range()},set:function(s){this.s.range(s)},enumerable:!1,configurable:!0}),p.prototype.getRange=function(s){return[s(this.invert(0)),s(this.invert(1))]},p.prototype.apply=function(s){return this.s(s)},p.prototype.invert=function(s){return this.s.invert(s)},Object.defineProperty(p.prototype,"scaleType",{get:function(){return this.type},enumerable:!1,configurable:!0}),p.prototype.toJSON=function(){return{type:this.type,domain:this.domain,range:this.range}},p.prototype.eq=function(s){if(!(s instanceof p))return!1;var u=s;return u.type===this.type&&pL(this.domain,u.domain)&&pL(this.range,u.range)},p.prototype.clone=function(){return new p(this.domain,this.type,this.range)},p})(),Qc=(function(){function p(s,u){var l;if(s===void 0&&(s=[0,1]),u===void 0&&(u="return this.linear(value,this.value_min,this.value_max);"),!s||Array.isArray(s))this.domain=(l=s)!==null&&l!==void 0?l:[0,1];else{var f=s;this.domain=f.domain,u=f.code}this.code=typeof u=="string"?u:u.toString(),this.f=typeof u=="function"?u:new Function("value",u)}return p.prototype.getRange=function(){return["?","?"]},p.prototype.apply=function(s){var u=this.domain[0],l=this.domain[this.domain.length-1],f=this.f.call({value_min:u,value_max:l,value_range:l-u,value_domain:this.domain.slice(),linear:function(d,_,w){return(d-_)/(w-_)}},s);return typeof f=="number"?Math.max(Math.min(f,1),0):NaN},p.prototype.toJSON=function(){return{type:"script",code:this.code,domain:this.domain}},p.prototype.eq=function(s){if(!(s instanceof p))return!1;var u=s;return u.code===this.code||u.f===this.f},p.prototype.clone=function(){return new p(this.domain,this.f)},p})();function qa(p,s){return p.map?s.mappingFunction(p.map):new zr(yg(p.domain||[0,1],"linear"),"linear",p.range||[0,1])}function dL(){return{script:Qc,linear:zr,log:zr,"pow1.1":zr,pow2:zr,pow3:zr}}var ql=Yi(".3n");function zb(p,s){var u=p.getBoxPlotData(s),l=p.getSortMethod();return u==null?NaN:u[l]}function tf(p,s,u){var l=u==="normalized"?p.getBoxPlotData(s):p.getRawBoxPlotData(s);return l==null?NaN:l[p.getSortMethod()]}function yi(){return{min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY,filterMissing:!1}}function vL(p,s,u){return u===void 0&&(u=.001),Kt(p.min,s.min,u)&&Kt(p.max,s.max,u)&&p.filterMissing===s.filterMissing}function gL(p,s){return!(p&&(Number.isNaN(s)?p.filterMissing:isFinite(p.min)&&s<p.min||isFinite(p.max)&&s>p.max))}function Xa(p){return!p.filterMissing&&!isFinite(p.min)&&!isFinite(p.max)}function Is(p){return{min:p.min!=null&&isFinite(p.min)?p.min:Number.NEGATIVE_INFINITY,max:p.max!=null&&isFinite(p.max)?p.max:Number.POSITIVE_INFINITY,filterMissing:p.filterMissing}}var zU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),UU=(function(p){function s(l,f,d){var _=p.call(this,l,fr(f,{groupRenderer:"boxplot",summaryRenderer:"histogram"}))||this;return _.currentFilter=yi(),_.filterAccuracy=.001,_.numberFormat=Yi(".2f"),_.currentGroupThresholds=[],_.groupSortMethod=tn.median,_.mapping=qa(f,d),_.original=_.mapping.clone(),_.deriveMapping=_.mapping.domain.map((function(w){return w==null||Number.isNaN(w)})),_.colorMapping=d.colorMappingFunction(f.colorMapping||f.color),f.numberFormat&&(_.numberFormat=Yi(f.numberFormat)),f.filterAccuracy&&(_.filterAccuracy=f.filterAccuracy),_}var u;return zU(s,p),u=s,s.prototype.getNumberFormat=function(){return this.numberFormat},s.prototype.onDataUpdate=function(l){var f=this;if(p.prototype.onDataUpdate.call(this,l),this.deriveMapping.some(Boolean)){var d=l.map((function(w){return f.getRawValue(w)})).reduce((function(w,x){return x==null||Number.isNaN(x)||(x<w.min&&(w.min=x),x>w.max&&(w.max=x)),w}),{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}),_=this.mapping.domain.slice();this.deriveMapping[0]&&(_[0]=d.min),this.deriveMapping[this.deriveMapping.length-1]&&(_[_.length-1]=d.max),this.mapping.domain=_,this.original.domain=_}},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.map=this.mapping.toJSON(),f.colorMapping=this.colorMapping.toJSON(),f.filter=Xa(this.currentFilter)?null:this.currentFilter,f.groupSortMethod=this.groupSortMethod,this.currentGroupThresholds&&(f.stratifyThresholds=this.currentGroupThresholds),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),(l.map||l.domain)&&(this.mapping=qa(l,f)),l.colorMapping&&(this.colorMapping=f.colorMappingFunction(l.colorMapping)),l.groupSortMethod&&(this.groupSortMethod=l.groupSortMethod),l.filter&&(this.currentFilter=Is(l.filter)),l.stratifyThresholds&&(this.currentGroupThresholds=l.stratifyThresholds),l.stratifyThreshholds&&(this.currentGroupThresholds=l.stratifyThreshholds)},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_MAPPING_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_FILTER_CHANGED,u.EVENT_SORTMETHOD_CHANGED,u.EVENT_GROUPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getLabel=function(l){if(this.desc.numberFormat){var f=this.getRawValue(l);return Number.isNaN(f)?"NaN":isFinite(f)?this.numberFormat(f):f.toString()}var d=p.prototype.getValue.call(this,l);return typeof d=="number"?this.numberFormat(+d):String(d)},s.prototype.getRange=function(){return this.mapping.getRange(this.numberFormat)},s.prototype.getRawValue=function(l){var f=p.prototype.getValue.call(this,l);return Hr(f)?NaN:+f},s.prototype.getExportValue=function(l,f){return f==="json"?this.getRawValue(l):p.prototype.getExportValue.call(this,l,f)},s.prototype.getValue=function(l){var f=this.getNumber(l);return Number.isNaN(f)?null:f},s.prototype.getNumber=function(l){var f=this.getRawValue(l);return Number.isNaN(f)?NaN:this.mapping.apply(f)},s.prototype.iterNumber=function(l){return[this.getNumber(l)]},s.prototype.iterRawNumber=function(l){return[this.getRawNumber(l)]},s.prototype.getRawNumber=function(l){return this.getRawValue(l)},s.prototype.toCompareValue=function(l,f){return f??this.getNumber(l)},s.prototype.toCompareValueType=function(){return tt.FLOAT},s.prototype.toCompareGroupValue=function(l,f,d){return(function(_,w,x,T){var M=lt();return T?M.pushAll(T):M.pushAll(_.map((function(N){return w.getNumber(N)}))),M.build()[x]})(l,this,this.groupSortMethod,d)},s.prototype.toCompareGroupValueType=function(){return tt.FLOAT},s.prototype.getOriginalMapping=function(){return this.original.clone()},s.prototype.getMapping=function(){return this.mapping.clone()},s.prototype.setMapping=function(l){this.mapping.eq(l)||(this.deriveMapping=[],this.fire([u.EVENT_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],this.mapping.clone(),this.mapping=l))},s.prototype.getColor=function(l){var f=this.getNumber(l);return Number.isNaN(f)?Oe:this.colorMapping.apply(f)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([u.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return!Xa(this.currentFilter)},s.prototype.getFilter=function(){return Object.assign({},this.currentFilter)},s.prototype.setFilter=function(l){if(!vL(l=l||{min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY,filterMissing:!1},this.currentFilter,this.filterAccuracy)){var f=this.getFilter();this.currentFilter.min=rp(l.min)?Number.NEGATIVE_INFINITY:l.min,this.currentFilter.max=rp(l.max)?Number.POSITIVE_INFINITY:l.max,this.currentFilter.filterMissing=l.filterMissing,this.fire([u.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],f,this.getFilter())}},s.prototype.filter=function(l){return gL(this.currentFilter,this.getRawNumber(l))},s.prototype.clearFilter=function(){var l=this.isFiltered();return this.setFilter(null),l},s.prototype.getGroupThresholds=function(){return this.currentGroupThresholds.slice()},s.prototype.setGroupThresholds=function(l){if(!me(this.currentGroupThresholds,l)){var f=this.getGroupThresholds();this.currentGroupThresholds=l.slice(),this.fire([u.EVENT_GROUPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],f,l)}},s.prototype.group=function(l){var f=this.getRawNumber(l);if(Number.isNaN(f))return Object.assign({},Uo);var d=this.currentGroupThresholds;if(d.length===0){var _=this.mapping.domain;d=[(_[1]-_[0])/2]}var w=d.findIndex((function(x){return f<=x}));switch(w){case-1:return{name:"".concat(this.label," > ").concat(this.numberFormat(d[d.length-1])),color:this.colorMapping.apply(1)};case 0:return{name:"".concat(this.label," <= ").concat(this.numberFormat(d[0])),color:this.colorMapping.apply(0)};default:return{name:"".concat(this.numberFormat(d[w-1])," <= ").concat(this.label," <= ").concat(this.numberFormat(d[w])),color:this.colorMapping.apply(this.mapping.apply((d[w-1]+d[w])/2))}}},s.prototype.getSortMethod=function(){return this.groupSortMethod},s.prototype.setSortMethod=function(l){this.groupSortMethod!==l&&(this.fire([u.EVENT_SORTMETHOD_CHANGED],this.groupSortMethod,this.groupSortMethod=l),this.isGroupSortedByMe().asc||this.toggleMyGroupSorting())},s.EVENT_MAPPING_CHANGED="mappingChanged",s.EVENT_COLOR_MAPPING_CHANGED="colorMappingChanged",s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_SORTMETHOD_CHANGED="sortMethodChanged",s.EVENT_GROUPING_CHANGED="groupingChanged",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","groupBy","sortGroupBy","filterNumber","colorMapped","editMapping"),vi("sortGroup","sortNumber"),vi("group","groupNumber"),ln("number"),Ua("descending")],s)})(Tr);const ce=UU;var WU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),jU=(function(p){function s(l,f,d){var _=p.call(this,l,f)||this;return _.numberFormat=ql,_.currentFilter=yi(),_.mapping=qa(f,d),_.original=_.mapping.clone(),_.deriveMapping=_.mapping.domain.map((function(w){return w==null||Number.isNaN(w)})),_.colorMapping=d.colorMappingFunction(f.colorMapping),f.numberFormat&&(_.numberFormat=Yi(f.numberFormat)),_.sort=f.sort||zc.min,_}var u;return WU(s,p),u=s,s.prototype.onDataUpdate=function(l){var f=this;if(p.prototype.onDataUpdate.call(this,l),this.deriveMapping.some(Boolean)){var d=l.map((function(w){return f.getRawValue(w)})).reduce((function(w,x){return x==null||(x.min<w.min&&(w.min=x.min),x.max>w.max&&(w.max=x.max)),w}),{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}),_=this.mapping.domain.slice();this.deriveMapping[0]&&(_[0]=d.min),this.deriveMapping[this.deriveMapping.length-1]&&(_[_.length-1]=d.max),this.mapping.domain=_,this.original.domain=_}},s.prototype.getNumberFormat=function(){return this.numberFormat},s.prototype.toCompareValue=function(l){return zb(this,l)},s.prototype.toCompareValueType=function(){return tt.FLOAT},s.prototype.getBoxPlotData=function(l){return this.getValue(l)},s.prototype.getRange=function(){return this.mapping.getRange(this.numberFormat)},s.prototype.getRawBoxPlotData=function(l){return this.getRawValue(l)},s.prototype.getRawValue=function(l){return p.prototype.getValue.call(this,l)},s.prototype.getExportValue=function(l,f){return f==="json"?this.getRawValue(l):p.prototype.getExportValue.call(this,l,f)},s.prototype.getValue=function(l){var f=this,d=this.getRawValue(l);if(d==null)return null;var _={min:this.mapping.apply(d.min),max:this.mapping.apply(d.max),median:this.mapping.apply(d.median),q1:this.mapping.apply(d.q1),q3:this.mapping.apply(d.q3)};return d.outlier&&Object.assign(_,{outlier:d.outlier.map((function(w){return f.mapping.apply(w)}))}),d.whiskerLow!=null&&Object.assign(_,{whiskerLow:this.mapping.apply(d.whiskerLow)}),d.whiskerHigh!=null&&Object.assign(_,{whiskerHigh:this.mapping.apply(d.whiskerHigh)}),_},s.prototype.getNumber=function(l){return tf(this,l,"normalized")},s.prototype.getRawNumber=function(l){return tf(this,l,"raw")},s.prototype.iterNumber=function(l){return[this.getNumber(l)]},s.prototype.iterRawNumber=function(l){return[this.getRawNumber(l)]},s.prototype.getLabel=function(l){var f=this.getRawValue(l);if(f==null)return"";var d=this.numberFormat;return"BoxPlot(min = ".concat(d(f.min),", q1 = ").concat(d(f.q1),", median = ").concat(d(f.median),", q3 = ").concat(d(f.q3),", max = ").concat(d(f.max),")")},s.prototype.getSortMethod=function(){return this.sort},s.prototype.setSortMethod=function(l){this.sort!==l&&(this.fire(u.EVENT_SORTMETHOD_CHANGED,this.sort,this.sort=l),this.isSortedByMe().asc||this.sortByMe())},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.sortMethod=this.getSortMethod(),f.filter=Xa(this.currentFilter)?null:this.currentFilter,f.map=this.mapping.toJSON(),f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),l.sortMethod&&(this.sort=l.sortMethod),l.filter&&(this.currentFilter=Is(l.filter)),(l.map||l.domain)&&(this.mapping=qa(l,f)),l.colorMapping&&(this.colorMapping=f.colorMappingFunction(l.colorMapping))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_SORTMETHOD_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_MAPPING_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getOriginalMapping=function(){return this.original.clone()},s.prototype.getMapping=function(){return this.mapping.clone()},s.prototype.setMapping=function(l){this.mapping.eq(l)||(this.deriveMapping=[],this.fire([u.EVENT_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.mapping.clone(),this.mapping=l))},s.prototype.getColor=function(l){return ce.prototype.getColor.call(this,l)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([u.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return ce.prototype.isFiltered.call(this)},s.prototype.getFilter=function(){return ce.prototype.getFilter.call(this)},s.prototype.setFilter=function(l){ce.prototype.setFilter.call(this,l)},s.prototype.filter=function(l){return ce.prototype.filter.call(this,l)},s.prototype.clearFilter=function(){return ce.prototype.clearFilter.call(this)},s.EVENT_MAPPING_CHANGED=ce.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=ce.EVENT_COLOR_MAPPING_CHANGED,s.EVENT_SORTMETHOD_CHANGED=ce.EVENT_SORTMETHOD_CHANGED,s.EVENT_FILTER_CHANGED=ce.EVENT_FILTER_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","filterNumber","colorMapped","editMapping"),vi("sort","sortBoxPlot"),ln("array"),Ua("descending")],s)})(Tr);const Ai=jU;var YU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),$U=(function(p){function s(u,l){return p.call(this,u,fr(l,{width:200}))||this}return YU(s,p),s.prototype.getValue=function(u){var l=this.getMap(u);return l.length===0?null:l},s.prototype.getLabels=function(u){return this.getMap(u).map((function(l){var f=l.key,d=l.value;return{key:f,value:String(d)}}))},s.prototype.getMap=function(u){return(l=p.prototype.getValue.call(this,u))?l instanceof Map?Array.from(l.entries()).map((function(f){return{key:f[0],value:f[1]}})).sort(yL):Array.isArray(l)?l:Object.keys(l).map((function(f){return{key:f,value:l[f]}})).sort(yL):[];var l},s.prototype.getMapLabel=function(u){return this.getLabels(u)},s.prototype.getLabel=function(u){var l=this.getLabels(u);return"{".concat(l.map((function(f){var d=f.key,_=f.value;return"".concat(d,": ").concat(_)})).join(", "),"}")},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([ln("map")],s)})(Tr);const ef=$U;function yL(p,s){return p===s?0:p.key.localeCompare(s.key)}var qU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),XU=(function(p){function s(l,f){var d=p.call(this,l,f)||this;return d.lookup=new Map,d.categories=Wa(f),d.categories.forEach((function(_){return d.lookup.set(_.name,_)})),d.colorMapping=gi,d}var u;return qU(s,p),u=s,s.prototype.onDataUpdate=function(l){var f,d=this;if(p.prototype.onDataUpdate.call(this,l),!this.desc.categories){var _=new Set;l.forEach((function(w){var x=p.prototype.getValue.call(d,w);if(x&&Array.isArray(x)&&x.length!==0)for(var T=0,M=x;T<M.length;T++){var N=M[T];N&&N.value&&_.add(String(N.value))}})),(f=this.categories).splice.apply(f,(function(w,x,T){if(arguments.length===2)for(var M,N=0,I=x.length;N<I;N++)!M&&N in x||(M||(M=Array.prototype.slice.call(x,0,N)),M[N]=x[N]);return w.concat(M||Array.prototype.slice.call(x))})([0,this.categories.length],Wa({categories:Array.from(_)}),!1)),this.categories.forEach((function(w){return d.lookup.set(w.name,w)}))}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.parseValue=function(l){if(!l)return null;var f=String(l);return this.lookup.has(f)?this.lookup.get(f):null},s.prototype.getCategoryMap=function(l){var f=this;return p.prototype.getMap.call(this,l).map((function(d){var _=d.key,w=d.value;return{key:_,value:f.parseValue(w)}}))},s.prototype.getCategories=function(l){return this.getCategoryMap(l).map((function(f){return f.value}))},s.prototype.getColors=function(l){var f=this;return this.getCategoryMap(l).map((function(d){var _=d.key,w=d.value;return{key:_,value:w?f.colorMapping.apply(w):Oe}}))},s.prototype.getValue=function(l){var f=this.getCategoryMap(l);return f.length===0?null:f.map((function(d){var _=d.key,w=d.value;return{key:_,value:w?w.name:null}}))},s.prototype.getLabels=function(l){return this.getCategoryMap(l).map((function(f){var d=f.key,_=f.value;return{key:d,value:_?_.label:""}}))},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){return we.prototype.setColorMapping.call(this,l)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories)},s.prototype.iterCategory=function(l){return this.getCategories(l)},s.EVENT_COLOR_MAPPING_CHANGED=we.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","colorMappedCategorical")],s)})(ef);const mL=XU;var ZU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),KU=(function(p){function s(l,f){var d=p.call(this,l,f)||this;return d.lookup=new Map,d.categories=Wa(f),d.categories.forEach((function(_){return d.lookup.set(_.name,_)})),d.colorMapping=gi,d}var u;return ZU(s,p),u=s,s.prototype.onDataUpdate=function(l){var f,d=this;if(p.prototype.onDataUpdate.call(this,l),!this.desc.categories){var _=new Set;l.forEach((function(w){var x=p.prototype.getValue.call(d,w);if(x&&Array.isArray(x)&&x.length!==0)for(var T=0,M=x;T<M.length;T++){var N=M[T];N&&_.add(String(N))}})),(f=this.categories).splice.apply(f,(function(w,x,T){if(arguments.length===2)for(var M,N=0,I=x.length;N<I;N++)!M&&N in x||(M||(M=Array.prototype.slice.call(x,0,N)),M[N]=x[N]);return w.concat(M||Array.prototype.slice.call(x))})([0,this.categories.length],Wa({categories:Array.from(_)}),!1)),this.categories.forEach((function(w){return d.lookup.set(w.name,w)}))}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getCategories=function(l){var f=this;return p.prototype.getValues.call(this,l).map((function(d){if(!d)return null;var _=String(d);return f.lookup.has(_)?f.lookup.get(_):null}))},s.prototype.getColors=function(l){var f=this;return this.getCategories(l).map((function(d){return d?f.colorMapping.apply(d):Oe}))},s.prototype.iterCategory=function(l){return this.getCategories(l)},s.prototype.getValues=function(l){return this.getCategories(l).map((function(f){return f?f.name:null}))},s.prototype.getLabels=function(l){return this.getCategories(l).map((function(f){return f?f.label:""}))},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){return we.prototype.setColorMapping.call(this,l)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories)},s.EVENT_COLOR_MAPPING_CHANGED=we.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","colorMappedCategorical")],s)})(Wl);const _L=KU,Ub=new Date,Wb=new Date;function Dn(p,s,u,l){function f(d){return p(d=arguments.length===0?new Date:new Date(+d)),d}return f.floor=d=>(p(d=new Date(+d)),d),f.ceil=d=>(p(d=new Date(d-1)),s(d,1),p(d),d),f.round=d=>{const _=f(d),w=f.ceil(d);return d-_<w-d?_:w},f.offset=(d,_)=>(s(d=new Date(+d),_==null?1:Math.floor(_)),d),f.range=(d,_,w)=>{const x=[];if(d=f.ceil(d),w=w==null?1:Math.floor(w),!(d<_&&w>0))return x;let T;do x.push(T=new Date(+d)),s(d,w),p(d);while(T<d&&d<_);return x},f.filter=d=>Dn((_=>{if(_>=_)for(;p(_),!d(_);)_.setTime(_-1)}),((_,w)=>{if(_>=_)if(w<0)for(;++w<=0;)for(;s(_,-1),!d(_););else for(;--w>=0;)for(;s(_,1),!d(_););})),u&&(f.count=(d,_)=>(Ub.setTime(+d),Wb.setTime(+_),p(Ub),p(Wb),Math.floor(u(Ub,Wb))),f.every=d=>(d=Math.floor(d),isFinite(d)&&d>0?d>1?f.filter(l?_=>l(_)%d==0:_=>f.count(0,_)%d==0):f:null)),f}const mg=1e3,Xl=6e4,_g=36e5,bg=864e5,bL=6048e5;function Zl(p){return Dn((s=>{s.setDate(s.getDate()-(s.getDay()+7-p)%7),s.setHours(0,0,0,0)}),((s,u)=>{s.setDate(s.getDate()+7*u)}),((s,u)=>(u-s-(u.getTimezoneOffset()-s.getTimezoneOffset())*Xl)/bL))}const jb=Zl(0),Sg=Zl(1),JU=Zl(2),QU=Zl(3),rf=Zl(4),tW=Zl(5),eW=Zl(6);function Kl(p){return Dn((s=>{s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-p)%7),s.setUTCHours(0,0,0,0)}),((s,u)=>{s.setUTCDate(s.getUTCDate()+7*u)}),((s,u)=>(u-s)/bL))}jb.range,Sg.range,JU.range,QU.range,rf.range,tW.range,eW.range;const SL=Kl(0),wg=Kl(1),rW=Kl(2),nW=Kl(3),nf=Kl(4),iW=Kl(5),aW=Kl(6),af=(SL.range,wg.range,rW.range,nW.range,nf.range,iW.range,aW.range,Dn((p=>p.setHours(0,0,0,0)),((p,s)=>p.setDate(p.getDate()+s)),((p,s)=>(s-p-(s.getTimezoneOffset()-p.getTimezoneOffset())*Xl)/bg),(p=>p.getDate()-1))),Yb=(af.range,Dn((p=>{p.setUTCHours(0,0,0,0)}),((p,s)=>{p.setUTCDate(p.getUTCDate()+s)}),((p,s)=>(s-p)/bg),(p=>p.getUTCDate()-1))),oW=(Yb.range,Dn((p=>{p.setUTCHours(0,0,0,0)}),((p,s)=>{p.setUTCDate(p.getUTCDate()+s)}),((p,s)=>(s-p)/bg),(p=>Math.floor(p/bg)))),Jl=(oW.range,Dn((p=>{p.setMonth(0,1),p.setHours(0,0,0,0)}),((p,s)=>{p.setFullYear(p.getFullYear()+s)}),((p,s)=>s.getFullYear()-p.getFullYear()),(p=>p.getFullYear())));Jl.every=p=>isFinite(p=Math.floor(p))&&p>0?Dn((s=>{s.setFullYear(Math.floor(s.getFullYear()/p)*p),s.setMonth(0,1),s.setHours(0,0,0,0)}),((s,u)=>{s.setFullYear(s.getFullYear()+u*p)})):null,Jl.range;const Ql=Dn((p=>{p.setUTCMonth(0,1),p.setUTCHours(0,0,0,0)}),((p,s)=>{p.setUTCFullYear(p.getUTCFullYear()+s)}),((p,s)=>s.getUTCFullYear()-p.getUTCFullYear()),(p=>p.getUTCFullYear()));function $b(p){if(0<=p.y&&p.y<100){var s=new Date(-1,p.m,p.d,p.H,p.M,p.S,p.L);return s.setFullYear(p.y),s}return new Date(p.y,p.m,p.d,p.H,p.M,p.S,p.L)}function qb(p){if(0<=p.y&&p.y<100){var s=new Date(Date.UTC(-1,p.m,p.d,p.H,p.M,p.S,p.L));return s.setUTCFullYear(p.y),s}return new Date(Date.UTC(p.y,p.m,p.d,p.H,p.M,p.S,p.L))}function lp(p,s,u){return{y:p,m:s,d:u,H:0,M:0,S:0,L:0}}Ql.every=p=>isFinite(p=Math.floor(p))&&p>0?Dn((s=>{s.setUTCFullYear(Math.floor(s.getUTCFullYear()/p)*p),s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0)}),((s,u)=>{s.setUTCFullYear(s.getUTCFullYear()+u*p)})):null,Ql.range;var up,Ur,Os,wL={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,sW=/^%/,lW=/[\\^$*+?|[\]().{}]/g;function Ke(p,s,u){var l=p<0?"-":"",f=(l?-p:p)+"",d=f.length;return l+(d<u?new Array(u-d+1).join(s)+f:f)}function uW(p){return p.replace(lW,"\\$&")}function cp(p){return new RegExp("^(?:"+p.map(uW).join("|")+")","i")}function fp(p){return new Map(p.map(((s,u)=>[s.toLowerCase(),u])))}function cW(p,s,u){var l=gn.exec(s.slice(u,u+1));return l?(p.w=+l[0],u+l[0].length):-1}function fW(p,s,u){var l=gn.exec(s.slice(u,u+1));return l?(p.u=+l[0],u+l[0].length):-1}function hW(p,s,u){var l=gn.exec(s.slice(u,u+2));return l?(p.U=+l[0],u+l[0].length):-1}function pW(p,s,u){var l=gn.exec(s.slice(u,u+2));return l?(p.V=+l[0],u+l[0].length):-1}function dW(p,s,u){var l=gn.exec(s.slice(u,u+2));return l?(p.W=+l[0],u+l[0].length):-1}function xL(p,s,u){var l=gn.exec(s.slice(u,u+4));return l?(p.y=+l[0],u+l[0].length):-1}function EL(p,s,u){var l=gn.exec(s.slice(u,u+2));return l?(p.y=+l[0]+(+l[0]>68?1900:2e3),u+l[0].length):-1}function vW(p,s,u){var l=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(s.slice(u,u+6));return l?(p.Z=l[1]?0:-(l[2]+(l[3]||"00")),u+l[0].length):-1}function gW(p,s,u){var l=gn.exec(s.slice(u,u+1));return l?(p.q=3*l[0]-3,u+l[0].length):-1}function yW(p,s,u){var l=gn.exec(s.slice(u,u+2));return l?(p.m=l[0]-1,u+l[0].length):-1}function TL(p,s,u){var l=gn.exec(s.slice(u,u+2));return l?(p.d=+l[0],u+l[0].length):-1}function mW(p,s,u){var l=gn.exec(s.slice(u,u+3));return l?(p.m=0,p.d=+l[0],u+l[0].length):-1}function CL(p,s,u){var l=gn.exec(s.slice(u,u+2));return l?(p.H=+l[0],u+l[0].length):-1}function _W(p,s,u){var l=gn.exec(s.slice(u,u+2));return l?(p.M=+l[0],u+l[0].length):-1}function bW(p,s,u){var l=gn.exec(s.slice(u,u+2));return l?(p.S=+l[0],u+l[0].length):-1}function SW(p,s,u){var l=gn.exec(s.slice(u,u+3));return l?(p.L=+l[0],u+l[0].length):-1}function wW(p,s,u){var l=gn.exec(s.slice(u,u+6));return l?(p.L=Math.floor(l[0]/1e3),u+l[0].length):-1}function xW(p,s,u){var l=sW.exec(s.slice(u,u+1));return l?u+l[0].length:-1}function EW(p,s,u){var l=gn.exec(s.slice(u));return l?(p.Q=+l[0],u+l[0].length):-1}function TW(p,s,u){var l=gn.exec(s.slice(u));return l?(p.s=+l[0],u+l[0].length):-1}function AL(p,s){return Ke(p.getDate(),s,2)}function CW(p,s){return Ke(p.getHours(),s,2)}function AW(p,s){return Ke(p.getHours()%12||12,s,2)}function DW(p,s){return Ke(1+af.count(Jl(p),p),s,3)}function DL(p,s){return Ke(p.getMilliseconds(),s,3)}function MW(p,s){return DL(p,s)+"000"}function LW(p,s){return Ke(p.getMonth()+1,s,2)}function NW(p,s){return Ke(p.getMinutes(),s,2)}function RW(p,s){return Ke(p.getSeconds(),s,2)}function IW(p){var s=p.getDay();return s===0?7:s}function OW(p,s){return Ke(jb.count(Jl(p)-1,p),s,2)}function ML(p){var s=p.getDay();return s>=4||s===0?rf(p):rf.ceil(p)}function PW(p,s){return p=ML(p),Ke(rf.count(Jl(p),p)+(Jl(p).getDay()===4),s,2)}function kW(p){return p.getDay()}function VW(p,s){return Ke(Sg.count(Jl(p)-1,p),s,2)}function GW(p,s){return Ke(p.getFullYear()%100,s,2)}function FW(p,s){return Ke((p=ML(p)).getFullYear()%100,s,2)}function BW(p,s){return Ke(p.getFullYear()%1e4,s,4)}function HW(p,s){var u=p.getDay();return Ke((p=u>=4||u===0?rf(p):rf.ceil(p)).getFullYear()%1e4,s,4)}function zW(p){var s=p.getTimezoneOffset();return(s>0?"-":(s*=-1,"+"))+Ke(s/60|0,"0",2)+Ke(s%60,"0",2)}function LL(p,s){return Ke(p.getUTCDate(),s,2)}function UW(p,s){return Ke(p.getUTCHours(),s,2)}function WW(p,s){return Ke(p.getUTCHours()%12||12,s,2)}function jW(p,s){return Ke(1+Yb.count(Ql(p),p),s,3)}function NL(p,s){return Ke(p.getUTCMilliseconds(),s,3)}function YW(p,s){return NL(p,s)+"000"}function $W(p,s){return Ke(p.getUTCMonth()+1,s,2)}function qW(p,s){return Ke(p.getUTCMinutes(),s,2)}function XW(p,s){return Ke(p.getUTCSeconds(),s,2)}function ZW(p){var s=p.getUTCDay();return s===0?7:s}function KW(p,s){return Ke(SL.count(Ql(p)-1,p),s,2)}function RL(p){var s=p.getUTCDay();return s>=4||s===0?nf(p):nf.ceil(p)}function JW(p,s){return p=RL(p),Ke(nf.count(Ql(p),p)+(Ql(p).getUTCDay()===4),s,2)}function QW(p){return p.getUTCDay()}function tj(p,s){return Ke(wg.count(Ql(p)-1,p),s,2)}function ej(p,s){return Ke(p.getUTCFullYear()%100,s,2)}function rj(p,s){return Ke((p=RL(p)).getUTCFullYear()%100,s,2)}function nj(p,s){return Ke(p.getUTCFullYear()%1e4,s,4)}function ij(p,s){var u=p.getUTCDay();return Ke((p=u>=4||u===0?nf(p):nf.ceil(p)).getUTCFullYear()%1e4,s,4)}function aj(){return"+0000"}function IL(){return"%"}function OL(p){return+p}function PL(p){return Math.floor(+p/1e3)}up=(function(p){var s=p.dateTime,u=p.date,l=p.time,f=p.periods,d=p.days,_=p.shortDays,w=p.months,x=p.shortMonths,T=cp(f),M=fp(f),N=cp(d),I=fp(d),G=cp(_),B=fp(_),U=cp(w),$=fp(w),Q=cp(x),nt=fp(x),ot={a:function(ct){return _[ct.getDay()]},A:function(ct){return d[ct.getDay()]},b:function(ct){return x[ct.getMonth()]},B:function(ct){return w[ct.getMonth()]},c:null,d:AL,e:AL,f:MW,g:FW,G:HW,H:CW,I:AW,j:DW,L:DL,m:LW,M:NW,p:function(ct){return f[+(ct.getHours()>=12)]},q:function(ct){return 1+~~(ct.getMonth()/3)},Q:OL,s:PL,S:RW,u:IW,U:OW,V:PW,w:kW,W:VW,x:null,X:null,y:GW,Y:BW,Z:zW,"%":IL},ft={a:function(ct){return _[ct.getUTCDay()]},A:function(ct){return d[ct.getUTCDay()]},b:function(ct){return x[ct.getUTCMonth()]},B:function(ct){return w[ct.getUTCMonth()]},c:null,d:LL,e:LL,f:YW,g:rj,G:ij,H:UW,I:WW,j:jW,L:NL,m:$W,M:qW,p:function(ct){return f[+(ct.getUTCHours()>=12)]},q:function(ct){return 1+~~(ct.getUTCMonth()/3)},Q:OL,s:PL,S:XW,u:ZW,U:KW,V:JW,w:QW,W:tj,x:null,X:null,y:ej,Y:nj,Z:aj,"%":IL},Et={a:function(ct,kt,jt){var Nt=G.exec(kt.slice(jt));return Nt?(ct.w=B.get(Nt[0].toLowerCase()),jt+Nt[0].length):-1},A:function(ct,kt,jt){var Nt=N.exec(kt.slice(jt));return Nt?(ct.w=I.get(Nt[0].toLowerCase()),jt+Nt[0].length):-1},b:function(ct,kt,jt){var Nt=Q.exec(kt.slice(jt));return Nt?(ct.m=nt.get(Nt[0].toLowerCase()),jt+Nt[0].length):-1},B:function(ct,kt,jt){var Nt=U.exec(kt.slice(jt));return Nt?(ct.m=$.get(Nt[0].toLowerCase()),jt+Nt[0].length):-1},c:function(ct,kt,jt){return Wt(ct,s,kt,jt)},d:TL,e:TL,f:wW,g:EL,G:xL,H:CL,I:CL,j:mW,L:SW,m:yW,M:_W,p:function(ct,kt,jt){var Nt=T.exec(kt.slice(jt));return Nt?(ct.p=M.get(Nt[0].toLowerCase()),jt+Nt[0].length):-1},q:gW,Q:EW,s:TW,S:bW,u:fW,U:hW,V:pW,w:cW,W:dW,x:function(ct,kt,jt){return Wt(ct,u,kt,jt)},X:function(ct,kt,jt){return Wt(ct,l,kt,jt)},y:EL,Y:xL,Z:vW,"%":xW};function At(ct,kt){return function(jt){var Nt,ee,Ut,Ne=[],Be=-1,Xe=0,mi=ct.length;for(jt instanceof Date||(jt=new Date(+jt));++Be<mi;)ct.charCodeAt(Be)===37&&(Ne.push(ct.slice(Xe,Be)),(ee=wL[Nt=ct.charAt(++Be)])!=null?Nt=ct.charAt(++Be):ee=Nt==="e"?" ":"0",(Ut=kt[Nt])&&(Nt=Ut(jt,ee)),Ne.push(Nt),Xe=Be+1);return Ne.push(ct.slice(Xe,Be)),Ne.join("")}}function Ot(ct,kt){return function(jt){var Nt,ee,Ut=lp(1900,void 0,1);if(Wt(Ut,ct,jt+="",0)!=jt.length)return null;if("Q"in Ut)return new Date(Ut.Q);if("s"in Ut)return new Date(1e3*Ut.s+("L"in Ut?Ut.L:0));if(kt&&!("Z"in Ut)&&(Ut.Z=0),"p"in Ut&&(Ut.H=Ut.H%12+12*Ut.p),Ut.m===void 0&&(Ut.m="q"in Ut?Ut.q:0),"V"in Ut){if(Ut.V<1||Ut.V>53)return null;"w"in Ut||(Ut.w=1),"Z"in Ut?(ee=(Nt=qb(lp(Ut.y,0,1))).getUTCDay(),Nt=ee>4||ee===0?wg.ceil(Nt):wg(Nt),Nt=Yb.offset(Nt,7*(Ut.V-1)),Ut.y=Nt.getUTCFullYear(),Ut.m=Nt.getUTCMonth(),Ut.d=Nt.getUTCDate()+(Ut.w+6)%7):(ee=(Nt=$b(lp(Ut.y,0,1))).getDay(),Nt=ee>4||ee===0?Sg.ceil(Nt):Sg(Nt),Nt=af.offset(Nt,7*(Ut.V-1)),Ut.y=Nt.getFullYear(),Ut.m=Nt.getMonth(),Ut.d=Nt.getDate()+(Ut.w+6)%7)}else("W"in Ut||"U"in Ut)&&("w"in Ut||(Ut.w="u"in Ut?Ut.u%7:"W"in Ut?1:0),ee="Z"in Ut?qb(lp(Ut.y,0,1)).getUTCDay():$b(lp(Ut.y,0,1)).getDay(),Ut.m=0,Ut.d="W"in Ut?(Ut.w+6)%7+7*Ut.W-(ee+5)%7:Ut.w+7*Ut.U-(ee+6)%7);return"Z"in Ut?(Ut.H+=Ut.Z/100|0,Ut.M+=Ut.Z%100,qb(Ut)):$b(Ut)}}function Wt(ct,kt,jt,Nt){for(var ee,Ut,Ne=0,Be=kt.length,Xe=jt.length;Ne<Be;){if(Nt>=Xe)return-1;if((ee=kt.charCodeAt(Ne++))===37){if(ee=kt.charAt(Ne++),!(Ut=Et[ee in wL?kt.charAt(Ne++):ee])||(Nt=Ut(ct,jt,Nt))<0)return-1}else if(ee!=jt.charCodeAt(Nt++))return-1}return Nt}return ot.x=At(u,ot),ot.X=At(l,ot),ot.c=At(s,ot),ft.x=At(u,ft),ft.X=At(l,ft),ft.c=At(s,ft),{format:function(ct){var kt=At(ct+="",ot);return kt.toString=function(){return ct},kt},parse:function(ct){var kt=Ot(ct+="",!1);return kt.toString=function(){return ct},kt},utcFormat:function(ct){var kt=At(ct+="",ft);return kt.toString=function(){return ct},kt},utcParse:function(ct){var kt=Ot(ct+="",!0);return kt.toString=function(){return ct},kt}}})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ur=up.format,Os=up.parse,up.utcFormat,up.utcParse;const kL=Dn((p=>{p.setDate(1),p.setHours(0,0,0,0)}),((p,s)=>{p.setMonth(p.getMonth()+s)}),((p,s)=>s.getMonth()-p.getMonth()+12*(s.getFullYear()-p.getFullYear())),(p=>p.getMonth())),oj=(kL.range,Dn((p=>{p.setUTCDate(1),p.setUTCHours(0,0,0,0)}),((p,s)=>{p.setUTCMonth(p.getUTCMonth()+s)}),((p,s)=>s.getUTCMonth()-p.getUTCMonth()+12*(s.getUTCFullYear()-p.getUTCFullYear())),(p=>p.getUTCMonth()))),VL=(oj.range,Dn((p=>{p.setTime(p-p.getMilliseconds()-p.getSeconds()*mg-p.getMinutes()*Xl)}),((p,s)=>{p.setTime(+p+s*_g)}),((p,s)=>(s-p)/_g),(p=>p.getHours()))),sj=(VL.range,Dn((p=>{p.setUTCMinutes(0,0,0)}),((p,s)=>{p.setTime(+p+s*_g)}),((p,s)=>(s-p)/_g),(p=>p.getUTCHours()))),GL=(sj.range,Dn((p=>{p.setTime(p-p.getMilliseconds()-p.getSeconds()*mg)}),((p,s)=>{p.setTime(+p+s*Xl)}),((p,s)=>(s-p)/Xl),(p=>p.getMinutes()))),lj=(GL.range,Dn((p=>{p.setUTCSeconds(0,0)}),((p,s)=>{p.setTime(+p+s*Xl)}),((p,s)=>(s-p)/Xl),(p=>p.getUTCMinutes()))),FL=(lj.range,Dn((p=>{p.setTime(p-p.getMilliseconds())}),((p,s)=>{p.setTime(+p+s*mg)}),((p,s)=>(s-p)/mg),(p=>p.getUTCSeconds())));function Xb(p,s){var u=new Date(p);return s==="max"?(u.setHours(23),u.setMinutes(59),u.setSeconds(59),u.setMilliseconds(999)):(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),u.getTime()}function BL(p,s){switch(p.granularity){case"century":var u=Math.floor(s.getFullYear()/100);if(p.circular){var l=u%10;return{value:l,name:"*".concat(l,"00")}}return{value:u,name:"".concat(u,"00")};case"decade":var f=Math.floor(s.getFullYear()/10);if(p.circular){var d=f%10;return{value:d,name:"**".concat(d,"0")}}return{value:f,name:"".concat(f,"0")};case"year":if(p.circular){var _=s.getFullYear()%10;return{value:_,name:"***".concat(_)}}return{value:s.getFullYear(),name:String(s.getFullYear())};case"month":return p.circular?{value:s.getMonth(),name:Ur("%B")(s)}:{value:kL(s).getTime(),name:Ur("%B %Y")(s)};case"week":return p.circular?{value:s.getMonth(),name:Ur("%W")(s)}:{value:jb(s).getTime(),name:Ur("%W %Y")(s)};case"day_of_week":return p.circular?{value:s.getDay(),name:Ur("%A")(s)}:{value:af(s).getTime(),name:Ur("%x")(s)};case"day_of_month":return p.circular?{value:s.getDate(),name:Ur("%d")(s)}:{value:af(s).getTime(),name:Ur("%x")(s)};case"day_of_year":if(p.circular){var w=Ur("%j")(s);return{value:Number.parseInt(w,10),name:w}}return{value:af(s).getTime(),name:Ur("%x")(s)};case"hour":return p.circular?{value:s.getHours(),name:Ur("%A")(s)}:{value:VL(s).getTime(),name:Ur("%x")(s)};case"minute":return p.circular?{value:s.getMinutes(),name:Ur("%A")(s)}:{value:GL(s).getTime(),name:Ur("%x")(s)};case"second":return p.circular?{value:s.getSeconds(),name:Ur("%A")(s)}:{value:FL(s).getTime(),name:Ur("%x")(s)}}}function HL(p,s,u,l){var f=(l||p.map((function(x){return u.getDate(x)}))).filter((function(x){return x instanceof Date}));if(y(f))return{value:null,name:""};var d,_,w=(d=f.map((function(x){return x.getTime()})),(_=Float64Array.from(d)).length===1?_[0]:(_.sort(),_[Math.floor(_.length/2)]));return s?BL(s,new Date(w)):{value:w,name:new Date(w).toString()}}FL.range;var uj=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),cj=(function(p){function s(l,f){var d=p.call(this,l,fr(f,{groupRenderer:"datehistogram",summaryRenderer:"datehistogram"}))||this;d.currentFilter=yi(),d.currentGrouper={granularity:"month",circular:!1};var _=Ur(f.dateFormat||u.DEFAULT_DATE_FORMAT);return d.format=function(w){return w instanceof Date?_(w):""},d.parse=f.dateParse?Os(f.dateParse):Os(f.dateFormat||u.DEFAULT_DATE_FORMAT),d}var u;return uj(s,p),u=s,s.prototype.getFormatter=function(){return this.format},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.filter=Xa(this.currentFilter)?null:this.currentFilter,this.currentGrouper&&!Ge({granularity:"month",circular:!1},this.currentGrouper)&&(f.grouper=this.currentGrouper),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),l.filter&&(this.currentFilter=Is(l.filter)),l.grouper&&(this.currentGrouper=l.grouper)},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_FILTER_CHANGED,u.EVENT_GROUPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getValue=function(l){return this.getDate(l)},s.prototype.getDate=function(l){var f=p.prototype.getValue.call(this,l);return Hr(f)?null:f instanceof Date?f:this.parse(String(f))},s.prototype.iterDate=function(l){return[this.getDate(l)]},s.prototype.getLabel=function(l){var f=this.getValue(l);return this.format(f)},s.prototype.isFiltered=function(){return!Xa(this.currentFilter)},s.prototype.clearFilter=function(){var l=this.isFiltered();return this.setFilter(null),l},s.prototype.getFilter=function(){return Object.assign({},this.currentFilter)},s.prototype.setFilter=function(l){if(!vL(l=l||{min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY,filterMissing:!1},this.currentFilter)){var f=this.getFilter();this.currentFilter.min=rp(l.min)?Number.NEGATIVE_INFINITY:l.min,this.currentFilter.max=rp(l.max)?Number.POSITIVE_INFINITY:l.max,this.currentFilter.filterMissing=l.filterMissing,this.fire([u.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],f,this.getFilter())}},s.prototype.filter=function(l,f){return(function(d,_){return!d||(_!=null&&_ instanceof Date?gL(d,_.getTime()):!d.filterMissing)})(this.currentFilter,f!==void 0?f:this.getDate(l))},s.prototype.toCompareValue=function(l,f){var d=f!==void 0?f:this.getValue(l);return d instanceof Date?d.getTime():NaN},s.prototype.toCompareValueType=function(){return tt.DOUBLE_ASC},s.prototype.getDateGrouper=function(){return Object.assign({},this.currentGrouper)},s.prototype.setDateGrouper=function(l){if(!Ge(this.currentGrouper,l)){var f=this.getDateGrouper();this.currentGrouper=Object.assign({},l),this.fire([u.EVENT_GROUPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],f,l)}},s.prototype.group=function(l,f){var d=f!==void 0?f:this.getDate(l);return d&&d instanceof Date?this.currentGrouper?{name:BL(this.currentGrouper,d).name,color:Oe}:Object.assign({},ht):Object.assign({},Uo)},s.prototype.toCompareGroupValue=function(l,f,d){var _=HL(l,this.currentGrouper,this,d).value;return _??NaN},s.prototype.toCompareGroupValueType=function(){return tt.DOUBLE_ASC},s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_GROUPING_CHANGED="groupingChanged",s.DEFAULT_DATE_FORMAT="%x",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","groupBy","sortGroupBy","filterDate"),vi("group","groupDate"),ln("date")],s)})(Tr);const Wr=cj;var jo,fj=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();(function(p){p.min="min",p.max="max",p.median="median"})(jo||(jo={}));var hj=(function(p){function s(l,f){var d=p.call(this,l,fr(f,{renderer:"datehistogram",groupRenderer:"datehistogram",summaryRenderer:"datehistogram"}))||this;d.currentFilter=yi();var _=Ur(f.dateFormat||Wr.DEFAULT_DATE_FORMAT);return d.format=function(w){return w instanceof Date?_(w):""},d.parse=f.dateParse?Os(f.dateParse):Os(f.dateFormat||Wr.DEFAULT_DATE_FORMAT),d.sort=f.sort||jo.median,d}var u;return fj(s,p),u=s,s.prototype.getFormatter=function(){return this.format},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_SORTMETHOD_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getValue=function(l){var f=this.getDates(l);return f.every((function(d){return d==null}))?null:f},s.prototype.getLabels=function(l){var f=this;return this.getDates(l).map((function(d){return d instanceof Date?f.format(d):""}))},s.prototype.getDates=function(l){var f=this;return p.prototype.getValues.call(this,l).map((function(d){return Hr(d)?null:d instanceof Date?d:f.parse(String(d))}))},s.prototype.getDate=function(l){var f=this.getDates(l).filter(Boolean);return f.length===0?null:new Date(zL(f,this.sort))},s.prototype.iterDate=function(l){return this.getDates(l)},s.prototype.getSortMethod=function(){return this.sort},s.prototype.setSortMethod=function(l){this.sort!==l&&(this.fire([u.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=l),this.isSortedByMe().asc||this.sortByMe())},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.sortMethod=this.getSortMethod(),f.filter=Xa(this.currentFilter)?null:this.currentFilter,f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),l.sortMethod&&(this.sort=l.sortMethod),l.filter&&(this.currentFilter=Is(l.filter))},s.prototype.toCompareValue=function(l){var f=this.getDates(l).filter(Boolean);return f?[f.length,zL(f,this.sort)]:[0,0]},s.prototype.toCompareValueType=function(){return[_b(this.dataLength),tt.DOUBLE_ASC]},s.prototype.isFiltered=function(){return Wr.prototype.isFiltered.call(this)},s.prototype.getFilter=function(){return Wr.prototype.getFilter.call(this)},s.prototype.setFilter=function(l){Wr.prototype.setFilter.call(this,l)},s.prototype.filter=function(l){return Wr.prototype.filter.call(this,l)},s.prototype.clearFilter=function(){return Wr.prototype.clearFilter.call(this)},s.EVENT_SORTMETHOD_CHANGED="sortMethodChanged",s.EVENT_FILTER_CHANGED=Wr.EVENT_FILTER_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","filterDate"),vi("sort","sortDates")],s)})(Wl);const hp=hj;function zL(p,s){switch(s){case jo.min:return k(p,(function(u){return u.getTime()}));case jo.max:return F(p,(function(u){return u.getTime()}));case jo.median:return Y(p,(function(u){return u.getTime()}))}}var pj=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),dj=(function(p){function s(l,f){var d=p.call(this,l,fr(f,{renderer:"default"}))||this;d.currentFilter=yi();var _=Ur(f.dateFormat||Wr.DEFAULT_DATE_FORMAT);return d.format=function(w){return w instanceof Date?_(w):""},d.parse=f.dateParse?Os(f.dateParse):Os(f.dateFormat||Wr.DEFAULT_DATE_FORMAT),d.sort=f.sort||jo.median,d}var u;return pj(s,p),u=s,s.prototype.getFormatter=function(){return this.format},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_SORTMETHOD_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.parseValue=function(l){return Hr(l)?null:l instanceof Date?l:this.parse(String(l))},s.prototype.getDateMap=function(l){var f=this;return p.prototype.getMap.call(this,l).map((function(d){var _=d.key,w=d.value;return{key:_,value:f.parseValue(w)}}))},s.prototype.iterDate=function(l){return this.getDates(l)},s.prototype.getValue=function(l){var f=this.getDateMap(l);return f.every((function(d){return d==null}))?null:f},s.prototype.getLabels=function(l){var f=this;return this.getDateMap(l).map((function(d){var _=d.key,w=d.value;return{key:_,value:w instanceof Date?f.format(w):""}}))},s.prototype.getDates=function(l){return this.getDateMap(l).map((function(f){return f.value}))},s.prototype.getDate=function(l){return hp.prototype.getDate.call(this,l)},s.prototype.getSortMethod=function(){return this.sort},s.prototype.setSortMethod=function(l){return hp.prototype.setSortMethod.call(this,l)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.sortMethod=this.getSortMethod(),f.filter=Xa(this.currentFilter)?null:this.currentFilter,f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),l.sortMethod&&(this.sort=l.sortMethod),l.filter&&(this.currentFilter=Is(l.filter))},s.prototype.isFiltered=function(){return Wr.prototype.isFiltered.call(this)},s.prototype.getFilter=function(){return Wr.prototype.getFilter.call(this)},s.prototype.setFilter=function(l){Wr.prototype.setFilter.call(this,l)},s.prototype.filter=function(l){return Wr.prototype.filter.call(this,l)},s.prototype.clearFilter=function(){return Wr.prototype.clearFilter.call(this)},s.EVENT_SORTMETHOD_CHANGED=hp.EVENT_SORTMETHOD_CHANGED,s.EVENT_FILTER_CHANGED=Wr.EVENT_FILTER_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","filterDate"),vi("sort","sortDates")],s)})(ef);const UL=dj;var xg,vj=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function Zb(p){return p===void 0&&(p="Group Name"),{type:"group",label:p}}(function(p){p.name="name",p.count="count"})(xg||(xg={}));var gj=(function(p){function s(){var l=p!==null&&p.apply(this,arguments)||this;return l.groupSortMethod=xg.name,l}var u;return vj(s,p),u=s,Object.defineProperty(s.prototype,"frozen",{get:function(){return this.desc.frozen!==!1},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_SORTMETHOD_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getLabel=function(){return""},s.prototype.getValue=function(){return""},s.prototype.getSortMethod=function(){return this.groupSortMethod},s.prototype.setSortMethod=function(l){this.groupSortMethod!==l&&(this.fire(u.EVENT_SORTMETHOD_CHANGED,this.groupSortMethod,this.groupSortMethod=l),this.isGroupSortedByMe().asc||this.toggleMyGroupSorting())},s.prototype.toCompareGroupValue=function(l,f){return this.groupSortMethod==="count"?l.length:f.name===Uo.name?null:f.name.toLowerCase()},s.prototype.toCompareGroupValueType=function(){return this.groupSortMethod==="count"?tt.COUNT:tt.STRING},s.EVENT_SORTMETHOD_CHANGED="sortMethodChanged",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([Hc(),qe("rename","sortGroupBy"),vi("sortGroup","sortGroups"),ln("support")],s)})(vt);const Kb=gj;var yj=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),mj=(function(p){function s(l,f){var d=p.call(this,l,fr(f,{renderer:"categorical"}))||this;return d.currentMaxDepth=Number.POSITIVE_INFINITY,d.currentLeaves=[],d.currentLeavesNameCache=new Map,d.currentLeavesPathCache=new Map,d.hierarchySeparator=f.hierarchySeparator||".",d.hierarchy=d.initHierarchy(f.hierarchy),d.currentNode=d.hierarchy,d.currentLeaves=Jb(d.currentNode,d.currentMaxDepth),d.updateCaches(),d.colorMapping=gi,d}var u;return yj(s,p),u=s,s.prototype.initHierarchy=function(l){var f=mb(),d=this.hierarchySeparator,_=function(w,x){var T=x.name==null?String(x.value):x.name,M=(x.children||[]).map((function(G){if(typeof G=="string"){var B=w+G;return{path:B,name:G,label:B,color:f(),value:0,children:[]}}var U=_("".concat(w).concat(T).concat(d),G);return U.color||(U.color=f()),U})),N=w+T,I=x.label?x.label:N;return{path:N,name:T,children:M,label:I,color:x.color,value:0}};return _("",l)},Object.defineProperty(s.prototype,"categories",{get:function(){return this.currentLeaves},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_CUTOFF_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.colorMapping=this.colorMapping.toJSON(),isFinite(this.currentMaxDepth)&&(f.maxDepth=this.currentMaxDepth),this.currentNode!==this.hierarchy&&(f.cutOffNode=this.currentNode.path),f},s.prototype.restore=function(l,f){if(p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories),l.maxDepth!==void 0&&(this.currentMaxDepth=l.maxDepth),l.cutOffNode!==void 0){for(var d=l.cutOffNode.split(this.hierarchySeparator),_=this.hierarchy,w=function(M){return function(N){return N.name===M}},x=d.shift();x&&_;){if(_.name!==x){_=null;break}var T=d.shift();if(!T)break;x=T,_=_.children.find(w(x))||null}this.currentNode=_||this.hierarchy}l.maxDepth===void 0&&l.cutOffNode===void 0||(this.currentLeaves=Jb(this.currentNode,this.currentMaxDepth),this.updateCaches())},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([we.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.getCutOff=function(){return{node:this.currentNode,maxDepth:this.currentMaxDepth}},s.prototype.setCutOff=function(l){var f=l.maxDepth==null?Number.POSITIVE_INFINITY:l.maxDepth;if(this.currentNode!==l.node||this.currentMaxDepth!==f){var d=this.getCutOff();this.currentNode=l.node,this.currentMaxDepth=f,this.currentLeaves=Jb(l.node,f),this.updateCaches(),this.fire([u.EVENT_CUTOFF_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],d,this.getCutOff())}},s.prototype.getCategory=function(l){var f=this,d=p.prototype.getValue.call(this,l);return d==null||d===""?null:(d=d.trim(),this.currentLeavesNameCache.has(d)?this.currentLeavesNameCache.get(d):this.currentLeavesPathCache.has(d)?this.currentLeavesPathCache.get(d):this.currentLeaves.find((function(_){return _.path===d||_.name===d||d.startsWith(_.path+f.hierarchySeparator)}))||null)},Object.defineProperty(s.prototype,"dataLength",{get:function(){return this.currentLeaves.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"labels",{get:function(){return this.currentLeaves.map((function(l){return l.label}))},enumerable:!1,configurable:!0}),s.prototype.getValue=function(l){var f=this.getCategory(l);return f?f.name:null},s.prototype.getCategories=function(l){return[this.getCategory(l)]},s.prototype.iterCategory=function(l){return[this.getCategory(l)]},s.prototype.getLabel=function(l){return we.prototype.getLabel.call(this,l)},s.prototype.getColor=function(l){return we.prototype.getColor.call(this,l)},s.prototype.getLabels=function(l){return we.prototype.getLabels.call(this,l)},s.prototype.getValues=function(l){return we.prototype.getValues.call(this,l)},s.prototype.getMap=function(l){return we.prototype.getMap.call(this,l)},s.prototype.getMapLabel=function(l){return we.prototype.getMapLabel.call(this,l)},s.prototype.getSet=function(l){return we.prototype.getSet.call(this,l)},s.prototype.toCompareValue=function(l){return we.prototype.toCompareValue.call(this,l)},s.prototype.toCompareValueType=function(){return we.prototype.toCompareValueType.call(this)},s.prototype.group=function(l){var f=this.getCategory(l);return f?{name:f.label,color:f.color}:Object.assign({},Uo)},s.prototype.updateCaches=function(){var l=this;this.currentLeavesPathCache.clear(),this.currentLeavesNameCache.clear(),this.currentLeaves.forEach((function(f){l.currentLeavesPathCache.set(f.path,f),l.currentLeavesNameCache.set(f.name,f)}))},s.EVENT_CUTOFF_CHANGED="cutOffChanged",s.EVENT_COLOR_MAPPING_CHANGED="colorMappingChanged",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","cutoff","group","groupBy","colorMappedCategorical"),ln("categorical")],s)})(Tr);const WL=mj;function Jb(p,s){s===void 0&&(s=Number.POSITIVE_INFINITY);var u=[],l=function(f,d){d>=s||f.children.length===0?u.push(f):f.children.forEach((function(_){return l(_,d+1)}))};return l(p,0),u}function jL(p){for(var s=[p],u=0;u<s.length;)for(var l=0,f=s[u++].children;l<f.length;l++){var d=f[l];s.push(d)}return s}function _j(p){return p.length!==0&&typeof p[0]!="string"&&p.some((function(s){return s.parent!=null}))}function bj(p){var s=new Map;p.forEach((function(l){var f=l.parent||"",d=Object.assign({children:[],label:l.name,name:l.name,color:Oe,value:0},s.get(l.name)||{},l);s.set(l.name,d),s.has(f)||s.set(f,{name:f,children:[],label:f,value:0,color:Oe}),s.get(f).children.push(d)}));var u=s.get("");return console.assert(u!==void 0,"hierarchy with no root"),u.children.length===1?u.children[0]:u}const gr=p=>AU(p[p.length-1]),Qb=gr(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ze)),Sj=gr(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ze)),wj=gr(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ze)),xj=gr(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ze)),Ej=gr(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ze)),Tj=gr(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ze)),Cj=Math.PI/180,Aj=180/Math.PI;var YL=-.14861,t1=1.78277,e1=-.29227,Eg=-.90649,pp=1.97294,$L=pp*Eg,qL=pp*t1,XL=t1*e1-Eg*YL;function Za(p,s,u,l){return arguments.length===1?(function(f){if(f instanceof tu)return new tu(f.h,f.s,f.l,f.opacity);f instanceof Gn||(f=KM(f));var d=f.r/255,_=f.g/255,w=f.b/255,x=(XL*w+$L*d-qL*_)/(XL+$L-qL),T=w-x,M=(pp*(_-x)-e1*T)/Eg,N=Math.sqrt(M*M+T*T)/(pp*x*(1-x)),I=N?Math.atan2(M,T)*Aj-120:NaN;return new tu(I<0?I+360:I,N,x,f.opacity)})(p):new tu(p,s,u,l??1)}function tu(p,s,u,l){this.h=+p,this.s=+s,this.l=+u,this.opacity=+l}function ZL(p){return(function s(u){function l(f,d){var _=p((f=Za(f)).h,(d=Za(d)).h),w=Jc(f.s,d.s),x=Jc(f.l,d.l),T=Jc(f.opacity,d.opacity);return function(M){return f.h=_(M),f.s=w(M),f.l=x(Math.pow(M,u)),f.opacity=T(M),f+""}}return u=+u,l.gamma=s,l})(1)}cg(tu,Za,Ib(Xc,{brighter(p){return p=p==null?Zc:Math.pow(Zc,p),new tu(this.h,this.s,this.l*p,this.opacity)},darker(p){return p=p==null?jl:Math.pow(jl,p),new tu(this.h,this.s,this.l*p,this.opacity)},rgb(){var p=isNaN(this.h)?0:(this.h+120)*Cj,s=+this.l,u=isNaN(this.s)?0:this.s*s*(1-s),l=Math.cos(p),f=Math.sin(p);return new Gn(255*(s+u*(YL*l+t1*f)),255*(s+u*(e1*l+Eg*f)),255*(s+u*(pp*l)),this.opacity)}})),ZL((function(p,s){var u=s-p;return u?nL(p,u>180||u<-180?u-360*Math.round(u/360):u):vg(isNaN(p)?s:p)}));var r1=ZL(Jc),Dj=r1(Za(-100,.75,.35),Za(80,1.5,.8)),Mj=r1(Za(260,.75,.35),Za(80,1.5,.8)),Tg=Za();function Lj(p){(p<0||p>1)&&(p-=Math.floor(p));var s=Math.abs(p-.5);return Tg.h=360*p-100,Tg.s=1.5-1.5*s,Tg.l=.8-.9*s,Tg+""}const Nj=r1(Za(300,.5,0),Za(-240,.5,1));function Cg(p){var s=p.length;return function(u){return p[Math.max(0,Math.min(s-1,Math.floor(u*s)))]}}const Rj=Cg(ze("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Ij=Cg(ze("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Oj=Cg(ze("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Pj=Cg(ze("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const kj=gr(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ze)),Vj=gr(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ze)),Gj=gr(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ze)),Fj=gr(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ze)),Bj=gr(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ze)),Hj=gr(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ze)),zj=gr(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ze)),Uj=gr(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ze)),Wj=gr(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ze)),jj=gr(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ze)),Yj=gr(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ze)),$j=gr(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ze)),qj=gr(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ze)),Xj=gr(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ze)),Zj=gr(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ze)),Kj=gr(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ze)),Jj=gr(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ze)),Qj=gr(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ze)),tY=gr(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ze)),eY=gr(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ze)),rY=gr(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ze));var Ka=(function(){function p(s){this.name=s,this.apply=p.FUNCTIONS[s]||Qb}return p.prototype.toJSON=function(){return this.name},p.prototype.clone=function(){return this},p.prototype.eq=function(s){return s instanceof p&&s.name===this.name},p.FUNCTIONS={interpolateBlues:Qb,interpolateGreens:Sj,interpolateGreys:wj,interpolateOranges:xj,interpolatePurples:Ej,interpolateReds:Tj,interpolateCool:Mj,interpolateCubehelixDefault:Nj,interpolateWarm:Dj,interpolatePlasma:Pj,interpolateMagma:Ij,interpolateViridis:Rj,interpolateInferno:Oj,interpolateYlOrRd:kj,interpolateYlOrBr:Vj,interpolateBuGn:Gj,interpolateBuPu:Fj,interpolateGnBu:Bj,interpolateOrRd:Hj,interpolatePuBuGn:zj,interpolatePuBu:Uj,interpolatePuRd:Wj,interpolateRdPu:jj,interpolateYlGnBu:Yj,interpolateYlGn:$j,interpolateRainbow:Lj},p})(),Ja=(function(){function p(s){this.name=s,this.apply=p.FUNCTIONS[s]||Qb}return p.prototype.toJSON=function(){return this.name},p.prototype.clone=function(){return this},p.prototype.eq=function(s){return s instanceof p&&s.name===this.name},p.FUNCTIONS={interpolateBrBG:qj,interpolatePRGn:Xj,interpolatePiYG:Zj,interpolatePuOr:Kj,interpolateRdBu:Jj,interpolateRdGy:Qj,interpolateRdYlBu:tY,interpolateRdYlGn:eY,interpolateSpectral:rY},p})(),KL=(function(){function p(s){this.apply=s}return p.prototype.toJSON=function(){return this.apply.toString()},p.prototype.clone=function(){return this},p.prototype.eq=function(s){return s instanceof p&&s.apply===this.apply},p})(),ma=(function(){function p(s){this.color=s}return p.prototype.apply=function(){return this.color},p.prototype.toJSON=function(){return this.color},p.prototype.clone=function(){return this},p.prototype.eq=function(s){return s instanceof p&&s.color===this.color},p})(),Qa=(function(){function p(s,u){if(typeof s.apply=="function")this.base=s,this.steps=u??5;else{var l=s;this.base=u.colorMappingFunction(l.base),this.steps=l.steps}}return p.prototype.apply=function(s){return this.base.apply((function(u,l){var f=1/l;if(u<=f)return 0;if(u>=1-f)return 1;for(var d=0;d<1;d+=f)if(u<d)return d-f/2;return u})(s,this.steps))},p.prototype.toJSON=function(){return{type:"quantized",base:this.base.toJSON(),steps:this.steps}},p.prototype.clone=function(){return new p(this.base.clone(),this.steps)},p.prototype.eq=function(s){return s instanceof p&&s.base.eq(this.base)&&s.steps===this.steps},p})(),Ps=(function(){function p(s){this.scale=op(),this.entries=Array.isArray(s)?s:s.entries,this.scale.domain(this.entries.map((function(u){return u.value}))).range(this.entries.map((function(u){return u.color}))).clamp(!0)}return p.prototype.apply=function(s){return this.scale(s)},p.prototype.toJSON=function(){return{type:"custom",entries:this.entries}},p.prototype.clone=function(){return new p(this.entries.slice())},p.prototype.eq=function(s){return s instanceof p&&Ge(this.entries,s.entries)},p})(),dp=new ma(Oe),nY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Ag=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function Dg(p){return p===void 0&&(p="Imposition"),{type:"imposition",label:p}}var iY=(function(p){function s(l,f){return p.call(this,l,fr(f,{renderer:"number",groupRenderer:"boxplot",summaryRenderer:"histogram"}))||this}var u;return nY(s,p),u=s,Object.defineProperty(s.prototype,"label",{get:function(){var l=p.prototype.getMetaData.call(this).label,f=this._children;if(l!=="Imposition"||f.length===0)return l;if(f.length===1)return f[0].label;var d=this.wrapper,_=this.rest;return"".concat(d?d.label:"?"," (").concat(_.map((function(w){return w.label})).join(", "),")")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"wrapper",{get:function(){var l;return(l=this._children.find(Qe))!==null&&l!==void 0?l:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"rest",{get:function(){var l=this.wrapper;return this._children.filter((function(f){return f!==l}))},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_MAPPING_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getLabel=function(l){var f=this._children;if(f.length===0)return"";if(f.length===1)return f[0].getLabel(l);var d=this.wrapper,_=this.rest;return"".concat(d?d.getLabel(l):"?"," (").concat(_.map((function(w){return"".concat(w.label," = ").concat(w.getLabel(l))})).join(", "),")")},s.prototype.getColor=function(l){var f=this._children;switch(f.length){case 0:return Oe;case 1:return f[0].getColor(l);default:return this.rest[0].getColor(l)}},s.prototype.getNumberFormat=function(){var l=this.wrapper;return l?l.getNumberFormat():ql},s.prototype.getValue=function(l){var f=this.wrapper;return f?f.getValue(l):NaN},s.prototype.getNumber=function(l){var f=this.wrapper;return f?f.getNumber(l):NaN},s.prototype.getRawNumber=function(l){var f=this.wrapper;return f?f.getRawNumber(l):NaN},s.prototype.iterNumber=function(l){return[this.getNumber(l)]},s.prototype.iterRawNumber=function(l){return[this.getRawNumber(l)]},s.prototype.getExportValue=function(l,f){if(f==="json"){var d=this.getRawNumber(l);return Number.isNaN(d)?null:{label:this.getLabel(l),color:this.getColor(l),value:d}}return p.prototype.getExportValue.call(this,l,f)},s.prototype.getMapping=function(){var l=this.wrapper;return l&&Ze(l)?l.getMapping():new zr},s.prototype.getOriginalMapping=function(){var l=this.wrapper;return l&&Ze(l)?l.getOriginalMapping():new zr},s.prototype.setMapping=function(l){var f=this.wrapper;return f&&Ze(f)?f.setMapping(l):void 0},s.prototype.getColorMapping=function(){var l=this.wrapper;return l&&Ze(l)?l.getColorMapping():dp},s.prototype.setColorMapping=function(l){var f=this.wrapper;return f&&Ze(f)?f.setColorMapping(l):void 0},s.prototype.getFilter=function(){var l=this.wrapper;return l&&Ze(l)?l.getFilter():yi()},s.prototype.setFilter=function(l){var f=this.wrapper;return f&&Ze(f)?f.setFilter(l):void 0},s.prototype.getRange=function(){var l=this.wrapper;return l&&Ze(l)?l.getRange():["0","1"]},s.prototype.toCompareValue=function(l){return ce.prototype.toCompareValue.call(this,l)},s.prototype.toCompareValueType=function(){return ce.prototype.toCompareValueType.call(this)},s.prototype.toCompareGroupValue=function(l,f){return ce.prototype.toCompareGroupValue.call(this,l,f)},s.prototype.toCompareGroupValueType=function(){return ce.prototype.toCompareGroupValueType.call(this)},s.prototype.insert=function(l,f){return this._children.length!==1||this.wrapper||Qe(l)?this._children.length>=2?null:p.prototype.insert.call(this,l,f):null},s.prototype.insertImpl=function(l,f){return Qe(l)&&this.forward.apply(this,Ag([l],Fe(".impose",ce.EVENT_MAPPING_CHANGED),!1)),Ze(l)&&this.forward.apply(this,Ag([l],Fe(".impose",ce.EVENT_COLOR_MAPPING_CHANGED),!1)),p.prototype.insertImpl.call(this,l,f)},s.prototype.removeImpl=function(l,f){return Qe(l)&&this.unforward.apply(this,Ag([l],Fe(".impose",ce.EVENT_MAPPING_CHANGED),!1)),Ze(l)&&this.unforward.apply(this,Ag([l],Fe(".impose",ce.EVENT_COLOR_MAPPING_CHANGED),!1)),p.prototype.removeImpl.call(this,l,f)},s.EVENT_MAPPING_CHANGED=ce.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=ce.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","filterNumber","colorMapped","editMapping"),Ua("descending")],s)})(vn);const n1=iY;var aY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),oY=(function(p){function s(l,f,d){var _=p.call(this,l,fr(f,Object.assign({renderer:"heatmap",groupRenderer:"heatmap",summaryRenderer:"histogram"},f.dataLength==null||Number.isNaN(f.dataLength)?{}:{width:Math.min(Math.max(100,10*f.dataLength),500)})))||this;return _.numberFormat=ql,_.currentFilter=yi(),_.mapping=qa(f,d),_.original=_.mapping.clone(),_.deriveMapping=_.mapping.domain.map((function(w){return w==null||Number.isNaN(w)})),_.colorMapping=d.colorMappingFunction(f.colorMapping||f.color),f.numberFormat&&(_.numberFormat=Yi(f.numberFormat)),_.sort=f.sort||tn.median,_}var u;return aY(s,p),u=s,s.prototype.onDataUpdate=function(l){var f=this;if(p.prototype.onDataUpdate.call(this,l),this.deriveMapping.some(Boolean)){var d=l.map((function(w){return f.getRawValue(w)})).reduce((function(w,x){if(x==null||!Array.isArray(x))return w;for(var T=0,M=x;T<M.length;T++){var N=M[T];N==null||Number.isNaN(N)||(N<w.min&&(w.min=N),N>w.max&&(w.max=N))}return w}),{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}),_=this.mapping.domain.slice();this.deriveMapping[0]&&(_[0]=d.min),this.deriveMapping[this.deriveMapping.length-1]&&(_[_.length-1]=d.max),this.mapping.domain=_,this.original.domain=_}},s.prototype.getNumberFormat=function(){return this.numberFormat},s.prototype.toCompareValue=function(l){return zb(this,l)},s.prototype.toCompareValueType=function(){return tt.FLOAT},s.prototype.getRawNumbers=function(l){return this.getRawValue(l)},s.prototype.getBoxPlotData=function(l){var f=this.getRawValue(l);if(f==null)return null;for(var d=lt(),_=0,w=f;_<w.length;_++){var x=w[_];d.push(Hr(x)?NaN:this.mapping.apply(x))}return d.build()},s.prototype.getRange=function(){return this.mapping.getRange(this.numberFormat)},s.prototype.getRawBoxPlotData=function(l){var f=this.getRawValue(l);if(f==null)return null;for(var d=lt(),_=0,w=f;_<w.length;_++){var x=w[_];d.push(Hr(x)?NaN:x)}return d.build()},s.prototype.getNumbers=function(l){return this.getValues(l)},s.prototype.getNumber=function(l){return tf(this,l,"normalized")},s.prototype.getRawNumber=function(l){return tf(this,l,"raw")},s.prototype.getValue=function(l){var f=this.getValues(l);return f.every(Number.isNaN)?null:f},s.prototype.getValues=function(l){var f=this;return this.getRawValue(l).map((function(d){return Number.isNaN(d)?NaN:f.mapping.apply(d)}))},s.prototype.iterNumber=function(l){var f=this.getNumbers(l);return f.every(Number.isNaN)?[NaN]:f},s.prototype.iterRawNumber=function(l){var f=this.getRawNumbers(l);return f.every(Number.isNaN)?[NaN]:f},s.prototype.getRawValue=function(l){var f=p.prototype.getRaw.call(this,l);return f==null?[]:f.map((function(d){return Hr(d)?NaN:+d}))},s.prototype.getExportValue=function(l,f){return f==="json"?this.getRawValue(l):p.prototype.getExportValue.call(this,l,f)},s.prototype.getLabels=function(l){return this.getRawValue(l).map(this.numberFormat)},s.prototype.getSortMethod=function(){return this.sort},s.prototype.setSortMethod=function(l){this.sort!==l&&(this.fire([u.EVENT_SORTMETHOD_CHANGED,ce.EVENT_DIRTY_HEADER,ce.EVENT_DIRTY_VALUES,u.EVENT_DIRTY_CACHES,ce.EVENT_DIRTY],this.sort,this.sort=l),this.isSortedByMe().asc||this.sortByMe())},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.sortMethod=this.getSortMethod(),f.filter=Xa(this.currentFilter)?null:this.currentFilter,f.map=this.mapping.toJSON(),f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),l.sortMethod&&(this.sort=l.sortMethod),l.filter&&(this.currentFilter=Is(l.filter)),(l.map||l.domain)&&(this.mapping=qa(l,f)),l.colorMapping&&(this.colorMapping=f.colorMappingFunction(l.colorMapping))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_MAPPING_CHANGED,u.EVENT_SORTMETHOD_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getOriginalMapping=function(){return this.original.clone()},s.prototype.getMapping=function(){return this.mapping.clone()},s.prototype.setMapping=function(l){this.mapping.eq(l)||(this.deriveMapping=[],this.fire([u.EVENT_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.mapping.clone(),this.mapping=l))},s.prototype.getColor=function(l){return ce.prototype.getColor.call(this,l)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([u.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return ce.prototype.isFiltered.call(this)},s.prototype.getFilter=function(){return ce.prototype.getFilter.call(this)},s.prototype.setFilter=function(l){ce.prototype.setFilter.call(this,l)},s.prototype.filter=function(l){return ce.prototype.filter.call(this,l)},s.prototype.clearFilter=function(){return ce.prototype.clearFilter.call(this)},s.EVENT_MAPPING_CHANGED=ce.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=ce.EVENT_COLOR_MAPPING_CHANGED,s.EVENT_SORTMETHOD_CHANGED=ce.EVENT_SORTMETHOD_CHANGED,s.EVENT_FILTER_CHANGED=ce.EVENT_FILTER_CHANGED,s.CENTER=0,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","filterNumber","colorMapped","editMapping"),vi("sort","sortNumbers"),Ua("descending")],s)})(Wl);const Mn=oY;var sY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Mg=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function i1(p){return p===void 0&&(p="Imposition"),{type:"impositions",label:p}}var lY=(function(p){function s(l,f){return p.call(this,l,fr(f,{renderer:"boxplot",groupRenderer:"boxplot",summaryRenderer:"boxplot"}))||this}var u;return sY(s,p),u=s,Object.defineProperty(s.prototype,"label",{get:function(){var l=p.prototype.getMetaData.call(this).label,f=this._children;if(l!=="Imposition"||f.length===0)return l;if(f.length===1)return f[0].label;var d=this.wrapper,_=this.rest;return"".concat(d?d.label:"?"," (").concat(_.map((function(w){return w.label})).join(", "),")")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"wrapper",{get:function(){var l;return(l=this._children.find(zo))!==null&&l!==void 0?l:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"rest",{get:function(){var l=this.wrapper;return this._children.filter((function(f){return f!==l}))},enumerable:!1,configurable:!0}),s.prototype.getLabel=function(l){var f=this._children;if(f.length===0)return"";if(f.length===1)return f[0].getLabel(l);var d=this.wrapper,_=this.rest;return"".concat(d?d.getLabel(l):"?"," (").concat(_.map((function(w){return"".concat(w.label," = ").concat(w.getLabel(l))})),")")},s.prototype.getColor=function(l){var f=this._children;switch(f.length){case 0:return Oe;case 1:return f[0].getColor(l);default:return this.rest[0].getColor(l)}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_MAPPING_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getNumberFormat=function(){var l=this.wrapper;return l?l.getNumberFormat():ql},s.prototype.getValue=function(l){var f=this.wrapper;return f?f.getValue(l):null},s.prototype.getNumber=function(l){var f=this.wrapper;return f?f.getNumber(l):NaN},s.prototype.getRawNumber=function(l){var f=this.wrapper;return f?f.getRawNumber(l):NaN},s.prototype.iterNumber=function(l){return[this.getNumber(l)]},s.prototype.iterRawNumber=function(l){return[this.getRawNumber(l)]},s.prototype.getExportValue=function(l,f){if(f==="json"){var d=this.getRawNumber(l);return Number.isNaN(d)?null:{label:this.getLabel(l),color:this.getColor(l),value:d}}return p.prototype.getExportValue.call(this,l,f)},s.prototype.getBoxPlotData=function(l){var f=this.wrapper;return f?f.getBoxPlotData(l):null},s.prototype.getRawBoxPlotData=function(l){var f=this.wrapper;return f?f.getRawBoxPlotData(l):null},s.prototype.getMapping=function(){var l=this.wrapper;return l?l.getMapping():new zr},s.prototype.getOriginalMapping=function(){var l=this.wrapper;return l?l.getOriginalMapping():new zr},s.prototype.getSortMethod=function(){var l=this.wrapper;return l?l.getSortMethod():zc.min},s.prototype.setSortMethod=function(l){var f=this.wrapper;return f?f.setSortMethod(l):void 0},s.prototype.setMapping=function(l){var f=this.wrapper;return f?f.setMapping(l):void 0},s.prototype.getColorMapping=function(){var l=this.wrapper;return l?l.getColorMapping():dp},s.prototype.setColorMapping=function(l){var f=this.wrapper;return f?f.setColorMapping(l):void 0},s.prototype.getFilter=function(){var l=this.wrapper;return l?l.getFilter():yi()},s.prototype.setFilter=function(l){var f=this.wrapper;return f?f.setFilter(l):void 0},s.prototype.getRange=function(){var l=this.wrapper;return l?l.getRange():["0","1"]},s.prototype.toCompareValue=function(l){return Ai.prototype.toCompareValue.call(this,l)},s.prototype.toCompareValueType=function(){return Ai.prototype.toCompareValueType.call(this)},s.prototype.group=function(l){return Ai.prototype.group.call(this,l)},s.prototype.toCompareGroupValue=function(l,f){return Ai.prototype.toCompareGroupValue.call(this,l,f)},s.prototype.toCompareGroupValueType=function(){return Ai.prototype.toCompareGroupValueType.call(this)},s.prototype.insert=function(l,f){return this._children.length!==1||this.wrapper||zo(l)?this._children.length>=2?null:p.prototype.insert.call(this,l,f):null},s.prototype.insertImpl=function(l,f){return zo(l)?this.forward.apply(this,Mg([l],Fe(".impose",Ai.EVENT_MAPPING_CHANGED,Ai.EVENT_COLOR_MAPPING_CHANGED),!1)):Ze(l)&&this.forward.apply(this,Mg([l],Fe(".impose",Ai.EVENT_COLOR_MAPPING_CHANGED),!1)),p.prototype.insertImpl.call(this,l,f)},s.prototype.removeImpl=function(l,f){return zo(l)?this.unforward.apply(this,Mg([l],Fe(".impose",Ai.EVENT_MAPPING_CHANGED,Ai.EVENT_COLOR_MAPPING_CHANGED),!1)):Ze(l)&&this.unforward.apply(this,Mg([l],Fe(".impose",Ai.EVENT_COLOR_MAPPING_CHANGED),!1)),p.prototype.removeImpl.call(this,l,f)},s.EVENT_MAPPING_CHANGED=Mn.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=Mn.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","filterNumber","colorMapped","editMapping"),vi("sort","sortBoxPlot"),Ua("descending")],s)})(vn);const JL=lY;var uY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Lg=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function a1(p){return p===void 0&&(p="Imposition"),{type:"impositions",label:p}}var cY=(function(p){function s(l,f){return p.call(this,l,fr(f,{renderer:"numbers",groupRenderer:"numbers",summaryRenderer:"histogram"}))||this}var u;return uY(s,p),u=s,Object.defineProperty(s.prototype,"label",{get:function(){var l=p.prototype.getMetaData.call(this).label,f=this._children;if(l!=="Imposition"||f.length===0)return l;if(f.length===1)return f[0].label;var d=this.wrapper,_=this.rest;return"".concat(d?d.label:"?"," (").concat(_.map((function(w){return w.label})).join(", "),")")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"wrapper",{get:function(){return this._children.find(Cn)||null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"rest",{get:function(){var l=this.wrapper;return this._children.filter((function(f){return f!==l}))},enumerable:!1,configurable:!0}),s.prototype.getLabel=function(l){var f=this._children;if(f.length===0)return"";if(f.length===1)return f[0].getLabel(l);var d=this.wrapper,_=this.rest;return"".concat(d?d.getLabel(l):"?"," (").concat(_.map((function(w){return"".concat(w.label," = ").concat(w.getLabel(l))})),")")},s.prototype.getColor=function(l){var f=this._children;switch(f.length){case 0:return Oe;case 1:return f[0].getColor(l);default:return this.rest[0].getColor(l)}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_MAPPING_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},Object.defineProperty(s.prototype,"labels",{get:function(){var l=this.wrapper;return l?l.labels:[]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dataLength",{get:function(){var l=this.wrapper;return l?l.dataLength:null},enumerable:!1,configurable:!0}),s.prototype.getNumberFormat=function(){var l=this.wrapper;return l?l.getNumberFormat():ql},s.prototype.getValue=function(l){var f=this.wrapper;return f?f.getValue(l):[]},s.prototype.getNumber=function(l){var f=this.wrapper;return f?f.getNumber(l):NaN},s.prototype.getRawNumber=function(l){var f=this.wrapper;return f?f.getRawNumber(l):NaN},s.prototype.getExportValue=function(l,f){if(f==="json"){var d=this.getRawNumber(l);return Number.isNaN(d)?null:{label:this.getLabels(l),color:this.getColor(l)}}return p.prototype.getExportValue.call(this,l,f)},s.prototype.getNumbers=function(l){var f=this.wrapper;return f?f.getNumbers(l):[]},s.prototype.getRawNumbers=function(l){var f=this.wrapper;return f?f.getRawNumbers(l):[]},s.prototype.iterNumber=function(l){return this.getNumbers(l)},s.prototype.iterRawNumber=function(l){return this.getRawNumbers(l)},s.prototype.getBoxPlotData=function(l){var f=this.wrapper;return f?f.getBoxPlotData(l):null},s.prototype.getRawBoxPlotData=function(l){var f=this.wrapper;return f?f.getRawBoxPlotData(l):null},s.prototype.getMapping=function(){var l=this.wrapper;return l?l.getMapping():new zr},s.prototype.getOriginalMapping=function(){var l=this.wrapper;return l?l.getOriginalMapping():new zr},s.prototype.getSortMethod=function(){var l=this.wrapper;return l?l.getSortMethod():tn.min},s.prototype.setSortMethod=function(l){var f=this.wrapper;return f?f.setSortMethod(l):void 0},s.prototype.setMapping=function(l){var f=this.wrapper;return f?f.setMapping(l):void 0},s.prototype.getColorMapping=function(){var l=this.wrapper;return l?l.getColorMapping():dp},s.prototype.setColorMapping=function(l){var f=this.wrapper;return f?f.setColorMapping(l):void 0},s.prototype.getFilter=function(){var l=this.wrapper;return l?l.getFilter():yi()},s.prototype.setFilter=function(l){var f=this.wrapper;return f?f.setFilter(l):void 0},s.prototype.getRange=function(){var l=this.wrapper;return l?l.getRange():["0","1"]},s.prototype.getMap=function(l){var f=this.wrapper;return f?f.getMap(l):[]},s.prototype.getMapLabel=function(l){var f=this.wrapper;return f?f.getMapLabel(l):[]},s.prototype.getLabels=function(l){var f=this.wrapper;return f?f.getLabels(l):[]},s.prototype.getValues=function(l){var f=this.wrapper;return f?f.getValues(l):[]},s.prototype.toCompareValue=function(l){return Mn.prototype.toCompareValue.call(this,l)},s.prototype.toCompareValueType=function(){return Mn.prototype.toCompareValueType.call(this)},s.prototype.toCompareGroupValue=function(l,f){return Mn.prototype.toCompareGroupValue.call(this,l,f)},s.prototype.toCompareGroupValueType=function(){return Mn.prototype.toCompareGroupValueType.call(this)},s.prototype.insert=function(l,f){return this._children.length!==1||this.wrapper||Cn(l)?this._children.length>=2?null:p.prototype.insert.call(this,l,f):null},s.prototype.insertImpl=function(l,f){return Cn(l)&&this.forward.apply(this,Lg([l],Fe(".impose",Mn.EVENT_MAPPING_CHANGED),!1)),Ze(l)&&this.forward.apply(this,Lg([l],Fe(".impose",Mn.EVENT_COLOR_MAPPING_CHANGED),!1)),p.prototype.insertImpl.call(this,l,f)},s.prototype.removeImpl=function(l,f){return Cn(l)&&this.unforward.apply(this,Lg([l],Fe(".impose",Mn.EVENT_MAPPING_CHANGED),!1)),Ze(l)&&this.unforward.apply(this,Lg([l],Fe(".impose",Mn.EVENT_COLOR_MAPPING_CHANGED),!1)),p.prototype.removeImpl.call(this,l,f)},s.EVENT_MAPPING_CHANGED=Mn.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=Mn.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","filterNumber","colorMapped","editMapping"),vi("sort","sortNumbers"),Ua("descending")],s)})(vn);const QL=cY;var fY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),hY=(function(p){function s(u,l){var f=p.call(this,u,l)||this;return f.numberFormat=Yi(".3n"),l.numberFormat&&(f.numberFormat=Yi(l.numberFormat)),f}return fY(s,p),s.prototype.getNumberFormat=function(){return this.numberFormat},s.prototype.getLabel=function(u){if(!this.isLoaded())return"";var l=this.getValue(u);return String(typeof l=="number"&&!Number.isNaN(l)&&isFinite(l)?this.numberFormat(l):l)},s.prototype.getValue=function(u){if(!this.isLoaded())return null;var l=this.compute(u);return Hr(l)?null:l},s.prototype.compute=function(u){return NaN},s.prototype.getNumber=function(u){var l=this.getValue(u);return l??NaN},s.prototype.getRawNumber=function(u){return this.getNumber(u)},s.prototype.iterNumber=function(u){return[this.getNumber(u)]},s.prototype.iterRawNumber=function(u){return[this.getRawNumber(u)]},s.prototype.getExportValue=function(u,l){return l==="json"?{value:this.getRawNumber(u),children:this.children.map((function(f){return f.getExportValue(u,l)}))}:p.prototype.getExportValue.call(this,u,l)},s.prototype.toCompareValue=function(u){return ce.prototype.toCompareValue.call(this,u)},s.prototype.toCompareValueType=function(){return ce.prototype.toCompareValueType.call(this)},s.prototype.toCompareGroupValue=function(u,l){return ce.prototype.toCompareGroupValue.call(this,u,l)},s.prototype.toCompareGroupValueType=function(){return ce.prototype.toCompareGroupValueType.call(this)},s.prototype.getRenderer=function(){return ce.prototype.getRenderer.call(this)},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([qe("rename","clone","sort","sortBy","group","groupBy"),Ua("descending")],s)})(vn);const vp=hY;var pY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function o1(p){return p===void 0&&(p="Reduce"),{type:"reduce",label:p}}var dY=(function(p){function s(l,f){var d=p.call(this,l,fr(f,{renderer:"interleaving",groupRenderer:"interleaving",summaryRenderer:"interleaving"}))||this;return d.reduce=f.reduce||tn.max,d}var u;return pY(s,p),u=s,Object.defineProperty(s.prototype,"label",{get:function(){var l=p.prototype.getMetaData.call(this).label;return l!=="Reduce"?l:"".concat(this.reduce[0].toUpperCase()).concat(this.reduce.slice(1),"(").concat(this.children.map((function(f){return f.label})).join(", "),")")},enumerable:!1,configurable:!0}),s.prototype.getColor=function(l){var f=this._children;if(f.length===0||this.reduce===tn.q1||this.reduce===tn.q3||this.reduce===tn.mean)return Oe;var d=this.compute(l),_=f.find((function(w){return w.getValue(l)===d}));return _?_.getColor(l):Oe},s.prototype.compute=function(l){var f=this._children.map((function(d){return d.getValue(l)})).filter((function(d){return!Number.isNaN(d)}));if(f.length===0)return NaN;switch(this.reduce){case tn.mean:return f.reduce((function(d,_){return d+_}),0)/f.length;case tn.max:return f.reduce((function(d,_){return Math.max(d,_)}),Number.NEGATIVE_INFINITY);case tn.min:return f.reduce((function(d,_){return Math.min(d,_)}),Number.POSITIVE_INFINITY);case tn.median:return Y(f);case tn.q1:return q(f.sort((function(d,_){return d-_})),.25);case tn.q3:return q(f.sort((function(d,_){return d-_})),.75)}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_REDUCE_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getReduce=function(){return this.reduce},s.prototype.setReduce=function(l){this.reduce!==l&&this.fire([u.EVENT_REDUCE_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.reduce,this.reduce=l)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.reduce=this.reduce,f},s.prototype.restore=function(l,f){this.reduce=l.reduce||this.reduce,p.prototype.restore.call(this,l,f)},Object.defineProperty(s.prototype,"canJustAddNumbers",{get:function(){return!0},enumerable:!1,configurable:!0}),s.prototype.getExportValue=function(l,f){return f==="json"?{value:this.getRawNumber(l),children:this.children.map((function(d){return d.getExportValue(l,f)}))}:p.prototype.getExportValue.call(this,l,f)},s.EVENT_REDUCE_CHANGED="reduceChanged",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("reduce")],s)})(vp);const tN=dY;var vY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function Ng(p,s){return p===void 0&&(p="Weighted Sum"),s===void 0&&(s=!0),{type:"stack",label:p,showNestedSummaries:s}}var gY=(function(p){function s(l,f){var d=p.call(this,l,fr(f,{renderer:"stack",groupRenderer:"stack",summaryRenderer:"stack"}))||this;d.collapsed=!1;var _=d;return d.adaptChange=function(w,x){_.adaptWidthChange(this.source,w,x)},d}var u;return vY(s,p),u=s,Object.defineProperty(s.prototype,"label",{get:function(){var l=p.prototype.getMetaData.call(this).label,f=this._children;if(l!=="Weighted Sum"||f.length===0)return l;var d=this.getWeights();return f.map((function(_,w){return"".concat(_.label," (").concat(Vt(100*d[w],1),"%)")})).join(" + ")},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLLAPSE_CHANGED,u.EVENT_WEIGHTS_CHANGED,u.EVENT_MULTI_LEVEL_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.setCollapsed=function(l){this.collapsed!==l&&this.fire([u.EVENT_COLLAPSE_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.collapsed,this.collapsed=l)},s.prototype.getCollapsed=function(){return this.collapsed},s.prototype.isShowNestedSummaries=function(){return this.desc.showNestedSummaries!==!1},Object.defineProperty(s.prototype,"canJustAddNumbers",{get:function(){return!0},enumerable:!1,configurable:!0}),s.prototype.flatten=function(l,f,d,_){d===void 0&&(d=0),_===void 0&&(_=0);var w=null,x=d<=vt.FLAT_ALL_COLUMNS?this._children:this._children.filter((function(N){return N.isVisible()}));if(d===0||d<=vt.FLAT_ALL_COLUMNS){var T=this.getWidth();if(this.collapsed||(T+=(x.length-1)*_),l.push(w={col:this,offset:f,width:T}),d===0)return T}var M=f;return x.forEach((function(N){M+=N.flatten(l,M,d-1,_)+_})),w&&(w.width=M-f-_),M-f-_},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.collapsed=this.collapsed,f},s.prototype.restore=function(l,f){this.collapsed=l.collapsed===!0,p.prototype.restore.call(this,l,f)},s.prototype.insert=function(l,f,d){return d===void 0&&(d=NaN),Number.isNaN(d)||l.setWidth(d/(1-d)*this.getWidth()),l.on("".concat(vt.EVENT_WIDTH_CHANGED,".stack"),this.adaptChange),p.prototype.setWidth.call(this,this.length===0?l.getWidth():this.getWidth()+l.getWidth()),p.prototype.insert.call(this,l,f)},s.prototype.push=function(l,f){return f===void 0&&(f=NaN),this.insert(l,this.length,f)},s.prototype.insertAfter=function(l,f,d){d===void 0&&(d=NaN);var _=this.indexOf(f);return _<0?null:this.insert(l,_+1,d)},s.prototype.adaptWidthChange=function(l,f,d){if(!Kt(f,d,.5)){var _=this.getWeights(),w=this.getWidth(),x=f/w,T=(1-x-(d-f)/w)/(1-x),M=this._children.map((function(N){if(N===l)return d;var I=N.getWidth()*T,G=Number.isNaN(I)||I<1?0:I;return N.setWidthImpl(G),G}));p.prototype.setWidth.call(this,M.reduce((function(N,I){return N+I}),0)),this.fire([u.EVENT_WEIGHTS_CHANGED,u.EVENT_MULTI_LEVEL_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],_,this.getWeights())}},s.prototype.getWeights=function(){var l=this.getWidth();return this._children.map((function(f){return f.getWidth()/l}))},s.prototype.setWeights=function(l){var f,d=this.getWeights(),_=l.length-this.length;if(_<0){if((f=l.reduce((function(x,T){return x+T}),0))<=1)for(var w=0;w<-_;++w)l.push(1/-_*(1-f));else if(f<=100)for(w=0;w<-_;++w)l.push(1/-_*(100-f))}l=l.slice(0,this.length),f=l.reduce((function(x,T){return x+T}),0)/this.getWidth(),l=l.map((function(x){return x/f})),this._children.forEach((function(x,T){x.setWidthImpl(l[T])})),this.fire([u.EVENT_WEIGHTS_CHANGED,u.EVENT_MULTI_LEVEL_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],d,l)},s.prototype.removeImpl=function(l,f){return l.on("".concat(vt.EVENT_WIDTH_CHANGED,".stack"),null),p.prototype.setWidth.call(this,this.length===0?100:this.getWidth()-l.getWidth()),p.prototype.removeImpl.call(this,l,f)},s.prototype.setWidth=function(l){var f=l/this.getWidth();this._children.forEach((function(d){d.setWidthImpl(d.getWidth()*f)})),p.prototype.setWidth.call(this,l)},s.prototype.compute=function(l){var f=this.getWidth();return this._children.some((function(d){return d.getValue(l)===null}))?null:this._children.reduce((function(d,_){return d+_.getValue(l)*(_.getWidth()/f)}),0)},s.prototype.getRenderer=function(){return this.getCollapsed()&&this.isLoaded()?u.COLLAPSED_RENDERER:p.prototype.getRenderer.call(this)},s.prototype.getExportValue=function(l,f){return f==="json"?{value:this.getRawNumber(l),children:this.children.map((function(d){return d.getExportValue(l,f)}))}:p.prototype.getExportValue.call(this,l,f)},s.EVENT_COLLAPSE_CHANGED="collapseChanged",s.EVENT_WEIGHTS_CHANGED="weightsChanged",s.EVENT_MULTI_LEVEL_CHANGED="nestedChildRatio",s.COLLAPSED_RENDERER="number",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("editWeights","compress","expand")],s)})(vp);const $i=gY;var yY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),mY=(function(p){function s(l,f){var d=p.call(this,l,fr(f,{summaryRenderer:"nested"}))||this;d.collapsed=!1;var _=d;return d.adaptChange=function(w,x){_.adaptWidthChange(w,x)},d}var u;return yY(s,p),u=s,s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLLAPSE_CHANGED,u.EVENT_MULTI_LEVEL_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.setCollapsed=function(l){this.collapsed!==l&&this.fire([$i.EVENT_COLLAPSE_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.collapsed,this.collapsed=l)},s.prototype.getCollapsed=function(){return this.collapsed},s.prototype.isShowNestedSummaries=function(){return this.desc.showNestedSummaries!==!1},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.collapsed=this.collapsed,f},s.prototype.restore=function(l,f){this.collapsed=l.collapsed===!0,p.prototype.restore.call(this,l,f)},s.prototype.flatten=function(l,f,d,_){return d===void 0&&(d=0),_===void 0&&(_=0),$i.prototype.flatten.call(this,l,f,d,_)},s.prototype.insert=function(l,f){return l.on("".concat(vt.EVENT_WIDTH_CHANGED,".stack"),this.adaptChange),p.prototype.setWidth.call(this,this.length===0?l.getWidth():this.getWidth()+l.getWidth()),p.prototype.insert.call(this,l,f)},s.prototype.adaptWidthChange=function(l,f){if(!Kt(l,f,.5)){var d=this.getWidth(),_=d+(f-l);this.fire([u.EVENT_MULTI_LEVEL_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],d,_),p.prototype.setWidth.call(this,_)}},s.prototype.removeImpl=function(l,f){return l.on("".concat(vt.EVENT_WIDTH_CHANGED,".stack"),null),p.prototype.setWidth.call(this,this.length===0?100:this.getWidth()-l.getWidth()),p.prototype.removeImpl.call(this,l,f)},s.prototype.setWidth=function(l){var f=this.getWidth(),d=l/f;this._children.forEach((function(_){_.setWidthImpl(_.getWidth()*d)})),Kt(f,l,.5)||this.fire([u.EVENT_MULTI_LEVEL_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],f,l),p.prototype.setWidth.call(this,l)},s.prototype.getRenderer=function(){return this.getCollapsed()?u.COLLAPSED_RENDERER:p.prototype.getRenderer.call(this)},s.prototype.getExportValue=function(l,f){return f==="json"?{children:this.children.map((function(d){return d.getExportValue(l,f)}))}:p.prototype.getExportValue.call(this,l,f)},s.EVENT_COLLAPSE_CHANGED=$i.EVENT_COLLAPSE_CHANGED,s.EVENT_MULTI_LEVEL_CHANGED=$i.EVENT_MULTI_LEVEL_CHANGED,s.COLLAPSED_RENDERER="default",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("compress","expand")],s)})(vn);const eN=mY;var _Y=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function s1(p,s){return p===void 0&&(p="Nested"),s===void 0&&(s=!0),{type:"nested",label:p,showNestedSummaries:s}}const rN=(function(p){function s(){return p!==null&&p.apply(this,arguments)||this}return _Y(s,p),s.prototype.toCompareValue=function(u){return er(this.children.map((function(l){return l.toCompareValue(u)})))},s.prototype.toCompareValueType=function(){return er(this.children.map((function(u){return u.toCompareValueType()})))},s.prototype.getLabel=function(u){return this.children.map((function(l){return l.getLabel(u)})).join(";")},s.prototype.getValue=function(u){return this.children.map((function(l){return l.getValue(u)})).join(";")},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([qe("rename","clone","sort","sortBy")],s)})(eN);var bY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),SY=(function(p){function s(l,f,d){var _=p.call(this,l,fr(f,{renderer:"mapbars"}))||this;return _.numberFormat=ql,_.currentFilter=yi(),_.mapping=qa(f,d),_.original=_.mapping.clone(),_.colorMapping=d.colorMappingFunction(f.colorMapping||f.color),_.sort=f.sort||tn.median,f.numberFormat&&(_.numberFormat=Yi(f.numberFormat)),_}var u;return bY(s,p),u=s,s.prototype.getNumberFormat=function(){return this.numberFormat},s.prototype.toCompareValue=function(l){return zb(this,l)},s.prototype.toCompareValueType=function(){return tt.FLOAT},s.prototype.getBoxPlotData=function(l){var f=this.getRawValue(l);if(f==null)return null;for(var d=lt(),_=0,w=f;_<w.length;_++){var x=w[_];d.push(Hr(x.value)?NaN:this.mapping.apply(x.value))}return d.build()},s.prototype.getRange=function(){return this.mapping.getRange(this.numberFormat)},s.prototype.getRawBoxPlotData=function(l){var f=this.getRawValue(l);if(f==null)return null;for(var d=lt(),_=0,w=f;_<w.length;_++){var x=w[_];d.push(Hr(x.value)?NaN:x.value)}return d.build()},s.prototype.getNumber=function(l){return tf(this,l,"normalized")},s.prototype.getRawNumber=function(l){return tf(this,l,"raw")},s.prototype.iterNumber=function(l){var f=this.getValue(l);return f?f.map((function(d){return d.value})):[NaN]},s.prototype.iterRawNumber=function(l){var f=this.getRawValue(l);return f?f.map((function(d){return d.value})):[NaN]},s.prototype.getValue=function(l){var f=this,d=this.getRawValue(l);return d.length===0?null:d.map((function(_){var w=_.key,x=_.value;return{key:w,value:Hr(x)?NaN:f.mapping.apply(x)}}))},s.prototype.getRawValue=function(l){var f=p.prototype.getValue.call(this,l);return f??[]},s.prototype.getExportValue=function(l,f){return f==="json"?this.getRawValue(l):p.prototype.getExportValue.call(this,l,f)},s.prototype.getLabels=function(l){var f=this;return this.getRawValue(l).map((function(d){var _=d.key,w=d.value;return{key:_,value:f.numberFormat(w)}}))},s.prototype.getSortMethod=function(){return this.sort},s.prototype.setSortMethod=function(l){this.sort!==l&&(this.fire([u.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=l),this.isSortedByMe().asc||this.sortByMe())},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.sortMethod=this.getSortMethod(),f.filter=Xa(this.currentFilter)?null:this.currentFilter,f.map=this.mapping.toJSON(),f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),l.sortMethod&&(this.sort=l.sortMethod),l.filter&&(this.currentFilter=Is(l.filter)),(l.map||l.domain)&&(this.mapping=qa(l,f)),l.colorMapping&&(this.colorMapping=f.colorMappingFunction(l.colorMapping))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_MAPPING_CHANGED,u.EVENT_SORTMETHOD_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getOriginalMapping=function(){return this.original.clone()},s.prototype.getMapping=function(){return this.mapping.clone()},s.prototype.setMapping=function(l){this.mapping.eq(l)||this.fire([u.EVENT_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.mapping.clone(),this.mapping=l)},s.prototype.getColor=function(l){return ce.prototype.getColor.call(this,l)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([u.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return ce.prototype.isFiltered.call(this)},s.prototype.getFilter=function(){return ce.prototype.getFilter.call(this)},s.prototype.setFilter=function(l){ce.prototype.setFilter.call(this,l)},s.prototype.filter=function(l){return ce.prototype.filter.call(this,l)},s.prototype.clearFilter=function(){return ce.prototype.clearFilter.call(this)},s.EVENT_MAPPING_CHANGED=ce.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=ce.EVENT_COLOR_MAPPING_CHANGED,s.EVENT_SORTMETHOD_CHANGED=ce.EVENT_SORTMETHOD_CHANGED,s.EVENT_FILTER_CHANGED=ce.EVENT_FILTER_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","filterNumber","colorMapped","editMapping"),vi("sort","sortNumbers"),Ua("descending")],s)})(ef);const nN=SY;var wY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),xY=(function(p){function s(l,f){var d=p.call(this,l,fr(f,{renderer:"number",groupRenderer:"boxplot"}))||this;return d.lookup=new Map,d.currentFilter=null,d.categories=Wa(f),d.categories.forEach((function(_){return d.lookup.set(_.name,_)})),d.colorMapping=gi,d}var u;return wY(s,p),u=s,s.prototype.onDataUpdate=function(l){var f,d=this;if(p.prototype.onDataUpdate.call(this,l),!this.desc.categories){var _=new Set;l.forEach((function(w){var x=p.prototype.getValue.call(d,w);x&&_.add(String(x))})),(f=this.categories).splice.apply(f,(function(w,x,T){if(arguments.length===2)for(var M,N=0,I=x.length;N<I;N++)!M&&N in x||(M||(M=Array.prototype.slice.call(x,0,N)),M[N]=x[N]);return w.concat(M||Array.prototype.slice.call(x))})([0,this.categories.length],Wa({categories:Array.from(_)}),!1)),this.categories.forEach((function(w){return d.lookup.set(w.name,w)}))}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_MAPPING_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getNumberFormat=function(){return ql},Object.defineProperty(s.prototype,"dataLength",{get:function(){return this.categories.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"labels",{get:function(){return this.categories.map((function(l){return l.label}))},enumerable:!1,configurable:!0}),s.prototype.getValue=function(l){var f=this.getNumber(l);return Number.isNaN(f)?null:f},s.prototype.getCategory=function(l){var f=p.prototype.getValue.call(this,l);if(!f)return null;var d=String(f);return this.lookup.has(d)?this.lookup.get(d):null},s.prototype.getCategories=function(l){return[this.getCategory(l)]},s.prototype.iterCategory=function(l){return[this.getCategory(l)]},s.prototype.iterNumber=function(l){return[this.getNumber(l)]},s.prototype.iterRawNumber=function(l){return[this.getRawNumber(l)]},s.prototype.getColor=function(l){return we.prototype.getColor.call(this,l)},s.prototype.getLabel=function(l){return we.prototype.getLabel.call(this,l)},s.prototype.getLabels=function(l){return we.prototype.getLabels.call(this,l)},s.prototype.getValues=function(l){return we.prototype.getValues.call(this,l)},s.prototype.getMap=function(l){return we.prototype.getMap.call(this,l)},s.prototype.getMapLabel=function(l){return we.prototype.getMapLabel.call(this,l)},s.prototype.getSet=function(l){return we.prototype.getSet.call(this,l)},s.prototype.getNumber=function(l){var f=this.getCategory(l);return f?f.value:NaN},s.prototype.getRawNumber=function(l){return this.getNumber(l)},s.prototype.getExportValue=function(l,f){if(f==="json"){var d=this.getNumber(l);return Number.isNaN(d)?null:{name:this.getLabel(l),value:d}}return p.prototype.getExportValue.call(this,l,f)},s.prototype.dump=function(l){var f=we.prototype.dump.call(this,l);return f.mapping=this.getMapping(),f},s.prototype.restore=function(l,f){we.prototype.restore.call(this,l,f),l.mapping&&this.setMapping(l.mapping)},s.prototype.getMapping=function(){return this.categories.map((function(l){return l.value}))},s.prototype.setMapping=function(l){var f=H(l);l=l.map((function(_){return(_-f[0])/(f[1]-f[0])}));var d=this.getMapping();me(d,l)||(this.categories.forEach((function(_,w){return _.value=l[w]||0})),this.fire([u.EVENT_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],d,this.getMapping()))},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){return we.prototype.setColorMapping.call(this,l)},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l){return we.prototype.filter.call(this,l)},s.prototype.group=function(l){return we.prototype.group.call(this,l)},s.prototype.getFilter=function(){return this.currentFilter},s.prototype.setFilter=function(l){return we.prototype.setFilter.call(this,l)},s.prototype.clearFilter=function(){return we.prototype.clearFilter.call(this)},s.prototype.toCompareValue=function(l){return we.prototype.toCompareValue.call(this,l)},s.prototype.toCompareValueType=function(){return we.prototype.toCompareValueType.call(this)},s.prototype.getRenderer=function(){return ce.prototype.getRenderer.call(this)},s.EVENT_MAPPING_CHANGED=ce.EVENT_MAPPING_CHANGED,s.EVENT_FILTER_CHANGED=we.EVENT_FILTER_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=we.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","group","filterOrdinal","colorMappedCategorical"),ln("categorical")],s)})(Tr);const eu=xY;var EY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),iN=`let s = 0;
col.forEach((c) => s += c.v);
return s / col.length`;function l1(p){return p===void 0&&(p="script"),{type:"script",label:p,script:iN}}var TY=(function(){function p(s,u,l){this.c=s,this.v=u,this.raw=l}return Object.defineProperty(p.prototype,"type",{get:function(){return this.c.desc.type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"name",{get:function(){return this.c.getMetaData().label},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"id",{get:function(){return this.c.id},enumerable:!1,configurable:!0}),p})(),CY=(function(){function p(s,u){this.c=s,this.row=u}return Object.defineProperty(p.prototype,"type",{get:function(){return this.c.desc.type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"name",{get:function(){return this.c.getMetaData().label},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"id",{get:function(){return this.c.id},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"v",{get:function(){return this.c.getValue(this.row)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"raw",{get:function(){return Qe(this.c)?this.c.getRawNumber(this.row):null},enumerable:!1,configurable:!0}),p})(),aN=(function(){function p(s,u){var l=this;this.children=s,this.allFactory=u,this.lookup=new Map,this._all=null,s.forEach((function(f){l.lookup.set("ID@".concat(f.id),f),l.lookup.set("ID@".concat(f.id.toLowerCase()),f),l.lookup.set("NAME@".concat(f.name),f),l.lookup.set("NAME@".concat(f.name.toLowerCase()),f)}))}return p.prototype.byName=function(s){return this.lookup.get("NAME@".concat(s))},p.prototype.byID=function(s){return this.lookup.get("ID@".concat(s))},p.prototype.byIndex=function(s){return this.children[s]},p.prototype.forEach=function(s){return this.children.forEach(s)},Object.defineProperty(p.prototype,"length",{get:function(){return this.children.length},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"all",{get:function(){return this._all==null&&(this._all=this.allFactory?this.allFactory():null),this._all},enumerable:!1,configurable:!0}),p})(),AY=(function(p){function s(l,f,d){var _=p.call(this,l,fr(f,{renderer:"number",groupRenderer:"boxplot",summaryRenderer:"histogram"}))||this;return _.script=u.DEFAULT_SCRIPT,_.f=null,_.currentFilter=yi(),_.script=f.script||_.script,_.mapping=qa(f,d),_.original=_.mapping.clone(),_.colorMapping=d.colorMappingFunction(f.colorMapping||f.color),_}var u;return EY(s,p),u=s,s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_SCRIPT_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.setScript=function(l){this.script!==l&&(this.f=null,this.fire([u.EVENT_SCRIPT_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.script,this.script=l))},s.prototype.getScript=function(){return this.script},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.script=this.script,f.filter=Xa(this.currentFilter)?null:this.currentFilter,f.map=this.mapping.toJSON(),f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),this.script=l.script||this.script,l.filter&&(this.currentFilter=Is(l.filter)),(l.map||l.domain)&&(this.mapping=qa(l.map,f)),l.colorMapping&&(this.colorMapping=f.colorMappingFunction(l.colorMapping))},s.prototype.compute=function(l){var f,d=this;this.f==null&&(this.f=new Function("children","values","raws","col","row","index",((f=this.script.trim()).includes("return")||(f="return (".concat(f,");")),`
  const max = function(arr) { return Math.max.apply(Math, arr); };
  const min = function(arr) { return Math.min.apply(Math, arr); };
  const extent = function(arr) { return [min(arr), max(arr)]; };
  const clamp = function(v, minValue, maxValue) { return v < minValue ? minValue : (v > maxValue ? maxValue : v); };
  const normalize = function(v, minMax, max) {
    if (Array.isArray(minMax)) {
      minMax = minMax[0];
      max = minMax[1];
    }
    return (v - minMax) / (max - minMax);
  };
  const denormalize = function(v, minMax, max) {
    if (Array.isArray(minMax)) {
      minMax = minMax[0];
      max = minMax[1];
    }
    return v * (max - minMax) + minMax;
  };
  const linear = function(v, source, target) {
    target = target || [0, 1];
    return denormalize(normalize(v, source), target);
  };
  const v = (function custom() {
    `.concat(f,`
  })();

  return typeof v === 'number' ? v : NaN`))));var _=this._children,w=this._children.map((function(M){return M.getValue(l)})),x=this._children.map((function(M){return Qe(M)?M.getRawNumber(l):null})),T=new aN(_.map((function(M,N){return new TY(M,w[N],x[N])})),(function(){var M=d.findMyRanker().flatColumns;return new aN(M.map((function(N){return new CY(N,l)})))}));return this.f.call(this,_,w,x,T,l.v,l.i)},s.prototype.getExportValue=function(l,f){return f==="json"?{value:this.getRawNumber(l),children:this.children.map((function(d){return d.getExportValue(l,f)}))}:p.prototype.getExportValue.call(this,l,f)},s.prototype.getRange=function(){return this.mapping.getRange(this.getNumberFormat())},s.prototype.getOriginalMapping=function(){return this.original.clone()},s.prototype.getMapping=function(){return this.mapping.clone()},s.prototype.setMapping=function(l){this.mapping.eq(l)||this.fire([u.EVENT_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.mapping.clone(),this.mapping=l)},s.prototype.getColor=function(l){return ce.prototype.getColor.call(this,l)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([u.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return ce.prototype.isFiltered.call(this)},s.prototype.getFilter=function(){return ce.prototype.getFilter.call(this)},s.prototype.setFilter=function(l){ce.prototype.setFilter.call(this,l)},s.prototype.filter=function(l){return ce.prototype.filter.call(this,l)},s.prototype.clearFilter=function(){return ce.prototype.clearFilter.call(this)},s.EVENT_MAPPING_CHANGED=ce.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=ce.EVENT_COLOR_MAPPING_CHANGED,s.EVENT_SCRIPT_CHANGED="scriptChanged",s.DEFAULT_SCRIPT=iN,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("script","filterNumber","colorMapped","editMapping"),Ua("descending")],s)})(vp);const u1=AY;var DY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),MY=(function(p){function s(u,l){var f,d=p.call(this,u,fr(l,{width:200,renderer:"map"}))||this;return d.alignment=(f=l.alignment)!==null&&f!==void 0?f:Wo.left,d.escape=l.escape!==!1,d}return DY(s,p),s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.getValue=function(u){var l=this.getMapValue(u);return l.every((function(f){return f.value===""}))?null:l},s.prototype.getMapValue=function(u){return p.prototype.getMap.call(this,u).map((function(l){var f=l.key,d=l.value;return{key:f,value:Hr(d)?"":String(d)}}))},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([qe("rename","search")],s)})(ef);const oN=MY;var LY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),NY=(function(p){function s(u,l){var f,d=p.call(this,u,fr(l,{width:200}))||this;return d.alignment=(f=l.alignment)!==null&&f!==void 0?f:Wo.left,d.escape=l.escape!==!1,d}return LY(s,p),s.prototype.getValues=function(u){return p.prototype.getValues.call(this,u).map((function(l){return Hr(l)?"":String(l)}))},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([qe("rename","search")],s)})(Wl);const sN=NY;var RY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),IY=(function(p){function s(l,f){var d,_=p.call(this,l,fr(f,Object.assign({width:200},f.pattern?{renderer:"link",groupRenderer:"link"}:{})))||this;return _.patternFunction=null,_.currentFilter=null,_.currentGroupCriteria={type:An.startsWith,values:[]},_.alignment=(d=f.alignment)!==null&&d!==void 0?d:Wo.left,_.escape=f.escape!==!1,_.pattern=f.pattern||"",_.patternTemplates=f.patternTemplates||[],_}var u;return RY(s,p),u=s,s.prototype.setPattern=function(l){l!==this.pattern&&(this.patternFunction=null,this.fire([u.EVENT_PATTERN_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.pattern,this.pattern=l))},s.prototype.getPattern=function(){return this.pattern},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_PATTERN_CHANGED,u.EVENT_GROUPING_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getValue=function(l){var f=this.getLink(l);return f==null?null:f.href},s.prototype.getLink=function(l){var f=p.prototype.getValue.call(this,l);return this.transformValue(f,l)},s.prototype.transformValue=function(l,f){return l==null||l===""?null:typeof l=="string"?this.pattern?(this.patternFunction||(this.patternFunction=vb(this.pattern,"item")),{alt:l,href:this.patternFunction.call(this,l,f.v)}):{alt:l,href:l}:l},s.prototype.getLabel=function(l){var f=this.getLink(l);return f==null?"":f.alt},s.prototype.dump=function(l){var f=Nr.prototype.dump.call(this,l);return this.pattern!==this.desc.pattern&&(f.pattern=this.pattern),f},s.prototype.restore=function(l,f){Nr.prototype.restore.call(this,l,f),l.pattern&&(this.pattern=l.pattern)},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l){return Nr.prototype.filter.call(this,l)},s.prototype.getFilter=function(){return this.currentFilter},s.prototype.setFilter=function(l){return Nr.prototype.setFilter.call(this,l)},s.prototype.clearFilter=function(){return Nr.prototype.clearFilter.call(this)},s.prototype.getGroupCriteria=function(){return this.currentGroupCriteria},s.prototype.setGroupCriteria=function(l){return Nr.prototype.setGroupCriteria.call(this,l)},s.prototype.toCompareValue=function(l){return Nr.prototype.toCompareValue.call(this,l)},s.prototype.toCompareValueType=function(){return Nr.prototype.toCompareValueType.call(this)},s.prototype.toCompareGroupValue=function(l,f){return Nr.prototype.toCompareGroupValue.call(this,l,f)},s.prototype.toCompareGroupValueType=function(){return Nr.prototype.toCompareGroupValueType.call(this)},s.prototype.group=function(l){return Nr.prototype.group.call(this,l)},s.EVENT_FILTER_CHANGED=Nr.EVENT_FILTER_CHANGED,s.EVENT_GROUPING_CHANGED=Nr.EVENT_GROUPING_CHANGED,s.EVENT_PATTERN_CHANGED="patternChanged",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","clone","sort","sortBy","search","groupBy","filterString","editPattern"),vi("group","groupString"),ln("string")],s)})(Tr);const Yo=IY;var OY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),PY=(function(p){function s(u,l){var f,d,_,w=p.call(this,u,fr(l,{width:200,renderer:"map"}))||this;return w.patternFunction=null,w.alignment=(f=l.alignment)!==null&&f!==void 0?f:Wo.left,w.escape=l.escape!==!1,w.pattern=(d=l.pattern)!==null&&d!==void 0?d:"",w.patternTemplates=(_=l.patternTemplates)!==null&&_!==void 0?_:[],w}return OY(s,p),s.prototype.setPattern=function(u){Yo.prototype.setPattern.call(this,u)},s.prototype.getPattern=function(){return this.pattern},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([Yo.EVENT_PATTERN_CHANGED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.getValue=function(u){var l=this.getLinkMap(u);return l.every((function(f){return f.value==null}))?null:l.map((function(f){var d=f.key,_=f.value;return{key:d,value:_?_.href:""}}))},s.prototype.getLabels=function(u){return this.getLinkMap(u).map((function(l){var f=l.key,d=l.value;return{key:f,value:d?d.alt:""}}))},s.prototype.getLinkMap=function(u){var l=this;return p.prototype.getMap.call(this,u).map((function(f){var d=f.key,_=f.value;return{key:d,value:l.transformValue(_,u,d)}}))},s.prototype.transformValue=function(u,l,f){return u==null||u===""?null:typeof u=="string"?this.pattern?(this.patternFunction||(this.patternFunction=vb(this.pattern,"item","key")),{alt:u,href:this.patternFunction.call(this,u,l.v,f)}):{alt:u,href:u}:u},s.prototype.dump=function(u){var l=p.prototype.dump.call(this,u);return this.pattern!==this.desc.pattern&&(l.pattern=this.pattern),l},s.prototype.restore=function(u,l){u.pattern&&(this.pattern=u.pattern),p.prototype.restore.call(this,u,l)},s.EVENT_PATTERN_CHANGED=Yo.EVENT_PATTERN_CHANGED,(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([qe("rename","search","editPattern")],s)})(ef);const c1=PY;var kY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),VY=(function(p){function s(l,f){var d,_,w,x=p.call(this,l,fr(f,{width:200}))||this;return x.patternFunction=null,x.alignment=(d=f.alignment)!==null&&d!==void 0?d:Wo.left,x.escape=f.escape!==!1,x.pattern=(_=f.pattern)!==null&&_!==void 0?_:"",x.patternTemplates=(w=f.patternTemplates)!==null&&w!==void 0?w:[],x}var u;return kY(s,p),u=s,s.prototype.setPattern=function(l){return Yo.prototype.setPattern.call(this,l)},s.prototype.getPattern=function(){return this.pattern},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_PATTERN_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getValues=function(l){return this.getLinks(l).map((function(f){return f?f.href:""}))},s.prototype.getLabels=function(l){return this.getLinks(l).map((function(f){return f?f.alt:""}))},s.prototype.transformValue=function(l,f,d){return l==null||l===""?null:typeof l=="string"?this.pattern?(this.patternFunction||(this.patternFunction=vb(this.pattern,"item","index")),{alt:l,href:this.patternFunction.call(this,l,f.v,d)}):{alt:l,href:l}:l},s.prototype.getLinks=function(l){var f=this;return p.prototype.getValues.call(this,l).map((function(d,_){return f.transformValue(d,l,_)}))},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return this.pattern!==this.desc.pattern&&(f.pattern=this.pattern),f},s.prototype.restore=function(l,f){l.pattern&&(this.pattern=l.pattern),p.prototype.restore.call(this,l,f)},s.EVENT_PATTERN_CHANGED=Yo.EVENT_PATTERN_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var M=l.length-1;M>=0;M--)(w=l[M])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([qe("rename","search","editPattern")],s)})(Wl);const lN=VY;var Jn=Symbol("aborted");function f1(p,s,u){return function(l,f){return{then:f1(p.then((function(d){var _,w=s()?Jn:d,x=l?l(w):w;return(_=x)!=null&&typeof _.then=="function"?x.then((function(T){return s()?Jn:T})):s()?Jn:x})),s,u),abort:u,isAborted:s}}}function uN(p){var s=null,u=function(){return s===null},l=new Promise((function(d){s=d})),f=function(){s!=null&&(s(Jn),s=null)};return{then:f1(Promise.race([l,p]),u,f),abort:f,isAborted:u}}function gp(p){var s=Promise.all(p),u=null,l=function(){return u===null},f=new Promise((function(_){u=_})),d=function(){if(u!=null){u(Jn);for(var _=0,w=p;_<w.length;_++){var x=w[_];ru(x)&&x.abort()}u=null}};return{then:f1(Promise.race([f,s]),l,d),abort:d,isAborted:l}}function ru(p){return p!=null&&p&&typeof p.then=="function"&&typeof p.abort=="function"}function $o(p){return p!=null&&p&&ru(p.ready)}var cN="https://lineup.js.org/develop/schema.4.0.0.json",GY=i(693),FY=i.n(GY);function fN(p){return typeof p=="string"&&(p.includes(".")||p.includes("["))}function qo(p,s){return p!=null&&p[s]!=null?p[s]:FY()(p,s)}function hN(p,s){return qo(p.v,s.column)}function pN(p,s){return p.v[s.column]}function BY(p,s){return fN(s.column)?hN(p,s):pN(p,s)}function h1(p){return p.delete(null),p.delete(void 0),p.delete(""),p.delete("NA"),p.delete("NaN"),p.delete("na"),Array.from(p).map(String).sort()}function _a(p){return p==null||Array.isArray(p)&&p.length===0||p instanceof Set&&p.size===0||p instanceof Map&&p.size===0||Ge({},p)}function yp(p,s,u,l){if(p==null)return console.warn("cannot derive from null value for column: ",u),null;if(typeof p=="number")return{type:"number",domain:H(s())};if(typeof p=="boolean")return{type:"boolean"};if(p instanceof Date)return{type:"date"};if(typeof p=="object"&&p.alt!=null&&p.href!=null||typeof p=="string"&&(function(M){var N=M.indexOf("://");if(N<0)return!1;var I=M.slice(0,N);return["http","https","ftp"].includes(I)})(p))return{type:"link"};for(var f=0,d=Array.isArray(l.datePattern)?l.datePattern:[l.datePattern];f<d.length;f++){var _=d[f];if(Os(_)(p)!=null)return{type:"date",dateParse:_}}var w=typeof l.categoricalThreshold=="function"?l.categoricalThreshold:function(M,N){return M<N*l.categoricalThreshold};if(typeof p=="string"){var x=s(),T=new Set(x);return w(T.size,x.length)?{type:"categorical",categories:h1(T)}:{type:"string"}}return null}function p1(p,s){s===void 0&&(s={});var u=Object.assign({categoricalThreshold:function(f,d){return f<=I9&&f<.7*d},columns:[],datePattern:["%x","%Y-%m-%d","%Y-%m-%dT%H:%M:%S.%LZ"]},s);if(p.length===0)return[];var l=p[0];return(Array.isArray(l)?(function(f){for(var d=new Array(f),_=0;_<f;++_)d[_]=_;return d})(l.length):u.columns.length>0?(function(f,d){if(!d.every((function(w){return w.startsWith("-")})))return d;var _=new Set(d);return f.filter((function(w){return!_.has("-".concat(w))}))})(Object.keys(l),u.columns):Object.keys(l)).map((function(f){var d=qo(l,f);if(_a(d)){var _=p.find((function(w){return!_a(qo(w,f))}));d=_?_[f]:null}return(function(w,x,T,M,N){var I,G={type:"string",label:w,column:T},B=yp(x,M,T,N);if(B!=null)return Object.assign(G,B);if(x instanceof Set){for(var U=new Set,$=0,Q=M();$<Q.length;$++){var nt=Q[$];nt instanceof Set&&nt.forEach((function(ct){U.add(String(ct))}))}return Object.assign(G,{type:"set",categories:h1(U)})}if(x instanceof Map){var ot=function(){for(var ct=[],kt=0,jt=M();kt<jt.length;kt++){var Nt=jt[kt];Nt instanceof Map&&Nt.forEach((function(ee){_a(ee)||ct.push(ee)}))}return ct},ft=yp(I=Array.from(x.values()).find((function(ct){return!_a(ct)})),ot,T,N);return Object.assign(G,ft||{},{type:ft?"".concat(ft.type,"Map"):"stringMap"})}if(Array.isArray(x)){var Et=M(),At=!(function(ct){if(ct.length===0)return!1;var kt=ct[0].length;return ct.some((function(jt){return jt!=null&&kt!==(Array.isArray(jt)?jt.length:-1)}))})(Et);if(At&&(G.dataLength=x.length),(ft=yp(I=x.find((function(ct){return!_a(ct)})),(function(){return er(Et).filter((function(ct){return!_a(ct)}))}),T,N))&&ft.type==="categorical"&&!At)return Object.assign(G,ft,{type:"set"});if(ft||_a(I))return Object.assign(G,ft||{},{type:ft?"".concat(ft.type,"s"):"strings"});if(typeof I=="object"&&I.key!=null&&I.value!=null){ot=function(){for(var ct=[],kt=0,jt=Et;kt<jt.length;kt++){var Nt=jt[kt];if(Array.isArray(Nt))for(var ee=0,Ut=Nt;ee<Ut.length;ee++){var Ne=Ut[ee];_a(Ne)||ct.push(Ne)}}return ct};var Ot=yp(I.value,ot,T,N);return Object.assign(G,Ot||{},{type:Ot?"".concat(Ot.type,"Map"):"stringMap"})}}if(x!==null&&typeof x=="object"&&["min","max","median","q1","q3"].every((function(ct){return typeof x[ct]=="number"}))){var Wt=M();return Object.assign(G,{type:"boxplot",domain:[Wt.reduce((function(ct,kt){return Math.min(ct,kt.min)}),Number.POSITIVE_INFINITY),Wt.reduce((function(ct,kt){return Math.max(ct,kt.max)}),Number.NEGATIVE_INFINITY)]})}return x!==null&&typeof x=="object"?(ot=function(){for(var ct=[],kt=function(ee){if(ee==null)return"continue";Object.keys(ee).forEach((function(Ut){var Ne=ee[Ut];_a(Ne)||ct.push(Ne)}))},jt=0,Nt=M();jt<Nt.length;jt++)kt(Nt[jt]);return ct},ft=yp(I=Object.keys(x).map((function(ct){return x[ct]})).filter((function(ct){return!_a(ct)})),ot,T,N),Object.assign(G,ft||{},{type:ft?"".concat(ft.type,"Map"):"stringMap"})):(console.log("cannot infer type of column:",T),G)})((function(w){return typeof w=="number"?"Col ".concat(w+1):(w=w.trim()).length===0?"Unknown":w.split(/[\s]+/gm).map((function(x){return x.length===0?x:"".concat(x[0].toUpperCase()).concat(x.slice(1))})).join(" ")})(f),d,f,(function(){return p.map((function(w){return qo(w,f)})).filter((function(w){return!_a(w)}))}),u)}))}function d1(p){var s=mb();return p.forEach((function(u){Ze(u)&&(u.colorMapping=u.colorMapping||u.color||s()||Oe)})),p}var dN={separator:"	",newline:`
`,header:!0,quote:!1,quoteChar:'"',filter:function(p){return!Hl(p)},verboseColumnHeaders:!1};function vN(p,s){var u=new RegExp("[".concat(s.quoteChar,"]"),"g");function l(f,d){var _=String(f);return!(s.quote||_.indexOf(`
`)>=0)||d&&Qe(d)?_:"".concat(s.quoteChar).concat(_.replace(u,s.quoteChar+s.quoteChar)).concat(s.quoteChar)}return{addHeader:function(){return p.map((function(f){return l("".concat(f.label).concat(s.verboseColumnHeaders&&f.description?`
`.concat(f.description):""))})).join(s.separator)},addRow:function(f){return p.map((function(d){return l(d.getExportValue(f,"text"),d)})).join(s.separator)}}}function v1(p,s,u){u===void 0&&(u={});var l=Object.assign({},dN,u),f=p.flatColumns.filter((function(x){return l.filter(x)})),d=p.getOrder(),_=vN(f,l),w=[];return l.header&&w.push(_.addHeader()),s.forEach((function(x,T){w.push(_.addRow({v:x,i:d[T]}))})),w.join(l.newline)}function g1(p,s,u){u===void 0&&(u={});var l=Object.assign({},dN,u),f=p instanceof he?p.flatColumns.filter((function(w){return l.filter(w)})):p,d=vN(f,l),_=[];return l.header&&_.push(d.addHeader()),s.forEach((function(w){_.push(d.addRow(w))})),_.join(l.newline)}function HY(p){var s={};return p.forEach((function(u,l){return s[l]=u})),s}function gN(p,s,u,l,f){var d=p.getRankings().find((function(N){return N.id===s}));if(!d)return!1;var _=p.getSelection();if(_.length===0||_.includes(u))return!1;var w=d.getOrder(),x=new Map(Array.from(w).map((function(N,I){return[N,I]}))),T=_.map((function(N){var I=x.has(N)?x.get(N):Number.POSITIVE_INFINITY;return{s:N,index:I,distance:Math.abs(l-I)}})).sort((function(N,I){return N.distance-I.distance}))[0];if(!isFinite(T.distance))return!1;if(f||(_.splice(0,_.length),_.push(T.s)),T.index<l)for(var M=T.index+1;M<=l;++M)_.push(w[M]);else for(M=l;M<=T.index;++M)_.push(w[M]);return p.setSelection(_),!0}function y1(p){return p!=null&&typeof p.then=="function"}function m1(p){return p==="group+item"||p==="group+item+top"||p==="group+top+item"}function Rg(p,s,u){return p===0?s.order.length===1?"first last":"first":p===s.order.length-1||u>0&&p===u-1?"last":null}function _1(p,s){for(var u=[{group:p,meta:s}],l=p,f=s,d=p.parent;d;)s=d.subGroups.length===1&&f==="first last"?"first last":d.subGroups[0]!==l||f!=="first last"&&f!=="first"?d.subGroups[d.subGroups.length-1]!==l||f!=="last"&&f!=="first last"?null:"last":"first",u.unshift({group:d,meta:s}),l=d,f=s,d=d.parent;return u}function Ig(p,s){var u=It(p)?p:p.group,l=It(p)?"first last":Rg(p.relativeIndex,p.group,s(u));if(l!=="last"&&l!=="first last")return 0;for(var f=u,d=u.parent,_=1;d;){if(d.subGroups.length!==1&&d.subGroups[d.subGroups.length-1]!==f)return _;++_,f=d,d=d.parent}return _}function b1(p,s,u){var l=u(p);return m1(s)&&l!==0}var zY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),S1=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function w1(p){switch(p.primaryType||""){case he.EVENT_DIRTY_ORDER:return p.args[0]||[Dr.UNKNOWN];case he.EVENT_SORT_CRITERIA_CHANGED:return[Dr.SORT_CRITERIA_CHANGED];case he.EVENT_GROUP_CRITERIA_CHANGED:return[Dr.GROUP_CRITERIA_CHANGED];case he.EVENT_GROUP_SORT_CRITERIA_CHANGED:return[Dr.GROUP_SORT_CRITERIA_CHANGED];default:return[Dr.UNKNOWN]}}function UY(p,s){for(var u=w1(p.self),l=w1(s.self),f=new Set(u),d=0,_=l;d<_.length;d++){var w=_[d];f.add(w)}var x=[Array.from(f)];return{self:{primaryType:he.EVENT_DIRTY_ORDER,args:x},args:x}}var WY=(function(p){function s(u){u===void 0&&(u={});var l=p.call(this)||this;return l.rankings=[],l.selection=new Zh,l.aggregations=new Map,l.uid=0,l.options={columnTypes:{},colorMappingFunctionTypes:{},mappingFunctionTypes:{},singleSelection:!1,showTopN:10,aggregationStrategy:"item",propagateAggregationState:!0},Object.assign(l.options,u),l.columnTypes=Object.assign({actions:Ab,aggregate:ep,annotate:Db,boolean:og,booleans:GM,boxplot:Ai,categorical:we,categoricalMap:mL,categoricals:_L,date:Wr,dateMap:UL,dates:hp,group:Kb,hierarchy:WL,imposition:n1,impositionBoxPlot:JL,impositions:QL,reduce:tN,nested:rN,number:ce,numbers:Mn,numberMap:nN,ordinal:eu,rank:ig,script:u1,selection:Cb,set:Ul,stack:$i,string:Nr,stringMap:oN,strings:sN,link:Yo,linkMap:c1,links:lN},l.options.columnTypes),l.colorMappingFunctionTypes=Object.assign((function(){for(var f,d=((f={})[Oe]=ma,f.quantized=Qa,f.custom=Ps,f),_=0,w=Object.keys(Ka.FUNCTIONS);_<w.length;_++)d[w[_]]=Ka;for(var x=0,T=Object.keys(Ja.FUNCTIONS);x<T.length;x++)d[T[x]]=Ja;return d})(),l.options.colorMappingFunctionTypes),l.mappingFunctionTypes=Object.assign(dL(),l.options.mappingFunctionTypes),l.showTopN=l.options.showTopN,l.typeFactory=l.createTypeFactory(),l}return zY(s,p),s.prototype.createTypeFactory=function(){var u,l=this,f=function(d){var _=l.fromDescRef(d.desc);if(!_||!_.type)return console.warn("cannot restore column dump",d),new vt(d.id||"",d.desc||{});l.fixDesc(_);var w=l.columnTypes[_.type];if(w==null)return console.warn("invalid column type in column dump using column",d),new vt(d.id||"",_);var x=l.instantiateColumn(w,"",_,l.typeFactory);return x.restore(d,f),l.patchColumn(x)};return f.colorMappingFunction=(function(d,_){return function(w){if(!w)return dp;if(typeof w=="function")return new KL(w);var x=typeof w=="string"?w:w.type,T=d[x];return T?new T(w,_):Array.isArray(w)?new Ps(w):new ma(w.toString())}})(this.colorMappingFunctionTypes,f),f.mappingFunction=(u=this.mappingFunctionTypes,function(d){if(typeof d=="function")return new Qc([0,1],d);if(!d||!d.type)return new zr;var _=u[d.type];return _?new _(d):(console.warn("invalid mapping type dump",d),new zr(d.domain||[0,1],"linear",d.range||[0,1]))}),f.categoricalColorMappingFunction=F9,f},s.prototype.getTypeFactory=function(){return this.typeFactory},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_DATA_CHANGED,s.EVENT_BUSY,s.EVENT_SHOWTOPN_CHANGED,s.EVENT_ADD_COLUMN,s.EVENT_REMOVE_COLUMN,s.EVENT_MOVE_COLUMN,s.EVENT_ADD_RANKING,s.EVENT_REMOVE_RANKING,s.EVENT_DIRTY,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES,s.EVENT_ORDER_CHANGED,s.EVENT_SELECTION_CHANGED,s.EVENT_ADD_DESC,s.EVENT_CLEAR_DESC,s.EVENT_JUMP_TO_NEAREST,s.EVENT_GROUP_AGGREGATION_CHANGED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.pushRanking=function(u){var l=this.cloneRanking(u);return this.insertRanking(l),l},s.prototype.fireBusy=function(u){this.fire(s.EVENT_BUSY,u)},s.prototype.takeSnapshot=function(u){var l=this;this.fireBusy(!0);var f=this.cloneRanking(),d=u.findMyRanker(),_=u.desc.type==="string",w=!1,x=d?d.children.filter((function(T){return T===u?(w=!0,!0):_||T.desc.type!=="string"?Hl(T):(_=!0,!0)})):[u];return w||x.push(u),x.forEach((function(T){var M=l.clone(T);f.push(M),T===u&&M.sortByMe()})),this.insertRanking(f),this.fireBusy(!1),f},s.prototype.insertRanking=function(u,l){l===void 0&&(l=this.rankings.length),this.rankings.splice(l,0,u),this.forward.apply(this,S1([u],s.FORWARD_RANKING_EVENTS,!1));var f=this;u.on("".concat(he.EVENT_DIRTY_ORDER,".provider"),ja((function(){f.triggerReorder(u,w1(this))}),100,UY)),this.fire([s.EVENT_ADD_RANKING,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l),this.triggerReorder(u)},s.prototype.triggerReorder=function(u,l){var f=this;this.fireBusy(!0);var d=l||[Dr.UNKNOWN];Promise.resolve(this.sort(u,d)).then((function(_){var w=_.groups,x=_.index2pos;u.getGroupSortCriteria().length===0&&(w=(function(T){if(T.length<=1)return T;var M=T.map((function(I){for(var G=[I],B=I.parent;B;)G.unshift(B),B=B.parent;return G})),N=function(I,G){for(var B,U,$,Q=[];I.length>0;){var nt=I.shift();if(Qv(nt)&&nt.subGroups.length!==0){var ot=Kh({},nt);for(Q.push(ot);I.length>0&&(U=ot,($=I[0]).name===U.name&&$.parent===U.parent&&Qv($)&&$.subGroups.length>0);)(B=ot.subGroups).push.apply(B,I.shift().subGroups);for(var ft=0,Et=ot.subGroups;ft<Et.length;ft++)Et[ft].parent=ot;ot.subGroups=N(ot.subGroups)}else Q.push(nt)}return Q};return N(M.map((function(I){return I[0]}))),T})(w)),f.initAggregateState(u,w),u.setGroups(w,x,d),f.fireBusy(!1)}))},s.prototype.removeRanking=function(u){var l=this.rankings.indexOf(u);return!(l<0||(this.unforward.apply(this,S1([u],s.FORWARD_RANKING_EVENTS,!1)),this.rankings.splice(l,1),u.on("".concat(he.EVENT_DIRTY_ORDER,".provider"),null),this.cleanUpRanking(u),this.fire([s.EVENT_REMOVE_RANKING,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l),0))},s.prototype.clearRankings=function(){var u=this;this.rankings.forEach((function(l){u.unforward.apply(u,S1([l],s.FORWARD_RANKING_EVENTS,!1)),l.on("".concat(he.EVENT_DIRTY_ORDER,".provider"),null),u.cleanUpRanking(l)})),this.rankings.splice(0,this.rankings.length),this.fire([s.EVENT_REMOVE_RANKING,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],null,-1)},s.prototype.clearFilters=function(){this.rankings.forEach((function(u){return u.clearFilters()}))},s.prototype.getRankings=function(){return this.rankings.slice()},s.prototype.getFirstRanking=function(){return this.rankings[0]||null},s.prototype.getLastRanking=function(){return this.rankings[this.rankings.length-1]},s.prototype.ensureOneRanking=function(){if(this.rankings.length===0){var u=this.pushRanking();this.push(u,$c())}},s.prototype.destroy=function(){},s.prototype.cleanUpRanking=function(u){},s.prototype.push=function(u,l){var f=this.create(l);return f?(u.push(f),f):null},s.prototype.insert=function(u,l,f){var d=this.create(f);return d?(u.insert(d,l),d):null},s.prototype.nextId=function(){return"col".concat(this.uid++)},s.prototype.fixDesc=function(u){var l=this;return u.type==="selection"?(u.accessor=function(f){return l.isSelected(f.i)},u.setter=function(f,d){return d?l.select(f):l.deselect(f)},u.setterAll=function(f,d){return d?l.selectAll(f):l.deselectAll(f)}):u.type==="aggregate"&&(u.isAggregated=function(f,d){return l.getAggregationState(f,d)},u.setAggregated=function(f,d,_){return l.setAggregationState(f,d,_)}),u},s.prototype.cleanDesc=function(u){return u.type==="selection"?(delete u.accessor,delete u.setter,delete u.setterAll):u.type==="aggregate"&&(delete u.isAggregated,delete u.setAggregated),u},s.prototype.create=function(u){this.fixDesc(u);var l=this.columnTypes[u.type];return l?this.patchColumn(this.instantiateColumn(l,this.nextId(),u,this.typeFactory)):null},s.prototype.patchColumn=function(u){return u},s.prototype.instantiateColumn=function(u,l,f,d){return new u(l,f,d)},s.prototype.clone=function(u){var l=this.dumpColumn(u);return this.restoreColumn(l)},s.prototype.restoreColumn=function(u){var l=this.typeFactory(u);return l.assignNewId(this.nextId.bind(this)),l},s.prototype.find=function(u){for(var l=typeof u=="string"?function(w){return w.id===u}:u,f=0,d=this.rankings;f<d.length;f++){var _=d[f].find(l);if(_)return _}return null},s.prototype.dump=function(){var u=this;return{$schema:cN,uid:this.uid,selection:this.getSelection(),aggregations:HY(this.aggregations),rankings:this.rankings.map((function(l){return l.dump(u.toDescRef.bind(u))})),showTopN:this.showTopN}},s.prototype.dumpColumn=function(u){return u.dump(this.toDescRef.bind(this))},s.prototype.toDescRef=function(u){return u},s.prototype.fromDescRef=function(u){return u},s.prototype.restoreRanking=function(u){var l=this.cloneRanking();l.restore(u,this.typeFactory);var f=this.nextId.bind(this);return l.children.forEach((function(d){return d.assignNewId(f)})),l},s.prototype.restore=function(u){var l=this;this.clearRankings(),this.uid=u.uid||0,u.selection&&u.selection.forEach((function(d){return l.selection.add(d)})),u.showTopN!=null&&(this.showTopN=u.showTopN),u.aggregations&&(this.aggregations.clear(),Array.isArray(u.aggregations)?u.aggregations.forEach((function(d){return l.aggregations.set(d,0)})):(function(d){for(var _=new Map,w=0,x=Object.keys(d);w<x.length;w++){var T=x[w];_.set(T,d[T])}return _})(u.aggregations).forEach((function(d,_){return l.aggregations.set(_,d)}))),u.rankings&&u.rankings.forEach((function(d){var _=l.cloneRanking();_.restore(d,l.typeFactory),_.children.some((function(w){return w instanceof ig}))||_.insert(l.create($c()),0),l.insertRanking(_)}));var f=this.nextId.bind(this);this.rankings.forEach((function(d){d.children.forEach((function(_){return _.assignNewId(f)}))}))},s.prototype.deriveDefault=function(u){var l=this;u===void 0&&(u=!0);var f=this.pushRanking();return u&&(f.push(this.create(ng())),f.push(this.create($c())),this.options.singleSelection!==!0&&f.push(this.create(ag()))),this.getColumns().forEach((function(d){var _=l.create(d);_&&!Hl(_)&&f.push(_)})),f},s.prototype.isAggregated=function(u,l){return this.getTopNAggregated(u,l)>=0},s.prototype.getAggregationState=function(u,l){var f=this.getTopNAggregated(u,l);return f<0?rr.EXPAND:f===0?rr.COLLAPSE:rr.EXPAND_TOP_N},s.prototype.setAggregated=function(u,l,f){return this.setAggregationState(u,l,f?rr.COLLAPSE:rr.EXPAND)},s.prototype.setAggregationState=function(u,l,f){this.setTopNAggregated(u,l,f===rr.COLLAPSE?0:f===rr.EXPAND_TOP_N?this.showTopN:-1)},s.prototype.getTopNAggregated=function(u,l){for(var f=l;f;){var d="".concat(u.id,"@").concat(Jh(f));if(this.aggregations.has(d)){var _=this.aggregations.get(d);return this.options.propagateAggregationState&&l!==f&&this.aggregations.set("".concat(u.id,"@").concat(Jh(l)),_),_}f=f.parent}return-1},s.prototype.unaggregateParents=function(u,l){for(var f=l.parent,d=!1;f;)d=this.aggregations.delete("".concat(u.id,"@").concat(Jh(f)))||d,f=f.parent;return d},s.prototype.getAggregationStrategy=function(){return this.options.aggregationStrategy},s.prototype.initAggregateState=function(u,l){var f=-1;switch(this.getAggregationStrategy()){case"group":f=0;break;case"item":case"group+item":case"group+item+top":f=-1;break;case"group+top+item":f=this.showTopN}for(var d=0,_=l;d<_.length;d++){var w=_[d],x="".concat(u.id,"@").concat(Jh(w));!this.aggregations.has(x)&&f>=0&&this.aggregations.set(x,f)}},s.prototype.setTopNAggregated=function(u,l,f){for(var d=Array.isArray(l)?l:[l],_=[],w=[],x=!1,T=0;T<d.length;T++){var M=d[T],N=typeof f=="number"?f:f[T];x=this.unaggregateParents(u,M)||x;var I=this.getTopNAggregated(u,M);if(I!==N){_.push(M),w.push(I);var G="".concat(u.id,"@").concat(Jh(M));N>=0?this.aggregations.set(G,N):this.aggregations.delete(G)}}(x||_.length!==0)&&(Array.isArray(l)?this.fire([s.EVENT_GROUP_AGGREGATION_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l,w,f):this.fire([s.EVENT_GROUP_AGGREGATION_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l,w.length===0?f:w[0],f))},s.prototype.aggregateAllOf=function(u,l,f){f===void 0&&(f=u.getGroups());var d,_,w=(d=l,_=this.showTopN,typeof d=="boolean"?d?0:-1:d===rr.COLLAPSE?0:d===rr.EXPAND?-1:d===rr.EXPAND_TOP_N?_:d);this.setTopNAggregated(u,f,w)},s.prototype.getShowTopN=function(){return this.showTopN},s.prototype.setShowTopN=function(u){if(this.showTopN!==u){for(var l=0,f=Array.from(this.aggregations.entries());l<f.length;l++){var d=f[l],_=d[0];d[1]===this.showTopN&&this.aggregations.set(_,u)}this.fire([s.EVENT_SHOWTOPN_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.showTopN,this.showTopN=u)}},s.prototype.isSelected=function(u){return this.selection.has(u)},s.prototype.select=function(u){this.selection.has(u)||(this.options.singleSelection===!0&&this.selection.size>0&&this.selection.clear(),this.selection.add(u),this.fire(s.EVENT_SELECTION_CHANGED,this.getSelection()))},s.prototype.jumpToNearest=function(u){u.length!==0&&this.fire(s.EVENT_JUMP_TO_NEAREST,u)},s.prototype.selectAll=function(u){var l=this;tg(u,(function(f){return l.selection.has(f)}))||(this.options.singleSelection===!0?(this.selection.clear(),u.length>0&&this.selection.add(u[0])):Wc(u,(function(f){l.selection.add(f)})),this.fire(s.EVENT_SELECTION_CHANGED,this.getSelection()))},s.prototype.selectAllOf=function(u){this.setSelection(Array.from(u.getOrder()))},s.prototype.setSelection=function(u){var l=this;if(u.length===0)return this.clearSelection();this.selection.size===u.length&&u.every((function(f){return l.selection.has(f)}))||(this.selection.clear(),this.selectAll(u))},s.prototype.toggleSelection=function(u,l){return l===void 0&&(l=!1),this.isSelected(u)?(l?this.deselect(u):this.clearSelection(),!1):(l?this.select(u):this.setSelection([u]),!0)},s.prototype.deselect=function(u){this.selection.has(u)&&(this.selection.delete(u),this.fire(s.EVENT_SELECTION_CHANGED,this.getSelection()))},s.prototype.deselectAll=function(u){var l=this;tg(u,(function(f){return!l.selection.has(f)}))||(Wc(u,(function(f){l.selection.delete(f)})),this.fire(s.EVENT_SELECTION_CHANGED,this.getSelection()))},s.prototype.selectedRows=function(){return this.selection.size===0?[]:this.view(this.getSelection())},s.prototype.getSelection=function(){return Array.from(this.selection)},s.prototype.clearSelection=function(){this.selection.size!==0&&(this.selection.clear(),this.fire(s.EVENT_SELECTION_CHANGED,[],!1))},s.prototype.exportTable=function(u,l){l===void 0&&(l={});var f=this.view(u.getOrder());return y1(f)?f.then((function(d){return v1(u,d,l)})):v1(u,f,l)},s.prototype.exportSelection=function(u){var l=this;u===void 0&&(u={});var f=this.getSelection(),d=u.ranking||this.getFirstRanking();if(!d)return"";var _=f.map((function(w){return l.getRow(w)}));return _.some((function(w){return y1(w)}))?Promise.all(_).then((function(w){return g1(d,w,u)})):g1(d,_,u)},s.EVENT_SELECTION_CHANGED="selectionChanged",s.EVENT_DATA_CHANGED="dataChanged",s.EVENT_ADD_COLUMN=he.EVENT_ADD_COLUMN,s.EVENT_MOVE_COLUMN=he.EVENT_MOVE_COLUMN,s.EVENT_REMOVE_COLUMN=he.EVENT_REMOVE_COLUMN,s.EVENT_ADD_RANKING="addRanking",s.EVENT_REMOVE_RANKING="removeRanking",s.EVENT_DIRTY=he.EVENT_DIRTY,s.EVENT_DIRTY_HEADER=he.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES=he.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES=he.EVENT_DIRTY_CACHES,s.EVENT_ORDER_CHANGED=he.EVENT_ORDER_CHANGED,s.EVENT_SHOWTOPN_CHANGED="showTopNChanged",s.EVENT_ADD_DESC="addDesc",s.EVENT_CLEAR_DESC="clearDesc",s.EVENT_REMOVE_DESC="removeDesc",s.EVENT_JUMP_TO_NEAREST="jumpToNearest",s.EVENT_GROUP_AGGREGATION_CHANGED=ep.EVENT_AGGREGATE,s.EVENT_BUSY="busy",s.FORWARD_RANKING_EVENTS=Fe(".provider",he.EVENT_ADD_COLUMN,he.EVENT_REMOVE_COLUMN,he.EVENT_DIRTY,he.EVENT_DIRTY_HEADER,he.EVENT_MOVE_COLUMN,he.EVENT_ORDER_CHANGED,he.EVENT_DIRTY_VALUES,he.EVENT_DIRTY_CACHES),s})(ga);const Ae=WY;var jY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function yN(p){return p.accessor=p.accessor||(p.column?fN(p.column)?hN:pN:BY),p.label=p.label||p.column,p}var YY=(function(p){function s(u,l){u===void 0&&(u=[]),l===void 0&&(l={});var f=p.call(this,l)||this;return f.columns=u,f.rankingIndex=0,u.forEach(yN),f}return jY(s,p),s.prototype.cloneRanking=function(u){var l=this,f=this.nextRankingId(),d=new he(f);return u&&u.children.forEach((function(_){l.push(d,_.desc)})),d},s.prototype.pushDesc=function(u){yN(u),this.columns.push(u),this.fire(Ae.EVENT_ADD_DESC,u)},s.prototype.clearColumns=function(){this.clearRankings(),this.columns.splice(0,this.columns.length),this.fire(Ae.EVENT_CLEAR_DESC)},s.prototype.removeDesc=function(u,l){l===void 0&&(l=!1);var f=this.columns.indexOf(u);if(f<0)return!1;var d=!l&&this.getRankings().some((function(_){return _.flatColumns.some((function(w){return w.desc===u}))}));return!d&&(this.columns.splice(f,1),this.fire(Ae.EVENT_REMOVE_DESC,u),!0)},s.prototype.getColumns=function(){return this.columns.slice()},s.prototype.findDesc=function(u){return this.columns.filter((function(l){return l.column===u}))[0]},s.prototype.toDescRef=function(u){return u.column!==void 0?"".concat(u.type,"@").concat(u.column):this.cleanDesc(Object.assign({},u))},s.prototype.fromDescRef=function(u){return typeof u=="string"?this.columns.find((function(l){return"".concat(l.type,"@").concat(l.column)===u||l.type===u})):this.columns.find((function(l){return u.column===l.column&&u.label===l.label&&u.type===l.type}))||u},s.prototype.restore=function(u){p.prototype.restore.call(this,u),this.rankingIndex=1+Math.max.apply(Math,this.getRankings().map((function(l){return+l.id.substring(4)})))},s.prototype.nextRankingId=function(){return"rank".concat(this.rankingIndex++)},s})(Ae);const mN=YY;var _N=255,$Y=65535,qY=4294967295,bN=127,SN=32767,wN=2147483647,XY=Number.NEGATIVE_INFINITY,ZY=Number.POSITIVE_INFINITY,KY="";function x1(p,s){switch(s){case tt.COUNT:return gt(p+1);case tt.BINARY:case tt.UINT8:return new Uint8Array(p);case tt.UINT16:return new Uint16Array(p);case tt.UINT32:return new Uint32Array(p);case tt.INT8:return new Int8Array(p);case tt.INT16:return new Int16Array(p);case tt.INT32:return new Int32Array(p);case tt.STRING:return[];case tt.FLOAT_ASC:case tt.FLOAT:case tt.DOUBLE_ASC:case tt.DOUBLE:return new Float64Array(p)}}function E1(p,s,u){switch(p){case tt.BINARY:return function(l,f){return s[l]=f==null||Number.isNaN(f)?_N:f+1};case tt.COUNT:return function(l,f){return s[l]=f==null||Number.isNaN(f)?u:f+1};case tt.UINT8:return function(l,f){return s[l]=f==null||Number.isNaN(f)?bN:f+1};case tt.UINT16:return function(l,f){return s[l]=f==null||Number.isNaN(f)?SN:f+1};case tt.UINT32:return function(l,f){return s[l]=f==null||Number.isNaN(f)?wN:f+1};case tt.INT8:return function(l,f){return s[l]=f==null||Number.isNaN(f)?bN:f};case tt.INT16:return function(l,f){return s[l]=f==null||Number.isNaN(f)?SN:f};case tt.INT32:return function(l,f){return s[l]=f==null||Number.isNaN(f)?wN:f};case tt.STRING:return function(l,f){return s[l]=f==null||f===""?KY:f};case tt.FLOAT:case tt.DOUBLE:return function(l,f){return s[l]=f==null||Number.isNaN(f)?XY:f};case tt.FLOAT_ASC:case tt.DOUBLE_ASC:return function(l,f){return s[l]=f==null||Number.isNaN(f)?ZY:f}}}var xN=(function(){function p(s,u,l,f){this.criteria=[],this.data=[];for(var d,_=(d=s+1)<=255?_N:d<=65535?$Y:qY,w=0,x=u?l.getSortCriteria():l.getGroupSortCriteria();w<x.length;w++){var T=x[w],M=u?T.col.toCompareValueType():T.col.toCompareGroupValueType(),N=f?f(T.col):void 0;if(this.criteria.push({col:T.col,valueCache:N}),Array.isArray(M))for(var I=0,G=M;I<G.length;I++){var B=G[I];U=x1(s,B),this.data.push({asc:T.asc,v:B,lookup:U,setter:E1(B,U,_)})}else{var U=x1(s,M);this.data.push({asc:T.asc,v:M,lookup:U,setter:E1(M,U,_)})}}u||(U=x1(s,M=tt.STRING),this.data.push({asc:!0,v:M,lookup:U,setter:E1(M,U,_)}))}return Object.defineProperty(p.prototype,"sortOrders",{get:function(){return this.data.map((function(s){return{asc:s.asc,lookup:s.lookup}}))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"transferAbles",{get:function(){return this.data.map((function(s){return s.lookup})).filter((function(s){return!Array.isArray(s)})).map((function(s){return s.buffer}))},enumerable:!1,configurable:!0}),p.prototype.push=function(s){for(var u=0,l=0,f=this.criteria;l<f.length;l++){var d=f[l],_=d.col.toCompareValue(s,d.valueCache?d.valueCache(s.i):void 0);if(Array.isArray(_))for(var w=0,x=_;w<x.length;w++){var T=x[w];this.data[u++].setter(s.i,T)}else this.data[u++].setter(s.i,_)}},p.prototype.pushValues=function(s,u){for(var l=0;l<u.length;++l)this.data[l].setter(s,u[l])},p.prototype.free=function(){this.data.splice(0,this.data.length)},p})(),EN={value:null,done:!1};function TN(p){return{next:function(){return{done:!0,value:p()}}}}function CN(p,s,u){return function(l,f){return{then:CN(p.then(l,f),s,u),abort:s,isAborted:u}}}var JY=(function(){function p(){var s=this;this.tasks=[],this.taskId=-1,this.runTasks=function(u){for(var l=function(){for(var f=s.tasks.shift(),d=f.it.next();!d.done&&(u.didTimeout||u.timeRemaining()>0);)d=f.it.next();d.done?requestAnimationFrame((function(){return f.resolve(d.value)})):s.tasks.unshift(f)};s.tasks.length>0&&(u.didTimeout||u.timeRemaining()>0);)l();s.taskId=-1,s.reSchedule()}}return p.prototype.reSchedule=function(){if(!(this.tasks.length===0||this.taskId>-1)){var s=self;s.requestIdleCallback?this.taskId=s.requestIdleCallback(this.runTasks):this.taskId=setTimeout(this.runTasks,1)}},p.prototype.pushMulti=function(s,u,l){var f=this;l===void 0&&(l=!0);var d,_=function(){var I=f.tasks.findIndex((function(B){return B.id===s}));if(!(I<0)){var G=f.tasks[I];f.tasks.splice(I,1),G.isAborted=!0,G.resolve(Jn)}},w=this.tasks.findIndex((function(I){return I.id===s}));w>=0&&this.tasks[w].abort();var x=new Promise((function(I){d=I})),T={id:s,it:u,result:x,abort:_,isAborted:!1,resolve:d};this.tasks.push(T),this.reSchedule();var M=l?_:function(){},N=l?function(){return T.isAborted}:function(){return!1};return{then:CN(x,M,N),abort:M,isAborted:N}},p.prototype.push=function(s,u){return this.pushMulti(s,TN(u))},p.prototype.abort=function(s){var u=this.tasks.findIndex((function(l){return l.id===s}));return!(u<0||(this.tasks[u].abort(),0))},p.prototype.abortAll=function(s){var u=this.tasks.filter(s);if(u.length!==0){this.tasks=this.tasks.filter((function(_){return!s(_)}));for(var l=0,f=u;l<f.length;l++){var d=f[l];d.resolve(Jn),d.abort()}}},p.prototype.clear=function(){if(this.taskId!==-1){var s=self;s.requestIdleCallback&&s.clearIdleCallback?s.clearIdleCallback(this.taskId):clearTimeout(this.taskId),this.taskId=-1,this.tasks.splice(0,this.tasks.length).forEach((function(u){u.resolve(Jn),u.abort()}))}},p})();const QY=JY;var mp=(function(){function p(s){this.v=s}return p.prototype.then=function(s){return s(this.v)},p})();function Rr(p){return new mp(p)}var AN=(function(){function p(s){this.v=s}return p.prototype.then=function(s){return this.v.then(s)},p})();function _p(p){return new AN(p)}function of(p){return p.every((function(s){return s instanceof mp}))?Rr(p.map((function(s){return s.v}))):_p(gp(p.map((function(s){return s.v}))))}var T1=(function(){function p(s,u){this.indices=s,this.maxDataIndex=u,this._joined=null}return Object.defineProperty(p.prototype,"joined",{get:function(){return this.indices.length===1?this.indices[0]:this.indices.length===0?new Uint8Array(0):this._joined?this._joined:this._joined=wt(this.indices,this.maxDataIndex)},enumerable:!1,configurable:!0}),p})(),DN=(function(){function p(s){s===void 0&&(s={});var u=this;this.valueCacheData=new Map,this.byIndex=function(l){return u.data[l]},this.data=[],this.options=Object.assign({stringTopNCount:10},s)}return p.prototype.byOrder=function(s){return L(s).map(this.byIndex)},p.prototype.byOrderAcc=function(s,u){var l=this;return L(s).map((function(f){return u(l.data[f])}))},p.prototype.builder=function(s,u,l,f){var d=this,_=0,w=0,x=u instanceof T1?u.indices:[u];return{next:u==null?function(T){T===void 0&&(T=100);for(var M=T,N=d.data;_<N.length&&M>0;++_,--M)s.push(l(_));return _<N.length?EN:{done:!0,value:f?f(s.build()):s.build()}}:function(T){T===void 0&&(T=100);for(var M=T;w<x.length;){for(var N=x[w];_<N.length&&M>0;++_,--M)s.push(l(N[_]));if(_<N.length)return EN;w++,_=0}return{done:!0,value:f?f(s.build()):s.build()}}}},p.prototype.builderForEach=function(s,u,l,f){return this.builder({push:s.pushAll,build:s.build},u,l,f)},p.prototype.boxplotBuilder=function(s,u,l,f){var d=lt();return this.numberStatsBuilder(d,s,u,l,f)},p.prototype.resolveDomain=function(s,u){var l=u&&Ze(s)?s.getMapping().domain:[0,1];return[l[0],l[l.length-1]]},p.prototype.statsBuilder=function(s,u,l,f,d){var _=dt(this.resolveDomain(u,f!=null&&f),l);return this.numberStatsBuilder(_,s,u,f,d)},p.prototype.numberStatsBuilder=function(s,u,l,f,d){var _=this;if(l instanceof ce||l instanceof eu||l instanceof n1){var w=f?"".concat(l.id,":r"):l.id,x=f?function(B){return l.getRawNumber(_.data[B])}:function(B){return l.getNumber(_.data[B])};if(u==null&&!this.valueCacheData.has(w)){var T=new Float64Array(this.data.length),M=0;return this.builder({push:function(B){s.push(B),T[M++]=B},build:function(){return _.setValueCacheData(w,T),s.build()}},null,x,d)}var N=this.valueCacheData.get(w),I=N?function(B){return N[B]}:x;return this.builder(s,u,I,d)}var G=f?function(B){return l.iterRawNumber(_.data[B])}:function(B){return l.iterNumber(_.data[B])};return this.builderForEach(s,u,G,d)},p.prototype.dateStatsBuilder=function(s,u,l,f){var d,_,w,x=this,T=Tt(l);if(u instanceof Wr){if(s==null){var M=(d=this.data.length,_=new Float64Array(d),w=0,{push:function(G){return _[w++]=G==null?NaN:G.getTime()},cache:_});return this.builder({push:function(G){T.push(G),M.push(G)},build:function(){return x.setValueCacheData(u.id,M.cache),T.build()}},null,(function(G){return u.getDate(x.data[G])}),f)}var N=this.valueCacheData.get(u.id),I=N?function(G){return _t(N[G])}:function(G){return u.getDate(x.data[G])};return this.builder(T,s,I,f)}return this.builderForEach(T,s,(function(G){return u.iterDate(x.data[G])}),f)},p.prototype.categoricalStatsBuilder=function(s,u,l){var f=this,d=Ft(u.categories);if(u instanceof we||u instanceof eu){if(s==null){var _=(function(T,M){for(var N=gt(T,M.length+1),I=new Map,G=0;G<M.length;++G)I.set(M[G].name,G+1);var B=0;return{push:function(U){return N[B++]=U==null?0:I.get(U.name)||0},cache:N}})(this.data.length,u.categories);return this.builder({push:function(T){d.push(T),_.push(T)},build:function(){return f.setValueCacheData(u.id,_.cache),d.build()}},null,(function(T){return u.getCategory(f.data[T])}),l)}var w=this.valueCacheData.get(u.id),x=w?function(T){return mt(w[T],u.categories)}:function(T){return u.getCategory(f.data[T])};return this.builder(d,s,x,l)}return this.builderForEach(d,s,(function(T){return u.iterCategory(f.data[T])}),l)},p.prototype.stringStatsBuilder=function(s,u,l,f){var d=this,_=zt(l??this.options.stringTopNCount);if(s==null){var w=0,x=Array(this.data.length).fill(null);return this.builder({push:function(T){_.push(T),x[w++]=T},build:function(){return d.setValueCacheData(u.id,x),_.build()}},null,(function(T){return u.getValue(d.data[T])}),f)}return this.builder(_,s,(function(T){return u.getValue(d.data[T])}),f)},p.prototype.dirtyColumn=function(s,u){u==="data"&&(this.valueCacheData.delete(s.id),this.valueCacheData.delete("".concat(s.id,":r")))},p.prototype.setValueCacheData=function(s,u){u==null?this.valueCacheData.delete(s):this.valueCacheData.set(s,u)},p.prototype.valueCache=function(s){var u=this.valueCacheData.get(s.id);if(u)return s instanceof Wr?function(l){return _t(u[l])}:s instanceof we||s instanceof eu?function(l){return mt(u[l],s.categories)}:function(l){return u[l]}},p})(),t$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function MN(p,s,u){var l=Ct(p,s);return u&&ut(l,u.sortOrders),l}var LN=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.cache=new Map,u}return t$(s,p),s.prototype.setData=function(u){this.data=u,this.cache.clear(),this.valueCacheData.clear()},s.prototype.dirtyColumn=function(u,l){p.prototype.dirtyColumn.call(this,u,l),l!=="group"&&(this.cache.delete("".concat(u.id,":summary")),this.cache.delete("".concat(u.id,":summary:raw")),this.cache.delete("".concat(u.id,":summary:b")),this.cache.delete("".concat(u.id,":summary:braw")),l!=="summary"&&(this.cache.delete("".concat(u.id,":data")),this.cache.delete("".concat(u.id,":data:raw")),this.cache.delete("".concat(u.id,":data:b")),this.cache.delete("".concat(u.id,":data:braw"))))},s.prototype.dirtyRanking=function(u,l){for(var f=0,d=u.flatColumns;f<d.length;f++){var _=d[f];this.dirtyColumn(_,l)}},s.prototype.preCompute=function(){},s.prototype.preComputeData=function(){},s.prototype.preComputeCol=function(){},s.prototype.copyData2Summary=function(){},s.prototype.copyCache=function(u,l){for(var f="".concat(l.id,":"),d=0,_=Array.from(this.cache.keys()).sort();d<_.length;d++){var w=_[d];if(w.startsWith(f)){var x="".concat(u.id,":").concat(w.slice(f.length));this.cache.set(x,this.cache.get(w))}}},s.prototype.sort=function(u,l,f,d,_,w){return Promise.resolve(MN(f,_,w))},s.prototype.groupCompare=function(u,l,f){var d=u.getGroupSortCriteria();if(d.length===0)return Rr([l.name.toLowerCase()]);for(var _=this.byOrder(f),w=[],x=0,T=d;x<T.length;x++){var M=T[x].col.toCompareGroupValue(_,l);Array.isArray(M)?w.push.apply(w,M):w.push(M)}return w.push(l.name.toLowerCase()),Rr(w)},s.prototype.groupRows=function(u,l,f,d){return Rr(d(this.byOrder(l.order)))},s.prototype.groupExampleRows=function(u,l,f,d){return Rr(d(this.byOrder(l.order.slice(0,5))))},s.prototype.groupBoxPlotStats=function(u,l,f){var d=this.summaryBoxPlotStatsD(u,f),_=d.summary,w=d.data;return Rr({group:this.boxplotBuilder(l.order,u,f).next(Number.POSITIVE_INFINITY).value,summary:_,data:w})},s.prototype.groupNumberStats=function(u,l,f){var d=this.summaryNumberStatsD(u,f),_=d.summary,w=d.data;return Rr({group:this.statsBuilder(l.order,u,_.hist.length,f).next(Number.POSITIVE_INFINITY).value,summary:_,data:w})},s.prototype.groupCategoricalStats=function(u,l){var f=this.summaryCategoricalStatsD(u),d=f.summary,_=f.data;return Rr({group:this.categoricalStatsBuilder(l.order,u).next(Number.POSITIVE_INFINITY).value,summary:d,data:_})},s.prototype.groupDateStats=function(u,l){var f=this.summaryDateStatsD(u),d=f.summary,_=f.data;return Rr({group:this.dateStatsBuilder(l.order,u,d).next(Number.POSITIVE_INFINITY).value,summary:d,data:_})},s.prototype.groupStringStats=function(u,l){var f=this.summaryStringStatsD(u),d=f.summary,_=f.data;return Rr({group:this.stringStatsBuilder(l.order,u,d.topN.map((function(w){return w.value}))).next(Number.POSITIVE_INFINITY).value,summary:d,data:_})},s.prototype.summaryBoxPlotStats=function(u,l){return Rr(this.summaryBoxPlotStatsD(u,l))},s.prototype.summaryNumberStats=function(u,l){return Rr(this.summaryNumberStatsD(u,l))},s.prototype.summaryCategoricalStats=function(u){return Rr(this.summaryCategoricalStatsD(u))},s.prototype.summaryDateStats=function(u){return Rr(this.summaryDateStatsD(u))},s.prototype.summaryStringStats=function(u){return Rr(this.summaryStringStatsD(u))},s.prototype.summaryNumberStatsD=function(u,l){var f=this,d=u.findMyRanker();return this.cached("summary",u,(function(){var _=d?d.getOrder():[],w=f.dataNumberStats(u,l);return{summary:f.statsBuilder(_,u,w.hist.length,l).next(Number.POSITIVE_INFINITY).value,data:w}}),l?":raw":"",d&&d.getOrderLength()===0)},s.prototype.summaryBoxPlotStatsD=function(u,l){var f=this,d=u.findMyRanker();return this.cached("summary",u,(function(){var _=d?d.getOrder():[],w=f.dataBoxPlotStats(u,l);return{summary:f.boxplotBuilder(_,u,l).next(Number.POSITIVE_INFINITY).value,data:w}}),l?":braw":":b",d&&d.getOrderLength()===0)},s.prototype.summaryCategoricalStatsD=function(u){var l=this,f=u.findMyRanker();return this.cached("summary",u,(function(){var d=f?f.getOrder():[],_=l.dataCategoricalStats(u);return{summary:l.categoricalStatsBuilder(d,u).next(Number.POSITIVE_INFINITY).value,data:_}}),"",f&&f.getOrderLength()===0)},s.prototype.summaryDateStatsD=function(u){var l=this,f=u.findMyRanker();return this.cached("summary",u,(function(){var d=f?f.getOrder():[],_=l.dataDateStats(u);return{summary:l.dateStatsBuilder(d,u,_).next(Number.POSITIVE_INFINITY).value,data:_}}),"",f&&f.getOrderLength()===0)},s.prototype.summaryStringStatsD=function(u){var l=this;return this.cached("summary",u,(function(){var f=u.findMyRanker().getOrder(),d=l.dataStringStats(u);return{summary:l.stringStatsBuilder(f,u,void 0).next(Number.POSITIVE_INFINITY).value,data:d}}),"",u.findMyRanker().getOrderLength()===0)},s.prototype.cached=function(u,l,f,d,_){d===void 0&&(d=""),_===void 0&&(_=!1);var w="".concat(l.id,":").concat(u).concat(d);if(this.cache.has(w))return this.cache.get(w);var x=f();return _||this.cache.set(w,x),x},s.prototype.dataBoxPlotStats=function(u,l){var f=this;return this.cached("data",u,(function(){return f.boxplotBuilder(null,u,l).next(Number.POSITIVE_INFINITY).value}),l?":braw":":b")},s.prototype.dataNumberStats=function(u,l){var f=this;return this.cached("data",u,(function(){return f.statsBuilder(null,u,V(f.data.length),l).next(Number.POSITIVE_INFINITY).value}),l?":raw":"")},s.prototype.dataCategoricalStats=function(u){var l=this;return this.cached("data",u,(function(){return l.categoricalStatsBuilder(null,u).next(Number.POSITIVE_INFINITY).value}))},s.prototype.dataDateStats=function(u){var l=this;return this.cached("data",u,(function(){return l.dateStatsBuilder(null,u).next(Number.POSITIVE_INFINITY).value}))},s.prototype.dataStringStats=function(u){var l=this;return this.cached("data",u,(function(){return l.stringStatsBuilder(null,u).next(Number.POSITIVE_INFINITY).value}))},s.prototype.terminate=function(){this.cache.clear()},s})(DN);function bp(p){return p instanceof vt&&typeof p.getMap=="function"&&typeof p.getMapLabel=="function"||!(p instanceof vt)&&p.type.endsWith("Map")}function Sp(p){return p instanceof vt&&typeof p.getLabels=="function"&&typeof p.getValues=="function"&&bp(p)||!(p instanceof vt)&&p.type.endsWith("s")&&p.type!=="actions"}function Xo(p){return p.categories!==void 0&&typeof p.iterCategory=="function"}function Og(p){return Xo(p)&&typeof p.getSet=="function"}function nu(p){return p instanceof vt&&typeof p.getCategory=="function"||!(p instanceof vt)&&p.type.match(/(categorical|ordinal|hierarchy)/)!=null}function NN(p){return Xo(p)&&Sp(p)&&!Og(p)}function e$(p){return typeof p.name=="string"&&typeof p.label=="string"&&typeof p.color=="string"&&typeof p.value=="number"}function iu(p){return p instanceof vt&&typeof p.getDate=="function"||!(p instanceof vt)&&p.type.startsWith("date")}function RN(p){return typeof p.getDates=="function"}var r$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),n$=(function(p){function s(){var u,l,f,d,_=p!==null&&p.apply(this,arguments)||this;return _.cache=new Map,_.tasks=new QY,_.workers=new P((u=[K.toString(),q.toString(),dt.toString(),lt.toString(),pt.toString(),Tt.toString(),Ft.toString(),zt.toString(),gt.toString(),Z.toString(),at.toString(),ut.toString(),_t.toString(),mt.toString(),rt.toString(),J.toString(),it.toString(),X.toString(),st.toString(),(f=xt,d=f.toString(),d.slice(d.indexOf("{")+1,d.lastIndexOf("}")))].map((function(w){return w.toString()})).join(`

`),l=new Blob([u],{type:"application/javascript"}),URL.createObjectURL(l))),_}return r$(s,p),s.prototype.setData=function(u){this.data=u,this.cache.clear(),this.tasks.clear(),this.valueCacheData.clear(),this.workers.deleteRefs()},s.prototype.dirtyColumn=function(u,l){p.prototype.dirtyColumn.call(this,u,l);for(var f=0,d=Array.from(this.cache.keys()).sort();f<d.length;f++){var _=d[f];(l==="data"&&_.startsWith("".concat(u.id,":"))||l==="summary"&&_.startsWith("".concat(u.id,":b:summary:"))||_.startsWith("".concat(u.id,":a:group")))&&(this.cache.delete(_),this.tasks.abort(_))}l==="data"&&(this.valueCacheData.delete(u.id),this.workers.deleteRef(u.id))},s.prototype.dirtyRanking=function(u,l){var f,d=u.flatColumns;switch(l){case"group":f=d.map((function(G){return function(B){return B.startsWith("".concat(G.id,":a:group"))}}));break;case"summary":f=d.map((function(G){return function(B){return B.startsWith("".concat(G.id,":b:summary"))||B.startsWith("".concat(G.id,":a:group"))}}));break;default:f=d.map((function(G){return function(B){return B.startsWith("".concat(G.id,":"))}}))}for(var _=function(G){f.some((function(B){return B(G)}))&&(w.cache.delete(G),w.tasks.abort(G))},w=this,x=0,T=Array.from(this.cache.keys()).sort();x<T.length;x++)_(T[x]);if(this.tasks.abortAll((function(G){return G.id.startsWith("r".concat(u.id,":"))})),this.workers.deleteRef(u.id,!0),l==="data")for(var M=0,N=d;M<N.length;M++){var I=N[M];p.prototype.dirtyColumn.call(this,I,l),this.workers.deleteRef(I.id)}},s.prototype.preCompute=function(u,l,f){if(l.length!==0){var d=u.flatColumns;if(l.length!==1){for(var _=l.map((function(kt){var jt=kt.rows,Nt=kt.group;return Object.assign({order:jt},Nt)})),w=new T1(l.map((function(kt){return kt.rows})),f),x=0,T=d;x<T.length;x++)if(Xo(ct=T[x])){this.summaryCategoricalStats(ct,w);for(var M=0,N=_;M<N.length;M++){var I=N[M];this.groupCategoricalStats(ct,I)}}else if(iu(ct)){this.summaryDateStats(ct,w);for(var G=0,B=_;G<B.length;G++)I=B[G],this.groupDateStats(ct,I)}else if(Qe(ct)){this.summaryNumberStats(ct,!1,w),this.summaryNumberStats(ct,!0,w);for(var U=0,$=_;U<$.length;U++)I=$[U],this.groupNumberStats(ct,I,!1),this.groupNumberStats(ct,I,!0)}else if(ct instanceof Nr){this.summaryStringStats(ct,w);for(var Q=0,nt=_;Q<nt.length;Q++)I=nt[Q],this.groupStringStats(ct,I)}}else for(var ot=l[0],ft=ot.group,Et=ot.rows,At=new T1([Et],f),Ot=0,Wt=d;Ot<Wt.length;Ot++){var ct;if(Xo(ct=Wt[Ot]))this.summaryCategoricalStats(ct,At);else if(Qe(ct))this.summaryNumberStats(ct,!1,At),this.summaryNumberStats(ct,!0,At);else if(iu(ct))this.summaryDateStats(ct,At);else{if(!(ct instanceof Nr))continue;this.summaryStringStats(ct,At)}this.chainCopy("".concat(ct.id,":a:group:").concat(ft.name),this.cache.get("".concat(ct.id,":b:summary")),(function(kt){return{group:kt.summary,summary:kt.summary,data:kt.data}})),Qe(ct)&&this.chainCopy("".concat(ct.id,":a:group:").concat(ft.name,":raw"),this.cache.get("".concat(ct.id,":b:summary:raw")),(function(kt){return{group:kt.summary,summary:kt.summary,data:kt.data}}))}}},s.prototype.preComputeData=function(u){for(var l=0,f=u.flatColumns;l<f.length;l++){var d=f[l];Xo(d)?this.dataCategoricalStats(d):Qe(d)?(this.dataNumberStats(d,!1),this.dataNumberStats(d,!0)):iu(d)?this.dataDateStats(d):d instanceof Nr&&this.dataStringStats(d)}},s.prototype.preComputeCol=function(u){var l=u.findMyRanker();if(u instanceof Nr){if(this.dataStringStats(u),!l)return;this.summaryStringStats(u);for(var f=0,d=l.getGroups();f<d.length;f++){var _=d[f];this.groupStringStats(u,_)}}else if(Xo(u)){if(this.dataCategoricalStats(u),!l)return;this.summaryCategoricalStats(u);for(var w=0,x=l.getGroups();w<x.length;w++)_=x[w],this.groupCategoricalStats(u,_)}else if(Qe(u)){if(this.dataNumberStats(u,!1),this.dataNumberStats(u,!0),!l)return;this.summaryNumberStats(u,!1),this.summaryNumberStats(u,!0);for(var T=0,M=l.getGroups();T<M.length;T++)_=M[T],this.groupNumberStats(u,_,!1),this.groupNumberStats(u,_,!0)}else if(iu(u)&&(this.dataDateStats(u),l)){this.summaryDateStats(u);for(var N=0,I=l.getGroups();N<I.length;N++)_=I[N],this.groupDateStats(u,_)}},s.prototype.copyData2Summary=function(u){for(var l=0,f=u.flatColumns;l<f.length;l++){var d=f[l];if(Xo(d))this.dataCategoricalStats(d);else if(Qe(d))this.dataNumberStats(d,!1),this.dataNumberStats(d,!0);else if(iu(d))this.dataDateStats(d);else{if(!(d instanceof Nr))continue;this.dataStringStats(d)}this.chainCopy("".concat(d.id,":b:summary"),this.cache.get("".concat(d.id,":c:data")),(function(_){return{summary:_,data:_}})),Qe(d)&&this.chainCopy("".concat(d.id,":b:summary:raw"),this.cache.get("".concat(d.id,":c:data:raw")),(function(_){return{summary:_,data:_}}))}},s.prototype.copyCache=function(u,l){for(var f="".concat(l.id,":"),d=0,_=Array.from(this.cache.keys()).sort();d<_.length;d++){var w=_[d];if(w.startsWith(f)){var x="".concat(u.id,":").concat(w.slice(f.length));this.chainCopy(x,this.cache.get(w),(function(T){return T}))}}},s.prototype.groupCompare=function(u,l,f){var d=this;return _p(this.tasks.push("r".concat(u.id,":").concat(l.name),(function(){var _=u.getGroupSortCriteria();if(_.length===0)return[l.name.toLowerCase()];for(var w=d.byOrder(f),x=[],T=function(I){var G=d.valueCache(I.col),B=I.col.toCompareGroupValue(w,l,G?L(f).map((function(U){return G(U)})):void 0);Array.isArray(B)?x.push.apply(x,B):x.push(B)},M=0,N=_;M<N.length;M++)T(N[M]);return x.push(l.name.toLowerCase()),x})))},s.prototype.groupRows=function(u,l,f,d){var _=this;return this.cached("".concat(u.id,":a:group:").concat(l.name,":").concat(f),!0,TN((function(){return d(_.byOrder(l.order))})))},s.prototype.groupExampleRows=function(u,l,f,d){return Rr(d(this.byOrder(l.order.slice(0,5))))},s.prototype.groupBoxPlotStats=function(u,l,f){var d=this;return this.chain("".concat(u.id,":a:group:").concat(l.name).concat(f?":braw":":b"),this.summaryBoxPlotStats(u,f),(function(_){var w=_.summary,x=_.data,T=u.findMyRanker(),M=f?"".concat(u.id,":r"):u.id;return d.valueCacheData.has(M)&&l.order.length>0?function(){return d.workers.pushStats("boxplotStats",{},M,d.valueCacheData.get(M),"".concat(T.id,":").concat(l.name),l.order).then((function(N){return{group:N,summary:w,data:x}}))}:d.boxplotBuilder(l.order,u,f,(function(N){return{group:N,summary:w,data:x}}))}))},s.prototype.groupNumberStats=function(u,l,f){var d=this;return this.chain("".concat(u.id,":a:group:").concat(l.name).concat(f?":raw":""),this.summaryNumberStats(u,f),(function(_){var w=_.summary,x=_.data,T=u.findMyRanker(),M=f?"".concat(u.id,":r"):u.id;return d.valueCacheData.has(M)&&l.order.length>0?function(){return d.workers.pushStats("numberStats",{numberOfBins:w.hist.length,domain:d.resolveDomain(u,f)},M,d.valueCacheData.get(M),"".concat(T.id,":").concat(l.name),l.order).then((function(N){return{group:N,summary:w,data:x}}))}:d.statsBuilder(l.order,u,w.hist.length,f,(function(N){return{group:N,summary:w,data:x}}))}))},s.prototype.groupCategoricalStats=function(u,l){var f=this;return this.chain("".concat(u.id,":a:group:").concat(l.name),this.summaryCategoricalStats(u),(function(d){var _=d.summary,w=d.data,x=u.findMyRanker();return f.valueCacheData.has(u.id)&&l.order.length>0?function(){return f.workers.pushStats("categoricalStats",{categories:u.categories.map((function(T){return T.name}))},u.id,f.valueCacheData.get(u.id),"".concat(x.id,":").concat(l.name),l.order).then((function(T){return{group:T,summary:_,data:w}}))}:f.categoricalStatsBuilder(l.order,u,(function(T){return{group:T,summary:_,data:w}}))}))},s.prototype.groupDateStats=function(u,l){var f=this,d="".concat(u.id,":a:group:").concat(l.name);return this.chain(d,this.summaryDateStats(u),(function(_){var w=_.summary,x=_.data,T=u.findMyRanker();return f.valueCacheData.has(u.id)&&l.order.length>0?function(){return f.workers.pushStats("dateStats",{template:w},u.id,f.valueCacheData.get(u.id),"".concat(T.id,":").concat(l.name),l.order).then((function(M){return{group:M,summary:w,data:x}}))}:f.dateStatsBuilder(l.order,u,w,(function(M){return{group:M,summary:w,data:x}}))}))},s.prototype.groupStringStats=function(u,l){var f=this,d="".concat(u.id,":a:group:").concat(l.name);return this.chain(d,this.summaryStringStats(u),(function(_){var w=_.summary,x=_.data,T=u.findMyRanker(),M=w.topN.map((function(N){return N.value}));return f.valueCacheData.has(u.id)&&l.order.length>0?function(){return f.workers.pushStats("stringStats",{topN:f.options.stringTopNCount},u.id,f.valueCacheData.get(u.id),"".concat(T.id,":").concat(l.name),l.order).then((function(N){return{group:N,summary:w,data:x}}))}:f.stringStatsBuilder(l.order,u,M,(function(N){return{group:N,summary:w,data:x}}))}))},s.prototype.summaryBoxPlotStats=function(u,l,f){var d=this;return this.chain("".concat(u.id,":b:summary").concat(l?":braw":":b"),this.dataBoxPlotStats(u,l),(function(_){var w=u.findMyRanker(),x=l?"".concat(u.id,":r"):u.id;return d.valueCacheData.has(x)?function(){return d.workers.pushStats("boxplotStats",{},x,d.valueCacheData.get(x),w.id,f?f.joined:w.getOrder()).then((function(T){return{summary:T,data:_}}))}:d.boxplotBuilder(f||w.getOrder(),u,l,(function(T){return{summary:T,data:_}}))}))},s.prototype.summaryNumberStats=function(u,l,f){var d=this;return this.chain("".concat(u.id,":b:summary").concat(l?":raw":""),this.dataNumberStats(u,l),(function(_){var w=u.findMyRanker(),x=l?"".concat(u.id,":r"):u.id;return d.valueCacheData.has(x)?function(){return d.workers.pushStats("numberStats",{numberOfBins:_.hist.length,domain:d.resolveDomain(u,l)},x,d.valueCacheData.get(x),w.id,f?f.joined:w.getOrder()).then((function(T){return{summary:T,data:_}}))}:d.statsBuilder(f||w.getOrder(),u,_.hist.length,l,(function(T){return{summary:T,data:_}}))}))},s.prototype.summaryCategoricalStats=function(u,l){var f=this;return this.chain("".concat(u.id,":b:summary"),this.dataCategoricalStats(u),(function(d){var _=u.findMyRanker();return f.valueCacheData.has(u.id)?function(){return f.workers.pushStats("categoricalStats",{categories:u.categories.map((function(w){return w.name}))},u.id,f.valueCacheData.get(u.id),_.id,l?l.joined:_.getOrder()).then((function(w){return{summary:w,data:d}}))}:f.categoricalStatsBuilder(l||_.getOrder(),u,(function(w){return{summary:w,data:d}}))}))},s.prototype.summaryDateStats=function(u,l){var f=this;return this.chain("".concat(u.id,":b:summary"),this.dataDateStats(u),(function(d){var _=u.findMyRanker();return f.valueCacheData.has(u.id)?function(){return f.workers.pushStats("dateStats",{template:d},u.id,f.valueCacheData.get(u.id),_.id,l?l.joined:_.getOrder()).then((function(w){return{summary:w,data:d}}))}:f.dateStatsBuilder(l||_.getOrder(),u,d,(function(w){return{summary:w,data:d}}))}))},s.prototype.summaryStringStats=function(u,l){var f=this;return this.chain("".concat(u.id,":b:summary"),this.dataStringStats(u),(function(d){var _=u.findMyRanker();return f.valueCacheData.has(u.id)?function(){return f.workers.pushStats("stringStats",{topN:f.options.stringTopNCount},u.id,f.valueCacheData.get(u.id),_.id,l?l.joined:_.getOrder()).then((function(w){return{summary:w,data:d}}))}:f.stringStatsBuilder(l||_.getOrder(),u,void 0,(function(w){return{summary:w,data:d}}))}))},s.prototype.cached=function(u,l,f){var d=this,_=this.data.length===0;if(this.isValidCacheEntry(u)&&!_)return this.cache.get(u);var w=typeof f=="function"?uN(f()):this.tasks.pushMulti(u,f,l),x=_p(w);return _||this.cache.set(u,x),w.then((function(T){d.cache.get(u)===x&&(typeof T=="symbol"?d.cache.delete(u):d.cache.set(u,Rr(T)))})),x},s.prototype.chain=function(u,l,f){var d=this;if(this.isValidCacheEntry(u))return this.cache.get(u);if(l instanceof mp)return typeof l.v=="symbol"?Rr(Jn):this.cached(u,!0,f(l.v));var _=l.v.then((function(x){if(typeof x=="symbol")return Jn;var T=f(x);return typeof T=="function"?T():d.tasks.pushMulti(u,T)})),w=_p(_);return this.cache.set(u,w),_.then((function(x){d.cache.get(u)===w&&(typeof x=="symbol"?d.cache.delete(u):d.cache.set(u,Rr(x)))})),w},s.prototype.isValidCacheEntry=function(u){if(!this.cache.has(u))return!1;var l=this.cache.get(u);return!(l instanceof mp&&typeof l.v=="symbol"||l instanceof AN&&l.v.isAborted())},s.prototype.chainCopy=function(u,l,f){var d=this;if(this.isValidCacheEntry(u))return this.cache.get(u);if(l instanceof mp){if(typeof l.v=="symbol")return Rr(Jn);var _=Rr(f(l.v));return this.cache.set(u,_),_}var w=l.v.then((function(T){return typeof T=="symbol"?Jn:f(T)})),x=_p(w);return this.cache.set(u,x),w.then((function(T){d.cache.get(u)===x&&(typeof T=="symbol"?d.cache.delete(u):d.cache.set(u,Rr(T)))})),x},s.prototype.dataBoxPlotStats=function(u,l){var f=this,d="".concat(u.id,":c:data").concat(l?":braw":":b"),_=l?"".concat(u.id,":r"):u.id;return this.valueCacheData.has(_)&&this.data.length>0?this.cached(d,!1,(function(){return f.workers.pushStats("boxplotStats",{},_,f.valueCacheData.get(_))})):this.cached(d,!1,this.boxplotBuilder(null,u,l))},s.prototype.dataNumberStats=function(u,l){return this.cached("".concat(u.id,":c:data").concat(l?":raw":""),!1,this.statsBuilder(null,u,V(this.data.length),l))},s.prototype.dataCategoricalStats=function(u){return this.cached("".concat(u.id,":c:data"),!1,this.categoricalStatsBuilder(null,u))},s.prototype.dataStringStats=function(u){return this.cached("".concat(u.id,":c:data"),!1,this.stringStatsBuilder(null,u))},s.prototype.dataDateStats=function(u){return this.cached("".concat(u.id,":c:data"),!1,this.dateStatsBuilder(null,u))},s.prototype.sort=function(u,l,f,d,_,w){if(!w||f.length<1e3){var x=MN(f,_,w);return Promise.resolve(x)}var T=Ct(f,_),M=[T.buffer];return d&&M.push.apply(M,w.transferAbles),this.workers.push("sort",{ref:"".concat(u.id,":").concat(l.name),indices:T,sortOrders:w.sortOrders},M,(function(N){return N.order}))},s.prototype.terminate=function(){this.workers.terminate(),this.cache.clear(),this.valueCacheData.clear()},s})(DN),i$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),a$=(function(p){function s(u,l,f){l===void 0&&(l=[]),f===void 0&&(f={});var d=p.call(this,l,f)||this;d._data=u,d.ooptions={filterGlobally:!1,jumpToSearchResult:!1,taskExecutor:"direct",stringTopNCount:10},d.filter=null,d.mapToDataRow=function(I){return I<0||I>=d._dataRows.length?{i:I,v:{}}:d._dataRows[I]},Object.assign(d.ooptions,f),d._dataRows=IN(u),d.tasks=d.ooptions.taskExecutor==="direct"?new LN(d.ooptions):new n$(d.ooptions),d.tasks.setData(d._dataRows);for(var _=0,w=d.getRankings();_<w.length;_++)for(var x=0,T=w[_].flatColumns;x<T.length;x++){var M=T[x];M instanceof Tr&&M.onDataUpdate(d._dataRows)}var N=d;return d.reorderAll=function(){for(var I=this.source,G=this.type,B=0,U=N.getRankings();B<U.length;B++){var $=U[B];$!==I&&$.dirtyOrder(G===he.EVENT_FILTER_CHANGED?[Dr.FILTER_CHANGED]:[Dr.UNKNOWN])}},d}return i$(s,p),s.prototype.setFilter=function(u){this.filter=u,this.reorderAll.call({type:he.EVENT_FILTER_CHANGED})},s.prototype.getFilter=function(){return this.filter},s.prototype.getTotalNumberOfRows=function(){return this.data.length},s.prototype.getTaskExecutor=function(){return this.tasks},Object.defineProperty(s.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),s.prototype.destroy=function(){p.prototype.destroy.call(this),this.tasks.terminate()},s.prototype.setData=function(u){this._data=u,this._dataRows=IN(u),this.dataChanged()},s.prototype.dataChanged=function(){this.tasks.setData(this._dataRows);for(var u=0,l=this.getRankings();u<l.length;u++){for(var f=l[u],d=0,_=f.flatColumns;d<_.length;d++){var w=_[d];w instanceof Tr&&w.isLoaded()&&w.onDataUpdate(this._dataRows)}this.tasks.preComputeData(f)}this.fire(Ae.EVENT_DATA_CHANGED,this._dataRows),this.reorderAll.call({type:"data"})},s.prototype.clearData=function(){this.setData([])},s.prototype.appendData=function(u){for(var l=0,f=u;l<f.length;l++){var d=f[l];this._data.push(d),this._dataRows.push({v:d,i:this._dataRows.length})}this.dataChanged()},s.prototype.cloneRanking=function(u){var l=p.prototype.cloneRanking.call(this,u);return this.ooptions.filterGlobally&&l.on("".concat(he.EVENT_FILTER_CHANGED,".reorderAll"),this.reorderAll),this.trackRanking(l,u),l},s.prototype.trackRanking=function(u,l){var f=this,d=this;u.on("".concat(vt.EVENT_DIRTY_CACHES,".cache"),(function(){for(var nt=this.origin;nt instanceof vt;)d.tasks.dirtyColumn(nt,"data"),d.tasks.preComputeCol(nt),nt=nt.parent}));var _=u.flatColumns,w="".concat(he.EVENT_ADD_COLUMN,".cache"),x="".concat(he.EVENT_REMOVE_COLUMN,".cache"),T="".concat(Tr.EVENT_DATA_LOADED,".cache"),M=function(nt){f.tasks.dirtyColumn(nt,"data"),nt instanceof vn&&(nt.on(w,null),nt.on(x,null)),nt instanceof Tr&&nt.on(T,null)},N=function(nt){f.tasks.preComputeCol(nt),nt instanceof vn&&(nt.on(w,N),nt.on(x,M)),nt instanceof Tr&&nt.on(T,I)};function I(nt,ot){ot&&this.origin instanceof Tr&&this.origin.onDataUpdate(d._dataRows)}u.on(w,N),u.on(x,M);for(var G=0,B=_;G<B.length;G++){var U=B[G];U instanceof vn&&(U.on(w,N),U.on(x,M)),U instanceof Tr&&U.on(T,I)}if(l)for(var $=l.flatColumns,Q=0;Q<_.length;++Q)this.tasks.copyCache(_[Q],$[Q]);this.tasks.preComputeData(u)},s.prototype.patchColumn=function(u){var l=p.prototype.patchColumn.call(this,u);return l instanceof Tr&&l.isLoaded()&&l.onDataUpdate(this._dataRows),l},s.prototype.cleanUpRanking=function(u){this.ooptions.filterGlobally&&u.on("".concat(he.EVENT_FILTER_CHANGED,".reorderAll"),null);var l=u.flatColumns,f="".concat(he.EVENT_ADD_COLUMN,".cache"),d="".concat(he.EVENT_REMOVE_COLUMN,".cache");u.on(f,null),u.on(d,null);for(var _=0,w=l;_<w.length;_++){var x=w[_];x instanceof vn&&(x.on(f,null),x.on(d,null))}this.tasks.dirtyRanking(u,"data"),p.prototype.cleanUpRanking.call(this,u)},s.prototype.resolveFilter=function(u){var l=[];if(this.ooptions.filterGlobally)for(var f=0,d=this.getRankings();f<d.length;f++){var _=d[f];_.isFiltered()&&l.push.apply(l,_.flatColumns.filter((function(w){return w.isFiltered()})))}else u.isFiltered()&&l.push.apply(l,u.flatColumns.filter((function(w){return w.isFiltered()})));return this.filter&&l.push(this.filter),l},s.prototype.noSorting=function(u){for(var l=this._data.length,f=gt(l,l-1),d=f.slice(),_=0;_<l;++_)f[_]=_,d[_]=_+1;return this.tasks.preCompute(u,[{rows:f,group:ht}],l-1),{groups:[Object.assign({order:f},ht)],index2pos:d}},s.prototype.createSorter=function(u,l,f,d,_){var w=this,x=new Map,T=[],M=-1,N=u.getGroupCriteria(),I=_?new xN(this._data.length,!0,u,this.tasks.valueCache.bind(this.tasks)):void 0,G=function(Ut,Ne){var Be=Ut.name.toLowerCase();if(x.has(Be))x.get(Be).rows.push(Ne.i);else{var Xe={group:Ut,rows:[Ne.i]};x.set(Be,Xe),T.push(Xe)}},B=N.map((function(Ut){return w.tasks.valueCache(Ut)})),U=l.map((function(Ut){return typeof Ut=="function"?void 0:w.tasks.valueCache(Ut)})),$=N.length===1?function(Ut){return CM([N[0].group(Ut,B[0]?B[0](Ut.i):void 0)])}:function(Ut){return CM(N.map((function(Ne,Be){return Ne.group(Ut,B[Be]?B[Be](Ut.i):void 0)})))};if(f){t:for(var Q=0,nt=this._dataRows;Q<nt.length;Q++){for(var ot=nt[Q],ft=0;ft<l.length;++ft){var Et=l[ft],At=U[ft];if(typeof Et=="function"&&!Et(ot)||Et instanceof vt&&!Et.filter(ot,At?At(ot.i):void 0))continue t}M<ot.i&&(M=ot.i),I&&I.push(ot),G($(ot),ot)}return T.sort((function(Ut,Ne){return Ut.group.name.toLowerCase().localeCompare(Ne.group.name.toLowerCase())})),{maxDataIndex:M,lookups:I,groupOrder:T}}for(var Ot=0,Wt=u.getGroups();Ot<Wt.length;Ot++){var ct=Wt[Ot],kt=ct.order;if(d)for(Nt=0;Nt<kt.length;++Nt)M<(ee=kt[Nt])&&(M=ee),ot=this._dataRows[ee],I&&I.push(ot),G($(ot),ot);else{var jt=AM(ct);if(T.push({group:jt,rows:kt}),!I){M=kt.reduce((function(Ut,Ne){return Math.max(Ut,Ne)}),M);continue}for(var Nt=0;Nt<kt.length;++Nt){var ee;M<(ee=kt[Nt])&&(M=ee),I.push(this._dataRows[ee])}}}return d&&T.sort((function(Ut,Ne){return Ut.group.name.toLowerCase().localeCompare(Ne.group.name.toLowerCase())})),{maxDataIndex:M,lookups:I,groupOrder:T}},s.prototype.sortGroup=function(u,l,f,d,_,w,x){var T=u.group,M=this.tasks.sort(f,T,u.rows,w,x,d),N=_?this.tasks.groupCompare(f,T,u.rows).then((function(I){return I})):[];return Promise.all([M,N]).then((function(I){var G=I[0],B=I[1];return _&&Array.isArray(B)&&_.pushValues(l,B),Object.assign(T,{order:G})}))},s.prototype.sortGroups=function(u,l,f){if(l){var d=u.map((function(_,w){return w}));return ut(d,l.sortOrders),d.map((function(_){return u[_]}))}return f?u.sort((function(_,w){return _.name.localeCompare(w.name)})):u},s.prototype.index2pos=function(u,l){for(var f=gt(l+1,u.reduce((function(M,N){return M+N.order.length}),1)),d=1,_=0,w=u;_<w.length;_++)for(var x=w[_],T=0;T<x.order.length;T++,d++)f[x.order[T]]=d;return{groups:u,index2pos:f}},s.prototype.sort=function(u,l){var f=this,d=new Set(l);if(this._data.length===0)return{groups:[],index2pos:[]};var _=this.resolveFilter(u),w=d.has(Dr.UNKNOWN)||d.has(Dr.FILTER_CHANGED),x=w||d.has(Dr.GROUP_CRITERIA_CHANGED)||d.has(Dr.GROUP_CRITERIA_DIRTY),T=x||d.has(Dr.SORT_CRITERIA_CHANGED)||d.has(Dr.SORT_CRITERIA_DIRTY),M=x||d.has(Dr.GROUP_SORT_CRITERIA_CHANGED)||d.has(Dr.GROUP_SORT_CRITERIA_DIRTY);w?this.tasks.dirtyRanking(u,"summary"):x&&this.tasks.dirtyRanking(u,"group"),_.length===0&&this.tasks.copyData2Summary(u);var N=u.getGroupCriteria().length>0,I=u.getSortCriteria().length>0,G=u.getGroupSortCriteria().length>0;if(!N&&!I&&_.length===0)return this.noSorting(u);var B=this.createSorter(u,_,w,x,T),U=B.maxDataIndex,$=B.lookups,Q=B.groupOrder;if(Q.length===0)return{groups:[],index2pos:[]};if(this.tasks.preCompute(u,Q,U),Q.length===1){var nt=Q[0];return this.sortGroup(nt,0,u,$,void 0,!0,U).then((function(ft){return f.index2pos([ft],U)}))}var ot=G&&M?new xN(Math.max.apply(Math,Q.map((function(ft){return ft.rows.length}))),!1,u):void 0;return Promise.all(Q.map((function(ft,Et){return f.sortGroup(ft,Et,u,$,ot,!1,U)}))).then((function(ft){var Et=f.sortGroups(ft,ot,M);return f.index2pos(Et,U)}))},s.prototype.viewRaw=function(u){var l=this;return DM(u,(function(f){return l._data[f]||{}}))},s.prototype.viewRawRows=function(u){return DM(u,this.mapToDataRow)},s.prototype.getRow=function(u){return this._dataRows[u]},s.prototype.seq=function(u){return L(u).map(this.mapToDataRow)},s.prototype.view=function(u){return this.viewRaw(u)},s.prototype.mappingSample=function(u){var l=this,f=this._dataRows.length;if(f<=120)return L(this._dataRows).map((function(x){return u.getRawNumber(x)}));for(var d=new Set,_=0;_<120;++_){for(var w=Math.floor(Math.random()*(f-1));d.has(w);)w=Math.floor(Math.random()*(f-1));d.add(w)}return L(Array.from(d)).map((function(x){return u.getRawNumber(l._dataRows[x])}))},s.prototype.searchAndJump=function(u,l,f,d){d===void 0&&(d=et.contains);var _=this.search(u,l,d);return f&&_.length>0?this.jumpToNearest(_.slice(0,1)):this.jumpToNearest(_),_},s.prototype.search=function(u,l,f){f===void 0&&(f=et.contains);var d=[],_=l.findMyRanker()||this.getRankings()[0];if(!_)return d;for(var w=_.getOrder(),x=0;x<w.length;++x){var T=w[x];Ht(l.getLabel(this._dataRows[T]),u,f)&&d.push(T)}return d},s})(mN);const au=a$;function IN(p){return p.map((function(s,u){return{v:s,i:u}}))}var Re;(function(p){p[p.CELL=0]="CELL",p[p.GROUP=1]="GROUP",p[p.SUMMARY=2]="SUMMARY"})(Re||(Re={}));var sf=19,lf=30,ou=18;function ks(){}var hr={template:"<div></div>",update:ks};function Ln(p,s){return s===void 0||p.textContent!==s&&(p.textContent=s),p}function qi(p,s,u){Array.from(p.querySelectorAll(s)).forEach(u)}function Vs(p,s){Array.from(p.children).forEach(s)}function Pg(p,s,u){if(p.childElementCount!==0){if(!s.every((function(d,_){var w=p.children[_];return w!=null&&w.dataset.columnId===d.column.id&&w.dataset.renderer===d.rendererId}))){var l=new Set(s.map((function(d){return"".concat(d.column.id,"@").concat(d.rendererId)})));Vs(p,(function(d){var _=d.dataset.columnId,w=d.dataset.renderer,x="".concat(_,"@").concat(w);l.has(x)||p.removeChild(d)})),s.forEach((function(d){var _=p.querySelector('[data-column-id="'.concat(d.column.id,'"]'));_||((_=u.asElement(d.template)).dataset.columnId=d.column.id,_.dataset.renderer=d.rendererId,_.classList.add(z("renderer-".concat(d.rendererId)))),p.appendChild(_)}))}}else{p.innerHTML=s.map((function(d){return d.template})).join("");var f=Array.from(p.children);s.forEach((function(d,_){var w=f[_];w.dataset.columnId=d.column.id,w.dataset.renderer=d.rendererId,w.classList.add(z("renderer-".concat(d.rendererId)))}))}}function kg(p,s){return s===void 0&&(s=p.labels.length),p.getWidth()/s>lf}function ON(p){return p.getWidth()/p.categories.length>lf}var PN={};function C1(p){return PN[p]||(PN[p]=ap(p).l>.5?"black":"white")}function kN(p,s,u,l){var f=C1(s);if(l<=.05||f==="black"||l>.9)p.style.color=f==="black"||l<=.05?null:f;else{p.style.color=null,p.innerText=u;var d=p.ownerDocument.createElement("span");d.classList.add(z("gradient-text")),d.style.color=f,d.innerText=u,p.appendChild(d)}}var Vg=(function(){var p=0;return function(s){return"".concat(s).concat((p++).toString(36))}})();function VN(p,s){var u=[],l=!1;return s.every((function(f){if(p.getValue(f)==null)return!0;var d=p.getLabel(f);return!(!u.includes(d)&&(u.push(d),u.length>=5)&&(l=!0,1))})),u.length===0?"":"".concat(u.join(", ")).concat(l?", ...":"")}function Gg(p,s){return z("stacked-".concat(p,"-").concat(s.id))}function A1(p){return Ze(p)?p.getColorMapping().apply(0):Oe}var GN={},su=1.1,Di=.9;function en(p,s,u){s===void 0&&(s=1),u===void 0&&(u=1);var l="".concat(p,"-").concat(u,"-").concat(s),f=GN[l];if(f)return f;var d=ap(p);d.s=Math.max(Math.min(d.s*u,1),0),d.l=Math.max(Math.min(d.l*s,1),0);var _=d.formatHex();return GN[l]=_,_}const FN=(function(){function p(){this.title="Default"}return p.prototype.canRender=function(s,u){return s instanceof Ab&&u!==Re.SUMMARY},p.prototype.create=function(s,u){var l=s.actions;return{template:'<div class="'.concat(z("actions")," ").concat(z("hover-only"),'">').concat(l.map((function(f){return"<span title='".concat(u.sanitize(f.name),"' class='").concat(u.sanitize(f.className||""),"'>").concat(u.sanitize(f.icon||""),"</span>")})).join(""),"</div>"),update:function(f,d){Vs(f,(function(_,w){_.onclick=function(x){x.preventDefault(),x.stopPropagation(),setTimeout((function(){return l[w].action(d)}),1)}}))}}},p.prototype.createGroup=function(s,u){var l=s.groupActions;return{template:'<div class="'.concat(z("actions")," ").concat(z("hover-only"),'">').concat(l.map((function(f){return"<span title='".concat(u.sanitize(f.name),"' class='").concat(u.sanitize(f.className||""),"'>").concat(u.sanitize(f.icon||""),"</span>")})).join(""),"</div>"),update:function(f,d){Vs(f,(function(_,w){_.onclick=function(x){x.preventDefault(),x.stopPropagation(),u.tasks.groupRows(s,d,"identity",(function(T){return T})).then((function(T){typeof T!="symbol"&&setTimeout((function(){return l[w].action(d,Array.from(T))}),1)}))}}))}}},p.prototype.createSummary=function(){return hr},p})();function D1(p){p.preventDefault(),p.stopPropagation()}function BN(p,s,u,l){u===void 0&&(u="agg-level"),l===void 0&&(l=!1);var f=p.ownerDocument,d=Array.from(p.children);l&&(s+=1);for(var _=d.length;_<s;++_){var w=f.createElement("div");w.classList.add(z(u)),d.push(w),p.appendChild(w)}for(var x=0,T=d.splice(s,d.length-s);x<T.length;x++)T[x].remove();if(l){var M=d[d.length-1];M.classList.remove(z(u)),M.classList.add(z("agg-all"))}return d}function HN(p,s,u,l,f){for(var d=f.getAggregationStrategy(),_=l.findMyRanker(),w=u>=0,x=!s.subGroups||s.subGroups.length===0,T=m1(d),M=!w&&b1(s,d,(function(Q){return f.getTopNAggregated(_,Q)})),N=M&&x&&(function(Q){return Q==="group+item+top"||Q==="group+top+item"})(d),I=_1(s,u>=0?Rg(u,s,f.getTopNAggregated(_,s)):"first last"),G=BN(p,I.length,"agg-level",N),B=I.length-1,U=function(Q){var nt=I[Q],ot=G[Q],ft=f.getAggregationState(_,nt.group),Et=Q===B;if(ot.dataset.level=String(I.length-1-Q),T&&(w||Q<B))return M||nt.meta!=="last"&&nt.meta!=="first last"?delete ot.dataset.meta:ot.dataset.meta="last",ot.classList.toggle(z("agg-inner"),w&&Et),ot.classList.remove(z("agg-expand"),z("agg-collapse")),ot.title="",delete ot.onclick,"continue";var At=ft===rr.COLLAPSE,Ot=nt.meta==="first"||nt.meta==="first last",Wt=ft===rr.EXPAND,ct=N&&Et?G[I.length]:null,kt=nt.meta;if(M&&nt.meta==="first last"&&(kt="first"),kt?ot.dataset.meta=kt:delete ot.dataset.meta,ot.classList.toggle(z("agg-expand"),Ot),ot.classList.toggle(z("agg-collapse"),At),ot.title=Ot?At?"Expand Group":"Collapse Group":"",Ot?ot.onclick=function(jt){var Nt;D1(jt),Nt=d==="group+top+item"?ft===rr.COLLAPSE?rr.EXPAND_TOP_N:rr.COLLAPSE:ft===rr.COLLAPSE?rr.EXPAND:rr.COLLAPSE,l.setAggregated(nt.group,Nt)}:delete ot.onclick,!ct)return"continue";ct.dataset.level=String(Q),ct.classList.toggle(z("agg-compress"),Wt),ct.title=Wt?"Show Top ".concat(f.getShowTopN()," Only"):"Show All",ct.onclick=function(jt){D1(jt),l.setAggregated(nt.group,ft===rr.EXPAND?rr.EXPAND_TOP_N:rr.EXPAND)}},$=0;$<I.length;++$)U($)}function zN(p){return p.parent==null&&p.name===ht.name}const UN=(function(){function p(){this.title="Default"}return p.prototype.canRender=function(s){return s instanceof ep},p.prototype.create=function(s,u){return{template:"<div></div>",update:function(l,f,d,_){zN(_)?_e(l):HN(l,_,d,s,u.provider)},render:function(l,f,d,_){if(!zN(_)){var w=_1(_,Rg(d,_,u.provider.getTopNAggregated(s.findMyRanker(),_)));l.fillStyle=rg.color;for(var x=0;x<w.length;++x)l.fillRect(rg.levelWidth*x+rg.levelOffset,0,rg.strokeWidth,un);return w.some((function(T){return T.meta!=null}))}}}},p.prototype.createGroup=function(s,u){return{template:'<div><div class="'.concat(z("agg-level"),'"></div></div>'),update:function(l,f){HN(l,f,-1,s,u.provider)}}},p.prototype.createSummary=function(s,u){return{template:"<div></div>",update:function(l){var f=s.findMyRanker(),d=f.getGroups();if(d.length!==1||d[0].name!==ht.name)for(var _=d.map((function(N){return _1(N,"first last")})),w=_.reduce((function(N,I){return Math.max(N,I.length)}),Number.NEGATIVE_INFINITY),x=BN(l,w,"agg-expand"),T=function(N){var I=x[N],G=_.map((function(U){return U[N]?U[N].group:null})).filter((function(U){return U!=null})),B=G.every((function(U){return u.provider.getAggregationState(f,U)===rr.COLLAPSE}));I.classList.toggle(z("agg-collapse"),B),I.title=B?"Expand All Groups":"Collapse All Groups",I.onclick=function(U){D1(U),u.provider.aggregateAllOf(f,B?rr.EXPAND:rr.COLLAPSE,G)}},M=0;M<w;++M)T(M);else _e(l)}}},p})();function M1(p){return'<label class="'.concat(z("checkbox"),`">
    <input type="checkbox" `).concat(p?'checked="checked"':"",`>
    <span class="`).concat(z("filter-missing"),'">').concat("Filter rows containing missing values",`</span>
  </label>`)}function L1(p,s){return'<label class="'.concat(z("checkbox"),`">
    <input type="checkbox" `).concat(p?'checked="checked"':""," ").concat("disabled",`>
    <span class="`).concat(z("filter-missing")," ").concat(z("disabled"),'">Filter ').concat(s,` missing value rows</span>
  </label>`)}function wp(p){return p.getElementsByClassName(z("filter-missing"))[0].previousElementSibling}function WN(p,s){p.getElementsByTagName("input")[0].disabled=s===0,p.lastElementChild.classList.toggle(z("disabled"),s===0),p.lastElementChild.textContent="Filter ".concat(s," missing value rows")}function N1(p,s,u,l,f){l===void 0&&(l=0),f===void 0&&(f=0);var d=Math.max(0,l+(s-tp.width)/2),_=Math.max(0,f+(u-tp.height)/2);p.fillStyle=tp.color,p.fillRect(d,_,Math.min(s,tp.width),Math.min(u,tp.height))}function ur(p,s,u){var l=Hr(s.getValue(u));return p.classList.toggle(z("missing"),l),l}function Mi(p,s,u,l,f,d){f===void 0&&(f=0),d===void 0&&(d=0);var _=Hr(s.getValue(u));return _&&N1(p,l,un,f,d),_}const Fg=(function(){function p(){this.title="Default"}return p.prototype.canRender=function(s){return s instanceof Nr},p.prototype.create=function(s,u){var l=u.sanitize(s.alignment||"left");return{template:"<div".concat(l!=="left"?' class="'.concat(z(l),'"'):"","> </div>"),update:function(f,d){ur(f,s,d),s.escape?Ln(f,s.getLabel(d)):f.innerHTML=s.getLabel(d),f.title=f.textContent}}},p.prototype.createGroup=function(s,u){return{template:"<div> </div>",update:function(l,f){return u.tasks.groupExampleRows(s,f,"string",(function(d){return VN(s,d)})).then((function(d){typeof d!="symbol"&&(l.classList.toggle(z("missing"),!d),s.escape?Ln(l,d):(l.innerHTML=d,l.title=d))}))}}},p.interactiveSummary=function(s,u){var l=u,f=wp(u),d=u.querySelector('input[type="text"]'),_=u.querySelectorAll('input[name="searchOptions"]'),w=!1,x=function(M,N){var I=M.trim();return I===""?null:N===et.regex?new RegExp(I,"mi"):I},T=function(){var M=d.value.trim(),N=u.querySelector('input[name="searchOptions"]:checked'),I=N?.value||et.contains;if(M.length<=0){var G=f.checked?{filter:null,filterMissing:f.checked,filterType:I}:null;s.setFilter(G)}else s.setFilter({filter:x(d.value,I),filterMissing:f.checked,filterType:I})};return f.onchange=T,d.onchange=T,d.oninput=ja(T,100),d.onfocus=function(){w=!0},d.onblur=function(){w=!1},_.forEach((function(M){M.onchange=T})),l.onsubmit=function(M){return M.preventDefault(),M.stopPropagation(),T(),!1},function(M){if(!w){var N=(s=M).getFilter()||{filter:null,filterMissing:!1,filterType:et.contains},I=N.filterType||et.contains,G=N.filter instanceof RegExp?et.regex:I,B=N.filter;f.checked=N.filterMissing,d.value=B instanceof RegExp?B.source:B||"";var U=u.querySelector('input[name="searchOptions"][value="'.concat(G,'"]'));U&&(U.checked=!0)}}},p.prototype.createSummary=function(s,u,l){if(!l)return{template:"<div></div>",update:function(x){var T=s.getFilter();x.textContent=R1(T)}};var f,d=s.getFilter()||{filter:null,filterMissing:!1,filterType:et.contains},_=d.filterType||et.contains,w=d.filter instanceof RegExp?et.regex:_;return{template:'<form><input type="text" placeholder="Filter '.concat(u.sanitize(s.desc.label),`..." autofocus
      list="`).concat(u.idPrefix).concat(s.id,'_dl" value="').concat(u.sanitize(R1(d)),`">
          `).concat(M1(d.filterMissing),`
          <datalist id="`).concat(u.idPrefix).concat(s.id,`_dl"></datalist>
          <details class="`).concat(z("string-advanced-options"),`">
            <summary>Advanced options</summary>
            <span class="`).concat(z("search-options-title"),`">Find rows that &hellip;</span>
            <label class="`).concat(z("checkbox"),`">
              <input type="radio" name="searchOptions" value="`).concat(et.contains,'" ').concat(w===et.contains?'checked="checked"':"",`>
              <span>Contain the search terms</span>
            </label>
            <label class="`).concat(z("checkbox"),`">
              <input type="radio" name="searchOptions" value="`).concat(et.exact,'" ').concat(w===et.exact?'checked="checked"':"",`>
              <span>Exactly match the search terms</span>
            </label>
            <label class="`).concat(z("checkbox"),`">
              <input type="radio" name="searchOptions" value="`).concat(et.startsWith,'" ').concat(w===et.startsWith?'checked="checked"':"",`>
              <span>Start with the search terms</span>
            </label>
            <label class="`).concat(z("checkbox"),`">
              <input type="radio" name="searchOptions" value="`).concat(et.regex,'" ').concat(w===et.regex?'checked="checked"':"",`>
              <span>Match as regular expression</span>
            </label>
          </details>
          </form>`),update:function(x){f||(f=p.interactiveSummary(s,x)),f(s);var T=x.querySelector("datalist");u.tasks.summaryStringStats(s).then((function(M){if(typeof M!="symbol"){var N=M.summary;jN(T,N.topN)}}))}}},p})();function R1(p){return p!=null&&p.filter?p.filter instanceof RegExp?p.filter.source:p.filter:""}function jN(p,s){for(var u=Array.from(p.options),l=0;l<s.length;l++){var f=s[l],d=u[l];d||(d=p.ownerDocument.createElement("option"),p.appendChild(d)),d.value=f.value,Ln(d,f.count>1?"".concat(f.value," (").concat(f.count.toLocaleString(),")"):f.value)}for(l=u.length-1;l>=s.length;l--)u[l].remove()}var o$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const YN=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.title="Default",u}return o$(s,p),s.prototype.canRender=function(u){return p.prototype.canRender.call(this,u)&&u instanceof Db},s.prototype.create=function(u){return{template:`<div>
        <span></span>
        <input class="`.concat(z("hover-only")," ").concat(z("annotate-input"),`">
       </div>`),update:function(l,f){var d=l.firstElementChild,_=l.lastElementChild;_.onchange=function(){d.textContent=_.value,u.setValue(f,_.value)},_.onclick=function(w){w.stopPropagation()},d.textContent=_.value=u.getLabel(f)}}},s})(Fg);function xr(p,s,u,l){return u&&u.color?u.color(s,l):s?p.getColor(s):Ze(p)?p.getColorMapping().apply(l??0):Oe}var s$=(function(){function p(s){s===void 0&&(s=!1),this.renderValue=s,this.title="Bar"}return p.prototype.canRender=function(s,u){return u===Re.CELL&&Qe(s)&&!Cn(s)},p.prototype.create=function(s,u,l){var f=u.colWidth(s),d=s.desc.showMinimumRepresentation;return{template:`<div title="">
          <div class="`.concat(z("bar-label"),`" style='background-color: `).concat(Oe,`'>
            <span `).concat(this.renderValue?"":'class="'.concat(z("hover-only"),'"'),`></span>
          </div>
        </div>`),update:function(_,w){var x=s.getNumber(w),T=ur(_,s,w),M=Number.isNaN(x)?0:Vt(100*x,2),N=s.getLabel(w);_.title=N;var I=_.firstElementChild;I.style.width=T?"100%":d?"max(1px, ".concat(M,"%)"):"".concat(M,"%");var G=en(xr(s,w,l,x),su);I.style.backgroundColor=T?null:G,Ln(I.firstElementChild,N);var B=I.firstElementChild;Ln(B,N),kN(B,G||Oe,N,M/100)},render:function(_,w){if(!Mi(_,s,w,f)){var x=s.getNumber(w);_.fillStyle=en(xr(s,w,l,x)||Oe,su);var T=f*x;_.fillRect(0,0,Number.isNaN(T)?0:Math.max(T,d?1:0),un)}}}},p.prototype.createGroup=function(){return hr},p.prototype.createSummary=function(){return hr},p})();const $N=s$;var I1=(function(){function p(){this.title="String",this.groupTitle="None",this.summaryTitle="None"}return p.prototype.canRender=function(s,u){return!0},p.prototype.create=function(s){return{template:"<div> </div>",update:function(u,l){ur(u,s,l);var f=s.getLabel(l);Ln(u,f),u.title=f}}},p.prototype.createGroup=function(s){return hr},p.prototype.createSummary=function(){return hr},p})(),l$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const qN=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.title="Default",u}return l$(s,p),s.prototype.canRender=function(u,l){return u instanceof og&&l===Re.CELL},s.prototype.create=function(u){var l=p.prototype.create.call(this,u);return l.template='<div class="'.concat(z("center"),'"> </div>'),l},s})(I1);var O1=`<div title="">
  <div class="`.concat(z("boxplot-whisker"),`">
    <div class="`).concat(z("boxplot-box"),`"></div>
    <div class="`).concat(z("boxplot-median"),`"></div>
    <div class="`).concat(z("boxplot-mean"),`"></div>
  </div>
</div>`),u$=`<div title="">
  <div class="`.concat(z("boxplot-whisker"),`">
    <div class="`).concat(z("boxplot-box"),`"></div>
    <div class="`).concat(z("boxplot-median"),`"></div>
    <div class="`).concat(z("boxplot-mean"),`"></div>
  </div>
  <span class="`).concat(z("mapping-hint"),'"></span><span class="').concat(z("mapping-hint"),`"></span>
</div>`);function XN(p,s){if(s==null)return"";var u=p.getNumberFormat(),l=s.mean!=null?"mean = ".concat(u(s.mean),` (dashed line)
`):"";return"min = ".concat(u(s.min),`
q1 = `).concat(u(s.q1),`
median = `).concat(u(s.median),`
`).concat(l,"q3 = ").concat(u(s.q3),`
max = `).concat(u(s.max))}var c$=(function(){function p(){this.title="Box Plot"}return p.prototype.canRender=function(s,u){return zo(s)&&u===Re.CELL||Qe(s)&&u!==Re.CELL},p.prototype.create=function(s,u,l){var f=s.getSortMethod(),d=s.isSortedByMe().asc!==void 0,_=u.colWidth(s);return{template:O1,update:function(w,x){var T=s.getBoxPlotData(x);if(w.classList.toggle(z("missing"),!T),T){var M=s.getRawBoxPlotData(x);P1(s,w,T,M,d?f:"",xr(s,x,l))}},render:function(w,x){if(!Mi(w,s,x,_)){var T=s.getBoxPlotData(x);if(T){var M={min:T.min*_,median:T.median*_,mean:T.mean!=null?T.mean*_:void 0,q1:T.q1*_,q3:T.q3*_,max:T.max*_,outlier:T.outlier?T.outlier.map((function(N){return N*_})):void 0,whiskerLow:T.whiskerLow!=null?T.whiskerLow*_:void 0,whiskerHigh:T.whiskerHigh!=null?T.whiskerHigh*_:void 0};(function(N,I,G,B,U){var $=I.whiskerLow!=null?I.whiskerLow:Math.max(I.q1-1.5*(I.q3-I.q1),I.min),Q=I.whiskerHigh!=null?I.whiskerHigh:Math.min(I.q3+1.5*(I.q3-I.q1),I.max);N.fillStyle=en(B||eg.box,su),N.strokeStyle=en(eg.stroke,Di),N.beginPath(),N.rect(I.q1,0,I.q3-I.q1,U),N.fill(),N.stroke();var nt=U-0,ot=U/2;N.beginPath(),N.moveTo($,ot),N.lineTo(I.q1,ot),N.moveTo($,0),N.lineTo($,nt),N.moveTo(I.median,0),N.lineTo(I.median,U),N.moveTo(I.q3,ot),N.lineTo(Q,ot),N.moveTo(Q,0),N.lineTo(Q,nt),N.stroke(),N.fill(),G!==""&&(N.strokeStyle=eg.sort,N.beginPath(),N.moveTo(I[G],0),N.lineTo(I[G],U-0),N.stroke(),N.fill()),I.outlier&&(N.fillStyle=eg.outlier,I.outlier.forEach((function(ft){N.fillRect(Math.max(ft-Vn.size/2,0),ot-Vn.size/2,Vn.size,Vn.size)})))})(w,M,d?f:"",xr(s,x,l),un)}}}}},p.prototype.createGroup=function(s,u,l){var f=s instanceof ce&&s.isGroupSortedByMe().asc!==void 0?s.getSortMethod():"";return{template:O1,update:function(d,_){return of([u.tasks.groupBoxPlotStats(s,_,!1),u.tasks.groupBoxPlotStats(s,_,!0)]).then((function(w){if(typeof w!="symbol"){var x=w==null||w[0]==null||w[0].group.count===0||w[0].group.count===w[0].group.missing;d.classList.toggle(z("missing"),x),x||P1(s,d,w[0].group,w[1].group,f,xr(s,null,l))}}))}}},p.prototype.createSummary=function(s,u,l,f){return{template:Ze(s)?u$:O1,update:function(d){return of([u.tasks.summaryBoxPlotStats(s,!1),u.tasks.summaryBoxPlotStats(s,!0)]).then((function(_){if(typeof _!="symbol"){var w=_==null||_[0]==null||_[0].summary.count===0||_[0].summary.count===_[0].summary.missing;if(d.classList.toggle(z("missing"),w),!w){var x=_[0].summary,T=_[1].summary,M=s instanceof ce&&s.isGroupSortedByMe().asc!==void 0?s.getSortMethod():"";if(Ze(s)){var N=s.getRange();Array.from(d.getElementsByTagName("span")).forEach((function(I,G){return I.textContent=N[G]}))}P1(s,d,x,T,M,xr(s,null,f),Ze(s))}}}))}}},p})();const ZN=c$;function P1(p,s,u,l,f,d,_){_===void 0&&(_=!1),s.title=XN(p,l);var w=s.firstElementChild,x=w.firstElementChild,T=x.nextElementSibling,M=w.lastElementChild,N=u.whiskerLow!=null?u.whiskerLow:Math.max(u.q1-1.5*(u.q3-u.q1),u.min),I=u.whiskerHigh!=null?u.whiskerHigh:Math.min(u.q3+1.5*(u.q3-u.q1),u.max);w.style.left="".concat(Vt(100*N,2),"%");var G=I-N;w.style.width="".concat(Vt(100*G,2),"%"),x.style.left="".concat(Vt((u.q1-N)/G*100,2),"%"),x.style.width="".concat(Vt((u.q3-u.q1)/G*100,2),"%"),x.style.backgroundColor=en(d,su),T.style.left="".concat(Vt((u.median-N)/G*100,2),"%"),u.mean!=null?(M.style.left="".concat(Vt((u.mean-N)/G*100,2),"%"),M.style.display=null):M.style.display="none";var B=Array.from(s.children).slice(1,_?-2:void 0),U=u.outlier?u.outlier.length:0;if(B.splice(U,B.length-U).forEach((function(nt){return nt.remove()})),w.dataset.sort=f,u.outlier&&U!==0){for(var $=B.length;$<U;++$){var Q=s.ownerDocument.createElement("div");Q.classList.add(z("boxplot-outlier")),B.unshift(Q),w.insertAdjacentElement("afterend",Q)}u.outlier.forEach((function(nt,ot){delete B[ot].dataset.sort,B[ot].style.left="".concat(Vt(100*nt,2),"%")})),f==="min"&&u.outlier[0]<=N?(w.dataset.sort="",B[0].dataset.sort="min",B.length>1&&B[B.length-1].insertAdjacentElement("afterend",B[0])):f==="max"&&u.outlier[B.length-1]>=I&&(w.dataset.sort="",B[B.length-1].dataset.sort="max")}}function Gs(p,s,u,l){if((p==null||Number.isNaN(p))&&(p=1),l||!Ze(u))return(f=ap(xr(u,s,l,p)||Oe)).l=1-p,f.toString();var f,d=u.getColorMapping(),_=d.apply(p);return d instanceof ma?((f=ap(_)).l=1-p,f.toString()):_}const KN=(function(){function p(){this.title="Brightness"}return p.prototype.canRender=function(s,u){return Qe(s)&&u===Re.CELL&&!Cn(s)},p.prototype.create=function(s,u,l){var f=u.colWidth(s);return{template:`<div title="">
        <div class="`.concat(z("cat-color"),'" style="background-color: ').concat(Oe,'"></div><div class="').concat(z("cat-label"),`"> </div>
      </div>`),update:function(d,_){var w=ur(d,s,_);d.title=s.getLabel(_),d.firstElementChild.style.backgroundColor=w?null:Gs(s.getNumber(_),_,s,l),Ln(d.lastElementChild,d.title)},render:function(d,_){Mi(d,s,_,f)||(d.fillStyle=Gs(s.getNumber(_),_,s,l),d.fillRect(0,0,f,un))}}},p.prototype.createGroup=function(){return hr},p.prototype.createSummary=function(){return hr},p})();var f$=(function(){function p(){this.title="Color & Label",this.groupTitle="Histogram"}return p.prototype.canRender=function(s,u){return Xo(s)&&(u!==Re.CELL||nu(s))},p.prototype.create=function(s,u){var l=u.colWidth(s);return{template:`<div>
        <div class="`.concat(z("cat-color"),'"></div><div class="').concat(z("cat-label"),`"></div>
      </div>`),update:function(f,d){ur(f,s,d);var _=s.getCategory(d);f.firstElementChild.style.backgroundColor=_?s.getColor(d):null,Ln(f.lastElementChild,s.getLabel(d))},render:function(f,d){if(!Mi(f,s,d,l)){var _=s.getCategory(d);f.fillStyle=_?s.getColor(d):"",f.fillRect(0,0,l,un)}}}},p.prototype.createGroup=function(s,u){var l=k1(s,!1,u.sanitize),f=l.template,d=l.update,_=l.matchBins;return{template:"".concat(f,"</div>"),update:function(w,x){return _(w),u.tasks.groupCategoricalStats(s,x).then((function(T){if(typeof T!="symbol"){var M=!T||T.group==null||T.group.count===0||T.group.count===T.group.missing;w.classList.toggle(z("missing"),M),M||d(w,T.group)}}))}}},p.prototype.createSummary=function(s,u,l){return s instanceof we||s instanceof eu||s instanceof Ul||s instanceof og?(function(f,d,_){var w,x=k1(f,_||kg(f),d.sanitize),T=x.template,M=x.update,N=x.matchBins;return{template:"".concat(T).concat(_?L1(!1,0):"","</div>"),update:function(I){I.classList.toggle(z("histogram-i"),_);var G=N(I);return w&&!G||(w=QN(f,I)),d.tasks.summaryCategoricalStats(f).then((function(B){if(typeof B!="symbol"){var U=B.summary,$=B.data;w(_&&$?$.missing:U?U.missing:0,f);var Q=!B||B.summary==null||B.summary.count===0||B.summary.count===B.summary.missing;I.classList.toggle(z("missing"),Q),Q||M(I,U,_?$:void 0)}}))}}})(s,u,l):(function(f,d,_){var w=k1(f,_,d.sanitize),x=w.template,T=w.update;return{template:"".concat(x,"</div>"),update:function(M){return d.tasks.summaryCategoricalStats(f).then((function(N){if(typeof N!="symbol"){var I=!N||N.summary==null||N.summary.count===0||N.summary.count===N.summary.missing;M.classList.toggle(z("missing"),I),I||T(M,N.summary)}}))}}})(s,u,l)},p})();const JN=f$;function k1(p,s,u){var l,f,d=function(_,w){return'<div class="'.concat(z("histogram-bin"),'" title="').concat(u(_.label),': 0" data-cat="').concat(u(_.name),'" ').concat(s?'data-title="'.concat(u(_.label),'"'):"",'><div style="height: 0; background-color: ').concat(w,'"></div></div>')};return{template:(l=p.getColorMapping(),f=p.categories.map((function(_){return d(_,l.apply(_))})).join(""),'<div class="'.concat(z("histogram")," ").concat(p.categories.length>sf?z("dense"):"",'">').concat(f)),matchBins:function(_){var w=p.categories,x=p.getColorMapping();_.classList.toggle(z("dense"),w.length>sf);for(var T=Array.from(_.querySelectorAll("[data-cat]")),M=null,N=!1,I=0,G=w;I<G.length;I++){var B=G[I],U=T[0];U&&U.dataset.cat===B.name?(M=U,T.shift()):(N=!0,M?(M.insertAdjacentHTML("afterend",d(B,x.apply(B))),U=M.nextElementSibling):(_.insertAdjacentHTML("afterbegin",d(B,x.apply(B))),U=_.firstElementChild),M=U)}for(var $=0,Q=T;$<Q.length;$++)N=!0,Q[$].remove();return N},update:function(_,w,x){var T=p.getColorMapping(),M=p.categories.map((function(I){var G=Ci(T.apply(I));return G.opacity=Qh,G.toString()})),N=x?x.maxBin:w.maxBin;qi(_,"[data-cat]",(function(I,G){var B=p.categories[G],U=w.hist[G].count,$=I.firstElementChild;if(x){var Q=x.hist[G].count;I.title="".concat(B.label,": ").concat(U," of ").concat(Q),$.style.height="".concat(Vt(100*Q/N,2),"%");var nt=100-Vt(100*U/Q,2);$.style.background=nt===0?T.apply(B):nt===100?M[G]:"linear-gradient(".concat(M[G]," ").concat(nt,"%, ").concat(T.apply(B)," ").concat(nt,"%, ").concat(T.apply(B)," 100%)")}else{I.title="".concat(p.categories[G].label,": ").concat(U);var ot=I.firstElementChild;ot.style.height="".concat(Math.round(100*U/N),"%"),ot.style.background=T.apply(B)}}))}}}function Bg(p,s,u){if(p instanceof Ul){var l=p.getFilter(),f=l?l.mode:void 0;p.setFilter({filter:s,filterMissing:u,mode:f})}else p.setFilter({filter:s,filterMissing:u})}function QN(p,s){var u=Array.from(s.querySelectorAll("[data-cat]")),l=function(d,_,w){var x=d.firstElementChild,T=p.getColorMapping().apply(_);if(w)x.style.background=T;else{var M=Ci(T);M.opacity=Qh,x.style.background=M.toString()}};u.forEach((function(d,_){var w=p.categories[_];d.onclick=function(x){x.preventDefault(),x.stopPropagation();var T=p.getFilter();if(T==null||!Array.isArray(T.filter)){l(d,w,!1);var M=p.categories.slice();return M.splice(_,1),void Bg(p,M.map((function(G){return G.name})),!!T&&T.filterMissing)}var N=T.filter.slice(),I=N.indexOf(w.name);I>=0?(N.splice(I,1),l(d,w,!1)):(N.push(w.name),l(d,w,!0)),T.filterMissing||N.length!==p.categories.length?Bg(p,N,T.filterMissing):p.setFilter(null)}}));var f=s.getElementsByTagName("input")[0];return f&&(f.onchange=function(){var d=f.checked,_=p.getFilter();_==null?d?Bg(p,p.categories.map((function(w){return w.name})),d):p.setFilter(null):!d&&Array.isArray(_.filter)&&_.filter.length===p.categories.length?p.setFilter(null):Bg(p,_.filter,d)}),function(d,_){var w=(p=_).getFilter();f&&(f.checked=w!=null&&w.filterMissing,WN(f.parentElement,d))}}var h$=(function(){function p(){this.title="Heatmap"}return p.prototype.canRender=function(s){return NN(s)&&!!s.dataLength},p.prototype.createContext=function(s,u){var l=u.colWidth(s),f=l/s.dataLength,d=s.labels;return{template:'<canvas height="'.concat(ou,'" title=""></canvas>'),render:function(_,w,x){w.forEach((function(T,M){var N=M*f;T!=null?(_.fillStyle=T.color,_.fillRect(N,0,f,x)):N1(_,f,x,N,0)}))},width:l,mover:function(_,w){return function(x){var T=x.offsetX/l,M=Math.max(0,Math.min(s.dataLength-1,Math.floor(T*(s.dataLength-1)+.5)));_.title="".concat(d[M],": ").concat(w[M])}}}},p.prototype.create=function(s,u){var l=this.createContext(s,u),f=l.template,d=l.render,_=l.mover,w=l.width;return{template:f,update:function(x,T){var M=x.getContext("2d");M.canvas.width=w,M.clearRect(0,0,M.canvas.width,M.canvas.height),ur(x,s,T)||(x.onmousemove=_(x,s.getLabels(T)),x.onmouseleave=function(){return x.title=""},d(M,s.getCategories(T),ou))},render:function(x,T){d(x,s.getCategories(T),un)}}},p.prototype.createGroup=function(s,u){var l=this,f=this.createContext(s,u),d=f.template,_=f.render,w=f.mover,x=f.width;return{template:d,update:function(T,M){return u.tasks.groupRows(s,M,l.title,(function(N){return(function(I,G){if(y(I))return W(G.dataLength);var B=W(G.dataLength).map((function(){return new Map}));return I.forEach((function(U){var $=G.getCategories(U);if($)for(var Q=0;Q<B.length;++Q){var nt=B[Q],ot=$[Q]||null;nt.set(ot,(nt.get(ot)||0)+1)}})),B.map((function(U){if(U.size===0)return null;var $=null,Q=0;return U.forEach((function(nt,ot){nt>Q&&($=ot,Q=nt)})),$}))})(N,s)})).then((function(N){if(typeof N!="symbol"){var I=T.getContext("2d");I.canvas.width=x,I.clearRect(0,0,I.canvas.width,I.canvas.height);var G=!N||N.length===0||N.every((function(B){return B==null}));T.classList.toggle(z("missing"),G),G||(T.onmousemove=w(T,N.map((function(B){return B?B.label:"missing"}))),T.onmouseleave=function(){return T.title=""},_(I,N,ou))}}))}}},p.prototype.createSummary=function(s,u){for(var l=s.labels.slice();l.length>0&&!kg(s,l.length);)l=l.filter((function(x,T){return T%2==0}));for(var f='<div class="'.concat(z("heatmap"),'">'),d=0,_=l;d<_.length;d++){var w=_[d];f+='<div class="'.concat(z("heatmap-cell"),'"  title="').concat(u.sanitize(w),'" data-title="').concat(u.sanitize(w),'"></div>')}return{template:f+="</div>",update:ks}},p})();const tR=h$;var p$=(function(){function p(){this.title="Distribution Bar"}return p.prototype.canRender=function(s,u){return nu(s)&&u!==Re.CELL},p.prototype.create=function(){return hr},p.prototype.createGroup=function(s,u){var l=V1(s,u.sanitize),f=l.template,d=l.update;return{template:"".concat(f,"</div>"),update:function(_,w){return u.tasks.groupCategoricalStats(s,w).then((function(x){if(typeof x!="symbol"){var T=!x||x.group==null||x.group.count===0||x.group.count===x.group.missing;_.classList.toggle(z("missing"),T),T||d(_,x.group)}}))}}},p.prototype.createSummary=function(s,u,l){return s instanceof we||s instanceof eu?(function(f,d,_){var w,x=V1(f,d.sanitize),T=x.template,M=x.update;return{template:"".concat(T).concat(_?L1(!1,0):"","</div>"),update:function(N){return w||(w=QN(f,N)),d.tasks.summaryCategoricalStats(f).then((function(I){if(typeof I!="symbol"){var G=I.summary,B=I.data,U=_&&B?B.missing:G?G.missing:0;w(U,f);var $=!I||I.summary==null||I.summary.count===0||I.summary.count===I.summary.missing;N.classList.toggle(z("missing"),$),$||M(N,G,B)}}))}}})(s,u,l):(function(f,d){var _=V1(f,d.sanitize),w=_.template,x=_.update;return{template:"".concat(w,"</div>"),update:function(T){return d.tasks.summaryCategoricalStats(f).then((function(M){if(typeof M!="symbol"){var N=!M||M.summary==null||M.summary.count===0||M.summary.count===M.summary.missing;T.classList.toggle(z("missing"),N),N||x(T,M.summary,M.data)}}))}}})(s,u)},p})();const eR=p$;function d$(p){var s=Ci(p);return s.opacity=Qh,s.toString()}function V1(p,s){var u=s,l=p.getColorMapping(),f=p.categories.map((function(_){return{label:_.label,name:_.name,color:l.apply(_),selected:d$(l.apply(_))}}));f.push({label:"Missing Values",name:"missing",color:Oe,selected:"transparent"});var d=f.map((function(_){return'<div class="'.concat(z("distribution-bar"),'" style="background-color: ').concat(u(_.color),"; color: ").concat(C1(_.color),'" title="').concat(u(_.label),': 0" data-cat="').concat(u(_.name),'"><span>').concat(u(_.label),"</span></div>")})).join("");return{template:"<div>".concat(d),update:function(_,w,x){var T=w.hist.slice();T.push({count:w.missing});var M=Array.from(_.children);if(x){var N=x.hist.slice();N.push({count:x.missing});var I=N.reduce((function(ft,Et){return ft+Et.count}),9);for($=0;$<f.length;++$){Q=M[$],nt=T[$].count,ot=f[$].label;var G=N[$].count;Q.style.flexGrow="".concat(Vt(I===0?0:G,2)),Q.title="".concat(ot,": ").concat(nt," of ").concat(G);var B=100-Vt(100*nt/G,2);Q.style.background=B===0?f[$].color:B===100?f[$].selected:"linear-gradient(".concat(f[$].selected," ").concat(B,"%, ").concat(f[$].color," ").concat(B,"%, ").concat(f[$].color," 100%)")}}else for(var U=T.reduce((function(ft,Et){return ft+Et.count}),0),$=0;$<f.length;++$){var Q=M[$],nt=T[$].count,ot=f[$].label;Q.style.flexGrow="".concat(Vt(U===0?0:nt,2)),Q.title="".concat(ot,": ").concat(nt)}}}}const rR=(function(){function p(s){s===void 0&&(s=!1),this.renderValue=s,this.title="Proportional Symbol"}return p.prototype.canRender=function(s,u){return Qe(s)&&u===Re.CELL&&!Cn(s)},p.prototype.create=function(s,u,l){return{template:`<div style="background: radial-gradient(circle closest-side, red 100%, transparent 100%)" title="">
              <div class="`.concat(this.renderValue?"":z("hover-only")," ").concat(z("bar-label"),`"></div>
          </div>`),update:function(f,d){var _=s.getNumber(d),w=Math.round(100*_),x=ur(f,s,d);f.style.background=x?null:"radial-gradient(circle closest-side, ".concat(en(xr(s,d,l),Di)," ").concat(w,"%, transparent ").concat(w,"%)"),Ln(f.firstElementChild,s.getLabel(d))}}},p.prototype.createGroup=function(){return hr},p.prototype.createSummary=function(){return hr},p})();var nR=Vn.size/2*100/ou,v$=80-2*nR,g$=9.999999999999998+nR,y$=(function(){function p(s){s===void 0&&(s=!1),this.renderValue=s,this.title="Dot",this.groupTitle="Dots"}return p.prototype.canRender=function(s,u){return Qe(s)&&u!==Re.SUMMARY},p.getCanvasRenderer=function(s,u){var l=u.colWidth(s),f=2*Math.PI,d=Vn.size/2,_=32-2*d,w=3.999999999999999+d;return{template:'<canvas height="'.concat(40,'"></canvas>'),render:function(x,T,M){x.save(),x.globalAlpha=Vn.opacity;for(var N=0,I=T;N<I.length;N++){var G=I[N];x.fillStyle=G.color||Vn.color;var B=Math.min(M-d,Math.max(d,G.value*M)),U=Vt(Math.random()*_+w,2);x.beginPath(),x.moveTo(B+d,U),x.arc(B,U,d,0,f,!0),x.fill()}x.restore()},width:l}},p.getDOMRenderer=function(s,u){for(var l=Cn(s)?s.dataLength:1,f="",d=0;d<l;++d)f+="<div style='background-color: ".concat(Oe,"' title=''></div>");return{template:"<div>".concat(f,"</div>"),update:function(_,w){var x=w.length;_.children.length!==x&&(_.innerHTML=w.reduce((function(M,N){return"".concat(M,"<div style='background-color: ").concat(u(N.color),"' title='").concat(u(N.label),"'></div>")}),""));var T=_.children;w.forEach((function(M,N){var I=T[N];I.title=M.label,I.style.display=Number.isNaN(M.value)?"none":null,I.style.left="".concat(Vt(100*M.value,2),"%"),I.style.top=x>1?"".concat(Vt(Math.random()*v$+g$,2),"%"):null,I.style.backgroundColor=M.color}))},render:function(_,w,x,T){_.save(),_.globalAlpha=Vn.opacity,w.forEach((function(M,N){_.fillStyle=x[N]||Vn.color,_.fillRect(Math.max(0,M*T-Vn.size/2),0,Vn.size,un)})),_.restore()}}},p.getSingleDOMRenderer=function(s,u){return{template:'<div class="'.concat(z("dot-single"),`"><div style='background-color: `).concat(Oe,"' title=''></div><span ").concat(u?"":'class="'.concat(z("hover-only"),'"'),"></span></div>"),update:function(l,f,d,_){var w=s(d);l.title=w;var x=l.firstElementChild;x.style.display=Number.isNaN(f)?"none":null,x.style.left="".concat(Vt(100*f,2),"%"),x.style.backgroundColor=s(_),l.lastElementChild.textContent=w},render:function(l,f,d,_){l.save(),l.globalAlpha=Vn.opacitySingle,l.fillStyle=d||Vn.color,l.fillRect(Math.max(0,f*_-Vn.size/2),0,Vn.size,un),l.restore()}}},p.prototype.create=function(s,u,l){var f=u.colWidth(s),d=s.getNumberFormat();if(!Cn(s)){var _=p.getSingleDOMRenderer(u.sanitize,this.renderValue),w=_.template,x=_.render,T=_.update;return{template:w,update:function(B,U){if(!ur(B,s,U)){var $=en(xr(s,U,l),Di);return T(B,s.getNumber(U),s.getLabel(U),$)}},render:function(B,U){var $=en(xr(s,U,l),Di);return x(B,s.getNumber(U),$,f)}}}var M=p.getDOMRenderer(s,u.sanitize),N=M.template,I=M.render,G=M.update;return{template:N,update:function(B,U){if(!ur(B,s,U)){var $=en(xr(s,U,l),Di),Q=s.getNumbers(U).filter((function(nt){return!Number.isNaN(nt)})).map((function(nt){return{value:nt,label:d(nt),color:$}}));return G(B,Q)}},render:function(B,U){if(!Mi(B,s,U,f)){var $=en(xr(s,U,l),Di),Q=s.getNumbers(U).filter((function(nt){return!Number.isNaN(nt)}));return I(B,Q,Q.map((function(nt){return $})),f)}}}},p.prototype.createGroup=function(s,u,l){var f=p.getCanvasRenderer(s,u),d=f.template,_=f.render,w=f.width;return{template:d,update:function(x,T){return u.tasks.groupRows(s,T,"dot",(function(M){if(!Cn(s))return Array.from(M.map((function(I){return{value:s.getNumber(I),color:xr(s,I,l)}})));var N=M.map((function(I){var G=en(xr(s,I,l),Di);return s.getNumbers(I).filter((function(B){return!Number.isNaN(B)})).map((function(B){return{value:B,color:G}}))}));return Array.from((function(I,G){for(var B=[],U=2;U<arguments.length;U++)B[U-2]=arguments[U];return new R(I)})(N))})).then((function(M){if(typeof M!="symbol"){var N=!M||M.length===0||M.every((function(G){return Number.isNaN(G.value)}));if(x.classList.toggle(z("missing"),N),!N){var I=x.getContext("2d");I.canvas.width=w,I.clearRect(0,0,I.canvas.width,I.canvas.height),_(I,M,w)}}}))}}},p.prototype.createSummary=function(){return hr},p})();const iR=y$;function aR(p){return p.parent==null&&p.name===ht.name}const oR=(function(){function p(){this.title="Default"}return p.prototype.canRender=function(s){return s instanceof Kb},p.prototype.create=function(){return{template:"<div><div></div></div>",update:function(s,u,l,f){var d=aR(f)||l>0?"":"".concat(f.name," (").concat(f.order.length,")");s.firstElementChild.textContent=d,s.title=d},render:function(s,u,l){return l===0}}},p.prototype.createGroup=function(){return{template:"<div><div></div></div>",update:function(s,u){var l=aR(u)?"":"".concat(u.name," (").concat(u.order.length,")");s.firstElementChild.textContent=l,s.title=l}}},p.prototype.createSummary=function(){return hr},p})();var G1=(function(){function p(){}return p.choose=function(s,u){for(var l=null,f=u.map((function(M,N){return N===0&&(l=M),{n:s.getNumbers(M),raw:s.getRawNumbers(M)}})),d=s.dataLength,_=[],w=[],x=function(M){var N=f.map((function(U){return{n:U.n[M],raw:U.raw[M]}})).filter((function(U){return!Number.isNaN(U.n)}));if(N.length===0)_.push(NaN),w.push(NaN);else{var I=lt(),G=lt(),B=s.getSortMethod();N.forEach((function(U){I.push(U.n),G.push(U.raw)})),_.push(I.build()[B]),w.push(G.build()[B])}},T=0;T<d;++T)x(T);return{normalized:_,raw:w,row:l}},p.prototype.create=function(s,u,l){var f=u.colWidth(s),d=this.createContext(s,u,l),_=d.templateRow,w=d.render,x=d.update,T=d.clazz;return{template:'<div class="'.concat(T,'">').concat(_,"</div>"),update:function(M,N){ur(M,s,N)||x(M,s.getNumbers(N),s.getRawNumbers(N),N)},render:function(M,N){Mi(M,s,N,f)||w(M,s.getNumbers(N),N)}}},p.prototype.createGroup=function(s,u,l){var f=this,d=this.createContext(s,u,l),_=d.templateRow,w=d.update,x=d.clazz;return{template:'<div class="'.concat(x,'">').concat(_,"</div>"),update:function(T,M){return u.tasks.groupRows(s,M,f.title,(function(N){return p.choose(s,N)})).then((function(N){typeof N!="symbol"&&w(T,N.normalized,N.raw,N.row,"".concat(Qr(s.getSortMethod())," "))}))}}},p})(),m$=(function(){function p(){this.title="Heatmap"}return p.prototype.canRender=function(s){return Cn(s)&&!!s.dataLength},p.prototype.createContext=function(s,u,l){var f=u.colWidth(s),d=f/s.dataLength,_=s.labels;return{template:'<canvas height="'.concat(ou,'" title=""></canvas>'),render:function(w,x,T,M){x.forEach((function(N,I){var G=I*d;Number.isNaN(N)?N1(w,d,M,G,0):(w.fillStyle=Gs(N,T,s,l),w.fillRect(G,0,d,M))}))},width:f,mover:function(w,x,T){return function(M){var N=M.offsetX/f,I=Math.max(0,Math.min(s.dataLength-1,Math.floor(N*(s.dataLength-1)+.5)));w.title="".concat(T||"").concat(_[I],": ").concat(x[I])}}}},p.prototype.create=function(s,u,l,f){var d=this.createContext(s,u,f),_=d.template,w=d.render,x=d.mover,T=d.width;return{template:_,update:function(M,N){var I=M.getContext("2d");I.canvas.width=T,I.clearRect(0,0,I.canvas.width,I.canvas.height),ur(M,s,N)||(M.onmousemove=x(M,s.getLabels(N)),M.onmouseleave=function(){return M.title=""},w(I,s.getNumbers(N),N,ou))},render:function(M,N){w(M,s.getNumbers(N),N,un)}}},p.prototype.createGroup=function(s,u,l){var f=this,d=this.createContext(s,u,l),_=d.template,w=d.render,x=d.mover,T=d.width,M=s.getNumberFormat();return{template:_,update:function(N,I){return u.tasks.groupRows(s,I,f.title,(function(G){return G1.choose(s,G)})).then((function(G){if(typeof G!="symbol"){var B=N.getContext("2d");B.canvas.width=T,B.clearRect(0,0,B.canvas.width,B.canvas.height);var U=!G||G.normalized.length===0||G.normalized.every((function($){return Number.isNaN($)}));N.classList.toggle(z("missing"),U),U||(N.onmousemove=x(N,G.raw.map(M),"".concat(Qr(s.getSortMethod())," ")),N.onmouseleave=function(){return N.title=""},w(B,G.normalized,G.row,ou))}}))}}},p.prototype.createSummary=function(s,u){for(var l=s.labels.slice();l.length>0&&!kg(s,l.length);)l=l.filter((function(x,T){return T%2==0}));for(var f='<div class="'.concat(z("heatmap"),'">'),d=0,_=l;d<_.length;d++){var w=_[d];f+='<div class="'.concat(z("heatmap-cell"),'"  title="').concat(u.sanitize(w),'" data-title="').concat(u.sanitize(w),'"></div>')}return{template:f+="</div>",update:ks}},p})();const sR=m$,uf=Math.min,Li=Math.max,Hg=Math.round,zg=Math.floor,to=p=>({x:p,y:p}),_$={left:"right",right:"left",bottom:"top",top:"bottom"},b$={start:"end",end:"start"};function lR(p,s,u){return Li(p,uf(s,u))}function cf(p,s){return typeof p=="function"?p(s):p}function Fs(p){return p.split("-")[0]}function Ug(p){return p.split("-")[1]}function F1(p){return p==="x"?"y":"x"}function uR(p){return p==="y"?"height":"width"}function lu(p){return["top","bottom"].includes(Fs(p))?"y":"x"}function cR(p){return F1(lu(p))}function B1(p){return p.replace(/start|end/g,(s=>b$[s]))}function Wg(p){return p.replace(/left|right|bottom|top/g,(s=>_$[s]))}function jg(p){const{x:s,y:u,width:l,height:f}=p;return{width:l,height:f,top:u,left:s,right:s+l,bottom:u+f,x:s,y:u}}function fR(p,s,u){let{reference:l,floating:f}=p;const d=lu(s),_=cR(s),w=uR(_),x=Fs(s),T=d==="y",M=l.x+l.width/2-f.width/2,N=l.y+l.height/2-f.height/2,I=l[w]/2-f[w]/2;let G;switch(x){case"top":G={x:M,y:l.y-f.height};break;case"bottom":G={x:M,y:l.y+l.height};break;case"right":G={x:l.x+l.width,y:N};break;case"left":G={x:l.x-f.width,y:N};break;default:G={x:l.x,y:l.y}}switch(Ug(s)){case"start":G[_]-=I*(u&&T?-1:1);break;case"end":G[_]+=I*(u&&T?-1:1)}return G}async function H1(p,s){var u;s===void 0&&(s={});const{x:l,y:f,platform:d,rects:_,elements:w,strategy:x}=p,{boundary:T="clippingAncestors",rootBoundary:M="viewport",elementContext:N="floating",altBoundary:I=!1,padding:G=0}=cf(s,p),B=(function(Et){return typeof Et!="number"?(function(At){return{top:0,right:0,bottom:0,left:0,...At}})(Et):{top:Et,right:Et,bottom:Et,left:Et}})(G),U=w[I?N==="floating"?"reference":"floating":N],$=jg(await d.getClippingRect({element:(u=await(d.isElement==null?void 0:d.isElement(U)))==null||u?U:U.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(w.floating)),boundary:T,rootBoundary:M,strategy:x})),Q=N==="floating"?{x:l,y:f,width:_.floating.width,height:_.floating.height}:_.reference,nt=await(d.getOffsetParent==null?void 0:d.getOffsetParent(w.floating)),ot=await(d.isElement==null?void 0:d.isElement(nt))&&await(d.getScale==null?void 0:d.getScale(nt))||{x:1,y:1},ft=jg(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:w,rect:Q,offsetParent:nt,strategy:x}):Q);return{top:($.top-ft.top+B.top)/ot.y,bottom:(ft.bottom-$.bottom+B.bottom)/ot.y,left:($.left-ft.left+B.left)/ot.x,right:(ft.right-$.right+B.right)/ot.x}}function Yg(){return typeof window<"u"}function ff(p){return hR(p)?(p.nodeName||"").toLowerCase():"#document"}function Ni(p){var s;return(p==null||(s=p.ownerDocument)==null?void 0:s.defaultView)||window}function eo(p){var s;return(s=(hR(p)?p.ownerDocument:p.document)||window.document)==null?void 0:s.documentElement}function hR(p){return!!Yg()&&(p instanceof Node||p instanceof Ni(p).Node)}function ba(p){return!!Yg()&&(p instanceof Element||p instanceof Ni(p).Element)}function ro(p){return!!Yg()&&(p instanceof HTMLElement||p instanceof Ni(p).HTMLElement)}function pR(p){return!(!Yg()||typeof ShadowRoot>"u")&&(p instanceof ShadowRoot||p instanceof Ni(p).ShadowRoot)}function xp(p){const{overflow:s,overflowX:u,overflowY:l,display:f}=Sa(p);return/auto|scroll|overlay|hidden|clip/.test(s+l+u)&&!["inline","contents"].includes(f)}function S$(p){return["table","td","th"].includes(ff(p))}function $g(p){return[":popover-open",":modal"].some((s=>{try{return p.matches(s)}catch{return!1}}))}function z1(p){const s=U1(),u=ba(p)?Sa(p):p;return u.transform!=="none"||u.perspective!=="none"||!!u.containerType&&u.containerType!=="normal"||!s&&!!u.backdropFilter&&u.backdropFilter!=="none"||!s&&!!u.filter&&u.filter!=="none"||["transform","perspective","filter"].some((l=>(u.willChange||"").includes(l)))||["paint","layout","strict","content"].some((l=>(u.contain||"").includes(l)))}function U1(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function hf(p){return["html","body","#document"].includes(ff(p))}function Sa(p){return Ni(p).getComputedStyle(p)}function qg(p){return ba(p)?{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}:{scrollLeft:p.scrollX,scrollTop:p.scrollY}}function Bs(p){if(ff(p)==="html")return p;const s=p.assignedSlot||p.parentNode||pR(p)&&p.host||eo(p);return pR(s)?s.host:s}function dR(p){const s=Bs(p);return hf(s)?p.ownerDocument?p.ownerDocument.body:p.body:ro(s)&&xp(s)?s:dR(s)}function Ep(p,s,u){var l;s===void 0&&(s=[]),u===void 0&&(u=!0);const f=dR(p),d=f===((l=p.ownerDocument)==null?void 0:l.body),_=Ni(f);if(d){const w=W1(_);return s.concat(_,_.visualViewport||[],xp(f)?f:[],w&&u?Ep(w):[])}return s.concat(f,Ep(f,[],u))}function W1(p){return p.parent&&Object.getPrototypeOf(p.parent)?p.frameElement:null}function vR(p){const s=Sa(p);let u=parseFloat(s.width)||0,l=parseFloat(s.height)||0;const f=ro(p),d=f?p.offsetWidth:u,_=f?p.offsetHeight:l,w=Hg(u)!==d||Hg(l)!==_;return w&&(u=d,l=_),{width:u,height:l,$:w}}function j1(p){return ba(p)?p:p.contextElement}function pf(p){const s=j1(p);if(!ro(s))return to(1);const u=s.getBoundingClientRect(),{width:l,height:f,$:d}=vR(s);let _=(d?Hg(u.width):u.width)/l,w=(d?Hg(u.height):u.height)/f;return _&&Number.isFinite(_)||(_=1),w&&Number.isFinite(w)||(w=1),{x:_,y:w}}const w$=to(0);function gR(p){const s=Ni(p);return U1()&&s.visualViewport?{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}:w$}function uu(p,s,u,l){s===void 0&&(s=!1),u===void 0&&(u=!1);const f=p.getBoundingClientRect(),d=j1(p);let _=to(1);s&&(l?ba(l)&&(_=pf(l)):_=pf(p));const w=(function(I,G,B){return G===void 0&&(G=!1),!(!B||G&&B!==Ni(I))&&G})(d,u,l)?gR(d):to(0);let x=(f.left+w.x)/_.x,T=(f.top+w.y)/_.y,M=f.width/_.x,N=f.height/_.y;if(d){const I=Ni(d),G=l&&ba(l)?Ni(l):l;let B=I,U=W1(B);for(;U&&l&&G!==B;){const $=pf(U),Q=U.getBoundingClientRect(),nt=Sa(U),ot=Q.left+(U.clientLeft+parseFloat(nt.paddingLeft))*$.x,ft=Q.top+(U.clientTop+parseFloat(nt.paddingTop))*$.y;x*=$.x,T*=$.y,M*=$.x,N*=$.y,x+=ot,T+=ft,B=Ni(U),U=W1(B)}}return jg({width:M,height:N,x,y:T})}function Y1(p,s){const u=qg(p).scrollLeft;return s?s.left+u:uu(eo(p)).left+u}function yR(p,s,u){u===void 0&&(u=!1);const l=p.getBoundingClientRect();return{x:l.left+s.scrollLeft-(u?0:Y1(p,l)),y:l.top+s.scrollTop}}function mR(p,s,u){let l;if(s==="viewport")l=(function(f,d){const _=Ni(f),w=eo(f),x=_.visualViewport;let T=w.clientWidth,M=w.clientHeight,N=0,I=0;if(x){T=x.width,M=x.height;const G=U1();(!G||G&&d==="fixed")&&(N=x.offsetLeft,I=x.offsetTop)}return{width:T,height:M,x:N,y:I}})(p,u);else if(s==="document")l=(function(f){const d=eo(f),_=qg(f),w=f.ownerDocument.body,x=Li(d.scrollWidth,d.clientWidth,w.scrollWidth,w.clientWidth),T=Li(d.scrollHeight,d.clientHeight,w.scrollHeight,w.clientHeight);let M=-_.scrollLeft+Y1(f);const N=-_.scrollTop;return Sa(w).direction==="rtl"&&(M+=Li(d.clientWidth,w.clientWidth)-x),{width:x,height:T,x:M,y:N}})(eo(p));else if(ba(s))l=(function(f,d){const _=uu(f,!0,d==="fixed"),w=_.top+f.clientTop,x=_.left+f.clientLeft,T=ro(f)?pf(f):to(1);return{width:f.clientWidth*T.x,height:f.clientHeight*T.y,x:x*T.x,y:w*T.y}})(s,u);else{const f=gR(p);l={x:s.x-f.x,y:s.y-f.y,width:s.width,height:s.height}}return jg(l)}function _R(p,s){const u=Bs(p);return!(u===s||!ba(u)||hf(u))&&(Sa(u).position==="fixed"||_R(u,s))}function x$(p,s,u){const l=ro(s),f=eo(s),d=u==="fixed",_=uu(p,!0,d,s);let w={scrollLeft:0,scrollTop:0};const x=to(0);if(l||!l&&!d)if((ff(s)!=="body"||xp(f))&&(w=qg(s)),l){const M=uu(s,!0,d,s);x.x=M.x+s.clientLeft,x.y=M.y+s.clientTop}else f&&(x.x=Y1(f));const T=!f||l||d?to(0):yR(f,w);return{x:_.left+w.scrollLeft-x.x-T.x,y:_.top+w.scrollTop-x.y-T.y,width:_.width,height:_.height}}function $1(p){return Sa(p).position==="static"}function bR(p,s){if(!ro(p)||Sa(p).position==="fixed")return null;if(s)return s(p);let u=p.offsetParent;return eo(p)===u&&(u=u.ownerDocument.body),u}function SR(p,s){const u=Ni(p);if($g(p))return u;if(!ro(p)){let f=Bs(p);for(;f&&!hf(f);){if(ba(f)&&!$1(f))return f;f=Bs(f)}return u}let l=bR(p,s);for(;l&&S$(l)&&$1(l);)l=bR(l,s);return l&&hf(l)&&$1(l)&&!z1(l)?u:l||(function(f){let d=Bs(f);for(;ro(d)&&!hf(d);){if(z1(d))return d;if($g(d))return null;d=Bs(d)}return null})(p)||u}const E$={convertOffsetParentRelativeRectToViewportRelativeRect:function(p){let{elements:s,rect:u,offsetParent:l,strategy:f}=p;const d=f==="fixed",_=eo(l),w=!!s&&$g(s.floating);if(l===_||w&&d)return u;let x={scrollLeft:0,scrollTop:0},T=to(1);const M=to(0),N=ro(l);if((N||!N&&!d)&&((ff(l)!=="body"||xp(_))&&(x=qg(l)),ro(l))){const G=uu(l);T=pf(l),M.x=G.x+l.clientLeft,M.y=G.y+l.clientTop}const I=!_||N||d?to(0):yR(_,x,!0);return{width:u.width*T.x,height:u.height*T.y,x:u.x*T.x-x.scrollLeft*T.x+M.x+I.x,y:u.y*T.y-x.scrollTop*T.y+M.y+I.y}},getDocumentElement:eo,getClippingRect:function(p){let{element:s,boundary:u,rootBoundary:l,strategy:f}=p;const d=[...u==="clippingAncestors"?$g(s)?[]:(function(x,T){const M=T.get(x);if(M)return M;let N=Ep(x,[],!1).filter((U=>ba(U)&&ff(U)!=="body")),I=null;const G=Sa(x).position==="fixed";let B=G?Bs(x):x;for(;ba(B)&&!hf(B);){const U=Sa(B),$=z1(B);$||U.position!=="fixed"||(I=null),(G?!$&&!I:!$&&U.position==="static"&&I&&["absolute","fixed"].includes(I.position)||xp(B)&&!$&&_R(x,B))?N=N.filter((Q=>Q!==B)):I=U,B=Bs(B)}return T.set(x,N),N})(s,this._c):[].concat(u),l],_=d[0],w=d.reduce(((x,T)=>{const M=mR(s,T,f);return x.top=Li(M.top,x.top),x.right=uf(M.right,x.right),x.bottom=uf(M.bottom,x.bottom),x.left=Li(M.left,x.left),x}),mR(s,_,f));return{width:w.right-w.left,height:w.bottom-w.top,x:w.left,y:w.top}},getOffsetParent:SR,getElementRects:async function(p){const s=this.getOffsetParent||SR,u=this.getDimensions,l=await u(p.floating);return{reference:x$(p.reference,await s(p.floating),p.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}},getClientRects:function(p){return Array.from(p.getClientRects())},getDimensions:function(p){const{width:s,height:u}=vR(p);return{width:s,height:u}},getScale:pf,isElement:ba,isRTL:function(p){return Sa(p).direction==="rtl"}},T$=function(p){return p===void 0&&(p={}),{name:"shift",options:p,async fn(s){const{x:u,y:l,placement:f}=s,{mainAxis:d=!0,crossAxis:_=!1,limiter:w={fn:$=>{let{x:Q,y:nt}=$;return{x:Q,y:nt}}},...x}=cf(p,s),T={x:u,y:l},M=await H1(s,x),N=lu(Fs(f)),I=F1(N);let G=T[I],B=T[N];if(d){const $=I==="y"?"bottom":"right";G=lR(G+M[I==="y"?"top":"left"],G,G-M[$])}if(_){const $=N==="y"?"bottom":"right";B=lR(B+M[N==="y"?"top":"left"],B,B-M[$])}const U=w.fn({...s,[I]:G,[N]:B});return{...U,data:{x:U.x-u,y:U.y-l,enabled:{[I]:d,[N]:_}}}}}},C$=function(p){return p===void 0&&(p={}),{name:"size",options:p,async fn(s){var u,l;const{placement:f,rects:d,platform:_,elements:w}=s,{apply:x=()=>{},...T}=cf(p,s),M=await H1(s,T),N=Fs(f),I=Ug(f),G=lu(f)==="y",{width:B,height:U}=d.floating;let $,Q;N==="top"||N==="bottom"?($=N,Q=I===(await(_.isRTL==null?void 0:_.isRTL(w.floating))?"start":"end")?"left":"right"):(Q=N,$=I==="end"?"top":"bottom");const nt=U-M.top-M.bottom,ot=B-M.left-M.right,ft=uf(U-M[$],nt),Et=uf(B-M[Q],ot),At=!s.middlewareData.shift;let Ot=ft,Wt=Et;if((u=s.middlewareData.shift)!=null&&u.enabled.x&&(Wt=ot),(l=s.middlewareData.shift)!=null&&l.enabled.y&&(Ot=nt),At&&!I){const kt=Li(M.left,0),jt=Li(M.right,0),Nt=Li(M.top,0),ee=Li(M.bottom,0);G?Wt=B-2*(kt!==0||jt!==0?kt+jt:Li(M.left,M.right)):Ot=U-2*(Nt!==0||ee!==0?Nt+ee:Li(M.top,M.bottom))}await x({...s,availableWidth:Wt,availableHeight:Ot});const ct=await _.getDimensions(w.floating);return B!==ct.width||U!==ct.height?{reset:{rects:!0}}:{}}}},A$=function(p){return p===void 0&&(p={}),{options:p,fn(s){const{x:u,y:l,placement:f,rects:d,middlewareData:_}=s,{offset:w=0,mainAxis:x=!0,crossAxis:T=!0}=cf(p,s),M={x:u,y:l},N=lu(f),I=F1(N);let G=M[I],B=M[N];const U=cf(w,s),$=typeof U=="number"?{mainAxis:U,crossAxis:0}:{mainAxis:0,crossAxis:0,...U};if(x){const ot=I==="y"?"height":"width",ft=d.reference[I]-d.floating[ot]+$.mainAxis,Et=d.reference[I]+d.reference[ot]-$.mainAxis;G<ft?G=ft:G>Et&&(G=Et)}if(T){var Q,nt;const ot=I==="y"?"width":"height",ft=["top","left"].includes(Fs(f)),Et=d.reference[N]-d.floating[ot]+(ft&&((Q=_.offset)==null?void 0:Q[N])||0)+(ft?0:$.crossAxis),At=d.reference[N]+d.reference[ot]+(ft?0:((nt=_.offset)==null?void 0:nt[N])||0)-(ft?$.crossAxis:0);B<Et?B=Et:B>At&&(B=At)}return{[I]:G,[N]:B}}}};function Ri(p,s,u){return{attachment:u.currentTarget!=null?u.currentTarget:u,level:s,manager:p.dialogManager,idPrefix:p.idPrefix,sanitize:p.sanitize}}var D$=(function(){function p(s,u){u===void 0&&(u={}),this.dialog=s,this.options={title:"",livePreview:!1,popup:!1,toggleDialog:!0,cancelSubDialogs:!1,autoClose:!1},this.floatingUiCleanup=null,Object.assign(this.options,u),this.node=s.attachment.ownerDocument.createElement("form"),this.node.classList.add(z("dialog"))}return Object.defineProperty(p.prototype,"autoClose",{get:function(){return this.options.autoClose},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"attachment",{get:function(){return this.dialog.attachment},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"level",{get:function(){return this.dialog.level},enumerable:!1,configurable:!0}),p.prototype.showLivePreviews=function(){return this.options.livePreview===!0||typeof this.options.livePreview=="string"&&this.dialog.manager.livePreviews[this.options.livePreview]===!0},p.prototype.enableLivePreviews=function(s){var u=this;if(this.showLivePreviews()){var l=function(){u.submit()};typeof s=="string"?this.forEach(s,(function(f){f.addEventListener("change",l,{passive:!0})})):s.forEach((function(f){f.addEventListener("change",l,{passive:!0})}))}},p.prototype.equals=function(s){return this.dialog.level===s.dialog.level&&this.dialog.attachment===s.dialog.attachment},p.prototype.appendDialogButtons=function(){this.node.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-buttons"),`">
      <button class="`).concat(z("dialog-button"),`" type="submit" title="Apply"></button>
      <button class="`).concat(z("dialog-button"),`" type="button" title="Cancel"></button>
      <button class="`).concat(z("dialog-button"),`" type="reset" title="Reset to default values"></button>
    </div>`))},p.prototype.open=function(){var s=this;if(!(this.options.toggleDialog&&this.dialog.manager.removeLike(this)||this.build(this.node)===!1)){var u=this.attachment.closest(".".concat(z()));if(this.options.title){var l=this.node.ownerDocument.createElement("strong");l.textContent=this.options.title,this.node.insertAdjacentElement("afterbegin",l)}this.options.popup||this.appendDialogButtons(),u.appendChild(this.node),this.floatingUiCleanup=(function(w,x,T,M){M===void 0&&(M={});const{ancestorScroll:N=!0,ancestorResize:I=!0,elementResize:G=typeof ResizeObserver=="function",layoutShift:B=typeof IntersectionObserver=="function",animationFrame:U=!1}=M,$=j1(w),Q=N||I?[...$?Ep($):[],...Ep(x)]:[];Q.forEach((Ot=>{N&&Ot.addEventListener("scroll",T,{passive:!0}),I&&Ot.addEventListener("resize",T)}));const nt=$&&B?(function(Ot,Wt){let ct,kt=null;const jt=eo(Ot);function Nt(){var ee;clearTimeout(ct),(ee=kt)==null||ee.disconnect(),kt=null}return(function ee(Ut,Ne){Ut===void 0&&(Ut=!1),Ne===void 0&&(Ne=1),Nt();const{left:Be,top:Xe,width:mi,height:yn}=Ot.getBoundingClientRect();if(Ut||Wt(),!mi||!yn)return;const ti={rootMargin:-zg(Xe)+"px "+-zg(jt.clientWidth-(Be+mi))+"px "+-zg(jt.clientHeight-(Xe+yn))+"px "+-zg(Be)+"px",threshold:Li(0,uf(1,Ne))||1};let Mr=!0;function Nn(ei){const Cr=ei[0].intersectionRatio;if(Cr!==Ne){if(!Mr)return ee();Cr?ee(!1,Cr):ct=setTimeout((()=>{ee(!1,1e-7)}),1e3)}Mr=!1}try{kt=new IntersectionObserver(Nn,{...ti,root:jt.ownerDocument})}catch{kt=new IntersectionObserver(Nn,ti)}kt.observe(Ot)})(!0),Nt})($,T):null;let ot,ft=-1,Et=null;G&&(Et=new ResizeObserver((Ot=>{let[Wt]=Ot;Wt&&Wt.target===$&&Et&&(Et.unobserve(x),cancelAnimationFrame(ft),ft=requestAnimationFrame((()=>{var ct;(ct=Et)==null||ct.observe(x)}))),T()})),$&&!U&&Et.observe($),Et.observe(x));let At=U?uu(w):null;return U&&(function Ot(){const Wt=uu(w);!At||Wt.x===At.x&&Wt.y===At.y&&Wt.width===At.width&&Wt.height===At.height||T(),At=Wt,ot=requestAnimationFrame(Ot)})(),T(),()=>{var Ot;Q.forEach((Wt=>{N&&Wt.removeEventListener("scroll",T),I&&Wt.removeEventListener("resize",T)})),nt?.(),(Ot=Et)==null||Ot.disconnect(),Et=null,U&&cancelAnimationFrame(ot)}})(this.attachment,this.node,(function(){var w;((x,T,M)=>{const N=new Map,I={platform:E$,...M},G={...I.platform,_c:N};return(async(B,U,$)=>{const{placement:Q="bottom",strategy:nt="absolute",middleware:ot=[],platform:ft}=$,Et=ot.filter(Boolean),At=await(ft.isRTL==null?void 0:ft.isRTL(U));let Ot=await ft.getElementRects({reference:B,floating:U,strategy:nt}),{x:Wt,y:ct}=fR(Ot,Q,At),kt=Q,jt={},Nt=0;for(let ee=0;ee<Et.length;ee++){const{name:Ut,fn:Ne}=Et[ee],{x:Be,y:Xe,data:mi,reset:yn}=await Ne({x:Wt,y:ct,initialPlacement:Q,placement:kt,strategy:nt,middlewareData:jt,rects:Ot,platform:ft,elements:{reference:B,floating:U}});Wt=Be??Wt,ct=Xe??ct,jt={...jt,[Ut]:{...jt[Ut],...mi}},yn&&Nt<=50&&(Nt++,typeof yn=="object"&&(yn.placement&&(kt=yn.placement),yn.rects&&(Ot=yn.rects===!0?await ft.getElementRects({reference:B,floating:U,strategy:nt}):yn.rects),{x:Wt,y:ct}=fR(Ot,kt,At)),ee=-1)}return{x:Wt,y:ct,placement:kt,strategy:nt,middlewareData:jt}})(x,T,{...I,platform:G})})(s.attachment,s.node,{placement:s.dialog.level===0?"bottom-start":"right-start",middleware:[(w===void 0&&(w={}),{name:"flip",options:w,async fn(x){var T,M;const{placement:N,middlewareData:I,rects:G,initialPlacement:B,platform:U,elements:$}=x,{mainAxis:Q=!0,crossAxis:nt=!0,fallbackPlacements:ot,fallbackStrategy:ft="bestFit",fallbackAxisSideDirection:Et="none",flipAlignment:At=!0,...Ot}=cf(w,x);if((T=I.arrow)!=null&&T.alignmentOffset)return{};const Wt=Fs(N),ct=lu(B),kt=Fs(B)===B,jt=await(U.isRTL==null?void 0:U.isRTL($.floating)),Nt=ot||(kt||!At?[Wg(B)]:(function(Mr){const Nn=Wg(Mr);return[B1(Mr),Nn,B1(Nn)]})(B)),ee=Et!=="none";!ot&&ee&&Nt.push(...(function(Mr,Nn,ei,Cr){const Or=Ug(Mr);let mn=(function(Ys,$s,PK){const XI=["left","right"],ZI=["right","left"],kK=["top","bottom"],VK=["bottom","top"];switch(Ys){case"top":case"bottom":return PK?$s?ZI:XI:$s?XI:ZI;case"left":case"right":return $s?kK:VK;default:return[]}})(Fs(Mr),ei==="start",Cr);return Or&&(mn=mn.map((Ys=>Ys+"-"+Or)),Nn&&(mn=mn.concat(mn.map(B1)))),mn})(B,At,Et,jt));const Ut=[B,...Nt],Ne=await H1(x,Ot),Be=[];let Xe=((M=I.flip)==null?void 0:M.overflows)||[];if(Q&&Be.push(Ne[Wt]),nt){const Mr=(function(Nn,ei,Cr){Cr===void 0&&(Cr=!1);const Or=Ug(Nn),mn=cR(Nn),Ys=uR(mn);let $s=mn==="x"?Or===(Cr?"end":"start")?"right":"left":Or==="start"?"bottom":"top";return ei.reference[Ys]>ei.floating[Ys]&&($s=Wg($s)),[$s,Wg($s)]})(N,G,jt);Be.push(Ne[Mr[0]],Ne[Mr[1]])}if(Xe=[...Xe,{placement:N,overflows:Be}],!Be.every((Mr=>Mr<=0))){var mi,yn;const Mr=(((mi=I.flip)==null?void 0:mi.index)||0)+1,Nn=Ut[Mr];if(Nn)return{data:{index:Mr,overflows:Xe},reset:{placement:Nn}};let ei=(yn=Xe.filter((Cr=>Cr.overflows[0]<=0)).sort(((Cr,Or)=>Cr.overflows[1]-Or.overflows[1]))[0])==null?void 0:yn.placement;if(!ei)switch(ft){case"bestFit":{var ti;const Cr=(ti=Xe.filter((Or=>{if(ee){const mn=lu(Or.placement);return mn===ct||mn==="y"}return!0})).map((Or=>[Or.placement,Or.overflows.filter((mn=>mn>0)).reduce(((mn,Ys)=>mn+Ys),0)])).sort(((Or,mn)=>Or[1]-mn[1]))[0])==null?void 0:ti[0];Cr&&(ei=Cr);break}case"initialPlacement":ei=B}if(N!==ei)return{reset:{placement:ei}}}return{}}}),T$({limiter:A$()}),C$({apply:function(x){var T=x.availableWidth,M=x.availableHeight,N=x.elements;Object.assign(N.floating.style,{maxWidth:"".concat(T,"px"),maxHeight:"".concat(M-12,"px"),overflowY:"auto"})}})]}).then((function(x){var T=x.x,M=x.y;function N(I){var G=window.devicePixelRatio||1;return Math.round(I*G)/G}Object.assign(s.node.style,{top:"0",left:"0",transform:"translate(".concat(N(T),"px,").concat(N(M),"px)")})}))}));var f=this.find("input[autofocus]");f&&setTimeout((function(){return f.focus()}));var d=this.find("button[type=reset]");d&&(d.onclick=function(w){w.stopPropagation(),w.preventDefault(),s.reset(),s.showLivePreviews()&&s.submit()}),this.node.onsubmit=function(w){return w.stopPropagation(),w.preventDefault(),s.triggerSubmit()};var _=this.find("button[title=Cancel]");_&&(_.onclick=function(w){w.stopPropagation(),w.preventDefault(),s.cancel(),s.destroy("cancel")}),this.options.cancelSubDialogs&&this.node.addEventListener("click",(function(){s.dialog.manager.removeAboveLevel(s.dialog.level+1)})),this.dialog.manager.push(this)}},p.prototype.triggerSubmit=function(){return!!this.node.checkValidity()&&(this.submit()!==!1&&this.destroy("confirm"),!1)},p.prototype.find=function(s){return this.node.querySelector(s)},p.prototype.findInput=function(s){return this.find(s)},p.prototype.forEach=function(s,u){return Array.from(this.node.querySelectorAll(s)).map(u)},p.prototype.cleanUp=function(s){s==="confirm"?this.submit():s==="cancel"&&this.cancel(),s!=="handled"&&this.dialog.manager.triggerDialogClosed(this,s),this.floatingUiCleanup&&this.floatingUiCleanup(),this.node.remove()},p.prototype.destroy=function(s){s===void 0&&(s="cancel"),this.dialog.manager.triggerDialogClosed(this,s),this.dialog.manager.remove(this,!0)},p})();const Er=D$;var M$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const df=(function(p){function s(u,l){return l===void 0&&(l={}),p.call(this,u,Object.assign({popup:!0},l))||this}return M$(s,p),s.prototype.submit=function(){return!0},s.prototype.reset=function(){},s.prototype.cancel=function(){},s})(Er);var L$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const N$=(function(p){function s(u,l,f){f===void 0&&(f={});var d=p.call(this,u)||this;return d.callback=l,d.ioptions={min:NaN,max:NaN,step:"any",value:NaN,label:null},Object.assign(d.ioptions,f),d}return L$(s,p),s.prototype.build=function(u){var l=this.ioptions;u.insertAdjacentHTML("beforeend",`
     <input type="number" value="`.concat(Number.isNaN(l.value)?"":String(l.value),'" required autofocus placeholder="').concat(this.dialog.sanitize(l.label?l.label:"enter number"),'" ').concat(Number.isNaN(l.min)?"":' min="'.concat(l.min,'"')," ").concat(Number.isNaN(l.max)?"":' max="'.concat(l.max,'"'),' step="').concat(l.step,`">
    `)),this.enableLivePreviews("input")},s.prototype.submit=function(){return this.callback(this.findInput("input[type=number]").valueAsNumber),!0},s})(df);function Tp(p,s){s===void 0&&(s={});var u=Object.assign({container:p.parentElement,filter:function(){return!0},onStart:function(){},onDrag:function(){},onEnd:function(){},minDelta:2},s),l=null,f=function(M,N){return M-N.getBoundingClientRect().left-N.clientLeft},d=0,_=0,w=0,x=function(M){if(u.filter(M)){M.stopPropagation(),M.preventDefault();var N=f(M.clientX,u.container)-w;Math.abs(_-N)<u.minDelta||(_=N,u.onDrag(p,N,_-N,M))}},T=function(M){if(u.filter(M)){M.stopPropagation(),M.preventDefault();var N=f(M.clientX,u.container)-w;l.removeEventListener("mousemove",x),l.removeEventListener("mouseup",T),l.removeEventListener("mouseleave",T),l.classList.remove(z("dragging")),Math.abs(d-N)<2||u.onEnd(p,N,d-N,M)}};p.onmousedown=function(M){u.filter(M)&&(M.stopPropagation(),M.preventDefault(),w=f(M.clientX,p),d=_=f(M.clientX,u.container)-w,(l=p.closest("body")||p.closest(".".concat(z()))).addEventListener("mousemove",x),l.addEventListener("mouseup",T),l.addEventListener("mouseleave",T),l.classList.add(z("dragging")),u.onStart(p,d,0,M))}}function wR(p){var s=Ci(p);return s.opacity=Qh,s.toString()}function xR(p){for(var s="",u=0;u<p;++u)s+='<div class="'.concat(z("histogram-bin"),'" title="Bin ').concat(u,': 0" data-x=""><div style="height: 0" ></div></div>');return'<div class="'.concat(z("histogram")," ").concat(p>sf?z("dense"):"",'">').concat(s)}function ER(p,s,u,l,f){var d=s.hist,_=(function(w,x){var T=Array.from(w.querySelectorAll("[data-x]"));if(T.length>x)T.splice(x,T.length-x).forEach((function(N){return N.remove()}));else if(T.length<x){for(var M=T.length;M<x;++M)w.insertAdjacentHTML("afterbegin",'<div class="'.concat(z("histogram-bin"),'" title="Bin ').concat(M,': 0" data-x=""><div style="height: 0" ></div></div>'));T=Array.from(w.querySelectorAll("[data-x]"))}return w.classList.toggle(z("dense"),x>sf),T})(p,d.length);_.forEach((function(w,x){var T=d[x],M=w.firstElementChild;if(T){var N=T.x0,I=T.x1,G=T.count,B=f(T);if(w.dataset.x=l(N),u){var U=(u.hist[x]||{count:G}).count;w.title="".concat(l(N)," - ").concat(l(I)," (").concat(G," of ").concat(U,")"),M.style.height="".concat(Vt(100*U/u.maxBin,2),"%");var $=100-Vt(100*G/U,2);M.style.background=$===0?B:$===100?wR(B):"linear-gradient(".concat(wR(B)," ").concat($,"%, ").concat(B," ").concat($,"%, ").concat(B," 100%)")}else w.title="".concat(l(N)," - ").concat(l(I)," (").concat(G,")"),M.style.height="".concat(Vt(100*G/s.maxBin,2),"%"),M.style.backgroundColor=B}else M.style.height="0%"}))}function TR(p){return'<span class="'.concat(z("mapping-hint"),'" title="').concat(p[0],'">').concat(p[0],'</span><span class="').concat(z("mapping-hint"),'" title="').concat(p[1],'">').concat(p[1],"</span>")}function CR(p,s){Array.from(p.getElementsByTagName("span")).forEach((function(u,l){return u.textContent=s[l]}))}function Xg(p,s){return`
    <div class="`.concat(z("histogram-min-hint"),'" style="width: ').concat(p.percent(s.filterMin),`%"></div>
    <div class="`).concat(z("histogram-max-hint"),'" style="width: ').concat(100-p.percent(s.filterMax),`%"></div>
    <div class="`).concat(z("histogram-min"),'" data-value="').concat(p.format(s.filterMin),'" data-raw="').concat(p.formatRaw(s.filterMin),'" style="left: ').concat(p.percent(s.filterMin),`%" title="min filter, drag or double click to change"></div>
    <div class="`).concat(z("histogram-max"),'" data-value="').concat(p.format(s.filterMax),'" data-raw="').concat(p.formatRaw(s.filterMax),'" style="right: ').concat(100-p.percent(s.filterMax),`%" title="max filter, drag or double click to change"></div>
    `).concat(L1(s.filterMissing,0),`
  `)}function Zg(p,s){var u=p.getElementsByClassName(z("histogram-min"))[0],l=p.getElementsByClassName(z("histogram-max"))[0],f=p.getElementsByClassName(z("histogram-min-hint"))[0],d=p.getElementsByClassName(z("histogram-max-hint"))[0],_=p.getElementsByTagName("input")[0],w=function(){var N=s.parseRaw(u.dataset.raw),I=s.parseRaw(l.dataset.raw);s.setFilter(_.checked,N,I)},x=function(N){N.preventDefault(),N.stopPropagation();var I=s.parseRaw(u.dataset.raw),G=s.parseRaw(l.dataset.raw);s.edit(I,u,"min",G).then((function(B){f.style.width="".concat(s.percent(B),"%"),u.dataset.value=s.format(B),u.dataset.raw=s.formatRaw(B),u.style.left="".concat(s.percent(B),"%"),u.classList.toggle(z("swap-hint"),s.percent(B)>15),w()}))};u.onclick=function(N){(N.shiftKey||N.ctrlKey)&&x(N)},u.ondblclick=x;var T=function(N){N.preventDefault(),N.stopPropagation();var I=s.parseRaw(l.dataset.raw),G=s.parseRaw(u.dataset.raw);s.edit(I,l,"max",G).then((function(B){d.style.width="".concat(100-s.percent(B),"%"),l.dataset.value=s.format(B),l.dataset.raw=s.formatRaw(B),l.style.right="".concat(100-s.percent(B),"%"),l.classList.toggle(z("swap-hint"),s.percent(B)<85),w()}))};l.onclick=function(N){(N.shiftKey||N.ctrlKey)&&T(N)},l.ondblclick=T,_.onchange=function(){return w()};var M={minDelta:0,filter:function(N){return N.button===0&&!N.shiftKey&&!N.ctrlKey},onStart:function(N){return N.classList.add(z("hist-dragging"))},onDrag:function(N,I){var G=N.classList.contains(z("histogram-min")),B=p.clientWidth,U=Math.max(0,Math.min(I,B)),$=Math.round(100*U/B),Q=s.unpercent($),nt=s.parseRaw((G?l:u).dataset.raw);(G&&Q>nt||!G&&Q<nt)&&(Q=nt,$=s.percent(Q)),N.dataset.value=s.format(Q),N.dataset.raw=s.formatRaw(Q),G?(N.style.left="".concat($,"%"),N.classList.toggle(z("swap-hint"),$>15),f.style.width="".concat($,"%")):(N.style.right="".concat(100-$,"%"),N.classList.toggle(z("swap-hint"),$<85),d.style.width="".concat(100-$,"%"))},onEnd:function(N){N.classList.remove(z("hist-dragging")),w()}};return Tp(u,M),Tp(l,M),function(N,I){f.style.width="".concat(s.percent(I.filterMin),"%"),d.style.width="".concat(100-s.percent(I.filterMax),"%"),u.dataset.value=s.format(I.filterMin),l.dataset.value=s.format(I.filterMax),u.dataset.raw=s.formatRaw(I.filterMin),l.dataset.raw=s.formatRaw(I.filterMax),u.style.left="".concat(s.percent(I.filterMin),"%"),l.style.right="".concat(100-s.percent(I.filterMax),"%"),u.classList.toggle(z("swap-hint"),s.percent(I.filterMin)>15),l.classList.toggle(z("swap-hint"),s.percent(I.filterMax)<85),_.checked=I.filterMissing,WN(_.parentElement,N)}}var R$=(function(){function p(){this.title="Histogram"}return p.prototype.canRender=function(s,u){return Qe(s)&&u!==Re.CELL||Cn(s)&&u===Re.CELL},p.prototype.create=function(s,u,l){var f=Cp(s,l),d=f.template,_=f.render,w=f.guessedBins;return{template:"".concat(d,"</div>"),update:function(x,T){if(!ur(x,s,T)){for(var M=dt([0,1],w),N=0,I=s.getNumbers(T);N<I.length;N++){var G=I[N];M.push(G)}var B=M.build();_(x,B)}}}},p.prototype.createGroup=function(s,u,l){var f=Cp(s,l),d=f.template,_=f.render;return{template:"".concat(d,"</div>"),update:function(w,x){return u.tasks.groupNumberStats(s,x).then((function(T){if(typeof T!="symbol"){var M=!T||T.group==null||T.group.count===0||T.group.count===T.group.missing;if(w.classList.toggle(z("missing"),M),!M){var N=T.summary,I=T.group;_(w,I,N)}}}))}}},p.prototype.createSummary=function(s,u,l,f){var d=Cp(s,f);return l&&Ze(s)?(function(_,w,x,T){var M,N=DR(_,w);return x+=Xg(N,Ap(_)),{template:"".concat(x,"</div>"),update:function(I){return M||(M=Zg(I,N)),w.tasks.summaryNumberStats(_,!0).then((function(G){if(typeof G!="symbol"){var B=G.summary,U=G.data;M(U?U.missing:B?B.missing:0,Ap(_)),I.classList.add(z("histogram-i")),I.classList.toggle(z("missing"),!B),B&&T(I,B,U)}}))}}})(s,u,d.template,d.render):(function(_,w,x,T){return Ze(_)&&(x+=TR(_.getRange())),{template:"".concat(x,"</div>"),update:function(M){return Ze(_)&&CR(M,_.getRange()),w.tasks.summaryNumberStats(_).then((function(N){if(typeof N!="symbol"){var I=!N||N.summary==null||N.summary.count===0||N.summary.count===N.summary.missing;M.classList.toggle(z("missing"),I),I||T(M,N.summary)}}))}}})(s,u,d.template,d.render)},p})();const AR=R$;function Cp(p,s){var u=p.findMyRanker(),l=u?V(u.getOrderLength()):10,f=p.getNumberFormat();return{template:xR(l),render:function(d,_,w){return ER(d,_,w||null,f,(function(x){return xr(p,null,s,(x.x1+x.x0)/2)}))},guessedBins:l}}function Ap(p,s){s===void 0&&(s=p.getFilter());var u=p.getMapping().domain,l=isFinite(s.min)?s.min:u[0],f=isFinite(s.max)?s.max:u[1];return{filterMissing:s.filterMissing,filterMin:l,filterMax:f}}function DR(p,s){var u=p.getMapping().domain,l=p.getNumberFormat();return{percent:function(f){return(function(d){return Math.max(0,Math.min(100,d))})(Math.round(100*(f-u[0])/(u[1]-u[0])))},unpercent:function(f){return f/100*(u[1]-u[0])+u[0]},domain:u,format:l,formatRaw:String,parseRaw:Number.parseFloat,setFilter:function(f,d,_){return p.setFilter({filterMissing:f,min:d===u[0]?Number.NEGATIVE_INFINITY:d,max:_===u[1]?Number.POSITIVE_INFINITY:_})},edit:function(f,d,_,w){return new Promise((function(x){var T={attachment:d,manager:s.dialogManager,level:s.dialogManager.maxLevel+1,idPrefix:s.idPrefix,sanitize:s.sanitize};new N$(T,x,{value:f,min:_!=="max"||Number.isNaN(w)?u[0]:Math.min(u[0],w),max:_!=="min"||Number.isNaN(w)?u[1]:Math.max(u[1],w)}).open()}))}}}const MR=(function(){function p(){this.title="Image"}return p.prototype.canRender=function(s,u){return s instanceof Yo&&u===Re.CELL},p.prototype.create=function(s){return{template:"<div></div>",update:function(u,l){var f=ur(u,s,l);if(u.style.backgroundImage=null,f)u.title="";else{var d,_=s.getLink(l);if(u.title=_?_.alt:"",_)return uN((d=_.href,new Promise((function(w){var x=new Image;x.onload=function(){return w(x)},x.src=d})))).then((function(w){typeof w!="symbol"&&(u.style.backgroundImage=f||!_?null:"url('".concat(w.src,"')"))}))}}}},p.prototype.createGroup=function(){return hr},p.prototype.createSummary=function(){return hr},p})();var LR=(function(){function p(){}return p.prototype.createGroup=function(s,u,l){var f=this,d=this.create(s,u,l);return{template:d.template,update:function(_,w){return u.tasks.groupRows(s,w,"aggregated",(function(x){return f.aggregatedIndex(x,s)})).then((function(x){typeof x!="symbol"&&d.update(_,x.row,x.index,w)}))}}},p.prototype.createSummary=function(){return hr},p})(),I$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function Kg(p,s,u,l,f){var d=ji,_=0,w=p.children.map((function(x){var T=_,M=x.getWidth();_+=M,_+=u?0:d;var N=l===Re.CELL?s.renderer(x,f):null,I=l===Re.GROUP?s.groupRenderer(x,f):null,G=l===Re.GROUP?s.summaryRenderer(x,!1,f):null,B="",U="";switch(l){case Re.CELL:B=N.template,U=x.getRenderer();break;case Re.GROUP:B=I.template,U=x.getGroupRenderer();break;case Re.SUMMARY:B=G.template,U=x.getSummaryRenderer()}return B=B.replace(/^<([^ >]+)([ >])/,'<$1 data-column-id="'.concat(x.id,'" data-renderer="').concat(U,'"$2')),{column:x,shift:T,width:M,template:B=/^<([^>]+) class="([ >]*)/.test(B)?B.replace(/^<([^>]+) class="([ >]*)/,'<$1 class="'.concat(z("renderer-".concat(U))," $2")):B.replace(/^<([^ >]+)([ >])/,'<$1 class="'.concat(z("renderer-".concat(U)),'"$2')),rendererId:U,renderer:N,groupRenderer:I,summaryRenderer:G}}));return{cols:w,stacked:u,padding:d}}var O$=(function(p){function s(u){u===void 0&&(u=!0);var l=p.call(this)||this;return l.stacked=u,l.title=l.stacked?"Stacked Bar":"Nested",l}return I$(s,p),s.prototype.canRender=function(u){return Gt(u)},s.prototype.create=function(u,l,f){var d=this,_=Kg(u,l,this.stacked,Re.CELL,f),w=_.cols,x=_.stacked,T=l.colWidth(u);return{template:"<div class='".concat(Gg(l.idPrefix,u)," ").concat(x?"":z("grid-space"),"'>").concat(w.map((function(M){return M.template})).join(""),"</div>"),update:function(M,N,I,G){if(ur(M,u,N))return null;Pg(M,w,l);var B=[],U=Array.from(M.children),$=u.getWidth(),Q=0;return w.forEach((function(nt,ot){var ft=nt.column.getWidth()/$,Et=U[ot];Et.classList.add(z(d.stacked?"stack-sub":"nested-sub"),z("detail")),Et.dataset.group="d",Et.style.transform=x?"translate(-".concat(Vt(Q/ft*100,4),"%,0)"):null,Et.style.gridColumnStart=(ot+1).toString();var At=nt.renderer.update(Et,N,I,G);if(x&&(Q+=(1-nt.column.getNumber(N))*ft,ot<w.length-1)){var Ot=Et.querySelector("span");Ot&&(Ot.style.overflow="hidden")}At&&B.push(At)})),B.length>0?gp(B):null},render:function(M,N,I,G){if(Mi(M,u,N,T))return null;for(var B=[],U=0,$=0,Q=w;$<Q.length;$++){var nt=Q[$],ot=nt.renderer;if(ot.render){var ft=nt.shift-U;M.translate(ft,0);var Et=ot.render(M,N,I,G);typeof Et!="boolean"&&Et&&B.push({shift:ft,r:Et}),M.translate(-ft,0)}x&&(U+=nt.width*(1-nt.column.getNumber(N)))}return B.length===0?null:gp(B.map((function(At){return At.r}))).then((function(At){return function(Ot){if(typeof At!="symbol")for(var Wt=0;Wt<At.length;++Wt){var ct=At[Wt];if(typeof ct=="function"){var kt=B[Wt].shift;Ot.translate(kt,0),ct(Ot),Ot.translate(-kt,0)}}}}))}}},s.prototype.createGroup=function(u,l,f){var d=this;if(this.stacked&&Qe(u))return p.prototype.createGroup.call(this,u,l,f);var _=Kg(u,l,!1,Re.GROUP,f).cols;return{template:"<div class='".concat(Gg(l.idPrefix,u)," ").concat(z("grid-space"),"'>").concat(_.map((function(w){return w.template})).join(""),"</div>"),update:function(w,x){Pg(w,_,l);var T=[],M=Array.from(w.children);return _.forEach((function(N,I){var G=M[I];G.classList.add(z(d.stacked?"stack-sub":"nested-sub"),z("group")),G.dataset.group="g",G.style.gridColumnStart=(I+1).toString();var B=N.groupRenderer.update(G,x);B&&T.push(B)})),T.length>0?gp(T):null}}},s.prototype.aggregatedIndex=function(u,l){return console.assert(Qe(l)),(function(f,d){var _=f.map((function(T,M){return{r:T,i:M,v:d.getNumber(T)}})),w=Array.from(_.filter((function(T){return!Number.isNaN(T.v)}))).sort((function(T,M){return(function(N,I,G,B){return G===void 0&&(G=!1),B===void 0&&(B=!1),G=G||N==null||Number.isNaN(N),B=B||I==null||Number.isNaN(I),G?B?0:wb:B?-1*wb:N-I})(T.v,M.v)})),x=w[Math.floor(w.length/2)];return x===void 0?{index:0,row:w[0].r}:{index:x.i,row:x.r}})(u,l)},s})(LR);const q1=O$;var P$=(function(){function p(){this.title="Interleaved"}return p.prototype.canRender=function(s){return s instanceof vp},p.prototype.create=function(s,u){var l=Kg(s,u,!1,Re.CELL).cols,f=u.colWidth(s);return{template:"<div>".concat(l.map((function(d){return d.template})).join(""),"</div>"),update:function(d,_,w,x){ur(d,s,_)||(Pg(d,l,u),Vs(d,(function(T,M){l[M].renderer.update(T,_,w,x)})))},render:function(d,_,w,x){Mi(d,s,_,f)||(d.save(),d.scale(1,1/l.length),l.forEach((function(T,M){var N=T.renderer;N.render&&N.render(d,_,M,x),d.translate(0,un)})),d.restore())}}},p.prototype.createGroup=function(s,u){var l=Kg(s,u,!1,Re.GROUP).cols;return{template:"<div>".concat(l.map((function(f){return f.template})).join(""),"</div>"),update:function(f,d){Pg(f,l,u),Vs(f,(function(_,w){l[w].groupRenderer.update(_,d)}))}}},p.prototype.createSummary=function(s,u,l){var f=s.children,d=0,_=Cp(s,{color:function(){return A1(f[d++%f.length])}}),w=_.template,x=_.render;return{template:w,update:function(T){var M=f.map((function(N){return u.tasks.summaryNumberStats(N)}));return of(M).then((function(N){if(typeof N!="symbol"){var I=N.map((function(B){return B.summary}));if(I.some(Boolean)){T.classList.remove(z("missing"));var G=(function(B){var U=B.find(Boolean);if(!U)return null;for(var $=U.hist.length,Q=[],nt=0,ot=0;ot<$;++ot)for(var ft=0,Et=B;ft<Et.length;ft++){var At=Et[ft],Ot=At?At.hist[ot]:null;Ot?(Ot.count>nt&&(nt=Ot.count),Q.push(Ot)):Q.push(k$)}return{maxBin:nt,hist:Q}})(I);x(T,G)}else T.classList.add(z("missing"))}}))}}},p})();const NR=P$;var k$={count:0,x0:0,x1:0};const RR=(function(){function p(){this.title="Link"}return p.prototype.canRender=function(s,u){return s instanceof Yo&&u!==Re.SUMMARY},p.prototype.create=function(s,u){var l=u.sanitize(s.alignment||"left");return{template:"<a".concat(l!=="left"?' class="'.concat(z(l),'"'):"",' target="_blank" rel="noopener" href=""></a>'),update:function(f,d){ur(f,s,d);var _=s.getLink(d);f.href=_?_.href:"",s.escape?Ln(f,_?_.alt:""):f.innerHTML=_?_.alt:""}}},p.exampleText=function(s,u){var l=[];return u.every((function(f){var d=s.getLink(f);return!d||(l.push(d),l.length<5)})),l.length===0?[[],!1]:[l,l.length<u.length]},p.prototype.createGroup=function(s,u){return{template:"<div> </div>",update:function(l,f){return u.tasks.groupExampleRows(s,f,"link",(function(d){return p.exampleText(s,d)})).then((function(d){if(typeof d!="symbol"){var _=d[0],w=d[1];IR(l,_,w)}}))}}},p.prototype.createSummary=function(){return hr},p})();function IR(p,s,u){p.classList.toggle(z("missing"),s.length===0),_e(p),s.forEach((function(l,f){f>0&&p.appendChild(p.ownerDocument.createTextNode(", "));var d=p.ownerDocument.createElement("a");d.href=l.href,d.textContent=l.alt,d.target="_blank",d.rel="noopener",p.appendChild(d)})),u&&p.insertAdjacentText("beforeend",", ")}var V$=(function(){function p(){this.title="Bar Table"}return p.prototype.canRender=function(s,u){return bp(s)&&Qe(s)&&(u===Re.CELL||u===Re.SUMMARY&&Ze(s))},p.prototype.create=function(s,u,l){var f=s.getNumberFormat();return{template:'<div class="'.concat(z("rtable"),'"></div>'),update:function(d,_){ur(d,s,_)||Jg(d,s.getMap(_),(function(w,x){var T=x.value;if(Number.isNaN(T))w.classList.add(z("missing"));else{var M=Vt(100*T,2);w.title=f(T);var N=w.ownerDocument.createElement("div");N.style.width="".concat(M,"%"),N.style.backgroundColor=en(xr(s,_,l),su),w.appendChild(N);var I=w.ownerDocument.createElement("span");I.classList.add(z("hover-only")),I.textContent=f(T),N.appendChild(I)}}))}}},p.prototype.createGroup=function(){return hr},p.prototype.createSummary=function(s){return{template:'<div class="'.concat(z("rtable"),'"><div>Key</div><div><span></span><span></span>Value</div></div>'),update:function(u){var l=s.getRange(),f=u.lastElementChild;f.firstElementChild.textContent=l[0],f.children[1].textContent=l[1]}}},p})();const OR=V$;function Jg(p,s,u){_e(p);for(var l=p.ownerDocument,f=0,d=s;f<d.length;f++){var _=d[f],w=l.createElement("div");w.textContent=_.key,p.appendChild(w);var x=l.createElement("div");u(x,_),p.appendChild(x)}}var G$=(function(){function p(){this.title="Table"}return p.prototype.canRender=function(s){return bp(s)},p.prototype.create=function(s){return Sp(s)&&s.dataLength?this.createFixed(s):{template:'<div class="'.concat(z("rtable"),'"></div>'),update:function(u,l){ur(u,s,l)||Jg(u,s.getMapLabel(l),(function(f,d){var _=d.value;f.textContent=_}))}}},p.template=function(s){var u=s.labels;return"<div>".concat(u.map((function(l){return'<div class="'.concat(z("table-cell"),'">').concat(l,'</div><div  class="').concat(z("table-cell"),'" data-v></div>')})).join(`
`),"</div>")},p.prototype.createFixed=function(s){return{template:p.template(s),update:function(u,l){if(!ur(u,s,l)){var f=s.getLabels(l);qi(u,"[data-v]",(function(d,_){d.textContent=f[_]}))}}}},p.prototype.createGroup=function(s,u){return Sp(s)&&s.dataLength?this.createFixedGroup(s,u):{template:'<div class="'.concat(z("rtable"),'"></div>'),update:function(l,f){return u.tasks.groupRows(s,f,"table",(function(d){return kR(d.map((function(_){return s.getMapLabel(_)})))})).then((function(d){typeof d!="symbol"&&Jg(l,d,(function(_,w){var x=w.values,T="".concat(x.slice(0,5).map((function(M){return M.value})).join(", "));5<x.length?_.textContent="".concat(T,", "):_.textContent=T}))}))}}},p.prototype.createFixedGroup=function(s,u){return{template:p.template(s),update:function(l,f){return u.tasks.groupExampleRows(s,f,"table",(function(d){var _=s.labels.map((function(){return[]}));return d.forEach((function(w){for(var x=s.getLabels(w),T=0;T<Math.min(_.length,x.length);++T)Hr(x[T])||_[T].push(x[T])})),_})).then((function(d){typeof d!="symbol"&&qi(l,"[data-v]",(function(_,w){_.textContent="".concat(d[w].join(", "),", ")}))}))}}},p.prototype.createSummary=function(){return{template:'<div class="'.concat(z("rtable"),'"><div>Key</div><div>Value</div></div>'),update:ks}},p})();const PR=G$;function kR(p){var s=new Map;return p.forEach((function(u){return u.forEach((function(l){s.has(l.key)?s.get(l.key).push(l):s.set(l.key,[l])}))})),Array.from(s).sort((function(u,l){return u[0].localeCompare(l[0])})).map((function(u){return{key:u[0],values:u[1]}}))}var F$=(function(){function p(){this.title="Table with Links"}return p.prototype.canRender=function(s,u){return s instanceof c1&&u!==Re.SUMMARY},p.prototype.create=function(s,u){var l=u.sanitize(s.alignment||"left");return{template:'<div class="'.concat(z("rtable"),'"></div>'),update:function(f,d){if(!ur(f,s,d)){_e(f);for(var _=f.ownerDocument,w=0,x=s.getLinkMap(d);w<x.length;w++){var T=x[w],M=T.key,N=T.value,I=_.createElement("div");I.classList.add(z("table-cell")),I.textContent=M,f.appendChild(I);var G=_.createElement("div");G.classList.add(z("table-cell")),l!=="left"&&G.classList.add(z(l));var B=_.createElement("a");B.href=N.href,B.textContent=N.alt,B.target="_blank",B.rel="noopener",G.appendChild(B),f.appendChild(G)}}},render:ks}},p.example=function(s){for(var u=[],l=0,f=s;l<f.length;l++){var d=f[l];if(d&&d.value.href&&(u.push(d.value),u.length>=5))break}return u.length===0?[[],!1]:[u,u.length<s.length]},p.prototype.createGroup=function(s,u){var l=s.alignment||"left";return{template:'<div class="'.concat(z("rtable"),'"></div>'),update:function(f,d){return u.tasks.groupRows(s,d,"linkmap",(function(_){return kR(_.map((function(w){return s.getLinkMap(w)})))})).then((function(_){typeof _!="symbol"&&Jg(f,_,(function(w,x){var T=x.values;l!=="left"&&w.classList.add(z(l));var M=p.example(T),N=M[0],I=M[1];N.length===0?w.classList.add(z("missing")):IR(w,N,I)}))}))}}},p.prototype.createSummary=function(){return hr},p})();const VR=F$,GR=(function(){function p(){this.title="Loading"}return p.prototype.canRender=function(){return!1},p.prototype.create=function(){return{template:"<div>Loading </div>",update:ks}},p.prototype.createGroup=function(){return this.create()},p.prototype.createSummary=function(){return this.create()},p})(),FR=(function(){function p(){this.title="Default"}return p.prototype.canRender=function(s){return s instanceof ig},p.prototype.create=function(s){return{template:'<div class="'.concat(z("right"),'"> </div>'),update:function(u,l){ur(u,s,l),Ln(u,s.getLabel(l))}}},p.prototype.createGroup=function(s){var u=s.findMyRanker();return{template:"<div><div></div><div></div></div>",update:function(l,f){var d=l.firstElementChild,_=l.lastElementChild;if(f.order.length===0)return d.textContent="",void(_.textContent="");d.textContent=u.getRank(f.order[0]).toString(),_.textContent=u.getRank(f.order[f.order.length-1]).toString()}}},p.prototype.createSummary=function(){return hr},p})();var B$=(function(){function p(){this.title="Default"}return p.prototype.canRender=function(s){return s instanceof Cb},p.prototype.create=function(s,u){return{template:"<div></div>",update:function(l,f,d){l.onclick=function(_){if(_.preventDefault(),_.stopPropagation(),_.shiftKey){var w=s.findMyRanker().id;if(gN(u.provider,w,f.i,d,_.ctrlKey))return}s.toggleValue(f)}}}},p.prototype.createGroup=function(s,u){return{template:"<div></div>",update:function(l,f){var d=0,_=0,w=f.order.length;tg(f.order,(function(x){return u.provider.isSelected(x)?d++:_++,!(2*d>w||2*_>w)})),l.classList.toggle(z("group-selected"),2*d>w),l.onclick=function(x){x.preventDefault(),x.stopPropagation();var T=l.classList.toggle(z("group-selected"));s.setValues(f.order,T)}}}},p.prototype.createSummary=function(s,u){var l=z("icon-unchecked"),f=z("icon-checked");return{template:'<div title="(Un)Select All" class="'.concat(l,'"></div>'),update:function(d){d.onclick=function(_){_.stopPropagation(),u.provider.getSelection().length===0?(u.provider.selectAllOf(s.findMyRanker()),d.classList.remove(l),d.classList.add(f)):(u.provider.setSelection([]),d.classList.remove(f),d.classList.add(l))}}}},p})();const BR=B$;var H$=(function(){function p(){this.title="Matrix"}return p.prototype.canRender=function(s){return Og(s)},p.createDOMContext=function(s,u){for(var l=s.categories,f=s.getColorMapping(),d="",_=0,w=l;_<w.length;_++){var x=w[_];d+='<div class="'.concat(z("heatmap-cell"),'" title="').concat(u(x.label),'" style="background-color: ').concat(f.apply(x),'"></div>')}return{templateRow:d,render:function(T,M){Vs(T,(function(N,I){var G=M[I];N.style.backgroundColor=f.apply(l[I]),N.style.opacity=typeof G=="boolean"?G?"1":"0":Vt(G,2).toString()}))}}},p.prototype.create=function(s,u){var l=p.createDOMContext(s,u.sanitize),f=l.templateRow,d=l.render,_=u.colWidth(s),w=_/s.dataLength,x=s.categories,T=s.getColorMapping();return{template:'<div class="'.concat(z("heatmap"),'">').concat(f,"</div>"),update:function(M,N){ur(M,s,N)||d(M,s.getValues(N))},render:function(M,N){if(!Mi(M,s,N,_)){var I=s.getValues(N);M.save(),x.forEach((function(G,B){if(I[B]){var U=B*w;M.fillStyle=T.apply(G),M.fillRect(U,0,w,un)}})),M.restore()}}}},p.prototype.createGroup=function(s,u){var l=p.createDOMContext(s,u.sanitize),f=l.templateRow,d=l.render;return{template:'<div class="'.concat(z("heatmap"),'">').concat(f,"</div>"),update:function(_,w){return u.tasks.groupCategoricalStats(s,w).then((function(x){if(typeof x!="symbol"){var T=!x||!x.group||x.group.count===0||x.group.count===x.group.missing;_.classList.toggle(z("missing"),T),T||d(_,x.group.hist.map((function(M){return M.count/x.group.maxBin})))}}))}}},p.prototype.createSummary=function(s,u){for(var l=s.categories,f=s.getColorMapping(),d='<div class="'.concat(z("heatmap"),'">'),_=ON(s),w=0,x=l;w<x.length;w++){var T=x[w];d+='<div class="'.concat(z("heatmap-cell"),'" title="').concat(u.sanitize(T.label),'"').concat(_?' data-title="'.concat(u.sanitize(T.label),'"'):"",' style="background-color: ').concat(f.apply(T),'"></div>')}return{template:d+="</div>",update:ks}},p})();const HR=H$;function zR(p){if(p.length===0)return"";var s="",u=!0;return p.forEach((function(l,f){Number.isNaN(l)?u=!0:u?(s+="M".concat(f,",").concat(1-l," "),u=!1):s+="L".concat(f,",").concat(1-l," ")})),s}var z$=(function(){function p(){this.title="Sparkline"}return p.prototype.canRender=function(s,u){return Cn(s)&&u!==Re.SUMMARY},p.prototype.create=function(s){var u=s.dataLength,l=1-s.getMapping().apply(Mn.CENTER);return{template:'<svg viewBox="0 0 '.concat(u-1,' 1" preserveAspectRatio="none meet"><line x1="0" x2="').concat(u-1,'" y1="').concat(l,'" y2="').concat(l,'"></line><path></path></svg>'),update:function(f,d){if(!ur(f,s,d)){var _=s.getNumbers(d);f.lastElementChild.setAttribute("d",zR(_))}}}},p.prototype.createGroup=function(s,u){var l=s.dataLength,f=1-s.getMapping().apply(Mn.CENTER);return{template:'<svg viewBox="0 0 '.concat(l-1,' 1" preserveAspectRatio="none meet"><line x1="0" x2="').concat(l-1,'" y1="').concat(f,'" y2="').concat(f,'"></line><path></path></svg>'),update:function(d,_){return(function(w,x){var T=Array.from(w.children);T.length>x?T.slice(x).forEach((function(M){return M.remove()})):x>T.length&&w.insertAdjacentHTML("beforeend","<path></path>".repeat(x-T.length))})(d,_.order.length),u.tasks.groupRows(s,_,"numbers",(function(w){return Array.from(w.map((function(x){return s.getNumbers(x)})))})).then((function(w){if(typeof w!="symbol"){var x=w.length===0||w.every((function(T){return T.every(Hr)}));d.classList.toggle(z("missing"),x),x||Vs(d,(function(T,M){T.setAttribute("d",zR(w[M]))}))}}))}}},p.prototype.createSummary=function(){return hr},p})();const UR=z$;var U$=(function(){function p(){this.title="UpSet"}return p.prototype.canRender=function(s){return Og(s)&&!nu(s)},p.calculateSetPath=function(s,u){var l=[];return s.forEach((function(f,d){return f?l.push(d):-1})),{left:l[0]*u+u/2,right:l[l.length-1]*u+u/2}},p.createDOMContext=function(s,u){for(var l="",f=0,d=s.categories;f<d.length;f++){var _=d[f];l+='<div class="'.concat(z("upset-dot"),'" title="').concat(u(_.label),'"></div>')}return{template:'<div><div class="'.concat(z("upset-line"),'"></div>').concat(l,"</div>"),render:function(w,x){Array.from(w.children).slice(1).forEach((function(I,G){var B=x[G];I.classList.toggle(z("enabled"),B)}));var T=w.firstElementChild,M=x.findIndex((function(I){return I})),N=x.length-1-x.reverse().findIndex((function(I){return I}));M<0||M===N?T.style.display="none":(T.style.display=null,T.style.left="".concat(Math.round(100*(M+.5)/x.length),"%"),T.style.width="".concat(Math.round(100*(N-M)/x.length),"%"))}}},p.prototype.create=function(s,u){var l=p.createDOMContext(s,u.sanitize),f=l.template,d=l.render,_=u.colWidth(s),w=_/s.categories.length;return{template:f,update:function(x,T){ur(x,s,T)||d(x,s.getValues(T))},render:function(x,T){if(!Mi(x,s,T,_)){var M=s.getValues(T),N=M.some((function(U){return U}));if(x.save(),x.fillStyle=bb.color,x.strokeStyle=bb.color,N){var I=p.calculateSetPath(M,w),G=I.left,B=I.right;x.beginPath(),x.moveTo(G,un/2),x.lineTo(B,un/2),x.stroke()}M.forEach((function(U,$){var Q=$*w;x.beginPath(),x.globalAlpha=U?1:bb.inactive,x.fillRect(Q,0,w,un),x.fill()})),x.restore()}}}},p.prototype.createGroup=function(s,u){var l=p.createDOMContext(s,u.sanitize),f=l.template,d=l.render;return{template:f,update:function(_,w){return u.tasks.groupCategoricalStats(s,w).then((function(x){typeof x!="symbol"&&d(_,x.group.hist.map((function(T){return T.count>0})))}))}}},p.prototype.createSummary=function(s,u){var l=p.createDOMContext(s,u.sanitize),f=l.template,d=l.render;return{template:f,update:function(_){return u.tasks.summaryCategoricalStats(s).then((function(w){typeof w!="symbol"&&d(_,w.summary.hist.map((function(x){return x.count>0})))}))}}},p})();const WR=U$;var W$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),j$=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.title="Bar Chart",u}return W$(s,p),s.prototype.canRender=function(u,l){return Cn(u)&&!!u.dataLength&&l===Re.CELL},s.compute=function(u,l,f){return u<l?{height:l-u,bottom:u-f[0]}:{height:u-l,bottom:l-f[0]}},s.prototype.createContext=function(u,l,f){for(var d=l.colWidth(u)/u.dataLength,_=u.getMapping().apply(Mn.CENTER),w="",x=0;x<u.dataLength;++x)w+='<div class="'.concat(z("heatmap-cell"),'" style="background-color: white" title=""></div>');var T=u.getNumberFormat();return{clazz:z("heatmap"),templateRow:w,update:function(M,N,I,G,B){var U=Gs(0,G,u,f),$=Gs(1,G,u,f);Vs(M,(function(Q,nt){var ot=N[nt],ft=s.compute(ot,_,[0,1]),Et=ft.bottom,At=ft.height;Q.title="".concat(B||"").concat(T(I[nt])),Q.style.backgroundColor=ot<_?U:$,Q.style.bottom="".concat(Math.round(100*Et/1),"%"),Q.style.height="".concat(Math.round(100*At/1),"%")}))},render:function(M,N,I){var G=Gs(0,I,u,f),B=Gs(1,I,u,f),U=un/1;N.forEach((function($,Q){M.fillStyle=$<_?G:B;var nt=Q*d,ot=s.compute($,_,[0,1]),ft=ot.bottom,Et=ot.height;M.fillRect(nt,(1-Et-ft)*U,d,Et*U)}))}}},s.prototype.createSummary=function(){return hr},s})(G1);const jR=j$,YR=(function(){function p(){this.title="Date",this.groupTitle="Date",this.summaryTitle="Date"}return p.prototype.canRender=function(s){return s instanceof Wr},p.prototype.create=function(s){return{template:"<div> </div>",update:function(u,l){ur(u,s,l),Ln(u,s.getLabel(l))},render:ks}},p.prototype.createGroup=function(s,u){return{template:"<div> </div>",update:function(l,f){return s.isGroupedBy()>=0?u.tasks.groupRows(s,f,"date",(function(d){return HL(d,s.getDateGrouper(),s)})).then((function(d){typeof d!="symbol"&&(l.classList.toggle(z("missing"),!d),Ln(l,d?d.name:""))})):u.tasks.groupExampleRows(s,f,"date",(function(d){return VN(s,d)})).then((function(d){typeof d!="symbol"&&(l.classList.toggle(z("missing"),!d),Ln(l,d))}))}}},p.prototype.createSummary=function(){return hr},p})();var Y$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const $$=(function(p){function s(u,l,f){f===void 0&&(f={});var d=p.call(this,u)||this;return d.callback=l,d.ioptions={value:null,label:null},Object.assign(d.ioptions,f),d}return Y$(s,p),s.prototype.build=function(u){var l=this,f=this.ioptions,d=Ur("%Y-%m-%d");u.insertAdjacentHTML("beforeend",`
     <input type="date" value="`.concat(f.value?d(f.value):"",'" required autofocus placeholder="').concat(this.dialog.sanitize(f.label?f.label:"enter date"),`">
    `)),this.findInput("input[type=date]").addEventListener("keypress",(function(_){_.key==="Enter"&&l.triggerSubmit()})),this.enableLivePreviews("input")},s.prototype.submit=function(){return this.callback(this.findInput("input[type=date]").valueAsDate),!0},s})(df);var q$=(function(){function p(){this.title="Histogram"}return p.prototype.canRender=function(s,u){return iu(s)&&u!==Re.CELL||RN(s)&&u===Re.CELL},p.prototype.create=function(s,u){var l=Qg(s),f=l.template,d=l.render;return{template:"".concat(f,"</div>"),update:function(_,w){if(!ur(_,s,w)){for(var x=Tt(),T=0,M=s.getDates(w);T<M.length;T++){var N=M[T];x.push(N)}var I=x.build();d(_,I)}}}},p.prototype.createGroup=function(s,u){var l=Qg(s),f=l.template,d=l.render;return{template:"".concat(f,"</div>"),update:function(_,w){return u.tasks.groupDateStats(s,w).then((function(x){if(typeof x!="symbol"){var T=!x||x.group==null||x.group.count===0||x.group.count===x.group.missing;_.classList.toggle(z("missing"),T),T||d(_,x.group)}}))}}},p.prototype.createSummary=function(s,u,l){var f=Qg(s);return l?(function(d,_,w,x){var T,M,N=d.getFilter(),I=[isFinite(N.min)?N.min:0,isFinite(N.max)?N.max:100];return w+=Xg(ty(d,_,I),vf(d,I)),{template:"".concat(w,"</div>"),update:function(G){return _.tasks.summaryDateStats(d).then((function(B){if(typeof B!="symbol"){var U=B.summary,$=B.data;if(!M){var Q=[$.min?$.min.getTime():Date.now(),$.max?$.max.getTime():Date.now()];T=ty(d,_,Q),M=Zg(G,T)}M($?$.missing:U?U.missing:0,vf(d,T.domain)),G.classList.add(z("histogram-i")),G.classList.toggle(z("missing"),!U),U&&x(G,U,$)}}))}}})(s,u,f.template,f.render):(function(d,_,w,x,T){return x+=TR(["",""]),{template:"".concat(x,"</div>"),update:function(M){return _.tasks.summaryDateStats(d).then((function(N){if(typeof N!="symbol"){var I=N.summary;if(N.data,M.classList.toggle(z("missing"),!I),I){var G=d.getFormatter();CR(M,[G(I.min),G(I.max)]),T(M,I,void 0)}}}))}}})(s,u,0,f.template,f.render)},p})();const $R=q$;function Qg(p){var s=p.getFormatter(),u=A1(p);return{template:xR(10),render:function(l,f,d){return ER(l,f,d||null,s,(function(){return u}))},guessedBins:10}}function vf(p,s,u){u===void 0&&(u=p.getFilter());var l=isFinite(u.min)?u.min:s[0],f=isFinite(u.max)?u.max:s[1];return{filterMissing:u.filterMissing,filterMin:l,filterMax:f}}function ty(p,s,u){return{percent:function(l){return(function(f){return Math.max(0,Math.min(100,f))})(Math.round(100*(l-u[0])/(u[1]-u[0])))},unpercent:function(l){return l/100*(u[1]-u[0])+u[0]},domain:u,format:function(l){return Number.isNaN(l)?"":p.getFormatter()(new Date(l))},formatRaw:String,parseRaw:function(l){return Number.parseInt(l,10)},setFilter:function(l,f,d){return p.setFilter({filterMissing:l,min:Math.abs(f-u[0])<.001?Number.NEGATIVE_INFINITY:Xb(f,"min"),max:Math.abs(d-u[1])<.001?Number.POSITIVE_INFINITY:Xb(d,"max")})},edit:function(l,f,d,_){return new Promise((function(w){var x,T={attachment:f,manager:s.dialogManager,level:s.dialogManager.maxLevel+1,idPrefix:s.idPrefix,sanitize:s.sanitize};new $$(T,(function(M){return w(M==null?NaN:Xb(M.getTime(),d))}),((x={value:Number.isNaN(l)?null:new Date(l)})[d==="min"?"max":"min"]=Number.isNaN(_)?null:new Date(_),x)).open()}))}}}var X$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),qR=(function(){var p=Ci(Oe);return p.opacity=Qh,p.toString()})(),Z$=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.title="TopN Histogram",u}return X$(s,p),s.prototype.createGroup=function(u,l){var f=ZR(!1),d=f.template,_=f.update;return{template:d,update:function(w,x){return l.tasks.groupStringStats(u,x).then((function(T){typeof T!="symbol"&&T&&_(w,T.group,T.summary)}))}}},s.prototype.createSummary=function(u,l,f){if(f)return p.prototype.createSummary.call(this,u,l,f);var d=ZR(f),_=d.template,w=d.update;return{template:_,update:function(x){return l.tasks.summaryStringStats(u).then((function(T){typeof T!="symbol"&&T&&w(x,T.summary)}))}}},s})(Fg);const XR=Z$;function ZR(p){var s=Array(5).fill(0).map((function(){return'<div class="'.concat(z("histogram-bin"),'" title=": 0" data-cat="" ').concat(p?'data-title=""':"",'><div style="height: 0; background: ').concat(Oe,'"></div></div>')})).join("");return{template:'<div class="'.concat(z("histogram"),'">').concat(s,"</div>"),update:function(u,l,f){for(var d=(f??l).topN.reduce((function(I,G){return Math.max(I,G.count)}),0),_=function(I,G){var B,U=l.topN[G],$=I.firstElementChild;if(I.dataset.cat=U.value,p&&(I.dataset.title=U.value),f){var Q=((B=f.topN[G])!==null&&B!==void 0?B:{count:0}).count;I.title="".concat(U.value,": ").concat(U.count," of ").concat(Q),$.style.height="".concat(Vt(100*Q/d,2),"%");var nt=100-Vt(100*U.count/Q,2);$.style.background=nt===0?Oe:nt===100?qR:"linear-gradient(".concat(qR," ").concat(nt,"%, ").concat(Oe," ").concat(nt,"%, ").concat(Oe," 100%)")}else I.title="".concat(U.value,": ").concat(U.count),I.firstElementChild.style.height="".concat(Math.round(100*U.count/d),"%")},w=l.topN.length,x=Array.from(u.querySelectorAll(".".concat(z("histogram-bin")))),T=0;T<Math.min(x.length,w);T++)_(x[T],T);for(T=x.length;T<w;T++){var M=u.ownerDocument.createElement("div");M.classList.add(z("histogram-bin")),u.appendChild(M);var N=u.ownerDocument.createElement("div");N.style.height="0",N.style.background=Oe,M.appendChild(N),_(M,T)}for(T=w;T<x.length;T++)x[T].remove()}}}var K$=(function(){function p(){this.title="Violin Plot"}return p.prototype.canRender=function(s,u){return Qe(s)&&u!==Re.CELL},p.prototype.create=function(){return hr},p.prototype.createGroup=function(s,u,l){return s instanceof ce&&s.isGroupSortedByMe().asc!==void 0&&s.getSortMethod(),{template:JR(s.getWidth(),!1),update:function(f,d){return of([u.tasks.groupBoxPlotStats(s,d,!1),u.tasks.groupBoxPlotStats(s,d,!0)]).then((function(_){if(typeof _!="symbol"){var w=_==null||_[0]==null||_[0].group.count===0||_[0].group.count===_[0].group.missing;if(f.classList.toggle(z("missing"),w),!w){var x=en(xr(s,null,l),Di),T=en(xr(s,null,l),su);QR(s,f,_[0].group,_[1].group,0,x,T)}}}))}}},p.prototype.createSummary=function(s,u,l,f){return{template:JR(s.getWidth(),Ze(s)),update:function(d){return of([u.tasks.summaryBoxPlotStats(s,!1),u.tasks.summaryBoxPlotStats(s,!0)]).then((function(_){if(typeof _!="symbol"){var w=_==null||_[0]==null||_[0].summary.count===0||_[0].summary.count===_[0].summary.missing;if(d.classList.toggle(z("missing"),w),!w){var x=_[0].summary,T=_[1].summary;if(s instanceof ce&&s.isGroupSortedByMe().asc!==void 0&&s.getSortMethod(),Ze(s)){var M=s.getRange();Array.from(d.getElementsByTagName("span")).forEach((function(G,B){return G.textContent=M[B]}))}var N=en(xr(s,null,f),Di),I=en(xr(s,null,f),su);QR(s,d,x,T,0,N,I)}}}))}}},p})();const KR=K$;function JR(p,s){var u=s?'<span class="'.concat(z("mapping-hint"),'"></span><span class="').concat(z("mapping-hint"),'"></span>'):"";return`<div title="">
      <svg class="`.concat(z("violin"),`"
           viewBox="0 0 `).concat(p," ").concat(40,`" preserveAspectRatio="none meet">
        <path class="`).concat(z("violin-path"),`" d="M0,0 L100,0"></path>
        <line x1="0" x2="0" y1="`).concat(20,'" y2="').concat(20,'" class="').concat(z("violin-iqr"),`"></line>
        <line x1="0" x2="0" y1="`).concat(10,'" y2="').concat(30,'" class="').concat(z("violin-mean"),`"></line>
        <line x1="0" x2="0" y1="`).concat(10,'" y2="').concat(30,'" class="').concat(z("violin-median"),`"></line>
      </svg>
      `).concat(u,`
    </div>`)}function QR(p,s,u,l,f,d,_){s.title=XN(p,l);var w=s.firstElementChild;w.style.color=d;var x=w.firstElementChild;x.style.fill=_;var T=op([0,p.getWidth()]).domain([0,1]);x.setAttribute("d",(function(G,B){for(var U=op([0,19]).domain(H(B.kdePoints,(function(Ot){return Ot.p}))),$=[],Q=[],nt=0,ot=B.kdePoints;nt<ot.length;nt++){var ft=ot[nt],Et=G(ft.v),At=U(ft.p);$.push("".concat($.length===0?"M":"L").concat(Et,",").concat(20-At)),Q.push("L".concat(Et,",").concat(20+At))}return Q.reverse(),$.join(" ")+Q.join(" ")+" Z"})(T,u));var M=w.children[1],N=w.children[2],I=w.children[3];N.setAttribute("x1",T(u.median).toString()),N.setAttribute("x2",T(u.median).toString()),I.setAttribute("x1",T(u.mean).toString()),I.setAttribute("x2",T(u.mean).toString()),M.setAttribute("x1",T(u.q1).toString()),M.setAttribute("x2",T(u.q3).toString())}var J$=(function(){function p(s){s===void 0&&(s=!1),this.renderValue=s,this.title="Tick",this.groupTitle="Ticks"}return p.prototype.canRender=function(s,u){return Qe(s)&&u===Re.CELL},p.prototype.create=function(s,u,l){var f=s.getWidth();return{template:"<div><div></div><span ".concat(this.renderValue?"":'class="'.concat(z("text-shadow")," ").concat(z("hover-only"),'"'),"></span></div>"),update:function(d,_){ur(d,s,_);var w=en(xr(s,_,l),Di),x=u.sanitize(s.getLabel(_)),T=s.getNumber(_);d.title=x;var M=d.firstElementChild;M.style.background=u.sanitize(w),M.style.left="".concat(Vt(100*T,2),"%"),d.lastElementChild.textContent=x},render:function(d,_){if(!Mi(d,s,_,f)){var w=en(xr(s,_,l),Di),x=s.getNumber(_);d.save(),d.globalAlpha=jc.opacity,d.fillStyle=w||jc.color,d.fillRect(Math.max(0,x*f-jc.size/2),0,jc.size,un),d.restore()}}}},p.prototype.createGroup=function(){return hr},p.prototype.createSummary=function(){return hr},p})();const tI=J$;var Q$=(function(){function p(s){s===void 0&&(s=!1),this.renderValue=s,this.title="Tick"}return p.prototype.canRender=function(s,u){return nu(s)&&u===Re.CELL},p.prototype.create=function(s,u,l){var f=s.getWidth();return{template:"<div><div></div><span ".concat(this.renderValue?"":'class="'.concat(z("text-shadow")," ").concat(z("hover-only"),'"'),"></span></div>"),update:function(d,_){ur(d,s,_);var w=100/s.categories.length,x=xr(s,_,l);s.categories.length>sf&&(x=en(x,Di));var T=u.sanitize(s.getLabel(_)),M=s.categories.indexOf(s.getCategory(_));d.title=T;var N=d.firstElementChild;N.style.background=u.sanitize(x),N.style.left="".concat(Vt(w*M,2),"%"),N.style.width="".concat(Vt(w,2),"%"),d.lastElementChild.textContent=T},render:function(d,_){if(!Mi(d,s,_,f)){var w=xr(s,_,l);s.categories.length>sf&&(w=en(w,Di));var x=f/s.categories.length,T=s.categories.indexOf(s.getCategory(_));d.save(),d.globalAlpha=jc.opacity,d.fillStyle=w||jc.color,d.fillRect(Math.max(0,T*x),0,x,un),d.restore()}}}},p.prototype.createGroup=function(){return hr},p.prototype.createSummary=function(){return hr},p})();const eI=Q$;var ey=new I1,tq={actions:new FN,aggregate:new UN,annotate:new YN,boolean:new qN,boxplot:new ZN,brightness:new KN,catdistributionbar:new eR,categorical:new JN,circle:new rR,date:new YR,default:ey,dot:new iR,group:new oR,heatmap:new sR,catheatmap:new tR,histogram:new AR,datehistogram:new $R,image:new MR,interleaving:new NR,link:new RR,linkMap:new VR,loading:new GR,nested:new q1(!1),number:new $N,mapbars:new OR,rank:new FR,selection:new BR,set:new HR,sparkline:new UR,stack:new q1,string:new Fg,stringhist:new XR,table:new PR,upset:new WR,verticalbar:new jR,violin:new KR,tick:new tI,cattick:new eI};const X1=ze("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Z1=ze("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),K1=ze("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),J1=ze("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Q1=ze("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),tS=ze("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var eq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),rq={schemeCategory10:Uc,schemeAccent:X1,schemeDark2:Z1,schemePastel1:K1,schemePastel2:J1,schemeSet1:Q1,schemeSet2:tS,schemeSet3:Jv},nq=(function(p){function s(u,l){var f=p.call(this,l,{livePreview:"colorMapping"})||this;return f.column=u,f.before=u.getColorMapping().clone(),f}return eq(s,p),s.prototype.build=function(u){var l=this,f=Vg(this.dialog.idPrefix),d=this.column.getColorMapping();u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-table"),`">
      <div class="`).concat(z("dialog-color-table-entry"),`">
        <select id="`).concat(f,`Chooser">
          <option value="">Apply Color Scheme...</option>
          <option value="schemeCategory10">D3 Category 10 (`).concat(Uc.length,`)</option>
          <option value="schemeSet1">Set 1 (`).concat(Q1.length,`)</option>
          <option value="schemeSet2">Set 2 (`).concat(tS.length,`)</option>
          <option value="schemeSet3">Set 3 (`).concat(Jv.length,`)</option>
          <option value="schemeAccent">Accent (`).concat(X1.length,`)</option>
          <option value="schemeDark2">Dark2 (`).concat(Z1.length,`)</option>
          <option value="schemePastel1">Pastel 1 (`).concat(K1.length,`)</option>
          <option value="schemePastel2">Pastel 2 (`).concat(J1.length,`)</option>
        </select>
      </div>
      `).concat(this.column.categories.map((function(){return`
        <label class="`.concat(z("checkbox")," ").concat(z("dialog-color-table-entry"),`">
          <input data-cat="" type="color" value="">
          <span> </span>
        </label>`)})).join(""),`
    </div>`));var _=this.column.categories;Array.from(u.querySelectorAll("label.".concat(z("checkbox"),".").concat(z("dialog-color-table-entry")))).forEach((function(w,x){var T=_[x];w.firstElementChild.dataset.cat=T.name,w.firstElementChild.value=Ci(d.apply(T)).formatHex(),w.lastElementChild.textContent=T.label})),this.findInput("select").onchange=function(w){var x=rq[w.currentTarget.value];x&&(l.forEach("[data-cat]",(function(T,M){T.value=x[M%x.length]})),l.showLivePreviews()&&l.submit())},this.enableLivePreviews("input[type=color]")},s.prototype.reset=function(){var u=this.column.categories;this.forEach("[data-cat]",(function(l,f){l.value=Ci(u[f].color).formatHex()}))},s.prototype.submit=function(){var u=this.column.categories,l=new Map;return this.forEach("input[data-cat]",(function(f,d){var _=u[d];Ci(_.color).formatHex()!==f.value&&l.set(_,f.value)})),l.size===0?this.column.setColorMapping(gi):this.column.setColorMapping(new Sb(l)),!0},s.prototype.cancel=function(){this.column.setColorMapping(this.before)},s})(Er);const iq=nq;var aq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),oq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"filter"})||this;return d.column=u,d.ctx=f,d.before=d.column.getFilter()||{filter:"",filterMissing:!1},d}return aq(s,p),s.prototype.build=function(u){var l=this;u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-table"),`">
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry"),`">
          <input type="checkbox" checked>
          <span>
            <span class="`).concat(z("dialog-filter-table-color"),`"></span>
            <div>Un/Select All</div>
          </span>
        </label>
        `).concat(this.column.categories.map((function(x){return'<label class="'.concat(z("checkbox")," ").concat(z("dialog-filter-table-entry"),`" data-cat="">
          <input data-cat="" type="checkbox"`).concat(zl(l.before,x)?"checked":"",`>
          <span>
            <span class="`).concat(z("dialog-filter-table-color"),'" style="background-color: ').concat(l.ctx.sanitize(x.color),`"></span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`"> </div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),`"></div>
          </span>
        </label>`)})).join(""),`
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry"),`" data-missing="">
          <input type="checkbox" `).concat(this.before.filterMissing?"":'checked="checked"',` data-missing="">
          <span>
            <span class="`).concat(z("dialog-filter-table-color")," ").concat(z("missing"),`"></span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`">missing value rows</div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),`">0</div>
          </span>
        </label>
    </div>`));var f=this.column.categories;Array.from(u.querySelectorAll("label.".concat(z("checkbox"),"[data-cat]"))).forEach((function(x,T){var M=f[T];x.firstElementChild.dataset.cat=M.name,x.querySelector(".".concat(z("dialog-filter-table-entry-label"))).textContent=M.label}));var d=this.findInput("input:not([data-cat])");if(d.onchange=function(){qi(u,"input[data-cat],input[data-missing]",(function(x){return x.checked=d.checked}))},this.column instanceof Ul){var _=this.before.mode!=="every";u.insertAdjacentHTML("beforeend","<strong>Show rows where</strong>"),u.insertAdjacentHTML("beforeend",'<label class="'.concat(z("checkbox"),`">
        <input type="radio" `).concat(_?"":'checked="checked"',` name="mode" value="every">
        <span>all are selected</span>
      </label>`)),u.insertAdjacentHTML("beforeend",'<label class="'.concat(z("checkbox"),`" style="padding-bottom: 0.6em">
        <input type="radio" `).concat(_?'checked="checked"':"",` name="mode" value="some">
        <span>some are selected</span>
      </label>`))}this.enableLivePreviews("input[type=checkbox],input[type=radio]");var w=this.column.findMyRanker();w&&w.on("".concat(he.EVENT_ORDER_CHANGED,".catFilter"),(function(){return l.updateStats()})),this.updateStats()},s.prototype.updateStats=function(){var u=this,l=this.ctx.provider.getTaskExecutor().summaryCategoricalStats(this.column).then((function(f){if(typeof f!="symbol"){var d=f.summary,_=f.data;d&&_&&(u.find("label[data-missing] .".concat(z("dialog-filter-table-entry-stats"))).textContent="".concat(d.missing.toLocaleString(),"/").concat(_.count.toLocaleString()),u.forEach("label[data-cat] .".concat(z("dialog-filter-table-entry-stats")),(function(w,x){var T=d.hist[x],M=_.hist[x];w.textContent="".concat(T.count.toLocaleString(),"/").concat(M.count.toLocaleString())})))}}));l&&(this.node.classList.add(Se("loading")),l.then((function(){u.node.classList.remove(Se("loading"))})))},s.prototype.updateFilter=function(u,l,f){f===void 0&&(f=!1);var d=u==null&&l===!1,_={filter:u,filterMissing:l};this.column instanceof Ul&&(_.mode=f?"some":"every"),this.column.setFilter(d?null:_)},s.prototype.reset=function(){this.forEach("input[data-cat]",(function(l){return l.checked=!0})),this.findInput("input[data-missing]").checked=!0;var u=this.findInput("input[value=every]");u&&(u.checked=!0)},s.prototype.cancel=function(){this.updateFilter(this.before.filter===""?null:this.before.filter,this.before.filterMissing,this.before.mode==="some")},s.prototype.submit=function(){var u=this.forEach("input[data-cat]:checked",(function(d){return d.dataset.cat}));u.length===this.column.categories.length&&(u=null);var l=!this.findInput("input[data-missing]").checked,f=this.findInput("input[value=some]");return this.updateFilter(u,l,f!=null&&f.checked),!0},s.prototype.cleanUp=function(u){p.prototype.cleanUp.call(this,u);var l=this.column.findMyRanker();l&&l.on("".concat(he.EVENT_ORDER_CHANGED,".catFilter"),null)},s})(Er);const sq=oq;var lq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const uq=(function(p){function s(u,l){var f=p.call(this,l,{livePreview:"filter"})||this;return f.column=u,f.before=f.column.getFilter()||{filter:f.column.categories.map((function(d){return d.name})),filterMissing:!1},f}return lq(s,p),s.prototype.build=function(u){var l=this,f=this.column.categories.map((function(_){return Object.assign({range:Vt(100*_.value,2)},_)}));f.sort((function(_,w){return _.label.localeCompare(w.label)})),u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-table"),`">
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry"),`">
          <input type="checkbox" checked>
          <span>
            <div>Un/Select All</div>
          </span>
        </label>
        `).concat(f.map((function(_){return`
          <label class="`.concat(z("checkbox")," ").concat(z("dialog-filter-table-entry"),`">
            <input data-cat="`).concat(_.name,'" type="checkbox"').concat(zl(l.before,_)?"checked":"",`>
            <span>
              <input type="number" value="`).concat(_.range,`" min="0" max="100" size="5">
              <div class="`).concat(z("dialog-filter-color-bar"),`">
                <span style="background-color: `).concat(_.color,"; width: ").concat(_.range,`%"></span>
              </div>
              <div>`).concat(_.label,`</div>
            </span>
          </label>`)})).join(""),`
    </div>`));var d=this.findInput("input[type=checkbox]:not([data-cat])");d.onchange=function(){qi(u,"[data-cat]",(function(_){return _.checked=d.checked}))},this.forEach("input[type=number]",(function(_){_.oninput=function(){_.nextElementSibling.firstElementChild.style.width="".concat(_.value,"%")}})),u.insertAdjacentHTML("beforeend",M1(this.before.filterMissing)),this.enableLivePreviews("input[type=checkbox], input[type=number]")},s.prototype.updateFilter=function(u,l){var f=u==null&&l===!1;this.column.setFilter(f?null:{filter:u,filterMissing:l})},s.prototype.cancel=function(){this.updateFilter(this.before.filter,this.before.filterMissing)},s.prototype.reset=function(){this.forEach("[data-cat]",(function(u){u.checked=!1,u.nextElementSibling.value="50"}))},s.prototype.submit=function(){var u=this.forEach("input[data-cat]",(function(d){return{checked:d.checked,cat:d.dataset.cat,range:d.nextElementSibling.valueAsNumber}})),l=u.filter((function(d){return d.checked})).map((function(d){return d.cat}));l.length===this.column.categories.length&&(l=null);var f=wp(this.node).checked;return this.updateFilter(l,f),this.column.setMapping(u.map((function(d){return d.range/100}))),!0},s})(Er);var cq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),fq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"vis"})||this;return d.column=u,d.ctx=f,d.before={renderer:u.getRenderer(),group:u.getGroupRenderer(),summary:u.getSummaryRenderer()},d}return cq(s,p),s.prototype.build=function(u){var l=this.column.getRenderer(),f=this.column.getGroupRenderer(),d=this.column.getSummaryRenderer(),_=this.ctx.getPossibleRenderer(this.column),w=_.item,x=_.group,T=_.summary;console.assert(w.length>1||x.length>1||T.length>1);var M=function(I,G){return I.label.localeCompare(G.label)},N=this.ctx.sanitize;u.insertAdjacentHTML("beforeend",`
      <strong>Item Visualization</strong>
      `.concat(w.sort(M).map((function(I){return' <label class="'.concat(z("checkbox"),'"><input type="radio" name="renderer" value="').concat(N(I.type),'" ').concat(l===I.type?"checked":"","><span>").concat(N(I.label),"</span></label>")})).join(""),`
      <strong>Group Visualization</strong>
      `).concat(x.sort(M).map((function(I){return' <label class="'.concat(z("checkbox"),'"><input type="radio" name="group" value="').concat(N(I.type),'" ').concat(f===I.type?"checked":"","><span>").concat(N(I.label),"</span></label>")})).join(""),`
      <strong>Summary Visualization</strong>
      `).concat(T.sort(M).map((function(I){return' <label class="'.concat(z("checkbox"),'"><input type="radio" name="summary" value="').concat(N(I.type),'" ').concat(d===I.type?"checked":"","><span>").concat(N(I.label),"</span></label>")})).join(""),`
    `)),this.enableLivePreviews("input[type=radio]")},s.prototype.cancel=function(){this.column.setRenderer(this.before.renderer),this.column.setGroupRenderer(this.before.group),this.column.setSummaryRenderer(this.before.summary)},s.prototype.reset=function(){var u=this.column.desc,l=this.findInput('input[name=renderer][value="'.concat(u.renderer||u.type,'"]'));l&&(l.checked=!0);var f=this.findInput('input[name=group][value="'.concat(u.groupRenderer||u.type,'"]'));f&&(f.checked=!0);var d=this.findInput('input[name=summary][value="'.concat(u.summaryRenderer||u.type,'"]'));d&&(d.checked=!0)},s.prototype.submit=function(){var u=this.findInput("input[name=renderer]:checked").value,l=this.findInput("input[name=group]:checked").value,f=this.findInput("input[name=summary]:checked").value;return this.column.setRenderer(u),this.column.setGroupRenderer(l),this.column.setSummaryRenderer(f),!0},s})(Er);const hq=fq;var pq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),dq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"colorMapping"})||this;return d.column=u,d.ctx=f,d.id=Vg("col"),d.before=d.column.getColorMapping(),d}return pq(s,p),s.prototype.createTemplate=function(u,l){var f=l instanceof Qa?l.base:l,d=f instanceof Ps?f.entries:[],_="";_+='<datalist id="'.concat(u,'L">').concat(Uc.map((function(Q){return"<option>".concat(Q,'"</option>')})).join(""),"</datalist>"),_+='<datalist id="'.concat(u,'LW"><option>#FFFFFF"</option>').concat(Uc.slice(0,-1).map((function(Q){return"<option>".concat(Q,"</option>")})).join(""),"</datalist>"),_+='<strong data-toggle="'.concat(f instanceof ma?"open":"",'">Solid Color</strong>'),_+="<div>";var w=f instanceof ma?f.color:"",x=w===Oe,T=function(Q){return'<label class="'.concat(z("checkbox-color"),`">
        <input name="color" type="radio" value="`).concat(Q,'" ').concat(Q===w?'checked="checked"':"",`>
        <span style="background: `).concat(Q,`"></span>
      </label>`)};[Uc,X1,Z1,K1,J1,Q1,tS,Jv].forEach((function(Q,nt){x=x||Q.includes(w),_+='<div class="'.concat(z("color-line"),`">
          `).concat(Q.map(T).join(""),`
          `).concat(nt===0?T(Oe):"",`
        </div>`)})),_+='<label class="'.concat(z("checkbox")," ").concat(z("color-gradient"),'"><input name="color" type="radio" value="custom:solid" ').concat(w&&!x?'checked="checked"':"",`>
        <span class="`).concat(z("color-custom"),'"><input type="color" name="solid" list="').concat(u,'L" value="').concat(f instanceof ma?this.ctx.sanitize(f.color):Oe,'" ').concat(w&&!x?"":"disabled",`></span>
      </label>`),_+="</div>",_+='<strong data-toggle="'.concat(f instanceof Ka||f instanceof Ps&&d.length===2?"open":"",'">Sequential Color</strong>'),_+="<div>",_+='<div><label class="'.concat(z("checkbox"),`">
      <input name="kindS" type="radio" id="`).concat(u,'KC_S" value="continuous" ').concat(l instanceof Qa?"":"checked",`>
      <span>Continuous</span>
    </label>
    <label class="`).concat(z("checkbox"),`">
      <input name="kindS" type="radio" id="`).concat(u,'KQ_S" value="quantized" ').concat(l instanceof Qa?"checked":"",`>
      <span>Discrete&nbsp;<input type="number" id="`).concat(u,'KQS_S" min="2" step="1" style="width: 3em" value="').concat(l instanceof Qa?"".concat(l.steps,'"'):'5" disabled',`>&nbsp; steps</span>
    </label></div>`);for(var M=f instanceof Ka?f.name:"",N=0,I=Object.keys(Ka.FUNCTIONS);N<I.length;N++){var G=I[N];_+='<label class="'.concat(z("checkbox")," ").concat(z("color-gradient"),'"><input name="color" type="radio" value="').concat(G,'" ').concat(G===M?'checked="checked"':"",`>
        <span data-c="`).concat(G,'" style="background: ').concat(ry(Ka.FUNCTIONS[G],9),`"></span>
      </label>`)}var B=d.length===2;_+='<label class="'.concat(z("checkbox")," ").concat(z("color-gradient"),`">
        <input name="color" type="radio" value="custom:sequential" `).concat(B?"checked":"",`>
        <span class="`).concat(z("color-custom"),`">
          <input type="color" name="interpolate0" list="`).concat(u,'LW" ').concat(B?'value="'.concat(d[0].color,'"'):"disabled",`>
          <input type="color" name="interpolate1" list="`).concat(u,'LW" ').concat(B?'value="'.concat(d[d.length-1].color,'"'):"disabled",`>
        </span>
      </label>`),_+="</div>",_+='<strong data-toggle="'.concat(f instanceof Ja||f instanceof Ps&&d.length===3?"open":"",'">Diverging Color</strong>'),_+="<div>",_+='<div><label class="'.concat(z("checkbox"),`">
      <input name="kindD" type="radio" id="`).concat(u,'KC_D" value="continuous" ').concat(l instanceof Qa?"":"checked",`>
      <span>Continuous</span>
    </label>
    <label class="`).concat(z("checkbox"),`">
      <input name="kindD" type="radio" id="`).concat(u,'KQ_D" value="quantized" ').concat(l instanceof Qa?"checked":"",`>
      <span>Discrete&nbsp;<input type="number" id="`).concat(u,'KQS_D" min="2" step="1" style="width: 3em" value="').concat(l instanceof Qa?"".concat(l.steps,'"'):'5" disabled',`>&nbsp; steps</span>
    </label></div>`),M=f instanceof Ja?f.name:"";for(var U=0,$=Object.keys(Ja.FUNCTIONS);U<$.length;U++)G=$[U],_+='<label class="'.concat(z("checkbox")," ").concat(z("color-gradient"),'"><input name="color" type="radio" value="').concat(G,'" ').concat(G===M?'checked="checked"':"",`>
        <span data-c="`).concat(G,'" style="background: ').concat(ry(Ja.FUNCTIONS[G],11),`"></span>
      </label>`);return B=d.length===3,_+='<label class="'.concat(z("checkbox")," ").concat(z("color-gradient"),`">
        <input name="color" type="radio" value="custom:divergent" `).concat(B?"checked":"",`>
        <span class="`).concat(z("color-custom"),`">
          <input type="color" name="divergingm1" list="`).concat(u,'L" ').concat(B?'value="'.concat(this.ctx.sanitize(d[0].color),'"'):"disabled",`>
          <input type="color" name="diverging0" list="`).concat(u,'LW" ').concat(B?'value="'.concat(this.ctx.sanitize(d[1].color),'"'):"disabled",`>
          <input type="color" name="diverging1" list="`).concat(u,'L" ').concat(B?'value="'.concat(this.ctx.sanitize(d[2].color),'"'):"disabled",`>
        </span>
      </label>`),_+="</div>"},s.prototype.applyColor=function(){var u=this.findInput("input[name=color]:checked");if(u){var l=this.findInput("#".concat(this.id,"KQ_S")),f=this.findInput("#".concat(this.id,"KQS_S")),d=(function(_,w){switch(_.value){case"custom:solid":return new ma(w.querySelector("input[name=solid]").value);case"custom:sequential":var x=w.querySelector("input[name=interpolate0]").value,T=w.querySelector("input[name=interpolate1]").value;return new Ps([{color:x,value:0},{color:T,value:1}]);case"custom:diverging":var M=w.querySelector("input[name=divergentm1]").value,N=w.querySelector("input[name=divergent0]").value,I=w.querySelector("input[name=divergent1]").value;return new Ps([{color:M,value:0},{color:N,value:.5},{color:I,value:1}])}return _.value in Ka.FUNCTIONS?new Ka(_.value):_.value in Ja.FUNCTIONS?new Ja(_.value):new ma(_.value)})(u,this.node);!l.checked||d instanceof ma?this.column.setColorMapping(d):this.column.setColorMapping(new Qa(d,Number.parseInt(f.value,10)))}},s.prototype.build=function(u){var l=u.ownerDocument.createElement("div");l.classList.add(z("dialog-color")),u.appendChild(l),this.render(l,this.column.getColorMapping())},s.prototype.render=function(u,l){var f=this,d=this.id;u.innerHTML=this.createTemplate(d,l);for(var _=Array.from(u.querySelectorAll("strong[data-toggle]")),w=function(ot){ot.onclick=function(ft){ft.preventDefault(),ft.stopPropagation();for(var Et=0,At=_;Et<At.length;Et++){var Ot=At[Et];Ot.dataset.toggle=Ot.dataset.toggle==="open"||ot!==Ot?"":"open"}}},x=0,T=_;x<T.length;x++)w(T[x]);var M=[],N=function(ot){if(ot.checked){for(var ft=function(Ot){Array.from(Ot.nextElementSibling.getElementsByTagName("input")).forEach((function(Wt){return Wt.disabled=Ot!==ot}))},Et=0,At=M;Et<At.length;Et++)ft(At[Et]);f.showLivePreviews()&&f.applyColor()}},I=function(){var ot=f.findInput("input[name=color]:checked");ot&&N(ot)};this.forEach("input[name=color]",(function(ot){ot.value.startsWith("custom:")&&M.push(ot),ot.onchange=function(){return N(ot)}})),this.forEach(".".concat(z("color-custom")," input[type=color]"),(function(ot){ot.onchange=function(){var ft=ot.parentElement.previousElementSibling;N(ft)}}));var G=this.findInput("#".concat(d,"KC_S")),B=this.findInput("#".concat(d,"KQ_S")),U=this.findInput("#".concat(d,"KQS_S")),$=this.findInput("#".concat(d,"KC_D")),Q=this.findInput("#".concat(d,"KQ_D")),nt=this.findInput("#".concat(d,"KQS_D"));G.onchange=$.onchange=function(ot){G.checked=$.checked=ot.currentTarget.checked,U.disabled=nt.disabled=!B.checked,G.checked&&(f.updateGradients(-1),I())},U.onchange=nt.onchange=function(ot){U.value=nt.value=ot.currentTarget.value,f.updateGradients(Number.parseInt(U.value,10)),I()},B.onchange=Q.onchange=function(ot){B.checked=Q.checked=ot.currentTarget.checked,U.disabled=nt.disabled=!B.checked,B.checked&&(f.updateGradients(Number.parseInt(U.value,10)),I())}},s.prototype.reset=function(){var u=this.column.desc,l=this.ctx.provider.getTypeFactory().colorMappingFunction(u.colorMapping||u.color);this.render(this.node.querySelector(".".concat(z("dialog-color"))),l)},s.prototype.submit=function(){return this.applyColor(),!0},s.prototype.cancel=function(){this.column.setColorMapping(this.before)},s.prototype.updateGradients=function(u){this.forEach("span[data-c]",(function(l){var f=l.dataset.c,d=Ka.FUNCTIONS[f];if(d)l.style.background=u<0?ry(d,9):rI(d,u);else{var _=Ja.FUNCTIONS[f];_&&(l.style.background=u<0?ry(_,11):rI(_,u))}}))},s})(Er);const vq=dq;function ry(p,s){if(s===void 0&&(s=2),s<=1)return"".concat(p(0));for(var u=1/(s-1),l="linear-gradient(to right",f=0;f<s;++f)l+=", ".concat(p(f*u)," ").concat(Vt(f*u*100,2),"%");return l+")"}function rI(p,s){if(s===void 0&&(s=2),s===1)return"".concat(p(0));for(var u="linear-gradient(to right",l=1/s,f=l/2,d=0;d<s;++d){var _=p(d*l+(d===0?0:d===s-1?l:f));u+=", ".concat(_," ").concat(Vt(d*l*100,2),"%, ").concat(_," ").concat(Vt((d+1)*l*100,2),"%")}return u+")"}var eS=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function gf(p){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];var l=p.dataTransfer.types;return typeof l.indexOf=="function"?s.some((function(f){return l.indexOf(f)>=0})):typeof l.includes=="function"?s.some((function(f){return l.includes(f)})):typeof l.contains=="function"&&s.some((function(f){return l.contains(f)}))}var cu=new Map;function rS(p){return cu.size>0&&gf(p,"text/plain")}function nI(p){var s=p.dataTransfer;(function(u){var l=u.dataTransfer;return!!(u.ctrlKey&&l.effectAllowed.match(/copy/gi)||!l.effectAllowed.match(/move/gi))})(p)?s.dropEffect="copy":s.dropEffect="move"}var gq=0;function Dp(p,s,u,l,f,d){l===void 0&&(l=null),f===void 0&&(f=!1),d===void 0&&(d=function(){return!0}),p.addEventListener("dragenter",(function(_){if(!p.classList.contains(z("dragging"))&&(gf.apply(void 0,eS([_],s,!1))||rS(_))&&d())return p.classList.add(z("dragover")),f&&_.stopPropagation(),!1;p.classList.remove(z("dragover"))})),p.addEventListener("dragover",(function(_){if(!p.classList.contains(z("dragging"))&&(gf.apply(void 0,eS([_],s,!1))||rS(_))&&d())return _.preventDefault(),nI(_),p.classList.add(z("dragover")),f&&_.stopPropagation(),l&&l(_),!1})),p.addEventListener("dragleave",(function(_){_.target.classList.remove(z("dragover"))})),p.addEventListener("drop",(function(_){_.preventDefault(),f&&_.stopPropagation(),nI(_);var w=_.dataTransfer.dropEffect;if(p.classList.remove(z("dragover")),rS(_)){var x=_.dataTransfer.getData("text/plain"),T=Number.parseInt(x.indexOf(":")>=0?x.substring(0,x.indexOf(":")):x,10);if(cu.has(T)){var M=cu.get(T);return cu.delete(T),!u({effect:w,data:M},_)}}else if(gf.apply(void 0,eS([_],s,!1))){var N={};return s.forEach((function(I){var G=_.dataTransfer.getData(I);G!==""&&(N[I]=G)})),!u({effect:w,data:N},_)}}))}function yq(p,s){return p.options.order===s.options.order?p.title.toString().localeCompare(s.title.toString()):(p.options.order||50)-(s.options.order||50)}function ny(p,s){var u=s.caches.toolbar;if(u.has(p.desc.type))return u.get(p.desc.type);var l=(function(w){var x=new Zh,T=w,M=Symbol.for("toolbarIcon");do{var N=Reflect.getOwnMetadata(M,T.constructor);if(N)for(var I=0,G=N;I<G.length;I++){var B=G[I];x.add(B)}T=Object.getPrototypeOf(T)}while(T);return Array.from(x)})(p);p.fixed||l.push("remove");var f=s.getPossibleRenderer(p);(f.item.length>2||f.group.length>2||f.summary.length>2)&&l.push("vis");var d=s.resolveToolbarActions(p,l),_=Array.from(new Set(d)).sort(yq);return u.set(p.desc.type,_),_}function iI(p,s){var u=ny(p,s),l=s.flags;return u.filter((function(f){return!(f.enabled&&!f.enabled(p)||f.options.featureLevel!=="basic"&&(l.advancedModelFeatures===!1&&f.options.featureCategory==="model"||l.advancedRankingFeatures===!1&&f.options.featureCategory==="ranking"||l.advancedUIFeatures===!1&&f.options.featureCategory==="ui"))}))}function iy(p,s,u){var l="".concat(p.desc.type,"@").concat(s),f=u.caches.toolbarAddons;if(f.has(l))return f.get(l);var d=(function(x,T){var M=new Zh,N=x,I=Symbol.for("toolbarDialogAddon".concat(T));do{var G=Reflect.getOwnMetadata(I,N.constructor);if(G)for(var B=0,U=G;B<U.length;B++){var $=U[B];M.add($)}N=Object.getPrototypeOf(N)}while(N);return Array.from(M)})(p,s),_=u.resolveToolbarDialogAddons(p,d),w=Array.from(new Set(_)).sort((function(x,T){return x.order===T.order?x.title.localeCompare(T.title):(x.order||50)-(T.order||50)}));return f.set(l,w),w}function wa(p){p.endsWith("")&&(p=p.slice(0,-2)),p.endsWith("&hellip;")&&(p=p.slice(0,-9)),p.endsWith("By")&&(p=p.slice(0,-3));var s=p.toLowerCase().replace(/[ +-]/gm,"-");return"".concat(z("action")," ").concat(z("action-".concat(s)))}function aI(p,s,u,l,f,d){return function(_){var w=Mp(s,_,d,"shortcut")?"o":Mp(s,_,d,"menu+shortcut")?"s":"r",x=u.sanitize(_.title);p.insertAdjacentHTML("beforeend",'<i data-a="'.concat(w,'" title="').concat(x,'" class="').concat(wa(x)," ").concat(z("feature-".concat(u.sanitize(_.options.featureLevel||"basic")))," ").concat(z("feature-".concat(u.sanitize(_.options.featureCategory||"others"))),'"><span').concat(f?"":' class="'.concat(z("aria"),'" aria-hidden="true"'),">").concat(x,"</span> </i>"));var T=p.lastElementChild;return T.onclick=function(M){M.stopPropagation(),u.dialogManager.setHighlightColumn(s),u.dialogManager.on("dialogOpened.".concat(s.fqid),(function(){u.dialogManager.on("dialogOpened.".concat(s.fqid),null),T.classList.add(z("active")),u.dialogManager.on("dialogClosed.".concat(s.fqid),(function(){u.dialogManager.on("dialogClosed.".concat(s.fqid),null),T.classList.remove(z("active"))}))})),_.onClick(s,M,u,l,!f)},T}}function Mp(p,s,u,l){var f=s.options.mode===void 0?"menu":s.options.mode;return f===l||typeof f=="function"&&f(p,u)===l}function nS(p,s){var u=p.getElementsByClassName(z("action-sort"))[0];if(u){var l=s.isSortedByMe(),f=l.asc,d=l.priority;u.dataset.sort=f!==void 0?f:"",u.dataset.type=db(s),d!==void 0?u.dataset.priority=(d+1).toString():delete u.dataset.priority}var _=p.getElementsByClassName(z("action-sort-groups"))[0];if(_){var w=s.isGroupSortedByMe();f=w.asc,d=w.priority,_.dataset.sort=f!==void 0?f:"",_.dataset.type=db(s),d!==void 0?_.dataset.priority=(d+1).toString():delete _.dataset.priority}var x=p.getElementsByClassName(z("action-group"))[0];if(x){var T=s.isGroupedBy();x.dataset.group=T>=0?"true":"false",T>=0?x.dataset.priority=(T+1).toString():delete x.dataset.priority}var M=p.getElementsByClassName(z("action-filter"))[0];M&&(s.isFiltered()?M.dataset.active="":delete M.dataset.active);var N=p.getElementsByClassName(z("action-data-mapping"))[0];N&&Ze(s)&&(s.getMapping().eq(s.getOriginalMapping())?delete N.dataset.active:N.dataset.active="")}var mq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const _q=(function(p){function s(u,l,f,d){var _=p.call(this,l,{autoClose:!0})||this;return _.column=u,_.mode=f,_.ctx=d,_}return mq(s,p),s.prototype.build=function(u){u.classList.add(z("more-options")),u.dataset.colId=this.column.id,(function(l,f,d,_,w){var x=aI(l,d,_,f,!0,w);iI(d,_).filter((function(T){return!Mp(d,T,w,"shortcut")})).forEach(x)})(u,this.dialog.level+1,this.column,this.ctx,this.mode),nS(u,this.column)},s})(df);var oI=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function ay(p,s,u,l){return l===void 0&&(l=!1),s?Ln(p," "):l?p.innerHTML=u:Ln(p,u),p}function iS(p,s,u){var l;u===void 0&&(u={}),u=Object.assign({dragAble:!0,mergeDropAble:!0,rearrangeAble:!0,resizeable:!0,level:0,extraPrefix:""},u);var f=s.document.createElement("section"),d=u.extraPrefix?function(I){return"".concat(z(I)," ").concat(z("".concat(u.extraPrefix,"-").concat(I)))}:z;f.innerHTML=`
    <div class="`.concat(d("label")," ").concat(z("typed-icon"),`"></div>
    <div class="`).concat(d("sublabel"),`"></div>
    <div class="`).concat(d("toolbar"),`"></div>
    <div class="`).concat(d("spacing"),`"></div>
    <div class="`).concat(d("handle")," ").concat(z("feature-advanced")," ").concat(z("feature-ui"),`"></div>
    `).concat(u.mergeDropAble?'<div class="'.concat(d("header-drop")," ").concat(d("merger"),'"></div>'):"",`
    `).concat(u.rearrangeAble?'<div class="'.concat(d("header-drop")," ").concat(d("placer"),'" data-draginfo="Place here"></div>'):"",`
  `);var _=p.getHeaderLabel("header");ay(f.firstElementChild,p.getWidth()<lf,_.content,_.asHTML);var w=p.getSummaryLabel("header");if(ay(f.children[1],p.getWidth()<lf||!w,w.content,w.asHTML),sI(f.getElementsByClassName(z("toolbar"))[0],u.level,p,s,"header"),aS(f,p),u.dragAble&&(function(I,G,B){(function(U,$,Q,nt){var ot=++gq;U.classList.add(z("dragable")),U.draggable=!0,U.addEventListener("dragstart",(function(ft){U.classList.add(z("dragging"));var Et=$();if(ft.dataTransfer.effectAllowed=Et.effectAllowed,ft.stopPropagation(),!Object.keys(Et.data).every((function(Ot){try{return ft.dataTransfer.setData(Ot,Et.data[Ot]),!0}catch{return!1}}))){var At=Et.data["text/plain"]||"";ft.dataTransfer.setData("text/plain","".concat(ot).concat(At?": ".concat(At):"")),cu.set(ot,Et.data)}})),U.addEventListener("dragend",(function(ft){U.classList.remove(z("dragging")),ft.stopPropagation(),cu.size>0&&cu.delete(ot);var Et=U.ownerDocument.getElementsByClassName(z("dragover"))[0];Et&&Et.classList.remove(z("dragover")),Q&&Q()}))})(I,(function(){var U,$=I.closest(".".concat(Se("header")));$&&$.classList.add(z("dragging-column"));var Q=JSON.stringify(B.provider.toDescRef(G.desc)),nt=((U={"text/plain":G.label})["".concat(_r,"-ref")]=G.id,U[_r]=Q,U);return Qe(G)&&(nt["".concat(_r,"-number")]=Q,nt["".concat(_r,"-number-ref")]=G.id),nu(G)&&(nt["".concat(_r,"-categorical")]=Q,nt["".concat(_r,"-categorical-ref")]=G.id),zo(G)&&(nt["".concat(_r,"-boxplot")]=Q,nt["".concat(_r,"-boxplot-ref")]=G.id),bp(G)&&(nt["".concat(_r,"-map")]=Q,nt["".concat(_r,"-map-ref")]=G.id),Sp(G)&&(nt["".concat(_r,"-array")]=Q,nt["".concat(_r,"-array-ref")]=G.id),Cn(G)&&(nt["".concat(_r,"-numbers")]=Q,nt["".concat(_r,"-numbers-ref")]=G.id),{effectAllowed:"copyMove",data:nt}}),(function(){var U=I.closest(".".concat(Se("header")));U&&U.classList.remove(z("dragging-column"))}))})(f,p,s),u.mergeDropAble){var x=f.getElementsByClassName(z("merger"))[0];u.rearrangeAble||(x.style.left="0",x.style.width="100%"),(function(I,G,B){var U=function(Et){var At=Et.data,Ot=Et.effect==="copy",Wt=_r,ct=Object.keys(At).find((function(Ut){return Ut.startsWith(Wt)&&Ut.endsWith("-ref")}));if(ct){var kt=At[ct],jt=B.provider.find(kt);if(Ot)jt=B.provider.clone(jt);else{if(jt===G)return null;jt.removeMe()}return jt}var Nt=Object.keys(At).find((function(Ut){return Ut.startsWith(Wt)}));if(!Nt)return null;var ee=JSON.parse(Nt);return B.provider.create(B.provider.fromDescRef(ee))},$=function(Et,At){if(Et==null)return!1;var Ot=G.findMyRanker(),Wt=Ot.indexOf(G),ct=B.provider.create(At);return G.removeMe(),ct.push(G),ct.push(Et),Ot.insert(ct,Wt)!=null},Q=function(Et){return function(At){var Ot=U(At);return $(Ot,Et)}},nt=["".concat(_r,"-ref"),_r],ot=["".concat(_r,"-number-ref"),"".concat(_r,"-number")],ft=["".concat(_r,"-categorical-ref"),"".concat(_r,"-categorical")];Gt(G)||G instanceof vn?(I.dataset.draginfo="+",Dp(I,G.canJustAddNumbers?ot:nt,(function(Et){var At=U(Et);return At!=null&&G.push(At)!=null}))):Cn(G)?(I.dataset.draginfo="Color by",Dp(I,ft,Q(a1()))):zo(G)?(I.dataset.draginfo="Color by",Dp(I,ft,Q(i1()))):Qe(G)&&(I.dataset.draginfo="Merge",Dp(I,ft.concat(ot),(function(Et){var At=U(Et);return At!=null&&(nu(At)?$(At,Dg()):!!Qe(At)&&$(At,Ng()))}),(function(Et){gf.apply(void 0,oI([Et],ft,!1))?I.dataset.draginfo="Color by":gf.apply(void 0,oI([Et],ot,!1))&&(I.dataset.draginfo="Sum")})))})(x,p,s)}if(u.rearrangeAble){var T=f.getElementsByClassName(z("placer"))[0],M=p.nextSibling(),N=u.mergeDropAble?.2:.5;u.mergeDropAble||(T.style.left="50%"),T.style.width="".concat(p.getWidth()*N+((l=M?.getWidth())!==null&&l!==void 0?l:100)/2,"px"),(function(I,G,B){Dp(I,["".concat(_r,"-ref"),_r],(function(U){var $=null,Q=U.data;if(!("".concat(_r,"-ref")in Q)){var nt=JSON.parse(Q[_r]);return($=B.provider.create(B.provider.fromDescRef(nt)))!=null&&G.insertAfterMe($)!=null}var ot=Q["".concat(_r,"-ref")];if(!($=B.provider.find(ot))||$===G&&!U.effect.startsWith("copy"))return!1;if(U.effect.startsWith("copy"))return($=B.provider.clone($))!=null&&G.insertAfterMe($)!=null;var ft=$.parent;return ft?ft===G.parent?ft.moveAfter($,G)!=null:($.removeMe(),G.insertAfterMe($)!=null):G.insertAfterMe($)!=null}),null,!0)})(T,p,s)}return u.resizeable&&(function(I,G){var B,U,$="",Q=G.getElementsByClassName(z("handle"))[0],nt=0,ot=0,ft=function(At){At.stopPropagation(),At.preventDefault();var Ot=At.clientX,Wt=Ot-nt;if(!(Math.abs(nt-Ot)<2)){nt=Ot;var ct=Math.max(0,I.getWidth()+Wt);U.classList.toggle(z("resize-animated"),ct<ot),U.style.transform="".concat($," translate(").concat(ct-ot-RM,"px, 0px)"),G.style.width="".concat(ct,"px"),I.setWidth(ct),aS(G,I)}},Et=function(At){At.stopPropagation(),At.preventDefault();var Ot=At.clientX;if(G.classList.remove(z("change-width")),B.removeEventListener("mousemove",ft),B.removeEventListener("mouseup",Et),B.removeEventListener("mouseleave",Et),B.classList.remove(z("resizing")),G.style.width=null,setTimeout((function(){U.classList.remove(z("resizing"),z("resize-animated"))}),1.2*k9),!(Math.abs(nt-Ot)<2)){var Wt=Ot-nt,ct=Math.max(0,I.getWidth()+Wt);I.setWidth(ct),aS(G,I)}};Q.onmousedown=function(At){At.stopPropagation(),At.preventDefault(),G.classList.add(z("change-width")),ot=I.getWidth(),nt=At.clientX,(B=G.closest("body")||G.closest(".".concat(z()))).addEventListener("mousemove",ft),B.addEventListener("mouseup",Et),B.addEventListener("mouseleave",Et),B.classList.add(z("resizing")),U=G.closest(".".concat(Se())).querySelector(".".concat(z("resize-helper"))),$=U.previousElementSibling.style.transform,U.style.transform="".concat($," translate(").concat(-RM,"px, 0px)"),U.classList.add(z("resizing"))},Q.onclick=function(At){At.stopPropagation(),At.preventDefault()}})(p,f),f}function yf(p,s,u,l){var f;u===void 0&&(u="header"),l===void 0&&(l=lf);var d=p.getElementsByClassName(z("label"))[0],_=s.getHeaderLabel(u);ay(d,s.getWidth()<l,_.content,_.asHTML);var w=s.getSummaryLabel(u),x=s.desc.summary,T=p.getElementsByClassName(z("sublabel"))[0];T&&ay(T,s.getWidth()<l||!w.content,w.content,w.asHTML);var M=s.label;x&&(M="".concat(M,`
`).concat(x)),s.description&&(M="".concat(M,`
`).concat(s.description)),p.title=M,p.dataset.colId=s.id,p.dataset.type=s.desc.type,d.dataset.typeCat=Xh(s).name,nS(p,s),(function(B,U){var $=B.closest(".".concat(z()));if($){var Q=$.querySelector(".".concat(z("more-options"),'[data-col-id="').concat(U.id,'"]'));Q&&nS(Q,U)}})(p,s);var N=p.getElementsByClassName(z("placer"))[0];if(N){var I=s.nextSibling(),G=p.getElementsByClassName(z("merger")).length===0?.5:.2;N.style.width="".concat(s.getWidth()*G+((f=I?.getWidth())!==null&&f!==void 0?f:100)*G+5,"px")}}function sI(p,s,u,l,f,d){d===void 0&&(d=!0);var _=aI(p,u,l,s,!1,f),w=iI(u,l),x=w.filter((function(N){return!Mp(u,N,f,"menu")})),T=x.reduce((function(N,I){return N+(Mp(u,I,f,"menu+shortcut")?1:0)}),0);x.forEach(_);var M=w.length-x.length+T;x.length===w.length||M===T&&!d||(p.insertAdjacentHTML("beforeend",'<i data-a="m" data-m="'.concat(M,'" title="More " class="').concat(wa("More"),'">').concat(Kn("More "),"</i>")),p.lastElementChild.onclick=function(N){N.stopPropagation(),l.dialogManager.setHighlightColumn(u),new _q(u,Ri(l,s,N),f,l).open()})}function aS(p,s,u){u===void 0&&(u=22.5),(function($,Q,nt){var ot=$.getElementsByClassName(z("label"))[0];if(Q.getWidth()<lf)ot.classList.remove(".".concat(z("rotated")));else{var ft=ot.clientWidth<=0?Q.label.length*nt/3*.6>Q.getWidth():.6*ot.scrollWidth>ot.clientWidth;ot.classList.toggle(".".concat(z("rotated")),ft)}})(p,s,u);var l=p.getElementsByClassName(z("toolbar"))[0];if(l.childElementCount!==0){for(var f=s.getWidth(),d=Array.from(l.children).map((function($){return{node:$,width:$.clientWidth>0?$.clientWidth:u}})),_=d.filter((function($){return $.node.dataset.a==="o"})),w=d.filter((function($){return $.node.dataset.a==="s"})),x=d.find((function($){return $.node.dataset.a==="m"})),T=(x?Number.parseInt(x.node.dataset.m,10):0)>w.length,M=d.reduce((function($,Q){return $+Q.width}),0),N=0,I=d;N<I.length;N++)(U=I[N]).node.classList.remove(z("hidden"));if(!(M<f))if(x&&!T&&M-x.width<f)x.node.classList.add(z("hidden"));else for(var G=0,B=w.reverse().concat(_.reverse());G<B.length;G++){var U;if((U=B[G]).node.classList.add(z("hidden")),(M-=U.width)<f)return}}}var _r="text/x-caleydo-lineup-column",bq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Sq=(function(p){function s(u,l,f){var d=p.call(this,l)||this;return d.column=u,d.ctx=f,d.id=".dialog".concat(Math.random().toString(36).slice(-8).substring(0,3)),d}return bq(s,p),s.prototype.cleanUp=function(u){p.prototype.cleanUp.call(this,u),this.column.on(Fe(this.id,vn.EVENT_ADD_COLUMN,vn.EVENT_REMOVE_COLUMN),null)},s.prototype.build=function(u){var l=this;u.classList.add(z("dialog-sub-nested"));var f=function(){l.column.children.forEach((function(d){var _=iS(d,l.ctx,{mergeDropAble:!1,resizeable:!1,level:l.dialog.level+1,extraPrefix:"sub"});_.className=z("header"),yf(_,d);var w=l.ctx.summaryRenderer(d,!1),x=l.ctx.asElement(w.template);x.dataset.renderer=d.getSummaryRenderer(),x.classList.add(z("summary"),z("renderer"),z("th-summary"));var T=w.update(x);T&&(x.classList.add(Se("loading")),T.then((function(){x.classList.remove(Se("loading"))}))),_.appendChild(x),u.appendChild(_)}))};f(),this.column.on(Fe(this.id,vn.EVENT_ADD_COLUMN,vn.EVENT_REMOVE_COLUMN),ja((function(){u.parentElement?(_e(u),f()):l.destroy()})))},s})(df);const wq=Sq;var xq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Eq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"cutOff"})||this;return d.column=u,d.ctx=f,d.innerNodes=jL(d.column.hierarchy),d.innerNodePaths=d.innerNodes.map((function(_){return _.path})),d.before=u.getCutOff(),d}return xq(s,p),s.prototype.build=function(u){var l=this.ctx.sanitize;u.insertAdjacentHTML("beforeend",`
        <input type="text" value="`.concat(l(this.before.node.label),'" required="required" autofocus="autofocus" list="ui').concat(this.ctx.idPrefix,`lineupHierarchyList" placeholder="cut off node">
        <input type="number" value="`).concat(isFinite(this.before.maxDepth)?this.before.maxDepth:"",`" placeholder="max depth (&infin;)">
        <datalist id="ui`).concat(this.ctx.idPrefix,'lineupHierarchyList">').concat(this.innerNodes.map((function(d){return'<option value="'.concat(l(d.path),'">').concat(l(d.label),"</option>")})),"</datalist>"));var f=this.innerNodePaths;this.findInput('input[type="text"]').addEventListener("change",(function(){var d=this.value;f.indexOf(d)<0?this.setCustomValidity("invalid node"):this.setCustomValidity("")}),{passive:!0}),this.enableLivePreviews("input[type=text],input[type=number]")},s.prototype.reset=function(){this.findInput('input[type="text"]').value=this.column.hierarchy.path,this.findInput('input[type="number"]').value=""},s.prototype.cancel=function(){this.column.setCutOff(this.before)},s.prototype.submit=function(){var u=this.findInput('input[type="text"]').value,l=this.innerNodePaths.indexOf(u),f=this.innerNodes[l],d=this.findInput('input[type="number"]').value,_=d===""?Number.POSITIVE_INFINITY:Number.parseInt(d,10);return this.column.setCutOff({node:f,maxDepth:_}),!0},s})(Er);const Tq=Eq;var Cq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Aq=(function(p){function s(u,l,f){var d,_=p.call(this,l,{livePreview:"filter",cancelSubDialogs:!0})||this;return _.column=u,_.ctx=f,_.handler=null,_.before=(d=_.column.getFilter())!==null&&d!==void 0?d:yi(),_}return Cq(s,p),s.prototype.build=function(u){u.classList.add(z("dialog-mapper")),this.handler=(function(l,f,d,_){var w=Qg(l),x=l.getFilter(),T=[isFinite(x.min)?x.min:0,isFinite(x.max)?x.max:100],M=ty(l,d,T),N=M.setFilter,I=vf(l,T);M.setFilter=function(Q,nt,ot){I={filterMissing:Q,filterMin:nt,filterMax:ot},_&&N(Q,nt,ot)},f.innerHTML="".concat(w.template).concat(Xg(M,vf(l,T)),"</div>");var G=f.firstElementChild;G.classList.add(z("summary"),z("renderer")),G.dataset.renderer="histogram",G.dataset.interactive="",G.classList.add(z("histogram-i"));var B=null,U=function(){var Q=d.tasks.summaryDateStats(l).then((function(nt){if(typeof nt!="symbol"){var ot=nt.summary,ft=nt.data;B||(Et=ft.min,At=ft.max,T=[Et?Et.getTime():Date.now(),At?At.getTime():Date.now()],M=ty(l,d,T),N=M.setFilter,I=vf(l,T),M.setFilter=function(Ot,Wt,ct){I={filterMissing:Ot,filterMin:Wt,filterMax:ct},_&&N(Ot,Wt,ct)},B=Zg(G,M)),B(ft?ft.missing:ot?ot.missing:0,I),G.classList.toggle(z("missing"),!ot),ot&&w.render(G,ot,ft)}var Et,At}));Q&&(G.classList.add(Se("loading")),Q.then((function(){G.classList.remove(Se("loading"))})))},$=l.findMyRanker();return $&&$.on("".concat(he.EVENT_ORDER_CHANGED,".numberFilter"),(function(){return U()})),U(),{cleanUp:function(){$&&$.on("".concat(he.EVENT_ORDER_CHANGED,".numberFilter"),null)},reset:function(){I=vf(l,T,yi()),U()},submit:function(){N(I.filterMissing,I.filterMin,I.filterMax)}}})(this.column,u,{dialogManager:this.ctx.dialogManager,idPrefix:this.ctx.idPrefix,tasks:this.ctx.provider.getTaskExecutor(),sanitize:this.ctx.sanitize},this.showLivePreviews())},s.prototype.cleanUp=function(u){p.prototype.cleanUp.call(this,u),this.handler.cleanUp()},s.prototype.reset=function(){this.handler.reset()},s.prototype.submit=function(){return this.handler.submit(),!0},s.prototype.cancel=function(){this.column.setFilter(this.before)},s})(Er);const Dq=Aq;var Mq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const Lq=(function(p){function s(u,l,f){var d=p.call(this,l)||this;return d.column=u,d.ctx=f,d.before=d.column.getPattern(),d}return Mq(s,p),s.prototype.build=function(u){var l=this.column.patternTemplates,f=this.ctx.sanitize;u.insertAdjacentHTML("beforeend",`<strong>Edit Pattern (access via \${value}, \${item})</strong><input
        type="text"
        size="30"
        value="`.concat(f(this.before),`"
        required
        autofocus
        placeholder="pattern (access via \${value}, \${item})"
        `).concat(l.length>0?'list="ui'.concat(this.ctx.idPrefix,'lineupPatternList"'):"",`
      >`)),l.length>0&&u.insertAdjacentHTML("beforeend",'<datalist id="ui'.concat(this.ctx.idPrefix,'lineupPatternList">').concat(l.map((function(d){return'<option value="'.concat(f(d),'">')})),"</datalist>")),this.enableLivePreviews("input")},s.prototype.cancel=function(){this.column.setPattern(this.before)},s.prototype.reset=function(){this.node.querySelector("input").value=""},s.prototype.submit=function(){var u=this.node.querySelector("input").value;return this.column.setPattern(u),!0},s})(Er);var Nq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Rq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"group"})||this;return d.column=u,d.ctx=f,d.handlers=[],d}return Nq(s,p),s.prototype.build=function(u){for(var l=0,f=iy(this.column,"group",this.ctx);l<f.length;l++){var d=f[l],_=u.ownerDocument.createElement("strong");_.textContent=d.title,this.node.insertAdjacentElement("beforeend",_),this.handlers.push(d.append(this.column,this.node,this.dialog,this.ctx))}this.handlers.push((function(M,N,I){var G=N.findMyRanker(),B=G.getGroupCriteria(),U=B.indexOf(N),$=U>=0;U<0&&(U=B.length);var Q=Vg(I);M.insertAdjacentHTML("afterbegin",`
        <strong>Group By</strong>
        <label class="`.concat(z("checkbox"),'"><input type="radio" name="grouped" value="true" ').concat($?"checked":"",` ><span>Enabled</span></label>
        <label class="`).concat(z("checkbox"),'"><input type="radio" name="grouped" value="false" ').concat($?"":"checked",` ><span>Disabled</span></label>
        <strong>Group Priority</strong>
        <input type="number" id="`).concat(Q,'P" step="1" min="1" max="').concat(B.length+1,'" value="').concat(U+1,`">
    `));var nt=function(ot){qi(M,"input:not([name=grouped]), select, textarea",(function(ft){ft.disabled=ot}))};return nt(!$),qi(M,"input[name=grouped]",(function(ot){ot.addEventListener("change",(function(){var ft=ot.value==="true";nt(!ft)}),{passive:!0})})),{elems:"input[name=grouped], #".concat(Q,"P"),submit:function(){var ot=M.querySelector("input[name=grouped]:checked").value==="true",ft=Number.parseInt(M.querySelector("#".concat(Q,"P")).value,10)-1;return G.groupBy(N,ot?ft:-1),!0},reset:function(){M.querySelector("input[name=grouped][value=false]").checked=!0,M.querySelector("#".concat(Q,"P")).value=(B.length+($?0:1)).toString(),nt(!0)},cancel:function(){G.groupBy(N,B.indexOf(N))}}})(u,this.column,this.dialog.idPrefix));for(var w=0,x=this.handlers;w<x.length;w++){var T=x[w];this.enableLivePreviews(T.elems)}},s.prototype.submit=function(){for(var u=0,l=this.handlers;u<l.length;u++)if(l[u].submit()===!1)return!1;return!0},s.prototype.cancel=function(){for(var u=0,l=this.handlers;u<l.length;u++)l[u].cancel()},s.prototype.reset=function(){for(var u=0,l=this.handlers;u<l.length;u++)l[u].reset()},s})(Er);const Iq=Rq;var Oq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Hs=function(){return Hs=Object.assign||function(p){for(var s,u=1,l=arguments.length;u<l;u++)for(var f in s=arguments[u])Object.prototype.hasOwnProperty.call(s,f)&&(p[f]=s[f]);return p},Hs.apply(this,arguments)};function oy(p){return Math.max(Math.min(p,100),0)}var Pq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"dataMapping"})||this;return d.line=u,d.adapter=f,d.dialog.attachment.classList.add(z("mapping-line-selected")),d.before={domain:d.line.domain,range:d.line.range},d}return Oq(s,p),s.prototype.build=function(u){var l=this,f=this.adapter.domain();u.insertAdjacentHTML("beforeend",`
        <button class="`.concat(z("dialog-button"),' lu-action-remove" title="Remove" type="button" ').concat(this.line.frozen?'style="display: none"':"",` ><span style="margin-left: 3px">Remove Mapping Line</span></button>
        <strong>Input Domain Value (min ... max)</strong>
        <input type="number" value="`).concat(this.adapter.formatter(this.adapter.unnormalizeRaw(this.line.domain)),'" ').concat(this.line.frozen?"readonly disabled":"",' autofocus required min="').concat(f[0],'" max="').concat(f[1],`" step="any">
        <strong>Output Normalized Value (0 ... 1)</strong>
        <input type="number" value="`).concat(Vt(this.line.range/100,3),`" required min="0" max="1" step="any">
      `)),this.find("button").addEventListener("click",(function(){l.destroy("confirm"),l.line.destroy()}),{passive:!0}),this.enableLivePreviews("input")},s.prototype.cleanUp=function(u){p.prototype.cleanUp.call(this,u),this.dialog.attachment.classList.remove(z("mapping-line-selected"))},s.prototype.cancel=function(){this.line.update(this.before.domain,this.before.range,!0)},s.prototype.reset=function(){this.findInput("input[type=number]").value=Vt(this.adapter.unnormalizeRaw(this.before.domain),3).toString(),this.findInput("input[type=number]:last-of-type").value=Vt(this.before.range/100,3).toString()},s.prototype.submit=function(){if(!this.node.checkValidity())return!1;var u=this.adapter.normalizeRaw(this.findInput("input[type=number]").valueAsNumber),l=100*this.findInput("input[type=number]:last-of-type").valueAsNumber;return this.line.update(u,l,!0),!0},s})(Er),lI=(function(){function p(s,u,l,f){var d=this;this.domain=u,this.range=l,this.adapter=f,s.insertAdjacentHTML("beforeend",'<g class="'.concat(z("dialog-mapper-mapping"),'" transform="translate(').concat(u,`,0)">
      <line x1="0" x2="`).concat(l-u,'" y2="').concat(52,`"></line>
      <line x1="0" x2="`).concat(l-u,'" y2="').concat(52,`"></line>
      <circle r="2"></circle>
      <circle cx="`).concat(l-u,'" cy="').concat(52,`" r="2"></circle>
      <text class="`).concat(z("dialog-mapper-mapping-domain")," ").concat(u>25&&u<75?z("dialog-mapper-mapping-middle"):"").concat(u>75?z("dialog-mapper-mapping-right"):"",`" dy="-3">
        `).concat(this.adapter.formatter(this.adapter.unnormalizeRaw(u)),`
      </text>
      <text class="`).concat(z("dialog-mapper-mapping-range")," ").concat(l>25&&l<75?z("dialog-mapper-mapping-middle"):"").concat(l>50?z("dialog-mapper-mapping-right"):"",'" dy="3" x="').concat(l-u,'" y="').concat(52,`">
        `).concat(Vt(l/100,3),`
      </text>
      <title>Drag the anchor circle to change the mapping, double click to edit</title>
    </g>`)),this.node=s.lastElementChild,this.node.classList.toggle(z("frozen"),Kt(0,u)||Kt(u,100));var _,w,x,T,M=function(I){return 100*I/s.getBoundingClientRect().width},N={container:s.parentElement,filter:function(I){return I.button===0&&!I.shiftKey},onStart:function(I,G){_=d.domain,w=d.range;var B=M(G);x=d.domain-B,T=d.range-B},onEnd:function(){Kt(_,d.domain)&&Kt(w,d.range)||d.adapter.updated(d)}};Tp(this.node.querySelector("line:first-of-type"),Hs(Hs({},N),{onDrag:function(I,G){var B=M(G);d.update(oy(B+x),oy(B+T))}})),Tp(this.node.querySelector("circle:first-of-type"),Hs(Hs({},N),{onDrag:function(I,G){var B=M(G);d.update(oy(B),d.range)}})),Tp(this.node.querySelector("circle:last-of-type"),Hs(Hs({},N),{onDrag:function(I,G){var B=M(G);d.update(d.domain,oy(B))}})),this.node.onclick=function(I){I.shiftKey&&d.openDialog()},this.node.ondblclick=function(){d.openDialog()}}return p.prototype.openDialog=function(){var s={manager:this.adapter.dialog.manager,level:this.adapter.dialog.level+1,attachment:this.node,idPrefix:this.adapter.dialog.idPrefix,sanitize:this.adapter.dialog.sanitize};new Pq(this,s,this.adapter).open()},Object.defineProperty(p.prototype,"frozen",{get:function(){return this.node.classList.contains(z("frozen"))},enumerable:!1,configurable:!0}),p.prototype.destroy=function(s){s===void 0&&(s=!1),this.node.remove(),s||this.adapter.destroyed(this)},p.prototype.update=function(s,u,l){if(l===void 0&&(l=!1),Kt(s,100)&&(s=100),Kt(s,0)&&(s=0),Kt(u,100)&&(u=100),Kt(u,0)&&(u=0),!Kt(s,this.domain)||!Kt(u,this.range)){this.frozen&&(s=this.domain),this.domain=s,this.range=u,this.node.setAttribute("transform","translate(".concat(s,",0)"));var f=u-s;Array.from(this.node.querySelectorAll("line")).forEach((function(w){return w.setAttribute("x2",String(f))})),this.node.querySelector("circle[cx]").setAttribute("cx",String(f));var d=this.node.querySelector("text");d.textContent=this.adapter.formatter(this.adapter.unnormalizeRaw(s)),d.classList.toggle(z("dialog-mapper-mapping-right"),s>75),d.classList.toggle(z("dialog-mapper-mapping-middle"),s>=25&&s<=75);var _=this.node.querySelector("text[x]");_.textContent=Vt(u/100,3).toString(),_.classList.toggle(z("dialog-mapper-mapping-right"),u>75),_.classList.toggle(z("dialog-mapper-mapping-middle"),u>=25&&u<=75),_.setAttribute("x",String(f)),l&&this.adapter.updated(this)}},p})(),kq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const Vq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"dataMapping",cancelSubDialogs:!0})||this;d.column=u,d.mappingLines=[],d.mappingAdapter={destroyed:function(w){d.mappingLines.splice(d.mappingLines.indexOf(w),1),d.updateLines(d.computeScale())},updated:function(){return d.updateLines(d.computeScale())},domain:function(){return d.rawDomain},normalizeRaw:d.normalizeRaw.bind(d),unnormalizeRaw:d.unnormalizeRaw.bind(d),dialog:d.dialog,formatter:d.column.getNumberFormat()},d.idPrefix="me".concat(f.idPrefix),d.before=d.column.getMapping().clone(),d.scale=d.column.getMapping().clone();var _=d.scale.domain;return d.rawDomain=[_[0],_[_.length-1]],d.data=Promise.resolve(f.provider.mappingSample(u)),d}return kq(s,p),Object.defineProperty(s.prototype,"scaleType",{get:function(){if(this.scale instanceof Qc)return"script";if(this.scale instanceof zr){var u=this.scale.scaleType;if(u!=="linear")return u;var l=this.scale.range;return l.length===2&&l[0]===1&&l[1]===0?"linear_invert":l.length===3&&l[0]===1&&l[1]===0&&l[2]===1?"linear_abs":"linear"}return"unknown"},enumerable:!1,configurable:!0}),s.prototype.build=function(u){var l=this;u.classList.add(z("dialog-mapper"));var f=this.column.findMyRanker(),d=f?f.flatColumns.filter((function(M){return Ze(M)&&M!==l.column})):[];u.insertAdjacentHTML("beforeend",`
        <div><label for="`.concat(this.idPrefix,'mapping_type"><strong>Normalization Scaling:</strong></label><select id="').concat(this.idPrefix,`mapping_type" class="browser-default">
        <option value="linear">Linear</option>
        <option value="linear_invert">Invert</option>
        <option value="linear_abs">Absolute</option>
        <option value="log">Log</option>
        <option value="pow1.1">Pow 1.1</option>
        <option value="pow2">Pow 2</option>
        <option value="pow3">Pow 3</option>
        <option value="sqrt">Sqrt</option>
        <option value="script">Custom Script</option>
        <option value="unknown">Unknown</option>
        `).concat(d.length>0?'<optgroup label="Copy From">'.concat(d.map((function(M){return'<option value="copy_'.concat(M.id,'">').concat(l.dialog.sanitize(M.label,M.desc.labelAsHTML===!0),"</option>")})).join(""),"</optgroup>"):"",`
      </select>
      </div>
        <div class="`).concat(z("dialog-mapper-warning"),`">
          Warning: All items with values outside of the input domain will be set to the min/max value of the input domain.
        </div>
        <div class="`).concat(z("dialog-mapper-domain"),`">
          <input id="`).concat(this.idPrefix,'min" required type="number" value="').concat(Vt(this.rawDomain[0],3),`" step="any">
          <span>Input Domain (min - max)</span>
          <input id="`).concat(this.idPrefix,'max" required type="number" value="').concat(Vt(this.rawDomain[1],3),`" step="any">
        </div>
        <svg class="`).concat(z("dialog-mapper-details"),`" viewBox="0 0 106 66">
           <g transform="translate(3,7)">
              <rect y="-3" width="100" height="10">
                <title>Click to create a new mapping line</title>
              </rect>
              <rect y="49" width="100" height="10">
                <title>Click to create a new mapping line</title>
              </rect>
           </g>
        </svg>
        <div class=`).concat(z("dialog-mapper-range"),`>
          <span>Output Normalized Domain (0 - 1)</span>
        </div>
        <div class="`).concat(z("dialog-mapper-script"),`">
          <strong>Custom Normalization Script</strong>
          <textarea class="`).concat(z("textarea"),`"></textarea>
        </div>`));var _=u.querySelector(".".concat(z("dialog-mapper-details")," > g"));this.forEach(".".concat(z("dialog-mapper-details")," rect"),(function(M){return M.onclick=function(N){N.preventDefault(),N.stopPropagation();var I=M.getBoundingClientRect(),G=Vt(100*(N.x-I.left)/I.width,2),B=new lI(_,G,G,l.mappingAdapter);l.mappingLines.push(B)}}));var w=this.find("select"),x=this.find("textarea");w.onchange=function(M){var N=M.currentTarget;switch(N.value){case"linear_invert":l.scale=new zr(l.rawDomain.slice(),"linear",[1,0]);break;case"linear_abs":l.scale=new zr([l.rawDomain[0],(l.rawDomain[1]-l.rawDomain[0])/2,l.rawDomain[1]],"linear",[1,0,1]);break;case"script":var I=new Qc(l.rawDomain.slice());l.scale=I,x.value=I.code;break;case"unknown":l.scale=l.column.getOriginalMapping().clone();break;default:if(N.value.startsWith("copy_"))return void l.copyMapping(N.value.slice(5));l.scale=new zr(l.rawDomain.slice(),N.value,[0,1])}l.createMappings(),u.dataset.scale=N.value,l.updateLines()};var T=u.dataset.scale=this.scaleType;w.selectedIndex=Array.from(w.options).findIndex((function(M){return M.value===T})),T==="script"&&(x.value=this.scale.code),this.createMappings(),this.forEach("#".concat(this.idPrefix,"min, #").concat(this.idPrefix,"max"),(function(M,N){M.onchange=function(){var I=M.valueAsNumber;if(I!==l.rawDomain[N]){var G=l.rawDomain[1-N];if(Number.isNaN(I)||N===0&&I>=G||N===1&&I<=G)M.setCustomValidity("value has to be ".concat(N===0?"<= max":">= min"));else{M.setCustomValidity(""),l.rawDomain[N]=I,l.updateDomainWarning(),l.scale=l.computeScale();var B=l.scale.domain.slice();B[0]=l.rawDomain[0],B[B.length-1]=l.rawDomain[1],l.scale.domain=B,l.createMappings(),l.updateLines(),l.showLivePreviews()&&l.column.setMapping(l.scale)}}else M.setCustomValidity("")}})),this.data.then((function(M){M.forEach((function(N){Hr(N)||_.insertAdjacentHTML("afterbegin",'<line data-v="'.concat(N,'" x1="').concat(Vt(l.normalizeRaw(N),2),'" x2="').concat(Vt(100*l.scale.apply(N),2),'" y2="52"></line>'))}))})),this.updateDomainWarning()},s.prototype.updateDomainWarning=function(){var u=this.node.querySelector(".".concat(z("dialog-mapper-warning"))),l=this.column.getOriginalMapping().domain,f=this.rawDomain.some((function(d,_){return l[_]!==d}));u.style.display=f?"":"none"},s.prototype.createMappings=function(){if(this.mappingLines.splice(0,this.mappingLines.length).forEach((function(_){return _.destroy(!0)})),this.scale instanceof zr)for(var u=this.node.querySelector(".".concat(z("dialog-mapper-details")," > g")),l=this.scale.domain,f=this.scale.range,d=0;d<l.length;++d)this.mappingLines.push(new lI(u,this.normalizeRaw(l[d]),100*f[d],this.mappingAdapter))},s.prototype.update=function(){var u=this,l=this.node.dataset.scale=this.scaleType,f=this.find("select");f.selectedIndex=Array.from(f.options).findIndex((function(d){return d.value===l})),l==="script"&&(this.find("textarea").value=this.scale.code),this.forEach("input[type=number]",(function(d,_){d.value=Vt(u.rawDomain[_],3).toString()}))},s.prototype.updateLines=function(u){var l=this;u===void 0&&(u=this.scale),this.forEach(".".concat(z("dialog-mapper-details"),"  > g > line[x1]"),(function(f){var d=Number.parseFloat(f.getAttribute("data-v"));f.setAttribute("x1",Vt(l.normalizeRaw(d),2).toString()),f.setAttribute("x2",Vt(100*u.apply(d),2).toString())}))},s.prototype.reset=function(){this.scale=this.column.getOriginalMapping().clone();var u=this.scale.domain;this.rawDomain=[u[0],u[u.length-1]],this.update(),this.createMappings(),this.updateLines(),this.updateDomainWarning()},s.prototype.copyMapping=function(u){var l=this.column.findMyRanker();if(l){var f=l.find(u);this.scale=f.getMapping().clone(),this.rawDomain=this.scale.domain.slice(),this.update(),this.createMappings(),this.updateLines()}},s.prototype.normalizeRaw=function(u){var l=100*(u-this.rawDomain[0])/(this.rawDomain[1]-this.rawDomain[0]);return Math.max(Math.min(l,100),0)},s.prototype.unnormalizeRaw=function(u){return u*(this.rawDomain[1]-this.rawDomain[0])/100+this.rawDomain[0]},s.prototype.computeScale=function(){var u=this,l=this.scaleType;if(l==="script")return new Qc(this.rawDomain.slice(),this.node.querySelector("textarea").value);this.mappingLines.sort((function(_,w){return _.domain-w.domain}));var f=this.mappingLines.map((function(_){return u.unnormalizeRaw(_.domain)})),d=this.mappingLines.map((function(_){return _.range/100}));return new zr(f,l,d)},s.prototype.submit=function(){if(!this.node.checkValidity())return!1;var u=this.computeScale();return this.column.setMapping(u),!0},s.prototype.cancel=function(){this.column.setMapping(this.before)},s})(Er);var Gq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const Fq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"filter",cancelSubDialogs:!0})||this;return d.column=u,d.ctx=f,d.handler=null,d.before=u.getFilter(),d}return Gq(s,p),s.prototype.build=function(u){u.classList.add(z("dialog-mapper")),this.handler=(function(l,f,d,_){var w=Cp(l),x=DR(l,d);f.innerHTML="".concat(w.template).concat(Xg(x,Ap(l)),"</div>");var T=f.firstElementChild;T.classList.add(z("summary"),z("renderer")),T.dataset.renderer="histogram",T.dataset.interactive="",T.classList.add(z("histogram-i"));var M=x.setFilter,N=Ap(l);x.setFilter=function(U,$,Q){N={filterMissing:U,filterMin:$,filterMax:Q},_&&M(U,$,Q)};var I=Zg(T,x),G=function(){var U=d.tasks.summaryNumberStats(l,!0).then((function($){if(typeof $!="symbol"){var Q=$.summary,nt=$.data;I(nt?nt.missing:Q?Q.missing:0,N),T.classList.toggle(z("missing"),!Q),Q&&w.render(T,Q,nt)}}));U&&(T.classList.add(Se("loading")),U.then((function(){T.classList.remove(Se("loading"))})))},B=l.findMyRanker();return B&&B.on("".concat(he.EVENT_ORDER_CHANGED,".numberFilter"),(function(){return G()})),G(),{cleanUp:function(){B&&B.on("".concat(he.EVENT_ORDER_CHANGED,".numberFilter"),null)},reset:function(){N=Ap(l,yi()),G()},submit:function(){M(N.filterMissing,N.filterMin,N.filterMax)}}})(this.column,u,{dialogManager:this.ctx.dialogManager,idPrefix:this.ctx.idPrefix,tasks:this.ctx.provider.getTaskExecutor(),sanitize:this.ctx.sanitize},this.showLivePreviews())},s.prototype.cleanUp=function(u){p.prototype.cleanUp.call(this,u),this.handler.cleanUp()},s.prototype.reset=function(){this.handler.reset()},s.prototype.submit=function(){return this.handler.submit(),!0},s.prototype.cancel=function(){this.column.setFilter(this.before)},s})(Er);function uI(p,s,u){var l=s.getSortMethod();return u.forEach((function(f){return p.insertAdjacentHTML("beforeend",'<label class="'.concat(z("checkbox"),'"><input type="radio" name="multivaluesort" value="').concat(f,'"  ').concat(l===f?"checked":""," ><span>").concat(Qr(f),"</span></label>"))})),qi(p,"input[name=multivaluesort]",(function(f){f.addEventListener("change",(function(){return s.setSortMethod(f.value)}),{passive:!0})})),{elems:"input[name=multivaluesort]",submit:function(){var f=p.querySelector("input[name=multivaluesort]:checked").value;return s.setSortMethod(f),!0},cancel:function(){s.setSortMethod(l)},reset:function(){p.querySelector('input[name=multivaluesort][value="'.concat(l,'"]')).checked=!0}}}var Bq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const Hq=(function(p){function s(u,l){var f=p.call(this,l,{livePreview:"reduce"})||this;return f.column=u,f.handler=null,f}return Bq(s,p),s.prototype.build=function(u){var l=this,f={getSortMethod:function(){return l.column.getReduce()},setSortMethod:function(d){return l.column.setReduce(d)}};this.handler=uI(u,f,Object.keys(tn)),this.enableLivePreviews(this.handler.elems)},s.prototype.submit=function(){return this.handler.submit()},s.prototype.reset=function(){this.handler.reset()},s.prototype.cancel=function(){this.handler.cancel()},s})(Er);var zq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Uq=(function(p){function s(u,l){var f=p.call(this,l)||this;return f.column=u,f.before=u.getMetaData(),f}return zq(s,p),s.prototype.build=function(u){u.classList.add(z("dialog-rename")),u.insertAdjacentHTML("beforeend",`
      <input type="text" required autofocus placeholder="name">
      <input type="text" placeholder="summary" name="summary">
      <textarea class="`.concat(z("textarea"),'" rows="5" placeholder="description"></textarea>')),u.querySelector("input").value=this.column.label,u.querySelector("input:last-of-type").value=this.column.getMetaData().summary,u.querySelector("textarea").textContent=this.column.description},s.prototype.reset=function(){var u=this.column.desc,l={label:u.label||this.column.id,summary:u.summary||"",description:u.description||""};this.findInput('input[type="text"]').value=l.label,this.findInput('input[name="summary"]').value=l.summary,this.node.querySelector("textarea").value=l.description},s.prototype.submit=function(){var u=this.findInput('input[type="text"]').value,l=this.findInput('input[name="summary"]').value.trim(),f=this.node.querySelector("textarea").value;return this.column.setMetaData({label:u,description:f,summary:l}),!0},s.prototype.cancel=function(){this.column.setMetaData(this.before)},s})(Er);const Wq=Uq;var jq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const Yq=(function(p){function s(u,l){var f=p.call(this,l)||this;return f.column=u,f.before=u.getScript(),f}return jq(s,p),s.prototype.build=function(u){u.insertAdjacentHTML("beforeend",'<textarea class="'.concat(z("textarea"),'" autofocus="true" rows="5" autofocus="autofocus" style="width: 95%;">').concat(this.column.getScript(),"</textarea>"))},s.prototype.cancel=function(){this.column.setScript(this.before)},s.prototype.reset=function(){this.node.querySelector("textarea").value=this.column.desc.script||u1.DEFAULT_SCRIPT},s.prototype.submit=function(){return this.column.setScript(this.node.querySelector("textarea").value),!0},s})(Er);var $q=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),qq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"search"})||this;return d.column=u,d.provider=f,d.current=null,d}return $q(s,p),s.prototype.build=function(u){var l,f=this,d=((l=this.current)===null||l===void 0?void 0:l.filterType)||et.contains;u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("string-search-dialog"),`">
        <input type="text" size="20" value="" required autofocus placeholder="Enter a search term...">
        <div class="`).concat(z("search-count"),`" hidden>
          <span class="`).concat(z("search-current"),'"></span>/<span class="').concat(z("search-total"),`"></span>
        </div>
        <button type="button" class="`).concat(z("previous-result"),'" title="Previous search result" disabled>').concat(Kn("Previous search result"),`</button>
        <button type="submit" class="`).concat(z("next-result"),'" title="Next search result" disabled>').concat(Kn("Next search result"),`</button>
      </div>
      <details class="`).concat(z("string-advanced-options"),`">
      <summary>Advanced options</summary>
      <span class="`).concat(z("search-options-title"),`">Find rows that &hellip;</span>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(et.contains,'" ').concat(d===et.contains?'checked="checked"':"",`>
        <span>Contain the search terms</span>
      </label>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(et.exact,'" ').concat(d===et.exact?'checked="checked"':"",`>
        <span>Exactly match the search terms</span>
      </label>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(et.startsWith,'" ').concat(d===et.startsWith?'checked="checked"':"",`>
        <span>Start with the search terms</span>
      </label>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(et.regex,'" ').concat(d===et.regex?'checked="checked"':"",`>
        <span>Match as regular expression</span>
      </label>
    </details>`));var _=u.querySelector('input[type="text"]'),w=u.querySelectorAll('input[name="searchOptions"]'),x=u.querySelector(".".concat(z("previous-result"))),T=u.querySelector(".".concat(z("next-result"))),M=function(){_.value.length!==0?_.setCustomValidity(""):_.setCustomValidity("Enter a search term")};_.addEventListener("input",M,{passive:!0}),w.forEach((function(N){N.addEventListener("change",(function(){f.current.filterType=N.value,M(),f.searchAndJump()}),{passive:!0})})),x.addEventListener("click",(function(N){N.preventDefault(),N.stopPropagation(),f.jumpToPreviousResult()})),T.addEventListener("click",(function(N){N.preventDefault(),N.stopPropagation(),f.jumpToNextResult()})),this.enableLivePreviews((function(N,I,G){for(var B,U=0,$=I.length;U<$;U++)!B&&U in I||(B||(B=Array.prototype.slice.call(I,0,U)),B[U]=I[U]);return N.concat(B||Array.prototype.slice.call(I))})([_],Array.from(w))),this.showLivePreviews()&&_.addEventListener("input",ja((function(){return f.searchAndJump()}),100),{passive:!0})},s.prototype.jumpToPreviousResult=function(){if(this.current){var u=this.find(".".concat(z("search-count"))).querySelector(".".concat(z("search-current"))),l=(this.current.index-1+this.current.indices.length)%this.current.indices.length;this.current.index=l,u.textContent=String(l+1),this.provider.jumpToNearest([this.current.indices[l]])}},s.prototype.jumpToNextResult=function(){if(this.current){var u=this.find(".".concat(z("search-count"))).querySelector(".".concat(z("search-current"))),l=(this.current.index+1)%this.current.indices.length;this.current.index=l,u.textContent=String(l+1),this.provider.jumpToNearest([this.current.indices[l]])}},s.prototype.searchAndJump=function(){var u=this.findInput('input[type="text"]'),l=this.node.querySelector('input[name="searchOptions"]:checked'),f=this.find(".".concat(z("previous-result"))),d=this.find(".".concat(z("next-result"))),_=this.find(".".concat(z("search-count"))),w=l?.value||et.contains,x=w==et.regex?new RegExp(u.value,"mi"):u.value;if(x instanceof RegExp)x.lastIndex=0;else if(x.length===0)return this.current=null,f.disabled=!0,d.disabled=!0,_.hidden=!0,!1;var T=this.provider.searchAndJump(x,this.column,!0,w);if(T){this.current={search:x,filterType:w,indices:T,index:0};var M=_.querySelector(".".concat(z("search-current"))),N=_.querySelector(".".concat(z("search-total")));return M.textContent=String(T.length<1?this.current.index:this.current.index+1),N.textContent=String(T.length),_.hidden=!1,f.disabled=T.length<1,d.disabled=T.length<1,T.length>1}return this.current=null,_.hidden=!0,f.disabled=!0,d.disabled=!0,!0},s.prototype.submit=function(){return!0},s.prototype.reset=function(){this.provider.jumpToNearest([-1]);var u=this.findInput('input[type="text"]'),l=this.find(".".concat(z("previous-result"))),f=this.find(".".concat(z("next-result"))),d=this.find(".".concat(z("search-count")));this.current=null,u.value="";var _=this.node.querySelector('input[name="searchOptions"][value="'.concat(et.contains,'"]'));_&&(_.checked=!0),l.disabled=!0,f.disabled=!0,d.hidden=!0},s.prototype.cancel=function(){},s})(Er);const Xq=qq;var Zq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Kq=(function(p){function s(u,l){var f=p.call(this,l)||this;return f.provider=u,f.before=f.provider.getShowTopN(),f}return Zq(s,p),s.prototype.build=function(u){u.classList.add(z("dialog-rename")),u.insertAdjacentHTML("beforeend",`
      <input type="number" min="0" step="1" value="`.concat(this.dialog.sanitize(String(this.before)),'">')),this.enableLivePreviews("input")},s.prototype.cancel=function(){this.provider.setShowTopN(this.before)},s.prototype.submit=function(){var u=this.findInput("input").valueAsNumber;return this.provider.setShowTopN(u),!0},s.prototype.reset=function(){this.findInput("input").value="10"},s})(Er);const Jq=Kq;var Qq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),tX=(function(p){function s(u,l,f,d){var _=p.call(this,f,{livePreview:l?"groupSort":"sort"})||this;return _.column=u,_.groupSortBy=l,_.ctx=d,_.handlers=[],_}return Qq(s,p),s.prototype.build=function(u){for(var l=0,f=iy(this.column,this.groupSortBy?"sortGroup":"sort",this.ctx);l<f.length;l++){var d=f[l],_=this.node.ownerDocument.createElement("strong");_.textContent=d.title,this.node.insertAdjacentElement("beforeend",_),this.handlers.push(d.append(this.column,this.node,this.dialog,this.ctx))}this.handlers.push((function(M,N,I,G){G===void 0&&(G=!1);var B=N.findMyRanker(),U=G?B.getGroupSortCriteria():B.getSortCriteria(),$=Object.assign({},G?N.isGroupSortedByMe():N.isSortedByMe()),Q=$.priority===void 0?U.length:$.priority,nt=Vg(I);M.insertAdjacentHTML("afterbegin",`
        <strong>Sort Order</strong>
        <label class="`.concat(z("checkbox"),'"><input type="radio" name="sortorder" value="asc"  ').concat($.asc==="asc"?"checked":"",` ><span>Ascending</span></label>
        <label class="`).concat(z("checkbox"),'"><input type="radio" name="sortorder" value="desc"  ').concat($.asc==="desc"?"checked":"",` ><span>Descending</span></label>
        <label class="`).concat(z("checkbox"),'"><input type="radio" name="sortorder" value="none"  ').concat($.asc===void 0?"checked":"",` ><span>Unsorted</span></label>
        <strong>Sort Priority</strong>
        <input type="number" id="`).concat(nt,'P" step="1" min="1" max="').concat(U.length+1,'" value="').concat(Q+1,`">
    `));var ot=function(ft){qi(M,"input:not([name=sortorder]), select, textarea",(function(Et){Et.disabled=ft}))};return ot($.asc===void 0),qi(M,"input[name=sortorder]",(function(ft){ft.addEventListener("change",(function(){ot(ft.value==="none")}),{passive:!0})})),{elems:"input[name=sortorder], #".concat(nt,"P"),submit:function(){var ft=M.querySelector("input[name=sortorder]:checked").value,Et=Number.parseInt(M.querySelector("#".concat(nt,"P")).value,10)-1;return G?B.groupSortBy(N,ft==="asc",ft==="none"?-1:Et):B.sortBy(N,ft==="asc",ft==="none"?-1:Et),!0},reset:function(){M.querySelector("input[name=sortorder][value=none]").checked=!0,M.querySelector("#".concat(nt,"P")).value=(U.length+($.priority===void 0?1:0)).toString(),ot(!0)},cancel:function(){G?B.groupSortBy(N,$.asc==="asc",$.asc===void 0?-1:$.priority):B.sortBy(N,$.asc==="asc",$.asc===void 0?-1:$.priority)}}})(u,this.column,this.dialog.idPrefix,this.groupSortBy));for(var w=0,x=this.handlers;w<x.length;w++){var T=x[w];this.enableLivePreviews(T.elems)}},s.prototype.submit=function(){for(var u=0,l=this.handlers;u<l.length;u++)if(l[u].submit()===!1)return!1;return!0},s.prototype.cancel=function(){for(var u=0,l=this.handlers;u<l.length;u++)l[u].cancel()},s.prototype.reset=function(){for(var u=0,l=this.handlers;u<l.length;u++)l[u].reset()},s})(Er);const cI=tX;var eX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const rX=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"filter"})||this;return d.column=u,d.ctx=f,d.before=d.column.getFilter(),d}return eX(s,p),s.prototype.updateFilter=function(u,l,f){f===void 0&&(f=et.contains),u!=null||l?this.column.setFilter({filter:u,filterMissing:l,filterType:f}):this.column.setFilter(null)},s.prototype.reset=function(){this.findInput('input[type="text"]').value="",this.forEach("input[type=checkbox]",(function(l){return l.checked=!1}));var u=this.node.querySelector('input[name="searchOptions"][value="'.concat(et.contains,'"]'));u&&(u.checked=!0)},s.prototype.cancel=function(){this.before?this.updateFilter(this.before.filter===""?null:this.before.filter,this.before.filterMissing,this.before.filterType||et.contains):this.updateFilter(null,!1,et.contains)},s.prototype.submit=function(){var u=wp(this.node).checked,l=this.findInput('input[type="text"]').value,f=this.node.querySelector('input[name="searchOptions"]:checked'),d=f?.value||et.contains;return this.updateFilter((function(_,w){var x=_.trim();return x===""?null:w===et.regex?new RegExp(x,"mi"):x})(l,d),u,d),!0},s.prototype.build=function(u){var l=this,f=this.ctx.sanitize,d=this.column.getFilter()||{filter:"",filterMissing:!1,filterType:et.contains},_=d.filterType||et.contains,w=d.filter instanceof RegExp?et.regex:_;u.insertAdjacentHTML("beforeend",'<input type="text" placeholder="Filter '.concat(f(this.column.desc.label),` " autofocus
         value="`).concat(R1(d),'" list="').concat(this.dialog.idPrefix,`_sdl">
    `).concat(M1(d.filterMissing),`
    <datalist id="`).concat(this.dialog.idPrefix,`_sdl"></datalist>
    <details class="`).concat(z("string-advanced-options"),`">
      <summary>Advanced options</summary>
      <span class="`).concat(z("search-options-title"),`">Find rows that &hellip;</span>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(et.contains,'" ').concat(w===et.contains?'checked="checked"':"",`>
        <span>Contain the search terms</span>
      </label>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(et.exact,'" ').concat(w===et.exact?'checked="checked"':"",`>
        <span>Exactly match the search terms</span>
      </label>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(et.startsWith,'" ').concat(w===et.startsWith?'checked="checked"':"",`>
        <span>Start with the search terms</span>
      </label>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(et.regex,'" ').concat(w===et.regex?'checked="checked"':"",`>
        <span>Match as regular expression</span>
      </label>
    </details>`));var x=wp(u),T=u.querySelector('input[type="text"]'),M=u.querySelectorAll('input[name="searchOptions"]'),N=u.querySelector("datalist");this.ctx.provider.getTaskExecutor().summaryStringStats(this.column).then((function(I){if(typeof I!="symbol"){var G=I.summary;jN(N,G.topN)}})),this.enableLivePreviews((function(I,G,B){for(var U,$=0,Q=G.length;$<Q;$++)!U&&$ in G||(U||(U=Array.prototype.slice.call(G,0,$)),U[$]=G[$]);return I.concat(U||Array.prototype.slice.call(G))})([x,T],Array.from(M))),this.showLivePreviews()&&T.addEventListener("input",ja((function(){l.findInput('input[type="text"]').value.length>0&&!l.before&&(wp(l.node).checked=!0),l.submit()}),100),{passive:!0})},s})(Er);var nX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),iX=(function(p){function s(u,l){var f=p.call(this,l)||this;return f.column=u,f.weights=f.column.getWeights(),f}return nX(s,p),s.prototype.cancel=function(){this.column.setWeights(this.weights.slice())},s.prototype.reset=function(){var u=100/this.weights.length;qi(this.node,"input[type=number]",(function(l){var f=Vt(u,2);l.value=String(f),l.nextElementSibling.firstElementChild.style.width="".concat(f,"%")}))},s.prototype.build=function(u){var l=this,f=this.column.children;u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-table"),`">
        `).concat(this.weights.map((function(_,w){return'<div class="'.concat(z("dialog-weights-table-entry"),`">
          <input type="number" value="`).concat(Vt(100*_,2),`" min="0" max="100" step="any" required>
          <span class="`).concat(z("dialog-filter-color-bar"),`">
            <span style="background-color: `).concat(A1(f[w]),"; width: ").concat(Vt(100*_,2),`%"></span>
          </span>
          `).concat(l.dialog.sanitize(f[w].label),`
        </div>`)})).join(""),`
    </div>`));var d=Array.from(this.node.querySelectorAll("input[type=number]"));d.forEach((function(_,w){_.oninput=function(){var x=_.valueAsNumber;if(x<=0?_.setCustomValidity("weight cannot be zero"):_.setCustomValidity(""),l.updateBar(_),d.length===2){var T=100-x;T<=0?_.setCustomValidity("weight cannot be 100 in case of two elements"):_.setCustomValidity("");var M=d[1-w];M.value=Vt(T,2).toString(),l.updateBar(M)}}}))},s.prototype.updateBar=function(u){u.nextElementSibling.firstElementChild.style.width="".concat(u.value,"%")},s.prototype.distributeWeights=function(){var u=Array.from(this.node.querySelectorAll("input[type=number]")).map((function(U){return{input:U,weight:U.value?U.valueAsNumber:NaN}}));if(u.some((function(U){return Number.isNaN(U.weight)}))){var l=u.filter((function(U){return Number.isNaN(U.weight)})),f=u.filter((function(U){return!Number.isNaN(U.weight)})).reduce((function(U,$){return U+$.weight}),0);if(f<100){for(var d=(100-f)/l.length,_=0,w=l;_<w.length;_++)(B=w[_]).input.value=Vt(d,2).toString(),this.updateBar(B.input);return}for(var x=0,T=l;x<T.length;x++)(B=T[x]).input.value="0",this.updateBar(B.input)}var M=u.map((function(U){return U.weight}));if(!fI(M))for(var N=M.reduce((function(U,$){return U+$}),0),I=0,G=u;I<G.length;I++){var B;(B=G[I]).input.value=Vt(100*B.weight/N,2).toString(),this.updateBar(B.input)}},s.prototype.appendDialogButtons=function(){var u=this;p.prototype.appendDialogButtons.call(this);var l=this.node.querySelector(".".concat(z("dialog-buttons")));l.insertAdjacentHTML("beforeend",'<button class="'.concat(z("dialog-button")," ").concat(z("dialog-weights-distribute-button"),'" type="button" title="distribute weights"></button>')),l.lastElementChild.onclick=function(f){f.preventDefault(),f.stopPropagation(),u.distributeWeights()}},s.prototype.submit=function(){for(var u=Array.from(this.node.querySelectorAll("input[type=number]")).map((function(x){return{input:x,weight:x.valueAsNumber}})),l=!1,f=0,d=u;f<d.length;f++){var _=d[f];_.weight<=0?(_.input.setCustomValidity("weight cannot be zero"),l=!0):_.input.setCustomValidity("")}var w=u.map((function(x){return x.weight}));return l||fI(w)||(u[u.length-1].input.setCustomValidity("sum of weights has to be 100, change weights or use the redistribute button to fix"),l=!0),l?(typeof this.node.reportValidity=="function"&&this.node.reportValidity(),!1):(this.column.setWeights(w.map((function(x){return x/100}))),!0)},s})(Er);const aX=iX;function fI(p){return Math.abs(p.reduce((function(s,u){return s+u}),0)-100)<3}var oX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),sX=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"filter"})||this;return d.column=u,d.ctx=f,d.before=d.column.getFilter(),d}return oX(s,p),s.prototype.updateFilter=function(u){this.column.setFilter(u)},s.prototype.reset=function(){this.findInput("input[value=none]").checked=!0},s.prototype.cancel=function(){this.before?this.updateFilter(this.before):this.updateFilter(null)},s.prototype.submit=function(){var u,l,f=(l=(u=this.findInput("input[name=mode]:checked"))===null||u===void 0?void 0:u.value)!==null&&l!==void 0?l:"keep";return f==="none"?this.updateFilter(null):f==="update"&&this.updateFilter(this.ctx.provider.getSelection()),!0},s.prototype.guessRemoveFilter=function(){var u=this,l=this.ctx.provider.getTotalNumberOfRows();return this.column.findMyRanker().flatColumns.some((function(f){return f.isFiltered()&&f!==u.column}))?"?":l.toLocaleString()},s.prototype.build=function(u){var l,f=(l=this.column.getFilter())!==null&&l!==void 0?l:[],d=this.ctx.provider.getSelection().length,_=this.ctx.provider.getTotalNumberOfRows(),w=this.column.findMyRanker().getOrderLength();if(d===0&&f.length===0)u.insertAdjacentText("beforeend","Select rows to apply this filter");else if(d>0&&f.length===0)u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-table"),`">
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry")," ").concat(z("dialog-table-entry-wide"),`">
          <input type="radio" checked="checked" name="mode" value="none">
          <span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`">No filter</div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),'">').concat(w.toLocaleString(),"/").concat(_.toLocaleString(),`</div>
          </span>
        </label>
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry")," ").concat(z("dialog-table-entry-wide"),`">
          <input type="radio" name="mode" value="update">
          <span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`">Set filter to current selection</div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),'">').concat(d.toLocaleString(),"/").concat(_.toLocaleString(),`</div>
          </span>
        </label>
      </div>`));else{var x=this.guessRemoveFilter();u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-table"),`" >
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry")," ").concat(z("dialog-table-entry-wide"),`">
          <input type="radio" `).concat(f.length===0?'checked="checked"':"",` name="mode" value="none">
          <span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`">Remove filter</div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),'">').concat(x,"/").concat(_.toLocaleString(),`</div>
          </span>
        </label>
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry")," ").concat(z("dialog-table-entry-wide"),`">
          <input type="radio" `).concat(f.length>0?'checked="checked"':"",` name="mode" value="keep">
          <span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`">Keep current filter</div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),'">').concat(f.length.toLocaleString(),"/").concat(_.toLocaleString(),`</div>
          </span>
        </label>
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry")," ").concat(z("dialog-table-entry-wide"),`">
          <input type="radio" name="mode" value="update" `).concat(d===0?'disabled="disabled"':"",`>
          <span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`">Set filter to current selection</div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),'">').concat(d.toLocaleString(),"/").concat(_.toLocaleString(),`</div>
          </span>
        </label>
      </div>`))}var T=Array.from(u.querySelectorAll("input"));this.enableLivePreviews(T)},s})(Er);const lX=sX;function Lp(p,s,u){return u===void 0&&(u={}),{title:p,onClick:s,options:u}}function Fn(p,s,u,l){return u===void 0&&(u=function(){return[]}),l===void 0&&(l={}),{title:p,onClick:function(f,d,_,w){new(s.bind.apply(s,(function(x,T,M){if(arguments.length===2)for(var N,I=0,G=T.length;I<G;I++)!N&&I in T||(N||(N=Array.prototype.slice.call(T,0,I)),N[I]=T[I]);return x.concat(N||Array.prototype.slice.call(T))})([void 0,f,Ri(_,w,d)],u(_),!1)))().open()},options:l}}var uX={title:"Sort",onClick:function(p,s,u,l){if(u.dialogManager.removeAboveLevel(l),s.ctrlKey){var f=p.findMyRanker(),d=f.getSortCriteria(),_=p.isSortedByMe(),w=Rs(p);if(_.priority!==void 0){var x;x=w?_.asc?"desc":void 0:_.asc?void 0:"asc",f.sortBy(p,x==="asc",x?_.priority:-1)}else f.sortBy(p,w,d.length)}else p.toggleMySorting()},options:{mode:"shortcut",order:1,featureCategory:"ranking",featureLevel:"basic"}},cX={title:"Sort By ",onClick:function(p,s,u,l){new cI(p,!1,Ri(u,l,s),u).open()},options:{mode:"menu",order:1,featureCategory:"ranking",featureLevel:"advanced"}},fX={title:"Sort Groups By ",onClick:function(p,s,u,l){new cI(p,!0,Ri(u,l,s),u).open()},options:{mode:"menu",order:3,featureCategory:"ranking",featureLevel:"advanced"}},hX={title:"Rename ",onClick:function(p,s,u,l){new Wq(p,Ri(u,l,s)).open()},options:{order:5,featureCategory:"ui",featureLevel:"advanced"}},pX={title:"Remove",onClick:function(p,s,u){u.dialogManager.removeAll();var l=p.findMyRanker();l.children.every((function(f){return Hl(f)||f.fixed||f===p}))?(u.provider.removeRanking(l),u.provider.ensureOneRanking()):p.removeMe()},options:{order:90,featureCategory:"model",featureLevel:"advanced"}};function hI(p,s,u,l){u.dialogManager.removeAboveLevel(l);var f=p;f.setCollapsed(!f.getCollapsed());var d=f.getCollapsed(),_=s.currentTarget;_.title=d?"Expand":"Compress",_.classList.toggle(z("action-compress"),!d),_.classList.toggle(z("action-expand"),d);var w=_.getElementsByTagName("span")[0];w&&(w.textContent=_.title)}var dX={vis:{title:"Visualization ",onClick:function(p,s,u,l){new hq(p,Ri(u,l,s),u).open()},options:{featureCategory:"ui",featureLevel:"advanced"}},group:Lp("Group",(function(p,s,u,l){if(u.dialogManager.removeAboveLevel(l),s.ctrlKey){var f=p.findMyRanker(),d=f.getGroupCriteria(),_=d.indexOf(p);f.groupBy(p,_>=0?-1:d.length)}else p.groupByMe()}),{mode:"shortcut",order:2,featureCategory:"ranking",featureLevel:"basic"}),groupBy:Lp("Group By ",(function(p,s,u,l){new Iq(p,Ri(u,l,s),u).open()}),{mode:"menu",order:2,featureCategory:"ranking",featureLevel:"advanced"}),compress:{title:"Compress",enabled:function(p){return!p.getCollapsed()},onClick:hI,options:{featureCategory:"model",featureLevel:"advanced"}},expand:{title:"Expand",enabled:function(p){return p.getCollapsed()},onClick:hI,options:{featureCategory:"model",featureLevel:"advanced"}},sort:uX,sortBy:cX,sortGroupBy:fX,clone:{title:"Clone",onClick:function(p,s,u){u.dialogManager.removeAll(),u.provider.takeSnapshot(p)},options:{order:80,featureCategory:"model",featureLevel:"advanced"}},remove:pX,rename:hX,setShowTopN:{title:"Change Show Top N",onClick:function(p,s,u,l){new Jq(u.provider,Ri(u,l,s)).open()},options:{featureCategory:"ui",featureLevel:"advanced"}},search:Fn("Search ",Xq,(function(p){return[p.provider]}),{mode:"menu+shortcut",order:4,featureCategory:"ranking",featureLevel:"basic"}),filterNumber:Fn("Filter ",Fq,(function(p){return[p]}),{order:8,mode:"menu+shortcut",featureCategory:"ranking",featureLevel:"basic"}),filterDate:Fn("Filter ",Dq,(function(p){return[p]}),{order:8,mode:"menu+shortcut",featureCategory:"ranking",featureLevel:"basic"}),filterString:Fn("Filter ",rX,(function(p){return[p]}),{order:8,mode:"menu+shortcut",featureCategory:"ranking",featureLevel:"basic"}),filterSelection:Fn("Filter ",lX,(function(p){return[p]}),{order:8,mode:"menu+shortcut",featureCategory:"ranking",featureLevel:"basic"}),filterCategorical:Fn("Filter ",sq,(function(p){return[p]}),{order:8,mode:"menu+shortcut",featureCategory:"ranking",featureLevel:"basic"}),filterOrdinal:Fn("Filter ",uq,(function(){return[]}),{order:8,mode:"menu+shortcut",featureCategory:"ranking",featureLevel:"basic"}),colorMapped:Fn("Color Mapping ",vq,(function(p){return[p]}),{mode:"menu",featureCategory:"ui",featureLevel:"advanced"}),colorMappedCategorical:Fn("Color Mapping ",iq,(function(){return[]}),{mode:"menu",featureCategory:"ui",featureLevel:"advanced"}),script:Fn("Edit Combine Script ",Yq,(function(){return[]}),{mode:"menu+shortcut",featureCategory:"model",featureLevel:"advanced"}),reduce:Fn("Reduce by ",Hq,(function(){return[]}),{featureCategory:"model",featureLevel:"advanced"}),cutoff:Fn("Set Cut Off ",Tq,(function(p){return[p]}),{featureCategory:"model",featureLevel:"advanced"}),editMapping:Fn("Data Mapping ",Vq,(function(p){return[p]}),{mode:"menu+shortcut",featureCategory:"model",featureLevel:"advanced"}),editPattern:Fn("Edit Pattern ",Lq,(function(p){return[p]}),{featureCategory:"model",featureLevel:"advanced"}),editWeights:Fn("Edit Weights ",aX,(function(){return[]}),{mode:"menu+shortcut",featureCategory:"model",featureLevel:"advanced"}),compositeContained:Fn("Contained Columns ",wq,(function(p){return[p]}),{featureCategory:"model",featureLevel:"advanced"}),splitCombined:Lp("Split Combined Column",(function(p,s,u,l){u.dialogManager.removeAboveLevel(l-1),p.children.reverse().forEach((function(f){return p.insertAfterMe(f)})),p.removeMe()}),{featureCategory:"model",featureLevel:"advanced"}),clearSelection:Lp("Clear Selection",(function(p,s,u,l){u.dialogManager.removeAboveLevel(l-1),u.provider.getSelection().length>0&&u.provider.setSelection([])}),{featureCategory:"model",featureLevel:"advanced",order:11}),invertSelection:Lp("Invert Selection",(function(p,s,u,l){u.dialogManager.removeAboveLevel(l-1);var f=u.provider.getSelection(),d=Array.from(p.findMyRanker().getOrder());if(f.length!==0){var _=new Set(f),w=d.filter((function(x){return!_.has(x)}));u.provider.setSelection(w)}else u.provider.setSelection(d)}),{featureCategory:"model",featureLevel:"advanced",order:10})};function Np(p){return p=p.sort((function(s,u){return s.toLowerCase().localeCompare(u.toLowerCase())})),{title:"Sort By",order:2,append:function(s,u){return uI(u,s,p)}}}var vX={sortNumber:Np(Object.keys(tn)),sortNumbers:Np(Object.keys(tn)),sortBoxPlot:Np(Object.keys(zc)),sortDates:Np(Object.keys(jo)),sortGroups:Np(["count","name"]),groupNumber:{title:"Split",order:2,append:function(p,s,u){var l=p.getMapping().domain,f=p.getGroupThresholds(),d=f.length<=1,_=p.findMyRanker();s.insertAdjacentHTML("beforeend",`
    <label class="`.concat(z("checkbox"),`">
      <input type="radio" name="threshold" value="threshold" `).concat(d?"checked":"",`>
      <span>at&nbsp;<input type="number" size="10" id="`).concat(u.idPrefix,'N1" value="').concat(f.length>0?f[0]:Vt((l[1]-l[0])/2,2),`"
          required min="`).concat(l[0],'" max="').concat(l[1],'" step="any" ').concat(d?"":"disabled",`>
      </span>
    </label>
    <label class="`).concat(z("checkbox"),`">
      <input type="radio" name="threshold" value="bins" `).concat(d?"":"checked",`>
      <span> in&nbsp;<input type="number" size="5" id="`).concat(u.idPrefix,'N2" value="').concat(f.length>1?f.length:V(_.getOrderLength()),`"
          required min="2" step="1" `).concat(d?"disabled":"",`>&nbsp;bins
      </span>
    </label>
  `));var w=s.querySelector("#".concat(u.idPrefix,"N1")),x=s.querySelector("#".concat(u.idPrefix,"N2"));return qi(s,"input[name=threshold]",(function(T){T.addEventListener("change",(function(){var M=T.value==="threshold";w.disabled=!M,x.disabled=M}),{passive:!0})})),{elems:"input[name=threshold], #".concat(u.idPrefix,"N1, #").concat(u.idPrefix,"N2"),submit:function(){if(s.querySelector("input[name=threshold]:checked").value==="threshold")return p.setGroupThresholds([w.valueAsNumber]),!0;for(var T=Number.parseInt(x.value,10),M=(l[1]-l[0])/T,N=l[0]+M,I=[N],G=1;G<T-1;++G)N+=M,I.push(N);return p.setGroupThresholds(I),!0},cancel:function(){p.setGroupThresholds(f)},reset:function(){var T=Vt((l[1]-l[0])/2,2);w.value=T.toString(),w.disabled=!1,x.value=V(_.getOrderLength()).toString(),x.disabled=!0,s.querySelector("input[name=threshold][value=threshold]").checked=!0}}}},groupString:{title:"Groups",order:2,append:function(p,s,u){var l=p.getGroupCriteria(),f=l.type,d=l.values;s.insertAdjacentHTML("beforeend",`
    <label class="`.concat(z("checkbox"),`">
      <input type="radio" name="`).concat(u.idPrefix,'groupString" value="').concat(An.value,'" id="').concat(u.idPrefix,'VAL" ').concat(f===An.value?"checked":"",`>
      <span>Use text value</span>
    </label>
    <label class="`).concat(z("checkbox"),`">
      <input type="radio" name="`).concat(u.idPrefix,'groupString" value="').concat(An.startsWith,'" id="').concat(u.idPrefix,'RW" ').concat(f===An.startsWith?"checked":"",`>
      <span>Text starts with </span>
    </label>
    <label class="`).concat(z("checkbox"),`">
      <input type="radio" name="`).concat(u.idPrefix,'groupString" value="').concat(An.regex,'" id="').concat(u.idPrefix,'RE" ').concat(f===An.regex?"checked":"",`>
      <span>Use regular expressions</span>
    </label>
    <textarea rows="5" placeholder="one value per row, e.g., 
A
B" id="`).concat(u.idPrefix,'T">').concat(d.map((function(N){return N instanceof RegExp?N.source:N})).join(`
`),`</textarea>
  `));var _=s.querySelector("#".concat(u.idPrefix,"VAL")),w=s.querySelector("#".concat(u.idPrefix,"RW")),x=s.querySelector("#".concat(u.idPrefix,"RE")),T=s.querySelector("#".concat(u.idPrefix,"T")),M=function(N){T.style.display=N?null:"none"};return M(f!==An.value),_.onchange=function(){return M(!_.checked)},w.onchange=function(){return M(w.checked)},x.onchange=function(){return M(x.checked)},{elems:[T,_,w,x],submit:function(){var N=s.querySelector('input[name="'.concat(u.idPrefix,'groupString"]:checked')).value,I=T.value.trim().split(`
`).map((function(G){return G.trim()})).filter((function(G){return G.length>0}));return N===An.regex&&(I=I.map((function(G){return new RegExp(G.toString(),"mi")}))),p.setGroupCriteria({type:N,values:I}),!0},cancel:function(){p.setGroupCriteria(l)},reset:function(){T.value="",w.checked=!0}}}},groupDate:{title:"Granularity",order:2,append:function(p,s){for(var u=p.getDateGrouper(),l="",f=0,d=["century","decade","year","month","week","day_of_week","day_of_month","day_of_year","hour","minute","second"];f<d.length;f++){var _=d[f];l+='<label class="'.concat(z("checkbox"),`">
    <input type="radio" name="granularity" value="`).concat(_,'" ').concat(u.granularity===_?"checked":"",`>
    <span> by `).concat(_,` </span>
  </label>`)}l+='<label class="'.concat(z("checkbox"),`">
    <input type="checkbox" name="circular" `).concat(u.circular?"checked":"",`>
    <span> Circular </span>
  </label>`),s.insertAdjacentHTML("beforeend",l);var w=s.querySelector("input[name=circular]");return{elems:"input[name=granularity],input[name=circular]",submit:function(){var x=s.querySelector("input[name=granularity]:checked").value;return p.setDateGrouper({granularity:x,circular:w.checked}),!0},cancel:function(){p.setDateGrouper(u)},reset:function(){var x="month",T=!1;w.checked=T,s.querySelector('input[name=granularity][value="'.concat(x,'"]')).checked=!0}}}}};function gX(p,s,u){var l=[];return s.forEach((function(f){Object.prototype.hasOwnProperty.call(u,f)?l.push(u[f]):console.warn('cannot find toolbar action of type: "'.concat(p.desc.type,'" with key "').concat(f,'"'))})),l}function yX(p,s,u){var l=[];return s.forEach((function(f){Object.prototype.hasOwnProperty.call(u,f)?l.push(u[f]):console.warn('cannot find toolbar dialog addon of type: "'.concat(p.desc.type,'" with key "').concat(f,'"'))})),l}function oS(){return{toolbarActions:dX,toolbarDialogAddons:vX,resolveToolbarActions:gX,resolveToolbarDialogAddons:yX,renderers:Object.assign({},tq),canRender:function(){return!0},labelRotation:0,summaryHeader:!0,animated:!0,expandLineOnHover:!1,sidePanel:!0,sidePanelCollapsed:!1,hierarchyIndicator:!0,defaultSlopeGraphMode:"item",overviewMode:!1,livePreviews:{search:!0,filter:!0,vis:!0,sort:!0,group:!0,groupSort:!0,colorMapping:!0},onDialogBackgroundClick:"confirm",selectionActivateFilter:!0,rowHeight:18,groupHeight:40,groupPadding:5,rowPadding:2,levelOfDetail:function(){return"high"},customRowUpdate:function(){},dynamicHeight:function(){return null},flags:{disableFrozenColumns:!0,advancedRankingFeatures:!0,advancedModelFeatures:!0,advancedUIFeatures:!0,combineViaDragNDrop:!0},ignoreUnsupportedBrowser:!1,copyableRows:!0,instanceId:Math.random().toString(36).slice(-8).substring(0,3)}}function sy(p,s){var u=p;if(!s)return u;var l=Object.keys(s);if(l.length===0)return u;for(var f=0,d=l;f<d.length;f++){var _=d[f],w=s[_];Object.prototype.toString.call(w)==="[object Object]"&&Object.getPrototypeOf(w)===Object.prototype?(u[_]==null&&(u[_]={}),u[_]=sy(u[_],w)):Array.isArray(w)?(u[_]==null&&(u[_]=[]),u[_]=u[_].concat(w)):u[_]=w}return u}var pI=function(p,s,u){for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))},mX=function(p,s,u){this.name=p,this.version=s,this.os=u,this.type="browser"},_X=function(p){this.version=p,this.type="node",this.name="node",this.os=process.platform},bX=function(p,s,u,l){this.name=p,this.version=s,this.os=u,this.bot=l,this.type="bot-device"},SX=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},wX=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},xX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,EX=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],dI=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vI(p){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new wX:typeof navigator<"u"?TX(navigator.userAgent):typeof process<"u"&&process.version?new _X(process.version.slice(1)):null}function TX(p){var s=(function(x){return x!==""&&EX.reduce((function(T,M){var N=M[0],I=M[1];if(T)return T;var G=I.exec(x);return!!G&&[N,G]}),!1)})(p);if(!s)return null;var u=s[0],l=s[1];if(u==="searchbot")return new SX;var f=l[1]&&l[1].split(".").join("_").split("_").slice(0,3);f?f.length<3&&(f=pI(pI([],f,!0),(function(x){for(var T=[],M=0;M<x;M++)T.push("0");return T})(3-f.length))):f=[];var d=f.join("."),_=(function(x){for(var T=0,M=dI.length;T<M;T++){var N=dI[T],I=N[0];if(N[1].exec(x))return I}return null})(p),w=xX.exec(p);return w&&w[1]?new bX(u,d,_,w[1]):new mX(u,d,_)}var CX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),AX=(function(p){function s(u){var l=p.call(this)||this;l.escKeyListener=function(_){_.which===27&&l.removeLast()},l.openDialogs=[];var f=u.doc;l.livePreviews=u.livePreviews,l.onDialogBackgroundClick=u.onDialogBackgroundClick,l.node=f.createElement("div"),l.node.classList.add(z("backdrop"));var d=f.createElement("div");return d.classList.add(z("backdrop-bg")),l.node.appendChild(d),l.node.onclick=function(){l.removeAll()},l}return CX(s,p),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_DIALOG_CLOSED,s.EVENT_DIALOG_OPENED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},Object.defineProperty(s.prototype,"maxLevel",{get:function(){return this.openDialogs.reduce((function(u,l){return Math.max(u,l.level)}),0)},enumerable:!1,configurable:!0}),s.prototype.setHighlight=function(u){var l=this.node.firstElementChild;l.style.clipPath=l.style.webkitClipPath=`polygon(
      0% 0%,
      0% 100%,
      `.concat(u.left,`px 100%,
      `).concat(u.left,"px ").concat(u.top,`px,
      `).concat(u.left+u.width,"px ").concat(u.top,`px,
      `).concat(u.left+u.width,"px ").concat(u.top+u.height,`px,
      `).concat(u.left,"px ").concat(u.top+u.height,`px,
      `).concat(u.left,`px 100%,
      100% 100%,
      100% 0%
    )`)},s.prototype.setHighlightColumn=function(u){var l=this.node.parentElement;if(l){var f=l.querySelector(".".concat(z("header"),'[data-col-id="').concat(u.id,'"]'));if(f){var d=f.getBoundingClientRect(),_=l.getBoundingClientRect();this.setHighlight({left:d.left-_.left,top:d.top-_.top,width:d.width,height:_.height})}else this.clearHighlight()}else this.clearHighlight()},s.prototype.clearHighlight=function(){this.node.firstElementChild.style.clipPath=null},s.prototype.removeLast=function(){this.openDialogs.length!==0&&this.remove(this.openDialogs[this.openDialogs.length-1])},s.prototype.removeAll=function(){var u=this;this.openDialogs.length!==0&&(this.openDialogs.splice(0,this.openDialogs.length).reverse().forEach((function(l){return l.cleanUp(u.onDialogBackgroundClick)})),this.takeDown())},s.prototype.triggerDialogClosed=function(u,l){this.fire(s.EVENT_DIALOG_CLOSED,u,l)},s.prototype.remove=function(u,l){var f=this;l===void 0&&(l=!1);var d=this.openDialogs.indexOf(u);if(d<0)return!1;for(this.openDialogs.splice(d,this.openDialogs.length-d).reverse().forEach((function(_){return _.cleanUp(l?"handled":f.onDialogBackgroundClick)}));l&&this.openDialogs.length>0&&this.openDialogs[this.openDialogs.length-1].autoClose;)this.openDialogs.pop().cleanUp(this.onDialogBackgroundClick);return this.openDialogs.length===0&&this.takeDown(),!0},s.prototype.removeAboveLevel=function(u){var l=this;this.openDialogs.filter((function(f){return f.level>=u})).reverse().forEach((function(f){return l.remove(f)}))},s.prototype.removeLike=function(u){var l=this.openDialogs.find((function(f){return u.equals(f)}));return!!l&&(this.remove(l),!0)},s.prototype.setUp=function(){this.node.ownerDocument.addEventListener("keyup",this.escKeyListener,{passive:!0}),this.node.style.display="block"},s.prototype.takeDown=function(){this.clearHighlight(),this.node.ownerDocument.removeEventListener("keyup",this.escKeyListener),this.node.style.display=null},s.prototype.push=function(u){this.removeAboveLevel(u.level),this.openDialogs.length===0&&this.setUp(),this.openDialogs.push(u),this.fire(s.EVENT_DIALOG_OPENED,u)},s.EVENT_DIALOG_OPENED="dialogOpened",s.EVENT_DIALOG_CLOSED="dialogClosed",s})(ga);const mf=AX;var DX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),xa=(function(p){function s(u,l,f){var d=p.call(this)||this;d.node=u,d._data=l,d.highlightListeners=0;var _=(function(){var w=vI();if(!w||!w.version)return"browser cannot be detected";var x="unsupported browser detected:";switch(w.name){case"firefox":var T=Number.parseInt(w.version.slice(0,w.version.indexOf(".")),10);return T<=57&&T!==52?"".concat(x," Firefox ").concat(w.version," (&lt; ").concat(57,")"):null;case"edge":return Number.parseInt(w.version.slice(0,w.version.indexOf(".")),10)<=16?"".concat(x," Edge ").concat(w.version," (&lt; ").concat(16,")"):null;case"chrome":return Number.parseInt(w.version.slice(0,w.version.indexOf(".")),10)<=64?"".concat(x," Chrome ").concat(w.version," (&lt; ").concat(64,")"):null;case"ie":return"".concat(x," Internet Explorer")}return console.warn("unknown browser detected",w,"assuming fine..."),null})();return d.isBrowserSupported=f||!_,d.isBrowserSupported||(d.node.classList.add(z("unsupported-browser")),d.node.innerHTML="<span>".concat(_,`</span>
      <div class="`).concat(z("unsupported-browser"),`">
        <a href="https://www.mozilla.org/en-US/firefox/" rel="noopener" target="_blank" data-browser="firefox" data-version="`).concat(57,`"></a>
        <a href="https://www.google.com/chrome/index.html" rel="noopener" target="_blank" data-browser="chrome" data-version="`).concat(64,`" title="best support"></a>
        <a href="https://www.microsoft.com/en-us/windows/microsoft-edge" rel="noopener" target="_blank" data-browser="edge" data-version="`).concat(16,`"></a>
      </div><span>use the <code>ignoreUnsupportedBrowser=true</code> option to ignore this error at your own risk</span>`)),d.forward(l,"".concat(Ae.EVENT_SELECTION_CHANGED,".main")),l.on("".concat(Ae.EVENT_BUSY,".busy"),(function(w){return d.node.classList.toggle(z("busy"),w)})),d}return DX(s,p),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_HIGHLIGHT_CHANGED,s.EVENT_SELECTION_CHANGED,s.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},Object.defineProperty(s.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),s.prototype.destroy=function(){_e(this.node),this._data.destroy()},s.prototype.dump=function(){return this.data.dump()},s.prototype.restore=function(u){this._data.restore(u)},s.prototype.setDataProvider=function(u,l){var f=this;this._data&&(this.unforward(this._data,"".concat(Ae.EVENT_SELECTION_CHANGED,".taggle")),this._data.on("".concat(Ae.EVENT_BUSY,".busy"),null)),this._data=u,l&&u.restore(l),this.forward(u,"".concat(Ae.EVENT_SELECTION_CHANGED,".taggle")),u.on("".concat(Ae.EVENT_BUSY,".busy"),(function(d){return f.node.classList.toggle(z("busy"),d)}))},s.prototype.getSelection=function(){return this._data.getSelection()},s.prototype.setSelection=function(u){this._data.setSelection(u)},s.prototype.sortBy=function(u,l){l===void 0&&(l=!1);var f=this.data.find(u);return f&&f.sortByMe(l),f!=null},s.prototype.listenersChanged=function(u,l){p.prototype.listenersChanged.call(this,u,l),u.startsWith(s.EVENT_HIGHLIGHT_CHANGED)&&(l?(this.highlightListeners++,this.highlightListeners===1&&this.enableHighlightListening(!0)):(this.highlightListeners-=1,this.highlightListeners===0&&this.enableHighlightListening(!1)))},s.prototype.enableHighlightListening=function(u){},s.prototype.addCopyListener=function(){var u=this;this.node.addEventListener("copy",(function(l){var f;u.data&&u.data.getFirstRanking()&&(f=u.data.getSelection().length===0?u.data.exportTable(u.data.getFirstRanking()):u.data.exportSelection(),l.preventDefault(),y1(f)?f.then((function(d){l.clipboardData.setData("text/plain",d),l.clipboardData.setData("text/tsv",d)})):(l.clipboardData.setData("text/plain",f),l.clipboardData.setData("text/tsv",f)))}))},s.EVENT_SELECTION_CHANGED=Ae.EVENT_SELECTION_CHANGED,s.EVENT_DIALOG_OPENED=mf.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED=mf.EVENT_DIALOG_CLOSED,s.EVENT_HIGHLIGHT_CHANGED="highlightChanged",s})(ga);const MX=xa;var Ir;(function(p){p[p.UPDATE=0]="UPDATE",p[p.UPDATE_CREATE=1]="UPDATE_CREATE",p[p.UPDATE_REMOVE=2]="UPDATE_REMOVE",p[p.SHOW=3]="SHOW",p[p.HIDE=4]="HIDE"})(Ir||(Ir={}));var fu=[{delay:0,apply:function(p){var s=p.mode,u=p.previous,l=p.nodeY,f=p.current,d=p.node;d.dataset.animation=Ir[s].toLowerCase(),d.style.transform="translate(0, ".concat(u.y-l,"px)"),s===Ir.SHOW?d.style.height=f.height!==null?"".concat(f.height,"px"):"":d.style.height="".concat(u.height,"px"),s===Ir.SHOW?d.style.opacity="0":s===Ir.HIDE?d.style.opacity="1":d.style.opacity=""}},{delay:10,apply:function(p){var s=p.mode,u=p.current,l=p.nodeY,f=p.node;f.style.transform=s===Ir.HIDE||s===Ir.UPDATE_REMOVE?"translate(0, ".concat(u.y-l,"px)"):"",s!==Ir.HIDE&&(f.style.height=u.height!==null?"".concat(u.height,"px"):""),s===Ir.SHOW?f.style.opacity="1":s===Ir.HIDE?f.style.opacity="0":f.style.opacity=""}},{delay:1100,apply:function(p){var s=p.node;delete s.dataset.animation,s.style.opacity="",s.style.transform=""}}],LX=(function(){function p(s,u){var l=this;this.context=s,this.key=u,this.cache=[],this.lastFilled=0,this.key2index=new Map,this.context.exceptions.forEach((function(f){l.cache[f.index]=f.y,l.key2index.set(u(f.index),f.index)}))}return p.prototype.findValidStart=function(s){for(var u=s-1;u>=0;u-=1)if(this.cache[u]!==void 0)return u;return-1},p.prototype.posByKey=function(s){var u=this.key2index.get(s);return u!=null?{index:u,pos:this.pos(u)}:this.fillCacheTillKey(s)},p.prototype.pos=function(s){if(this.context.exceptions.length===0)return s*this.context.defaultRowHeight;var u=this.cache[s];if(u!==void 0)return u;var l=this.findValidStart(s);return l<0?this.fillCache(0,s,0):this.fillCache(l+1,s,this.cache[l]+this.heightOf(l)),this.cache[s]},p.prototype.fillCache=function(s,u,l,f){if(u<=this.lastFilled){if(!f)return;for(var d=s;d<=u;d+=1)f(d,this.key(d),this.cache[d])}else{var _=l;for(d=s;d<=u;d+=1){this.cache[d]=_;var w=this.key(d);this.key2index.set(w,d),f&&f(d,w,_),_+=this.heightOf(d)}}},p.prototype.heightOf=function(s){var u;return(u=this.context.exceptionsLookup.get(s))!==null&&u!==void 0?u:this.context.defaultRowHeight},p.prototype.exceptionHeightOf=function(s,u){u===void 0&&(u=!1);var l=this.context.padding(s),f=this.context.exceptionsLookup.get(s);return f!=null?f-l:u?this.context.defaultRowHeight-l:null},p.prototype.padding=function(s){return this.context.padding(s)},p.prototype.fillCacheTillKey=function(s){for(var u=0,l=this.lastFilled;l<this.context.numberOfRows;l+=1,this.lastFilled+=1){var f=this.cache[l];if(f===void 0){var d=this.key(l);if(this.cache[l]=u,this.key2index.set(d,l),d===s)return{index:l,pos:u};u+=this.heightOf(l)}else u=f+this.heightOf(l)}return{index:-1,pos:-1}},p.prototype.positions=function(s,u,l,f){this.fillCache(s,u,l,f)},p})();const gI=LX;var yI="animation",NX=(function(){function p(s){var u=this;this.node=s,this.sync={handler:[],prev:null,timer:-1},this.animation={handler:[],prev:null,timer:-1},this.numbers=new Map,this.handleAnimationImpl=function(){u.animation.timer===1&&(u.handle(u.animation),u.animation.timer=-1)},s.addEventListener("scroll",(function(){u.sync.handler.length>0&&u.handle(u.sync),u.handleAnimation(),u.handleTimeouts()}),{passive:!0})}return Object.defineProperty(p.prototype,"current",{get:function(){return this.asInfo()},enumerable:!1,configurable:!0}),p.prototype.handle=function(s){var u=this.current;if(!(s.prev&&Math.abs(u.left-s.prev.left)+Math.abs(u.top-s.prev.top)<4)){s.prev=u;for(var l=0,f=s.handler;l<f.length;l++)(0,f[l])(u)}},p.prototype.handleAnimation=function(){this.animation.timer===-1&&this.animation.handler.length!==0&&(this.animation.timer=1,requestAnimationFrame(this.handleAnimationImpl))},p.prototype.handleTimeouts=function(){var s=this;this.numbers.size!==0&&this.numbers.forEach((function(u,l){u.handler.length!==0&&(u.timer=self.setTimeout((function(){s.handle(u),u.timer=-1}),l))}))},p.prototype.asInfo=function(){return{left:this.node.scrollLeft,top:this.node.scrollTop,width:this.node.clientWidth,height:this.node.clientHeight}},p.prototype.push=function(s,u){var l;if(typeof s=="number"){var f=(l=this.numbers.get(s))!==null&&l!==void 0?l:{handler:[],prev:null,timer:-1};f.handler.push(u),this.numbers.set(s,f)}switch(s){case"sync":this.sync.handler.push(u);break;case"animation":this.animation.handler.push(u)}},p.prototype.remove=function(s){return[this.sync,this.animation].concat(Array.from(this.numbers.values())).some((function(u){var l=u.handler.indexOf(s);return l>=0&&u.handler.splice(l,1),l>=0}))},p.prototype.isWaiting=function(s){var u,l;switch(s){case"animation":return this.animation.timer>=0;case"sync":return!1;default:return((l=(u=this.numbers.get(s))===null||u===void 0?void 0:u.timer)!==null&&l!==void 0?l:-1)>=0}},p})();function ly(p,s,u){var l=p;l.__le_scroller__||(l.__le_scroller__=new NX(p));var f=l.__le_scroller__;return f.push(s,u),f.asInfo()}function mI(p,s){var u=p;return!!u.__le_scroller__&&u.__le_scroller__.isWaiting(s)}function uy(p){for(;p.lastChild;)p.removeChild(p.lastChild);return p}var Qn,RX=(function(){function p(s,u,l){this.index=s,this.y=u,this.height=l}return Object.defineProperty(p.prototype,"y2",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),p})();function Rp(p,s,u){s===void 0&&(s=Number.NaN),u===void 0&&(u=0);var l=new Map,f=[],d=typeof u=="function"?u:function(){return u},_=s;Number.isNaN(_)&&(_=(function(N){var I=new Map;if(N.forEach((function(U){I.set(U,(I.get(U)||0)+1)})),I.size===0)return 20;var G=Array.from(I).sort((function(U,$){return U[1]!==$[1]?$[1]-U[1]:U[0]-$[0]})),B=G[0][0];return B===0?G.length>1?G[1][0]:20:B})(p)),_+=d(-1);var w=-1,x=0,T=0,M=0;return p.forEach((function(N,I){var G=N+d(I);if(T+=G,M+=1,G!==_){l.set(I,G);var B=(I-w-1)*_;w=I;var U=x+B;x=U+G,f.push(new RX(I,U,G))}})),{exceptionsLookup:l,exceptions:f,totalHeight:T,defaultRowHeight:_,numberOfRows:M,padding:d}}function zs(p,s,u,l,f){if(f===0)return{first:0,last:-1,firstRowPos:0,endPos:0};if(f===1)return{first:0,last:0,firstRowPos:0,endPos:l.length===0?u:l[0].y2};var d=p,_=d+s;function w(Ot,Wt){return Math.min(f-1,Wt+Math.max(0,Math.floor(Ot/u)))}function x(Ot,Wt){var ct=_-Ot,kt=w(d-Ot,Wt),jt=w(ct,Wt);return{first:kt,last:jt,firstRowPos:Ot+(kt-Wt)*u,endPos:Ot+(jt+1-Wt)*u}}var T=x(0,0);if(l.length===0||T.last<l[0].index)return T;if(T.last===l[0].index&&l[0].height>u)return Object.assign(T,{endPos:l[0].y2});var M=l[l.length-1];if(d>=M.y){var N=x(M.y2,M.index+1);return d<M.y2?Object.assign(N,{first:M.index,firstRowPos:M.y}):N}for(var I=[],G=l[0],B=0,U=l;B<U.length;B++){var $=U[B],Q=$.y,nt=$.y2;if(Q>=_)break;nt<=d?G=$:I.push($)}if(I.length===0)return x(G.y2,G.index+1);var ot=I[0],ft=I[I.length-1],Et=Math.max(0,ot.index-Math.max(0,Math.ceil((ot.y-d)/u))),At=ft.index;return _>=ft.y2&&(At=w(_-ft.y2,ft.index+1)),{first:Et,last:At,firstRowPos:ot.y-(ot.index-Et)*u,endPos:ft.y2+(At-ft.index)*u}}function _I(p,s,u){for(var l=p.length===0?0:p[p.length-1]+1,f=[],d=[],_=p.length-1;_>=0&&p[_]>=u;_-=1)d.push(p.pop());for(_=l;_<u;_+=1)s[_].frozen&&(f.push(_),p.push(_));return{target:p,added:f,removed:d}}function We(p){return p?"".concat("le","-").concat(p):"le"}(function(p){p[p.NONE=0]="NONE",p[p.ALL=1]="ALL",p[p.SOME=2]="SOME",p[p.SOME_BOTTOM=3]="SOME_BOTTOM",p[p.SOME_TOP=4]="SOME_TOP"})(Qn||(Qn={}));var Us=We("loading"),cy=We("frozen"),bI=We("hidden"),IX=We("multi"),OX=We("even"),fy=We("shifted"),PX=We("scrollbar-tester"),kX=We("header"),VX=We("body"),sS=We("footer"),GX=We("thead"),FX=We("tbody"),SI=We("tr"),wI=We("th"),xI=We("td"),EI=We("scrolling"),BX=We("row-animation"),lS=function(){return lS=Object.assign||function(p){for(var s,u=1,l=arguments.length;u<l;u++)for(var f in s=arguments[u])Object.prototype.hasOwnProperty.call(s,f)&&(p[f]=s[f]);return p},lS.apply(this,arguments)};function hy(p){return p.classList.contains(Us)}var HX=(function(){function p(s,u){u===void 0&&(u={});var l=this;this.body=s,this.pool=[],this.loadingPool=[],this.loading=new WeakMap,this.visible={first:0,forcedFirst:0,last:-1,forcedLast:-1},this.visibleFirstRowPos=0,this.scrollListener=null,this.lastScrollInfo=null,this.abortAnimation=function(){},this.options={async:yI,minScrollDelta:10,mixins:[],scrollingHint:!1,batchSize:10,striped:!1,viewportOversize:200},this.adapter=this.createAdapter(),Object.assign(this.options,u),this.mixins=this.options.mixins.map((function(f){return new f(l.adapter)})),this.fragment=s.ownerDocument.createDocumentFragment()}return p.prototype.addMixin=function(s,u){this.mixins.push(new s(this.adapter,u))},p.prototype.createAdapter=function(){var s=this,u=this;return{visible:this.visible,addAtBeginning:function(l,f){return s.addAtBeginning(l,f)},addAtBottom:this.addAtBottom.bind(this),removeFromBeginning:function(l,f){return s.removeFromBeginning(l,f)},removeFromBottom:this.removeFromBottom.bind(this),updateOffset:this.updateOffset.bind(this),isScrollEventWaiting:function(){return mI(s.bodyScroller,s.options.async)},get visibleFirstRowPos(){return u.visibleFirstRowPos},get context(){return u.context},get scrollOffset(){return u.lastScrollInfo?u.lastScrollInfo.top:0},get scrollTotal(){return u.lastScrollInfo?u.lastScrollInfo.height:u.bodyScroller.clientHeight}}},Object.defineProperty(p.prototype,"bodyScroller",{get:function(){return this.body.parentElement},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"bodySizer",{get:function(){var s=this.bodyScroller,u=Array.from(s.children).find((function(f){return f.tagName.toLowerCase()==="footer"}));if(u)return u;var l=s.ownerDocument.createElement("footer");return l.classList.add(sS,We("footer-".concat(this.idPrefix))),s.insertBefore(l,s.firstChild),l},enumerable:!1,configurable:!0}),p.prototype.init=function(){var s=this,u=this.bodyScroller,l=ly(u,this.options.async,this.scrollListener=function(f){if(s.lastScrollInfo=f,!(Math.abs(l.top-f.top)<s.options.minScrollDelta&&Math.abs(l.height-f.height)<s.options.minScrollDelta)){var d=f.top>l.top;l=f,s.onScrolledVertically(f.top,f.height,d),s.options.scrollingHint&&s.body.classList.remove(EI)}});this.options.scrollingHint&&ly(u,"animation",(function(){return s.body.classList.add(EI)})),this.recreate()},p.prototype.destroy=function(){this.scrollListener&&(function(s,u){var l=s;l.__le_scroller__&&l.__le_scroller__.remove(u)})(this.bodyScroller,this.scrollListener),this.body.remove()},p.cleanUp=function(s){s.style.height=""},p.prototype.select=function(s){var u,l=this.pool.pop();return l!=null?u=this.updateRow(l,s):(l=this.loadingPool.pop())!=null?(l.classList.remove(Us),u=this.createRow(l,s)):((l=this.body.ownerDocument.createElement("div")).classList.add(SI,We("tr-".concat(this.idPrefix))),u=this.createRow(l,s)),l.dataset.index=String(s),this.options.striped&&l.classList.toggle(OX,s%2==0),{item:l,result:u}},p.prototype.selectProxy=function(){var s=this.loadingPool.pop();return s==null&&(s=this.body.ownerDocument.createElement("div")).classList.add(Us,SI,We("tr-".concat(this.idPrefix))),s},p.prototype.recycle=function(s){p.cleanUp(s);var u=this.loading.get(s);u!=null?u.abort():this.pool.push(s)},p.prototype.proxy=function(s,u){var l=this;if(!ru(u))return s;var f=u,d=s,_=this.selectProxy();return _.dataset.index=d.dataset.index,_.style.height=d.style.height,this.loading.set(_,f),f.then((function(w){w===Jn?(p.cleanUp(d),l.pool.push(d)):l.body.replaceChild(d,_),l.loading.delete(_),p.cleanUp(_),l.loadingPool.push(_)}),(function(){p.cleanUp(d),l.pool.push(d),l.loading.delete(_),p.cleanUp(_),l.loadingPool.push(_)})),_},p.prototype.create=function(s){var u=this.select(s),l=u.item,f=u.result,d=this.context,_=d.exceptionsLookup,w=d.padding,x=_.get(s);return x!=null&&(l.style.height="".concat(x-w(s),"px")),this.proxy(l,f)},p.prototype.removeAll=function(s){s===void 0&&(s=!0);var u=this.body;if(!s)return Array.from(u.children);for(var l=[];u.lastElementChild;){var f=u.lastElementChild;u.removeChild(f),this.recycle(f),l.push(f)}return l},p.prototype.update=function(){var s=this,u=this.visible.first,l=this.fragment,f=Array.from(this.body.children);uy(this.body),f.forEach((function(d,_){if(s.loading.has(d))l.appendChild(d);else{var w=s.updateRow(d,_+u);l.appendChild(s.proxy(d,w))}})),this.body.appendChild(l)},p.prototype.forEachRow=function(s,u){var l=this;u===void 0&&(u=!1);var f=Array.from(this.body.children),d=this.fragment;u||uy(this.body),f.forEach((function(_,w){hy(_)||_.dataset.animation==="update_remove"||_.dataset.animation==="hide"||s(_,w+l.visible.first),u||d.appendChild(_)})),u||this.body.appendChild(d)},p.prototype.removeFromBeginning=function(s,u,l){return l===void 0&&(l=!0),this.remove(s,u,!0,l)},p.prototype.removeFromBottom=function(s,u,l){return l===void 0&&(l=!0),this.remove(s,u,!1,l)},p.prototype.remove=function(s,u,l,f){if(f===void 0&&(f=!0),u<s)return[];for(var d=this.body,_=[],w=l?d.firstChild:d.lastChild,x=s;x<=u;x+=1){var T=w;w=l?w.nextSibling:w.previousSibling,f&&(d.removeChild(T),this.recycle(T)),_.push(T)}return _},p.prototype.addAtBeginning=function(s,u,l){if(l===void 0&&(l=!0),u<s)return null;var f=this.fragment;if(s===u&&l)return this.body.insertBefore(this.create(s),this.body.firstChild),null;for(var d=s;d<=u;d+=1)f.appendChild(this.create(d));return l&&this.body.insertBefore(f,this.body.firstChild),f},p.prototype.addAtBottom=function(s,u,l){if(l===void 0&&(l=!0),u<s)return null;if(s===u&&l)return this.body.appendChild(this.create(s)),null;for(var f=this.fragment,d=s;d<=u;d+=1)f.appendChild(this.create(d));return l&&this.body.appendChild(f),f},p.prototype.updateOffset=function(s){this.visibleFirstRowPos=s,this.updateSizer(s)},p.prototype.updateSizer=function(s){var u=this.context.totalHeight;Ip(this.body,0,s.toFixed(0)),Ip(this.bodySizer,0,Math.max(0,u-1).toFixed(0))},p.prototype.recreate=function(s){return this.abortAnimation(),s?this.recreateAnimated(s):this.recreatePure()},p.prototype.recreatePure=function(){var s=this.context,u=this.bodyScroller;this.updateOffset(0),this.removeAll(),this.clearPool();var l=zs(u.scrollTop,u.clientHeight,s.defaultRowHeight,s.exceptions,s.numberOfRows),f=l.first,d=l.last,_=l.firstRowPos;this.visible.first=f,this.visible.forcedFirst=f,this.visible.last=d,this.visible.forcedLast=d,f<0?this.updateOffset(0):(this.addAtBottom(f,d),this.updateOffset(_))},p.prototype.recreateAnimated=function(s){var u=this,l=new Map,f=new gI(s.previous,s.previousKey),d=new gI(this.context,s.currentKey),_=zs(this.bodyScroller.scrollTop,this.bodyScroller.clientHeight,d.context.defaultRowHeight,d.context.exceptions,d.context.numberOfRows),w=Array.from(this.body.children),x=lS({},this.visible);uy(this.body),f.positions(x.first,Math.min(x.last,x.first+w.length),this.visibleFirstRowPos,(function(G,B,U){var $=w[G];$&&l.set(B,{n:$,pos:U,i:G})})),this.visible.first=_.first,this.visible.forcedFirst=_.first,this.visible.last=_.last,this.visible.forcedLast=_.last;var T=this.fragment,M=[],N=_.firstRowPos;d.positions(_.first,_.last,_.firstRowPos,(function(G,B,U){var $,Q,nt=Ir.UPDATE,ot=l.get(B);if(ot!=null)l.delete(B),ot.n.dataset.index=String(G),$=u.proxy(ot.n,u.updateRow(ot.n,G)),Q={index:ot.i,y:ot.pos,height:f.exceptionHeightOf(ot.i,!0)};else{var ft=f.posByKey(B);$=u.create(G),nt=ft.index<0?Ir.SHOW:Ir.UPDATE_CREATE,Q={index:ft.index,y:ft.pos>=0?ft.pos:U,height:ft.index<0?d.exceptionHeightOf(G,!0):f.exceptionHeightOf(ft.index,!0)}}M.push({node:$,key:B,mode:nt,previous:Q,nodeY:N,nodeYCurrentHeight:U,current:{index:G,y:U,height:d.exceptionHeightOf(G)}}),$.style.transform="translate(0, ".concat(N-U,"px)"),N+=Q.height+(Q.index<0?d.padding(G):f.padding(Q.index)),T.appendChild($)}));var I=_.endPos;l.forEach((function(G,B){var U=d.posByKey(B),$=U.pos>=0?U.pos:G.pos,Q=G.n;Q.style.transform="translate(0, ".concat(G.pos-N,"px)"),T.appendChild(Q);var nt=f.exceptionHeightOf(G.i,!0);M.push({node:G.n,key:B,mode:U.index<0?Ir.HIDE:Ir.UPDATE_REMOVE,previous:{index:G.i,y:G.pos,height:nt},nodeY:N,nodeYCurrentHeight:I,current:{index:U.index,y:$,height:U.index<0?null:d.exceptionHeightOf(U.index)}}),I+=U.index<0?d.context.defaultRowHeight:d.exceptionHeightOf(U.index,!0)+d.padding(U.index),N+=nt+f.padding(G.i)})),this.updateOffset(_.firstRowPos),this.animate(M,s.phases||fu,f,d,T)},p.prototype.animate=function(s,u,l,f,d){var _=this,w=s;if(w.length<=0)this.body.appendChild(d);else{for(var x=-1,T=0,M=function(B,U){U===void 0&&(U=w),U.forEach((function($){return B.apply($,l,f)}))},N=function(){if(console.assert(w[0].node.offsetTop>=0,"dummy log for forcing dom update"),M(u[T]),(T+=1)<u.length){var B=u[T];x=self.setTimeout(N,B.delay)}else{var U=_.body.classList;Array.from(U).forEach((function($){$.startsWith(We())&&$.endsWith("-animation")&&U.remove($)})),w.forEach((function($){var Q=$.node,nt=$.mode;nt!==Ir.UPDATE_REMOVE&&nt!==Ir.HIDE||(Q.remove(),Q.style.transform="",_.recycle(Q))})),_.abortAnimation=function(){},x=-1}};u[T].delay===0;)M(u[T]),T+=1;var I=this.body;this.body.appendChild(d);var G=[];w=w.filter((function(B){return!(function(U,$,Q){var nt=U.previous,ot=U.mode,ft=U.nodeY,Et=U.current,At=nt.height==null?$:nt.height,Ot=Et.height==null?Q:Et.height;return ot===Ir.UPDATE&&Math.abs(nt.y-ft)<=1&&Math.abs(At-Ot)<=1})(B,l.context.defaultRowHeight,f.context.defaultRowHeight)||(G.push(B),!1)})),G.length>0&&u.slice(T).forEach((function(B){return M(B,G)})),w.length!==0&&(I.classList.add(BX),new Set(w.map((function(B){return B.mode}))).forEach((function(B){I.classList.add(We("".concat(Ir[B].toLowerCase().split("_")[0],"-animation")))})),this.abortAnimation=function(){x<=0||(clearTimeout(x),x=-1,T=u.length-1,N())},x=self.setTimeout(N,u[T].delay))}},p.prototype.clearPool=function(){this.pool.splice(0,this.pool.length)},p.prototype.revalidate=function(){var s=this.bodyScroller;this.onScrolledVertically(s.scrollTop,s.clientHeight,!0),this.updateOffset(this.visibleFirstRowPos)},p.prototype.onScrolledVertically=function(s,u,l){for(var f=this.options.viewportOversize,d=Math.max(0,s-f),_=this.onScrolledImpl(d,u+f+(s-d)),w=0,x=this.mixins;w<x.length;w++)x[w].onScrolled(l,_);return _},p.prototype.shiftLast=function(s,u){if(u>=this.options.batchSize)return s;var l=this.context.numberOfRows;return Math.min(l-1,s+(this.options.batchSize-u))},p.prototype.shiftFirst=function(s,u,l){var f;if(l>=this.options.batchSize||s<=0)return{first:s,firstRowPos:u};for(var d=Math.max(0,s-(this.options.batchSize-l)),_=this.context,w=_.exceptionsLookup,x=_.defaultRowHeight,T=u,M=d;M<s;M+=1)T-=(f=w.get(M))!==null&&f!==void 0?f:x;return{first:d,firstRowPos:T}},p.prototype.onScrolledImpl=function(s,u){var l=this.context,f=zs(s,u,l.defaultRowHeight,l.exceptions,l.numberOfRows),d=f.first,_=f.last,w=f.firstRowPos,x=this.visible;if(x.forcedFirst=d,x.forcedLast=_,d-x.first>=0&&_-x.last<=0)return Qn.NONE;var T,M,N=Qn.SOME,I=!1;if(d>x.last||_<x.first)T=this.removeAll(!1),M=this.addAtBottom(d,_,!1),I=!0,N=Qn.ALL;else if(d<x.first){x.last-(_+1)>=this.options.batchSize?T=this.removeFromBottom(_+1,x.last,!1):_=x.last;var G=this.shiftFirst(d,w,x.first-1-d);d=G.first,w=G.firstRowPos,M=this.addAtBeginning(d,x.first-1,!1),I=!1,N=Qn.SOME_TOP}else d-1-x.first>=this.options.batchSize?T=this.removeFromBeginning(x.first,d-1,!1):(d=x.first,w=this.visibleFirstRowPos),_=this.shiftLast(_,_-x.last+1),M=this.addAtBottom(x.last+1,_,!1),I=!0,N=Qn.SOME_BOTTOM;return x.first=d,x.last=_,this.updateOffset(w),this.manipulate(T,M,I),N},p.prototype.manipulate=function(s,u,l){if(s)for(var f=0,d=s;f<d.length;f++){var _=d[f];_.remove(),this.recycle(_)}u&&(l?this.body.appendChild(u):this.body.insertBefore(u,this.body.firstChild))},p})();function Ip(p,s,u){var l="translate(".concat(s,"px, ").concat(u,"px)"),f=p;f.__transform__!==l&&(f.__transform__=l,p.style.transform=l)}function uS(p,s){for(var u=p,l=0,f=Object.keys(s);l<f.length;l++){var d=f[l],_=s[d];if(_.endsWith(" !important")){var w=_.slice(0,-11);if(u[d]!==w){u[d]=w;var x=d.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase();p.setProperty(x,w,"important")}}else u[d]!==_&&(u[d]=_)}}var zX=(function(){function p(s){this.rules=[],this.testVerifyTimeout=-1,this.node=s.ownerDocument.createElement("style"),this.node.appendChild(s.ownerDocument.createTextNode("")),s.appendChild(this.node)}return p.prototype.destroy=function(){this.node.remove()},p.prototype.verifySheet=function(){var s=this,u=this.sheet;if(u){var l=u.cssRules;if(l.length!==this.rules.length||!this.rules.every((function(M,N){return l[N].selectorText===M.selector}))){for(var f=l.length-1;f>=0;f-=1)u.deleteRule(f);for(var d=0,_=this.rules;d<_.length;d++){var w=_[d],x=u.insertRule("".concat(w.selector," {}"),u.cssRules.length),T=u.cssRules[x];w.selector=T.selectorText,uS(T.style,w.style)}}}else{if(this.testVerifyTimeout>=0)return;this.testVerifyTimeout=self.setTimeout((function(){s.testVerifyTimeout=-1,s.verifySheet()}),20)}},Object.defineProperty(p.prototype,"sheet",{get:function(){return this.node.sheet},enumerable:!1,configurable:!0}),p.prototype.getSheetRule=function(s){var u=this.sheet;return u?u.cssRules[s]:null},p.prototype.addRule=function(s,u,l){this.verifySheet();var f=this.sheet;if(!f)return this.rules.push({id:s,selector:u,style:l}),null;var d=f.insertRule("".concat(u," {}"),f.cssRules.length),_=f.cssRules[d];return this.rules.push({id:s,selector:_.selectorText,style:l}),uS(_.style,l),s},p.prototype.updateRule=function(s,u,l){this.verifySheet();var f=this.rules.findIndex((function(w){return w.id===s}));if(f<0)return this.addRule(s,u,l);var d=this.rules[f];d.selector=u,d.style=l;var _=this.getSheetRule(f);return _&&(_.selectorText.replace(/\s/gm,"")!==u.replace(/\s/gm,"")&&(_.selectorText=u,d.selector=_.selectorText),uS(_.style,l)),s},p.prototype.deleteRule=function(s){this.verifySheet();var u=this.rules.findIndex((function(f){return f.id===s}));if(!(u<0)){this.rules.splice(u,1);var l=this.sheet;l&&l.deleteRule(u)}},Object.defineProperty(p.prototype,"ruleNames",{get:function(){return this.rules.map((function(s){return s.id}))},enumerable:!1,configurable:!0}),p})();const UX=zX;var WX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function hu(p){return{thead:"thead-".concat(p),tbody:"tbody-".concat(p),tr:"tr-".concat(p),th:"th-".concat(p),td:"td-".concat(p)}}function py(p){var s=hu(p);return{thead:We(s.thead),tbody:We(s.tbody),tr:We(s.tr),th:We(s.th),td:We(s.td)}}var jX=(function(p){function s(u,l){var f=p.call(this,u)||this;f.id=l.startsWith("#")?l.slice(1):l,f.ids=hu(f.id),f.cssClasses=py(f.id);var d=u.getElementsByTagName("header")[0],_=u.getElementsByTagName("main")[0];self.setTimeout((function(){var x=(function(T){var M,N=(M=T.ownerDocument)===null||M===void 0?void 0:M.body;if(!N)return{width:10,height:10};N.insertAdjacentHTML("beforeend",'<div class="'.concat(PX,'"><div></div></div>'));var I=N.lastElementChild,G=I.offsetWidth-I.clientWidth,B=I.offsetHeight-I.clientHeight;return I.remove(),{width:G,height:B}})(u).width;f.updateRule("__scrollBarFix2","#header-".concat(f.id," > article:last-of-type"),{borderRight:"".concat(x,"px solid transparent")})}),20);var w=d.scrollLeft;return ly(_,"animation",(function(x){var T=x.left;w!==T&&(d.scrollLeft=T,w=T),u.classList.toggle(fy,x.left>0)})),f}return WX(s,p),s.prototype.update=function(u,l,f,d,_,w){w===void 0&&(w="px");var x=hu(_),T=py(_),M="".concat(l.reduce((function(N,I,G){return N+I.width+f(G)}),0)).concat(w);this.updateRule("__heightsRule".concat(T.tr),".".concat(T.tr),{height:"".concat(u,"px"),width:M}),this.updateRule("__heightsRule".concat(T.tbody),"#".concat(x.tbody),{width:M}),this.updateColumns(l,f,T,d,w)},s.prototype.remove=function(u){var l=py(u);this.deleteRule("__heightsRule".concat(l.tr)),this.deleteRule("__heightsRule".concat(l.tbody));for(var f="__col".concat(l.td,"_"),d=this.ruleNames.reduce((function(w,x){return w+(x.startsWith(f)?1:0)}),0),_=0;_<d;_+=1)this.deleteRule("".concat(f).concat(_))},s.prototype.updateColumns=function(u,l,f,d,_){var w=this;_===void 0&&(_="px");var x="__col".concat(f.td,"_"),T=new Set(this.ruleNames.filter((function(N){return N.startsWith(x)}))),M=0;u.forEach((function(N,I){var G=".".concat(f.th,'[data-id="').concat(N.id,'"]'),B={width:"".concat(N.width).concat(_)},U=".".concat(f.td,'[data-id="').concat(N.id,'"]'),$={transform:"translateX(".concat(M).concat(_,")"),width:"".concat(N.width).concat(_)};N.frozen&&(B.left="".concat(M,"px"),w.updateRule("".concat(x).concat(U,"F"),".".concat(f.td,".").concat(fy,'[data-id="').concat(N.id,'"]'),{transform:"translateX(0)",left:"".concat(M+d).concat(_)}),T.delete("".concat(x).concat(U,"F"))),w.updateRule("".concat(x).concat(G),G,B),T.delete("".concat(x).concat(G)),w.updateRule("".concat(x).concat(U),U,$),T.delete("".concat(x).concat(U)),M+=N.width+l(I)})),T.forEach((function(N){return w.deleteRule(N)}))},s})(UX);const YX=jX;var TI=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))},$X=(function(){function p(s,u,l){l===void 0&&(l={});var f=this;this.node=s,this.tableId=0,this.sections=[],this.options={columnPadding:0,async:yI,minScrollDelta:30},Object.assign(this.options,l);var d=u.startsWith("#")?u.slice(1):u;s.id=d,s.innerHTML='<header id="header-'.concat(d,'" class="').concat(kX," ").concat(We("header-".concat(d)),`">
      <footer class="`).concat(sS," ").concat(We("footer-".concat(d)),`">&nbsp;</footer>
    </header>
    <main id="body-`).concat(d,'" class="').concat(VX," ").concat(We("body-".concat(d)),`">
      <footer class="`).concat(sS,`">&nbsp;</footer>
    </main>`),s.classList.add(We(),IX,"lineup-engine"),this.style=new YX(this.node,d);var _=ly(this.main,this.options.async,(function(w){if(!(Math.abs(_.left-w.left)<f.options.minScrollDelta&&Math.abs(_.width-w.width)<f.options.minScrollDelta)){var x=w.left>_.left;_=w,f.onScrolledHorizontally(w.left,w.width,x)}}))}return p.prototype.update=function(){var s=this;this.onScrolledHorizontally(this.main.scrollLeft,this.main.clientWidth,!1);var u=0;this.sections.forEach((function(l){l.body.style.left="".concat(u,"px"),l.header.style.left="".concat(u,"px"),u+=l.width+s.options.columnPadding}))},p.prototype.onScrolledHorizontally=function(s,u,l){var f=this,d=0,_=s+u;this.sections.forEach((function(w){var x=d+w.width;x<s||d>_?w.hide():w.show(Math.max(0,s-d),Math.min(_-d,w.width),l),d=x+f.options.columnPadding})),this.updateOffset()},p.prototype.updateOffset=function(){var s=this,u=this.header.getElementsByTagName("footer")[0],l=this.main.getElementsByTagName("footer")[0],f=this.sections.reduce((function(_,w){return Math.max(_,w.height)}),0),d=this.sections.reduce((function(_,w){return _+w.width+s.options.columnPadding}),0);Ip(u,d,0),Ip(l,d,f)},p.prototype.destroy=function(){this.sections.forEach((function(s){return s.destroy()})),this.node.remove()},Object.defineProperty(p.prototype,"doc",{get:function(){return this.node.ownerDocument},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"header",{get:function(){return this.node.getElementsByTagName("header")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"main",{get:function(){return this.node.getElementsByTagName("main")[0]},enumerable:!1,configurable:!0}),p.prototype.pushTable=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];var f=this.doc.createElement("article"),d=this.doc.createElement("article"),_="".concat(this.node.id,"T").concat(this.tableId);this.tableId+=1;var w=hu(_),x=py(_);f.id=w.thead,f.classList.add(GX,x.thead),d.id=w.tbody,d.classList.add(FX,x.tbody),this.header.insertBefore(f,this.header.lastElementChild),this.main.appendChild(d);var T=s.call.apply(s,TI([this,f,d,_,this.style],u,!1));return T.init(),this.sections.push(T),this.update(),T},p.prototype.pushSeparator=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];var f=this.doc.createElement("section"),d=this.doc.createElement("section");f.classList.add(We("header-separator")),d.classList.add(We("separator")),this.header.insertBefore(f,this.header.lastElementChild),this.main.appendChild(d);var _=s.call.apply(s,TI([this,f,d,this.style],u,!1));return _.init(),this.sections.push(_),this.update(),_},p.prototype.remove=function(s){var u=this.sections.indexOf(s);return!(u<0||(this.sections.splice(u,1),s.destroy(),this.update(),0))},p.prototype.clear=function(){this.sections.splice(0,this.sections.length).forEach((function(s){return s.destroy()})),this.update()},p.prototype.widthChanged=function(){this.update()},p})();const qX=$X;function XX(p){var s=p.createTextNode(""),u=p.createElement("div");return u.appendChild(s),function(l){return l?(s.nodeValue=l,u.innerHTML):""}}var ZX=(function(){function p(s,u){return this.adapter=s,this.prefetchTimeout=-1,this.cleanupTimeout=-1,this.options={prefetchRows:20,cleanUpRows:10,delay:200},Object.assign(this.options,u),this}return p.prototype.prefetchDown=function(){if(this.prefetchTimeout=-1,!this.adapter.isScrollEventWaiting()){var s=this.adapter.context,u=Math.min(this.adapter.visible.forcedLast+this.options.prefetchRows,s.numberOfRows-1);this.adapter.visible.last===u&&this.adapter.visible.last>=this.adapter.visible.forcedLast+this.options.prefetchRows||(this.adapter.addAtBottom(this.adapter.visible.last+1,u),this.adapter.visible.last=u)}},p.prototype.prefetchUp=function(){if(this.prefetchTimeout=-1,!(this.adapter.isScrollEventWaiting()||this.adapter.visible.first<=this.adapter.visible.forcedFirst-this.options.prefetchRows)){var s=this.adapter.context,u=zs(Math.max(this.adapter.scrollOffset-this.options.prefetchRows*s.defaultRowHeight,0),this.adapter.scrollTotal,s.defaultRowHeight,s.exceptions,s.numberOfRows),l=u.first,f=u.firstRowPos;if(l!==this.adapter.visible.first){var d=this.adapter.syncFrozen?this.adapter.syncFrozen(l):0;this.adapter.addAtBeginning(l,this.adapter.visible.first-1,d),this.adapter.visible.first=l,this.adapter.updateOffset(f)}}},p.prototype.triggerPrefetch=function(s){this.prefetchTimeout>=0&&clearTimeout(this.prefetchTimeout);var u=this.adapter.visible.last<this.adapter.visible.forcedLast+this.options.prefetchRows,l=this.adapter.visible.first>this.adapter.visible.forcedFirst-this.options.prefetchRows,f=this.adapter.visible.last===this.adapter.context.numberOfRows,d=this.adapter.visible.first===0;if((!s||u||f)&&(s||l||d)){var _=s||d?this.prefetchDown.bind(this):this.prefetchUp.bind(this);this.prefetchTimeout=self.setTimeout(_,this.options.delay)}},p.prototype.cleanUpTop=function(s){if(this.cleanupTimeout=-1,!this.adapter.isScrollEventWaiting()){var u=Math.max(0,s-this.options.cleanUpRows);if(!(u<=this.adapter.visible.first)){var l=this.adapter.syncFrozen?this.adapter.syncFrozen(u):0;this.adapter.removeFromBeginning(this.adapter.visible.first,u-1,l);var f=this.adapter.context,d=(u-this.adapter.visible.first)*f.defaultRowHeight;if(f.exceptions.length>0)for(var _=this.adapter.visible.first;_<u;_+=1){var w=f.exceptionsLookup.get(_);w!=null&&(d+=w-f.defaultRowHeight)}this.adapter.visible.first=u,this.adapter.updateOffset(this.adapter.visibleFirstRowPos+d),this.prefetchDown()}}},p.prototype.cleanUpBottom=function(s){this.cleanupTimeout=-1;var u=s+this.options.cleanUpRows;this.adapter.visible.last<=u||(this.adapter.removeFromBottom(u+1,this.adapter.visible.last),this.adapter.visible.last=u,this.prefetchUp())},p.prototype.triggerCleanUp=function(s,u,l){this.cleanupTimeout>=0&&clearTimeout(this.cleanupTimeout),l&&s-this.options.cleanUpRows<=this.adapter.visible.first||!l&&this.adapter.visible.last<=u+this.options.cleanUpRows||(this.cleanupTimeout=self.setTimeout(l?this.cleanUpTop.bind(this):this.cleanUpBottom.bind(this),this.options.delay,l?s:u))},p.prototype.onScrolled=function(s,u){this.adapter.isScrollEventWaiting()||(u!==Qn.ALL&&this.options.cleanUpRows>0&&this.triggerCleanUp(this.adapter.visible.forcedFirst,this.adapter.visible.forcedLast,s),u!==Qn.NONE&&this.options.prefetchRows>0&&this.triggerPrefetch(s))},p})();const KX=ZX;var JX=(function(){function p(s,u,l,f){f===void 0&&(f=[]);var d=this;this.header=s,this.style=u,this.tableId=l,this.cellPool=[],this.loading=new WeakMap,this.visibleColumns={frozen:[],first:0,forcedFirst:0,last:-1,forcedLast:-1},this.visibleFirstColumnPos=0,this.horizontallyShifted=!1,this.columnAdapter=this.createColumnAdapter(),this.columnMixins=f.map((function(_){return new _(d.columnAdapter)})),this.columnFragment=s.ownerDocument.createDocumentFragment()}return p.prototype.leftShift=function(){var s=this.context,u=this.visibleColumns.frozen.reduce((function(l,f){return l+s.columns[f].width+s.column.padding(f)}),0);return this.visibleFirstColumnPos-u},Object.defineProperty(p.prototype,"headerScroller",{get:function(){return this.header.parentElement},enumerable:!1,configurable:!0}),p.prototype.addColumnMixin=function(s,u){this.columnMixins.push(new s(this.columnAdapter,u))},p.prototype.createColumnAdapter=function(){var s=this,u=this;return{visible:this.visibleColumns,addAtBeginning:this.addColumnAtStart.bind(this),addAtBottom:this.addColumnAtEnd.bind(this),removeFromBeginning:this.removeColumnFromStart.bind(this),removeFromBottom:this.removeColumnFromEnd.bind(this),updateOffset:this.updateColumnOffset.bind(this),scroller:this.headerScroller,syncFrozen:this.syncFrozen.bind(this),isScrollEventWaiting:function(){return mI(s.headerScroller,"animation")},get visibleFirstRowPos(){return u.visibleFirstColumnPos},get context(){return u.context.column},get scrollOffset(){return u.lastScrollInfo?u.lastScrollInfo.left:0},get scrollTotal(){return u.lastScrollInfo?u.lastScrollInfo.width:u.headerScroller.clientWidth}}},p.prototype.init=function(){var s=this,u=this.context;this.style.update(u.defaultRowHeight-u.padding(-1),u.columns,u.column.padding,0,this.tableId),u.columns.forEach((function(){s.cellPool.push([])}))},p.prototype.onScrolledHorizontally=function(s,u,l){for(var f=this.onScrolledHorizontallyImpl(s,u),d=0,_=this.columnMixins;d<_.length;d++)_[d].onScrolled(l,f);return f},p.prototype.removeColumnFromStart=function(s,u,l){var f=this;l===void 0&&(l=this.visibleColumns.frozen.length),this.forEachRow((function(d){f.removeCellFromStart(d,s,u,l)}))},p.prototype.removeCellFromStart=function(s,u,l,f){for(var d=u;d<=l;d+=1){var _=f===0?s.firstElementChild:s.children[f];_.remove(),this.recycleCell(_,d)}},p.prototype.removeColumnFromEnd=function(s,u){var l=this;this.forEachRow((function(f){l.removeCellFromEnd(f,s,u)}))},p.prototype.removeCellFromEnd=function(s,u,l){for(var f=l;f>=u;f-=1){var d=s.lastElementChild;d.remove(),this.recycleCell(d,f)}},p.prototype.removeFrozenCells=function(s,u,l){for(var f=0,d=u;f<d.length;f++){var _=d[f],w=s.children[l];w.remove(),this.recycleCell(w,_)}},p.prototype.removeFrozenColumns=function(s,u){var l=this;this.forEachRow((function(f){l.removeFrozenCells(f,s,u)}))},p.prototype.removeAllColumns=function(s){var u=this;this.forEachRow((function(l){u.removeAllCells(l,s)}))},p.prototype.removeAllCells=function(s,u,l){var f=this;l===void 0&&(l=this.visibleColumns.first);var d=Array.from(s.children),_=this.visibleColumns.frozen;if(uy(s),u||_.length===0)for(var w=0,x=_;w<x.length;w++){var T=x[w];this.recycleCell(d.shift(),T)}else for(T=0;T<_.length;T+=1)s.appendChild(d.shift());d.forEach((function(M,N){f.recycleCell(M,N+l)}))},p.prototype.selectProxyCell=function(s,u,l){var f,d=this.cellPool[u],_=l[u],w=void 0,x=d.pop(),T=x?this.updateCell(x,s,_)||x:this.createCell(this.header.ownerDocument,s,_);return $o(T)?(f=T.item,w=T.ready):f=T,f!==x&&(f.dataset.id=_.id,f.classList.add(xI,this.style.cssClasses.td,We("td-".concat(this.tableId)))),this.updateShiftedState(f,_),{item:f,ready:w}},p.prototype.handleCellReady=function(s,u,l){var f=this;l===void 0&&(l=-1),s.classList.add(Us);var d=u;return this.loading.set(s,d),d.then((function(_){f.loading.delete(s),s.classList.remove(Us),_===Jn&&l>=0&&f.cellPool[l].push(s)})),s},p.prototype.selectCell=function(s,u,l){var f=this.selectProxyCell(s,u,l),d=f.item,_=f.ready;return ru(_)?this.handleCellReady(d,_,u):d},p.prototype.updateShiftedState=function(s,u){s.classList.toggle(fy,u.frozen&&this.horizontallyShifted)},p.prototype.recycleCell=function(s,u){u===void 0&&(u=-1);var l=this.loading.get(s);l!=null?l.abort():!hy(s)&&u>=0&&this.cellPool[u].push(s)},p.prototype.addColumnAtStart=function(s,u,l){var f=this;l===void 0&&(l=this.visibleColumns.frozen.length);var d=this.context.columns;this.forEachRow((function(_,w){f.addCellAtStart(_,w,s,u,l,d)}))},p.prototype.addCellAtStart=function(s,u,l,f,d,_){for(var w=f;w>=l;w-=1){var x=this.selectCell(u,w,_);s.insertBefore(x,d>0?s.children[d]:s.firstChild)}},p.prototype.insertFrozenCells=function(s,u,l,f,d){for(var _=s.children[f],w=0,x=l;w<x.length;w++){var T=x[w],M=this.selectCell(u,T,d);_?s.insertBefore(M,_):s.appendChild(M)}},p.prototype.insertFrozenColumns=function(s,u){var l=this,f=this.context.columns;this.forEachRow((function(d,_){l.insertFrozenCells(d,_,s,u,f)}))},p.prototype.addColumnAtEnd=function(s,u){var l=this,f=this.context.columns;this.forEachRow((function(d,_){l.addCellAtEnd(d,_,s,u,f)}))},p.prototype.addCellAtEnd=function(s,u,l,f,d){for(var _=l;_<=f;_+=1){var w=this.selectCell(u,_,d);s.appendChild(w)}},p.prototype.updateHeaders=function(){var s=this,u=this.context.columns;Array.from(this.header.children).forEach((function(l,f){var d,_=l,w=u[f],x=s.updateHeader(_,w);(d=$o(x)?s.handleCellReady(x.item,x.ready,-1):x||_)!==_&&(d.dataset.id=w.id,d.classList.add(wI,s.style.cssClasses.th,We("th-".concat(s.tableId))),s.header.replaceChild(_,d))}))},p.prototype.recreate=function(s,u){var l,f=this,d=this.context;this.style.update(d.defaultRowHeight-d.padding(-1),d.columns,d.column.padding,0,this.tableId),this.clearPool();for(var _=this.cellPool.length;_<d.columns.length;_+=1)this.cellPool.push([]);for(var w=this.columnFragment,x=w.ownerDocument,T=new Map;this.header.lastChild;){var M=this.header.lastChild;this.header.removeChild(M),T.set((l=M.dataset.id)!==null&&l!==void 0?l:"",M)}d.columns.forEach((function($){var Q,nt=T.get($.id),ot=nt?f.updateHeader(nt,$)||nt:f.createHeader(x,$);(Q=$o(ot)?f.handleCellReady(ot.item,ot.ready,-1):ot)!==nt&&(Q.dataset.id=$.id,Q.classList.add(wI,f.style.cssClasses.th,We("th-".concat(f.tableId)))),w.appendChild(Q)})),this.header.appendChild(w);var N=zs(s,u,d.column.defaultRowHeight,d.column.exceptions,d.column.numberOfRows),I=N.first,G=N.last,B=N.firstRowPos;if(this.visibleColumns.first=I,this.visibleColumns.forcedFirst=I,this.visibleColumns.last=G,this.visibleColumns.forcedLast=G,d.columns.some((function($){return $.frozen}))){var U=_I([],d.columns,I).target;this.visibleColumns.frozen=U}else this.visibleColumns.frozen=[];this.updateColumnOffset(B)},p.prototype.clearPool=function(){this.cellPool.forEach((function(s){return s.splice(0,s.length)}))},p.prototype.updateColumnOffset=function(s){var u=s!==this.visibleFirstColumnPos;if(this.visibleFirstColumnPos=s,u){var l=this.context;this.style.update(l.defaultRowHeight-l.padding(-1),l.columns,l.column.padding,0,this.tableId)}},p.prototype.createRow=function(s,u){var l=this.context.columns,f=this.visibleColumns;if(f.frozen.length>0)for(var d=0,_=f.frozen;d<_.length;d++){var w=_[d],x=this.selectCell(u,w,l);s.appendChild(x)}for(w=f.first;w<=f.last;w+=1)x=this.selectCell(u,w,l),s.appendChild(x)},p.prototype.updateRow=function(s,u){var l,f=this.context.columns,d=this.visibleColumns;switch(s.childElementCount){case 0:d.frozen.length>0&&this.insertFrozenCells(s,u,d.frozen,0,f),this.addCellAtEnd(s,u,d.first,d.last,f);break;case 1:var _=s.firstElementChild,w=(l=_.dataset.id)!==null&&l!==void 0?l:"",x=f.findIndex((function(T){return T.id===w}));s.removeChild(_),x>=0&&this.recycleCell(_,x),d.frozen.length>0&&this.insertFrozenCells(s,u,d.frozen,0,f),this.addCellAtEnd(s,u,d.first,d.last,f);break;default:this.mergeColumns(s,u)}},p.prototype.mergeColumns=function(s,u){for(var l=this,f=this.context.columns,d=this.visibleColumns,_=new Map;s.lastChild;){var w=s.lastChild;s.removeChild(w),_.set(w.dataset.id,w)}for(var x=function(G){var B=f[G],U=_.get(B.id);if(U){_.delete(B.id);var $,Q=l.updateCell(U,u,B)||U;($=$o(Q)?l.handleCellReady(Q.item,Q.ready,G):Q)&&$!==U&&($.dataset.id=B.id,$.classList.add(xI,l.style.cssClasses.td,We("td-".concat(l.tableId)))),l.updateShiftedState($,B),s.appendChild($)}else{var nt=l.selectCell(u,G,f);s.appendChild(nt)}},T=0,M=d.frozen;T<M.length;T++)x(M[T]);for(var N=d.first;N<=d.last;N+=1)x(N);if(_.size!==0){var I=new Map(f.map((function(G,B){return[G.id,B]})));_.forEach((function(G,B){var U=I.get(B);U!=null&&U>=0&&l.recycleCell(G,U)}))}},p.prototype.updateShiftedStates=function(){if(this.context.columns.some((function(G){return G.frozen}))){var s=this.horizontallyShifted,u=fy;if(s){for(var l=Array.from(this.header.querySelectorAll(".".concat(cy,":not(.").concat(u,")"))),f=Array.from(this.body.querySelectorAll(".".concat(cy,":not(.").concat(u,")"))),d=0,_=l;d<_.length;d++)_[d].classList.add(u);for(var w=0,x=f;w<x.length;w++)x[w].classList.add(u)}else{l=Array.from(this.header.querySelectorAll(".".concat(cy,".").concat(u))),f=Array.from(this.body.querySelectorAll(".".concat(cy,".").concat(u)));for(var T=0,M=l;T<M.length;T++)M[T].classList.remove(u);for(var N=0,I=f;N<I.length;N++)I[N].classList.remove(u)}}},p.prototype.syncFrozen=function(s){var u=this.context.columns,l=this.visibleColumns;if(!u.some((function(T){return T.frozen})))return 0;if(s===0)return l.frozen.length>0&&(this.removeFrozenColumns(l.frozen,0),l.frozen=[]),0;var f=l.frozen.length,d=_I(l.frozen,u,s),_=d.target,w=d.added,x=d.removed;return x.length>0&&this.removeFrozenColumns(x,f-x.length),w.length>0&&this.insertFrozenColumns(w,f-x.length),l.frozen=_,_.length},p.prototype.onScrolledHorizontallyImpl=function(s,u){var l=this.horizontallyShifted!==s>0;this.horizontallyShifted=s>0;var f=this.context.column,d=zs(s,u,f.defaultRowHeight,f.exceptions,f.numberOfRows),_=d.first,w=d.last,x=d.firstRowPos,T=this.visibleColumns;if(T.forcedFirst=_,T.forcedLast=w,_-T.first>=0&&w-T.last<=0)return l&&this.updateShiftedStates(),Qn.NONE;var M=Qn.SOME,N=this.syncFrozen(_);return _>T.last||w<T.first?(this.removeAllColumns(!1),this.addColumnAtEnd(_,w),M=Qn.ALL):_<T.first?(this.removeColumnFromEnd(w+1,T.last),this.updateShiftedStates(),this.addColumnAtStart(_,T.first-1,N),M=Qn.SOME_TOP):(this.removeColumnFromStart(T.first,_-1,N),this.updateShiftedStates(),this.addColumnAtEnd(T.last+1,w),M=Qn.SOME_BOTTOM),T.first=_,T.last=w,this.updateColumnOffset(x),M},p})(),CI=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),QX=(function(p){function s(u,l,f,d,_){_===void 0&&(_={});var w=p.call(this,l,_)||this;w.header=u,w.body=l,w.tableId=f,w.style=d;var x=w,T=(function(M){function N(){return M!==null&&M.apply(this,arguments)||this}return CI(N,M),Object.defineProperty(N.prototype,"context",{get:function(){return x.context},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"body",{get:function(){return x.body},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"lastScrollInfo",{get:function(){return x.lastScrollInfo},enumerable:!1,configurable:!0}),N.prototype.createHeader=function(I,G){return x.createHeader(I,G)},N.prototype.updateHeader=function(I,G){return x.updateHeader(I,G)},N.prototype.createCell=function(I,G,B){return x.createCell(I,G,B)},N.prototype.updateColumnOffset=function(I){M.prototype.updateColumnOffset.call(this,I),x.updateOffset(x.visibleFirstRowPos)},N.prototype.updateCell=function(I,G,B){return x.updateCell(I,G,B)},N.prototype.forEachRow=function(I){return x.forEachRow(I)},N})(JX);return w.cell=new T(w.header,w.style,f,_.mixins||[]),w}return CI(s,p),s.prototype.addColumnMixin=function(u,l){this.cell.addColumnMixin(u,l)},Object.defineProperty(s.prototype,"idPrefix",{get:function(){return this.tableId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this.context.column.totalHeight},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"visibleColumns",{get:function(){return this.cell.visibleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"visibleFirstColumnPos",{get:function(){return this.cell.visibleFirstColumnPos},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.context.totalHeight},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hidden",{get:function(){return this.header.classList.contains(Us)},set:function(u){this.hidden!==u&&(this.header.classList.toggle(Us,u),this.body.classList.toggle(Us,u),this.header.classList.toggle(bI,u),this.body.classList.toggle(bI,u),this.onVisibilityChanged(!u))},enumerable:!1,configurable:!0}),s.prototype.updateSizer=function(u){this.updateShifts(u,this.cell.leftShift())},s.prototype.updateShifts=function(u,l){Ip(this.body,0,u.toFixed(0))},s.prototype.onVisibilityChanged=function(u){},s.prototype.hide=function(){this.hidden=!0},s.prototype.show=function(u,l,f){var d=this.hidden;this.hidden=!1,d?this.revalidate():this.onScrolledHorizontally(u,l,f)},s.prototype.init=function(){this.hide(),this.cell.init(),p.prototype.init.call(this)},s.prototype.destroy=function(){p.prototype.destroy.call(this),this.header.remove(),this.style.remove(this.tableId)},s.prototype.onScrolledVertically=function(u,l,f){return this.hidden?Qn.NONE:p.prototype.onScrolledVertically.call(this,u,l,f)},s.prototype.onScrolledHorizontally=function(u,l,f){var d=this.cell.onScrolledHorizontally(u,l,f);return this.updateSizer(this.visibleFirstRowPos),d},s.prototype.updateHeaders=function(){this.cell.updateHeaders()},s.prototype.handleCellReady=function(u,l,f){return f===void 0&&(f=-1),this.cell.handleCellReady(u,l,f)},s.prototype.recycleCell=function(u,l){l===void 0&&(l=-1),this.cell.recycleCell(u,l)},s.prototype.updateColumnWidths=function(){var u=this.context;this.style.update(u.defaultRowHeight-u.padding(-1),u.columns,u.column.padding,0,this.tableId)},s.prototype.recreate=function(u){var l=this.bodyScroller,f=l.scrollLeft;this.cell.recreate(f,l.clientWidth),p.prototype.recreate.call(this,u),l.scrollLeft=f},s.prototype.clearPool=function(){p.prototype.clearPool.call(this),this.cell.clearPool()},s.prototype.createRow=function(u,l){this.cell.createRow(u,l),u.classList.add(this.style.cssClasses.tr)},s.prototype.updateRow=function(u,l){this.cell.updateRow(u,l)},s})(HX);function AI(p){var s=new Map,u=new Map;return p.forEach((function(l,f){if(It(l))for(var d=0;d<l.order.length;++d)s.set(d,f);else l.group&&l.relativeIndex===0&&u.set(l.group.name,f)})),{item2groupIndex:s,group2firstItemIndex:u}}function DI(p){return It(p)?p.name:p.dataIndex.toString()}var tZ=(function(){function p(s,u,l,f){this.c=s,this.index=u,this.ctx=l,this.flags=f,this.renderers=null}return Object.defineProperty(p.prototype,"width",{get:function(){return this.c.getWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"id",{get:function(){return this.c.id},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"frozen",{get:function(){return!this.flags.disableFrozenColumns&&this.c.frozen},enumerable:!1,configurable:!0}),p.prototype.singleRenderer=function(){if(!this.renderers||!this.renderers.single)return null;if(this.renderers.singleTemplate)return this.renderers.singleTemplate.cloneNode(!0);var s=this.ctx.asElement(this.renderers.single.template);return s.classList.add(z("renderer-".concat(this.renderers.singleId)),z("detail")),s.dataset.renderer=this.renderers.singleId,s.dataset.group="d",this.renderers.singleTemplate=s.cloneNode(!0),s},p.prototype.groupRenderer=function(){if(!this.renderers||!this.renderers.group)return null;if(this.renderers.groupTemplate)return this.renderers.groupTemplate.cloneNode(!0);var s=this.ctx.asElement(this.renderers.group.template);return s.classList.add(z("renderer-".concat(this.renderers.groupId)),z("group")),s.dataset.renderer=this.renderers.groupId,s.dataset.group="g",this.renderers.groupTemplate=s.cloneNode(!0),s},p.prototype.summaryRenderer=function(){if(!this.renderers||!this.renderers.summary)return null;if(this.renderers.summaryTemplate)return this.renderers.summaryTemplate.cloneNode(!0);var s=this.ctx.asElement(this.renderers.summary.template);return s.classList.add(z("summary"),z("th-summary"),z("renderer-".concat(this.renderers.summaryId))),s.dataset.renderer=this.renderers.summaryId,this.renderers.summaryTemplate=s.cloneNode(!0),s},p.prototype.createHeader=function(){var s=iS(this.c,this.ctx,{extraPrefix:"th",dragAble:this.flags.advancedUIFeatures,mergeDropAble:this.flags.advancedModelFeatures&&this.flags.combineViaDragNDrop,rearrangeAble:this.flags.advancedUIFeatures,resizeable:this.flags.advancedUIFeatures});if(s.classList.add(z("header")),this.flags.disableFrozenColumns||s.classList.toggle(Se("frozen"),this.frozen),this.renderers&&this.renderers.summary){var u=this.summaryRenderer();s.appendChild(u)}return this.updateHeader(s)},p.prototype.hasSummaryLine=function(){return!!this.c.getMetaData().summary},p.prototype.updateHeader=function(s){if(yf(s,this.c),!this.renderers||!this.renderers.summary)return s;var u=s.getElementsByClassName(z("summary"))[0];u.remove(),u=this.summaryRenderer(),s.appendChild(u);var l=this.renderers.summary.update(u);return l?{item:s,ready:l}:s},p.prototype.createCell=function(s){var u=this.ctx.isGroup(s)?this.groupRenderer():this.singleRenderer();return this.updateCell(u,s)},p.prototype.updateCell=function(s,u){var l=this;this.flags.disableFrozenColumns||s.classList.toggle(Se("frozen"),this.frozen);var f,d=this.ctx.isGroup(u),_=s.dataset.renderer,w=d?this.renderers.groupId:this.renderers.singleId,x=s.dataset.group;if(_===w&&x===(d?"g":"d")||(s=d?this.groupRenderer():this.singleRenderer()),d){var T=this.ctx.getGroup(u);f=this.renderers.group.update(s,T)}else{var M=this.ctx.getRow(u),N=this.ctx.provider.getRow(M.dataIndex);f=Bt(N)?MI(N,(function(I){return l.renderers.single.update(s,I,M.relativeIndex,M.group)})):this.renderers.single.update(s,N,M.relativeIndex,M.group)}return f?{item:s,ready:f}:s},p.prototype.renderCell=function(s,u){var l=this.ctx.getRow(u),f=this.renderers.single;if(!f.render)return!1;var d=this.ctx.provider.getRow(l.dataIndex);return Bt(d)?MI(d,(function(_){return f.render(s,_,l.relativeIndex,l.group)||!1})):f.render(s,d,l.relativeIndex,l.group)||!1},p})();const cS=tZ;function MI(p,s){var u=!1,l=new Promise((function(f){u||p.then((function(d){if(!u){var _=s(d);return ru(_)?(l.abort=_.abort.bind(_),l.then(f)):f(_)}}))}));return l.abort=function(){u=!0},l}var eZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),rZ=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.summaries=[],u}return eZ(s,p),Object.defineProperty(s.prototype,"mc",{get:function(){return this.c},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this.c.getWidth()+ji*this.mc.length},enumerable:!1,configurable:!0}),s.prototype.createHeader=function(){var u=p.prototype.createHeader.call(this),l=this.ctx.document.createElement("div");return l.classList.add(z("nested")),l.classList.add(Gg(this.ctx.idPrefix,this.c)),$o(u)?u.item.appendChild(l):u.appendChild(l),this.updateNested(l,u)},s.prototype.matchChildren=function(u,l){var f=this;if(!l.every((function(_,w){var x=u.children[w];return x!=null&&x.dataset.colId===_.id}))||l.length!==u.childElementCount){var d=new Map(Array.from(u.children).map((function(_,w){return[_.dataset.colId,{node:_,summary:f.summaries[w]}]})));this.summaries=[],l.forEach((function(_,w){var x=d.get(_.id);if(x){d.delete(_.id);var T=x.node;return T.style.gridColumnStart=(w+1).toString(),u.appendChild(T),void(f.summaries[w]=x.summary)}var M=iS(_,f.ctx,{extraPrefix:"th",mergeDropAble:!1,dragAble:f.flags.advancedModelFeatures,rearrangeAble:f.flags.advancedModelFeatures,resizeable:f.flags.advancedModelFeatures});if(M.classList.add(z("header"),z("nested-th")),M.style.gridColumnStart=(w+1).toString(),u.appendChild(M),f.renderers&&f.renderers.summary){var N=f.ctx.summaryRenderer(_,!1),I=f.ctx.asElement(N.template);I.classList.add(z("summary"),z("th-summary"),z("renderer-".concat(_.getSummaryRenderer()))),I.dataset.renderer=_.getSummaryRenderer(),M.appendChild(I),f.summaries[w]=N,N.update(I)}})),d.forEach((function(_){return _.node.remove()}))}},s.prototype.updateHeader=function(u){var l=p.prototype.updateHeader.call(this,u),f=(u=$o(l)?l.item:l).getElementsByClassName(z("nested"))[0];return f?(u.appendChild(f),this.updateNested(f,l)):l},s.prototype.hasSummaryLine=function(){return p.prototype.hasSummaryLine.call(this)||this.mc.children.some((function(u){return!!u.getMetaData().summary}))},s.prototype.updateWidthRule=function(u){var l=this.mc.children.map((function(d){return"minmax(0, ".concat(Vt(d.getWidth()),"fr)")})),f=Gg(this.ctx.idPrefix,this.c);return u.updateRule("stacked-".concat(this.c.id),".".concat(f),{display:"grid",gridTemplateColumns:l.join(" ")}),f},s.prototype.updateNested=function(u,l){var f=this,d=this.mc.isShowNestedSummaries()?this.mc.children:[];this.matchChildren(u,d);var _,w=Array.from(u.children),x=[];return $o(l)?(x.push(l.ready),_=l.item):_=l,d.forEach((function(T,M){var N=w[M];if(yf(N,T),f.renderers&&f.renderers.summary){var I=N.getElementsByClassName(z("summary"))[0],G=I.dataset.renderer,B=T.getSummaryRenderer();if(G!==B){var U=f.ctx.summaryRenderer(T,!1);I.remove(),(I=f.ctx.asElement(U.template)).classList.add(z("summary"),z("th-summary"),z("renderer-".concat(B))),I.dataset.renderer=B,f.summaries[M]=U,N.appendChild(I)}var $=f.summaries[M].update(I);$&&x.push($)}})),x.length===0?_:{item:_,ready:gp(x)}},s})(cS);const dy=rZ;var nZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),iZ=(function(p){function s(u,l,f){var d,_=(f===void 0?{}:f).selectionActivateFilter,w=_===void 0||_,x=p.call(this)||this;x.ctx=u,x.body=l,x.selectionActivateFilter=!0,x.start=null,x.isFirefox=((d=vI())===null||d===void 0?void 0:d.name)==="firefox",x.selectionActivateFilter=w;var T=l.parentElement.parentElement,M=T.querySelector("hr");M||(M=T.ownerDocument.createElement("hr"),T.appendChild(M)),x.hr=M,x.hr.classList.add(z("hr"));var N=function(G){x.showHint(G)},I=function(G){if(x.body.removeEventListener("mousemove",N),x.body.removeEventListener("mouseup",I),x.body.removeEventListener("mouseleave",I),x.start){var B=Se("tr"),U=x.start.node.classList.contains(B)?x.start.node:x.start.node.closest(".".concat(B)),$=x.body.ownerDocument.elementFromPoint(G.clientX,G.clientY),Q=$.classList.contains(B)?$:$.closest(".".concat(B));x.start=null,x.body.classList.remove(z("selection-active")),x.hr.classList.remove(z("selection-active")),x.select(G.ctrlKey,U,Q)}};return x.selectionActivateFilter!==!1&&l.addEventListener("mousedown",(function(G){var B,U;if(x.selectionActivateFilter!==!1&&(x.selectionActivateFilter===!0||!((B=G.target)===null||B===void 0)&&B.matches(x.selectionActivateFilter)||((U=G.target)===null||U===void 0?void 0:U.closest(x.selectionActivateFilter))!=null)){var $=T.getBoundingClientRect();x.start={x:G.clientX,y:G.clientY,xShift:$.left,yShift:$.top,node:G.target},x.body.classList.add(z("selection-active")),l.addEventListener("mousemove",N,{passive:!0}),l.addEventListener("mouseup",I,{passive:!0}),l.addEventListener("mouseleave",I,{passive:!0})}}),{passive:!0}),x}return nZ(s,p),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_SELECT_RANGE])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.select=function(u,l,f){var d=this;if(l&&f&&l!==f){var _=Number.parseInt(l.dataset.index,10),w=Number.parseInt(f.dataset.index,10),x=Math.min(_,w),T=Math.max(_,w);x!==T&&requestAnimationFrame((function(){return d.fire(s.EVENT_SELECT_RANGE,x,T,u)}))}},s.prototype.showHint=function(u){var l=this.start,f=l.y,d=u.clientY,_=Math.abs(f-d)>s.MIN_DISTANCE;this.hr.classList.toggle(z("selection-active"),_),this.hr.style.transform="translate(".concat(l.x-l.xShift,"px,").concat(f-l.yShift,"px)scale(1,").concat(Math.abs(d-f),")rotate(").concat(d>f?90:-90,"deg)")},s.prototype.remove=function(u){u.onclick=void 0},s.prototype.add=function(u){var l=this;u.onclick=function(f){if(l.isFirefox){var d=u.getBoundingClientRect();if(f.offsetY<0||f.offsetY>d.height||f.offsetX<0||f.offsetY>d.width)return}var _=Number.parseInt(u.dataset.i,10);if(f.shiftKey){var w=Number.parseInt(u.dataset.index,10),x=u.parentElement.dataset.ranking;if(gN(l.ctx.provider,x,_,w,f.ctrlKey))return}l.ctx.provider.toggleSelection(_,f.ctrlKey)}},s.prototype.selectRange=function(u,l){l===void 0&&(l=!1);var f=new Zh(l?this.ctx.provider.getSelection():[]),d=function(_){f.has(_)?f.delete(_):f.add(_)};u.forEach((function(_){It(_)?Wc(_.order,d):d(_.dataIndex)})),this.ctx.provider.setSelection(Array.from(f))},s.prototype.updateState=function(u,l){this.ctx.provider.isSelected(l)?u.classList.add(z("selected")):u.classList.remove(z("selected"))},s.prototype.update=function(u,l){var f=Number.parseInt(u.dataset.i,10);l.has(f)?u.classList.add(z("selected")):u.classList.remove(z("selected"))},s.EVENT_SELECT_RANGE="selectRange",s.MIN_DISTANCE=10,s})(ga);const LI=iZ;var NI=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Op=(function(p){function s(){return p!==null&&p.apply(this,arguments)||this}return NI(s,p),s.prototype.fire=function(u){for(var l=[],f=1;f<arguments.length;f++)l[f-1]=arguments[f];p.prototype.fire.apply(this,(function(d,_,w){if(arguments.length===2)for(var x,T=0,M=_.length;T<M;T++)!x&&T in _||(x||(x=Array.prototype.slice.call(_,0,T)),x[T]=_[T]);return d.concat(x||Array.prototype.slice.call(_))})([u],l,!1))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_WIDTH_CHANGED,s.EVENT_UPDATE_DATA,s.EVENT_RECREATE,s.EVENT_HIGHLIGHT_CHANGED])},s.EVENT_WIDTH_CHANGED="widthChanged",s.EVENT_UPDATE_DATA="updateData",s.EVENT_RECREATE="recreate",s.EVENT_HIGHLIGHT_CHANGED="highlightChanged",s})(ga),pu={passive:!1},aZ=(function(p){function s(u,l,f,d,_,w,x){x===void 0&&(x={});var T=p.call(this,l,f,d,_,{mixins:[KX],batchSize:20})||this;T.ranking=u,T.ctx=w,T.loadingCanvas=new WeakMap,T.data=[],T.highlight=-1,T.canvasPool=[],T.currentCanvasShift=0,T.currentCanvasWidth=0,T.events=new Op,T.roptions={animation:!0,levelOfDetail:function(){return"high"},customRowUpdate:function(){},flags:{disableFrozenColumns:!1,advancedModelFeatures:!0,advancedRankingFeatures:!0,advancedUIFeatures:!0,combineViaDragNDrop:!0},selectionActivateFilter:!0},T.canvasMouseHandler={timer:new Set,hoveredRows:new Set,cleanUp:function(){var N=T.canvasMouseHandler;N.timer.forEach((function(U){clearTimeout(U)})),N.timer.clear();for(var I=0,G=Array.from(N.hoveredRows);I<G.length;I++){var B=G[I];N.unhover(B)}},enter:function(N){var I=T.canvasMouseHandler;I.cleanUp();var G=N.currentTarget;G.addEventListener("mouseleave",I.leave,pu),I.timer.add(setTimeout((function(){I.hoveredRows.add(G),T.updateHoveredRow(G,!0)}),500))},leave:function(N){var I=T.canvasMouseHandler,G=N.currentTarget!==void 0?N.currentTarget:N;I.unhover(G),I.cleanUp()},unhover:function(N){var I=T.canvasMouseHandler;I.hoveredRows.delete(N),N.removeEventListener("mouseleave",I.leave),!s.isCanvasRenderedRow(N)&&N.parentElement&&setTimeout((function(){return T.updateHoveredRow(N,!1)}))}},T.highlightHandler={enabled:!1,enter:function(N){if(T.highlight>=0){var I=T.body.getElementsByClassName(Se("highlighted"))[0];I&&I.classList.remove(Se("highlighted")),T.highlight=-1}var G=N.currentTarget,B=Number.parseInt(G.dataset.i||"-1",10);T.events.fire(s.EVENT_HIGHLIGHT_CHANGED,B)},leave:function(){if(T.highlight>=0){var N=T.body.getElementsByClassName(Se("highlighted"))[0];N&&N.classList.remove(Se("highlighted")),T.highlight=-1}T.events.fire(s.EVENT_HIGHLIGHT_CHANGED,-1)}},Object.assign(T.roptions,x),f.dataset.ranking=u.id;var M=T;return T.delayedUpdate=ja((function(){this.type===he.EVENT_DIRTY_VALUES?this.primaryType!==vt.EVENT_RENDERER_TYPE_CHANGED&&this.primaryType!==vt.EVENT_GROUP_RENDERER_TYPE_CHANGED&&this.primaryType!==vt.EVENT_LABEL_CHANGED&&M.updateBody():M.events.fire(s.EVENT_UPDATE_DATA)}),50,(function(N,I){return N.self.type===he.EVENT_ORDER_CHANGED?N:I})),T.delayedUpdateAll=ja((function(){return T.updateAll()}),50),T.delayedUpdateColumnWidths=ja((function(){return T.updateColumnWidths()}),50),u.on("".concat(he.EVENT_ADD_COLUMN,".hist"),(function(N,I){var G=T.ranking.children.slice(0,I).reduce((function(U,$){return U+($.isVisible()?0:1)}),0),B=I-G;T.columns.splice(B,0,T.createCol(N,B)),T.reindex(),T.delayedUpdateAll()})),u.on("".concat(he.EVENT_REMOVE_COLUMN,".body"),(function(N,I){s.disableListener(N);var G=T.ranking.children.slice(0,I).reduce((function(U,$){return U+($.isVisible()?0:1)}),0),B=I-G;T.columns.splice(B,1),T.reindex(),T.delayedUpdateAll()})),u.on("".concat(he.EVENT_MOVE_COLUMN,".body"),(function(N,I){var G=T.columns.findIndex((function(Q){return Q.c===N})),B=T.columns.splice(G,1)[0],U=T.ranking.children.slice(0,I).reduce((function(Q,nt){return Q+(nt.isVisible()?0:1)}),0),$=I-U;T.columns.splice(G<$?$-1:$,0,B),T.reindex(),T.delayedUpdateAll()})),u.on("".concat(he.EVENT_COLUMN_VISIBILITY_CHANGED,".body"),(function(N,I,G){if(G){var B=u.children.indexOf(N),U=T.ranking.children.slice(0,B).reduce((function(Q,nt){return Q+(nt.isVisible()?0:1)}),0),$=B-U;T.columns.splice($,0,T.createCol(N,$))}else B=T.columns.findIndex((function(Q){return Q.c===N})),s.disableListener(N),T.columns.splice(B,1);T.reindex(),T.delayedUpdateAll()})),u.on("".concat(he.EVENT_ORDER_CHANGED,".body"),T.delayedUpdate),T.selection=new LI(T.ctx,f,T.roptions),T.selection.on(LI.EVENT_SELECT_RANGE,(function(N,I,G){T.selection.selectRange(T.data.slice(N,I+1),G)})),T.renderCtx=Object.assign({isGroup:function(N){return It(T.data[N])},getRow:function(N){return T.data[N]},getGroup:function(N){return T.data[N]}},w),T.columns=u.children.filter((function(N){return N.isVisible()})).map((function(N,I){return T.createCol(N,I)})),T._context=Object.assign({columns:T.columns,column:Rp(T.columns.map((function(N){return N.width})),100,ji)},(function(N,I,G){G===void 0&&(G=0);var B=20+G;return{exceptions:[],exceptionsLookup:{keys:function(){return[].values()},get:function(){return B},has:function(){return!1},size:0},totalHeight:0*B,numberOfRows:0,defaultRowHeight:B,padding:function(){return G}}})()),T.columns.forEach((function(N){N instanceof dy&&N.updateWidthRule(T.style),N.renderers=T.ctx.createRenderer(N.c)})),T.style.updateRule("hoverOnly".concat(T.tableId),`
      #`.concat(hu(T.tableId).tbody,":hover > .").concat(Se("tr"),":hover .").concat(z("hover-only"),`,
      #`).concat(hu(T.tableId).tbody," > .").concat(Se("tr"),".").concat(z("selected")," .").concat(z("hover-only"),`,
      #`).concat(hu(T.tableId).tbody," > .").concat(Se("tr"),".").concat(Se("highlighted")," .").concat(z("hover-only")),{visibility:"visible"}),T.updateCanvasRule(),T}return NI(s,p),s.prototype.on=function(u,l){return this.events.on(u,l),this},Object.defineProperty(s.prototype,"id",{get:function(){return this.ranking.id},enumerable:!1,configurable:!0}),s.prototype.onVisibilityChanged=function(u){p.prototype.onVisibilityChanged.call(this,u),u&&this.delayedUpdate.call({type:he.EVENT_ORDER_CHANGED})},s.prototype.updateHeaders=function(){return this.updateColumnSummaryFlag(),p.prototype.updateHeaders.call(this)},Object.defineProperty(s.prototype,"currentData",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),s.prototype.createHeader=function(u,l){return l.createHeader()},s.prototype.updateColumnSummaryFlag=function(){this.header.classList.toggle(z("show-sublabel"),this.columns.some((function(u){return u.hasSummaryLine()})))},s.prototype.updateHeader=function(u,l){return l instanceof dy&&l.updateWidthRule(this.style),l.updateHeader(u)},s.prototype.createCell=function(u,l,f){return f.createCell(l)},s.prototype.createCellHandled=function(u,l){var f,d=u.createCell(l);return f=$o(d)?this.handleCellReady(d.item,d.ready,u.index):d,this.initCellClasses(f,u.id),f},s.prototype.updateCell=function(u,l,f){return f.updateCell(u,l)},s.prototype.selectCanvas=function(){if(this.canvasPool.length>0)return this.canvasPool.pop();var u=this.body.ownerDocument.createElement("canvas");return u.classList.add(z("low-c".concat(this.tableId))),u},s.prototype.rowFlags=function(u){var l=u,f=l.__lu__;return f??(l.__lu__={})},s.prototype.visibleRenderedWidth=function(){for(var u=0,l=0,f=this.visibleColumns.frozen;l<f.length;l++){var d=f[l];u+=this.columns[d].width+ji}for(d=this.visibleColumns.first;d<=this.visibleColumns.last;++d)u+=this.columns[d].width+ji;return u>0&&(u-=ji),u},s.prototype.pushLazyRedraw=function(u,l,f,d){var _=this;d.then((function(w){var x=_.loadingCanvas.get(u)||[],T=x.findIndex((function(N){return N.render===d&&N.col===f.index}));if(!(T<0)){if(x.splice(T,1),typeof w=="function"){var M=u.getContext("2d");M.clearRect(l-1,0,f.width+2,u.height),M.save(),M.translate(l,0),w(M),M.restore()}x.length>0||(_.loadingCanvas.delete(u),u.classList.remove(z("loading-c")))}})),this.loadingCanvas.has(u)?this.loadingCanvas.get(u).push({col:f.index,render:d}):(u.classList.add(z("loading-c")),this.loadingCanvas.set(u,[{col:f.index,render:d}]))},s.prototype.renderRow=function(u,l,f){var d=this;if(this.loadingCanvas.has(u)){for(var _=0,w=this.loadingCanvas.get(u);_<w.length;_++)w[_].render.abort();this.loadingCanvas.delete(u)}u.classList.remove(z("loading-c")),u.width=this.currentCanvasWidth,u.height=un;var x=u.getContext("2d");x.imageSmoothingEnabled=!1,x.clearRect(0,0,u.width,u.height),x.save();for(var T=[],M=0,N=function(ct){var kt=d.columns[ct],jt=kt.renderCell(x,f);jt===!0?T.push(kt):jt!==!1&&ru(jt)&&d.pushLazyRedraw(u,M,kt,jt);var Nt=kt.width+ji;M+=Nt,x.translate(Nt,0)},I=0,G=this.visibleColumns.frozen;I<G.length;I++)N(B=G[I]);for(var B=this.visibleColumns.first;B<=this.visibleColumns.last;++B)N(B);x.restore();var U=l.childElementCount-1;if(T.length!==0){if(T.length===1){var $=T[0];if(U===0)return(nt=this.createCellHandled($,f)).classList.add(z("low")),void l.appendChild(nt);var Q=l.lastElementChild;if(U===1&&Q.dataset.colId===$.id){if(hy(Q)){var nt=this.createCellHandled($,f);return l.replaceChild(nt,Q),void this.recycleCell(Q,$.index)}return void this.updateCellImpl($,l.lastElementChild,f)}}for(var ot=new Map(Array.from(l.children).slice(1).map((function(ct){return[ct.dataset.id,ct]}))),ft=0,Et=T;ft<Et.length;ft++){B=Et[ft];var At=ot.get(B.id);if(At&&!hy(At))ot.delete(B.id),this.updateCellImpl(B,At,f);else{var Ot=this.createCellHandled(B,f);Ot.classList.add(z("low")),l.appendChild(Ot)}}ot.forEach((function(ct){ct.remove(),d.recycleCell(ct)}))}else for(;l.lastElementChild!==l.firstElementChild;){var Wt=l.lastElementChild;l.removeChild(Wt),this.recycleCell(Wt)}},s.prototype.updateCanvasCell=function(u,l,f,d,_){if(this.loadingCanvas.has(u)){var w=this.loadingCanvas.get(u),x=w.filter((function(U){return U.col===d.index}));if(x.length>0){this.loadingCanvas.set(u,w.filter((function(U){return U.col!==d.index})));for(var T=0,M=x;T<M.length;T++)M[T].render.abort()}}var N=u.getContext("2d");N.clearRect(_-1,0,d.width+2,u.height),N.save(),N.translate(_,0);var I=d.renderCell(N,f);if(N.restore(),typeof I!="boolean"&&ru(I)&&this.pushLazyRedraw(u,_,d,I),I===!0||l.childElementCount!==1){var G=l.querySelector('[data-id="'.concat(d.id,'"]'));if(G&&!I)return G.remove(),void this.recycleCell(G,d.index);if(G)return this.updateCellImpl(d,G,f);var B=this.createCellHandled(d,f);B.classList.add(z("low")),l.appendChild(B)}},s.prototype.reindex=function(){this.columns.forEach((function(u,l){u.index=l}))},s.prototype.updateAll=function(){var u=this;this.columns.forEach((function(l,f){l.index=f,l.renderers=u.ctx.createRenderer(l.c)})),this._context=Object.assign({},this._context,{column:Rp(this.columns.map((function(l){return l.width})),100,ji)}),this.updateColumnSummaryFlag(),this.events.fire(s.EVENT_RECREATE),p.prototype.recreate.call(this),this.events.fire(s.EVENT_WIDTH_CHANGED)},s.prototype.updateBody=function(){var u=this;this.hidden||(this.events.fire(s.EVENT_WIDTH_CHANGED),p.prototype.forEachRow.call(this,(function(l,f){return u.updateRow(l,f)})))},s.prototype.updateHeaderOf=function(u){var l=this._context.columns.findIndex((function(_){return _.c===u}));if(l<0)return!1;var f=this.header.children[l],d=this._context.columns[l];return f&&d&&this.updateHeader(f,d),this.updateColumnSummaryFlag(),f&&d},s.prototype.createRow=function(u,l){u.classList.add(this.style.cssClasses.tr),this.roptions.customRowUpdate(u,l),this.highlightHandler.enabled&&(u.addEventListener("mouseenter",this.highlightHandler.enter,pu),this.rowFlags(u).highlight=!0);var f=this.renderCtx.isGroup(l),d=this.toRowMeta(l);if(d?u.dataset.meta=d:delete u.dataset.meta,f)return u.dataset.agg="group",void p.prototype.createRow.call(this,u,l);var _=this.renderCtx.getRow(l).dataIndex;u.classList.toggle(Se("highlighted"),this.highlight===_),u.dataset.i=_.toString(),u.dataset.agg="detail",this.selection.updateState(u,_),this.selection.add(u);var w=this.roptions.levelOfDetail(l)==="low";if(u.classList.toggle(z("low"),w),w&&!this.ctx.provider.isSelected(_)){var x=this.selectCanvas();u.appendChild(x),u.addEventListener("mouseenter",this.canvasMouseHandler.enter,pu),this.renderRow(x,u,l)}else p.prototype.createRow.call(this,u,l)},s.prototype.updateRow=function(u,l,f){this.roptions.customRowUpdate(u,l);var d=this.roptions.levelOfDetail(l),_=(f||d)==="low",w=u.classList.contains(z("low")),x=this.renderCtx.isGroup(l),T=u.dataset.agg==="group";u.classList.toggle(z("low"),d==="low"),this.highlightHandler.enabled&&!this.rowFlags(u).highlight&&(u.addEventListener("mouseenter",this.highlightHandler.enter,pu),this.rowFlags(u).highlight=!0),x!==T&&(_e(u),u.dataset.agg=x?"group":"detail",x?(u.dataset.i="",this.selection.remove(u)):this.selection.add(u)),!w||d&&!x||u.removeEventListener("mouseenter",this.canvasMouseHandler.enter);var M=this.toRowMeta(l);if(M?u.dataset.meta=M:delete u.dataset.meta,x)return u.classList.remove(Se("highlighted")),void p.prototype.updateRow.call(this,u,l);var N=this.renderCtx.getRow(l).dataIndex;u.classList.toggle(Se("highlighted"),this.highlight===N),u.dataset.i=N.toString(),this.selection.updateState(u,N);var I=w&&u.firstElementChild.nodeName.toLowerCase()==="canvas"?u.firstElementChild:null;if(!_||this.ctx.provider.isSelected(N))return I&&(this.recycleCanvas(I),_e(u),u.removeEventListener("mouseenter",this.canvasMouseHandler.enter)),void p.prototype.updateRow.call(this,u,l);if(w&&I)this.renderRow(I,u,l);else{_e(u),u.dataset.agg="detail";var G=this.selectCanvas();u.appendChild(G),u.addEventListener("mouseenter",this.canvasMouseHandler.enter,pu),this.renderRow(G,u,l)}},s.prototype.updateCanvasBody=function(){var u=this;this.updateCanvasRule(),p.prototype.forEachRow.call(this,(function(l,f){s.isCanvasRenderedRow(l)&&u.renderRow(l.firstElementChild,l,f)}))},s.prototype.toRowMeta=function(u){var l=this,f=this.renderCtx.provider;return(function(d,_,w){if(It(d)){if(b1(d,_,w))return"first";var x=Ig(d,w);return x===0?"first":"first last".concat(x===1?"":x-1)}if(Rg(d.relativeIndex,d.group,w(d.group))==null)return null;var T=Ig(d,w);return T===0?null:"last".concat(T===1?"":T-1)})(this.renderCtx.getRow(u),f.getAggregationStrategy(),(function(d){return f.getTopNAggregated(l.ranking,d)}))},s.prototype.updateCanvasRule=function(){this.style.updateRule("renderCanvas".concat(this.tableId),".".concat(z("low-c".concat(this.tableId))),{transform:"translateX(".concat(this.currentCanvasShift,"px)"),width:"".concat(this.currentCanvasWidth,"px")})},s.prototype.updateShifts=function(u,l){p.prototype.updateShifts.call(this,u,l);var f=this.visibleRenderedWidth();l===this.currentCanvasShift&&f===this.currentCanvasWidth||(this.currentCanvasShift=l,this.currentCanvasWidth=f,this.updateCanvasBody())},s.prototype.recycleCanvas=function(u){if(this.loadingCanvas.has(u)){for(var l=0,f=this.loadingCanvas.get(u);l<f.length;l++)f[l].render.abort();this.loadingCanvas.delete(u)}else u.classList.contains(z("loading-c"))||this.canvasPool.push(u)},s.prototype.enableHighlightListening=function(u){var l=this;if(this.highlightHandler.enabled!==u){if(this.highlightHandler.enabled=u,u)return this.body.addEventListener("mouseleave",this.highlightHandler.leave,pu),void p.prototype.forEachRow.call(this,(function(f){f.addEventListener("mouseenter",l.highlightHandler.enter,pu),l.rowFlags(f).highlight=!0}));this.body.removeEventListener("mouseleave",this.highlightHandler.leave),p.prototype.forEachRow.call(this,(function(f){f.removeEventListener("mouseenter",l.highlightHandler.enter),l.rowFlags(f).highlight=!1}))}},s.prototype.updateHoveredRow=function(u,l){if(s.isCanvasRenderedRow(u)===l){var f=Number.parseInt(u.dataset.index,10);this.updateRow(u,f,l?"high":"low")}},s.prototype.forEachRow=function(u,l){return l===void 0&&(l=!1),p.prototype.forEachRow.call(this,(function(f,d){s.isCanvasRenderedRow(f)||u(f,d)}),l)},s.prototype.updateSelection=function(u){var l=this;p.prototype.forEachRow.call(this,(function(f,d){l.renderCtx.isGroup(d)?l.updateRow(f,d):l.selection.update(f,u)}),!0)},s.prototype.updateColumnWidths=function(){var u=this;this._context.column=Rp(this._context.columns.map((function(l){return l.width})),100,ji),p.prototype.updateColumnWidths.call(this),this.context.columns.forEach((function(l){l instanceof dy&&l.updateWidthRule(u.style),l.renderers=u.ctx.createRenderer(l.c)})),this.events.fire(s.EVENT_WIDTH_CHANGED)},s.prototype.computeShiftedIndex=function(u){for(var l=this.context.columns,f=0,d=0,_=0,w=this.visibleColumns.frozen;_<w.length;_++){var x=w[_];if(x>=this.visibleColumns.first)break;f+=l[x].width+ji,d--}d+=this.visibleColumns.first;for(var T=this.visibleColumns.first;T<u;++T)f+=l[T].width+ji;return{leftOffset:f,indexOffset:d}},s.prototype.updateColumn=function(u){var l=this,f=this.context.columns[u];if(!f)return!1;var d=this.computeShiftedIndex(u),_=d.leftOffset,w=d.indexOffset;return p.prototype.forEachRow.call(this,(function(x,T){s.isCanvasRenderedRow(x)?l.updateCanvasCell(x.firstElementChild,x,T,f,_):l.updateCellImpl(f,x.children[u-w],T)})),!0},s.prototype.updateCellImpl=function(u,l,f){if(l){var d,_=this.updateCell(l,f,u);l!==(d=$o(_)?this.handleCellReady(_.item,_.ready,u.index):_)&&d&&(this.initCellClasses(d,u.id),l.parentElement.replaceChild(d,l))}},s.prototype.initCellClasses=function(u,l){u.dataset.id=l,u.classList.add(Se("td"),this.style.cssClasses.td,Se("td-".concat(this.tableId)))},s.prototype.destroy=function(){p.prototype.destroy.call(this),this.style.deleteRule("hoverOnly".concat(this.tableId)),this.style.deleteRule("renderCanvas".concat(this.tableId)),this.ranking.flatColumns.forEach((function(u){return s.disableListener(u)}))},s.prototype.groupData=function(){var u=this,l=this.ranking.getGroups(),f=this.ctx.provider,d=m1(f.getAggregationStrategy()),_=[];if(l.length===0)return _;var w=function($,Q,nt){_.push({group:$,dataIndex:Q,relativeIndex:nt})};if(l.length===1&&l[0].name===ht.name){for(var x=l[0],T=x.order.length,M=0;M<T;++M)w(x,x.order[M],M);return _}for(var N=gb(l),I=function($){var Q=f.getTopNAggregated(u.ranking,$),nt=$,ot=$;if((Q===0||d)&&_.push(nt),Q!==0&&Array.isArray(ot.subGroups)&&ot.subGroups.length>0)for(var ft=0,Et=ot.subGroups;ft<Et.length;ft++){var At=Et[ft];I(At)}else for(var Ot=Q<0?nt.order.length:Math.min(Q,nt.order.length),Wt=0;Wt<Ot;++Wt)w(nt,nt.order[Wt],Wt)},G=0,B=N;G<B.length;G++){var U=B[G];I(U)}return _},s.prototype.render=function(u,l){var f=this,d=this._context,_=this.data;if(this.data=u,this.columns.forEach((function(w,x){w.index=x,w.renderers=f.ctx.createRenderer(w.c)})),this._context=Object.assign({columns:this.columns,column:Rp(this.columns.map((function(w){return w.width})),100,ji)},l),this.bodyScroller)return this.events.fire(s.EVENT_RECREATE),p.prototype.recreate.call(this,this.roptions.animation?(function(w,x,T){var M,N=function(U){return DI(x[U])},I=function(U){return DI(T[U])};if(x.reduce((function(U,$){return U+(It($)?1:0)}),0)===T.reduce((function(U,$){return U+(It($)?1:0)}),0))return{currentKey:I,previous:w,previousKey:N};var G,B=[Object.assign({},fu[0],{apply:function(U,$){fu[0].apply(U),U.mode===Ir.SHOW&&(U.node.style.transform="translate(0, ".concat((function(Q,nt,ot){M||(M=AI(x));var ft=T[Q],Et=It(ft)?M.group2firstItemIndex.get(ft.name):M.item2groupIndex.get(ft.dataIndex);if(Et===void 0)return ot;var At=nt.posByKey(N(Et));return At.pos>=0?At.pos:ot})(U.current.index,$,U.previous.y)-U.nodeY,"px)"))}}),Object.assign({},fu[1],{apply:function(U,$,Q){fu[1].apply(U),U.mode===Ir.HIDE&&(U.node.style.transform="translate(0, ".concat((function(nt,ot,ft){G||(G=AI(T));var Et=x[nt],At=It(Et)?G.group2firstItemIndex.get(Et.name):G.item2groupIndex.get(Et.dataIndex);if(At===void 0)return ft;var Ot=ot.posByKey(I(At));return Ot.pos>=0?Ot.pos:ft})(U.previous.index,Q,U.current.y)-U.nodeY,"px)"))}}),fu[fu.length-1]];return{previous:w,previousKey:N,currentKey:I,phases:B}})(d,_,this.data):void 0)},s.prototype.setHighlight=function(u){this.highlight=u;var l=this.body.querySelector("[data-i].".concat(Se("highlighted")));if(l&&l.classList.remove(Se("highlighted")),u<0)return!1;var f=this.body.querySelector('[data-i="'.concat(u,'"]'));return f&&f.classList.add(Se("highlighted")),f!=null},s.prototype.findNearest=function(u){var l=this,f=u.find((function(I){return!!l.body.querySelectorAll('[data-i="'.concat(I,'"]'))}));if(f!=null)return f;for(var d=this.visible,_=new Set(u),w=-1,x=-1,T=d.first;T>=0;--T)if(!It(M=this.data[T])&&_.has(M.dataIndex)){w=T;break}for(T=d.last;T<this.data.length;++T){var M;if(!It(M=this.data[T])&&_.has(M.dataIndex)){x=T;break}}if(w<0&&w<0)return-1;var N=w>=0&&d.first-w<x-d.last?w:x;return this.data[N].dataIndex},s.prototype.scrollIntoView=function(u){var l=this,f=this.body.querySelector('[data-i="'.concat(u,'"]'));if(f)return f.scrollIntoView(!0),!0;var d=this.data.findIndex((function(M){return!It(M)&&M.dataIndex===u}));if(d<0)return!1;var _=(function(){var M=l._context;if(M.exceptions.length===0||d<M.exceptions[0].index)return d*M.defaultRowHeight;var N=M.exceptions.slice().reverse().find((function(G){return G.index<=d}));if(!N)return-1;if(N.index===d)return N.y;var I=d-N.index-1;return N.y2+I*M.defaultRowHeight})();if(_<0)return!1;var w=this.bodyScroller;if(!w)return!1;var x=w.scrollTop;w.scrollTop=Math.min(_,w.scrollHeight-w.clientHeight),this.onScrolledVertically(w.scrollTop,w.clientHeight,x<w.scrollTop);var T=this.body.querySelector('[data-i="'.concat(u,'"]'));return!!T&&(T.scrollIntoView(!0),!0)},s.prototype.getHighlight=function(){var u=this.body.querySelector("[data-i]:hover, [data-i].".concat(Se("highlighted")));return u?Number.parseInt(u.dataset.i,10):this.highlight},s.prototype.createCol=function(u,l){var f=this,d=Gt(u)&&!u.getCollapsed()?new dy(u,l,this.renderCtx,this.roptions.flags):new cS(u,l,this.renderCtx,this.roptions.flags);u.on("".concat(vt.EVENT_WIDTH_CHANGED,".body"),(function(){d.renderers=f.ctx.createRenderer(u),f.delayedUpdateColumnWidths()}));var _=ja((function(){f.updateColumn(d.index)||s.disableListener(u)}),25);u.on(["".concat(vt.EVENT_RENDERER_TYPE_CHANGED,".body"),"".concat(vt.EVENT_GROUP_RENDERER_TYPE_CHANGED,".body")],(function(){d.renderers=f.ctx.createRenderer(u),_()}));var w=this;return u.on("".concat(vt.EVENT_DIRTY_HEADER,".body"),(function(){w.updateHeaderOf(d.c)||s.disableListener(u)})),u.on(Fe(".body",vt.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,vt.EVENT_DIRTY_CACHES),(function(){d.renderers=f.ctx.createRenderer(u),f.updateHeaderOf(d.c)||s.disableListener(u)})),u.on("".concat(vt.EVENT_DIRTY_VALUES,".body"),_),Gt(u)&&(u.on("".concat($i.EVENT_COLLAPSE_CHANGED,".body"),(function(){s.disableListener(u);var x=d.index,T=f.createCol(u,x);T.index=x,f.columns.splice(x,1,T),f.delayedUpdateAll()})),u.getCollapsed()||(d.updateWidthRule(this.style),u.on("".concat($i.EVENT_MULTI_LEVEL_CHANGED,".body"),(function(){d.updateWidthRule(f.style)})),u.on("".concat($i.EVENT_MULTI_LEVEL_CHANGED,".bodyUpdate"),_))),d},s.isCanvasRenderedRow=function(u){return u.classList.contains(z("low"))&&u.childElementCount>=1&&u.firstElementChild.nodeName.toLowerCase()==="canvas"},s.disableListener=function(u){u.on("".concat(vt.EVENT_WIDTH_CHANGED,".body"),null),u.on(Fe(".body",vt.EVENT_RENDERER_TYPE_CHANGED,vt.EVENT_GROUP_RENDERER_TYPE_CHANGED,vt.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,vt.EVENT_DIRTY_CACHES,vt.EVENT_LABEL_CHANGED),null),u.on("".concat(he.EVENT_DIRTY_HEADER,".body"),null),u.on("".concat(he.EVENT_DIRTY_VALUES,".body"),null),Gt(u)&&(u.on("".concat($i.EVENT_COLLAPSE_CHANGED,".body"),null),u.on("".concat($i.EVENT_MULTI_LEVEL_CHANGED,".body"),null),u.on("".concat($i.EVENT_MULTI_LEVEL_CHANGED,".bodyUpdate"),null))},s.EVENT_WIDTH_CHANGED=Op.EVENT_WIDTH_CHANGED,s.EVENT_UPDATE_DATA=Op.EVENT_UPDATE_DATA,s.EVENT_RECREATE=Op.EVENT_RECREATE,s.EVENT_HIGHLIGHT_CHANGED=Op.EVENT_HIGHLIGHT_CHANGED,s})(QX);const du=aZ;var Bn;(function(p){p.ITEM="item",p.BAND="band"})(Bn||(Bn={}));var fS=(function(){function p(s,u,l){this.left=s,this.right=u,this.dataIndices=l}return p.prototype.isSelected=function(s){return this.dataIndices.length===1?s.has(this.dataIndices[0]):this.dataIndices.some((function(u){return s.has(u)}))},p.prototype.update=function(s,u){s.setAttribute("data-i",String(this.dataIndices[0])),s.setAttribute("class",z("slope")),s.setAttribute("d","M0,".concat(this.left,"L").concat(u,",").concat(this.right))},p})(),oZ=(function(){function p(s,u,l){this.left=s,this.right=u,this.dataIndices=l}return p.prototype.isSelected=function(s){return this.dataIndices.some((function(u){return s.has(u)}))},p.prototype.update=function(s,u){s.setAttribute("class",z("group-slope")),s.setAttribute("d","M0,".concat(this.left[0],"L").concat(u,",").concat(this.right[0],"L").concat(u,",").concat(this.right[1],"L0,").concat(this.left[1],"Z"))},p})(),sZ=(function(){function p(s,u,l,f,d){d===void 0&&(d={}),this.header=s,this.body=u,this.id=l,this.ctx=f,this.leftSlopes=[],this.rightSlopes=[],this.pool=[],this.scrollListener=null,this.width=P9,this.height=0,this.current=null,this.chosen=new Set,this.chosenSelectionOnly=new Set,this._mode=Bn.ITEM,this.node=s.ownerDocument.createElementNS("http://www.w3.org/2000/svg","svg"),this.node.innerHTML='<g transform="translate(0,0)"></g>',s.classList.add(z("slopegraph-header")),this._mode=d.mode===Bn.BAND?Bn.BAND:Bn.ITEM,this.initHeader(s),u.classList.add(z("slopegraph")),this.body.style.height="1px",u.appendChild(this.node)}return p.prototype.init=function(){var s=this;this.hide();var u=this.body.parentElement.__le_scroller__,l=u.asInfo();u.push("animation",this.scrollListener=function(f){Math.abs(l.top-f.top)<5||(l=f,s.onScrolledVertically(f.top,f.height))})},p.prototype.initHeader=function(s){var u=this,l=z("active");s.innerHTML='<i title="Item" class="'.concat(this._mode===Bn.ITEM?l:"",'">').concat(Kn("Item"),`</i>
        <i title="Band" class="`).concat(this._mode===Bn.BAND?l:"",'">').concat(Kn("Band"),"</i>");var f=Array.from(s.children);f.forEach((function(d,_){d.onclick=function(w){w.preventDefault(),w.stopPropagation(),d.classList.contains(l)||(u.mode=_===0?Bn.ITEM:Bn.BAND,f.forEach((function(x,T){return x.classList.toggle(l,T===_)})))}}))},Object.defineProperty(p.prototype,"mode",{get:function(){return this._mode},set:function(s){s!==this._mode&&(this._mode=s,this.current&&this.rebuild(this.current.leftRanking,this.current.left,this.current.leftContext,this.current.rightRanking,this.current.right,this.current.rightContext))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hidden",{get:function(){return this.header.classList.contains(Se("loading"))},set:function(s){this.header.classList.toggle(Se("loading"),s),this.body.classList.toggle(Se("loading"),s)},enumerable:!1,configurable:!0}),p.prototype.hide=function(){this.hidden=!0},p.prototype.show=function(){var s=this.hidden;this.hidden=!1,s&&this.revalidate()},p.prototype.destroy=function(){this.header.remove(),this.scrollListener&&this.body.parentElement.__le_scroller__.remove(this.scrollListener),this.body.remove()},p.prototype.rebuild=function(s,u,l,f,d,_){this.current={leftRanking:s,left:u,leftContext:l,right:d,rightRanking:f,rightContext:_};var w=this.prepareRightSlopes(d,_);this.computeSlopes(u,l,w),this.revalidate()},p.prototype.computeSlopes=function(s,u,l){var f=this,d=this.mode,_=new Map,w=0;this.leftSlopes=s.map((function(x,T){var M=u.exceptionsLookup.get(T)||u.defaultRowHeight,N=M-0,I=[],G=w;w+=M;var B,U=0,$=function(Wt,ct,kt,jt){kt===void 0&&(kt=1),jt===void 0&&(jt=0),I.push(Wt),Wc(ct.ref,(function(Nt){return f.rightSlopes[Nt].push(Wt)})),ct.offset+=kt*ct.heightPerRow,U+=kt*jt};if(It(x))B=x;else{var Q=x,nt=Q.dataIndex,ot=l.get(nt);if(!ot)return I;if(d===Bn.ITEM){var ft=new fS(G+N/2,ot.start+ot.offset+ot.heightPerRow/2,[nt]);return $(ft,ot),I}if(_.has(Q.group))return _.get(Q.group);var Et=(function(Wt,ct){for(var kt=0,jt=0,Nt=Wt;Nt<s.length;++Nt){var ee=s[Nt];if(It(ee)||ee.group!==ct)break;kt++,jt+=u.exceptionsLookup.get(Nt)||u.defaultRowHeight}return{gr:ct,padded:jt-u.padding(Wt+kt-1),height:jt}})(T,Q.group);B=Et.gr,M=Et.height,N=Et.padded,_.set(Q.group,I)}var At=new Set(B.order),Ot=N/B.order.length;return Wc(B.order,(function(Wt){if(At.has(Wt)){At.delete(Wt);var ct=l.get(Wt);if(ct){var kt=(function(ee,Ut){for(var Ne=[],Be=0;Be<ee.length;++Be)Ut(ee[Be])&&Ne.push(ee[Be]);return Ne})(ct.rows,(function(ee){return At.delete(ee)}));kt.push(Wt);var jt,Nt=kt.length;jt=Nt===1?new fS(G+U+Ot/2,ct.start+ct.offset+ct.heightPerRow/2,[Wt]):d===Bn.ITEM?new fS(G+U+Ot*Nt/2,ct.start+ct.offset+ct.heightPerRow*Nt/2,kt):new oZ([G+U,G+U+Ot*Nt],[ct.start+ct.offset,ct.start+ct.offset+ct.heightPerRow*Nt],kt),$(jt,ct,Nt,Ot)}}})),I}))},p.prototype.prepareRightSlopes=function(s,u){var l=new Map,f=this.mode,d=new Map,_=0;return this.rightSlopes=s.map((function(w,x){var T=u.exceptionsLookup.get(x)||u.defaultRowHeight,M=T-0,N=_;_+=T;var I=[],G={start:N,offset:0,ref:[x]};if(It(w)){var B=Object.assign(G,{rows:Array.from(w.order),heightPerRow:M/w.order.length,group:w});return Wc(w.order,(function(nt){return l.set(nt,B)})),I}var U=w,$=w.dataIndex,Q=Object.assign(G,{rows:[$],heightPerRow:M,group:U.group});return f===Bn.ITEM?(l.set($,Q),I):(d.has(U.group)?((Q=d.get(U.group)).rows.push($),Q.ref.push(x)):(Q.heightPerRow=T,d.set(U.group,Q)),l.set($,Q),I)})),l},p.prototype.revalidate=function(){if(this.current&&!this.hidden){var s=this.body.parentElement;this.onScrolledVertically(s.scrollTop,s.clientHeight)}},p.prototype.highlight=function(s){var u=Se("highlighted"),l=this.body.querySelector("[data-i].".concat(u));if(l&&l.classList.remove(u),s<0)return!1;var f=this.body.querySelector('[data-i="'.concat(s,'"]'));return f&&f.classList.add(u),f!=null},p.prototype.onScrolledVertically=function(s,u){if(this.current){var l=this.current,f=l.leftContext,d=l.rightContext,_=zs(s,u,f.defaultRowHeight,f.exceptions,f.numberOfRows),w=zs(s,u,d.defaultRowHeight,d.exceptions,d.numberOfRows),x=Math.min(_.firstRowPos,w.firstRowPos),T=Math.max(_.endPos,w.endPos);this.body.style.transform="translate(0, ".concat(x.toFixed(0),"px)"),this.body.style.height="".concat((T-x).toFixed(0),"px"),this.node.firstElementChild.setAttribute("transform","translate(0,-".concat(x.toFixed(0),")")),this.chosen=this.choose(_.first,_.last,w.first,w.last),this.render(this.chosen,this.chooseSelection(_.first,_.last,this.chosen))}},p.prototype.choose=function(s,u,l,f){for(var d=new Set,_=s;_<=u;++_)for(var w=0,x=this.leftSlopes[_];w<x.length;w++){var T=x[w];d.add(T)}for(_=l;_<=f;++_)for(var M=0,N=this.rightSlopes[_];M<N.length;M++)T=N[M],d.add(T);return d},p.prototype.chooseSelection=function(s,u,l){var f=new Set,d=this.ctx.provider;if(d.getSelection().length===0)return f;for(var _={has:function(G){return d.isSelected(G)}},w=0;w<s;++w)for(var x=0,T=this.leftSlopes[w];x<T.length;x++)(I=T[x]).isSelected(_)&&!l.has(I)&&f.add(I);for(w=u+1;w<this.leftSlopes.length;++w)for(var M=0,N=this.leftSlopes[w];M<N.length;M++){var I;(I=N[M]).isSelected(_)&&!l.has(I)&&f.add(I)}return f},p.prototype.updatePath=function(s,u,l,f,d){l.update(s,f),s.__data__=l;var _=l.isSelected(d);s.classList.toggle(z("selected"),_),_&&u.appendChild(s)},p.prototype.render=function(s,u){var l=this,f=this.node.firstElementChild,d=f.ownerSVGElement.getBoundingClientRect().width,_=this.matchLength(s.size+u.size,f),w=this.ctx.provider,x={has:function(N){return w.isSelected(N)}},T=0,M=function(N){l.updatePath(_[T++],f,N,d,x)};s.forEach(M),u.forEach(M)},p.prototype.addPath=function(s){var u=this,l=this.pool.pop();if(l)return s.appendChild(l),l;var f=s.ownerDocument.createElementNS("http://www.w3.org/2000/svg","path");return f.onclick=function(d){var _=f.__data__,w=u.ctx.provider,x=_.dataIndices;if(d.ctrlKey)x.forEach((function(M){return w.toggleSelection(M,!0)}));else{var T=w.isSelected(x[0]);w.setSelection(T?[]:x)}},s.appendChild(f),f},p.prototype.matchLength=function(s,u){for(var l=Array.from(u.children),f=s;f<l.length;++f){var d=l[f];this.pool.push(d),d.remove()}for(f=l.length;f<s;++f)l.push(this.addPath(u));return l},p.prototype.updateSelection=function(s){var u=this.node.firstElementChild,l=Array.from(u.children),f=new Set(s);if(s.size!==0){for(var d=0,_=l;d<_.length;d++){var w=($=(U=_[d]).__data__).isSelected(s);U.classList.toggle(z("selected"),w),w?(u.appendChild(U),$.dataIndices.forEach((function(Q){return f.delete(Q)}))):this.chosenSelectionOnly.delete($)&&U.remove()}if(f.size!==0)for(var x=u.ownerSVGElement.getBoundingClientRect().width,T=0,M=this.leftSlopes;T<M.length;T++)for(var N=0,I=M[T];N<I.length;N++)$=I[N],this.chosen.has($)||this.chosenSelectionOnly.has($)||!$.isSelected(f)||(this.chosenSelectionOnly.add($),U=this.addPath(u),this.updatePath(U,u,$,x,f))}else{for(var G=0,B=l;G<B.length;G++){var U,$=(U=B[G]).__data__;U.classList.toggle(z("selected"),!1),this.chosenSelectionOnly.has($)&&U.remove()}this.chosenSelectionOnly.clear()}},p})();const RI=sZ;var lZ=(function(){function p(s){var u=this;this.scrollerNode=s,this.blocks=[];var l=s.ownerDocument.createElement("div");this.node=l,l.classList.add(z("selection-indicator"));var f=s.ownerDocument.createElement("canvas");l.appendChild(f),this.canvas=f,this.canvas.width=4,this.canvas.addEventListener("click",(function(d){u.onClick(d.clientY-u.canvas.getBoundingClientRect().top)}))}return p.prototype.toSelectionBlocks=function(s,u,l,f){if(!(s&&u&&l&&l.size!==0&&f))return[];if(f>u.totalHeight)return[];var d=function(G){if(u.exceptions.length===0||G<u.exceptions[0].index)return G*u.defaultRowHeight;var B=u.exceptions.slice().reverse().find((function($){return $.index<=G}));if(!B)return-1;if(B.index===G)return B.y;var U=G-B.index-1;return B.y2+U*u.defaultRowHeight},_=[],w=null,x=-1;s.forEach((function(G,B){var U,$,Q=It(G)?(function(nt,ot){var ft=0,Et=0,At=nt.order.length;return tg(nt.order,(function(Ot){return ot.has(Ot)?ft++:Et++,!(2*ft>At||2*Et>At)})),2*ft>At})(G,l):l.has(G.dataIndex);if(Q){if(w&&x+1===B)return w.height+=(U=u.exceptionsLookup.get(B))!==null&&U!==void 0?U:u.defaultRowHeight,void(x=B);w={firstRow:G,height:($=u.exceptionsLookup.get(B))!==null&&$!==void 0?$:u.defaultRowHeight,y:0,rawY:d(B)},_.push(w),x=B}}));for(var T=f/u.totalHeight,M=0,N=_;M<N.length;M++){var I=N[M];I.y=I.rawY*T,I.height=Math.max(1,I.height*T)}return _},p.prototype.updateData=function(s,u){this.data=s,this.rowContext=u,this.render()},p.prototype.updateSelection=function(s){this.selection=s,this.render()},p.prototype.onClick=function(s){if(this.blocks&&this.blocks.length!==0&&this.rowContext){var u=this.blocks.find((function(f){return s>=f.y&&s<=f.y+f.height}));if(u){var l=u.rawY-this.rowContext.defaultRowHeight;this.scrollerNode.scrollTo({behavior:"auto",top:Math.max(l,0)})}}},p.prototype.render=function(){var s=this.scrollerNode.offsetHeight;if(this.canvas.height=s,this.selection&&this.data&&this.rowContext&&(this.blocks=this.toSelectionBlocks(this.data,this.rowContext,this.selection,s),this.node.classList.toggle(z("some-selection"),this.blocks.length>0),this.blocks.length!==0)){var u=this.canvas.getContext("2d");u.resetTransform(),u.clearRect(0,0,4,s),u.fillStyle=O9;for(var l=0,f=this.blocks;l<f.length;l++){var d=f[l];u.fillRect(0,d.y,4,d.height)}}},p})();const II=lZ;var uZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),cZ=(function(p){function s(u,l,f){var d=p.call(this)||this;d.data=u,d.rankings=[],d.slopeGraphs=[],d.updateAbles=[],d.zoomFactor=1,d.enabledHighlightListening=!1,d.options=f,d.idPrefix=d.options.instanceId?"lu-".concat(d.options.instanceId):"lu-".concat(Math.random().toString(36).slice(-8).substring(0,3)),d.node=l.ownerDocument.createElement("main"),d.node.id=d.idPrefix,d.node.classList.toggle(z("whole-hover"),f.expandLineOnHover),l.appendChild(d.node);var _,w,x,T=new mf({doc:l.ownerDocument,livePreviews:f.livePreviews,onDialogBackgroundClick:f.onDialogBackgroundClick});d.forward.apply(d,(function(U,$,Q){if(arguments.length===2)for(var nt,ot=0,ft=$.length;ot<ft;ot++)!nt&&ot in $||(nt||(nt=Array.prototype.slice.call($,0,ot)),nt[ot]=$[ot]);return U.concat(nt||Array.prototype.slice.call($))})([T],Fe(".main",s.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED),!1)),l.appendChild(T.node),d.ctx={idPrefix:d.idPrefix,document:l.ownerDocument,provider:u,tasks:u.getTaskExecutor(),dialogManager:T,resolveToolbarActions:function(U,$){return d.options.resolveToolbarActions(U,$,d.options.toolbarActions)},resolveToolbarDialogAddons:function(U,$){return d.options.resolveToolbarDialogAddons(U,$,d.options.toolbarDialogAddons)},flags:d.options.flags,asElement:(_=l.ownerDocument,w=new Map,x=_.createElement("div"),function(U){if(w.has(U))return w.get(U).cloneNode(!0);x.innerHTML=U;var $=x.firstElementChild;return w.set(U,$.cloneNode(!0)),$}),sanitize:XX(l.ownerDocument),renderer:function(U,$){var Q=(function(nt,ot){var ft=ot[nt.getRenderer()];return ft&&typeof ft.create=="function"?ft:ey})(U,d.options.renderers);return Q.create(U,d.ctx,$)},groupRenderer:function(U,$){var Q=(function(nt,ot){var ft=ot[nt.getGroupRenderer()];return ft&&typeof ft.createGroup=="function"?ft:ey})(U,d.options.renderers);return Q.createGroup(U,d.ctx,$)},summaryRenderer:function(U,$,Q){var nt=(function(ot,ft){var Et=ft[ot.getSummaryRenderer()];return Et&&typeof Et.createSummary=="function"?Et:ey})(U,d.options.renderers);return nt.createSummary(U,d.ctx,$,Q)},createRenderer:function(U,$){return{single:this.renderer(U,$),group:this.groupRenderer(U,$),summary:f.summaryHeader?this.summaryRenderer(U,!1,$):null,singleId:U.getRenderer(),groupId:U.getGroupRenderer(),summaryId:U.getSummaryRenderer(),singleTemplate:null,groupTemplate:null,summaryTemplate:null}},getPossibleRenderer:function(U){return(function($,Q,nt){var ot=Object.keys(Q).filter(Boolean).map((function(Ot){return{type:Ot,factory:Q[Ot]}})),ft=ot.filter((function(Ot){var Wt=Ot.type,ct=Ot.factory;return typeof ct.create=="function"&&ct.canRender($,Re.CELL)&&(!nt||nt(Wt,ct,$,Re.CELL))})),Et=ot.filter((function(Ot){var Wt=Ot.type,ct=Ot.factory;return typeof ct.createGroup=="function"&&ct.canRender($,Re.GROUP)&&(!nt||nt(Wt,ct,$,Re.GROUP))})),At=ot.filter((function(Ot){var Wt=Ot.type,ct=Ot.factory;return typeof ct.createSummary=="function"&&ct.canRender($,Re.SUMMARY)&&(!nt||nt(Wt,ct,$,Re.SUMMARY))}));return{item:ft.map((function(Ot){return{type:Ot.type,label:Ot.factory.title}})),group:Et.map((function(Ot){var Wt=Ot.type,ct=Ot.factory;return{type:Wt,label:ct.groupTitle||ct.title}})),summary:At.map((function(Ot){var Wt=Ot.type,ct=Ot.factory;return{type:Wt,label:ct.summaryTitle||ct.groupTitle||ct.title}}))}})(U,d.options.renderers,d.options.canRender)},colWidth:function(U){return U.isVisible()?U.getWidth():0},caches:{toolbar:new Map,toolbarAddons:new Map}},d.table=new qX(d.node,d.idPrefix);var M=d.table.node.querySelector(".".concat(Se("body")," .").concat(Se("footer"))),N=M.cloneNode(!0);N.classList.add(z("resize-helper")),M.insertAdjacentElement("afterend",N);var I=d.table.node.querySelector(".".concat(Se("body")));d.selectionIndicator=new II(I),l.insertBefore(d.selectionIndicator.node,d.node),d.style.addRule("lineup_rowPadding0",`
        .`.concat(d.style.cssClasses.tr),{marginTop:"".concat(f.rowPadding,"px")});for(var G=0;G<4;++G)d.style.addRule("lineup_groupPadding".concat(G),`
        .`.concat(d.style.cssClasses.tr,"[data-meta~=last").concat(G===0?"":G,"]"),{marginBottom:"".concat(f.groupPadding*(G+1),"px")});for(d.style.addRule("lineup_rowPaddingAgg0",`
        .`.concat(z("agg-level"),"::after"),{top:"-".concat(f.rowPadding,"px")}),G=1;G<=4;++G)d.style.addRule("lineup_rowPaddingAgg".concat(G),`
        .`.concat(z("agg-level"),"[data-level='").concat(G,"']::after"),{top:"-".concat(f.rowPadding+f.groupPadding,"px")});d.style.addRule("lineup_rotation",`
       #`.concat(d.idPrefix,".").concat(z("rotated-label")," .").concat(z("label"),".").concat(z("rotated")),{transform:"rotate(".concat(-d.options.labelRotation,"deg)")});var B=[];return d.options.flags.advancedRankingFeatures||B.push("ranking"),d.options.flags.advancedModelFeatures||B.push("model"),d.options.flags.advancedUIFeatures||B.push("ui"),B.length>0&&d.style.addRule("lineup_feature_disable",`
        `.concat(B.map((function(U){return".".concat(z("feature"),"-").concat(U,".").concat(z("feature-advanced"))})).join(", ")),{display:"none !important"}),d.initProvider(u),d.resizeObserver=new ResizeObserver(ja((function(){d.update()}),100)),d.resizeObserver.observe(d.node.parentElement,{box:"content-box"}),d}return uZ(s,p),Object.defineProperty(s.prototype,"style",{get:function(){return this.table.style},enumerable:!1,configurable:!0}),s.prototype.zoomOut=function(){this.zoomFactor=Math.max(this.zoomFactor-.1,.5),this.updateZoomFactor(),this.update()},s.prototype.zoomIn=function(){this.zoomFactor=Math.min(this.zoomFactor+.1,2),this.updateZoomFactor(),this.update()},s.prototype.updateZoomFactor=function(){this.node.querySelector("main").style.fontSize="".concat(100*this.zoomFactor,"%")},s.prototype.pushUpdateAble=function(u){this.updateAbles.push(u)},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_HIGHLIGHT_CHANGED,s.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.setDataProvider=function(u){this.takeDownProvider(),this.data=u,this.ctx.provider=u,this.ctx.tasks=u.getTaskExecutor(),this.initProvider(u)},s.prototype.takeDownProvider=function(){var u=this;this.data.on("".concat(Ae.EVENT_SELECTION_CHANGED,".body"),null),this.data.on("".concat(Ae.EVENT_ADD_RANKING,".body"),null),this.data.on("".concat(Ae.EVENT_REMOVE_RANKING,".body"),null),this.data.on("".concat(Ae.EVENT_GROUP_AGGREGATION_CHANGED,".body"),null),this.data.on("".concat(Ae.EVENT_SHOWTOPN_CHANGED,".body"),null),this.data.on("".concat(Ae.EVENT_JUMP_TO_NEAREST,".body"),null),this.data.on("".concat(Ae.EVENT_BUSY,".body"),null),this.rankings.forEach((function(l){return u.table.remove(l)})),this.rankings.splice(0,this.rankings.length),this.slopeGraphs.forEach((function(l){return u.table.remove(l)})),this.slopeGraphs.splice(0,this.slopeGraphs.length)},s.prototype.initProvider=function(u){var l=this;u.on("".concat(Ae.EVENT_SELECTION_CHANGED,".body"),(function(){return l.updateSelection(u.getSelection())})),u.on("".concat(Ae.EVENT_ADD_RANKING,".body"),(function(f){l.addRanking(f)})),u.on("".concat(Ae.EVENT_REMOVE_RANKING,".body"),(function(f){l.removeRanking(f)})),u.on("".concat(Ae.EVENT_GROUP_AGGREGATION_CHANGED,".body"),(function(f){l.update(l.rankings.filter((function(d){return d.ranking===f})))})),u.on("".concat(Ae.EVENT_SHOWTOPN_CHANGED,".body"),(function(){l.update(l.rankings)})),u.on("".concat(Ae.EVENT_JUMP_TO_NEAREST,".body"),(function(f){l.setHighlightToNearest(f,!0)})),this.ctx.provider=u,this.data.getRankings().forEach((function(f){return l.addRanking(f)}))},s.prototype.updateSelection=function(u){var l=new Set(u);this.rankings.forEach((function(f){return f.updateSelection(l)})),this.slopeGraphs.forEach((function(f){return f.updateSelection(l)})),this.selectionIndicator.updateSelection(l)},s.prototype.updateHist=function(u,l){if(this.options.summaryHeader){for(var f=0,d=u?[u]:this.rankings;f<d.length;f++){var _=d[f];l?_.updateHeaderOf(l):_.updateHeaders()}this.updateUpdateAbles()}},s.prototype.addRanking=function(u){var l=this;if(this.rankings.length>0){var f=this.table.pushSeparator((function(_,w){return new RI(_,w,"".concat(u.id,"S"),l.ctx,{mode:l.options.defaultSlopeGraphMode==="band"?Bn.BAND:Bn.ITEM})}));this.slopeGraphs.push(f)}var d=this.table.pushTable((function(_,w,x,T){return new du(u,_,w,x,T,l.ctx,{animation:l.options.animated,customRowUpdate:l.options.customRowUpdate||function(){},levelOfDetail:l.options.levelOfDetail||function(){return"high"},flags:l.options.flags,selectionActivateFilter:l.options.selectionActivateFilter})}));d.on(du.EVENT_WIDTH_CHANGED,(function(){l.updateRotatedHeaderState(),l.table.widthChanged()})),d.on(du.EVENT_UPDATE_DATA,(function(){return l.update([d])})),d.on(du.EVENT_RECREATE,(function(){return l.updateUpdateAbles()})),this.forward(d,du.EVENT_HIGHLIGHT_CHANGED),this.enabledHighlightListening&&d.enableHighlightListening(!0),u.on(Fe(".renderer",he.EVENT_ORDER_CHANGED),(function(){return l.updateHist(d)})),this.rankings.push(d),this.update([d])},s.prototype.updateRotatedHeaderState=function(){if(this.options.labelRotation!==0){var u=this.node.querySelector(".".concat(z("label"),".").concat(z("rotated")));this.node.classList.toggle(z("rotated-label"),!!u)}},s.prototype.removeRanking=function(u){if(!u)return this.rankings.splice(0,this.rankings.length),this.slopeGraphs.splice(0,this.slopeGraphs.length),void this.table.clear();var l=this.rankings.findIndex((function(_){return _.ranking===u}));if(!(l<0)){var f=this.rankings.splice(l,1)[0],d=this.slopeGraphs.splice(l===0?l:l-1,1)[0];this.table.remove(f),d&&this.table.remove(d)}},s.prototype.update=function(u){var l=this;if(u===void 0&&(u=this.rankings),(u=u.filter((function(N){return!N.hidden&&N.body.parentElement}))).length!==0){for(var f=function(N){return Vt(N,2)},d=f(this.zoomFactor*this.options.rowPadding),_=f(this.zoomFactor*this.options.groupPadding),w=function(N){var I=N.groupData(),G=(function(ft,Et){if(l.options.dynamicHeight){var At=l.options.dynamicHeight(Et,ft),Ot=function(kt,jt){return typeof kt=="number"?kt:kt(jt)};if(At)return{defaultHeight:f(l.zoomFactor*At.defaultHeight),height:function(kt){return f(l.zoomFactor*Ot(At.height,kt))},padding:function(kt){return f(l.zoomFactor*Ot(At.padding,kt))}}}var Wt=f(l.zoomFactor*l.options.rowHeight),ct=f(l.zoomFactor*l.options.groupHeight);return{defaultHeight:Wt,height:function(kt){return It(kt)?ct:Wt},padding:d}})(N.ranking,I),B=G.height,U=G.defaultHeight,$=G.padding,Q=x.data.getAggregationStrategy(),nt=function(ft){return l.data.getTopNAggregated(N.ranking,ft)},ot=Rp(I.map(B),U,(function(ft){var Et=typeof $=="number"?$:$(I[ft]||null),At=I[ft];return ft<0||!At||It(At)&&b1(At,Q,nt)?Et:Et+_*Ig(At,nt)}));N.render(I,ot),N===x.rankings[0]&&x.selectionIndicator.updateData(I,ot)},x=this,T=0,M=u;T<M.length;T++)w(M[T]);this.updateSlopeGraphs(u),this.updateUpdateAbles(),this.updateRotatedHeaderState(),this.table.widthChanged()}},s.prototype.updateUpdateAbles=function(){for(var u=0,l=this.updateAbles;u<l.length;u++)(0,l[u])(this.ctx)},s.prototype.updateSlopeGraphs=function(u){var l=this;u===void 0&&(u=this.rankings);for(var f=new Set(u.map((function(N){return l.rankings.indexOf(N)}))),d=0;d<this.slopeGraphs.length;++d){var _=this.slopeGraphs[d];if(_.hidden)return;var w=d,x=d+1;if(!f.has(w)&&!f.has(x))return;var T=this.rankings[w],M=this.rankings[x];_.rebuild(T.ranking,T.currentData,T.context,M.ranking,M.currentData,M.context)}},s.prototype.setHighlight=function(u,l){var f=this.rankings.map((function(d){return d.setHighlight(u)}));return this.fire(s.EVENT_HIGHLIGHT_CHANGED,u),!(this.rankings.length===0||u<0)&&(l?this.rankings[0].scrollIntoView(u):f[0])},s.prototype.setHighlightToNearest=function(u,l){if(this.rankings.length===0)return!1;var f=this.rankings[0].findNearest(u);return f>=0?this.setHighlight(f,l):(this.setHighlight(-1,!1),!1)},s.prototype.getHighlight=function(){for(var u=0,l=this.rankings;u<l.length;u++){var f=l[u].getHighlight();if(f>=0)return f}return-1},s.prototype.enableHighlightListening=function(u){for(var l=0,f=this.rankings;l<f.length;l++)f[l].enableHighlightListening(u);this.enabledHighlightListening=u},s.prototype.destroy=function(){this.node.parentElement&&this.resizeObserver.unobserve(this.node.parentElement),this.resizeObserver.disconnect(),this.takeDownProvider(),this.table.destroy(),this.node.remove()},s.EVENT_HIGHLIGHT_CHANGED=du.EVENT_HIGHLIGHT_CHANGED,s.EVENT_DIALOG_OPENED=mf.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED=mf.EVENT_DIALOG_CLOSED,s})(ga);const Xi=cZ;var fZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),hZ=(function(p){function s(u,l){var f=p.call(this,l)||this;return f.items=u,f}return fZ(s,p),s.prototype.build=function(u){u.classList.add(z("more-options"),z("choose-options"));for(var l=0,f=this.items;l<f.length;l++){var d=f[l];u.appendChild(d)}},s})(df);const pZ=hZ;var dZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),vZ=(function(p){function s(u){u===void 0&&(u={});var l=p.call(this)||this;return l.options={formatItem:function(f,d){d.textContent=f.text},doc:document,placeholder:"Select..."},l.values=[],Object.assign(l.options,u),l.node=l.options.doc.createElement("div"),l.node.classList.add(z("search")),l.node.innerHTML='<input class="'.concat(z("search-input"),`" type="search">
    <ul class="`).concat(z("search-list"),'"></ul>'),l.search=l.node.firstElementChild,l.search.placeholder=l.options.placeholder,l.body=l.node.lastElementChild,l.search.onfocus=function(){return l.focus()},l.search.onblur=function(){return l.blur()},l.search.oninput=function(){return l.filter()},l.search.onkeydown=function(f){return l.handleKey(f)},l.itemTemplate=l.options.doc.createElement("li"),l.itemTemplate.classList.add(z("search-item")),l.itemTemplate.innerHTML="<span></span>",l.groupTemplate=l.options.doc.createElement("li"),l.groupTemplate.classList.add(z("search-group")),l.groupTemplate.innerHTML="<span></span><ul></ul>",l}return dZ(s,p),Object.defineProperty(s.prototype,"data",{get:function(){return this.values},set:function(u){this.values=u,_e(this.body),this.buildDialog(this.body,this.values)},enumerable:!1,configurable:!0}),s.prototype.buildDialog=function(u,l){for(var f=this,d=function(T){var M;(function(I){return I.id!==void 0})(T)?((M=_.itemTemplate.cloneNode(!0)).onmousedown=function(I){I.preventDefault()},M.onclick=function(){return f.select(T)},M.onmouseenter=function(){return f.highlighted=M},M.onmouseleave=function(){return f.highlighted=null},u.appendChild(M)):(M=_.groupTemplate.cloneNode(!0),_.buildDialog(M.lastElementChild,T.children),u.appendChild(M));var N=M.firstElementChild;_.options.formatItem(T,N)},_=this,w=0,x=l;w<x.length;w++)d(x[w])},s.prototype.handleKey=function(u){switch(u.key){case"Escape":this.search.blur();break;case"Enter":var l=this.highlighted;l?l.click():u.preventDefault();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext()}},s.prototype.select=function(u){this.search.value="",this.search.blur(),this.fire(s.EVENT_SELECT,u)},s.prototype.focus=function(){this.body.style.width="".concat(this.search.offsetWidth,"px"),this.highlighted=this.body.querySelector(s.SEARCH_ITEM_SELECTOR)||null,this.node.classList.add(z("search-open"))},Object.defineProperty(s.prototype,"highlighted",{get:function(){var u;return(u=this.body.getElementsByClassName(z("search-highlighted"))[0])!==null&&u!==void 0?u:null},set:function(u){var l=this.highlighted;l!==u&&(l&&l.classList.remove(z("search-highlighted")),u&&u.classList.add(z("search-highlighted")))},enumerable:!1,configurable:!0}),s.prototype.highlightNext=function(){var u=this.highlighted;if(u&&!u.classList.contains(z("hidden"))){var l=Array.from(this.body.querySelectorAll(s.SEARCH_ITEM_SELECTOR)),f=l.indexOf(u);this.highlighted=l[f+1]||null}else this.highlighted=this.body.querySelector(s.SEARCH_ITEM_SELECTOR)||null},s.prototype.highlightPrevious=function(){var u=this.highlighted,l=Array.from(this.body.querySelectorAll(s.SEARCH_ITEM_SELECTOR));if(u&&!u.classList.contains(z("hidden"))){var f=l.indexOf(u);this.highlighted=l[f-1]||null}else this.highlighted=l[l.length-1]||null},s.prototype.blur=function(){this.search.value="",this.filterResults(this.body,""),this.node.classList.remove(z("search-open"))},s.prototype.filter=function(){var u=this.filterResults(this.body,this.search.value.toLowerCase());this.body.classList.toggle(z("search-empty"),u)},s.prototype.filterResults=function(u,l){var f=this;if(l==="")return Array.from(u.getElementsByClassName(z("hidden"))).forEach((function(_){return _.classList.remove(z("hidden"))})),!1;var d=Array.from(u.children);return d.forEach((function(_){var w=!_.firstElementChild.innerHTML.toLowerCase().includes(l);if(_.classList.contains(z("search-group"))){var x=_.lastElementChild,T=f.filterResults(x,l);w=w&&T}_.classList.toggle(z("hidden"),w)})),d.every((function(_){return _.classList.contains(z("hidden"))}))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_SELECT])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.EVENT_SELECT="select",s.SEARCH_ITEM_SELECTOR=".".concat(z("search-item"),":not(.").concat(z("hidden"),")"),s})(ga);const vu=vZ;var gZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const yZ=(function(p){function s(u,l){var f=p.call(this,l,{livePreview:"rename"})||this;return f.ranking=u,f.before=u.getLabel(),f}return gZ(s,p),s.prototype.build=function(u){u.classList.add(z("dialog-rename")),u.insertAdjacentHTML("beforeend",`
      <input type="text" value="`.concat(this.dialog.sanitize(this.ranking.getLabel()),'" required autofocus placeholder="name">'))},s.prototype.reset=function(){this.findInput('input[type="text"]').value=this.before},s.prototype.cancel=function(){this.ranking.setLabel(this.before)},s.prototype.submit=function(){var u=this.findInput('input[type="text"]').value;return this.ranking.setLabel(u),!0},s})(Er);var mZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const _Z=(function(p){function s(u,l,f){var d=p.call(this,l,{autoClose:!0})||this;return d.ranking=u,d.ctx=f,d}return mZ(s,p),s.prototype.addIcon=function(u,l,f){var d=this.ctx.sanitize(l);u.insertAdjacentHTML("beforeend",'<i title="'.concat(d,'" class="').concat(wa(l),'"><span>').concat(d,"</span> </i>")),u.lastElementChild.onclick=function(_){_.stopPropagation(),f(_)}},s.prototype.build=function(u){var l=this;u.classList.add(z("more-options")),this.addIcon(u,"Rename",(function(f){f.stopPropagation(),f.preventDefault(),new yZ(l.ranking,Ri(l.ctx,l.level+1,f)).open()})),this.addIcon(u,"Remove",(function(f){f.stopPropagation(),f.preventDefault(),l.destroy("confirm"),l.ctx.provider.removeRanking(l.ranking)}))},s})(df);var bZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),SZ=(function(p){function s(u,l,f,d,_){var w=p.call(this,f)||this;return w.column=u,w.addons=l,w.ctx=d,w.onClick=_,w.handlers=[],w}return bZ(s,p),s.prototype.build=function(u){for(var l=0,f=this.addons;l<f.length;l++){var d=f[l];this.node.insertAdjacentHTML("beforeend","<strong>".concat(this.ctx.sanitize(d.title),"</strong>")),this.handlers.push(d.append(this.column,u,this.dialog,this.ctx))}},s.prototype.submit=function(){for(var u=0,l=this.handlers;u<l.length;u++)if(l[u].submit()===!1)return!1;return this.onClick&&this.onClick(),!0},s.prototype.cancel=function(){for(var u=0,l=this.handlers;u<l.length;u++)l[u].cancel()},s.prototype.reset=function(){for(var u=0,l=this.handlers;u<l.length;u++)l[u].reset()},s})(Er);const wZ=SZ;var xZ=(function(){function p(s,u){this.ctx=s,this.node=u.createElement("aside"),this.node.classList.add(z("hierarchy"),z("feature-advanced"),z("feature-ranking")),this.node.innerHTML=`
      <section class="`.concat(z("group-hierarchy"),`">
      </section>
      <section class="`).concat(z("sort-hierarchy"),`">
      </section>
      <section class="`).concat(z("sort-groups-hierarchy"),`">
      </section>
    `);var l={doc:u,placeholder:"Add Sort Criteria...",formatItem:function(f,d){d.classList.add(z("typed-icon")),d.dataset.typeCat=Xh(f.col).name,d.dataset.type=f.col.desc.type;var _=f.col.getHeaderLabel("reorder"),w=f.col.getSummaryLabel("reorder",!0);if(d.classList.toggle(z("searchbox-summary-entry"),!!w),w){var x=d.ownerDocument.createElement("span");_.asHTML?x.innerHTML=_.content:x.textContent=_.content,d.appendChild(x);var T=d.ownerDocument.createElement("span");w.asHTML?T.innerHTML=w.content:T.textContent=w.content,d.appendChild(T)}else _.asHTML?d.innerHTML=_.content:d.textContent=_.content}};this.groupAdder=new vu(Object.assign({},l,{placeholder:"Add Grouping Criteria..."})),this.groupSortAdder=new vu(Object.assign({},l,{placeholder:"Add Grouping Sort Criteria..."})),this.sortAdder=new vu(l)}return p.prototype.update=function(s){s?(this.node.style.display=null,this.renderGroups(s,this.node.firstElementChild),this.renderSorting(s,this.node.children[1]),this.renderGroupSorting(s,this.node.lastElementChild)):this.node.style.display="none"},p.prototype.render=function(s,u,l,f,d,_){var w=this,x=new Map(Array.from(s.children).map((function(T){return[T.dataset.id,T]})));_e(s),u.forEach((function(T){var M=l(T),N=x.get(M.id);if(N)return s.appendChild(N),void yf(N,M,"reorder",0);var I=iy(M,d,w.ctx);s.insertAdjacentHTML("beforeend",'<div data-id="'.concat(M.id,'" class="').concat(z("toolbar")," ").concat(z("hierarchy-entry"),`">
      <div class="`).concat(z("label")," ").concat(z("typed-icon"),`"> </div>
      `).concat(I.length>0?'<i title="Customize" class="'.concat(wa("customize"),'">').concat(Kn("Customize"),"</i>"):"",`
      <i title="Move Up" class="`).concat(wa("Move Up"),'">').concat(Kn("Move Up"),`</i>
      <i title="Move Down" class="`).concat(wa("Move Down"),'">').concat(Kn("Move Down"),`</i>
      <i title="Remove from hierarchy" class="`).concat(wa("Remove"),'">').concat(Kn("Remove from hierarchy"),`</i>
      </div>`));var G=s.lastElementChild;function B(U){U.preventDefault(),U.stopPropagation()}G.firstElementChild.textContent=M.label,G.querySelector('i[title="Move Down"]').onclick=function(U){B(U),_(T,1)},G.querySelector('i[title="Move Up"]').onclick=function(U){B(U),_(T,-1)},G.querySelector("i[title^=Remove]").onclick=function(U){B(U),_(T,0)},I.length>0&&(G.querySelector("i[title=Customize]").onclick=function(U){B(U),w.customize(M,I,U)}),f(T,G),yf(G,M,"reorder",0)}))},p.prototype.renderGroups=function(s,u){var l=s.getGroupCriteria();l.length!==0?(this.render(u,l,(function(f){return f}),(function(f,d){d.insertAdjacentHTML("afterbegin",'<i title="Group" class="'.concat(wa("group"),'" data-group="true">').concat(Kn("Group"),"</i>"))}),"group",(function(f,d){if(d!==0){var _=f.isGroupedBy();f.findMyRanker().groupBy(f,_+d)}else f.groupByMe()})),this.addGroupAdder(s,l,u)):_e(u)},p.prototype.renderSorting=function(s,u){var l=s.getSortCriteria();if(l.length!==0){var f=function(d,_){var w=d.col,x=w.isSortedByMe();isFinite(_)?_!==0?w.sortByMe(x.asc==="asc",x.priority+_):w.sortByMe(x.asc==="asc",-1):w.sortByMe(x.asc==="desc",x.priority)};this.render(u,l,(function(d){return d.col}),(function(d,_){_.insertAdjacentHTML("afterbegin",`
      <i title="Sort" class="`.concat(wa("sort"),'" data-sort="').concat(d.asc?"asc":"desc",'">').concat(Kn("Toggle Sorting"),"</i>")),_.querySelector("i[title=Sort]").onclick=function(w){w.preventDefault(),w.stopPropagation(),f(d,Number.POSITIVE_INFINITY)}}),"sort",f),this.addSortAdder(s,l,u)}else _e(u)},p.prototype.renderGroupSorting=function(s,u){var l=s.getGroupSortCriteria();if(l.length!==0){var f=function(d,_){var w=d.col,x=w.isGroupSortedByMe();isFinite(_)?_!==0?w.groupSortByMe(x.asc==="asc",x.priority+_):w.groupSortByMe(x.asc==="asc",-1):w.groupSortByMe(x.asc==="desc",x.priority)};this.render(u,l,(function(d){return d.col}),(function(d,_){_.insertAdjacentHTML("afterbegin",`
      <i title="Sort Group" class="`.concat(wa("sort-groups"),'" data-sort="').concat(d.asc?"asc":"desc",'">').concat(Kn("Toggle Sorting"),"</i>")),_.querySelector('i[title="Sort Group"]').onclick=function(w){w.preventDefault(),w.stopPropagation(),f(d,Number.POSITIVE_INFINITY)}}),"sortGroup",f),this.addGroupSortAdder(s,l,u)}else _e(u)},p.prototype.addAdder=function(s,u,l,f,d,_,w){var x=this,T=new Set(f);if(s.data=u.children.filter((function(N){return!Hl(N)&&!T.has(N)&&_(N)})).map((function(N){return{col:N,id:N.id,text:N.label}})),s.on(vu.EVENT_SELECT,(function(N){var I=iy(N.col,l,x.ctx);I.length>0?x.customize(N.col,I,s.node,(function(){return w(N.col)})):w(N.col)})),!(s.data.length<=0)){var M=d.ownerDocument.createElement("footer");M.appendChild(s.node),M.classList.add(z("hierarchy-adder")),d.appendChild(M)}},p.prototype.addSortAdder=function(s,u,l){var f=this;this.addAdder(this.sortAdder,s,"sort",u.map((function(d){return d.col})),l,(function(d){return ny(d,f.ctx).find((function(_){return _.title==="Sort"||_.title.startsWith("Sort By")}))!=null}),(function(d){s.sortBy(d,Rs(d),u.length)}))},p.prototype.addGroupAdder=function(s,u,l){var f=this;this.addAdder(this.groupAdder,s,"group",u,l,(function(d){return ny(d,f.ctx).find((function(_){return _.title==="Group"||_.title.startsWith("Group By")}))!=null}),(function(d){s.groupBy(d,u.length)}))},p.prototype.addGroupSortAdder=function(s,u,l){var f=this;this.addAdder(this.groupSortAdder,s,"sortGroup",u.map((function(d){return d.col})),l,(function(d){return ny(d,f.ctx).find((function(_){return _.title.startsWith("Sort Groups By")}))!=null}),(function(d){s.groupSortBy(d,Rs(d),u.length)}))},p.prototype.customize=function(s,u,l,f){new wZ(s,u,Ri(this.ctx,0,l),this.ctx,f).open()},p})();const EZ=xZ,TZ=(function(){function p(s,u,l){var f=this;this.column=s,this.ctx=u,this.summaryUpdater=null,this.node=l.createElement("article"),this.node.classList.add(z("side-panel-entry")),this.node.dataset.colId=s.id,this.node.dataset.type=s.desc.type,this.summary=u.summaryRenderer(s,!0),this.column.on(Fe(".panel",ce.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_HEADER),(function(){f.update()})),this.column.on(Fe(".panel",vt.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,vt.EVENT_DIRTY_CACHES),(function(){f.recreateSummary()})),this.init(),this.update()}return p.prototype.init=function(){this.node.innerHTML=`
      <header class="`.concat(z("side-panel-entry-header"),`">
        <div class="`).concat(z("side-panel-labels"),`">
          <span class="`).concat(z("label")," ").concat(z("typed-icon")," ").concat(z("side-panel-label"),`"></span>
          <span class="`).concat(z("sublabel")," ").concat(z("side-panel-sublabel"),`"></span>
        </div>
        <div class="`).concat(z("toolbar")," ").concat(z("side-panel-toolbar"),`"></div>
      </header>`),sI(this.node.querySelector(".".concat(z("toolbar"))),0,this.column,this.ctx,"sidePanel",!1),this.appendSummary()},p.prototype.update=function(s){s===void 0&&(s=this.ctx),this.ctx=s,yf(this.node,this.column,"sidePanel"),this.updateSummary()},p.prototype.updateSummary=function(){var s=this.node.querySelector(".".concat(z("summary")));this.summaryUpdater&&(this.summaryUpdater.abort(),s.classList.remove(Se("loading")),this.summaryUpdater=null);var u=this.summary.update(s);u&&(this.summaryUpdater=u,s.classList.add(Se("loading")),u.then((function(l){typeof l!="symbol"&&s.classList.remove(Se("loading"))})))},p.prototype.appendSummary=function(){var s=this.ctx.asElement(this.summary.template);s.classList.add(z("summary"),z("side-panel-summary"),z("renderer"),z("renderer-".concat(this.column.getSummaryRenderer()))),s.dataset.renderer=this.column.getSummaryRenderer(),s.dataset.interactive=Ze(this.column).toString(),this.node.appendChild(s)},p.prototype.recreateSummary=function(){this.node.removeChild(this.node.querySelector(".".concat(z("summary")))),this.summary=this.ctx.summaryRenderer(this.column,!0),this.appendSummary(),this.updateSummary()},p.prototype.destroy=function(){this.column.on(Fe(".panel",ce.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,vt.EVENT_DIRTY_CACHES),null),this.node.remove()},p})();var CZ=(function(){function p(s,u,l,f){this.ranking=s,this.ctx=u,this.options=f,this.entries=new Map,this.node=l.createElement("section"),this.header=l.createElement("div"),this.dropdown=l.createElement("div"),this.node.classList.add(z("side-panel-ranking")),this.header.classList.add(z("side-panel-ranking-header"),z("side-panel-ranking-label")),this.dropdown.classList.add(z("side-panel-ranking-label")),this.dropdown.innerHTML='<span></span><i class="'.concat(wa("more"),'" title="More ">').concat(Kn("More "),"</i>"),this.header.innerHTML=this.dropdown.innerHTML,this.header.firstElementChild.textContent=s.getLabel(),this.header.lastElementChild.onclick=this.dropdown.lastElementChild.onclick=function(d){d.stopPropagation(),d.preventDefault(),new _Z(s,Ri(u,1,d),u).open()},this.hierarchy=this.options.hierarchy?new EZ(u,l):null,this.init()}return p.prototype.init=function(){var s=this;this.node.innerHTML='<main class="'.concat(z("side-panel-ranking-main"),'"></main>'),this.hierarchy&&this.node.insertBefore(this.hierarchy.node,this.node.firstChild),this.hierarchy&&this.ranking.on(Fe(".panel",he.EVENT_GROUP_CRITERIA_CHANGED,he.EVENT_SORT_CRITERIA_CHANGED,he.EVENT_GROUP_SORT_CRITERIA_CHANGED),(function(){s.updateHierarchy()})),this.ranking.on(Fe(".panel",he.EVENT_ADD_COLUMN,he.EVENT_REMOVE_COLUMN,he.EVENT_MOVE_COLUMN),(function(){s.updateList(),s.updateHierarchy()})),this.ranking.on(Fe(".panel",he.EVENT_LABEL_CHANGED),(function(){s.dropdown.firstElementChild.textContent=s.header.firstElementChild.textContent=s.ranking.getLabel()}))},Object.defineProperty(p.prototype,"active",{get:function(){return this.node.classList.contains(z("active"))},set:function(s){this.node.classList.toggle(z("active"),s),this.header.classList.toggle(z("active"),s),this.dropdown.classList.toggle(z("active"),s),s||(this.updateList(),this.updateHierarchy())},enumerable:!1,configurable:!0}),p.prototype.update=function(s){this.ctx=s,this.updateList(),this.updateHierarchy()},p.prototype.updateHierarchy=function(){this.hierarchy&&this.active&&this.hierarchy.update(this.ranking)},p.prototype.updateList=function(){var s=this;if(this.active){var u=this.node.querySelector("main"),l=this.ranking.flatColumns.filter((function(d){return!Hl(d)}));if(l.length===0)return _e(u),this.entries.forEach((function(d){return d.destroy()})),void this.entries.clear();var f=new Map(this.entries);this.entries.clear(),l.forEach((function(d,_){var w=f.get(d.id);if(w)return w.update(s.ctx),u.children[_]!==w.node&&u.appendChild(w.node),s.entries.set(d.id,w),void f.delete(d.id);var x=new TZ(d,s.ctx,u.ownerDocument);u.insertBefore(x.node,u.children[_]),s.entries.set(d.id,x)})),f.forEach((function(d){d.node.remove(),d.destroy()}))}},p.prototype.destroy=function(){this.header.remove(),this.node.remove(),this.ranking.on(Fe(".panel",he.EVENT_GROUP_CRITERIA_CHANGED,he.EVENT_SORT_CRITERIA_CHANGED,he.EVENT_GROUP_SORT_CRITERIA_CHANGED,he.EVENT_ADD_COLUMN,he.EVENT_MOVE_COLUMN,he.EVENT_REMOVE_COLUMN,he.EVENT_LABEL_CHANGED),null),this.entries.forEach((function(s){return s.destroy()})),this.entries.clear()},p})();const AZ=CZ;function vy(p){return p.desc!=null}var DZ=(function(){function p(s,u,l){l===void 0&&(l={}),this.ctx=s,this.options={additionalDescs:[Ng("Weighted Sum"),l1("Scripted Formula"),s1("Nested"),o1(),Dg(),$c(),ag(),Zb(),ng()],chooser:!0,hierarchy:!0,placeholder:"Add Column...",formatItem:function(f,d){var _=vy(f)?f:f.children[0];if(d.dataset.typeCat=_.category.name,d.classList.add(z("typed-icon")),vy(f)&&(d.dataset.type=_.desc.type),d.parentElement&&(d.parentElement.classList.add(z("feature-model")),d.parentElement.classList.toggle(z("feature-advanced"),_.category.featureLevel==="advanced"),d.parentElement.classList.toggle(z("feature-basic"),_.category.featureLevel==="basic"),vy(f))){var w=_.desc.summary||_.desc.description;if(d.classList.toggle(z("searchbox-summary-entry"),!!w),w){var x=d.ownerDocument.createElement("span");_.desc.labelAsHTML===!0?x.innerHTML=_.desc.label:typeof _.desc.labelAsHTML=="function"?x.innerHTML=_.desc.labelAsHTML(_.desc,"chooser"):x.textContent=_.desc.label,d.appendChild(x);var T=d.ownerDocument.createElement("span");return _.desc.summaryAsHTML===!0?T.innerHTML=w:typeof _.desc.summaryAsHTML=="function"?T.innerHTML=_.desc.summaryAsHTML(_.desc,"chooser"):T.textContent=w,void d.appendChild(T)}}vy(f)&&f.desc.labelAsHTML?typeof f.desc.labelAsHTML=="function"?d.innerHTML=f.desc.labelAsHTML(f.desc,"chooser"):d.innerHTML=f.text:Ln(d,f.text)},collapseable:!0},this.chooser=null,this.descs=[],this.rankings=[],Object.assign(this.options,l),this.node=u.createElement("aside"),this.node.classList.add(z("side-panel")),this.search=this.options.chooser?new vu(this.options):null,this.data=s.provider,this.init(),this.update(s)}return p.prototype.init=function(){var s=this;this.node.innerHTML=`
      <aside class="`.concat(z("stats"),`"></aside>
      <header class="`).concat(z("side-panel-rankings"),`">
        <i class="`).concat(z("action"),'" title="Choose ">').concat(Kn("Choose "),`</i>
      </header>
      <main class="`).concat(z("side-panel-main"),`"></main>
    `),this.node.querySelector("header > i").onclick=function(u){u.stopPropagation(),new pZ(s.rankings.map((function(l){return l.dropdown})),Ri(s.ctx,1,u)).open()},this.options.collapseable&&(this.node.insertAdjacentHTML("beforeend",'<div class="'.concat(z("collapser"),'" title="Collapse Panel">').concat(Kn("Collapse Panel"),"</div>")),this.node.lastElementChild.onclick=function(){return s.collapsed=!s.collapsed},this.collapsed=this.options.collapseable==="collapsed"),this.initChooser(),this.changeDataStorage(null,this.data)},p.prototype.initChooser=function(){var s=this;this.search&&(this.chooser=this.node.ownerDocument.createElement("header"),this.chooser.appendChild(this.chooser.ownerDocument.createElement("form")),this.chooser.classList.add(z("side-panel-chooser")),this.chooser.firstElementChild.appendChild(this.search.node),this.search.on(vu.EVENT_SELECT,(function(u){var l=s.data.create(u.desc);if(l){var f=s.active;f&&f.ranking.push(l)}})))},Object.defineProperty(p.prototype,"active",{get:function(){return this.rankings.find((function(s){return s.active}))},enumerable:!1,configurable:!0}),p.prototype.changeDataStorage=function(s,u){var l,f=this;s&&s.on(Fe(".panel",Ae.EVENT_ADD_RANKING,Ae.EVENT_REMOVE_RANKING,Ae.EVENT_ADD_DESC,Ae.EVENT_REMOVE_DESC,Ae.EVENT_CLEAR_DESC,Ae.EVENT_ORDER_CHANGED,Ae.EVENT_SELECTION_CHANGED),null),this.data=u;var d=function(_){return{desc:_,category:wM(_,u.columnTypes),id:"".concat(_.type,"@").concat(_.label),text:_.label}};(l=this.descs).splice.apply(l,(function(_,w,x){if(arguments.length===2)for(var T,M=0,N=w.length;M<N;M++)!T&&M in w||(T||(T=Array.prototype.slice.call(w,0,M)),T[M]=w[M]);return _.concat(T||Array.prototype.slice.call(w))})([0,this.descs.length],u.getColumns().filter((function(_){return _.visible!==!1})).concat(this.options.additionalDescs).map(d),!1)),u.on("".concat(Ae.EVENT_ADD_DESC,".panel"),(function(_){_.visible!==!1&&(f.descs.push(d(_)),f.updateChooser())})),u.on("".concat(Ae.EVENT_CLEAR_DESC,".panel"),(function(){f.descs.splice(0,f.descs.length),f.updateChooser()})),u.on("".concat(Ae.EVENT_REMOVE_DESC,".panel"),(function(_){if(_.visible!==!1){var w=f.descs.findIndex((function(x){return x.desc===_}));w>=0&&(f.descs.splice(w,1),f.updateChooser())}})),u.on(Fe(".panel",Ae.EVENT_SELECTION_CHANGED,Ae.EVENT_ORDER_CHANGED),(function(){f.updateStats()})),u.on(Fe(".panel",Ae.EVENT_ADD_RANKING),(function(_,w){f.createEntry(_,w),f.makeActive(w)})),u.on(Fe(".panel",Ae.EVENT_REMOVE_RANKING),(function(_,w){if(w<0)return f.rankings.splice(0,f.rankings.length).forEach((function(T){return T.destroy()})),f.node.querySelector("header").dataset.count="0",void f.makeActive(-1);var x=f.rankings.splice(w,1)[0];f.node.querySelector("header").dataset.count=String(f.rankings.length),x.destroy(),x.active&&f.makeActive(f.rankings.length===0?-1:Math.max(w-1,0))})),this.rankings.splice(0,this.rankings.length).forEach((function(_){return _.destroy()})),u.getRankings().forEach((function(_,w){f.createEntry(_,w)})),this.rankings.length>0&&this.makeActive(0),this.updateStats()},p.prototype.createEntry=function(s,u){var l=this,f=new AZ(s,this.ctx,this.node.ownerDocument,this.options),d=this.node.querySelector("header"),_=this.node.querySelector("main");d.insertBefore(f.header,d.children[u+1]),d.dataset.count=String(this.rankings.length+1),f.header.onclick=function(w){w.preventDefault(),w.stopPropagation(),l.makeActive(l.rankings.indexOf(f))},f.dropdown.onclick=f.header.onclick=function(w){w.preventDefault(),w.stopPropagation(),l.ctx.dialogManager.removeAboveLevel(0),l.makeActive(l.rankings.indexOf(f))},_.insertBefore(f.node,_.children[u]),this.rankings.splice(u,0,f)},Object.defineProperty(p.prototype,"collapsed",{get:function(){return this.node.classList.contains(z("collapsed"))},set:function(s){this.node.classList.toggle(z("collapsed"),s),s||(this.updateChooser(),this.updateStats(),this.updateRanking())},enumerable:!1,configurable:!0}),p.prototype.makeActive=function(s){this.rankings.forEach((function(d,_){return d.active=s===_}));var u=this.active;if(u&&this.chooser){u.node.insertAdjacentElement("afterbegin",this.chooser);var l=this.node.closest(".".concat(z())),f=l?l.querySelector('article[data-ranking="'.concat(u.ranking.id,'"]')):null;f&&f.scrollIntoView()}this.updateRanking()},p.prototype.updateRanking=function(){var s=this.active;s&&!this.collapsed&&s.update(this.ctx)},p.prototype.update=function(s){var u=this.data;this.ctx=s,s.provider!==u&&this.changeDataStorage(u,s.provider),this.updateChooser(),this.updateStats();var l=this.active;l&&l.update(s)},p.prototype.updateStats=function(){var s=this;if(!this.collapsed){var u=this.node.querySelector(".".concat(z("stats"))),l=this.data.getSelection(),f=l.length===0?"":'<i class="'.concat(z("action")," ").concat(z("action-clear-selection")," ").concat(z("stats-clear-selection"),'" title="Clear selection"><span class="').concat(z("aria"),'" aria-hidden="true">Clear Selection</span></i>'),d=this.data.getFirstRanking(),_=Yi(",d"),w=d?d.getGroups().reduce((function(N,I){return N+I.order.length}),0):0,x=this.data.getTotalNumberOfRows();u.innerHTML="Showing <strong>".concat(_(w),"</strong> of ").concat(_(x)," items").concat(l.length>0?"; <span>".concat(_(l.length)," selected ").concat(f,"</span>"):"").concat(w<x?' <i class="'.concat(z("action")," ").concat(z("action-filter")," ").concat(z("stats-reset"),'" title="Reset filters"><span>Reset</span></i>'):"");var T=u.querySelector(".".concat(z("stats-reset")));T&&(T.onclick=function(N){N.preventDefault(),N.stopPropagation(),s.data.clearFilters()});var M=u.querySelector(".".concat(z("stats-clear-selection")));M&&(M.onclick=function(N){N.preventDefault(),N.stopPropagation(),s.data.setSelection([])})}},p.prototype.destroy=function(){this.node.remove(),this.data&&(this.rankings.forEach((function(s){return s.destroy()})),this.rankings.length=0,this.data.on(Fe(".panel",Ae.EVENT_ADD_RANKING,Ae.EVENT_REMOVE_RANKING,Ae.EVENT_ADD_DESC),null))},p.groupByType=function(s){var u=new Map;return s.forEach((function(l){u.has(l.category)?u.get(l.category).push(l):u.set(l.category,[l])})),Array.from(u).map((function(l){var f=l[0],d=l[1];return{text:f.label,order:f.order,children:d.sort((function(_,w){return _.text.localeCompare(w.text)}))}})).sort((function(l,f){return l.order-f.order}))},p.prototype.updateChooser=function(){this.search&&!this.collapsed&&(this.search.data=p.groupByType(this.descs))},p})();const hS=DZ;var MZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const Ws=(function(p){function s(u,l,f){f===void 0&&(f={});var d=p.call(this,u,l,f&&f.ignoreUnsupportedBrowser===!0)||this;return d.options=oS(),sy(d.options,f),d.options.copyableRows&&d.addCopyListener(),d.isBrowserSupported?(d.node.classList.add(z()),d.renderer=new Xi(l,d.node,d.options),d.options.sidePanel?(d.panel=new hS(d.renderer.ctx,d.node.ownerDocument,{collapseable:!d.options.sidePanelCollapsed||"collapsed",hierarchy:d.options.hierarchyIndicator&&d.options.flags.advancedRankingFeatures}),d.renderer.pushUpdateAble((function(_){return d.panel.update(_)})),d.node.insertBefore(d.panel.node,d.node.firstChild)):d.panel=null,d.forward.apply(d,(function(_,w,x){if(arguments.length===2)for(var T,M=0,N=w.length;M<N;M++)!T&&M in w||(T||(T=Array.prototype.slice.call(w,0,M)),T[M]=w[M]);return _.concat(T||Array.prototype.slice.call(w))})([d.renderer],Fe(".main",Xi.EVENT_HIGHLIGHT_CHANGED,Xi.EVENT_DIALOG_OPENED,Xi.EVENT_DIALOG_CLOSED),!1)),d):(d.renderer=null,d.panel=null,d)}return MZ(s,p),s.prototype.destroy=function(){this.node.classList.remove(z()),this.renderer&&this.renderer.destroy(),this.panel&&this.panel.destroy(),p.prototype.destroy.call(this)},s.prototype.update=function(){this.renderer&&this.renderer.update()},s.prototype.setDataProvider=function(u,l){p.prototype.setDataProvider.call(this,u,l),this.renderer&&(this.renderer.setDataProvider(u),this.update(),this.panel&&this.panel.update(this.renderer.ctx))},s.prototype.setHighlight=function(u,l){return l===void 0&&(l=!0),this.renderer!=null&&this.renderer.setHighlight(u,l)},s.prototype.getHighlight=function(){return this.renderer?this.renderer.getHighlight():-1},s.prototype.enableHighlightListening=function(u){this.renderer&&this.renderer.enableHighlightListening(u)},s.EVENT_SELECTION_CHANGED=xa.EVENT_SELECTION_CHANGED,s.EVENT_DIALOG_OPENED=xa.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED=xa.EVENT_DIALOG_CLOSED,s.EVENT_HIGHLIGHT_CHANGED=xa.EVENT_HIGHLIGHT_CHANGED,s})(xa);function OI(p){return{apply:function(s,u,l,f){var d=(function(x,T,M,N){var I=T-p.rowHeight-5,G=x.filter((function(ft){return!It(ft)})),B=x.length-G.length,U=G.reduce((function(ft,Et){return ft+(M.has(Et.dataIndex)?1:0)}),0),$=G.length-U,Q=G.reduce((function(ft,Et){return ft+Ig(Et,N)}),0);if($<=0)return{height:p.rowHeight,violation:""};var nt=I-B*p.groupHeight-Q*p.groupPadding-U*p.rowHeight,ot=Math.floor(nt/$);return ot<1?{height:1,violation:"Not possible to fit all rows on the screen."}:ot>p.rowHeight?{height:p.rowHeight,violation:""}:{height:ot,violation:""}})(s,u,l,f),_=d.violation,w=d.height;return{item:function(x){return l.has(x.dataIndex)?p.rowHeight:w},group:p.groupHeight,violation:_}},levelOfDetail:function(s,u){return u>=.9*(It(s)?p.groupHeight:p.rowHeight)?"high":"low"}}}var LZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),NZ=(function(p){function s(u,l,f){var d=p.call(this)||this;return d.data=u,d.isDynamicLeafHeight=!1,d.rule=null,d.levelOfDetail=null,d.options={violationChanged:function(){},rowPadding:2},Object.assign(d.options,f),d.renderer=new Xi(u,l,Object.assign({},f,{dynamicHeight:function(_,w){return d.dynamicHeight(_,w)||(f.dynamicHeight?f.dynamicHeight(_,w):null)},levelOfDetail:function(_){return d.levelOfDetail?d.levelOfDetail(_):"high"}})),d.data.on("".concat(Ae.EVENT_SELECTION_CHANGED,".rule"),(function(){d.isDynamicLeafHeight&&d.update()})),d.forward.apply(d,(function(_,w,x){if(arguments.length===2)for(var T,M=0,N=w.length;M<N;M++)!T&&M in w||(T||(T=Array.prototype.slice.call(w,0,M)),T[M]=w[M]);return _.concat(T||Array.prototype.slice.call(w))})([d.renderer],Fe(".main",Xi.EVENT_HIGHLIGHT_CHANGED,Xi.EVENT_DIALOG_OPENED,Xi.EVENT_DIALOG_CLOSED),!1)),d}return LZ(s,p),Object.defineProperty(s.prototype,"style",{get:function(){return this.renderer.style},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ctx",{get:function(){return this.renderer.ctx},enumerable:!1,configurable:!0}),s.prototype.pushUpdateAble=function(u){this.renderer.pushUpdateAble(u)},s.prototype.dynamicHeight=function(u,l){var f=this;if(!this.rule)return this.levelOfDetail=null,this.options.violationChanged(null,""),null;var d=this.renderer?this.renderer.node.querySelector("main").clientHeight:100,_=this.rule.apply(u,d,new Set(this.data.getSelection()),(function(x){return f.data.getTopNAggregated(l,x)}));this.isDynamicLeafHeight=typeof _.item=="function",this.options.violationChanged(this.rule,_.violation||"");var w=function(x){return It(x)?typeof _.group=="number"?_.group:_.group(x):typeof _.item=="number"?_.item:_.item(x)};return this.levelOfDetail=function(x){var T=u[x];return f.rule?f.rule.levelOfDetail(T,w(T)):"high"},{defaultHeight:typeof _.item=="number"?_.item:NaN,height:w,padding:0}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_HIGHLIGHT_CHANGED,s.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.zoomOut=function(){this.renderer.zoomOut()},s.prototype.zoomIn=function(){this.renderer.zoomIn()},s.prototype.switchRule=function(u){this.rule!==u&&(this.rule=u,this.update())},s.prototype.getRule=function(){return this.rule},s.prototype.destroy=function(){this.renderer.destroy()},s.prototype.update=function(){this.renderer.update()},s.prototype.setDataProvider=function(u){var l=this;this.data&&this.data.on("".concat(Ae.EVENT_SELECTION_CHANGED,".rule"),null),this.data=u,this.data.on("".concat(Ae.EVENT_SELECTION_CHANGED,".rule"),(function(){l.isDynamicLeafHeight&&l.update()})),this.renderer.setDataProvider(u),this.update()},s.prototype.setHighlight=function(u,l){return this.renderer.setHighlight(u,l)},s.prototype.getHighlight=function(){return this.renderer.getHighlight()},s.prototype.enableHighlightListening=function(u){this.renderer.enableHighlightListening(u)},s.EVENT_HIGHLIGHT_CHANGED=Xi.EVENT_HIGHLIGHT_CHANGED,s.EVENT_DIALOG_OPENED=Xi.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED=Xi.EVENT_DIALOG_CLOSED,s})(ga);const Pp=NZ;var RZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),IZ=(function(p){function s(u,l,f){f===void 0&&(f={});var d=p.call(this,u,l,f&&f.ignoreUnsupportedBrowser===!0)||this;return d.options=oS(),sy(d.options,f),sy(d.options,{violationChanged:function(_,w){return d.setViolation(w)}}),d.options.copyableRows&&d.addCopyListener(),d.spaceFillingRule=OI(d.options),d.isBrowserSupported?(d.node.classList.add(z(),z("taggle")),d.renderer=new Pp(l,d.node,d.options),d.options.sidePanel?(d.panel=new hS(d.renderer.ctx,d.node.ownerDocument,{collapseable:!d.options.sidePanelCollapsed||"collapsed",hierarchy:d.options.hierarchyIndicator&&d.options.flags.advancedRankingFeatures}),d.renderer.pushUpdateAble((function(_){return d.panel.update(_)})),d.node.insertBefore(d.panel.node,d.node.firstChild),d.panel.node.insertAdjacentHTML("afterbegin",'<div class="'.concat(z("rule-button-chooser")," ").concat(z("feature-advanced")," ").concat(z("feature-ui"),`"><label>
            <input type="checkbox">
            <span>Overview</span>
            <div class="`).concat(z("rule-violation"),`"></div>
          </label></div>`)),d.spaceFilling=d.panel.node.querySelector(".".concat(z("rule-button-chooser"))),d.spaceFilling.querySelector("input").onchange=function(){setTimeout((function(){d.setOverviewMode(!d.isOverviewMode())}))}):(d.panel=null,d.spaceFilling=null),d.options.overviewMode&&d.setOverviewMode(!0),d.forward.apply(d,(function(_,w,x){if(arguments.length===2)for(var T,M=0,N=w.length;M<N;M++)!T&&M in w||(T||(T=Array.prototype.slice.call(w,0,M)),T[M]=w[M]);return _.concat(T||Array.prototype.slice.call(w))})([d.renderer],Fe(".main",Pp.EVENT_HIGHLIGHT_CHANGED,Pp.EVENT_DIALOG_OPENED,Pp.EVENT_DIALOG_CLOSED),!1)),d):(d.spaceFilling=null,d.renderer=null,d.panel=null,d)}return RZ(s,p),s.prototype.isOverviewMode=function(){var u;return((u=this.renderer)===null||u===void 0?void 0:u.getRule())===this.spaceFillingRule},s.prototype.setOverviewMode=function(u){this.renderer&&(this.updateLodRules(u),this.renderer.switchRule(u?this.spaceFillingRule:null),this.spaceFilling&&(this.spaceFilling.classList.toggle(z("chosen"),u),this.spaceFilling.querySelector("input").checked=u))},s.prototype.updateLodRules=function(u){this.renderer&&PI(this.renderer.style,u,this.options)},s.prototype.setViolation=function(u){if(u=u||"",this.spaceFilling){this.spaceFilling.classList.toggle(z("violated"),!!u);var l=this.spaceFilling.querySelector(".".concat(z("rule-violation")));u?l.innerHTML=u.replace(/\n/g,"<br>"):l.textContent=""}},s.prototype.destroy=function(){this.node.classList.remove(z(),z("taggle")),this.renderer&&this.renderer.destroy(),this.panel&&this.panel.destroy(),p.prototype.destroy.call(this)},s.prototype.update=function(){this.renderer&&this.renderer.update()},s.prototype.setHighlight=function(u,l){return l===void 0&&(l=!0),this.renderer!=null&&this.renderer.setHighlight(u,l)},s.prototype.getHighlight=function(){return this.renderer?this.renderer.getHighlight():-1},s.prototype.enableHighlightListening=function(u){this.renderer&&this.renderer.enableHighlightListening(u)},s.prototype.setDataProvider=function(u,l){p.prototype.setDataProvider.call(this,u,l),this.renderer&&(this.renderer.setDataProvider(u),this.update(),this.panel.update(this.renderer.ctx))},s.EVENT_SELECTION_CHANGED=xa.EVENT_SELECTION_CHANGED,s.EVENT_DIALOG_OPENED=xa.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED=xa.EVENT_DIALOG_CLOSED,s.EVENT_HIGHLIGHT_CHANGED=xa.EVENT_HIGHLIGHT_CHANGED,s})(xa);const pS=IZ;function PI(p,s,u){if(!s)return p.deleteRule("taggle_lod_rule"),p.deleteRule("lineup_rowPadding1"),void p.deleteRule("lineup_rowPadding2");p.updateRule("taggle_lod_rule",`
  .`.concat(Se("tr"),".").concat(z("low"),"[data-agg=detail]:hover"),{height:"".concat(u.rowHeight,"px !important")}),p.updateRule("lineup_rowPadding1",`
  .`.concat(Se("tr"),".").concat(z("low")),{marginTop:"0"}),p.updateRule("lineup_rowPadding2",`
  .`.concat(Se("tr"),".").concat(z("low"),".").concat(Se("highlighted"),`,
  .`).concat(Se("tr"),".").concat(z("selected"),`,
  .`).concat(Se("tr"),".").concat(z("low"),":hover + .").concat(Se("tr"),".").concat(z("low"),`,
  .`).concat(Se("tr"),".").concat(z("low"),".").concat(Se("highlighted")," + .").concat(Se("tr"),".").concat(z("low"),`,
  .`).concat(Se("tr"),".").concat(z("selected")," + .").concat(Se("tr"),".").concat(z("low")),{marginTop:"".concat(u.rowPadding,"px !important")})}var kI=(function(){function p(s,u){this.desc={column:u,type:s,label:u?u[0].toUpperCase()+u.slice(1):s}}return p.prototype.label=function(s){return this.desc.label=s,this},p.prototype.htmlLabel=function(s,u){return this.desc.label=s,this.desc.labelAsHTML=u==null||u,this},p.prototype.hidden=function(){return this.desc.visible=!1,this},p.prototype.summary=function(s){return this.desc.summary=s,this},p.prototype.htmlSummary=function(s,u){return this.desc.summary=s,this.desc.summaryAsHTML=u==null||u,this},p.prototype.description=function(s){return this.desc.description=s,this},p.prototype.frozen=function(){return this.desc.frozen=!0,this},p.prototype.renderer=function(s,u,l){return s&&(this.desc.renderer=s),u&&(this.desc.groupRenderer=u),l&&(this.desc.summaryRenderer=l),this},p.prototype.custom=function(s,u){return this.desc[s]=u,this},p.prototype.width=function(s){return this.desc.width=s,this},p.prototype.color=function(s){return this},p.prototype.asArray=function(s){console.assert(["boolean","categorical","date","number","string","link"].includes(this.desc.type)),this.desc.type+="s";var u=this.desc;return Array.isArray(s)?(u.labels=s,u.dataLength=s.length):typeof s=="number"&&(u.dataLength=s),this},p.prototype.asMap=function(){return console.assert(["categorical","date","number","string","link"].includes(this.desc.type)),this.desc.type+="Map",this},p.prototype.build=function(s){return this.desc},p})();const Zo=kI;function OZ(p,s){return new kI(p,s)}const PZ=(function(){function p(){this.options={renderers:{},toolbarActions:{},toolbarDialogAddons:{},flags:{}}}return p.prototype.animated=function(s){return this.options.animated=s,this},p.prototype.livePreviews=function(s){return this.options.livePreviews=s,this},p.prototype.labelRotation=function(s){return this.options.labelRotation=s,this},p.prototype.sidePanel=function(s,u){return u===void 0&&(u=!1),this.options.sidePanel=s,this.options.sidePanelCollapsed=u,this},p.prototype.hierarchyIndicator=function(s){return this.options.hierarchyIndicator=s,this},p.prototype.defaultSlopeGraphMode=function(s){return this.options.defaultSlopeGraphMode=s,this},p.prototype.summaryHeader=function(s){return this.options.summaryHeader=s,this},p.prototype.expandLineOnHover=function(s){return this.options.expandLineOnHover=s,this},p.prototype.overviewMode=function(){return this.options.overviewMode=!0,this},p.prototype.ignoreUnsupportedBrowser=function(){return this.options.ignoreUnsupportedBrowser=!0,this},p.prototype.registerRenderer=function(s,u){return this.options.renderers[s]=u,this},p.prototype.canRender=function(s){return this.options.canRender=s,this},p.prototype.registerToolbarAction=function(s,u){return this.options.toolbarActions[s]=u,this},p.prototype.registerToolbarDialogAddon=function(s,u){return this.options.toolbarDialogAddons[s]=u,this},p.prototype.rowHeight=function(s,u){return u===void 0&&(u=2),this.options.rowHeight=s,this.options.rowPadding=u,this},p.prototype.groupRowHeight=function(s,u){return u===void 0&&(u=5),this.options.groupHeight=s,this.options.groupPadding=u,this},p.prototype.dynamicHeight=function(s){return this.options.dynamicHeight=s,this},p.prototype.disableAdvancedRankingFeatures=function(){return this.options.flags.advancedRankingFeatures=!1,this},p.prototype.disableAdvancedModelFeatures=function(){return this.options.flags.advancedModelFeatures=!1,this},p.prototype.disableAdvancedUIFeatures=function(){return this.options.flags.advancedUIFeatures=!1,this},p.prototype.instanceId=function(s){return this.options.instanceId=s,this},p.prototype.selectionActivateFilter=function(s){return this.options.selectionActivateFilter=s,this},p.prototype.copyableRows=function(s){return this.options.copyableRows=s,this},p})();var gy=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))},dS=(function(){function p(){this.columns=[],this.sort=[],this.groupSort=[],this.groups=[]}return p.prototype.sortBy=function(s,u){if(u===void 0&&(u=!0),s.includes(":")){var l=s.indexOf(":");u=s.slice(l+1),s=s.slice(0,l)}return this.sort.push({column:s,asc:u===!0||String(u)[0]==="a"}),this},p.prototype.groupBy=function(){for(var s,u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];for(var f=0,d=u;f<d.length;f++){var _=d[f];Array.isArray(_)?(s=this.groups).push.apply(s,_):this.groups.push(_)}return this},p.prototype.groupSortBy=function(s,u){if(u===void 0&&(u=!0),s.includes(":")){var l=s.indexOf(":");u=s.slice(l+1),s=s.slice(0,l)}return this.groupSort.push({column:s,asc:u===!0||String(u)[0]==="a"}),this},p.prototype.column=function(s){if(typeof s=="string"){switch(s){case"_aggregate":return this.aggregate();case"_selection":return this.selection();case"_group":return this.group();case"_rank":return this.rank();case"_*":return this.supportTypes();case"*":return this.allColumns()}return this.columns.push(s),this}var u=s.label||null;switch(s.type){case"impose":return this.impose(u,s.column,s.colorColumn);case"min":case"max":case"median":case"mean":return console.assert(s.columns.length>=2),this.reduce.apply(this,gy([u,s.type,s.columns[0],s.columns[1]],s.columns.slice(2),!1));case"nested":return console.assert(s.columns.length>=1),this.nested.apply(this,gy([u,s.columns[0]],s.columns.slice(1),!1));case"script":return this.scripted.apply(this,gy([u,s.code],s.columns,!1));case"weightedSum":console.assert(s.columns.length>=2),console.assert(s.columns.length===s.weights.length);var l=[];return s.columns.slice(2).forEach((function(f,d){l.push(f),l.push(s.weights[d+2])})),this.weightedSum.apply(this,gy([u,s.columns[0],s.weights[0],s.columns[1],s.weights[1]],l,!1))}},p.prototype.impose=function(s,u,l){return this.columns.push({desc:function(f){var d=f.getColumns().find((function(_){return _.label===u||_.column===u}));switch(d?d.type:""){case"boxplot":return i1(s||void 0);case"numbers":return a1(s||void 0);default:return Dg(s||void 0)}},columns:[u,l]}),this},p.prototype.nested=function(s,u){for(var l=[],f=2;f<arguments.length;f++)l[f-2]=arguments[f];return this.columns.push({desc:s1(s||void 0),columns:[u].concat(l)}),this},p.prototype.composite=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];return this.columns.push({desc:s,columns:u}),this},p.prototype.weightedSum=function(s,u,l,f,d){for(var _=[],w=5;w<arguments.length;w++)_[w-5]=arguments[w];var x=[l,d].concat(_.filter((function(T,M){return M%2==1})));return this.columns.push({desc:Ng(s||void 0),columns:[u,f].concat(_.filter((function(T,M){return M%2==0}))),post:function(T){T.setWeights(x)}}),this},p.prototype.reduce=function(s,u,l,f){for(var d=[],_=4;_<arguments.length;_++)d[_-4]=arguments[_];return this.columns.push({desc:o1(s||void 0),columns:[l,f].concat(d),post:function(w){w.setReduce(u)}}),this},p.prototype.scripted=function(s,u){for(var l=[],f=2;f<arguments.length;f++)l[f-2]=arguments[f];return this.columns.push({desc:Object.assign(l1(s||void 0),{script:u}),columns:l}),this},p.prototype.selection=function(){return this.columns.push({desc:ag(),columns:[]}),this},p.prototype.group=function(){return this.columns.push({desc:Zb(),columns:[]}),this},p.prototype.aggregate=function(){return this.columns.push({desc:ng(),columns:[]}),this},p.prototype.rank=function(){return this.columns.push({desc:$c(),columns:[]}),this},p.prototype.supportTypes=function(){return this.aggregate().rank().selection()},p.prototype.allColumns=function(){return this.columns.push(p.ALL_MAGIC_FLAG),this},p.prototype.build=function(s){var u=s.pushRanking(),l=s.getColumns(),f=function(T){return l.find((function(M){return M.label===T||M.column===T}))};this.columns.forEach((function(T){if(T!==p.ALL_MAGIC_FLAG)if(typeof T!="string"){var M=s.create(typeof T.desc=="function"?T.desc(s):T.desc);u.push(M),T.columns.forEach((function(N){var I=f(N),G=I?s.create(I):null;G?M.push(G):console.warn("invalid column: ",N)})),T.post&&T.post(M)}else(function(N){var I=f(N);I?s.push(u,I):console.warn("invalid column: ",N)})(T);else l.forEach((function(N){return s.push(u,N)}))}));var d=u.children,_=[];this.groups.forEach((function(T){var M=d.find((function(G){return G.desc.label===T||G.desc.column===T}));if(M)_.push(M);else{var N=f(T);if(N){var I=s.push(u,N);I?_.push(I):console.warn("invalid group criteria column: ",T)}else console.warn("invalid group criteria column: ",T)}})),_.length>0&&u.setGroupCriteria(_);var w=[];this.sort.forEach((function(T){var M=T.column,N=T.asc,I=d.find((function(U){return U.desc.label===M||U.desc.column===M}));if(I)w.push({col:I,asc:N});else{var G=f(M);if(G){var B=s.push(u,G);B?w.push({col:B,asc:N}):console.warn("invalid sort criteria column: ",M)}else console.warn("invalid sort criteria column: ",M)}})),w.length>0&&u.setSortCriteria(w);var x=[];return this.groupSort.forEach((function(T){var M=T.column,N=T.asc,I=d.find((function(U){return U.desc.label===M||U.desc.column===M}));if(I)x.push({col:I,asc:N});else{var G=f(M);if(G){var B=s.push(u,G);B?x.push({col:B,asc:N}):console.warn("invalid group sort criteria column: ",M)}else console.warn("invalid group sort criteria column: ",M)}})),x.length>0&&u.setGroupSortCriteria(x),u},p.ALL_MAGIC_FLAG="*",p})();function VI(){return new dS}var kZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),GI=(function(p){function s(u){return p.call(this,"categorical",u)||this}return kZ(s,p),s.prototype.asOrdinal=function(){return this.desc.type="ordinal",this},s.prototype.categories=function(u){return this.desc.categories=u,this},s.prototype.asSet=function(u){return u&&(this.desc.separator=u),this.desc.type="set",this},s.prototype.derive=function(u){var l=new Set,f=this.desc.type==="set",d=this.desc.separator||";",_=function(x){return typeof x=="string"&&x!==""?x:x!=null&&typeof x.value=="string"&&x.value!==""?x.value:null},w=this.desc.column;u.forEach((function(x){var T=qo(x,w);Array.isArray(T)?T.forEach((function(M){return l.add(_(M))})):T!=null&&T!==""&&(f?[T.toString()]:T.toString().split(d)).forEach((function(M){return l.add(_(M))}))})),this.categories(h1(l))},s.prototype.build=function(u){return this.desc.categories||this.derive(u),p.prototype.build.call(this,u)},s})(Zo);const VZ=GI;function GZ(p,s){var u=new GI(p);return s&&u.categories(s),u}var FZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),FI=(function(p){function s(u){return p.call(this,"number",u)||this}return FZ(s,p),s.prototype.mapping=function(u,l,f){return u==="linear"?(this.desc.domain=l,f&&(this.desc.range=f),this):(this.desc.map={type:u,domain:l,range:f??[0,1]},this)},s.prototype.color=function(u){return this.colorMapping(u)},s.prototype.colorMapping=function(u){return this.desc.colorMapping=u,this},s.prototype.numberFormat=function(u){return this.desc.numberFormat=u,this},s.prototype.scripted=function(u,l){return this.desc.map={domain:l,code:u,type:"script"},this},s.prototype.asArray=function(u,l){return l&&(this.desc.sort=l),p.prototype.asArray.call(this,u)},s.prototype.asMap=function(u){return u&&(this.desc.sort=u),p.prototype.asMap.call(this)},s.prototype.asBoxPlot=function(u){return u&&(this.desc.sort=u),this.desc.type="boxplot",this},s.prototype.derive=function(u){var l=this.desc.column,f=function(d,_){var w=[];return(Array.isArray(d)?d:[d]).forEach((function(x){typeof x!="number"||Number.isNaN(x)||w.push(x),x==null||typeof x.value!="number"||Number.isNaN(x.value)||w.push(x.value),x==null||typeof x[_]!="number"||Number.isNaN(x[_])||w.push(x[_])})),w};return[k(u,(function(d){var _=qo(d,l),w=f(_,"min");return w.length===0?Number.POSITIVE_INFINITY:k(w)})),F(u,(function(d){var _=qo(d,l),w=f(_,"max");return w.length===0?Number.NEGATIVE_INFINITY:F(w)}))]},s.prototype.build=function(u){if(this.desc.map||this.desc.domain){var l=this.desc.domain||this.desc.map.domain;if(Number.isNaN(l[0])||l[0]==null||Number.isNaN(l[1])||l[1]==null){var f=this.derive(u);(Number.isNaN(l[0])||l[0]==null)&&(l[0]=f[0]),(Number.isNaN(l[1])||l[1]==null)&&(l[1]=f[1])}}else this.mapping("linear",this.derive(u));return p.prototype.build.call(this,u)},s})(Zo);const BZ=FI;function HZ(p,s){var u=new FI(p);return s&&u.mapping("linear",s),u}var zZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),BI=(function(p){function s(u){return p.call(this,"string",u)||this}return zZ(s,p),s.prototype.editable=function(){return this.desc.type="annotate",this},s.prototype.alignment=function(u){return this.desc.alignment=u,this},s.prototype.html=function(){return this.desc.escape=!1,this},s.prototype.pattern=function(u,l){return this.desc.type="link",this.desc.pattern=u,l&&(this.desc.patternTemplates=l),this},s})(Zo);const UZ=BI;function WZ(p){return new BI(p)}var jZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),HI=(function(p){function s(u){return p.call(this,"date",u)||this}return jZ(s,p),s.prototype.format=function(u,l){return this.desc.dateFormat=u,l&&(this.desc.dateParse=l),this},s})(Zo);const YZ=HI;function $Z(p){return new HI(p)}var qZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),zI=(function(p){function s(u){return p.call(this,"hierarchy",u)||this}return qZ(s,p),s.prototype.hierarchy=function(u,l){return this.desc.hierarchy=u,l&&(this.desc.hierarchySeparator=l),this},s.prototype.build=function(u){return console.assert(!!this.desc.hierarchy),p.prototype.build.call(this,u)},s})(Zo);const XZ=zI;function ZZ(p,s){var u=new zI(p);return s&&u.hierarchy(s),u}var KZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),UI=(function(p){function s(){return p.call(this,"actions","")||this}return KZ(s,p),s.prototype.action=function(u){return this.actions([u])},s.prototype.actions=function(u){var l;return this.desc.actions||(this.desc.actions=[]),(l=this.desc.actions).push.apply(l,u),this},s.prototype.groupAction=function(u){return this.groupActions([u])},s.prototype.groupActions=function(u){var l;return this.desc.groupActions||(this.desc.groupActions=[]),(l=this.desc.groupActions).push.apply(l,u),this},s})(Zo);const JZ=UI;function QZ(){return new UI}var tK=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),WI=(function(p){function s(u){return p.call(this,"boolean",u)||this}return tK(s,p),s.prototype.trueMarker=function(u){return this.desc.trueMarker=u,this},s.prototype.falseMarker=function(u){return this.desc.falseMarker=u,this},s.prototype.trueValues=function(u){return this.desc.trueValues=u,this},s})(Zo);const eK=WI;function rK(p){return new WI(p)}var nK=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),jI=(function(p){function s(u){var l=p.call(this)||this;return l.data=u,l.columns=[],l.providerOptions={columnTypes:{}},l.rankBuilders=[],l._deriveColors=!1,l}return nK(s,p),s.prototype.scheduledTaskExecutor=function(){return this.providerOptions.taskExecutor="scheduled",this},s.prototype.showTopN=function(u){return this.providerOptions.showTopN=u,this},s.prototype.aggregationStrategy=function(u){return this.providerOptions.aggregationStrategy=u,this},s.prototype.propagateAggregationState=function(u){return this.providerOptions.propagateAggregationState=u,this},s.prototype.singleSelection=function(){return this.providerOptions.singleSelection=!0,this},s.prototype.multiSelection=function(){return this.providerOptions.singleSelection=!1,this},s.prototype.filterGlobally=function(){return this.providerOptions.filterGlobally=!0,this},s.prototype.deriveColumns=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];for(var f=[].concat.apply([],u),d=0,_=p1(this.data,{columns:f});d<_.length;d++){var w=_[d];this.columns.push(w)}return this},s.prototype.deriveColors=function(){return this._deriveColors=!0,this},s.prototype.registerColumnType=function(u,l){return this.providerOptions.columnTypes[u]=l,this},s.prototype.column=function(u){return this.columns.push(u instanceof Zo?u.build.bind(u):u),this},s.prototype.restore=function(u){return this.rankBuilders.push((function(l){return l.restore(u)})),this},s.prototype.defaultRanking=function(u){return u===void 0&&(u=!0),this.rankBuilders.push((function(l){return l.deriveDefault(u)})),this},s.prototype.ranking=function(u){return this.rankBuilders.push(u instanceof dS?u.build.bind(u):u),this},s.prototype.buildData=function(){for(var u=[],l=new Set,f=function(T){var M=typeof T=="function"?T(d.data):T,N="".concat(M.type,"@").concat(M.label,"@").concat(M.summary);if(!l.has(N))return u.push(M),l.add(N),"continue";var I=u.findIndex((function(G){return N==="".concat(G.type,"@").concat(G.label,"@").concat(M.summary)}));u.splice(I,1,M)},d=this,_=0,w=this.columns;_<w.length;_++)f(w[_]);this._deriveColors&&d1(u);var x=new au(this.data,u,this.providerOptions);return this.rankBuilders.length===0&&this.defaultRanking(),this.rankBuilders.forEach((function(T){return T(x)})),x},s.prototype.build=function(u){return new Ws(u,this.buildData(),this.options)},s.prototype.buildTaggle=function(u){return new pS(u,this.buildData(),this.options)},s})(PZ);function vS(p){return new jI(p)}function iK(p,s){for(var u=[],l=2;l<arguments.length;l++)u[l-2]=arguments[l];return vS(s).deriveColumns(u).deriveColors().defaultRanking().buildTaggle(p)}function aK(p,s){for(var u=[],l=2;l<arguments.length;l++)u[l-2]=arguments[l];return vS(s).deriveColumns(u).deriveColors().defaultRanking().build(p)}var Hn=function(){return Hn=Object.assign||function(p){for(var s,u=1,l=arguments.length;u<l;u++)for(var f in s=arguments[u])Object.prototype.hasOwnProperty.call(s,f)&&(p[f]=s[f]);return p},Hn.apply(this,arguments)};function js(p,s){var u=p.column,l={column:u,type:p.type,label:u?u[0].toUpperCase()+u.slice(1):p.type};if(["label","description","frozen","width","renderer","groupRenderer","summaryRenderer","visible","fixed"].forEach((function(_){Object.prototype.hasOwnProperty.call(p,_)&&(l[_]=p[_])})),p.custom&&Object.assign(l,p.custom),p.asMap&&(console.assert(["categorical","date","number","string","link"].includes(l.type)),l.type+="Map"),p.asArray!=null){console.assert(["boolean","categorical","date","number","string","link"].includes(l.type)),l.type+="s";var f=l,d=p.asArray;Array.isArray(d)?(f.labels=d,f.dataLength=d.length):typeof d=="number"&&(f.dataLength=d)}return l}function oK(p,s){var u=js(Hn(Hn({},p),{type:"categorical"}));if(p.asOrdinal&&(u.type="ordinal"),p.missingCategory&&(u.missingCategory=p.missingCategory),p.asSet&&(typeof p.asSet=="string"&&(u.separator=p.asSet),u.type="set"),p.categories)u.categories=p.categories;else{var l=new Set(s.map((function(f){return qo(f,u.column)})));u.categories=Array.from(l).sort()}return u}function sK(p){var s=js(Hn(Hn({},p),{type:"date"}));return["dateFormat","dateParse"].forEach((function(u){Object.prototype.hasOwnProperty.call(p,u)&&(s[u]=p[u])})),s}function lK(p){var s=js(Hn(Hn({},p),{type:"hierarchy"}));return["hierarchy","hierarchySeparator"].forEach((function(u){Object.prototype.hasOwnProperty.call(p,u)&&(s[u]=p[u])})),s}function uK(p,s){var u=js(Hn(Hn({},p),{type:"number"})),l=p.domain?p.domain:H(s,(function(f){return qo(f,u.column)}));return Object.prototype.hasOwnProperty.call(p,"color")&&(u.colorMapping=p.color),["sort","colorMapping"].forEach((function(f){Object.prototype.hasOwnProperty.call(p,f)&&(u[f]=p[f])})),p.scripted?u.map={domain:l,code:p.scripted,type:"script"}:p.mapping&&p.mapping!=="linear"?u.map={type:p.mapping,domain:l,range:p.range||[0,1]}:(u.domain=l,p.range&&(u.range=p.range)),u}function cK(p){var s=js(Hn(Hn({},p),{type:"string"}));return["pattern","patternTemplate","alignment"].forEach((function(u){Object.prototype.hasOwnProperty.call(p,u)&&(s[u]=p[u])})),p.editable&&(s.type="annotate"),p.pattern&&(s.type="link"),p.html&&(s.escape=!1),s}function fK(p){var s=js(Hn(Hn({},p),{type:"boolean"}));return["trueMarker","falseMarker"].forEach((function(u){Object.prototype.hasOwnProperty.call(p,u)&&(s[u]=p[u])})),s}function hK(p){var s=js(Hn(Hn({},p),{type:"actions"}));return["actions","groupActions"].forEach((function(u){Object.prototype.hasOwnProperty.call(p,u)&&(s[u]=p[u])})),s}function YI(p,s){var u=VI();if(p.sortBy&&(l=Array.isArray(p.sortBy)?p.sortBy:[p.sortBy]).forEach((function(f){typeof f=="string"?u.sortBy(f):u.sortBy(f.column,f.asc)})),p.groupBy){var l=Array.isArray(p.groupBy)?p.groupBy:[p.groupBy];u.groupBy.apply(u,l)}return p.columns&&p.columns.forEach((function(f){return u.column(f)})),u.build(s)}function pK(p){return p.column}function dK(p){return Object.assign({type:"impose"},p)}function vK(p,s){var u={type:"nested",columns:s};return p.label&&(u.label=p.label),u}function gK(p,s){var u={type:"weightedSum",columns:s.map((function(l){return l.column})),weights:s.map((function(l){return l.weight}))};return p.label&&(u.label=p.label),u}function yK(p,s){var u={type:p.type,columns:s};return p.label&&(u.label=p.label),u}function mK(p,s){var u={type:"script",code:p.code,columns:s};return p.label&&(u.label=p.label),u}function _K(p){return"_".concat(p.type)}function bK(){return"*"}function SK(p,s){for(var u=p;u&&u!==s;)u=u.__proto__;return u===s}function yy(p,s){var u={};return s.forEach((function(l){Object.prototype.hasOwnProperty.call(p,l)&&(u[l]=p[l])})),u}function gS(p,s,u){return u.every((function(l){return!s(l)}))?null:yy(p,u)}var $I=["singleSelection","filterGlobally","columnTypes","taskExecutor","jumpToSearchResult"],qI=["animated","sidePanel","sidePanelCollapsed","hierarchyIndicator","defaultSlopeGraphMode","summaryHeader","expandLineOnHover","overviewMode","renderers","canRender","toolbarActions","toolbarDialogAddons","rowHeight","rowPadding","groupHeight","groupPadding","dynamicHeight","labelRotation","ignoreUnsupportedBrowser","livePreviews"],wK=(function(){function p(s){var u=this;this.adapter=s,this.data=null,this.instance=null,this.prevRankings=null,this.prevColumns=null,this.prevHighlight=null,this.onSelectionChanged=function(l){u.props.onSelectionChanged&&!Ge(u.props.selection,l)&&u.props.onSelectionChanged(l)},this.onHighlightChanged=function(l){(u.prevHighlight!=null?u.prevHighlight:-1)!==l&&(u.prevHighlight=l,u.props.onHighlightChanged&&u.props.onHighlightChanged(l))}}return Object.defineProperty(p.prototype,"props",{get:function(){return this.adapter.props()},enumerable:!1,configurable:!0}),p.prototype.componentDidMount=function(){this.data=this.buildProvider(),this.instance=this.adapter.createInstance(this.data,yy(this.props,qI)),this.instance.on(Ws.EVENT_HIGHLIGHT_CHANGED,this.onHighlightChanged)},p.prototype.resolveColumnDescs=function(s){var u=this.adapter.columnDescs(s),l=u.length===0||!!this.props.deriveColumns,f=Array.isArray(this.props.deriveColumns)?this.props.deriveColumns:[];return{columns:u,deriveColors:!!this.props.deriveColors,deriveColumns:l,deriveColumnNames:f}},p.prototype.resolveRankings=function(){var s=this.adapter.rankingBuilders();return{builders:s,restore:this.props.restore,derive:s.length===0&&!this.props.restore||!!this.props.defaultRanking,supportTypes:this.props.defaultRanking!=="noSupportTypes"}},p.prototype.buildColumns=function(s,u){this.prevColumns=u;var l=u.columns.map((function(x){return Object.assign({},x)}));if(u.deriveColumns)for(var f=new Set(l.map((function(x){return"".concat(x.type,"@").concat(x.label)}))),d=0,_=p1(s,{columns:u.deriveColumnNames});d<_.length;d++){var w=_[d];f.has("".concat(w.type,"@").concat(w.label))||l.push(w)}return u.deriveColors&&d1(l),l},p.prototype.buildRankings=function(s,u){s.clearRankings(),this.prevRankings=u,u.derive&&s.deriveDefault(u.supportTypes),u.restore&&s.restore(u.restore),u.builders.forEach((function(l){return YI(l,s)}))},p.prototype.buildProvider=function(){var s=this.buildColumns(this.props.data,this.resolveColumnDescs(this.props.data)),u=new au(this.props.data,s,yy(this.props,$I));return this.buildRankings(u,this.resolveRankings()),u.setSelection(this.props.selection||[]),u.on(au.EVENT_SELECTION_CHANGED,this.onSelectionChanged),u},p.prototype.updateLineUp=function(s,u){var l=gS(this.props,s,qI);return l?(this.instance&&this.instance.destroy(),this.instance=this.adapter.createInstance(this.data,l),this.prevHighlight=this.props.highlight==null?-1:this.props.highlight,this.instance.setHighlight(this.prevHighlight),this.instance.on(Ws.EVENT_HIGHLIGHT_CHANGED,this.onHighlightChanged),!0):(u&&this.instance.setDataProvider(this.data),!!(u||this.props.highlight!=null&&this.prevHighlight!==this.props.highlight)&&(this.prevHighlight=this.props.highlight==null?-1:this.props.highlight,this.instance.on(Ws.EVENT_HIGHLIGHT_CHANGED,null),this.instance.setHighlight(this.prevHighlight),this.instance.on(Ws.EVENT_HIGHLIGHT_CHANGED,this.onHighlightChanged),!0))},p.prototype.updateProvider=function(s){var u=this;if(gS(this.props,s,$I)||!this.data||s("data"))return this.data=this.buildProvider(),!0;var l=this.resolveRankings(),f=this.resolveColumnDescs(this.props.data),d=!Ge(this.prevColumns,f);if(d){var _=this.buildColumns(this.props.data,f);this.data.clearColumns(),_.forEach((function(w){return u.data.pushDesc(w)}))}return!d&&Ge(l,this.prevRankings)||this.buildRankings(this.data,l),this.data.on(au.EVENT_SELECTION_CHANGED,null),this.data.setSelection(this.props.selection||[]),this.data.on(au.EVENT_SELECTION_CHANGED,this.onSelectionChanged),!1},p.prototype.componentDidUpdate=function(s){var u=this.updateProvider(s);this.updateLineUp(s,u)},p.prototype.componentWillUnmount=function(){this.instance&&(this.instance.destroy(),this.instance=null),this.data=null},p})(),xK=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),EK=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function TK(p,s){s===void 0&&(s={});var u=(function(l){function f(d,_){for(var w=[],x=2;x<arguments.length;x++)w[x-2]=arguments[x];var T=l.call(this,d,_)||this;return typeof T.init=="function"&&T.init.apply(T,EK([d,_],w,!1)),T}return xK(f,l),f.prototype.init=function(){for(var d=[],_=0;_<arguments.length;_++)d[_]=arguments[_]},f})(Tr);return u.prototype.toString=function(){return p},u.prototype=Object.assign(u.prototype,s),u}var CK=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function AK(p){for(var s=[],u=0;u<p.length;++u)s[p[u]]=u+1;return s}const DK=(function(p){function s(u,l,f){l===void 0&&(l=[]),f===void 0&&(f={});var d=p.call(this,l,f)||this;return d.server=u,d.ooptions={maxCacheSize:1e3},d.cache=new Map,Object.assign(d.ooptions,f),d}return CK(s,p),s.prototype.getTotalNumberOfRows=function(){return this.cache.size},s.prototype.getTaskExecutor=function(){return new LN},s.prototype.sort=function(u){return this.server.sort(u).then((function(l){return{groups:[Object.assign({order:l},ht)],index2pos:AK(l)}}))},s.prototype.loadFromServer=function(u){return this.server.view(u).then((function(l){return l.map((function(f,d){return{v:f,dataIndex:u[d]}}))}))},s.prototype.view=function(u){if(u.length===0)return Promise.resolve([]);var l=this.fetch([u])[0];return Promise.all(l).then((function(f){return f.map((function(d){return d.v}))}))},s.prototype.computeMissing=function(u){var l=new Set,f=l.add.bind(l);return u.forEach((function(d){return d.forEach(f)})),this.cache.forEach((function(d,_){return l.delete(_)})),this.cache.size,l.size,this.ooptions.maxCacheSize,Array.from(l)},s.prototype.loadInCache=function(u){var l=this;if(u.length!==0){var f=this.loadFromServer(u);u.forEach((function(d,_){var w=u[_];l.cache.set(w,f.then((function(x){return{v:x[_],i:w}})))}))}},s.prototype.fetch=function(u){var l=this,f=this.computeMissing(u);return this.loadInCache(f),u.map((function(d){return d.map((function(_){return l.cache.get(_)}))}))},s.prototype.getRow=function(u){return this.cache.has(u)||this.loadInCache([u]),this.cache.get(u)},s.prototype.mappingSample=function(u){return this.server.mappingSample(u.desc.column)},s.prototype.searchAndJump=function(u,l,f,d){var _=this;this.server.search(u,l.desc.column).then((function(w){w.length>0&&f?_.jumpToNearest(w.slice(0,1)):_.jumpToNearest(w)}))},s})(mN);function MK(p,s,u){return u===void 0&&(u={}),new au(p,s,u)}function LK(p,s,u){return u===void 0&&(u={}),new Ws(p,s,u)}function NK(p,s,u){return u===void 0&&(u={}),new pS(p,s,u)}var RK="4.15.0",IK="20250804-162023",OK="BSD-3-Clause"})(),a})()))})(aE)),aE.exports}var $f=swt(),o0={exports:{}};var lwt=o0.exports,sF;function uwt(){return sF||(sF=1,(function(r,t){((e,n)=>{r.exports=n()})(lwt,function e(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,c={},h=0,v={};function g(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(F){var H=O(F);H.chunkSize=parseInt(H.chunkSize),F.step||F.chunk||(H.chunkSize=null),this._handle=new E(H),(this._handle.streamer=this)._config=H}).call(this,k),this.parseChunk=function(F,H){var W=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<W){let Y=this._config.newline;Y||(q=this._config.quoteChar||'"',Y=this._handle.guessLineEndings(F,q)),F=[...F.split(Y).slice(W)].join(Y)}this.isFirstChunk&&V(this._config.beforeFirstChunk)&&(q=this._config.beforeFirstChunk(F))!==void 0&&(F=q),this.isFirstChunk=!1,this._halted=!1;var W=this._partialLine+F,q=(this._partialLine="",this._handle.parse(W,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(F=q.meta.cursor,W=(this._finished||(this._partialLine=W.substring(F-this._baseIndex),this._baseIndex=F),q&&q.data&&(this._rowCount+=q.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:q,workerId:v.WORKER_ID,finished:W});else if(V(this._config.chunk)&&!H){if(this._config.chunk(q,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=q=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(q.data),this._completeResults.errors=this._completeResults.errors.concat(q.errors),this._completeResults.meta=q.meta),this._completed||!W||!V(this._config.complete)||q&&q.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),W||q&&q.meta.paused||this._nextChunk(),q}this._halted=!0},this._sendError=function(F){V(this._config.error)?this._config.error(F):o&&this._config.error&&n.postMessage({workerId:v.WORKER_ID,error:F,finished:!1})}}function y(k){var F;(k=k||{}).chunkSize||(k.chunkSize=v.RemoteChunkSize),g.call(this,k),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(H){this._input=H,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(F=new XMLHttpRequest,this._config.withCredentials&&(F.withCredentials=this._config.withCredentials),a||(F.onload=P(this._chunkLoaded,this),F.onerror=P(this._chunkError,this)),F.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var H,W=this._config.downloadRequestHeaders;for(H in W)F.setRequestHeader(H,W[H])}var q;this._config.chunkSize&&(q=this._start+this._config.chunkSize-1,F.setRequestHeader("Range","bytes="+this._start+"-"+q));try{F.send(this._config.downloadRequestBody)}catch(Y){this._chunkError(Y.message)}a&&F.status===0&&this._chunkError()}},this._chunkLoaded=function(){F.readyState===4&&(F.status<200||400<=F.status?this._chunkError():(this._start+=this._config.chunkSize||F.responseText.length,this._finished=!this._config.chunkSize||this._start>=(H=>(H=H.getResponseHeader("Content-Range"))!==null?parseInt(H.substring(H.lastIndexOf("/")+1)):-1)(F),this.parseChunk(F.responseText)))},this._chunkError=function(H){H=F.statusText||H,this._sendError(new Error(H))}}function m(k){(k=k||{}).chunkSize||(k.chunkSize=v.LocalChunkSize),g.call(this,k);var F,H,W=typeof FileReader<"u";this.stream=function(q){this._input=q,H=q.slice||q.webkitSlice||q.mozSlice,W?((F=new FileReader).onload=P(this._chunkLoaded,this),F.onerror=P(this._chunkError,this)):F=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var q=this._input,Y=(this._config.chunkSize&&(Y=Math.min(this._start+this._config.chunkSize,this._input.size),q=H.call(q,this._start,Y)),F.readAsText(q,this._config.encoding));W||this._chunkLoaded({target:{result:Y}})},this._chunkLoaded=function(q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(q.target.result)},this._chunkError=function(){this._sendError(F.error)}}function b(k){var F;g.call(this,k=k||{}),this.stream=function(H){return F=H,this._nextChunk()},this._nextChunk=function(){var H,W;if(!this._finished)return H=this._config.chunkSize,F=H?(W=F.substring(0,H),F.substring(H)):(W=F,""),this._finished=!F,this.parseChunk(W)}}function S(k){g.call(this,k=k||{});var F=[],H=!0,W=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(q){this._input=q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){W&&F.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),F.length?this.parseChunk(F.shift()):H=!0},this._streamData=P(function(q){try{F.push(typeof q=="string"?q:q.toString(this._config.encoding)),H&&(H=!1,this._checkIsFinished(),this.parseChunk(F.shift()))}catch(Y){this._streamError(Y)}},this),this._streamError=P(function(q){this._streamCleanUp(),this._sendError(q)},this),this._streamEnd=P(function(){this._streamCleanUp(),W=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function E(k){var F,H,W,q,Y=Math.pow(2,53),K=-Y,X=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,J=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,it=this,rt=0,st=0,lt=!1,dt=!1,pt=[],Tt={data:[],errors:[],meta:{}};function Ft(Bt){return k.skipEmptyLines==="greedy"?Bt.join("").trim()==="":Bt.length===1&&Bt[0].length===0}function zt(){if(Tt&&W&&(Kt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+v.DefaultDelimiter+"'"),W=!1),k.skipEmptyLines&&(Tt.data=Tt.data.filter(function(Z){return!Ft(Z)})),Vt()){let Z=function(at,ut){V(k.transformHeader)&&(at=k.transformHeader(at,ut)),pt.push(at)};var wt=Z;if(Tt)if(Array.isArray(Tt.data[0])){for(var Bt=0;Vt()&&Bt<Tt.data.length;Bt++)Tt.data[Bt].forEach(Z);Tt.data.splice(0,1)}else Tt.data.forEach(Z)}function gt(Z,at){for(var ut=k.header?{}:[],_t=0;_t<Z.length;_t++){var mt=_t,xt=Z[_t],xt=((tt,et)=>(ht=>(k.dynamicTypingFunction&&k.dynamicTyping[ht]===void 0&&(k.dynamicTyping[ht]=k.dynamicTypingFunction(ht)),(k.dynamicTyping[ht]||k.dynamicTyping)===!0))(tt)?et==="true"||et==="TRUE"||et!=="false"&&et!=="FALSE"&&((ht=>{if(X.test(ht)&&(ht=parseFloat(ht),K<ht&&ht<Y))return 1})(et)?parseFloat(et):J.test(et)?new Date(et):et===""?null:et):et)(mt=k.header?_t>=pt.length?"__parsed_extra":pt[_t]:mt,xt=k.transform?k.transform(xt,mt):xt);mt==="__parsed_extra"?(ut[mt]=ut[mt]||[],ut[mt].push(xt)):ut[mt]=xt}return k.header&&(_t>pt.length?Kt("FieldMismatch","TooManyFields","Too many fields: expected "+pt.length+" fields but parsed "+_t,st+at):_t<pt.length&&Kt("FieldMismatch","TooFewFields","Too few fields: expected "+pt.length+" fields but parsed "+_t,st+at)),ut}var Ct;Tt&&(k.header||k.dynamicTyping||k.transform)&&(Ct=1,!Tt.data.length||Array.isArray(Tt.data[0])?(Tt.data=Tt.data.map(gt),Ct=Tt.data.length):Tt.data=gt(Tt.data,0),k.header&&Tt.meta&&(Tt.meta.fields=pt),st+=Ct)}function Vt(){return k.header&&pt.length===0}function Kt(Bt,gt,Ct,wt){Bt={type:Bt,code:gt,message:Ct},wt!==void 0&&(Bt.row=wt),Tt.errors.push(Bt)}V(k.step)&&(q=k.step,k.step=function(Bt){Tt=Bt,Vt()?zt():(zt(),Tt.data.length!==0&&(rt+=Bt.data.length,k.preview&&rt>k.preview?H.abort():(Tt.data=Tt.data[0],q(Tt,it))))}),this.parse=function(Bt,gt,Ct){var wt=k.quoteChar||'"',wt=(k.newline||(k.newline=this.guessLineEndings(Bt,wt)),W=!1,k.delimiter?V(k.delimiter)&&(k.delimiter=k.delimiter(Bt),Tt.meta.delimiter=k.delimiter):((wt=((Z,at,ut,_t,mt)=>{var xt,tt,et,ht;mt=mt||[",","	","|",";",v.RECORD_SEP,v.UNIT_SEP];for(var St=0;St<mt.length;St++){for(var It,Gt=mt[St],Dt=0,Lt=0,Ht=0,Jt=(et=void 0,new A({comments:_t,delimiter:Gt,newline:at,preview:10}).parse(Z)),pe=0;pe<Jt.data.length;pe++)ut&&Ft(Jt.data[pe])?Ht++:(It=Jt.data[pe].length,Lt+=It,et===void 0?et=It:0<It&&(Dt+=Math.abs(It-et),et=It));0<Jt.data.length&&(Lt/=Jt.data.length-Ht),(tt===void 0||Dt<=tt)&&(ht===void 0||ht<Lt)&&1.99<Lt&&(tt=Dt,xt=Gt,ht=Lt)}return{successful:!!(k.delimiter=xt),bestDelimiter:xt}})(Bt,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=wt.bestDelimiter:(W=!0,k.delimiter=v.DefaultDelimiter),Tt.meta.delimiter=k.delimiter),O(k));return k.preview&&k.header&&wt.preview++,F=Bt,H=new A(wt),Tt=H.parse(F,gt,Ct),zt(),lt?{meta:{paused:!0}}:Tt||{meta:{paused:!1}}},this.paused=function(){return lt},this.pause=function(){lt=!0,H.abort(),F=V(k.chunk)?"":F.substring(H.getCharIndex())},this.resume=function(){it.streamer._halted?(lt=!1,it.streamer.parseChunk(F,!0)):setTimeout(it.resume,3)},this.aborted=function(){return dt},this.abort=function(){dt=!0,H.abort(),Tt.meta.aborted=!0,V(k.complete)&&k.complete(Tt),F=""},this.guessLineEndings=function(Z,wt){Z=Z.substring(0,1048576);var wt=new RegExp(C(wt)+"([^]*?)"+C(wt),"gm"),Ct=(Z=Z.replace(wt,"")).split("\r"),wt=Z.split(`
`),Z=1<wt.length&&wt[0].length<Ct[0].length;if(Ct.length===1||Z)return`
`;for(var at=0,ut=0;ut<Ct.length;ut++)Ct[ut][0]===`
`&&at++;return at>=Ct.length/2?`\r
`:"\r"}}function C(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function A(k){var F=(k=k||{}).delimiter,H=k.newline,W=k.comments,q=k.step,Y=k.preview,K=k.fastMode,X=null,J=!1,it=k.quoteChar==null?'"':k.quoteChar,rt=it;if(k.escapeChar!==void 0&&(rt=k.escapeChar),(typeof F!="string"||-1<v.BAD_DELIMITERS.indexOf(F))&&(F=","),W===F)throw new Error("Comment character same as delimiter");W===!0?W="#":(typeof W!="string"||-1<v.BAD_DELIMITERS.indexOf(W))&&(W=!1),H!==`
`&&H!=="\r"&&H!==`\r
`&&(H=`
`);var st=0,lt=!1;this.parse=function(dt,pt,Tt){if(typeof dt!="string")throw new Error("Input must be a string");var Ft=dt.length,zt=F.length,Vt=H.length,Kt=W.length,Bt=V(q),gt=[],Ct=[],wt=[],Z=st=0;if(!dt)return Dt();if(K||K!==!1&&dt.indexOf(it)===-1){for(var at=dt.split(H),ut=0;ut<at.length;ut++){if(wt=at[ut],st+=wt.length,ut!==at.length-1)st+=H.length;else if(Tt)return Dt();if(!W||wt.substring(0,Kt)!==W){if(Bt){if(gt=[],ht(wt.split(F)),Lt(),lt)return Dt()}else ht(wt.split(F));if(Y&&Y<=ut)return gt=gt.slice(0,Y),Dt(!0)}}return Dt()}for(var _t=dt.indexOf(F,st),mt=dt.indexOf(H,st),xt=new RegExp(C(rt)+C(it),"g"),tt=dt.indexOf(it,st);;)if(dt[st]===it)for(tt=st,st++;;){if((tt=dt.indexOf(it,tt+1))===-1)return Tt||Ct.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:gt.length,index:st}),It();if(tt===Ft-1)return It(dt.substring(st,tt).replace(xt,it));if(it===rt&&dt[tt+1]===rt)tt++;else if(it===rt||tt===0||dt[tt-1]!==rt){_t!==-1&&_t<tt+1&&(_t=dt.indexOf(F,tt+1));var et=St((mt=mt!==-1&&mt<tt+1?dt.indexOf(H,tt+1):mt)===-1?_t:Math.min(_t,mt));if(dt.substr(tt+1+et,zt)===F){wt.push(dt.substring(st,tt).replace(xt,it)),dt[st=tt+1+et+zt]!==it&&(tt=dt.indexOf(it,st)),_t=dt.indexOf(F,st),mt=dt.indexOf(H,st);break}if(et=St(mt),dt.substring(tt+1+et,tt+1+et+Vt)===H){if(wt.push(dt.substring(st,tt).replace(xt,it)),Gt(tt+1+et+Vt),_t=dt.indexOf(F,st),tt=dt.indexOf(it,st),Bt&&(Lt(),lt))return Dt();if(Y&&gt.length>=Y)return Dt(!0);break}Ct.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:gt.length,index:st}),tt++}}else if(W&&wt.length===0&&dt.substring(st,st+Kt)===W){if(mt===-1)return Dt();st=mt+Vt,mt=dt.indexOf(H,st),_t=dt.indexOf(F,st)}else if(_t!==-1&&(_t<mt||mt===-1))wt.push(dt.substring(st,_t)),st=_t+zt,_t=dt.indexOf(F,st);else{if(mt===-1)break;if(wt.push(dt.substring(st,mt)),Gt(mt+Vt),Bt&&(Lt(),lt))return Dt();if(Y&&gt.length>=Y)return Dt(!0)}return It();function ht(Ht){gt.push(Ht),Z=st}function St(Ht){var Jt=0;return Jt=Ht!==-1&&(Ht=dt.substring(tt+1,Ht))&&Ht.trim()===""?Ht.length:Jt}function It(Ht){return Tt||(Ht===void 0&&(Ht=dt.substring(st)),wt.push(Ht),st=Ft,ht(wt),Bt&&Lt()),Dt()}function Gt(Ht){st=Ht,ht(wt),wt=[],mt=dt.indexOf(H,st)}function Dt(Ht){if(k.header&&!pt&&gt.length&&!J){var Jt=gt[0],pe=Object.create(null),Ge=new Set(Jt);let me=!1;for(let $e=0;$e<Jt.length;$e++){let _e=Jt[$e];if(pe[_e=V(k.transformHeader)?k.transformHeader(_e,$e):_e]){let er,Qr=pe[_e];for(;er=_e+"_"+Qr,Qr++,Ge.has(er););Ge.add(er),Jt[$e]=er,pe[_e]++,me=!0,(X=X===null?{}:X)[er]=_e}else pe[_e]=1,Jt[$e]=_e;Ge.add(_e)}me&&console.warn("Duplicate headers found and renamed."),J=!0}return{data:gt,errors:Ct,meta:{delimiter:F,linebreak:H,aborted:lt,truncated:!!Ht,cursor:Z+(pt||0),renamedHeaders:X}}}function Lt(){q(Dt()),gt=[],Ct=[]}},this.abort=function(){lt=!0},this.getCharIndex=function(){return st}}function D(k){var F=k.data,H=c[F.workerId],W=!1;if(F.error)H.userError(F.error,F.file);else if(F.results&&F.results.data){var q={abort:function(){W=!0,L(F.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:R,resume:R};if(V(H.userStep)){for(var Y=0;Y<F.results.data.length&&(H.userStep({data:F.results.data[Y],errors:F.results.errors,meta:F.results.meta},q),!W);Y++);delete F.results}else V(H.userChunk)&&(H.userChunk(F.results,q,F.file),delete F.results)}F.finished&&!W&&L(F.workerId,F.results)}function L(k,F){var H=c[k];V(H.userComplete)&&H.userComplete(F),H.terminate(),delete c[k]}function R(){throw new Error("Not implemented.")}function O(k){if(typeof k!="object"||k===null)return k;var F,H=Array.isArray(k)?[]:{};for(F in k)H[F]=O(k[F]);return H}function P(k,F){return function(){k.apply(F,arguments)}}function V(k){return typeof k=="function"}return v.parse=function(k,F){var H=(F=F||{}).dynamicTyping||!1;if(V(H)&&(F.dynamicTypingFunction=H,H={}),F.dynamicTyping=H,F.transform=!!V(F.transform)&&F.transform,!F.worker||!v.WORKERS_SUPPORTED)return H=null,v.NODE_STREAM_INPUT,typeof k=="string"?(k=(W=>W.charCodeAt(0)!==65279?W:W.slice(1))(k),H=new(F.download?y:b)(F)):k.readable===!0&&V(k.read)&&V(k.on)?H=new S(F):(n.File&&k instanceof File||k instanceof Object)&&(H=new m(F)),H.stream(k);(H=(()=>{var W;return!!v.WORKERS_SUPPORTED&&(W=(()=>{var q=n.URL||n.webkitURL||null,Y=e.toString();return v.BLOB_URL||(v.BLOB_URL=q.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Y,")();"],{type:"text/javascript"})))})(),(W=new n.Worker(W)).onmessage=D,W.id=h++,c[W.id]=W)})()).userStep=F.step,H.userChunk=F.chunk,H.userComplete=F.complete,H.userError=F.error,F.step=V(F.step),F.chunk=V(F.chunk),F.complete=V(F.complete),F.error=V(F.error),delete F.worker,H.postMessage({input:k,config:F,workerId:H.id})},v.unparse=function(k,F){var H=!1,W=!0,q=",",Y=`\r
`,K='"',X=K+K,J=!1,it=null,rt=!1,st=((()=>{if(typeof F=="object"){if(typeof F.delimiter!="string"||v.BAD_DELIMITERS.filter(function(pt){return F.delimiter.indexOf(pt)!==-1}).length||(q=F.delimiter),typeof F.quotes!="boolean"&&typeof F.quotes!="function"&&!Array.isArray(F.quotes)||(H=F.quotes),typeof F.skipEmptyLines!="boolean"&&typeof F.skipEmptyLines!="string"||(J=F.skipEmptyLines),typeof F.newline=="string"&&(Y=F.newline),typeof F.quoteChar=="string"&&(K=F.quoteChar),typeof F.header=="boolean"&&(W=F.header),Array.isArray(F.columns)){if(F.columns.length===0)throw new Error("Option columns is empty");it=F.columns}F.escapeChar!==void 0&&(X=F.escapeChar+K),F.escapeFormulae instanceof RegExp?rt=F.escapeFormulae:typeof F.escapeFormulae=="boolean"&&F.escapeFormulae&&(rt=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(K),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return lt(null,k,J);if(typeof k[0]=="object")return lt(it||Object.keys(k[0]),k,J)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||it),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),lt(k.fields||[],k.data||[],J);throw new Error("Unable to serialize unrecognized input");function lt(pt,Tt,Ft){var zt="",Vt=(typeof pt=="string"&&(pt=JSON.parse(pt)),typeof Tt=="string"&&(Tt=JSON.parse(Tt)),Array.isArray(pt)&&0<pt.length),Kt=!Array.isArray(Tt[0]);if(Vt&&W){for(var Bt=0;Bt<pt.length;Bt++)0<Bt&&(zt+=q),zt+=dt(pt[Bt],Bt);0<Tt.length&&(zt+=Y)}for(var gt=0;gt<Tt.length;gt++){var Ct=(Vt?pt:Tt[gt]).length,wt=!1,Z=Vt?Object.keys(Tt[gt]).length===0:Tt[gt].length===0;if(Ft&&!Vt&&(wt=Ft==="greedy"?Tt[gt].join("").trim()==="":Tt[gt].length===1&&Tt[gt][0].length===0),Ft==="greedy"&&Vt){for(var at=[],ut=0;ut<Ct;ut++){var _t=Kt?pt[ut]:ut;at.push(Tt[gt][_t])}wt=at.join("").trim()===""}if(!wt){for(var mt=0;mt<Ct;mt++){0<mt&&!Z&&(zt+=q);var xt=Vt&&Kt?pt[mt]:mt;zt+=dt(Tt[gt][xt],mt)}gt<Tt.length-1&&(!Ft||0<Ct&&!Z)&&(zt+=Y)}}return zt}function dt(pt,Tt){var Ft,zt;return pt==null?"":pt.constructor===Date?JSON.stringify(pt).slice(1,25):(zt=!1,rt&&typeof pt=="string"&&rt.test(pt)&&(pt="'"+pt,zt=!0),Ft=pt.toString().replace(st,X),(zt=zt||H===!0||typeof H=="function"&&H(pt,Tt)||Array.isArray(H)&&H[Tt]||((Vt,Kt)=>{for(var Bt=0;Bt<Kt.length;Bt++)if(-1<Vt.indexOf(Kt[Bt]))return!0;return!1})(Ft,v.BAD_DELIMITERS)||-1<Ft.indexOf(q)||Ft.charAt(0)===" "||Ft.charAt(Ft.length-1)===" ")?K+Ft+K:Ft)}},v.RECORD_SEP="",v.UNIT_SEP="",v.BYTE_ORDER_MARK="\uFEFF",v.BAD_DELIMITERS=["\r",`
`,'"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!a&&!!n.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=",",v.Parser=A,v.ParserHandle=E,v.NetworkStreamer=y,v.FileStreamer=m,v.StringStreamer=b,v.ReadableStreamStreamer=S,n.jQuery&&((i=n.jQuery).fn.parse=function(k){var F=k.config||{},H=[];return this.each(function(Y){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var K=0;K<this.files.length;K++)H.push({file:this.files[K],inputElem:this,instanceConfig:i.extend({},F)})}),W(),this;function W(){if(H.length===0)V(k.complete)&&k.complete();else{var Y,K,X,J,it=H[0];if(V(k.before)){var rt=k.before(it.file,it.inputElem);if(typeof rt=="object"){if(rt.action==="abort")return Y="AbortError",K=it.file,X=it.inputElem,J=rt.reason,void(V(k.error)&&k.error({name:Y},K,X,J));if(rt.action==="skip")return void q();typeof rt.config=="object"&&(it.instanceConfig=i.extend(it.instanceConfig,rt.config))}else if(rt==="skip")return void q()}var st=it.instanceConfig.complete;it.instanceConfig.complete=function(lt){V(st)&&st(lt,it.file,it.inputElem),q()},v.parse(it.file,it.instanceConfig)}}function q(){H.splice(0,1),W()}}),o&&(n.onmessage=function(k){k=k.data,v.WORKER_ID===void 0&&k&&(v.WORKER_ID=k.workerId),typeof k.input=="string"?n.postMessage({workerId:v.WORKER_ID,results:v.parse(k.input,k.config),finished:!0}):(n.File&&k.input instanceof File||k.input instanceof Object)&&(k=v.parse(k.input,k.config))&&n.postMessage({workerId:v.WORKER_ID,results:k,finished:!0})}),(y.prototype=Object.create(g.prototype)).constructor=y,(m.prototype=Object.create(g.prototype)).constructor=m,(b.prototype=Object.create(b.prototype)).constructor=b,(S.prototype=Object.create(g.prototype)).constructor=S,v})})(o0)),o0.exports}var cwt=uwt();const lF=owt(cwt),fwt={class:"dashboard-wrapper"},hwt={id:"hd"},pwt={style:{display:"flex",position:"relative"}},dwt={class:"chain-selector",id:"btn"},vwt={style:{"text-transform":"capitalize"}},gwt={class:"dropdown",id:"dropdown"},ywt={class:"listbox",style:{"margin-top":"20%"}},mwt={class:"listbox"},_wt={class:"listbox"},bwt={class:"listbox"},Swt={class:"listbox"},wwt={class:"listbox"},xwt={class:"listbox"},Ewt={class:"listbox"},Twt={class:"listbox"},Cwt={class:"top-section"},Awt={class:"glass-box voting-map-box"},Dwt={class:"glass-box validator-info-box"},Mwt={class:"validator-header-row"},Lwt={class:"validator-logo"},Nwt=["src"],Rwt={class:"box-title"},Iwt={class:"validator-content-row"},Owt={class:"content-box-left",style:{"flex-direction":"row"}},Pwt={style:{width:"60%",height:"100%"}},kwt={style:{width:"40%",height:"100%"}},Vwt={style:{"text-align":"right",width:"95%",height:"15%","font-size":"15px",display:"flex"}},Gwt={style:{width:"35%","font-family":"Arial, Helvetica, sans-serif","font-weight":"600"}},Fwt={id:"pointText",style:{"font-size":"15px"}},Bwt={style:{width:"95%",height:"85%"}},Hwt={style:{display:"inline-block",width:"100%","border-bottom":"1px solid","border-color":"#6C6B6B33"}},zwt={style:{float:"right","text-align":"right","line-height":"200%"}},Uwt={id:"pointText",style:{"font-family":"Arial, Helvetica, sans-serif"}},Wwt={style:{float:"right","text-align":"right","line-height":"200%","font-family":"Arial, Helvetica, sans-serif"}},jwt={class:"content-box-right"},Ywt={style:{width:"100%",height:"100%"}},$wt={style:{width:"100%",height:"10%"}},qwt={style:{float:"right","text-align":"right","font-size":"15px","font-weight":"600"}},Xwt={id:"pointText",style:{"font-family":"Arial, Helvetica, sans-serif"}},Zwt={class:"bottom-section"},Kwt={class:"lineup-container"},Jwt={__name:"App",setup(r){const t=Ea(null),e=Ea(null),n=Ea(null),i=Ea(null);let a=null,o,c=null,h,v=null,g,y=[],m=[],b,S;const E=Ea(0),C=Ea({Name:"",commission:0,votingPower:0,token:0,tokenShare:0,stability:0,address:""}),A=Ea({commission:0,votingPower:0,token:0,tokenShare:0,stability:0});let D=[];const L=Ea(null),R=Ea(null),O=Ea(null);let P={};const V=Ea(null);function k(){o={tooltip:{trigger:"item",renderMode:"html",className:"pie_tooltip",textStyle:{fontSize:10},formatter:function(K){const X=K.data.name,J=K.data.tooltip_data;return`
            <div class="tooltip-inner">
              <div class="tooltip-name"><span style="color:${K.color}; font-size:16px">&#183;</span> ${X}</div>
              <div>${J}</div>
            </div>
          `},extraCssText:`
          background: #121212CC;
          padding: 6px 8px;
          border-radius: 6px;
          border: 1px solid rgba(255,255,255,0.80);
          color: #dddddd;
        `},series:[{name:C.value.Name,type:"pie",radius:["85%","40%"],center:["40%","55%"],label:{show:!1,position:"center"},emphasis:{scale:!1},labelLine:{show:!1},data:[{value:C.value.commission,name:"Commission",tooltip_data:A.value.commission},{value:C.value.votingPower,name:"VotingPower",tooltip_data:A.value.votingPower},{value:C.value.token,name:"Token",tooltip_data:A.value.token},{value:C.value.tokenShare,name:"TokenShare",tooltip_data:A.value.tokenShare},{value:C.value.stability,name:"Stability",tooltip_data:A.value.stability}]}],color:["#E96C5B","#68BB6D","#F1A167","#6782F7","#915DCB"]},o&&a.setOption(o)}function F(){h={radar:{indicator:[{name:"Commission",max:1},{name:"Voting Power",max:1},{name:"Token",max:1},{name:"Token Share",max:1},{name:"Stability",max:1}],center:["50%","55%"],radius:72,startAngle:160,splitNumber:3,shape:"circle",splitArea:{areaStyle:{color:["#131313"],shadowColor:"rgba(0, 0, 0, 0.2)",shadowBlur:10}},axisLine:{lineStyle:{color:"#DDDDDD99"}},axisName:{fontSize:10},nameGap:8,splitLine:{lineStyle:{color:"#DDDDDD99"}}},series:{type:"radar",symbol:"none",lineStyle:{width:3,color:"#8A38F5"},data:[{name:"original value",value:D}]}},h&&c.setOption(h)}function H(){let K=[];m.forEach(X=>{K.push([X.Name,X.x,X.y,X.cluster])}),g={xAxis:{position:"bottom",axisLine:{show:!0,onZero:!1,lineStyle:{color:"#A3A3A380"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"#A3A3A380",width:1,type:"solid"}}},yAxis:{axisLine:{show:!0,onZero:!1,lineStyle:{color:"#A3A3A380"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"#A3A3A380",width:1,type:"solid"}}},grid:{left:"7%",top:"10%",bottom:"5%",right:"25%"},dataset:{source:K},visualMap:{type:"piecewise",bottom:"3%",right:0,align:"left",dimension:3,categories:[0,1,2],itemWidth:10,itemHeight:6,textStyle:{fontSize:10,color:"#cccccc"},inRange:{color:["#E78BB2","#F7E36E","#5CCBC0"]},formatter:function(X){return X===0?"Low Participation":X===1?"Balance Supportive":X===2?"Polarized Yes-or-Exit":X}},tooltip:{trigger:"item",renderMode:"html",triggerOn:"none",className:"vmap_tooltip",textStyle:{fontSize:10},formatter:function(X){const J=X.value[0],it=X.value[3];return`
            <div class="tooltip-inner">
              <div class="tooltip-name"><span style="color:${X.color}; font-size:16px">&#183;</span> ${J}</div>
              <div>voting power: ${A.value.votingPower}</div>
              <div>cluster: ${it}</div>
            </div>
          `},extraCssText:`
          background: #CCCCCC33;
          padding: 6px 8px;
          border-radius: 6px;
          border: 1px solid rgba(255,255,255,0.25);
          color: #dddddd;
        `},series:[{type:"scatter",encode:{x:1,y:2},symbolSize:4,selectedMode:"single",emphasis:{focus:"self"},select:{itemStyle:{opacity:1,borderColor:"#ffffff",borderWidth:2,shadowBlur:12,shadowColor:"rgba(255,255,255,0.9)"}},blur:{itemStyle:{opacity:.3}},blurScope:"series"}]},v.on("selectchanged",function(X){const J=X.selected[0];if(!J){v.dispatchAction({type:"hideTip"}),v.dispatchAction({type:"downplay"});return}const it=J.dataIndex;if(it.length>0){const rt=it[0];v.dispatchAction({type:"highlight",seriesIndex:J.seriesIndex,dataIndex:rt}),v.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:rt})}else v.dispatchAction({type:"hideTip"}),v.dispatchAction({type:"downplay"})}),g&&v.setOption(g)}function W(){v.dispatchAction({type:"hideTip"}),v.dispatchAction({type:"toggleSelect",seriesIndex:0})}function q(K){const X=m.findIndex(J=>J.Name===K);X!==-1&&v.dispatchAction({type:"toggleSelect",seriesIndex:0,dataIndex:X})}async function Y(K){S&&S.setSelection([]),b&&(b.innerHTML=""),O.value=K;const X=await fetch("/data/"+K+"_validator.csv");console.log("/data/"+K+"_validator.csv");const J=await X.text(),rt=await(await fetch("/data/"+K+"_map.csv")).text();let lt=lF.parse(J,{header:!0,skipEmptyLines:!0,dynamicTyping:!0}).data;const dt=lt.find(xt=>parseFloat(xt.totalToken)),pt=dt?dt.totalToken:null;let Ft=lF.parse(rt,{header:!0,skipEmptyLines:!0,dynamicTyping:!0}).data;y=lt.map(xt=>({Name:xt.moniker,token:parseFloat(xt.token),commission:parseFloat(xt.commissions),commission_s:parseFloat(xt.commission),votingPower:parseFloat(xt.votingPower),tokenShare:parseFloat(xt.token)/pt,stability:parseFloat(xt.safety),address:"https://serve.dev-mintscan.com/assets/moniker/"+K+"/64/"+xt.address+".png"})),V.value=y.length,m=Ft.map(xt=>({Name:xt.moniker,x:xt.pca_x,y:xt.pca_y,cluster:xt.cluster}));const zt=["commission","votingPower","token","tokenShare","stability"],Vt=["#E65F4D","#4CAE52","#EE8F5B","#4B6BF6","#7C3FC1"];let Kt=$f.builder(y).column($f.buildStringColumn("Name").width(150));zt.forEach((xt,tt)=>{xt==="commission"?Kt=Kt.column($f.buildNumberColumn(xt).width(40).colorMapping(Vt[tt])):Kt=Kt.column($f.buildNumberColumn(xt).width(150).colorMapping(Vt[tt]))});const Bt=$f.buildRanking().supportTypes().column("Name").weightedSum("ValidatorStats","commission",.2,"votingPower",.2,"token",.2,"tokenShare",.2,"stability",.2).sortBy("ValidatorStats","desc"),gt=$f.buildRanking().weightedSum("ValidatorStats","commission",.2,"votingPower",.2,"token",.2,"tokenShare",.2,"stability",.2).sortBy("ValidatorStats","desc");Kt=Kt.sidePanel(!1).ranking(Bt).rowHeight(24,4).singleSelection(),Kt=Kt.propagateAggregationState(!1),b=e.value,b&&(b.innerHTML=""),S=Kt.ranking(gt).buildTaggle(b);const Ct=S.data.getRankings();Ct[0].remove(Ct[0].children[0]),Ct[0].remove(Ct[0].children[1]);const wt=Ct[0].children[2],Z=wt.children;let at=-1,ut,_t;setTimeout(()=>{const xt=Ct[0].getOrder();S.setSelection([xt[0]]),S.setSelection([]),xt.forEach((tt,et)=>{P[tt]=et+1}),R.value=P[0],Z[0]&&(Z[0].getLabel=function(tt){if(tt.v&&tt.v.commission_s)return String(tt.v.commission_s)})},100);function mt(xt){ut=S.data.data[xt],R.value=P[xt]||0;const et=Ct[0].getOrder().indexOf(xt)+1;_t=wt.getWeights(),L.value=et,C.value.Name=ut.Name,C.value.commission=Z[0].getValue({v:ut})*_t[0],C.value.votingPower=Z[1].getValue({v:ut})*_t[1],C.value.token=Z[2].getValue({v:ut})*_t[2],C.value.tokenShare=Z[3].getValue({v:ut})*_t[3],C.value.stability=Z[4].getValue({v:ut})*_t[4],C.value.address=ut.address,A.value.commission=Z[0].getLabel({v:ut}),A.value.votingPower=Z[1].getLabel({v:ut}),A.value.token=Z[2].getLabel({v:ut}),A.value.tokenShare=Z[3].getLabel({v:ut}),A.value.stability=Z[4].getLabel({v:ut}),D=[],D.push(Z[0].getValue({v:ut})),D.push(Z[1].getValue({v:ut})),D.push(Z[2].getValue({v:ut})),D.push(Z[3].getValue({v:ut})),D.push(Z[4].getValue({v:ut})),E.value=(C.value.commission+C.value.votingPower+C.value.token+C.value.tokenShare+C.value.stability)*100,q(C.value.Name),k(),F(),H()}S.on("selectionChanged",xt=>{xt.length>0?(at=xt[0],mt(at)):(at=-1,W(),console.log(" "))}),wt&&wt.on("dirtyValues",()=>{at!==-1&&(mt(at),setTimeout(()=>{mt(at)},200))}),Ct[0].on("dirtyOrder",()=>{at!==-1&&mt(at)})}return UF(async()=>{await PF(),a=Rw(t.value),c=Rw(n.value),v=Rw(i.value);const K=document.getElementById("btn"),X=document.getElementById("dropdown"),J=function(){X.classList.toggle("show")};K.addEventListener("click",function(it){it.stopPropagation(),J()}),document.documentElement.addEventListener("click",function(){X.classList.contains("show")&&J()}),Y("osmosis")}),(K,X)=>(bQ(),xQ("body",null,[Zt("div",fwt,[Zt("header",hwt,[X[19]||(X[19]=Zt("div",{class:"main-title"},"Validator Finder",-1)),Zt("div",pwt,[Zt("button",dwt,[Zt("span",vwt,Qi(O.value),1),X[9]||(X[9]=Zt("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Zt("circle",{cx:"12",cy:"12",r:"10",stroke:"#777","stroke-width":"2"}),Zt("path",{d:"M8 11L12 15L16 11",stroke:"#ddd","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),Zt("div",gwt,[Zt("div",ywt,[Zt("a",{href:"#",onClick:X[0]||(X[0]=J=>Y("osmosis"))},[...X[10]||(X[10]=[Zt("img",{src:utt},null,-1),Pr(" Osmosis ",-1)])])]),Zt("div",mwt,[Zt("a",{href:"#",onClick:X[1]||(X[1]=J=>Y("cosmos"))},[...X[11]||(X[11]=[Zt("img",{src:ctt},null,-1),Pr(" Cosmos hub ",-1)])])]),Zt("div",_wt,[Zt("a",{href:"#",onClick:X[2]||(X[2]=J=>Y("akash"))},[...X[12]||(X[12]=[Zt("img",{src:ftt},null,-1),Pr(" Akash ",-1)])])]),Zt("div",bwt,[Zt("a",{href:"#",onClick:X[3]||(X[3]=J=>Y("atomone"))},[...X[13]||(X[13]=[Zt("img",{src:htt},null,-1),Pr(" Atomone ",-1)])])]),Zt("div",Swt,[Zt("a",{href:"#",onClick:X[4]||(X[4]=J=>Y("babylon"))},[...X[14]||(X[14]=[Zt("img",{src:ptt},null,-1),Pr(" Babylon ",-1)])])]),Zt("div",wwt,[Zt("a",{href:"#",onClick:X[5]||(X[5]=J=>Y("crypto-org"))},[...X[15]||(X[15]=[Zt("img",{src:dtt},null,-1),Pr(" Crypto-org ",-1)])])]),Zt("div",xwt,[Zt("a",{href:"#",onClick:X[6]||(X[6]=J=>Y("provenance"))},[...X[16]||(X[16]=[Zt("img",{src:vtt},null,-1),Pr(" Provenance ",-1)])])]),Zt("div",Ewt,[Zt("a",{href:"#",onClick:X[7]||(X[7]=J=>Y("shentu"))},[...X[17]||(X[17]=[Zt("img",{src:gtt},null,-1),Pr(" Shentu ",-1)])])]),Zt("div",Twt,[Zt("a",{href:"#",onClick:X[8]||(X[8]=J=>Y("terra"))},[...X[18]||(X[18]=[Zt("img",{src:ytt},null,-1),Pr(" TERRA ",-1)])])])])])]),Zt("section",Cwt,[Zt("div",Awt,[X[20]||(X[20]=Zt("div",{class:"voting-title-wrapper"},[Zt("div",{class:"box-title"},"Voting Map")],-1)),Zt("div",{id:"voting-map-mount",ref_key:"mapRef",ref:i},null,512)]),Zt("div",Dwt,[Zt("div",Mwt,[Zt("div",Lwt,[Zt("img",{src:C.value.address,style:{width:"100%",height:"100%"}},null,8,Nwt)]),Zt("div",Rwt,Qi(C.value.Name),1)]),Zt("div",Iwt,[Zt("div",Owt,[Zt("div",Pwt,[X[21]||(X[21]=Zt("div",{style:{width:"100%",height:"10%"},id:"section_title"}," Weighted Score Breakdown ",-1)),Zt("div",{ref_key:"pieRef",ref:t,style:{width:"100%",height:"90%","padding-left":"5%"}},null,512)]),Zt("div",kwt,[Zt("div",Vwt,[X[22]||(X[22]=Zt("div",{style:{width:"65%","font-weight":"600"}}," Rank ",-1)),Zt("div",Gwt,[Zt("span",Fwt,Qi(L.value),1),Pr(" / "+Qi(V.value),1)])]),Zt("div",Bwt,[Zt("div",Hwt,[X[23]||(X[23]=Zt("div",{style:{float:"left","line-height":"200%"}},[Zt("span",{id:"pointText"},"Total Score")],-1)),Zt("div",null,[Zt("div",zwt,[Zt("span",Uwt,Qi(E.value.toFixed(1)),1)])])]),Zt("div",null,[X[28]||(X[28]=Zt("div",{style:{float:"left","line-height":"200%"}},[Pr(" Commission"),Zt("br"),Pr(" Voting Power"),Zt("br"),Pr(" Token"),Zt("br"),Pr(" Token Share"),Zt("br"),Pr(" Stability"),Zt("br")],-1)),Zt("div",Wwt,[Pr(Qi((C.value.commission*100).toFixed(1))+" ",1),X[24]||(X[24]=Zt("br",null,null,-1)),Pr(" "+Qi((C.value.votingPower*100).toFixed(1)),1),X[25]||(X[25]=Zt("br",null,null,-1)),Pr(" "+Qi((C.value.token*100).toFixed(1)),1),X[26]||(X[26]=Zt("br",null,null,-1)),Pr(" "+Qi((C.value.tokenShare*100).toFixed(1)),1),X[27]||(X[27]=Zt("br",null,null,-1)),Pr(" "+Qi((C.value.stability*100).toFixed(1)),1)])])])])]),Zt("div",jwt,[Zt("div",Ywt,[Zt("div",$wt,[X[30]||(X[30]=Zt("div",{style:{float:"left"},id:"section_title"}," Validator Base Metrics ",-1)),Zt("div",qwt,[X[29]||(X[29]=Pr(" Rank ",-1)),Zt("span",Xwt,"#"+Qi(R.value),1)])]),Zt("div",{ref_key:"radarRef",ref:n,style:{width:"100%",height:"90%"}},null,512)])])])])]),Zt("section",Zwt,[X[31]||(X[31]=Zt("div",{class:"lineup-title"},"Validator Lineup",-1)),Zt("div",Kwt,[Zt("div",{ref_key:"lineupRef",ref:e,id:"lineup-list-mount",class:"layout-placeholder",style:{border:"none"}},null,512)])])])]))}};ott(Jwt).mount("#app");
