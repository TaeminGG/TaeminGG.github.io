(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function xC(r){const t=Object.create(null);for(const e of r.split(","))t[e]=1;return e=>e in t}const Sr={},th=[],Eo=()=>{},J3=()=>!1,v_=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),EC=r=>r.startsWith("onUpdate:"),fi=Object.assign,TC=(r,t)=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)},bK=Object.prototype.hasOwnProperty,ir=(r,t)=>bK.call(r,t),Fe=Array.isArray,Td=r=>g_(r)==="[object Map]",SK=r=>g_(r)==="[object Set]",He=r=>typeof r=="function",bn=r=>typeof r=="string",Ch=r=>typeof r=="symbol",$r=r=>r!==null&&typeof r=="object",Q3=r=>($r(r)||He(r))&&He(r.then)&&He(r.catch),wK=Object.prototype.toString,g_=r=>wK.call(r),xK=r=>g_(r).slice(8,-1),EK=r=>g_(r)==="[object Object]",CC=r=>bn(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Cd=xC(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),y_=r=>{const t=Object.create(null);return(e=>t[e]||(t[e]=r(e)))},TK=/-\w/g,xl=y_(r=>r.replace(TK,t=>t.slice(1).toUpperCase())),CK=/\B([A-Z])/g,Ec=y_(r=>r.replace(CK,"-$1").toLowerCase()),tF=y_(r=>r.charAt(0).toUpperCase()+r.slice(1)),pS=y_(r=>r?`on${tF(r)}`:""),vl=(r,t)=>!Object.is(r,t),dS=(r,...t)=>{for(let e=0;e<r.length;e++)r[e](...t)},eF=(r,t,e,n=!1)=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!1,writable:n,value:e})},AK=r=>{const t=parseFloat(r);return isNaN(t)?r:t};let zI;const m_=()=>zI||(zI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function AC(r){if(Fe(r)){const t={};for(let e=0;e<r.length;e++){const n=r[e],i=bn(n)?NK(n):AC(n);if(i)for(const a in i)t[a]=i[a]}return t}else if(bn(r)||$r(r))return r}const MK=/;(?![^(]*\))/g,DK=/:([^]+)/,LK=/\/\*[^]*?\*\//g;function NK(r){const t={};return r.replace(LK,"").split(MK).forEach(e=>{if(e){const n=e.split(DK);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function MC(r){let t="";if(bn(r))t=r;else if(Fe(r))for(let e=0;e<r.length;e++){const n=MC(r[e]);n&&(t+=n+" ")}else if($r(r))for(const e in r)r[e]&&(t+=e+" ");return t.trim()}const RK="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",IK=xC(RK);function rF(r){return!!r||r===""}let mi;class OK{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=mi,!t&&mi&&(this.index=(mi.scopes||(mi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=mi;try{return mi=this,t()}finally{mi=e}}}on(){++this._on===1&&(this.prevScope=mi,mi=this)}off(){this._on>0&&--this._on===0&&(mi=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(this.effects.length=0,e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function PK(){return mi}let br;const vS=new WeakSet;class nF{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,mi&&mi.active&&mi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vS.has(this)&&(vS.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||aF(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,UI(this),oF(this);const t=br,e=Ca;br=this,Ca=!0;try{return this.fn()}finally{sF(this),br=t,Ca=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)NC(t);this.deps=this.depsTail=void 0,UI(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vS.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Qx(this)&&this.run()}get dirty(){return Qx(this)}}let iF=0,Ad,Md;function aF(r,t=!1){if(r.flags|=8,t){r.next=Md,Md=r;return}r.next=Ad,Ad=r}function DC(){iF++}function LC(){if(--iF>0)return;if(Md){let t=Md;for(Md=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let r;for(;Ad;){let t=Ad;for(Ad=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){r||(r=n)}t=e}}if(r)throw r}function oF(r){for(let t=r.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function sF(r){let t,e=r.depsTail,n=e;for(;n;){const i=n.prevDep;n.version===-1?(n===e&&(e=i),NC(n),kK(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}r.deps=t,r.depsTail=e}function Qx(r){for(let t=r.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(lF(t.dep.computed)||t.dep.version!==t.version))return!0;return!!r._dirty}function lF(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===$d)||(r.globalVersion=$d,!r.isSSR&&r.flags&128&&(!r.deps&&!r._dirty||!Qx(r))))return;r.flags|=2;const t=r.dep,e=br,n=Ca;br=r,Ca=!0;try{oF(r);const i=r.fn(r._value);(t.version===0||vl(i,r._value))&&(r.flags|=128,r._value=i,t.version++)}catch(i){throw t.version++,i}finally{br=e,Ca=n,sF(r),r.flags&=-3}}function NC(r,t=!1){const{dep:e,prevSub:n,nextSub:i}=r;if(n&&(n.nextSub=i,r.prevSub=void 0),i&&(i.prevSub=n,r.nextSub=void 0),e.subs===r&&(e.subs=n,!n&&e.computed)){e.computed.flags&=-5;for(let a=e.computed.deps;a;a=a.nextDep)NC(a,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function kK(r){const{prevDep:t,nextDep:e}=r;t&&(t.nextDep=e,r.prevDep=void 0),e&&(e.prevDep=t,r.nextDep=void 0)}let Ca=!0;const uF=[];function hs(){uF.push(Ca),Ca=!1}function ps(){const r=uF.pop();Ca=r===void 0?!0:r}function UI(r){const{cleanup:t}=r;if(r.cleanup=void 0,t){const e=br;br=void 0;try{t()}finally{br=e}}}let $d=0;class VK{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class RC{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!br||!Ca||br===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==br)e=this.activeLink=new VK(br,this),br.deps?(e.prevDep=br.depsTail,br.depsTail.nextDep=e,br.depsTail=e):br.deps=br.depsTail=e,cF(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const n=e.nextDep;n.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=n),e.prevDep=br.depsTail,e.nextDep=void 0,br.depsTail.nextDep=e,br.depsTail=e,br.deps===e&&(br.deps=n)}return e}trigger(t){this.version++,$d++,this.notify(t)}notify(t){DC();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{LC()}}}function cF(r){if(r.dep.sc++,r.sub.flags&4){const t=r.dep.computed;if(t&&!r.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)cF(n)}const e=r.dep.subs;e!==r&&(r.prevSub=e,e&&(e.nextSub=r)),r.dep.subs=r}}const tE=new WeakMap,nc=Symbol(""),eE=Symbol(""),qd=Symbol("");function zn(r,t,e){if(Ca&&br){let n=tE.get(r);n||tE.set(r,n=new Map);let i=n.get(e);i||(n.set(e,i=new RC),i.map=n,i.key=e),i.track()}}function ns(r,t,e,n,i,a){const o=tE.get(r);if(!o){$d++;return}const c=h=>{h&&h.trigger()};if(DC(),t==="clear")o.forEach(c);else{const h=Fe(r),v=h&&CC(e);if(h&&e==="length"){const g=Number(n);o.forEach((y,m)=>{(m==="length"||m===qd||!Ch(m)&&m>=g)&&c(y)})}else switch((e!==void 0||o.has(void 0))&&c(o.get(e)),v&&c(o.get(qd)),t){case"add":h?v&&c(o.get("length")):(c(o.get(nc)),Td(r)&&c(o.get(eE)));break;case"delete":h||(c(o.get(nc)),Td(r)&&c(o.get(eE)));break;case"set":Td(r)&&c(o.get(nc));break}}LC()}function df(r){const t=nr(r);return t===r?t:(zn(t,"iterate",qd),Aa(r)?t:t.map(ai))}function IC(r){return zn(r=nr(r),"iterate",qd),r}const GK={__proto__:null,[Symbol.iterator](){return gS(this,Symbol.iterator,ai)},concat(...r){return df(this).concat(...r.map(t=>Fe(t)?df(t):t))},entries(){return gS(this,"entries",r=>(r[1]=ai(r[1]),r))},every(r,t){return qo(this,"every",r,t,void 0,arguments)},filter(r,t){return qo(this,"filter",r,t,e=>e.map(ai),arguments)},find(r,t){return qo(this,"find",r,t,ai,arguments)},findIndex(r,t){return qo(this,"findIndex",r,t,void 0,arguments)},findLast(r,t){return qo(this,"findLast",r,t,ai,arguments)},findLastIndex(r,t){return qo(this,"findLastIndex",r,t,void 0,arguments)},forEach(r,t){return qo(this,"forEach",r,t,void 0,arguments)},includes(...r){return yS(this,"includes",r)},indexOf(...r){return yS(this,"indexOf",r)},join(r){return df(this).join(r)},lastIndexOf(...r){return yS(this,"lastIndexOf",r)},map(r,t){return qo(this,"map",r,t,void 0,arguments)},pop(){return Lp(this,"pop")},push(...r){return Lp(this,"push",r)},reduce(r,...t){return WI(this,"reduce",r,t)},reduceRight(r,...t){return WI(this,"reduceRight",r,t)},shift(){return Lp(this,"shift")},some(r,t){return qo(this,"some",r,t,void 0,arguments)},splice(...r){return Lp(this,"splice",r)},toReversed(){return df(this).toReversed()},toSorted(r){return df(this).toSorted(r)},toSpliced(...r){return df(this).toSpliced(...r)},unshift(...r){return Lp(this,"unshift",r)},values(){return gS(this,"values",ai)}};function gS(r,t,e){const n=IC(r),i=n[t]();return n!==r&&!Aa(r)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=e(a.value)),a}),i}const FK=Array.prototype;function qo(r,t,e,n,i,a){const o=IC(r),c=o!==r&&!Aa(r),h=o[t];if(h!==FK[t]){const y=h.apply(r,a);return c?ai(y):y}let v=e;o!==r&&(c?v=function(y,m){return e.call(this,ai(y),m,r)}:e.length>2&&(v=function(y,m){return e.call(this,y,m,r)}));const g=h.call(o,v,n);return c&&i?i(g):g}function WI(r,t,e,n){const i=IC(r);let a=e;return i!==r&&(Aa(r)?e.length>3&&(a=function(o,c,h){return e.call(this,o,c,h,r)}):a=function(o,c,h){return e.call(this,o,ai(c),h,r)}),i[t](a,...n)}function yS(r,t,e){const n=nr(r);zn(n,"iterate",qd);const i=n[t](...e);return(i===-1||i===!1)&&VC(e[0])?(e[0]=nr(e[0]),n[t](...e)):i}function Lp(r,t,e=[]){hs(),DC();const n=nr(r)[t].apply(r,e);return LC(),ps(),n}const BK=xC("__proto__,__v_isRef,__isVue"),fF=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Ch));function HK(r){Ch(r)||(r=String(r));const t=nr(this);return zn(t,"has",r),t.hasOwnProperty(r)}class hF{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,n){if(e==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(e==="__v_isReactive")return!i;if(e==="__v_isReadonly")return i;if(e==="__v_isShallow")return a;if(e==="__v_raw")return n===(i?a?KK:gF:a?vF:dF).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Fe(t);if(!i){let h;if(o&&(h=GK[e]))return h;if(e==="hasOwnProperty")return HK}const c=Reflect.get(t,e,Un(t)?t:n);if((Ch(e)?fF.has(e):BK(e))||(i||zn(t,"get",e),a))return c;if(Un(c)){const h=o&&CC(e)?c:c.value;return i&&$r(h)?nE(h):h}return $r(c)?i?nE(c):PC(c):c}}class pF extends hF{constructor(t=!1){super(!1,t)}set(t,e,n,i){let a=t[e];if(!this._isShallow){const h=dc(a);if(!Aa(n)&&!dc(n)&&(a=nr(a),n=nr(n)),!Fe(t)&&Un(a)&&!Un(n))return h||(a.value=n),!0}const o=Fe(t)&&CC(e)?Number(e)<t.length:ir(t,e),c=Reflect.set(t,e,n,Un(t)?t:i);return t===nr(i)&&(o?vl(n,a)&&ns(t,"set",e,n):ns(t,"add",e,n)),c}deleteProperty(t,e){const n=ir(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&ns(t,"delete",e,void 0),i}has(t,e){const n=Reflect.has(t,e);return(!Ch(e)||!fF.has(e))&&zn(t,"has",e),n}ownKeys(t){return zn(t,"iterate",Fe(t)?"length":nc),Reflect.ownKeys(t)}}class zK extends hF{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const UK=new pF,WK=new zK,jK=new pF(!0);const rE=r=>r,dy=r=>Reflect.getPrototypeOf(r);function YK(r,t,e){return function(...n){const i=this.__v_raw,a=nr(i),o=Td(a),c=r==="entries"||r===Symbol.iterator&&o,h=r==="keys"&&o,v=i[r](...n),g=e?rE:t?iE:ai;return!t&&zn(a,"iterate",h?eE:nc),{next(){const{value:y,done:m}=v.next();return m?{value:y,done:m}:{value:c?[g(y[0]),g(y[1])]:g(y),done:m}},[Symbol.iterator](){return this}}}}function vy(r){return function(...t){return r==="delete"?!1:r==="clear"?void 0:this}}function $K(r,t){const e={get(i){const a=this.__v_raw,o=nr(a),c=nr(i);r||(vl(i,c)&&zn(o,"get",i),zn(o,"get",c));const{has:h}=dy(o),v=t?rE:r?iE:ai;if(h.call(o,i))return v(a.get(i));if(h.call(o,c))return v(a.get(c));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!r&&zn(nr(i),"iterate",nc),i.size},has(i){const a=this.__v_raw,o=nr(a),c=nr(i);return r||(vl(i,c)&&zn(o,"has",i),zn(o,"has",c)),i===c?a.has(i):a.has(i)||a.has(c)},forEach(i,a){const o=this,c=o.__v_raw,h=nr(c),v=t?rE:r?iE:ai;return!r&&zn(h,"iterate",nc),c.forEach((g,y)=>i.call(a,v(g),v(y),o))}};return fi(e,r?{add:vy("add"),set:vy("set"),delete:vy("delete"),clear:vy("clear")}:{add(i){!t&&!Aa(i)&&!dc(i)&&(i=nr(i));const a=nr(this);return dy(a).has.call(a,i)||(a.add(i),ns(a,"add",i,i)),this},set(i,a){!t&&!Aa(a)&&!dc(a)&&(a=nr(a));const o=nr(this),{has:c,get:h}=dy(o);let v=c.call(o,i);v||(i=nr(i),v=c.call(o,i));const g=h.call(o,i);return o.set(i,a),v?vl(a,g)&&ns(o,"set",i,a):ns(o,"add",i,a),this},delete(i){const a=nr(this),{has:o,get:c}=dy(a);let h=o.call(a,i);h||(i=nr(i),h=o.call(a,i)),c&&c.call(a,i);const v=a.delete(i);return h&&ns(a,"delete",i,void 0),v},clear(){const i=nr(this),a=i.size!==0,o=i.clear();return a&&ns(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=YK(i,r,t)}),e}function OC(r,t){const e=$K(r,t);return(n,i,a)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(ir(e,i)&&i in n?e:n,i,a)}const qK={get:OC(!1,!1)},XK={get:OC(!1,!0)},ZK={get:OC(!0,!1)};const dF=new WeakMap,vF=new WeakMap,gF=new WeakMap,KK=new WeakMap;function JK(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function QK(r){return r.__v_skip||!Object.isExtensible(r)?0:JK(xK(r))}function PC(r){return dc(r)?r:kC(r,!1,UK,qK,dF)}function tJ(r){return kC(r,!1,jK,XK,vF)}function nE(r){return kC(r,!0,WK,ZK,gF)}function kC(r,t,e,n,i){if(!$r(r)||r.__v_raw&&!(t&&r.__v_isReactive))return r;const a=QK(r);if(a===0)return r;const o=i.get(r);if(o)return o;const c=new Proxy(r,a===2?n:e);return i.set(r,c),c}function Dd(r){return dc(r)?Dd(r.__v_raw):!!(r&&r.__v_isReactive)}function dc(r){return!!(r&&r.__v_isReadonly)}function Aa(r){return!!(r&&r.__v_isShallow)}function VC(r){return r?!!r.__v_raw:!1}function nr(r){const t=r&&r.__v_raw;return t?nr(t):r}function eJ(r){return!ir(r,"__v_skip")&&Object.isExtensible(r)&&eF(r,"__v_skip",!0),r}const ai=r=>$r(r)?PC(r):r,iE=r=>$r(r)?nE(r):r;function Un(r){return r?r.__v_isRef===!0:!1}function rJ(r){return nJ(r,!1)}function nJ(r,t){return Un(r)?r:new iJ(r,t)}class iJ{constructor(t,e){this.dep=new RC,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:nr(t),this._value=e?t:ai(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,n=this.__v_isShallow||Aa(t)||dc(t);t=n?t:nr(t),vl(t,e)&&(this._rawValue=t,this._value=n?t:ai(t),this.dep.trigger())}}function aJ(r){return Un(r)?r.value:r}const oJ={get:(r,t,e)=>t==="__v_raw"?r:aJ(Reflect.get(r,t,e)),set:(r,t,e,n)=>{const i=r[t];return Un(i)&&!Un(e)?(i.value=e,!0):Reflect.set(r,t,e,n)}};function yF(r){return Dd(r)?r:new Proxy(r,oJ)}class sJ{constructor(t,e,n){this.fn=t,this.setter=e,this._value=void 0,this.dep=new RC(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=$d-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&br!==this)return aF(this,!0),!0}get value(){const t=this.dep.track();return lF(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function lJ(r,t,e=!1){let n,i;return He(r)?n=r:(n=r.get,i=r.set),new sJ(n,i,e)}const gy={},n0=new WeakMap;let Fu;function uJ(r,t=!1,e=Fu){if(e){let n=n0.get(e);n||n0.set(e,n=[]),n.push(r)}}function cJ(r,t,e=Sr){const{immediate:n,deep:i,once:a,scheduler:o,augmentJob:c,call:h}=e,v=R=>i?R:Aa(R)||i===!1||i===0?al(R,1):al(R);let g,y,m,b,S=!1,E=!1;if(Un(r)?(y=()=>r.value,S=Aa(r)):Dd(r)?(y=()=>v(r),S=!0):Fe(r)?(E=!0,S=r.some(R=>Dd(R)||Aa(R)),y=()=>r.map(R=>{if(Un(R))return R.value;if(Dd(R))return v(R);if(He(R))return h?h(R,2):R()})):He(r)?t?y=h?()=>h(r,2):r:y=()=>{if(m){hs();try{m()}finally{ps()}}const R=Fu;Fu=g;try{return h?h(r,3,[b]):r(b)}finally{Fu=R}}:y=Eo,t&&i){const R=y,O=i===!0?1/0:i;y=()=>al(R(),O)}const C=PK(),A=()=>{g.stop(),C&&C.active&&TC(C.effects,g)};if(a&&t){const R=t;t=(...O)=>{R(...O),A()}}let M=E?new Array(r.length).fill(gy):gy;const L=R=>{if(!(!(g.flags&1)||!g.dirty&&!R))if(t){const O=g.run();if(i||S||(E?O.some((P,V)=>vl(P,M[V])):vl(O,M))){m&&m();const P=Fu;Fu=g;try{const V=[O,M===gy?void 0:E&&M[0]===gy?[]:M,b];M=O,h?h(t,3,V):t(...V)}finally{Fu=P}}}else g.run()};return c&&c(L),g=new nF(y),g.scheduler=o?()=>o(L,!1):L,b=R=>uJ(R,!1,g),m=g.onStop=()=>{const R=n0.get(g);if(R){if(h)h(R,4);else for(const O of R)O();n0.delete(g)}},t?n?L(!0):M=g.run():o?o(L.bind(null,!0),!0):g.run(),A.pause=g.pause.bind(g),A.resume=g.resume.bind(g),A.stop=A,A}function al(r,t=1/0,e){if(t<=0||!$r(r)||r.__v_skip||(e=e||new Map,(e.get(r)||0)>=t))return r;if(e.set(r,t),t--,Un(r))al(r.value,t,e);else if(Fe(r))for(let n=0;n<r.length;n++)al(r[n],t,e);else if(SK(r)||Td(r))r.forEach(n=>{al(n,t,e)});else if(EK(r)){for(const n in r)al(r[n],t,e);for(const n of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,n)&&al(r[n],t,e)}return r}function Mv(r,t,e,n){try{return n?r(...n):r()}catch(i){__(i,t,e)}}function Do(r,t,e,n){if(He(r)){const i=Mv(r,t,e,n);return i&&Q3(i)&&i.catch(a=>{__(a,t,e)}),i}if(Fe(r)){const i=[];for(let a=0;a<r.length;a++)i.push(Do(r[a],t,e,n));return i}}function __(r,t,e,n=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Sr;if(t){let c=t.parent;const h=t.proxy,v=`https://vuejs.org/error-reference/#runtime-${e}`;for(;c;){const g=c.ec;if(g){for(let y=0;y<g.length;y++)if(g[y](r,h,v)===!1)return}c=c.parent}if(a){hs(),Mv(a,null,10,[r,h,v]),ps();return}}fJ(r,e,i,n,o)}function fJ(r,t,e,n=!0,i=!1){if(i)throw r;console.error(r)}const oi=[];let uo=-1;const eh=[];let el=null,zf=0;const mF=Promise.resolve();let i0=null;function _F(r){const t=i0||mF;return r?t.then(this?r.bind(this):r):t}function hJ(r){let t=uo+1,e=oi.length;for(;t<e;){const n=t+e>>>1,i=oi[n],a=Xd(i);a<r||a===r&&i.flags&2?t=n+1:e=n}return t}function GC(r){if(!(r.flags&1)){const t=Xd(r),e=oi[oi.length-1];!e||!(r.flags&2)&&t>=Xd(e)?oi.push(r):oi.splice(hJ(t),0,r),r.flags|=1,bF()}}function bF(){i0||(i0=mF.then(wF))}function pJ(r){Fe(r)?eh.push(...r):el&&r.id===-1?el.splice(zf+1,0,r):r.flags&1||(eh.push(r),r.flags|=1),bF()}function jI(r,t,e=uo+1){for(;e<oi.length;e++){const n=oi[e];if(n&&n.flags&2){if(r&&n.id!==r.uid)continue;oi.splice(e,1),e--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function SF(r){if(eh.length){const t=[...new Set(eh)].sort((e,n)=>Xd(e)-Xd(n));if(eh.length=0,el){el.push(...t);return}for(el=t,zf=0;zf<el.length;zf++){const e=el[zf];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}el=null,zf=0}}const Xd=r=>r.id==null?r.flags&2?-1:1/0:r.id;function wF(r){try{for(uo=0;uo<oi.length;uo++){const t=oi[uo];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Mv(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;uo<oi.length;uo++){const t=oi[uo];t&&(t.flags&=-2)}uo=-1,oi.length=0,SF(),i0=null,(oi.length||eh.length)&&wF()}}let yo=null,xF=null;function a0(r){const t=yo;return yo=r,xF=r&&r.type.__scopeId||null,t}function dJ(r,t=yo,e){if(!t||r._n)return r;const n=(...i)=>{n._d&&e2(-1);const a=a0(t);let o;try{o=r(...i)}finally{a0(a),n._d&&e2(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function fu(r,t,e,n){const i=r.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const c=i[o];a&&(c.oldValue=a[o].value);let h=c.dir[n];h&&(hs(),Do(h,e,8,[r.el,c,r,t]),ps())}}const vJ=Symbol("_vte"),gJ=r=>r.__isTeleport,yJ=Symbol("_leaveCb");function FC(r,t){r.shapeFlag&6&&r.component?(r.transition=t,FC(r.component.subTree,t)):r.shapeFlag&128?(r.ssContent.transition=t.clone(r.ssContent),r.ssFallback.transition=t.clone(r.ssFallback)):r.transition=t}function EF(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}const o0=new WeakMap;function Ld(r,t,e,n,i=!1){if(Fe(r)){r.forEach((S,E)=>Ld(S,t&&(Fe(t)?t[E]:t),e,n,i));return}if(Nd(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ld(r,t,e,n.component.subTree);return}const a=n.shapeFlag&4?UC(n.component):n.el,o=i?null:a,{i:c,r:h}=r,v=t&&t.r,g=c.refs===Sr?c.refs={}:c.refs,y=c.setupState,m=nr(y),b=y===Sr?J3:S=>ir(m,S);if(v!=null&&v!==h){if(YI(t),bn(v))g[v]=null,b(v)&&(y[v]=null);else if(Un(v)){v.value=null;const S=t;S.k&&(g[S.k]=null)}}if(He(h))Mv(h,c,12,[o,g]);else{const S=bn(h),E=Un(h);if(S||E){const C=()=>{if(r.f){const A=S?b(h)?y[h]:g[h]:h.value;if(i)Fe(A)&&TC(A,a);else if(Fe(A))A.includes(a)||A.push(a);else if(S)g[h]=[a],b(h)&&(y[h]=g[h]);else{const M=[a];h.value=M,r.k&&(g[r.k]=M)}}else S?(g[h]=o,b(h)&&(y[h]=o)):E&&(h.value=o,r.k&&(g[r.k]=o))};if(o){const A=()=>{C(),o0.delete(r)};A.id=-1,o0.set(r,A),Ri(A,e)}else YI(r),C()}}}function YI(r){const t=o0.get(r);t&&(t.flags|=8,o0.delete(r))}m_().requestIdleCallback;m_().cancelIdleCallback;const Nd=r=>!!r.type.__asyncLoader,TF=r=>r.type.__isKeepAlive;function mJ(r,t){CF(r,"a",t)}function _J(r,t){CF(r,"da",t)}function CF(r,t,e=li){const n=r.__wdc||(r.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(b_(t,n,e),e){let i=e.parent;for(;i&&i.parent;)TF(i.parent.vnode)&&bJ(n,t,e,i),i=i.parent}}function bJ(r,t,e,n){const i=b_(t,r,n,!0);MF(()=>{TC(n[t],i)},e)}function b_(r,t,e=li,n=!1){if(e){const i=e[r]||(e[r]=[]),a=t.__weh||(t.__weh=(...o)=>{hs();const c=Dv(e),h=Do(t,e,r,o);return c(),ps(),h});return n?i.unshift(a):i.push(a),a}}const ws=r=>(t,e=li)=>{(!Kd||r==="sp")&&b_(r,(...n)=>t(...n),e)},SJ=ws("bm"),AF=ws("m"),wJ=ws("bu"),xJ=ws("u"),EJ=ws("bum"),MF=ws("um"),TJ=ws("sp"),CJ=ws("rtg"),AJ=ws("rtc");function MJ(r,t=li){b_("ec",r,t)}const DJ=Symbol.for("v-ndc"),aE=r=>r?qF(r)?UC(r):aE(r.parent):null,Rd=fi(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>aE(r.parent),$root:r=>aE(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>LF(r),$forceUpdate:r=>r.f||(r.f=()=>{GC(r.update)}),$nextTick:r=>r.n||(r.n=_F.bind(r.proxy)),$watch:r=>KJ.bind(r)}),mS=(r,t)=>r!==Sr&&!r.__isScriptSetup&&ir(r,t),LJ={get({_:r},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:n,data:i,props:a,accessCache:o,type:c,appContext:h}=r;let v;if(t[0]!=="$"){const b=o[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return i[t];case 4:return e[t];case 3:return a[t]}else{if(mS(n,t))return o[t]=1,n[t];if(i!==Sr&&ir(i,t))return o[t]=2,i[t];if((v=r.propsOptions[0])&&ir(v,t))return o[t]=3,a[t];if(e!==Sr&&ir(e,t))return o[t]=4,e[t];oE&&(o[t]=0)}}const g=Rd[t];let y,m;if(g)return t==="$attrs"&&zn(r.attrs,"get",""),g(r);if((y=c.__cssModules)&&(y=y[t]))return y;if(e!==Sr&&ir(e,t))return o[t]=4,e[t];if(m=h.config.globalProperties,ir(m,t))return m[t]},set({_:r},t,e){const{data:n,setupState:i,ctx:a}=r;return mS(i,t)?(i[t]=e,!0):n!==Sr&&ir(n,t)?(n[t]=e,!0):ir(r.props,t)||t[0]==="$"&&t.slice(1)in r?!1:(a[t]=e,!0)},has({_:{data:r,setupState:t,accessCache:e,ctx:n,appContext:i,propsOptions:a,type:o}},c){let h,v;return!!(e[c]||r!==Sr&&c[0]!=="$"&&ir(r,c)||mS(t,c)||(h=a[0])&&ir(h,c)||ir(n,c)||ir(Rd,c)||ir(i.config.globalProperties,c)||(v=o.__cssModules)&&v[c])},defineProperty(r,t,e){return e.get!=null?r._.accessCache[t]=0:ir(e,"value")&&this.set(r,t,e.value,null),Reflect.defineProperty(r,t,e)}};function $I(r){return Fe(r)?r.reduce((t,e)=>(t[e]=null,t),{}):r}let oE=!0;function NJ(r){const t=LF(r),e=r.proxy,n=r.ctx;oE=!1,t.beforeCreate&&qI(t.beforeCreate,r,"bc");const{data:i,computed:a,methods:o,watch:c,provide:h,inject:v,created:g,beforeMount:y,mounted:m,beforeUpdate:b,updated:S,activated:E,deactivated:C,beforeDestroy:A,beforeUnmount:M,destroyed:L,unmounted:R,render:O,renderTracked:P,renderTriggered:V,errorCaptured:k,serverPrefetch:F,expose:H,inheritAttrs:W,components:q,directives:Y,filters:Z}=t;if(v&&RJ(v,n,null),o)for(const it in o){const rt=o[it];He(rt)&&(n[it]=rt.bind(e))}if(i){const it=i.call(e,e);$r(it)&&(r.data=PC(it))}if(oE=!0,a)for(const it in a){const rt=a[it],st=He(rt)?rt.bind(e,e):He(rt.get)?rt.get.bind(e,e):Eo,lt=!He(rt)&&He(rt.set)?rt.set.bind(e):Eo,dt=xQ({get:st,set:lt});Object.defineProperty(n,it,{enumerable:!0,configurable:!0,get:()=>dt.value,set:pt=>dt.value=pt})}if(c)for(const it in c)DF(c[it],n,e,it);if(h){const it=He(h)?h.call(e):h;Reflect.ownKeys(it).forEach(rt=>{GJ(rt,it[rt])})}g&&qI(g,r,"c");function J(it,rt){Fe(rt)?rt.forEach(st=>it(st.bind(e))):rt&&it(rt.bind(e))}if(J(SJ,y),J(AF,m),J(wJ,b),J(xJ,S),J(mJ,E),J(_J,C),J(MJ,k),J(AJ,P),J(CJ,V),J(EJ,M),J(MF,R),J(TJ,F),Fe(H))if(H.length){const it=r.exposed||(r.exposed={});H.forEach(rt=>{Object.defineProperty(it,rt,{get:()=>e[rt],set:st=>e[rt]=st,enumerable:!0})})}else r.exposed||(r.exposed={});O&&r.render===Eo&&(r.render=O),W!=null&&(r.inheritAttrs=W),q&&(r.components=q),Y&&(r.directives=Y),F&&EF(r)}function RJ(r,t,e=Eo){Fe(r)&&(r=sE(r));for(const n in r){const i=r[n];let a;$r(i)?"default"in i?a=Nm(i.from||n,i.default,!0):a=Nm(i.from||n):a=Nm(i),Un(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[n]=a}}function qI(r,t,e){Do(Fe(r)?r.map(n=>n.bind(t.proxy)):r.bind(t.proxy),t,e)}function DF(r,t,e,n){let i=n.includes(".")?UF(e,n):()=>e[n];if(bn(r)){const a=t[r];He(a)&&bS(i,a)}else if(He(r))bS(i,r.bind(e));else if($r(r))if(Fe(r))r.forEach(a=>DF(a,t,e,n));else{const a=He(r.handler)?r.handler.bind(e):t[r.handler];He(a)&&bS(i,a,r)}}function LF(r){const t=r.type,{mixins:e,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=r.appContext,c=a.get(t);let h;return c?h=c:!i.length&&!e&&!n?h=t:(h={},i.length&&i.forEach(v=>s0(h,v,o,!0)),s0(h,t,o)),$r(t)&&a.set(t,h),h}function s0(r,t,e,n=!1){const{mixins:i,extends:a}=t;a&&s0(r,a,e,!0),i&&i.forEach(o=>s0(r,o,e,!0));for(const o in t)if(!(n&&o==="expose")){const c=IJ[o]||e&&e[o];r[o]=c?c(r[o],t[o]):t[o]}return r}const IJ={data:XI,props:ZI,emits:ZI,methods:fd,computed:fd,beforeCreate:ei,created:ei,beforeMount:ei,mounted:ei,beforeUpdate:ei,updated:ei,beforeDestroy:ei,beforeUnmount:ei,destroyed:ei,unmounted:ei,activated:ei,deactivated:ei,errorCaptured:ei,serverPrefetch:ei,components:fd,directives:fd,watch:PJ,provide:XI,inject:OJ};function XI(r,t){return t?r?function(){return fi(He(r)?r.call(this,this):r,He(t)?t.call(this,this):t)}:t:r}function OJ(r,t){return fd(sE(r),sE(t))}function sE(r){if(Fe(r)){const t={};for(let e=0;e<r.length;e++)t[r[e]]=r[e];return t}return r}function ei(r,t){return r?[...new Set([].concat(r,t))]:t}function fd(r,t){return r?fi(Object.create(null),r,t):t}function ZI(r,t){return r?Fe(r)&&Fe(t)?[...new Set([...r,...t])]:fi(Object.create(null),$I(r),$I(t??{})):t}function PJ(r,t){if(!r)return t;if(!t)return r;const e=fi(Object.create(null),r);for(const n in t)e[n]=ei(r[n],t[n]);return e}function NF(){return{app:null,config:{isNativeTag:J3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kJ=0;function VJ(r,t){return function(n,i=null){He(n)||(n=fi({},n)),i!=null&&!$r(i)&&(i=null);const a=NF(),o=new WeakSet,c=[];let h=!1;const v=a.app={_uid:kJ++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:EQ,get config(){return a.config},set config(g){},use(g,...y){return o.has(g)||(g&&He(g.install)?(o.add(g),g.install(v,...y)):He(g)&&(o.add(g),g(v,...y))),v},mixin(g){return a.mixins.includes(g)||a.mixins.push(g),v},component(g,y){return y?(a.components[g]=y,v):a.components[g]},directive(g,y){return y?(a.directives[g]=y,v):a.directives[g]},mount(g,y,m){if(!h){const b=v._ceVNode||ic(n,i);return b.appContext=a,m===!0?m="svg":m===!1&&(m=void 0),r(b,g,m),h=!0,v._container=g,g.__vue_app__=v,UC(b.component)}},onUnmount(g){c.push(g)},unmount(){h&&(Do(c,v._instance,16),r(null,v._container),delete v._container.__vue_app__)},provide(g,y){return a.provides[g]=y,v},runWithContext(g){const y=rh;rh=v;try{return g()}finally{rh=y}}};return v}}let rh=null;function GJ(r,t){if(li){let e=li.provides;const n=li.parent&&li.parent.provides;n===e&&(e=li.provides=Object.create(n)),e[r]=t}}function Nm(r,t,e=!1){const n=yQ();if(n||rh){let i=rh?rh._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&r in i)return i[r];if(arguments.length>1)return e&&He(t)?t.call(n&&n.proxy):t}}const RF={},IF=()=>Object.create(RF),OF=r=>Object.getPrototypeOf(r)===RF;function FJ(r,t,e,n=!1){const i={},a=IF();r.propsDefaults=Object.create(null),PF(r,t,i,a);for(const o in r.propsOptions[0])o in i||(i[o]=void 0);e?r.props=n?i:tJ(i):r.type.props?r.props=i:r.props=a,r.attrs=a}function BJ(r,t,e,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=r,c=nr(i),[h]=r.propsOptions;let v=!1;if((n||o>0)&&!(o&16)){if(o&8){const g=r.vnode.dynamicProps;for(let y=0;y<g.length;y++){let m=g[y];if(S_(r.emitsOptions,m))continue;const b=t[m];if(h)if(ir(a,m))b!==a[m]&&(a[m]=b,v=!0);else{const S=xl(m);i[S]=lE(h,c,S,b,r,!1)}else b!==a[m]&&(a[m]=b,v=!0)}}}else{PF(r,t,i,a)&&(v=!0);let g;for(const y in c)(!t||!ir(t,y)&&((g=Ec(y))===y||!ir(t,g)))&&(h?e&&(e[y]!==void 0||e[g]!==void 0)&&(i[y]=lE(h,c,y,void 0,r,!0)):delete i[y]);if(a!==c)for(const y in a)(!t||!ir(t,y))&&(delete a[y],v=!0)}v&&ns(r.attrs,"set","")}function PF(r,t,e,n){const[i,a]=r.propsOptions;let o=!1,c;if(t)for(let h in t){if(Cd(h))continue;const v=t[h];let g;i&&ir(i,g=xl(h))?!a||!a.includes(g)?e[g]=v:(c||(c={}))[g]=v:S_(r.emitsOptions,h)||(!(h in n)||v!==n[h])&&(n[h]=v,o=!0)}if(a){const h=nr(e),v=c||Sr;for(let g=0;g<a.length;g++){const y=a[g];e[y]=lE(i,h,y,v[y],r,!ir(v,y))}}return o}function lE(r,t,e,n,i,a){const o=r[e];if(o!=null){const c=ir(o,"default");if(c&&n===void 0){const h=o.default;if(o.type!==Function&&!o.skipFactory&&He(h)){const{propsDefaults:v}=i;if(e in v)n=v[e];else{const g=Dv(i);n=v[e]=h.call(null,t),g()}}else n=h;i.ce&&i.ce._setProp(e,n)}o[0]&&(a&&!c?n=!1:o[1]&&(n===""||n===Ec(e))&&(n=!0))}return n}const HJ=new WeakMap;function kF(r,t,e=!1){const n=e?HJ:t.propsCache,i=n.get(r);if(i)return i;const a=r.props,o={},c=[];let h=!1;if(!He(r)){const g=y=>{h=!0;const[m,b]=kF(y,t,!0);fi(o,m),b&&c.push(...b)};!e&&t.mixins.length&&t.mixins.forEach(g),r.extends&&g(r.extends),r.mixins&&r.mixins.forEach(g)}if(!a&&!h)return $r(r)&&n.set(r,th),th;if(Fe(a))for(let g=0;g<a.length;g++){const y=xl(a[g]);KI(y)&&(o[y]=Sr)}else if(a)for(const g in a){const y=xl(g);if(KI(y)){const m=a[g],b=o[y]=Fe(m)||He(m)?{type:m}:fi({},m),S=b.type;let E=!1,C=!0;if(Fe(S))for(let A=0;A<S.length;++A){const M=S[A],L=He(M)&&M.name;if(L==="Boolean"){E=!0;break}else L==="String"&&(C=!1)}else E=He(S)&&S.name==="Boolean";b[0]=E,b[1]=C,(E||ir(b,"default"))&&c.push(y)}}const v=[o,c];return $r(r)&&n.set(r,v),v}function KI(r){return r[0]!=="$"&&!Cd(r)}const BC=r=>r==="_"||r==="_ctx"||r==="$stable",HC=r=>Fe(r)?r.map(ho):[ho(r)],zJ=(r,t,e)=>{if(t._n)return t;const n=dJ((...i)=>HC(t(...i)),e);return n._c=!1,n},VF=(r,t,e)=>{const n=r._ctx;for(const i in r){if(BC(i))continue;const a=r[i];if(He(a))t[i]=zJ(i,a,n);else if(a!=null){const o=HC(a);t[i]=()=>o}}},GF=(r,t)=>{const e=HC(t);r.slots.default=()=>e},FF=(r,t,e)=>{for(const n in t)(e||!BC(n))&&(r[n]=t[n])},UJ=(r,t,e)=>{const n=r.slots=IF();if(r.vnode.shapeFlag&32){const i=t._;i?(FF(n,t,e),e&&eF(n,"_",i,!0)):VF(t,n)}else t&&GF(r,t)},WJ=(r,t,e)=>{const{vnode:n,slots:i}=r;let a=!0,o=Sr;if(n.shapeFlag&32){const c=t._;c?e&&c===1?a=!1:FF(i,t,e):(a=!t.$stable,VF(t,i)),o=t}else t&&(GF(r,t),o={default:1});if(a)for(const c in i)!BC(c)&&o[c]==null&&delete i[c]},Ri=aQ;function jJ(r){return YJ(r)}function YJ(r,t){const e=m_();e.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:c,createComment:h,setText:v,setElementText:g,parentNode:y,nextSibling:m,setScopeId:b=Eo,insertStaticContent:S}=r,E=(X,ot,ht,_t=null,mt=null,Lt=null,tt=void 0,Q=null,ft=!!ot.dynamicChildren)=>{if(X===ot)return;X&&!Np(X,ot)&&(_t=Qt(X),pt(X,mt,Lt,!0),X=null),ot.patchFlag===-2&&(ft=!1,ot.dynamicChildren=null);const{type:St,ref:It,shapeFlag:Gt}=ot;switch(St){case w_:C(X,ot,ht,_t);break;case lh:A(X,ot,ht,_t);break;case SS:X==null&&M(ot,ht,_t,tt);break;case fo:q(X,ot,ht,_t,mt,Lt,tt,Q,ft);break;default:Gt&1?O(X,ot,ht,_t,mt,Lt,tt,Q,ft):Gt&6?Y(X,ot,ht,_t,mt,Lt,tt,Q,ft):(Gt&64||Gt&128)&&St.process(X,ot,ht,_t,mt,Lt,tt,Q,ft,Mt)}It!=null&&mt?Ld(It,X&&X.ref,Lt,ot||X,!ot):It==null&&X&&X.ref!=null&&Ld(X.ref,null,Lt,X,!0)},C=(X,ot,ht,_t)=>{if(X==null)n(ot.el=c(ot.children),ht,_t);else{const mt=ot.el=X.el;ot.children!==X.children&&v(mt,ot.children)}},A=(X,ot,ht,_t)=>{X==null?n(ot.el=h(ot.children||""),ht,_t):ot.el=X.el},M=(X,ot,ht,_t)=>{[X.el,X.anchor]=S(X.children,ot,ht,_t,X.el,X.anchor)},L=({el:X,anchor:ot},ht,_t)=>{let mt;for(;X&&X!==ot;)mt=m(X),n(X,ht,_t),X=mt;n(ot,ht,_t)},R=({el:X,anchor:ot})=>{let ht;for(;X&&X!==ot;)ht=m(X),i(X),X=ht;i(ot)},O=(X,ot,ht,_t,mt,Lt,tt,Q,ft)=>{if(ot.type==="svg"?tt="svg":ot.type==="math"&&(tt="mathml"),X==null)P(ot,ht,_t,mt,Lt,tt,Q,ft);else{const St=X.el&&X.el._isVueCE?X.el:null;try{St&&St._beginPatch(),F(X,ot,mt,Lt,tt,Q,ft)}finally{St&&St._endPatch()}}},P=(X,ot,ht,_t,mt,Lt,tt,Q)=>{let ft,St;const{props:It,shapeFlag:Gt,transition:Ct,dirs:Dt}=X;if(ft=X.el=o(X.type,Lt,It&&It.is,It),Gt&8?g(ft,X.children):Gt&16&&k(X.children,ft,null,_t,mt,_S(X,Lt),tt,Q),Dt&&fu(X,null,_t,"created"),V(ft,X,X.scopeId,tt,_t),It){for(const Zt in It)Zt!=="value"&&!Cd(Zt)&&a(ft,Zt,null,It[Zt],Lt,_t);"value"in It&&a(ft,"value",null,It.value,Lt),(St=It.onVnodeBeforeMount)&&Ja(St,_t,X)}Dt&&fu(X,null,_t,"beforeMount");const Bt=$J(mt,Ct);Bt&&Ct.beforeEnter(ft),n(ft,ot,ht),((St=It&&It.onVnodeMounted)||Bt||Dt)&&Ri(()=>{St&&Ja(St,_t,X),Bt&&Ct.enter(ft),Dt&&fu(X,null,_t,"mounted")},mt)},V=(X,ot,ht,_t,mt)=>{if(ht&&b(X,ht),_t)for(let Lt=0;Lt<_t.length;Lt++)b(X,_t[Lt]);if(mt){let Lt=mt.subTree;if(ot===Lt||jF(Lt.type)&&(Lt.ssContent===ot||Lt.ssFallback===ot)){const tt=mt.vnode;V(X,tt,tt.scopeId,tt.slotScopeIds,mt.parent)}}},k=(X,ot,ht,_t,mt,Lt,tt,Q,ft=0)=>{for(let St=ft;St<X.length;St++){const It=X[St]=Q?rl(X[St]):ho(X[St]);E(null,It,ot,ht,_t,mt,Lt,tt,Q)}},F=(X,ot,ht,_t,mt,Lt,tt)=>{const Q=ot.el=X.el;let{patchFlag:ft,dynamicChildren:St,dirs:It}=ot;ft|=X.patchFlag&16;const Gt=X.props||Sr,Ct=ot.props||Sr;let Dt;if(ht&&hu(ht,!1),(Dt=Ct.onVnodeBeforeUpdate)&&Ja(Dt,ht,ot,X),It&&fu(ot,X,ht,"beforeUpdate"),ht&&hu(ht,!0),(Gt.innerHTML&&Ct.innerHTML==null||Gt.textContent&&Ct.textContent==null)&&g(Q,""),St?H(X.dynamicChildren,St,Q,ht,_t,_S(ot,mt),Lt):tt||rt(X,ot,Q,null,ht,_t,_S(ot,mt),Lt,!1),ft>0){if(ft&16)W(Q,Gt,Ct,ht,mt);else if(ft&2&&Gt.class!==Ct.class&&a(Q,"class",null,Ct.class,mt),ft&4&&a(Q,"style",Gt.style,Ct.style,mt),ft&8){const Bt=ot.dynamicProps;for(let Zt=0;Zt<Bt.length;Zt++){const he=Bt[Zt],ke=Gt[he],ye=Ct[he];(ye!==ke||he==="value")&&a(Q,he,ke,ye,mt,ht)}}ft&1&&X.children!==ot.children&&g(Q,ot.children)}else!tt&&St==null&&W(Q,Gt,Ct,ht,mt);((Dt=Ct.onVnodeUpdated)||It)&&Ri(()=>{Dt&&Ja(Dt,ht,ot,X),It&&fu(ot,X,ht,"updated")},_t)},H=(X,ot,ht,_t,mt,Lt,tt)=>{for(let Q=0;Q<ot.length;Q++){const ft=X[Q],St=ot[Q],It=ft.el&&(ft.type===fo||!Np(ft,St)||ft.shapeFlag&198)?y(ft.el):ht;E(ft,St,It,null,_t,mt,Lt,tt,!0)}},W=(X,ot,ht,_t,mt)=>{if(ot!==ht){if(ot!==Sr)for(const Lt in ot)!Cd(Lt)&&!(Lt in ht)&&a(X,Lt,ot[Lt],null,mt,_t);for(const Lt in ht){if(Cd(Lt))continue;const tt=ht[Lt],Q=ot[Lt];tt!==Q&&Lt!=="value"&&a(X,Lt,Q,tt,mt,_t)}"value"in ht&&a(X,"value",ot.value,ht.value,mt)}},q=(X,ot,ht,_t,mt,Lt,tt,Q,ft)=>{const St=ot.el=X?X.el:c(""),It=ot.anchor=X?X.anchor:c("");let{patchFlag:Gt,dynamicChildren:Ct,slotScopeIds:Dt}=ot;Dt&&(Q=Q?Q.concat(Dt):Dt),X==null?(n(St,ht,_t),n(It,ht,_t),k(ot.children||[],ht,It,mt,Lt,tt,Q,ft)):Gt>0&&Gt&64&&Ct&&X.dynamicChildren?(H(X.dynamicChildren,Ct,ht,mt,Lt,tt,Q),(ot.key!=null||mt&&ot===mt.subTree)&&BF(X,ot,!0)):rt(X,ot,ht,It,mt,Lt,tt,Q,ft)},Y=(X,ot,ht,_t,mt,Lt,tt,Q,ft)=>{ot.slotScopeIds=Q,X==null?ot.shapeFlag&512?mt.ctx.activate(ot,ht,_t,tt,ft):Z(ot,ht,_t,mt,Lt,tt,ft):et(X,ot,ft)},Z=(X,ot,ht,_t,mt,Lt,tt)=>{const Q=X.component=gQ(X,_t,mt);if(TF(X)&&(Q.ctx.renderer=Mt),mQ(Q,!1,tt),Q.asyncDep){if(mt&&mt.registerDep(Q,J,tt),!X.el){const ft=Q.subTree=ic(lh);A(null,ft,ot,ht),X.placeholder=ft.el}}else J(Q,X,ot,ht,mt,Lt,tt)},et=(X,ot,ht)=>{const _t=ot.component=X.component;if(nQ(X,ot,ht))if(_t.asyncDep&&!_t.asyncResolved){it(_t,ot,ht);return}else _t.next=ot,_t.update();else ot.el=X.el,_t.vnode=ot},J=(X,ot,ht,_t,mt,Lt,tt)=>{const Q=()=>{if(X.isMounted){let{next:Gt,bu:Ct,u:Dt,parent:Bt,vnode:Zt}=X;{const me=HF(X);if(me){Gt&&(Gt.el=Zt.el,it(X,Gt,tt)),me.asyncDep.then(()=>{X.isUnmounted||Q()});return}}let he=Gt,ke;hu(X,!1),Gt?(Gt.el=Zt.el,it(X,Gt,tt)):Gt=Zt,Ct&&dS(Ct),(ke=Gt.props&&Gt.props.onVnodeBeforeUpdate)&&Ja(ke,Bt,Gt,Zt),hu(X,!0);const ye=QI(X),Ye=X.subTree;X.subTree=ye,E(Ye,ye,y(Ye.el),Qt(Ye),X,mt,Lt),Gt.el=ye.el,he===null&&iQ(X,ye.el),Dt&&Ri(Dt,mt),(ke=Gt.props&&Gt.props.onVnodeUpdated)&&Ri(()=>Ja(ke,Bt,Gt,Zt),mt)}else{let Gt;const{el:Ct,props:Dt}=ot,{bm:Bt,m:Zt,parent:he,root:ke,type:ye}=X,Ye=Nd(ot);hu(X,!1),Bt&&dS(Bt),!Ye&&(Gt=Dt&&Dt.onVnodeBeforeMount)&&Ja(Gt,he,ot),hu(X,!0);{ke.ce&&ke.ce._def.shadowRoot!==!1&&ke.ce._injectChildStyle(ye);const me=X.subTree=QI(X);E(null,me,ht,_t,X,mt,Lt),ot.el=me.el}if(Zt&&Ri(Zt,mt),!Ye&&(Gt=Dt&&Dt.onVnodeMounted)){const me=ot;Ri(()=>Ja(Gt,he,me),mt)}(ot.shapeFlag&256||he&&Nd(he.vnode)&&he.vnode.shapeFlag&256)&&X.a&&Ri(X.a,mt),X.isMounted=!0,ot=ht=_t=null}};X.scope.on();const ft=X.effect=new nF(Q);X.scope.off();const St=X.update=ft.run.bind(ft),It=X.job=ft.runIfDirty.bind(ft);It.i=X,It.id=X.uid,ft.scheduler=()=>GC(It),hu(X,!0),St()},it=(X,ot,ht)=>{ot.component=X;const _t=X.vnode.props;X.vnode=ot,X.next=null,BJ(X,ot.props,_t,ht),WJ(X,ot.children,ht),hs(),jI(X),ps()},rt=(X,ot,ht,_t,mt,Lt,tt,Q,ft=!1)=>{const St=X&&X.children,It=X?X.shapeFlag:0,Gt=ot.children,{patchFlag:Ct,shapeFlag:Dt}=ot;if(Ct>0){if(Ct&128){lt(St,Gt,ht,_t,mt,Lt,tt,Q,ft);return}else if(Ct&256){st(St,Gt,ht,_t,mt,Lt,tt,Q,ft);return}}Dt&8?(It&16&&Vt(St,mt,Lt),Gt!==St&&g(ht,Gt)):It&16?Dt&16?lt(St,Gt,ht,_t,mt,Lt,tt,Q,ft):Vt(St,mt,Lt,!0):(It&8&&g(ht,""),Dt&16&&k(Gt,ht,_t,mt,Lt,tt,Q,ft))},st=(X,ot,ht,_t,mt,Lt,tt,Q,ft)=>{X=X||th,ot=ot||th;const St=X.length,It=ot.length,Gt=Math.min(St,It);let Ct;for(Ct=0;Ct<Gt;Ct++){const Dt=ot[Ct]=ft?rl(ot[Ct]):ho(ot[Ct]);E(X[Ct],Dt,ht,null,mt,Lt,tt,Q,ft)}St>It?Vt(X,mt,Lt,!0,!1,Gt):k(ot,ht,_t,mt,Lt,tt,Q,ft,Gt)},lt=(X,ot,ht,_t,mt,Lt,tt,Q,ft)=>{let St=0;const It=ot.length;let Gt=X.length-1,Ct=It-1;for(;St<=Gt&&St<=Ct;){const Dt=X[St],Bt=ot[St]=ft?rl(ot[St]):ho(ot[St]);if(Np(Dt,Bt))E(Dt,Bt,ht,null,mt,Lt,tt,Q,ft);else break;St++}for(;St<=Gt&&St<=Ct;){const Dt=X[Gt],Bt=ot[Ct]=ft?rl(ot[Ct]):ho(ot[Ct]);if(Np(Dt,Bt))E(Dt,Bt,ht,null,mt,Lt,tt,Q,ft);else break;Gt--,Ct--}if(St>Gt){if(St<=Ct){const Dt=Ct+1,Bt=Dt<It?ot[Dt].el:_t;for(;St<=Ct;)E(null,ot[St]=ft?rl(ot[St]):ho(ot[St]),ht,Bt,mt,Lt,tt,Q,ft),St++}}else if(St>Ct)for(;St<=Gt;)pt(X[St],mt,Lt,!0),St++;else{const Dt=St,Bt=St,Zt=new Map;for(St=Bt;St<=Ct;St++){const xn=ot[St]=ft?rl(ot[St]):ho(ot[St]);xn.key!=null&&Zt.set(xn.key,St)}let he,ke=0;const ye=Ct-Bt+1;let Ye=!1,me=0;const tr=new Array(ye);for(St=0;St<ye;St++)tr[St]=0;for(St=Dt;St<=Gt;St++){const xn=X[St];if(ke>=ye){pt(xn,mt,Lt,!0);continue}let On;if(xn.key!=null)On=Zt.get(xn.key);else for(he=Bt;he<=Ct;he++)if(tr[he-Bt]===0&&Np(xn,ot[he])){On=he;break}On===void 0?pt(xn,mt,Lt,!0):(tr[On-Bt]=St+1,On>=me?me=On:Ye=!0,E(xn,ot[On],ht,null,mt,Lt,tt,Q,ft),ke++)}const Kr=Ye?qJ(tr):th;for(he=Kr.length-1,St=ye-1;St>=0;St--){const xn=Bt+St,On=ot[xn],ha=ot[xn+1],As=xn+1<It?ha.el||ha.placeholder:_t;tr[St]===0?E(null,On,ht,As,mt,Lt,tt,Q,ft):Ye&&(he<0||St!==Kr[he]?dt(On,ht,As,2):he--)}}},dt=(X,ot,ht,_t,mt=null)=>{const{el:Lt,type:tt,transition:Q,children:ft,shapeFlag:St}=X;if(St&6){dt(X.component.subTree,ot,ht,_t);return}if(St&128){X.suspense.move(ot,ht,_t);return}if(St&64){tt.move(X,ot,ht,Mt);return}if(tt===fo){n(Lt,ot,ht);for(let Gt=0;Gt<ft.length;Gt++)dt(ft[Gt],ot,ht,_t);n(X.anchor,ot,ht);return}if(tt===SS){L(X,ot,ht);return}if(_t!==2&&St&1&&Q)if(_t===0)Q.beforeEnter(Lt),n(Lt,ot,ht),Ri(()=>Q.enter(Lt),mt);else{const{leave:Gt,delayLeave:Ct,afterLeave:Dt}=Q,Bt=()=>{X.ctx.isUnmounted?i(Lt):n(Lt,ot,ht)},Zt=()=>{Lt._isLeaving&&Lt[yJ](!0),Gt(Lt,()=>{Bt(),Dt&&Dt()})};Ct?Ct(Lt,Bt,Zt):Zt()}else n(Lt,ot,ht)},pt=(X,ot,ht,_t=!1,mt=!1)=>{const{type:Lt,props:tt,ref:Q,children:ft,dynamicChildren:St,shapeFlag:It,patchFlag:Gt,dirs:Ct,cacheIndex:Dt}=X;if(Gt===-2&&(mt=!1),Q!=null&&(hs(),Ld(Q,null,ht,X,!0),ps()),Dt!=null&&(ot.renderCache[Dt]=void 0),It&256){ot.ctx.deactivate(X);return}const Bt=It&1&&Ct,Zt=!Nd(X);let he;if(Zt&&(he=tt&&tt.onVnodeBeforeUnmount)&&Ja(he,ot,X),It&6)Ut(X.component,ht,_t);else{if(It&128){X.suspense.unmount(ht,_t);return}Bt&&fu(X,null,ot,"beforeUnmount"),It&64?X.type.remove(X,ot,ht,Mt,_t):St&&!St.hasOnce&&(Lt!==fo||Gt>0&&Gt&64)?Vt(St,ot,ht,!1,!0):(Lt===fo&&Gt&384||!mt&&It&16)&&Vt(ft,ot,ht),_t&&xt(X)}(Zt&&(he=tt&&tt.onVnodeUnmounted)||Bt)&&Ri(()=>{he&&Ja(he,ot,X),Bt&&fu(X,null,ot,"unmounted")},ht)},xt=X=>{const{type:ot,el:ht,anchor:_t,transition:mt}=X;if(ot===fo){Ft(ht,_t);return}if(ot===SS){R(X);return}const Lt=()=>{i(ht),mt&&!mt.persisted&&mt.afterLeave&&mt.afterLeave()};if(X.shapeFlag&1&&mt&&!mt.persisted){const{leave:tt,delayLeave:Q}=mt,ft=()=>tt(ht,Lt);Q?Q(X.el,Lt,ft):ft()}else Lt()},Ft=(X,ot)=>{let ht;for(;X!==ot;)ht=m(X),i(X),X=ht;i(ot)},Ut=(X,ot,ht)=>{const{bum:_t,scope:mt,job:Lt,subTree:tt,um:Q,m:ft,a:St}=X;JI(ft),JI(St),_t&&dS(_t),mt.stop(),Lt&&(Lt.flags|=8,pt(tt,X,ot,ht)),Q&&Ri(Q,ot),Ri(()=>{X.isUnmounted=!0},ot)},Vt=(X,ot,ht,_t=!1,mt=!1,Lt=0)=>{for(let tt=Lt;tt<X.length;tt++)pt(X[tt],ot,ht,_t,mt)},Qt=X=>{if(X.shapeFlag&6)return Qt(X.component.subTree);if(X.shapeFlag&128)return X.suspense.next();const ot=m(X.anchor||X.el),ht=ot&&ot[vJ];return ht?m(ht):ot};let Ht=!1;const gt=(X,ot,ht)=>{X==null?ot._vnode&&pt(ot._vnode,null,null,!0):E(ot._vnode||null,X,ot,null,null,null,ht),ot._vnode=X,Ht||(Ht=!0,jI(),SF(),Ht=!1)},Mt={p:E,um:pt,m:dt,r:xt,mt:Z,mc:k,pc:rt,pbc:H,n:Qt,o:r};return{render:gt,hydrate:void 0,createApp:VJ(gt)}}function _S({type:r,props:t},e){return e==="svg"&&r==="foreignObject"||e==="mathml"&&r==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function hu({effect:r,job:t},e){e?(r.flags|=32,t.flags|=4):(r.flags&=-33,t.flags&=-5)}function $J(r,t){return(!r||r&&!r.pendingBranch)&&t&&!t.persisted}function BF(r,t,e=!1){const n=r.children,i=t.children;if(Fe(n)&&Fe(i))for(let a=0;a<n.length;a++){const o=n[a];let c=i[a];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[a]=rl(i[a]),c.el=o.el),!e&&c.patchFlag!==-2&&BF(o,c)),c.type===w_&&c.patchFlag!==-1&&(c.el=o.el),c.type===lh&&!c.el&&(c.el=o.el)}}function qJ(r){const t=r.slice(),e=[0];let n,i,a,o,c;const h=r.length;for(n=0;n<h;n++){const v=r[n];if(v!==0){if(i=e[e.length-1],r[i]<v){t[n]=i,e.push(n);continue}for(a=0,o=e.length-1;a<o;)c=a+o>>1,r[e[c]]<v?a=c+1:o=c;v<r[e[a]]&&(a>0&&(t[n]=e[a-1]),e[a]=n)}}for(a=e.length,o=e[a-1];a-- >0;)e[a]=o,o=t[o];return e}function HF(r){const t=r.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:HF(t)}function JI(r){if(r)for(let t=0;t<r.length;t++)r[t].flags|=8}const XJ=Symbol.for("v-scx"),ZJ=()=>Nm(XJ);function bS(r,t,e){return zF(r,t,e)}function zF(r,t,e=Sr){const{immediate:n,deep:i,flush:a,once:o}=e,c=fi({},e),h=t&&n||!t&&a!=="post";let v;if(Kd){if(a==="sync"){const b=ZJ();v=b.__watcherHandles||(b.__watcherHandles=[])}else if(!h){const b=()=>{};return b.stop=Eo,b.resume=Eo,b.pause=Eo,b}}const g=li;c.call=(b,S,E)=>Do(b,g,S,E);let y=!1;a==="post"?c.scheduler=b=>{Ri(b,g&&g.suspense)}:a!=="sync"&&(y=!0,c.scheduler=(b,S)=>{S?b():GC(b)}),c.augmentJob=b=>{t&&(b.flags|=4),y&&(b.flags|=2,g&&(b.id=g.uid,b.i=g))};const m=cJ(r,t,c);return Kd&&(v?v.push(m):h&&m()),m}function KJ(r,t,e){const n=this.proxy,i=bn(r)?r.includes(".")?UF(n,r):()=>n[r]:r.bind(n,n);let a;He(t)?a=t:(a=t.handler,e=t);const o=Dv(this),c=zF(i,a.bind(n),e);return o(),c}function UF(r,t){const e=t.split(".");return()=>{let n=r;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n}}const JJ=(r,t)=>t==="modelValue"||t==="model-value"?r.modelModifiers:r[`${t}Modifiers`]||r[`${xl(t)}Modifiers`]||r[`${Ec(t)}Modifiers`];function QJ(r,t,...e){if(r.isUnmounted)return;const n=r.vnode.props||Sr;let i=e;const a=t.startsWith("update:"),o=a&&JJ(n,t.slice(7));o&&(o.trim&&(i=e.map(g=>bn(g)?g.trim():g)),o.number&&(i=e.map(AK)));let c,h=n[c=pS(t)]||n[c=pS(xl(t))];!h&&a&&(h=n[c=pS(Ec(t))]),h&&Do(h,r,6,i);const v=n[c+"Once"];if(v){if(!r.emitted)r.emitted={};else if(r.emitted[c])return;r.emitted[c]=!0,Do(v,r,6,i)}}const tQ=new WeakMap;function WF(r,t,e=!1){const n=e?tQ:t.emitsCache,i=n.get(r);if(i!==void 0)return i;const a=r.emits;let o={},c=!1;if(!He(r)){const h=v=>{const g=WF(v,t,!0);g&&(c=!0,fi(o,g))};!e&&t.mixins.length&&t.mixins.forEach(h),r.extends&&h(r.extends),r.mixins&&r.mixins.forEach(h)}return!a&&!c?($r(r)&&n.set(r,null),null):(Fe(a)?a.forEach(h=>o[h]=null):fi(o,a),$r(r)&&n.set(r,o),o)}function S_(r,t){return!r||!v_(t)?!1:(t=t.slice(2).replace(/Once$/,""),ir(r,t[0].toLowerCase()+t.slice(1))||ir(r,Ec(t))||ir(r,t))}function QI(r){const{type:t,vnode:e,proxy:n,withProxy:i,propsOptions:[a],slots:o,attrs:c,emit:h,render:v,renderCache:g,props:y,data:m,setupState:b,ctx:S,inheritAttrs:E}=r,C=a0(r);let A,M;try{if(e.shapeFlag&4){const R=i||n,O=R;A=ho(v.call(O,R,g,y,b,m,S)),M=c}else{const R=t;A=ho(R.length>1?R(y,{attrs:c,slots:o,emit:h}):R(y,null)),M=t.props?c:eQ(c)}}catch(R){Id.length=0,__(R,r,1),A=ic(lh)}let L=A;if(M&&E!==!1){const R=Object.keys(M),{shapeFlag:O}=L;R.length&&O&7&&(a&&R.some(EC)&&(M=rQ(M,a)),L=uh(L,M,!1,!0))}return e.dirs&&(L=uh(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(e.dirs):e.dirs),e.transition&&FC(L,e.transition),A=L,a0(C),A}const eQ=r=>{let t;for(const e in r)(e==="class"||e==="style"||v_(e))&&((t||(t={}))[e]=r[e]);return t},rQ=(r,t)=>{const e={};for(const n in r)(!EC(n)||!(n.slice(9)in t))&&(e[n]=r[n]);return e};function nQ(r,t,e){const{props:n,children:i,component:a}=r,{props:o,children:c,patchFlag:h}=t,v=a.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&h>=0){if(h&1024)return!0;if(h&16)return n?t2(n,o,v):!!o;if(h&8){const g=t.dynamicProps;for(let y=0;y<g.length;y++){const m=g[y];if(o[m]!==n[m]&&!S_(v,m))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:n===o?!1:n?o?t2(n,o,v):!0:!!o;return!1}function t2(r,t,e){const n=Object.keys(t);if(n.length!==Object.keys(r).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==r[a]&&!S_(e,a))return!0}return!1}function iQ({vnode:r,parent:t},e){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===r&&(n.el=r.el),n===r)(r=t.vnode).el=e,t=t.parent;else break}}const jF=r=>r.__isSuspense;function aQ(r,t){t&&t.pendingBranch?Fe(r)?t.effects.push(...r):t.effects.push(r):pJ(r)}const fo=Symbol.for("v-fgt"),w_=Symbol.for("v-txt"),lh=Symbol.for("v-cmt"),SS=Symbol.for("v-stc"),Id=[];let ki=null;function oQ(r=!1){Id.push(ki=r?null:[])}function sQ(){Id.pop(),ki=Id[Id.length-1]||null}let Zd=1;function e2(r,t=!1){Zd+=r,r<0&&ki&&t&&(ki.hasOnce=!0)}function lQ(r){return r.dynamicChildren=Zd>0?ki||th:null,sQ(),Zd>0&&ki&&ki.push(r),r}function uQ(r,t,e,n,i,a){return lQ(Od(r,t,e,n,i,a,!0))}function YF(r){return r?r.__v_isVNode===!0:!1}function Np(r,t){return r.type===t.type&&r.key===t.key}const $F=({key:r})=>r??null,Rm=({ref:r,ref_key:t,ref_for:e})=>(typeof r=="number"&&(r=""+r),r!=null?bn(r)||Un(r)||He(r)?{i:yo,r,k:t,f:!!e}:r:null);function Od(r,t=null,e=null,n=0,i=null,a=r===fo?0:1,o=!1,c=!1){const h={__v_isVNode:!0,__v_skip:!0,type:r,props:t,key:t&&$F(t),ref:t&&Rm(t),scopeId:xF,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:yo};return c?(zC(h,e),a&128&&r.normalize(h)):e&&(h.shapeFlag|=bn(e)?8:16),Zd>0&&!o&&ki&&(h.patchFlag>0||a&6)&&h.patchFlag!==32&&ki.push(h),h}const ic=cQ;function cQ(r,t=null,e=null,n=0,i=null,a=!1){if((!r||r===DJ)&&(r=lh),YF(r)){const c=uh(r,t,!0);return e&&zC(c,e),Zd>0&&!a&&ki&&(c.shapeFlag&6?ki[ki.indexOf(r)]=c:ki.push(c)),c.patchFlag=-2,c}if(wQ(r)&&(r=r.__vccOpts),t){t=fQ(t);let{class:c,style:h}=t;c&&!bn(c)&&(t.class=MC(c)),$r(h)&&(VC(h)&&!Fe(h)&&(h=fi({},h)),t.style=AC(h))}const o=bn(r)?1:jF(r)?128:gJ(r)?64:$r(r)?4:He(r)?2:0;return Od(r,t,e,n,i,o,a,!0)}function fQ(r){return r?VC(r)||OF(r)?fi({},r):r:null}function uh(r,t,e=!1,n=!1){const{props:i,ref:a,patchFlag:o,children:c,transition:h}=r,v=t?pQ(i||{},t):i,g={__v_isVNode:!0,__v_skip:!0,type:r.type,props:v,key:v&&$F(v),ref:t&&t.ref?e&&a?Fe(a)?a.concat(Rm(t)):[a,Rm(t)]:Rm(t):a,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:c,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:t&&r.type!==fo?o===-1?16:o|16:o,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:h,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&uh(r.ssContent),ssFallback:r.ssFallback&&uh(r.ssFallback),placeholder:r.placeholder,el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return h&&n&&FC(g,h.clone(g)),g}function hQ(r=" ",t=0){return ic(w_,null,r,t)}function ho(r){return r==null||typeof r=="boolean"?ic(lh):Fe(r)?ic(fo,null,r.slice()):YF(r)?rl(r):ic(w_,null,String(r))}function rl(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:uh(r)}function zC(r,t){let e=0;const{shapeFlag:n}=r;if(t==null)t=null;else if(Fe(t))e=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),zC(r,i()),i._c&&(i._d=!0));return}else{e=32;const i=t._;!i&&!OF(t)?t._ctx=yo:i===3&&yo&&(yo.slots._===1?t._=1:(t._=2,r.patchFlag|=1024))}else He(t)?(t={default:t,_ctx:yo},e=32):(t=String(t),n&64?(e=16,t=[hQ(t)]):e=8);r.children=t,r.shapeFlag|=e}function pQ(...r){const t={};for(let e=0;e<r.length;e++){const n=r[e];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=MC([t.class,n.class]));else if(i==="style")t.style=AC([t.style,n.style]);else if(v_(i)){const a=t[i],o=n[i];o&&a!==o&&!(Fe(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=n[i])}return t}function Ja(r,t,e,n=null){Do(r,t,7,[e,n])}const dQ=NF();let vQ=0;function gQ(r,t,e){const n=r.type,i=(t?t.appContext:r.appContext)||dQ,a={uid:vQ++,vnode:r,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new OK(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kF(n,i),emitsOptions:WF(n,i),emit:null,emitted:null,propsDefaults:Sr,inheritAttrs:n.inheritAttrs,ctx:Sr,data:Sr,props:Sr,attrs:Sr,slots:Sr,refs:Sr,setupState:Sr,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=QJ.bind(null,a),r.ce&&r.ce(a),a}let li=null;const yQ=()=>li||yo;let l0,uE;{const r=m_(),t=(e,n)=>{let i;return(i=r[e])||(i=r[e]=[]),i.push(n),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};l0=t("__VUE_INSTANCE_SETTERS__",e=>li=e),uE=t("__VUE_SSR_SETTERS__",e=>Kd=e)}const Dv=r=>{const t=li;return l0(r),r.scope.on(),()=>{r.scope.off(),l0(t)}},r2=()=>{li&&li.scope.off(),l0(null)};function qF(r){return r.vnode.shapeFlag&4}let Kd=!1;function mQ(r,t=!1,e=!1){t&&uE(t);const{props:n,children:i}=r.vnode,a=qF(r);FJ(r,n,a,t),UJ(r,i,e||t);const o=a?_Q(r,t):void 0;return t&&uE(!1),o}function _Q(r,t){const e=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,LJ);const{setup:n}=e;if(n){hs();const i=r.setupContext=n.length>1?SQ(r):null,a=Dv(r),o=Mv(n,r,0,[r.props,i]),c=Q3(o);if(ps(),a(),(c||r.sp)&&!Nd(r)&&EF(r),c){if(o.then(r2,r2),t)return o.then(h=>{n2(r,h)}).catch(h=>{__(h,r,0)});r.asyncDep=o}else n2(r,o)}else XF(r)}function n2(r,t,e){He(t)?r.type.__ssrInlineRender?r.ssrRender=t:r.render=t:$r(t)&&(r.setupState=yF(t)),XF(r)}function XF(r,t,e){const n=r.type;r.render||(r.render=n.render||Eo);{const i=Dv(r);hs();try{NJ(r)}finally{ps(),i()}}}const bQ={get(r,t){return zn(r,"get",""),r[t]}};function SQ(r){const t=e=>{r.exposed=e||{}};return{attrs:new Proxy(r.attrs,bQ),slots:r.slots,emit:r.emit,expose:t}}function UC(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(yF(eJ(r.exposed)),{get(t,e){if(e in t)return t[e];if(e in Rd)return Rd[e](r)},has(t,e){return e in t||e in Rd}})):r.proxy}function wQ(r){return He(r)&&"__vccOpts"in r}const xQ=(r,t)=>lJ(r,t,Kd),EQ="3.5.24";let cE;const i2=typeof window<"u"&&window.trustedTypes;if(i2)try{cE=i2.createPolicy("vue",{createHTML:r=>r})}catch{}const ZF=cE?r=>cE.createHTML(r):r=>r,TQ="http://www.w3.org/2000/svg",CQ="http://www.w3.org/1998/Math/MathML",ts=typeof document<"u"?document:null,a2=ts&&ts.createElement("template"),AQ={insert:(r,t,e)=>{t.insertBefore(r,e||null)},remove:r=>{const t=r.parentNode;t&&t.removeChild(r)},createElement:(r,t,e,n)=>{const i=t==="svg"?ts.createElementNS(TQ,r):t==="mathml"?ts.createElementNS(CQ,r):e?ts.createElement(r,{is:e}):ts.createElement(r);return r==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:r=>ts.createTextNode(r),createComment:r=>ts.createComment(r),setText:(r,t)=>{r.nodeValue=t},setElementText:(r,t)=>{r.textContent=t},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>ts.querySelector(r),setScopeId(r,t){r.setAttribute(t,"")},insertStaticContent(r,t,e,n,i,a){const o=e?e.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),e),!(i===a||!(i=i.nextSibling)););else{a2.innerHTML=ZF(n==="svg"?`<svg>${r}</svg>`:n==="mathml"?`<math>${r}</math>`:r);const c=a2.content;if(n==="svg"||n==="mathml"){const h=c.firstChild;for(;h.firstChild;)c.appendChild(h.firstChild);c.removeChild(h)}t.insertBefore(c,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},MQ=Symbol("_vtc");function DQ(r,t,e){const n=r[MQ];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?r.removeAttribute("class"):e?r.setAttribute("class",t):r.className=t}const o2=Symbol("_vod"),LQ=Symbol("_vsh"),NQ=Symbol(""),RQ=/(?:^|;)\s*display\s*:/;function IQ(r,t,e){const n=r.style,i=bn(e);let a=!1;if(e&&!i){if(t)if(bn(t))for(const o of t.split(";")){const c=o.slice(0,o.indexOf(":")).trim();e[c]==null&&Im(n,c,"")}else for(const o in t)e[o]==null&&Im(n,o,"");for(const o in e)o==="display"&&(a=!0),Im(n,o,e[o])}else if(i){if(t!==e){const o=n[NQ];o&&(e+=";"+o),n.cssText=e,a=RQ.test(e)}}else t&&r.removeAttribute("style");o2 in r&&(r[o2]=a?n.display:"",r[LQ]&&(n.display="none"))}const s2=/\s*!important$/;function Im(r,t,e){if(Fe(e))e.forEach(n=>Im(r,t,n));else if(e==null&&(e=""),t.startsWith("--"))r.setProperty(t,e);else{const n=OQ(r,t);s2.test(e)?r.setProperty(Ec(n),e.replace(s2,""),"important"):r[n]=e}}const l2=["Webkit","Moz","ms"],wS={};function OQ(r,t){const e=wS[t];if(e)return e;let n=xl(t);if(n!=="filter"&&n in r)return wS[t]=n;n=tF(n);for(let i=0;i<l2.length;i++){const a=l2[i]+n;if(a in r)return wS[t]=a}return t}const u2="http://www.w3.org/1999/xlink";function c2(r,t,e,n,i,a=IK(t)){n&&t.startsWith("xlink:")?e==null?r.removeAttributeNS(u2,t.slice(6,t.length)):r.setAttributeNS(u2,t,e):e==null||a&&!rF(e)?r.removeAttribute(t):r.setAttribute(t,a?"":Ch(e)?String(e):e)}function f2(r,t,e,n,i){if(t==="innerHTML"||t==="textContent"){e!=null&&(r[t]=t==="innerHTML"?ZF(e):e);return}const a=r.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?r.getAttribute("value")||"":r.value,h=e==null?r.type==="checkbox"?"on":"":String(e);(c!==h||!("_value"in r))&&(r.value=h),e==null&&r.removeAttribute(t),r._value=e;return}let o=!1;if(e===""||e==null){const c=typeof r[t];c==="boolean"?e=rF(e):e==null&&c==="string"?(e="",o=!0):c==="number"&&(e=0,o=!0)}try{r[t]=e}catch{}o&&r.removeAttribute(i||t)}function PQ(r,t,e,n){r.addEventListener(t,e,n)}function kQ(r,t,e,n){r.removeEventListener(t,e,n)}const h2=Symbol("_vei");function VQ(r,t,e,n,i=null){const a=r[h2]||(r[h2]={}),o=a[t];if(n&&o)o.value=n;else{const[c,h]=GQ(t);if(n){const v=a[t]=HQ(n,i);PQ(r,c,v,h)}else o&&(kQ(r,c,o,h),a[t]=void 0)}}const p2=/(?:Once|Passive|Capture)$/;function GQ(r){let t;if(p2.test(r)){t={};let n;for(;n=r.match(p2);)r=r.slice(0,r.length-n[0].length),t[n[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Ec(r.slice(2)),t]}let xS=0;const FQ=Promise.resolve(),BQ=()=>xS||(FQ.then(()=>xS=0),xS=Date.now());function HQ(r,t){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;Do(zQ(n,e.value),t,5,[n])};return e.value=r,e.attached=BQ(),e}function zQ(r,t){if(Fe(t)){const e=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{e.call(r),r._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const d2=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,UQ=(r,t,e,n,i,a)=>{const o=i==="svg";t==="class"?DQ(r,n,o):t==="style"?IQ(r,e,n):v_(t)?EC(t)||VQ(r,t,e,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):WQ(r,t,n,o))?(f2(r,t,n),!r.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&c2(r,t,n,o,a,t!=="value")):r._isVueCE&&(/[A-Z]/.test(t)||!bn(n))?f2(r,xl(t),n,a,t):(t==="true-value"?r._trueValue=n:t==="false-value"&&(r._falseValue=n),c2(r,t,n,o))};function WQ(r,t,e,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in r&&d2(t)&&He(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&r.tagName==="IFRAME"||t==="form"||t==="list"&&r.tagName==="INPUT"||t==="type"&&r.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=r.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return d2(t)&&bn(e)?!1:t in r}const jQ=fi({patchProp:UQ},AQ);let v2;function YQ(){return v2||(v2=jJ(jQ))}const $Q=((...r)=>{const t=YQ().createApp(...r),{mount:e}=t;return t.mount=n=>{const i=XQ(n);if(!i)return;const a=t._component;!He(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=e(i,!1,qQ(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t});function qQ(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function XQ(r){return bn(r)?document.querySelector(r):r}var fE=function(r,t){return fE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},fE(r,t)};function bt(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");fE(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ZQ=(function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r})(),KQ=(function(){function r(){this.browser=new ZQ,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r})(),Ae=new KQ;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Ae.wxa=!0,Ae.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Ae.worker=!0:!Ae.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(Ae.node=!0,Ae.svgSupported=!0):JQ(navigator.userAgent,Ae);function JQ(r,t){var e=t.browser,n=r.match(/Firefox\/([\d.]+)/),i=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),a=r.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(r);n&&(e.firefox=!0,e.version=n[1]),i&&(e.ie=!0,e.version=i[1]),a&&(e.edge=!0,e.version=a[1],e.newEdge=+a[1].split(".")[0]>18),o&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11);var c=t.domSupported=typeof document<"u";if(c){var h=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in h||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in h)&&!("OTransition"in h),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}}var WC=12,KF="sans-serif",ds=WC+"px "+KF,QQ=20,ttt=100,ett="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function rtt(r){var t={};if(typeof JSON>"u")return t;for(var e=0;e<r.length;e++){var n=String.fromCharCode(e+32),i=(r.charCodeAt(e)-QQ)/ttt;t[n]=i}return t}var ntt=rtt(ett),Na={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var r,t;return function(e,n){if(!r){var i=Na.createCanvas();r=i&&i.getContext("2d")}if(r)return t!==n&&(t=r.font=n||ds),r.measureText(e);e=e||"",n=n||ds;var a=/((?:\d+)?\.?\d*)px/.exec(n),o=a&&+a[1]||WC,c=0;if(n.indexOf("mono")>=0)c=o*e.length;else for(var h=0;h<e.length;h++){var v=ntt[e[h]];c+=v==null?o:v*o}return{width:c}}})(),loadImage:function(r,t,e){var n=new Image;return n.onload=t,n.onerror=e,n.src=r,n}},JF=Lo(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,t){return r["[object "+t+"]"]=!0,r},{}),QF=Lo(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,t){return r["[object "+t+"Array]"]=!0,r},{}),Ah=Object.prototype.toString,x_=Array.prototype,itt=x_.forEach,att=x_.filter,jC=x_.slice,ott=x_.map,g2=(function(){}).constructor,yy=g2?g2.prototype:null,YC="__proto__",stt=2311;function tB(){return stt++}function $C(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];typeof console<"u"&&console.error.apply(console,r)}function ne(r){if(r==null||typeof r!="object")return r;var t=r,e=Ah.call(r);if(e==="[object Array]"){if(!Pd(r)){t=[];for(var n=0,i=r.length;n<i;n++)t[n]=ne(r[n])}}else if(QF[e]){if(!Pd(r)){var a=r.constructor;if(a.from)t=a.from(r);else{t=new a(r.length);for(var n=0,i=r.length;n<i;n++)t[n]=r[n]}}}else if(!JF[e]&&!Pd(r)&&!ch(r)){t={};for(var o in r)r.hasOwnProperty(o)&&o!==YC&&(t[o]=ne(r[o]))}return t}function ge(r,t,e){if(!se(t)||!se(r))return e?ne(t):r;for(var n in t)if(t.hasOwnProperty(n)&&n!==YC){var i=r[n],a=t[n];se(a)&&se(i)&&!Rt(a)&&!Rt(i)&&!ch(a)&&!ch(i)&&!y2(a)&&!y2(i)&&!Pd(a)&&!Pd(i)?ge(i,a,e):(e||!(n in r))&&(r[n]=ne(t[n]))}return r}function qC(r,t){for(var e=r[0],n=1,i=r.length;n<i;n++)e=ge(e,r[n],t);return e}function At(r,t){if(Object.assign)Object.assign(r,t);else for(var e in t)t.hasOwnProperty(e)&&e!==YC&&(r[e]=t[e]);return r}function oe(r,t,e){for(var n=De(t),i=0,a=n.length;i<a;i++){var o=n[i];(e?t[o]!=null:r[o]==null)&&(r[o]=t[o])}return r}function ve(r,t){if(r){if(r.indexOf)return r.indexOf(t);for(var e=0,n=r.length;e<n;e++)if(r[e]===t)return e}return-1}function ltt(r,t){var e=r.prototype;function n(){}n.prototype=t.prototype,r.prototype=new n;for(var i in e)e.hasOwnProperty(i)&&(r.prototype[i]=e[i]);r.prototype.constructor=r,r.superClass=t}function Zr(r,t,e){if(r="prototype"in r?r.prototype:r,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(e?t[a]!=null:r[a]==null)&&(r[a]=t[a])}else oe(r,t,e)}function jn(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function j(r,t,e){if(r&&t)if(r.forEach&&r.forEach===itt)r.forEach(t,e);else if(r.length===+r.length)for(var n=0,i=r.length;n<i;n++)t.call(e,r[n],n,r);else for(var a in r)r.hasOwnProperty(a)&&t.call(e,r[a],a,r)}function Pt(r,t,e){if(!r)return[];if(!t)return XC(r);if(r.map&&r.map===ott)return r.map(t,e);for(var n=[],i=0,a=r.length;i<a;i++)n.push(t.call(e,r[i],i,r));return n}function Lo(r,t,e,n){if(r&&t){for(var i=0,a=r.length;i<a;i++)e=t.call(n,e,r[i],i,r);return e}}function je(r,t,e){if(!r)return[];if(!t)return XC(r);if(r.filter&&r.filter===att)return r.filter(t,e);for(var n=[],i=0,a=r.length;i<a;i++)t.call(e,r[i],i,r)&&n.push(r[i]);return n}function Tc(r,t,e){if(r&&t){for(var n=0,i=r.length;n<i;n++)if(t.call(e,r[n],n,r))return r[n]}}function De(r){if(!r)return[];if(Object.keys)return Object.keys(r);var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(e);return t}function utt(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return function(){return r.apply(t,e.concat(jC.call(arguments)))}}var qt=yy&&ee(yy.bind)?yy.call.bind(yy.bind):utt;function de(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return r.apply(this,t.concat(jC.call(arguments)))}}function Rt(r){return Array.isArray?Array.isArray(r):Ah.call(r)==="[object Array]"}function ee(r){return typeof r=="function"}function $t(r){return typeof r=="string"}function hE(r){return Ah.call(r)==="[object String]"}function Re(r){return typeof r=="number"}function se(r){var t=typeof r;return t==="function"||!!r&&t==="object"}function y2(r){return!!JF[Ah.call(r)]}function xi(r){return!!QF[Ah.call(r)]}function ch(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function E_(r){return r.colorStops!=null}function ctt(r){return r.image!=null}function ftt(r){return Ah.call(r)==="[object RegExp]"}function Wn(r){return r!==r}function Rn(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=0,n=r.length;e<n;e++)if(r[e]!=null)return r[e]}function Jt(r,t){return r??t}function Fi(r,t,e){return r??t??e}function XC(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return jC.apply(r,t)}function T_(r){if(typeof r=="number")return[r,r,r,r];var t=r.length;return t===2?[r[0],r[1],r[0],r[1]]:t===3?[r[0],r[1],r[2],r[1]]:r}function Yn(r,t){if(!r)throw new Error(t)}function oa(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var eB="__ec_primitive__";function u0(r){r[eB]=!0}function Pd(r){return r[eB]}var htt=(function(){function r(){this.data={}}return r.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},r.prototype.has=function(t){return this.data.hasOwnProperty(t)},r.prototype.get=function(t){return this.data[t]},r.prototype.set=function(t,e){return this.data[t]=e,this},r.prototype.keys=function(){return De(this.data)},r.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},r})(),rB=typeof Map=="function";function ptt(){return rB?new Map:new htt}var dtt=(function(){function r(t){var e=Rt(t);this.data=ptt();var n=this;t instanceof r?t.each(i):t&&j(t,i);function i(a,o){e?n.set(a,o):n.set(o,a)}}return r.prototype.hasKey=function(t){return this.data.has(t)},r.prototype.get=function(t){return this.data.get(t)},r.prototype.set=function(t,e){return this.data.set(t,e),e},r.prototype.each=function(t,e){this.data.forEach(function(n,i){t.call(e,n,i)})},r.prototype.keys=function(){var t=this.data.keys();return rB?Array.from(t):t},r.prototype.removeKey=function(t){this.data.delete(t)},r})();function Kt(r){return new dtt(r)}function Jd(r,t){for(var e=new r.constructor(r.length+t.length),n=0;n<r.length;n++)e[n]=r[n];for(var i=r.length,n=0;n<t.length;n++)e[n+i]=t[n];return e}function C_(r,t){var e;if(Object.create)e=Object.create(r);else{var n=function(){};n.prototype=r,e=new n}return t&&At(e,t),e}function nB(r){var t=r.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Xt(r,t){return r.hasOwnProperty(t)}function kr(){}var Om=180/Math.PI;var pE=function(r,t){return pE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},pE(r,t)};function pr(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pE(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Cc(r,t){return r==null&&(r=0),t==null&&(t=0),[r,t]}function ri(r,t){return r[0]=t[0],r[1]=t[1],r}function ss(r){return[r[0],r[1]]}function ZC(r,t,e){return r[0]=t,r[1]=e,r}function m2(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r}function dE(r,t,e,n){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r}function Zu(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r}function vE(r){return Math.sqrt(vtt(r))}function vtt(r){return r[0]*r[0]+r[1]*r[1]}function Pm(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r}function Mh(r,t){var e=vE(t);return e===0?(r[0]=0,r[1]=0):(r[0]=t[0]/e,r[1]=t[1]/e),r}function gE(r,t){return Math.sqrt((r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1]))}var ol=gE;function gtt(r,t){return(r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1])}var ac=gtt;function km(r,t,e,n){return r[0]=t[0]+n*(e[0]-t[0]),r[1]=t[1]+n*(e[1]-t[1]),r}function Vr(r,t,e){var n=t[0],i=t[1];return r[0]=e[0]*n+e[2]*i+e[4],r[1]=e[1]*n+e[3]*i+e[5],r}function sl(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r}function ll(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r}var vf=(function(){function r(t,e){this.target=t,this.topTarget=e&&e.topTarget}return r})(),ytt=(function(){function r(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new vf(e,t),"dragstart",t.event))},r.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,a=n-this._x,o=i-this._y;this._x=n,this._y=i,e.drift(a,o,t),this.handler.dispatchToElement(new vf(e,t),"drag",t.event);var c=this.handler.findHover(n,i,e).target,h=this._dropTarget;this._dropTarget=c,e!==c&&(h&&c!==h&&this.handler.dispatchToElement(new vf(h,t),"dragleave",t.event),c&&c!==h&&this.handler.dispatchToElement(new vf(c,t),"dragenter",t.event))}},r.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new vf(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new vf(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},r})(),fa=(function(){function r(t){t&&(this._$eventProcessor=t)}return r.prototype.on=function(t,e,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof e=="function"&&(i=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;e!=null&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),a[t]||(a[t]=[]);for(var c=0;c<a[t].length;c++)if(a[t][c].h===n)return this;var h={h:n,query:e,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},v=a[t].length-1,g=a[t][v];return g&&g.callAtLast?a[t].splice(v,0,h):a[t].push(h),this},r.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},r.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],a=0,o=n[t].length;a<o;a++)n[t][a].h!==e&&i.push(n[t][a]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},r.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=e.length,c=i.length,h=0;h<c;h++){var v=i[h];if(!(a&&a.filter&&v.query!=null&&!a.filter(t,v.query)))switch(o){case 0:v.h.call(v.ctx);break;case 1:v.h.call(v.ctx,e[0]);break;case 2:v.h.call(v.ctx,e[0],e[1]);break;default:v.h.apply(v.ctx,e);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},r.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=e.length,c=e[o-1],h=i.length,v=0;v<h;v++){var g=i[v];if(!(a&&a.filter&&g.query!=null&&!a.filter(t,g.query)))switch(o){case 0:g.h.call(c);break;case 1:g.h.call(c,e[0]);break;case 2:g.h.call(c,e[0],e[1]);break;default:g.h.apply(c,e.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},r})(),mtt=Math.log(2);function yE(r,t,e,n,i,a){var o=n+"-"+i,c=r.length;if(a.hasOwnProperty(o))return a[o];if(t===1){var h=Math.round(Math.log((1<<c)-1&~i)/mtt);return r[e][h]}for(var v=n|1<<e,g=e+1;n&1<<g;)g++;for(var y=0,m=0,b=0;m<c;m++){var S=1<<m;S&i||(y+=(b%2?-1:1)*r[e][m]*yE(r,t-1,g,v,i|S,a),b++)}return a[o]=y,y}function _2(r,t){var e=[[r[0],r[1],1,0,0,0,-t[0]*r[0],-t[0]*r[1]],[0,0,0,r[0],r[1],1,-t[1]*r[0],-t[1]*r[1]],[r[2],r[3],1,0,0,0,-t[2]*r[2],-t[2]*r[3]],[0,0,0,r[2],r[3],1,-t[3]*r[2],-t[3]*r[3]],[r[4],r[5],1,0,0,0,-t[4]*r[4],-t[4]*r[5]],[0,0,0,r[4],r[5],1,-t[5]*r[4],-t[5]*r[5]],[r[6],r[7],1,0,0,0,-t[6]*r[6],-t[6]*r[7]],[0,0,0,r[6],r[7],1,-t[7]*r[6],-t[7]*r[7]]],n={},i=yE(e,8,0,0,0,n);if(i!==0){for(var a=[],o=0;o<8;o++)for(var c=0;c<8;c++)a[c]==null&&(a[c]=0),a[c]+=((o+c)%2?-1:1)*yE(e,7,o===0?1:0,1<<o,1<<c,n)/i*t[o];return function(h,v,g){var y=v*a[6]+g*a[7]+1;h[0]=(v*a[0]+g*a[1]+a[2])/y,h[1]=(v*a[3]+g*a[4]+a[5])/y}}}var c0="___zrEVENTSAVED",ES=[];function _tt(r,t,e,n,i){return mE(ES,t,n,i,!0)&&mE(r,e,ES[0],ES[1])}function btt(r,t){r&&e(r),t&&e(t);function e(n){var i=n[c0];i&&(i.clearMarkers&&i.clearMarkers(),delete n[c0])}}function mE(r,t,e,n,i){if(t.getBoundingClientRect&&Ae.domSupported&&!iB(t)){var a=t[c0]||(t[c0]={}),o=Stt(t,a),c=wtt(o,a,i);if(c)return c(r,e,n),!0}return!1}function Stt(r,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),c=o.style,h=a%2,v=(a>>1)%2;c.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[h]+":0",i[v]+":0",n[1-h]+":auto",i[1-v]+":auto",""].join("!important;"),r.appendChild(o),e.push(o)}return t.clearMarkers=function(){j(e,function(g){g.parentNode&&g.parentNode.removeChild(g)})},e}function wtt(r,t,e){for(var n=e?"invTrans":"trans",i=t[n],a=t.srcCoords,o=[],c=[],h=!0,v=0;v<4;v++){var g=r[v].getBoundingClientRect(),y=2*v,m=g.left,b=g.top;o.push(m,b),h=h&&a&&m===a[y]&&b===a[y+1],c.push(r[v].offsetLeft,r[v].offsetTop)}return h&&i?i:(t.srcCoords=o,t[n]=e?_2(c,o):_2(o,c))}function iB(r){return r.nodeName.toUpperCase()==="CANVAS"}var xtt=/([&<>"'])/g,Ett={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function si(r){return r==null?"":(r+"").replace(xtt,function(t,e){return Ett[e]})}var Ttt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,TS=[],Ctt=Ae.browser.firefox&&+Ae.browser.version.split(".")[0]<39;function _E(r,t,e,n){return e=e||{},n?b2(r,t,e):Ctt&&t.layerX!=null&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):t.offsetX!=null?(e.zrX=t.offsetX,e.zrY=t.offsetY):b2(r,t,e),e}function b2(r,t,e){if(Ae.domSupported&&r.getBoundingClientRect){var n=t.clientX,i=t.clientY;if(iB(r)){var a=r.getBoundingClientRect();e.zrX=n-a.left,e.zrY=i-a.top;return}else if(mE(TS,r,n,i)){e.zrX=TS[0],e.zrY=TS[1];return}}e.zrX=e.zrY=0}function KC(r){return r||window.event}function Ji(r,t,e){if(t=KC(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var o=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&_E(r,o,t,e)}else{_E(r,t,t,e);var a=Att(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var c=t.button;return t.which==null&&c!==void 0&&Ttt.test(t.type)&&(t.which=c&1?1:c&2?3:c&4?2:0),t}function Att(r){var t=r.wheelDelta;if(t)return t;var e=r.deltaX,n=r.deltaY;if(e==null||n==null)return t;var i=Math.abs(n!==0?n:e),a=n>0?-1:n<0?1:e>0?-1:1;return 3*i*a}function bE(r,t,e,n){r.addEventListener(t,e,n)}function Mtt(r,t,e,n){r.removeEventListener(t,e,n)}var vs=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function S2(r){return r.which===2||r.which===3}var Dtt=(function(){function r(){this._track=[]}return r.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(t,e,n){var i=t.touches;if(i){for(var a={points:[],touches:[],target:e,event:t},o=0,c=i.length;o<c;o++){var h=i[o],v=_E(n,h,{});a.points.push([v.zrX,v.zrY]),a.touches.push(h)}this._track.push(a)}},r.prototype._recognize=function(t){for(var e in CS)if(CS.hasOwnProperty(e)){var n=CS[e](this._track,t);if(n)return n}},r})();function w2(r){var t=r[1][0]-r[0][0],e=r[1][1]-r[0][1];return Math.sqrt(t*t+e*e)}function Ltt(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var CS={pinch:function(r,t){var e=r.length;if(e){var n=(r[e-1]||{}).points,i=(r[e-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=w2(n)/w2(i);!isFinite(a)&&(a=1),t.pinchScale=a;var o=Ltt(n);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:r[0].target,event:t}}}}};function _n(){return[1,0,0,1,0,0]}function A_(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function M_(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function To(r,t,e){var n=t[0]*e[0]+t[2]*e[1],i=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],o=t[1]*e[2]+t[3]*e[3],c=t[0]*e[4]+t[2]*e[5]+t[4],h=t[1]*e[4]+t[3]*e[5]+t[5];return r[0]=n,r[1]=i,r[2]=a,r[3]=o,r[4]=c,r[5]=h,r}function No(r,t,e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4]+e[0],r[5]=t[5]+e[1],r}function Nl(r,t,e,n){n===void 0&&(n=[0,0]);var i=t[0],a=t[2],o=t[4],c=t[1],h=t[3],v=t[5],g=Math.sin(e),y=Math.cos(e);return r[0]=i*y+c*g,r[1]=-i*g+c*y,r[2]=a*y+h*g,r[3]=-a*g+y*h,r[4]=y*(o-n[0])+g*(v-n[1])+n[0],r[5]=y*(v-n[1])-g*(o-n[0])+n[1],r}function JC(r,t,e){var n=e[0],i=e[1];return r[0]=t[0]*n,r[1]=t[1]*i,r[2]=t[2]*n,r[3]=t[3]*i,r[4]=t[4]*n,r[5]=t[5]*i,r}function Ra(r,t){var e=t[0],n=t[2],i=t[4],a=t[1],o=t[3],c=t[5],h=e*o-a*n;return h?(h=1/h,r[0]=o*h,r[1]=-a*h,r[2]=-n*h,r[3]=e*h,r[4]=(n*c-o*i)*h,r[5]=(a*i-e*c)*h,r):null}function Ntt(r){var t=_n();return M_(t,r),t}var ae=(function(){function r(t,e){this.x=t||0,this.y=e||0}return r.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(t,e){return this.x=t,this.y=e,this},r.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.scale=function(t){this.x*=t,this.y*=t},r.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},r.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},r.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},r.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},r.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},r.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},r.set=function(t,e,n){t.x=e,t.y=n},r.copy=function(t,e){t.x=e.x,t.y=e.y},r.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.lenSquare=function(t){return t.x*t.x+t.y*t.y},r.dot=function(t,e){return t.x*e.x+t.y*e.y},r.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},r.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},r.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},r.scaleAndAdd=function(t,e,n,i){t.x=e.x+n.x*i,t.y=e.y+n.y*i},r.lerp=function(t,e,n,i){var a=1-i;t.x=a*e.x+i*n.x,t.y=a*e.y+i*n.y},r})(),Ku=Math.min,$f=Math.max,SE=Math.abs,x2=["x","y"],Rtt=["width","height"],pu=new ae,du=new ae,vu=new ae,gu=new ae,Oi=aB(),hd=Oi.minTv,wE=Oi.maxTv,kd=[0,0],le=(function(){function r(t,e,n,i){r.set(this,t,e,n,i)}return r.set=function(t,e,n,i,a){return i<0&&(e=e+i,i=-i),a<0&&(n=n+a,a=-a),t.x=e,t.y=n,t.width=i,t.height=a,t},r.prototype.union=function(t){var e=Ku(t.x,this.x),n=Ku(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=$f(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=$f(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},r.prototype.applyTransform=function(t){r.applyTransform(this,this,t)},r.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,i=t.height/e.height,a=_n();return No(a,a,[-e.x,-e.y]),JC(a,a,[n,i]),No(a,a,[t.x,t.y]),a},r.prototype.intersect=function(t,e,n){return r.intersect(this,t,e,n)},r.intersect=function(t,e,n,i){n&&ae.set(n,0,0);var a=i&&i.outIntersectRect||null,o=i&&i.clamp;if(a&&(a.x=a.y=a.width=a.height=NaN),!t||!e)return!1;t instanceof r||(t=r.set(Itt,t.x,t.y,t.width,t.height)),e instanceof r||(e=r.set(Ott,e.x,e.y,e.width,e.height));var c=!!n;Oi.reset(i,c);var h=Oi.touchThreshold,v=t.x+h,g=t.x+t.width-h,y=t.y+h,m=t.y+t.height-h,b=e.x+h,S=e.x+e.width-h,E=e.y+h,C=e.y+e.height-h;if(v>g||y>m||b>S||E>C)return!1;var A=!(g<b||S<v||m<E||C<y);return(c||a)&&(kd[0]=1/0,kd[1]=0,E2(v,g,b,S,0,c,a,o),E2(y,m,E,C,1,c,a,o),c&&ae.copy(n,A?Oi.useDir?Oi.dirMinTv:hd:wE)),A},r.contain=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},r.prototype.contain=function(t,e){return r.contain(this,t,e)},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(t){r.copy(this,t)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(t){return new r(t.x,t.y,t.width,t.height)},r.copy=function(t,e){return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t},r.applyTransform=function(t,e,n){if(!n){t!==e&&r.copy(t,e);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],o=n[4],c=n[5];t.x=e.x*i+o,t.y=e.y*a+c,t.width=e.width*i,t.height=e.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}pu.x=vu.x=e.x,pu.y=gu.y=e.y,du.x=gu.x=e.x+e.width,du.y=vu.y=e.y+e.height,pu.transform(n),gu.transform(n),du.transform(n),vu.transform(n),t.x=Ku(pu.x,du.x,vu.x,gu.x),t.y=Ku(pu.y,du.y,vu.y,gu.y);var h=$f(pu.x,du.x,vu.x,gu.x),v=$f(pu.y,du.y,vu.y,gu.y);t.width=h-t.x,t.height=v-t.y},r})(),Itt=new le(0,0,0,0),Ott=new le(0,0,0,0);function E2(r,t,e,n,i,a,o,c){var h=SE(t-e),v=SE(n-r),g=Ku(h,v),y=x2[i],m=x2[1-i],b=Rtt[i];t<e||n<r?h<v?(a&&(wE[y]=-h),c&&(o[y]=t,o[b]=0)):(a&&(wE[y]=v),c&&(o[y]=r,o[b]=0)):(o&&(o[y]=$f(r,e),o[b]=Ku(t,n)-o[y]),a&&(g<kd[0]||Oi.useDir)&&(kd[0]=Ku(g,kd[0]),(h<v||!Oi.bidirectional)&&(hd[y]=h,hd[m]=0,Oi.useDir&&Oi.calcDirMTV()),(h>=v||!Oi.bidirectional)&&(hd[y]=-v,hd[m]=0,Oi.useDir&&Oi.calcDirMTV())))}function aB(){var r=0,t=new ae,e=new ae,n={minTv:new ae,maxTv:new ae,useDir:!1,dirMinTv:new ae,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(a,o){n.touchThreshold=0,a&&a.touchThreshold!=null&&(n.touchThreshold=$f(0,a.touchThreshold)),n.negativeSize=!1,o&&(n.minTv.set(1/0,1/0),n.maxTv.set(0,0),n.useDir=!1,a&&a.direction!=null&&(n.useDir=!0,n.dirMinTv.copy(n.minTv),e.copy(n.minTv),r=a.direction,n.bidirectional=a.bidirectional==null||!!a.bidirectional,n.bidirectional||t.set(Math.cos(r),Math.sin(r))))},calcDirMTV:function(){var a=n.minTv,o=n.dirMinTv,c=a.y*a.y+a.x*a.x,h=Math.sin(r),v=Math.cos(r),g=h*a.y+v*a.x;if(i(g)){i(a.x)&&i(a.y)&&o.set(0,0);return}if(e.x=c*v/g,e.y=c*h/g,i(e.x)&&i(e.y)){o.set(0,0);return}(n.bidirectional||t.dot(e)>0)&&e.len()<o.len()&&o.copy(e)}};function i(a){return SE(a)<1e-10}return n}var oB="silent";function Ptt(r,t,e){return{type:r,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:ktt}}function ktt(){vs(this.event)}var Vtt=(function(r){pr(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.handler=null,e}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t})(fa),Rp=(function(){function r(t,e){this.x=t,this.y=e}return r})(),Gtt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],AS=new le(0,0,0,0),sB=(function(r){pr(t,r);function t(e,n,i,a,o){var c=r.call(this)||this;return c._hovered=new Rp(0,0),c.storage=e,c.painter=n,c.painterRoot=a,c._pointerSize=o,i=i||new Vtt,c.proxy=null,c.setHandlerProxy(i),c._draggingMgr=new ytt(c),c}return t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(j(Gtt,function(n){e.on&&e.on(n,this[n],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var n=e.zrX,i=e.zrY,a=lB(this,n,i),o=this._hovered,c=o.target;c&&!c.__zr&&(o=this.findHover(o.x,o.y),c=o.target);var h=this._hovered=a?new Rp(n,i):this.findHover(n,i),v=h.target,g=this.proxy;g.setCursor&&g.setCursor(v?v.cursor:"default"),c&&v!==c&&this.dispatchToElement(o,"mouseout",e),this.dispatchToElement(h,"mousemove",e),v&&v!==c&&this.dispatchToElement(h,"mouseover",e)},t.prototype.mouseout=function(e){var n=e.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Rp(0,0)},t.prototype.dispatch=function(e,n){var i=this[e];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var n=this.proxy;n.setCursor&&n.setCursor(e)},t.prototype.dispatchToElement=function(e,n,i){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var o="on"+n,c=Ptt(n,e,i);a&&(a[o]&&(c.cancelBubble=!!a[o].call(a,c)),a.trigger(n,c),a=a.__hostTarget?a.__hostTarget:a.parent,!c.cancelBubble););c.cancelBubble||(this.trigger(n,c),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(h){typeof h[o]=="function"&&h[o].call(h,c),h.trigger&&h.trigger(n,c)}))}},t.prototype.findHover=function(e,n,i){var a=this.storage.getDisplayList(),o=new Rp(e,n);if(T2(a,o,e,n,i),this._pointerSize&&!o.target){for(var c=[],h=this._pointerSize,v=h/2,g=new le(e-v,n-v,h,h),y=a.length-1;y>=0;y--){var m=a[y];m!==i&&!m.ignore&&!m.ignoreCoarsePointer&&(!m.parent||!m.parent.ignoreCoarsePointer)&&(AS.copy(m.getBoundingRect()),m.transform&&AS.applyTransform(m.transform),AS.intersect(g)&&c.push(m))}if(c.length)for(var b=4,S=Math.PI/12,E=Math.PI*2,C=0;C<v;C+=b)for(var A=0;A<E;A+=S){var M=e+C*Math.cos(A),L=n+C*Math.sin(A);if(T2(c,o,M,L,i),o.target)return o}}return o},t.prototype.processGesture=function(e,n){this._gestureMgr||(this._gestureMgr=new Dtt);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var o=a.type;e.gestureEvent=o;var c=new Rp;c.target=a.target,this.dispatchToElement(c,o,a.event)}},t})(fa);j(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){sB.prototype[r]=function(t){var e=t.zrX,n=t.zrY,i=lB(this,e,n),a,o;if((r!=="mouseup"||!i)&&(a=this.findHover(e,n),o=a.target),r==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(r==="mouseup")this._upEl=o;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||ol(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,r,t)}});function Ftt(r,t,e){if(r[r.rectHover?"rectContain":"contain"](t,e)){for(var n=r,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(t,e))return!1}n.silent&&(i=!0);var c=n.__hostTarget;n=c?n.ignoreHostSilent?null:c:n.parent}return i?oB:!0}return!1}function T2(r,t,e,n,i){for(var a=r.length-1;a>=0;a--){var o=r[a],c=void 0;if(o!==i&&!o.ignore&&(c=Ftt(o,e,n))&&(!t.topTarget&&(t.topTarget=o),c!==oB)){t.target=o;break}}}function lB(r,t,e){var n=r.painter;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var uB=32,Ip=7;function Btt(r){for(var t=0;r>=uB;)t|=r&1,r>>=1;return r+t}function C2(r,t,e,n){var i=t+1;if(i===e)return 1;if(n(r[i++],r[t])<0){for(;i<e&&n(r[i],r[i-1])<0;)i++;Htt(r,t,i)}else for(;i<e&&n(r[i],r[i-1])>=0;)i++;return i-t}function Htt(r,t,e){for(e--;t<e;){var n=r[t];r[t++]=r[e],r[e--]=n}}function A2(r,t,e,n,i){for(n===t&&n++;n<e;n++){for(var a=r[n],o=t,c=n,h;o<c;)h=o+c>>>1,i(a,r[h])<0?c=h:o=h+1;var v=n-o;switch(v){case 3:r[o+3]=r[o+2];case 2:r[o+2]=r[o+1];case 1:r[o+1]=r[o];break;default:for(;v>0;)r[o+v]=r[o+v-1],v--}r[o]=a}}function MS(r,t,e,n,i,a){var o=0,c=0,h=1;if(a(r,t[e+i])>0){for(c=n-i;h<c&&a(r,t[e+i+h])>0;)o=h,h=(h<<1)+1,h<=0&&(h=c);h>c&&(h=c),o+=i,h+=i}else{for(c=i+1;h<c&&a(r,t[e+i-h])<=0;)o=h,h=(h<<1)+1,h<=0&&(h=c);h>c&&(h=c);var v=o;o=i-h,h=i-v}for(o++;o<h;){var g=o+(h-o>>>1);a(r,t[e+g])>0?o=g+1:h=g}return h}function DS(r,t,e,n,i,a){var o=0,c=0,h=1;if(a(r,t[e+i])<0){for(c=i+1;h<c&&a(r,t[e+i-h])<0;)o=h,h=(h<<1)+1,h<=0&&(h=c);h>c&&(h=c);var v=o;o=i-h,h=i-v}else{for(c=n-i;h<c&&a(r,t[e+i+h])>=0;)o=h,h=(h<<1)+1,h<=0&&(h=c);h>c&&(h=c),o+=i,h+=i}for(o++;o<h;){var g=o+(h-o>>>1);a(r,t[e+g])<0?h=g:o=g+1}return h}function ztt(r,t){var e=Ip,n,i,a=0,o=[];n=[],i=[];function c(b,S){n[a]=b,i[a]=S,a+=1}function h(){for(;a>1;){var b=a-2;if(b>=1&&i[b-1]<=i[b]+i[b+1]||b>=2&&i[b-2]<=i[b]+i[b-1])i[b-1]<i[b+1]&&b--;else if(i[b]>i[b+1])break;g(b)}}function v(){for(;a>1;){var b=a-2;b>0&&i[b-1]<i[b+1]&&b--,g(b)}}function g(b){var S=n[b],E=i[b],C=n[b+1],A=i[b+1];i[b]=E+A,b===a-3&&(n[b+1]=n[b+2],i[b+1]=i[b+2]),a--;var M=DS(r[C],r,S,E,0,t);S+=M,E-=M,E!==0&&(A=MS(r[S+E-1],r,C,A,A-1,t),A!==0&&(E<=A?y(S,E,C,A):m(S,E,C,A)))}function y(b,S,E,C){var A=0;for(A=0;A<S;A++)o[A]=r[b+A];var M=0,L=E,R=b;if(r[R++]=r[L++],--C===0){for(A=0;A<S;A++)r[R+A]=o[M+A];return}if(S===1){for(A=0;A<C;A++)r[R+A]=r[L+A];r[R+C]=o[M];return}for(var O=e,P,V,k;;){P=0,V=0,k=!1;do if(t(r[L],o[M])<0){if(r[R++]=r[L++],V++,P=0,--C===0){k=!0;break}}else if(r[R++]=o[M++],P++,V=0,--S===1){k=!0;break}while((P|V)<O);if(k)break;do{if(P=DS(r[L],o,M,S,0,t),P!==0){for(A=0;A<P;A++)r[R+A]=o[M+A];if(R+=P,M+=P,S-=P,S<=1){k=!0;break}}if(r[R++]=r[L++],--C===0){k=!0;break}if(V=MS(o[M],r,L,C,0,t),V!==0){for(A=0;A<V;A++)r[R+A]=r[L+A];if(R+=V,L+=V,C-=V,C===0){k=!0;break}}if(r[R++]=o[M++],--S===1){k=!0;break}O--}while(P>=Ip||V>=Ip);if(k)break;O<0&&(O=0),O+=2}if(e=O,e<1&&(e=1),S===1){for(A=0;A<C;A++)r[R+A]=r[L+A];r[R+C]=o[M]}else{if(S===0)throw new Error;for(A=0;A<S;A++)r[R+A]=o[M+A]}}function m(b,S,E,C){var A=0;for(A=0;A<C;A++)o[A]=r[E+A];var M=b+S-1,L=C-1,R=E+C-1,O=0,P=0;if(r[R--]=r[M--],--S===0){for(O=R-(C-1),A=0;A<C;A++)r[O+A]=o[A];return}if(C===1){for(R-=S,M-=S,P=R+1,O=M+1,A=S-1;A>=0;A--)r[P+A]=r[O+A];r[R]=o[L];return}for(var V=e;;){var k=0,F=0,H=!1;do if(t(o[L],r[M])<0){if(r[R--]=r[M--],k++,F=0,--S===0){H=!0;break}}else if(r[R--]=o[L--],F++,k=0,--C===1){H=!0;break}while((k|F)<V);if(H)break;do{if(k=S-DS(o[L],r,b,S,S-1,t),k!==0){for(R-=k,M-=k,S-=k,P=R+1,O=M+1,A=k-1;A>=0;A--)r[P+A]=r[O+A];if(S===0){H=!0;break}}if(r[R--]=o[L--],--C===1){H=!0;break}if(F=C-MS(r[M],o,0,C,C-1,t),F!==0){for(R-=F,L-=F,C-=F,P=R+1,O=L+1,A=0;A<F;A++)r[P+A]=o[O+A];if(C<=1){H=!0;break}}if(r[R--]=r[M--],--S===0){H=!0;break}V--}while(k>=Ip||F>=Ip);if(H)break;V<0&&(V=0),V+=2}if(e=V,e<1&&(e=1),C===1){for(R-=S,M-=S,P=R+1,O=M+1,A=S-1;A>=0;A--)r[P+A]=r[O+A];r[R]=o[L]}else{if(C===0)throw new Error;for(O=R-(C-1),A=0;A<C;A++)r[O+A]=o[A]}}return{mergeRuns:h,forceMergeRuns:v,pushRun:c}}function Vm(r,t,e,n){e||(e=0),n||(n=r.length);var i=n-e;if(!(i<2)){var a=0;if(i<uB){a=C2(r,e,n,t),A2(r,e,n,e+a,t);return}var o=ztt(r,t),c=Btt(i);do{if(a=C2(r,e,n,t),a<c){var h=i;h>c&&(h=c),A2(r,e,e+h,e+a,t),a=h}o.pushRun(e,a),o.mergeRuns(),i-=a,e+=a}while(i!==0);o.forceMergeRuns()}}var Pi=1,pd=2,Uf=4,M2=!1;function LS(){M2||(M2=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function D2(r,t){return r.zlevel===t.zlevel?r.z===t.z?r.z2-t.z2:r.z-t.z:r.zlevel-t.zlevel}var Utt=(function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=D2}return r.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},r.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(e),n},r.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,a=e.length;i<a;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,Vm(n,D2)},r.prototype._updateAndAddDisplayable=function(t,e,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath(),a=e&&e.length,o=0,c=t.__clipPaths;if(!t.ignoreClip&&(a||i)){if(c||(c=t.__clipPaths=[]),a)for(var h=0;h<e.length;h++)c[o++]=e[h];for(var v=i,g=t;v;)v.parent=g,v.updateTransform(),c[o++]=v,g=v,v=v.getClipPath()}if(c&&(c.length=o),t.childrenRef){for(var y=t.childrenRef(),m=0;m<y.length;m++){var b=y[m];t.__dirty&&(b.__dirty|=Pi),this._updateAndAddDisplayable(b,c,n)}t.__dirty=0}else{var S=t;isNaN(S.z)&&(LS(),S.z=0),isNaN(S.z2)&&(LS(),S.z2=0),isNaN(S.zlevel)&&(LS(),S.zlevel=0),this._displayList[this._displayListLen++]=S}var E=t.getDecalElement&&t.getDecalElement();E&&this._updateAndAddDisplayable(E,c,n);var C=t.getTextGuideLine();C&&this._updateAndAddDisplayable(C,c,n);var A=t.getTextContent();A&&this._updateAndAddDisplayable(A,c,n)}},r.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},r.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);return}var i=ve(this._roots,t);i>=0&&this._roots.splice(i,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r})(),f0;f0=Ae.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var Vd={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)))},elasticOut:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*r)*Math.sin((r-t)*(2*Math.PI)/n)+1)},elasticInOut:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),(r*=2)<1?-.5*(e*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)):e*Math.pow(2,-10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)*.5+1)},backIn:function(r){var t=1.70158;return r*r*((t+1)*r-t)},backOut:function(r){var t=1.70158;return--r*r*((t+1)*r+t)+1},backInOut:function(r){var t=2.5949095;return(r*=2)<1?.5*(r*r*((t+1)*r-t)):.5*((r-=2)*r*((t+1)*r+t)+2)},bounceIn:function(r){return 1-Vd.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?Vd.bounceIn(r*2)*.5:Vd.bounceOut(r*2-1)*.5+.5}},my=Math.pow,gl=Math.sqrt,h0=1e-8,cB=1e-4,L2=gl(3),_y=1/3,po=Cc(),ra=Cc(),nh=Cc();function ul(r){return r>-h0&&r<h0}function fB(r){return r>h0||r<-h0}function ln(r,t,e,n,i){var a=1-i;return a*a*(a*r+3*i*t)+i*i*(i*n+3*a*e)}function N2(r,t,e,n,i){var a=1-i;return 3*(((t-r)*a+2*(e-t)*i)*a+(n-e)*i*i)}function p0(r,t,e,n,i,a){var o=n+3*(t-e)-r,c=3*(e-t*2+r),h=3*(t-r),v=r-i,g=c*c-3*o*h,y=c*h-9*o*v,m=h*h-3*c*v,b=0;if(ul(g)&&ul(y))if(ul(c))a[0]=0;else{var S=-h/c;S>=0&&S<=1&&(a[b++]=S)}else{var E=y*y-4*g*m;if(ul(E)){var C=y/g,S=-c/o+C,A=-C/2;S>=0&&S<=1&&(a[b++]=S),A>=0&&A<=1&&(a[b++]=A)}else if(E>0){var M=gl(E),L=g*c+1.5*o*(-y+M),R=g*c+1.5*o*(-y-M);L<0?L=-my(-L,_y):L=my(L,_y),R<0?R=-my(-R,_y):R=my(R,_y);var S=(-c-(L+R))/(3*o);S>=0&&S<=1&&(a[b++]=S)}else{var O=(2*g*c-3*o*y)/(2*gl(g*g*g)),P=Math.acos(O)/3,V=gl(g),k=Math.cos(P),S=(-c-2*V*k)/(3*o),A=(-c+V*(k+L2*Math.sin(P)))/(3*o),F=(-c+V*(k-L2*Math.sin(P)))/(3*o);S>=0&&S<=1&&(a[b++]=S),A>=0&&A<=1&&(a[b++]=A),F>=0&&F<=1&&(a[b++]=F)}}return b}function hB(r,t,e,n,i){var a=6*e-12*t+6*r,o=9*t+3*n-3*r-9*e,c=3*t-3*r,h=0;if(ul(o)){if(fB(a)){var v=-c/a;v>=0&&v<=1&&(i[h++]=v)}}else{var g=a*a-4*o*c;if(ul(g))i[0]=-a/(2*o);else if(g>0){var y=gl(g),v=(-a+y)/(2*o),m=(-a-y)/(2*o);v>=0&&v<=1&&(i[h++]=v),m>=0&&m<=1&&(i[h++]=m)}}return h}function El(r,t,e,n,i,a){var o=(t-r)*i+r,c=(e-t)*i+t,h=(n-e)*i+e,v=(c-o)*i+o,g=(h-c)*i+c,y=(g-v)*i+v;a[0]=r,a[1]=o,a[2]=v,a[3]=y,a[4]=y,a[5]=g,a[6]=h,a[7]=n}function pB(r,t,e,n,i,a,o,c,h,v,g){var y,m=.005,b=1/0,S,E,C,A;po[0]=h,po[1]=v;for(var M=0;M<1;M+=.05)ra[0]=ln(r,e,i,o,M),ra[1]=ln(t,n,a,c,M),C=ac(po,ra),C<b&&(y=M,b=C);b=1/0;for(var L=0;L<32&&!(m<cB);L++)S=y-m,E=y+m,ra[0]=ln(r,e,i,o,S),ra[1]=ln(t,n,a,c,S),C=ac(ra,po),S>=0&&C<b?(y=S,b=C):(nh[0]=ln(r,e,i,o,E),nh[1]=ln(t,n,a,c,E),A=ac(nh,po),E<=1&&A<b?(y=E,b=A):m*=.5);return g&&(g[0]=ln(r,e,i,o,y),g[1]=ln(t,n,a,c,y)),gl(b)}function Wtt(r,t,e,n,i,a,o,c,h){for(var v=r,g=t,y=0,m=1/h,b=1;b<=h;b++){var S=b*m,E=ln(r,e,i,o,S),C=ln(t,n,a,c,S),A=E-v,M=C-g;y+=Math.sqrt(A*A+M*M),v=E,g=C}return y}function mn(r,t,e,n){var i=1-n;return i*(i*r+2*n*t)+n*n*e}function xE(r,t,e,n){return 2*((1-n)*(t-r)+n*(e-t))}function jtt(r,t,e,n,i){var a=r-2*t+e,o=2*(t-r),c=r-n,h=0;if(ul(a)){if(fB(o)){var v=-c/o;v>=0&&v<=1&&(i[h++]=v)}}else{var g=o*o-4*a*c;if(ul(g)){var v=-o/(2*a);v>=0&&v<=1&&(i[h++]=v)}else if(g>0){var y=gl(g),v=(-o+y)/(2*a),m=(-o-y)/(2*a);v>=0&&v<=1&&(i[h++]=v),m>=0&&m<=1&&(i[h++]=m)}}return h}function dB(r,t,e){var n=r+e-2*t;return n===0?.5:(r-t)/n}function Qd(r,t,e,n,i){var a=(t-r)*n+r,o=(e-t)*n+t,c=(o-a)*n+a;i[0]=r,i[1]=a,i[2]=c,i[3]=c,i[4]=o,i[5]=e}function vB(r,t,e,n,i,a,o,c,h){var v,g=.005,y=1/0;po[0]=o,po[1]=c;for(var m=0;m<1;m+=.05){ra[0]=mn(r,e,i,m),ra[1]=mn(t,n,a,m);var b=ac(po,ra);b<y&&(v=m,y=b)}y=1/0;for(var S=0;S<32&&!(g<cB);S++){var E=v-g,C=v+g;ra[0]=mn(r,e,i,E),ra[1]=mn(t,n,a,E);var b=ac(ra,po);if(E>=0&&b<y)v=E,y=b;else{nh[0]=mn(r,e,i,C),nh[1]=mn(t,n,a,C);var A=ac(nh,po);C<=1&&A<y?(v=C,y=A):g*=.5}}return h&&(h[0]=mn(r,e,i,v),h[1]=mn(t,n,a,v)),gl(y)}function Ytt(r,t,e,n,i,a,o){for(var c=r,h=t,v=0,g=1/o,y=1;y<=o;y++){var m=y*g,b=mn(r,e,i,m),S=mn(t,n,a,m),E=b-c,C=S-h;v+=Math.sqrt(E*E+C*C),c=b,h=S}return v}var $tt=/cubic-bezier\(([0-9,\.e ]+)\)/;function QC(r){var t=r&&$tt.exec(r);if(t){var e=t[1].split(","),n=+oa(e[0]),i=+oa(e[1]),a=+oa(e[2]),o=+oa(e[3]);if(isNaN(n+i+a+o))return;var c=[];return function(h){return h<=0?0:h>=1?1:p0(0,n,a,1,h,c)&&ln(0,i,o,1,c[0])}}}var qtt=(function(){function r(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||kr,this.ondestroy=t.ondestroy||kr,this.onrestart=t.onrestart||kr,t.easing&&this.setEasing(t.easing)}return r.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=e;return}var n=this._life,i=t-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,c=o?o(a):a;if(this.onframe(c),a===1)if(this.loop){var h=i%n;this._startTime=t-h,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(t){this.easing=t,this.easingFunc=ee(t)?t:Vd[t]||QC(t)},r})(),gB=(function(){function r(t){this.value=t}return r})(),Xtt=(function(){function r(){this._len=0}return r.prototype.insert=function(t){var e=new gB(t);return this.insertEntry(e),e},r.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r})(),fh=(function(){function r(t){this._list=new Xtt,this._maxSize=10,this._map={},this._maxSize=t}return r.prototype.put=function(t,e){var n=this._list,i=this._map,a=null;if(i[t]==null){var o=n.len(),c=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var h=n.head;n.remove(h),delete i[h.key],a=h.value,this._lastRemovedEntry=h}c?c.value=e:c=new gB(e),c.key=t,n.insertEntry(c),i[t]=c}return a},r.prototype.get=function(t){var e=this._map[t],n=this._list;if(e!=null)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r})(),R2={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ma(r){return r=Math.round(r),r<0?0:r>255?255:r}function Ztt(r){return r=Math.round(r),r<0?0:r>360?360:r}function tv(r){return r<0?0:r>1?1:r}function NS(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?Ma(parseFloat(t)/100*255):Ma(parseInt(t,10))}function yl(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?tv(parseFloat(t)/100):tv(parseFloat(t))}function RS(r,t,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?r+(t-r)*e*6:e*2<1?t:e*3<2?r+(t-r)*(2/3-e)*6:r}function cl(r,t,e){return r+(t-r)*e}function Ki(r,t,e,n,i){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function EE(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}var yB=new fh(20),by=null;function gf(r,t){by&&EE(by,t),by=yB.put(r,by||t.slice())}function wi(r,t){if(r){t=t||[];var e=yB.get(r);if(e)return EE(t,e);r=r+"";var n=r.replace(/ /g,"").toLowerCase();if(n in R2)return EE(t,R2[n]),gf(r,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){Ki(t,0,0,0,1);return}return Ki(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),gf(r,t),t}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){Ki(t,0,0,0,1);return}return Ki(t,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),gf(r,t),t}return}var o=n.indexOf("("),c=n.indexOf(")");if(o!==-1&&c+1===i){var h=n.substr(0,o),v=n.substr(o+1,c-(o+1)).split(","),g=1;switch(h){case"rgba":if(v.length!==4)return v.length===3?Ki(t,+v[0],+v[1],+v[2],1):Ki(t,0,0,0,1);g=yl(v.pop());case"rgb":if(v.length>=3)return Ki(t,NS(v[0]),NS(v[1]),NS(v[2]),v.length===3?g:yl(v[3])),gf(r,t),t;Ki(t,0,0,0,1);return;case"hsla":if(v.length!==4){Ki(t,0,0,0,1);return}return v[3]=yl(v[3]),TE(v,t),gf(r,t),t;case"hsl":if(v.length!==3){Ki(t,0,0,0,1);return}return TE(v,t),gf(r,t),t;default:return}}Ki(t,0,0,0,1)}}function TE(r,t){var e=(parseFloat(r[0])%360+360)%360/360,n=yl(r[1]),i=yl(r[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return t=t||[],Ki(t,Ma(RS(o,a,e+1/3)*255),Ma(RS(o,a,e)*255),Ma(RS(o,a,e-1/3)*255),1),r.length===4&&(t[3]=r[3]),t}function Ktt(r){if(r){var t=r[0]/255,e=r[1]/255,n=r[2]/255,i=Math.min(t,e,n),a=Math.max(t,e,n),o=a-i,c=(a+i)/2,h,v;if(o===0)h=0,v=0;else{c<.5?v=o/(a+i):v=o/(2-a-i);var g=((a-t)/6+o/2)/o,y=((a-e)/6+o/2)/o,m=((a-n)/6+o/2)/o;t===a?h=m-y:e===a?h=1/3+g-m:n===a&&(h=2/3+y-g),h<0&&(h+=1),h>1&&(h-=1)}var b=[h*360,v,c];return r[3]!=null&&b.push(r[3]),b}}function CE(r,t){var e=wi(r);if(e){for(var n=0;n<3;n++)t<0?e[n]=e[n]*(1-t)|0:e[n]=(255-e[n])*t+e[n]|0,e[n]>255?e[n]=255:e[n]<0&&(e[n]=0);return Co(e,e.length===4?"rgba":"rgb")}}function IS(r,t,e){if(!(!(t&&t.length)||!(r>=0&&r<=1))){e=e||[];var n=r*(t.length-1),i=Math.floor(n),a=Math.ceil(n),o=t[i],c=t[a],h=n-i;return e[0]=Ma(cl(o[0],c[0],h)),e[1]=Ma(cl(o[1],c[1],h)),e[2]=Ma(cl(o[2],c[2],h)),e[3]=tv(cl(o[3],c[3],h)),e}}function Jtt(r,t,e){if(!(!(t&&t.length)||!(r>=0&&r<=1))){var n=r*(t.length-1),i=Math.floor(n),a=Math.ceil(n),o=wi(t[i]),c=wi(t[a]),h=n-i,v=Co([Ma(cl(o[0],c[0],h)),Ma(cl(o[1],c[1],h)),Ma(cl(o[2],c[2],h)),tv(cl(o[3],c[3],h))],"rgba");return e?{color:v,leftIndex:i,rightIndex:a,value:n}:v}}function ml(r,t,e,n){var i=wi(r);if(r)return i=Ktt(i),t!=null&&(i[0]=Ztt(ee(t)?t(i[0]):t)),e!=null&&(i[1]=yl(ee(e)?e(i[1]):e)),n!=null&&(i[2]=yl(ee(n)?n(i[2]):n)),Co(TE(i),"rgba")}function d0(r,t){var e=wi(r);if(e&&t!=null)return e[3]=tv(t),Co(e,"rgba")}function Co(r,t){if(!(!r||!r.length)){var e=r[0]+","+r[1]+","+r[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(e+=","+r[3]),t+"("+e+")"}}function v0(r,t){var e=wi(r);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}var I2=new fh(100);function AE(r){if($t(r)){var t=I2.get(r);return t||(t=CE(r,-.1),I2.put(r,t)),t}else if(E_(r)){var e=At({},r);return e.colorStops=Pt(r.colorStops,function(n){return{offset:n.offset,color:CE(n.color,-.1)}}),e}return r}var g0=Math.round;function ev(r){var t;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var e=wi(r);e&&(r="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}return{color:r,opacity:t??1}}var O2=1e-4;function fl(r){return r<O2&&r>-O2}function Sy(r){return g0(r*1e3)/1e3}function ME(r){return g0(r*1e4)/1e4}function Qtt(r){return"matrix("+Sy(r[0])+","+Sy(r[1])+","+Sy(r[2])+","+Sy(r[3])+","+ME(r[4])+","+ME(r[5])+")"}var tet={left:"start",right:"end",center:"middle",middle:"middle"};function eet(r,t,e){return e==="top"?r+=t/2:e==="bottom"&&(r-=t/2),r}function ret(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function net(r){var t=r.style,e=r.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),e[0],e[1]].join(",")}function mB(r){return r&&!!r.image}function iet(r){return r&&!!r.svgElement}function tA(r){return mB(r)||iet(r)}function _B(r){return r.type==="linear"}function bB(r){return r.type==="radial"}function SB(r){return r&&(r.type==="linear"||r.type==="radial")}function D_(r){return"url(#"+r+")"}function wB(r){var t=r.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function xB(r){var t=r.x||0,e=r.y||0,n=(r.rotation||0)*Om,i=Jt(r.scaleX,1),a=Jt(r.scaleY,1),o=r.skewX||0,c=r.skewY||0,h=[];return(t||e)&&h.push("translate("+t+"px,"+e+"px)"),n&&h.push("rotate("+n+")"),(i!==1||a!==1)&&h.push("scale("+i+","+a+")"),(o||c)&&h.push("skew("+g0(o*Om)+"deg, "+g0(c*Om)+"deg)"),h.join(" ")}var aet=(function(){return Ae.hasGlobalWindow&&ee(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}})(),DE=Array.prototype.slice;function es(r,t,e){return(t-r)*e+r}function OS(r,t,e,n){for(var i=t.length,a=0;a<i;a++)r[a]=es(t[a],e[a],n);return r}function oet(r,t,e,n){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){r[o]||(r[o]=[]);for(var c=0;c<a;c++)r[o][c]=es(t[o][c],e[o][c],n)}return r}function wy(r,t,e,n){for(var i=t.length,a=0;a<i;a++)r[a]=t[a]+e[a]*n;return r}function P2(r,t,e,n){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){r[o]||(r[o]=[]);for(var c=0;c<a;c++)r[o][c]=t[o][c]+e[o][c]*n}return r}function set(r,t){for(var e=r.length,n=t.length,i=e>n?t:r,a=Math.min(e,n),o=i[a-1]||{color:[0,0,0,0],offset:0},c=a;c<Math.max(e,n);c++)i.push({offset:o.offset,color:o.color.slice()})}function uet(r,t,e){var n=r,i=t;if(!(!n.push||!i.push)){var a=n.length,o=i.length;if(a!==o){var c=a>o;if(c)n.length=o;else for(var h=a;h<o;h++)n.push(e===1?i[h]:DE.call(i[h]))}for(var v=n[0]&&n[0].length,h=0;h<n.length;h++)if(e===1)isNaN(n[h])&&(n[h]=i[h]);else for(var g=0;g<v;g++)isNaN(n[h][g])&&(n[h][g]=i[h][g])}}function Gd(r){if(jn(r)){var t=r.length;if(jn(r[0])){for(var e=[],n=0;n<t;n++)e.push(DE.call(r[n]));return e}return DE.call(r)}return r}function Gm(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function cet(r){return jn(r&&r[0])?2:1}var xy=0,Fm=1,EB=2,dd=3,LE=4,NE=5,k2=6;function V2(r){return r===LE||r===NE}function Ey(r){return r===Fm||r===EB}var Op=[0,0,0,0],fet=(function(){function r(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,c=k2,h=e;if(jn(e)){var v=cet(e);c=v,(v===1&&!Re(e[0])||v===2&&!Re(e[0][0]))&&(o=!0)}else if(Re(e)&&!Wn(e))c=xy;else if($t(e))if(!isNaN(+e))c=xy;else{var g=wi(e);g&&(h=g,c=dd)}else if(E_(e)){var y=At({},h);y.colorStops=Pt(e.colorStops,function(b){return{offset:b.offset,color:wi(b.color)}}),_B(e)?c=LE:bB(e)&&(c=NE),h=y}a===0?this.valType=c:(c!==this.valType||c===k2)&&(o=!0),this.discrete=this.discrete||o;var m={time:t,value:h,rawValue:e,percent:0};return n&&(m.easing=n,m.easingFunc=ee(n)?n:Vd[n]||QC(n)),i.push(m),m},r.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(E,C){return E.time-C.time});for(var i=this.valType,a=n.length,o=n[a-1],c=this.discrete,h=Ey(i),v=V2(i),g=0;g<a;g++){var y=n[g],m=y.value,b=o.value;y.percent=y.time/t,c||(h&&g!==a-1?uet(m,b,i):v&&set(m.colorStops,b.colorStops))}if(!c&&i!==NE&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;for(var S=n[0].value,g=0;g<a;g++)i===xy?n[g].additiveValue=n[g].value-S:i===dd?n[g].additiveValue=wy([],n[g].value,S,-1):Ey(i)&&(n[g].additiveValue=i===Fm?wy([],n[g].value,S,-1):P2([],n[g].value,S,-1))}},r.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,o=this.keyframes,c=o.length,h=this.propName,v=a===dd,g,y=this._lastFr,m=Math.min,b,S;if(c===1)b=S=o[0];else{if(e<0)g=0;else if(e<this._lastFrP){var E=m(y+1,c-1);for(g=E;g>=0&&!(o[g].percent<=e);g--);g=m(g,c-2)}else{for(g=y;g<c&&!(o[g].percent>e);g++);g=m(g-1,c-2)}S=o[g+1],b=o[g]}if(b&&S){this._lastFr=g,this._lastFrP=e;var C=S.percent-b.percent,A=C===0?1:m((e-b.percent)/C,1);S.easingFunc&&(A=S.easingFunc(A));var M=n?this._additiveValue:v?Op:t[h];if((Ey(a)||v)&&!M&&(M=this._additiveValue=[]),this.discrete)t[h]=A<1?b.rawValue:S.rawValue;else if(Ey(a))a===Fm?OS(M,b[i],S[i],A):oet(M,b[i],S[i],A);else if(V2(a)){var L=b[i],R=S[i],O=a===LE;t[h]={type:O?"linear":"radial",x:es(L.x,R.x,A),y:es(L.y,R.y,A),colorStops:Pt(L.colorStops,function(V,k){var F=R.colorStops[k];return{offset:es(V.offset,F.offset,A),color:Gm(OS([],V.color,F.color,A))}}),global:R.global},O?(t[h].x2=es(L.x2,R.x2,A),t[h].y2=es(L.y2,R.y2,A)):t[h].r=es(L.r,R.r,A)}else if(v)OS(M,b[i],S[i],A),n||(t[h]=Gm(M));else{var P=es(b[i],S[i],A);n?this._additiveValue=P:t[h]=P}n&&this._addToTarget(t)}}},r.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,i=this._additiveValue;e===xy?t[n]=t[n]+i:e===dd?(wi(t[n],Op),wy(Op,Op,i,1),t[n]=Gm(Op)):e===Fm?wy(t[n],t[n],i,1):e===EB&&P2(t[n],t[n],i,1)},r})(),eA=(function(){function r(t,e,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i){$C("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(t){this._target=t},r.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,De(e),n)},r.prototype.whenWithKeys=function(t,e,n,i){for(var a=this._tracks,o=0;o<n.length;o++){var c=n[o],h=a[c];if(!h){h=a[c]=new fet(c);var v=void 0,g=this._getAdditiveTrack(c);if(g){var y=g.keyframes,m=y[y.length-1];v=m&&m.value,g.valType===dd&&v&&(v=Gm(v))}else v=this._target[c];if(v==null)continue;t>0&&h.addKeyframe(0,Gd(v),i),this._trackKeys.push(c)}h.addKeyframe(t,Gd(e[c]),i)}return this._maxTime=Math.max(this._maxTime,t),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},r.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},r.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(t);a&&(e=a)}return e},r.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],c=this._tracks[o],h=this._getAdditiveTrack(o),v=c.keyframes,g=v.length;if(c.prepare(i,h),c.needsAnimate())if(!this._allowDiscrete&&c.discrete){var y=v[g-1];y&&(e._target[c.propName]=y.rawValue),c.setFinished()}else n.push(c)}if(n.length||this._force){var m=new qtt({life:i,loop:this._loop,delay:this._delay||0,onframe:function(b){e._started=2;var S=e._additiveAnimators;if(S){for(var E=!1,C=0;C<S.length;C++)if(S[C]._clip){E=!0;break}E||(e._additiveAnimators=null)}for(var C=0;C<n.length;C++)n[C].step(e._target,b);var A=e._onframeCbs;if(A)for(var C=0;C<A.length;C++)A[C](e._target,b)},ondestroy:function(){e._doneCallback()}});this._clip=m,this.animation&&this.animation.addClip(m),t&&m.setEasing(t)}else this._doneCallback();return this}},r.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},r.prototype.delay=function(t){return this._delay=t,this},r.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},r.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},r.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(t){return this._tracks[t]},r.prototype.getTracks=function(){var t=this;return Pt(this._trackKeys,function(e){return t._tracks[e]})},r.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var o=n[t[a]];o&&!o.isFinished()&&(e?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var c=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){c=!1;break}return c&&this._abortedCallback(),c},r.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var a=e[i],o=this._tracks[a];if(!(!o||o.isFinished())){var c=o.keyframes,h=c[n?0:c.length-1];h&&(t[a]=Gd(h.rawValue))}}}},r.prototype.__changeFinalValue=function(t,e){e=e||De(t);for(var n=0;n<e.length;n++){var i=e[n],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var c=o.pop();a.addKeyframe(c.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},r})();function qf(){return new Date().getTime()}var het=(function(r){pr(t,r);function t(e){var n=r.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var n=e.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(e){if(e.animation){var n=e.prev,i=e.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var n=e.getClip();n&&this.removeClip(n),e.animation=null},t.prototype.update=function(e){for(var n=qf()-this._pausedTime,i=n-this._time,a=this._head;a;){var o=a.next,c=a.step(n,i);c&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,e||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0;function n(){e._running&&(f0(n),!e._paused&&e.update())}f0(n)},t.prototype.start=function(){this._running||(this._time=qf(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=qf(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=qf()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var n=e.next;e.prev=e.next=e.animation=null,e=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(e,n){n=n||{},this.start();var i=new eA(e,n.loop);return this.addAnimator(i),i},t})(fa),pet=300,PS=Ae.domSupported,kS=(function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Pt(r,function(i){var a=i.replace("mouse","pointer");return e.hasOwnProperty(a)?a:i});return{mouse:r,touch:t,pointer:n}})(),G2={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},F2=!1;function RE(r){var t=r.pointerType;return t==="pen"||t==="touch"}function det(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function VS(r){r&&(r.zrByTouch=!0)}function vet(r,t){return Ji(r.dom,new get(r,t),!0)}function TB(r,t){for(var e=t,n=!1;e&&e.nodeType!==9&&!(n=e.domBelongToZr||e!==t&&e===r.painterRoot);)e=e.parentNode;return n}var get=(function(){function r(t,e){this.stopPropagation=kr,this.stopImmediatePropagation=kr,this.preventDefault=kr,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return r})(),xa={mousedown:function(r){r=Ji(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=Ji(this.dom,r);var t=this.__mayPointerCapture;t&&(r.zrX!==t[0]||r.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=Ji(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=Ji(this.dom,r);var t=r.toElement||r.relatedTarget;TB(this,t)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){F2=!0,r=Ji(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){F2||(r=Ji(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=Ji(this.dom,r),VS(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),xa.mousemove.call(this,r),xa.mousedown.call(this,r)},touchmove:function(r){r=Ji(this.dom,r),VS(r),this.handler.processGesture(r,"change"),xa.mousemove.call(this,r)},touchend:function(r){r=Ji(this.dom,r),VS(r),this.handler.processGesture(r,"end"),xa.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<pet&&xa.click.call(this,r)},pointerdown:function(r){xa.mousedown.call(this,r)},pointermove:function(r){RE(r)||xa.mousemove.call(this,r)},pointerup:function(r){xa.mouseup.call(this,r)},pointerout:function(r){RE(r)||xa.mouseout.call(this,r)}};j(["click","dblclick","contextmenu"],function(r){xa[r]=function(t){t=Ji(this.dom,t),this.trigger(r,t)}});var IE={pointermove:function(r){RE(r)||IE.mousemove.call(this,r)},pointerup:function(r){IE.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),t&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function yet(r,t){var e=t.domHandlers;Ae.pointerEventsSupported?j(kS.pointer,function(n){Bm(t,n,function(i){e[n].call(r,i)})}):(Ae.touchEventsSupported&&j(kS.touch,function(n){Bm(t,n,function(i){e[n].call(r,i),det(t)})}),j(kS.mouse,function(n){Bm(t,n,function(i){i=KC(i),t.touching||e[n].call(r,i)})}))}function met(r,t){Ae.pointerEventsSupported?j(G2.pointer,e):Ae.touchEventsSupported||j(G2.mouse,e);function e(n){function i(a){a=KC(a),TB(r,a.target)||(a=vet(r,a),t.domHandlers[n].call(r,a))}Bm(t,n,i,{capture:!0})}}function Bm(r,t,e,n){r.mounted[t]=e,r.listenerOpts[t]=n,bE(r.domTarget,t,e,n)}function GS(r){var t=r.mounted;for(var e in t)t.hasOwnProperty(e)&&Mtt(r.domTarget,e,t[e],r.listenerOpts[e]);r.mounted={}}var B2=(function(){function r(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return r})(),_et=(function(r){pr(t,r);function t(e,n){var i=r.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=n,i._localHandlerScope=new B2(e,xa),PS&&(i._globalHandlerScope=new B2(document,IE)),yet(i,i._localHandlerScope),i}return t.prototype.dispose=function(){GS(this._localHandlerScope),PS&&GS(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,PS&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var n=this._globalHandlerScope;e?met(this,n):GS(n)}},t})(fa),CB=1;Ae.hasGlobalWindow&&(CB=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var y0=CB,OE=.4,PE="#333",kE="#ccc",bet="#eee",H2=A_,z2=5e-5;function yu(r){return r>z2||r<-z2}var mu=[],yf=[],FS=_n(),BS=Math.abs,as=(function(){function r(){}return r.prototype.getLocalTransform=function(t){return r.getLocalTransform(this,t)},r.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},r.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},r.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},r.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},r.prototype.needLocalTransform=function(){return yu(this.rotation)||yu(this.x)||yu(this.y)||yu(this.scaleX-1)||yu(this.scaleY-1)||yu(this.skewX)||yu(this.skewY)},r.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;if(!(e||t)){n&&(H2(n),this.invTransform=null);return}n=n||_n(),e?this.getLocalTransform(n):H2(n),t&&(e?To(n,t,n):M_(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},r.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(mu);var n=mu[0]<0?-1:1,i=mu[1]<0?-1:1,a=((mu[0]-n)*e+n)/mu[0]||0,o=((mu[1]-i)*e+i)/mu[1]||0;t[0]*=a,t[1]*=a,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||_n(),Ra(this.invTransform,t)},r.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},r.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),a=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(a),e=Math.sqrt(e),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||_n(),To(yf,t.invTransform,e),e=yf);var n=this.originX,i=this.originY;(n||i)&&(FS[4]=n,FS[5]=i,To(yf,e,FS),yf[4]-=n,yf[5]-=i,e=yf),this.setLocalTransform(e)}},r.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},r.prototype.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&Vr(n,n,i),n},r.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&Vr(n,n,i),n},r.prototype.getLineScale=function(){var t=this.transform;return t&&BS(t[0]-1)>1e-10&&BS(t[3]-1)>1e-10?Math.sqrt(BS(t[0]*t[3]-t[2]*t[1])):1},r.prototype.copyTransform=function(t){m0(this,t)},r.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,i=t.originY||0,a=t.scaleX,o=t.scaleY,c=t.anchorX,h=t.anchorY,v=t.rotation||0,g=t.x,y=t.y,m=t.skewX?Math.tan(t.skewX):0,b=t.skewY?Math.tan(-t.skewY):0;if(n||i||c||h){var S=n+c,E=i+h;e[4]=-S*a-m*E*o,e[5]=-E*o-b*S*a}else e[4]=e[5]=0;return e[0]=a,e[3]=o,e[1]=b*a,e[2]=m*o,v&&Nl(e,e,v),e[4]+=n+g,e[5]+=i+y,e},r.initDefaultProps=(function(){var t=r.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0})(),r})(),Ro=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function m0(r,t){for(var e=0;e<Ro.length;e++){var n=Ro[e];r[n]=t[n]}}function Ao(r){Ty||(Ty=new fh(100)),r=r||ds;var t=Ty.get(r);return t||(t={font:r,strWidthCache:new fh(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:Na.measureText("",r).width,asciiCharWidth:Na.measureText("a",r).width},Ty.put(r,t)),t}var Ty;function wet(r){if(!(HS>=U2)){r=r||ds;for(var t=[],e=+new Date,n=0;n<=127;n++)t[n]=Na.measureText(String.fromCharCode(n),r).width;var i=+new Date-e;return i>16?HS=U2:i>2&&HS++,t}}var HS=0,U2=5;function AB(r,t){return r.asciiWidthMapTried||(r.asciiWidthMap=wet(r.font),r.asciiWidthMapTried=!0),0<=t&&t<=127?r.asciiWidthMap!=null?r.asciiWidthMap[t]:r.asciiCharWidth:r.stWideCharWidth}function Mo(r,t){var e=r.strWidthCache,n=e.get(t);return n==null&&(n=Na.measureText(t,r.font).width,e.put(t,n)),n}function W2(r,t,e,n){var i=Mo(Ao(t),r),a=Lv(t),o=hh(0,i,e),c=oc(0,a,n),h=new le(o,c,i,a);return h}function L_(r,t,e,n){var i=((r||"")+"").split(`
`),a=i.length;if(a===1)return W2(i[0],t,e,n);for(var o=new le(0,0,0,0),c=0;c<i.length;c++){var h=W2(i[c],t,e,n);c===0?o.copy(h):o.union(h)}return o}function hh(r,t,e,n){return e==="right"?n?r+=t:r-=t:e==="center"&&(n?r+=t/2:r-=t/2),r}function oc(r,t,e,n){return e==="middle"?n?r+=t/2:r-=t/2:e==="bottom"&&(n?r+=t:r-=t),r}function Lv(r){return Ao(r).stWideCharWidth}function Ia(r,t){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*t:parseFloat(r):r}function _0(r,t,e){var n=t.position||"inside",i=t.distance!=null?t.distance:5,a=e.height,o=e.width,c=a/2,h=e.x,v=e.y,g="left",y="top";if(n instanceof Array)h+=Ia(n[0],e.width),v+=Ia(n[1],e.height),g=null,y=null;else switch(n){case"left":h-=i,v+=c,g="right",y="middle";break;case"right":h+=i+o,v+=c,y="middle";break;case"top":h+=o/2,v-=i,g="center",y="bottom";break;case"bottom":h+=o/2,v+=a+i,g="center";break;case"inside":h+=o/2,v+=c,g="center",y="middle";break;case"insideLeft":h+=i,v+=c,y="middle";break;case"insideRight":h+=o-i,v+=c,g="right",y="middle";break;case"insideTop":h+=o/2,v+=i,g="center";break;case"insideBottom":h+=o/2,v+=a-i,g="center",y="bottom";break;case"insideTopLeft":h+=i,v+=i;break;case"insideTopRight":h+=o-i,v+=i,g="right";break;case"insideBottomLeft":h+=i,v+=a-i,y="bottom";break;case"insideBottomRight":h+=o-i,v+=a-i,g="right",y="bottom";break}return r=r||{},r.x=h,r.y=v,r.align=g,r.verticalAlign=y,r}var zS="__zr_normal__",US=Ro.concat(["ignore"]),xet=Lo(Ro,function(r,t){return r[t]=!0,r},{ignore:!1}),mf={},Eet=new le(0,0,0,0),Cy=[],N_=(function(){function r(t){this.id=tB(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return r.prototype._init=function(t){this.attr(t)},r.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=e.innerTransformable,o=void 0,c=void 0,h=!1;a.parent=i?this:null;var v=!1;a.copyTransform(e);var g=n.position!=null,y=n.autoOverflowArea,m=void 0;if((y||g)&&(m=Eet,n.layoutRect?m.copy(n.layoutRect):m.copy(this.getBoundingRect()),i||m.applyTransform(this.transform)),g){this.calculateTextPosition?this.calculateTextPosition(mf,n,m):_0(mf,n,m),a.x=mf.x,a.y=mf.y,o=mf.align,c=mf.verticalAlign;var b=n.origin;if(b&&n.rotation!=null){var S=void 0,E=void 0;b==="center"?(S=m.width*.5,E=m.height*.5):(S=Ia(b[0],m.width),E=Ia(b[1],m.height)),v=!0,a.originX=-a.x+S+(i?0:m.x),a.originY=-a.y+E+(i?0:m.y)}}n.rotation!=null&&(a.rotation=n.rotation);var C=n.offset;C&&(a.x+=C[0],a.y+=C[1],v||(a.originX=-C[0],a.originY=-C[1]));var A=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(y){var M=A.overflowRect=A.overflowRect||new le(0,0,0,0);a.getLocalTransform(Cy),Ra(Cy,Cy),le.copy(M,m),M.applyTransform(Cy)}else A.overflowRect=null;var L=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,R=void 0,O=void 0,P=void 0;L&&this.canBeInsideText()?(R=n.insideFill,O=n.insideStroke,(R==null||R==="auto")&&(R=this.getInsideTextFill()),(O==null||O==="auto")&&(O=this.getInsideTextStroke(R),P=!0)):(R=n.outsideFill,O=n.outsideStroke,(R==null||R==="auto")&&(R=this.getOutsideFill()),(O==null||O==="auto")&&(O=this.getOutsideStroke(R),P=!0)),R=R||"#000",(R!==A.fill||O!==A.stroke||P!==A.autoStroke||o!==A.align||c!==A.verticalAlign)&&(h=!0,A.fill=R,A.stroke=O,A.autoStroke=P,A.align=o,A.verticalAlign=c,e.setDefaultTextStyle(A)),e.__dirty|=Pi,h&&e.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(t){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?kE:PE},r.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n=typeof e=="string"&&wi(e);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(a?0:255)*(1-i);return n[3]=1,Co(n,"rgba")},r.prototype.traverse=function(t,e){},r.prototype.attrKV=function(t,e){t==="textConfig"?this.setTextConfig(e):t==="textContent"?this.setTextContent(e):t==="clipPath"?this.setClipPath(e):t==="extra"?(this.extra=this.extra||{},At(this.extra,e)):this[t]=e},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(t,e){if(typeof t=="string")this.attrKV(t,e);else if(se(t))for(var n=t,i=De(n),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,t[o])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==zS)){var o=i.targetName,c=o?e[o]:e;i.saveTo(c)}}},r.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,US)},r.prototype._savePrimaryToNormal=function(t,e,n){for(var i=0;i<n.length;i++){var a=n[i];t[a]!=null&&!(a in e)&&(e[a]=this[a])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(t){return this.states[t]},r.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},r.prototype.clearStates=function(t){this.useState(zS,!1,t)},r.prototype.useState=function(t,e,n,i){var a=t===zS,o=this.hasState();if(!(!o&&a)){var c=this.currentStates,h=this.stateTransition;if(!(ve(c,t)>=0&&(e||c.length===1))){var v;if(this.stateProxy&&!a&&(v=this.stateProxy(t)),v||(v=this.states&&this.states[t]),!v&&!a){$C("State "+t+" not exists.");return}a||this.saveCurrentToNormalState(v);var g=!!(v&&v.hoverLayer||i);g&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,v,this._normalState,e,!n&&!this.__inHover&&h&&h.duration>0,h);var y=this._textContent,m=this._textGuide;return y&&y.useState(t,e,n,g),m&&m.useState(t,e,n,g),a?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Pi),v}}},r.prototype.useStates=function(t,e,n){if(!t.length)this.clearStates();else{var i=[],a=this.currentStates,o=t.length,c=o===a.length;if(c){for(var h=0;h<o;h++)if(t[h]!==a[h]){c=!1;break}}if(c)return;for(var h=0;h<o;h++){var v=t[h],g=void 0;this.stateProxy&&(g=this.stateProxy(v,t)),g||(g=this.states[v]),g&&i.push(g)}var y=i[o-1],m=!!(y&&y.hoverLayer||n);m&&this._toggleHoverLayerFlag(!0);var b=this._mergeStates(i),S=this.stateTransition;this.saveCurrentToNormalState(b),this._applyStateObj(t.join(","),b,this._normalState,!1,!e&&!this.__inHover&&S&&S.duration>0,S);var E=this._textContent,C=this._textGuide;E&&E.useStates(t,e,m),C&&C.useStates(t,e,m),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!m&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Pi)}},r.prototype.isSilent=function(){for(var t=this;t;){if(t.silent)return!0;var e=t.__hostTarget;t=e?t.ignoreHostSilent?null:e:t.parent}return!1},r.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},r.prototype.removeState=function(t){var e=ve(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},r.prototype.replaceState=function(t,e,n){var i=this.currentStates.slice(),a=ve(i,t),o=ve(i,e)>=0;a>=0?o?i.splice(a,1):i[a]=e:n&&!o&&i.push(e),this.useStates(i)},r.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},r.prototype._mergeStates=function(t){for(var e={},n,i=0;i<t.length;i++){var a=t[i];At(e,a),a.textConfig&&(n=n||{},At(n,a.textConfig))}return n&&(e.textConfig=n),e},r.prototype._applyStateObj=function(t,e,n,i,a,o){var c=!(e&&i);e&&e.textConfig?(this.textConfig=At({},i?this.textConfig:n.textConfig),At(this.textConfig,e.textConfig)):c&&n.textConfig&&(this.textConfig=n.textConfig);for(var h={},v=!1,g=0;g<US.length;g++){var y=US[g],m=a&&xet[y];e&&e[y]!=null?m?(v=!0,h[y]=e[y]):this[y]=e[y]:c&&n[y]!=null&&(m?(v=!0,h[y]=n[y]):this[y]=n[y])}if(!a)for(var g=0;g<this.animators.length;g++){var b=this.animators[g],S=b.targetName;b.getLoop()||b.__changeFinalValue(S?(e||n)[S]:e||n)}v&&this._transitionState(t,h,o)},r.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},r.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},r.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new as,this._attachComponent(t),this._textContent=t,this.markRedraw())},r.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),At(this.textConfig,t),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=Pi;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},r.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},r.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},r.prototype.animate=function(t,e,n){var i=t?this[t]:this,a=new eA(i,e,n);return t&&(a.targetName=t),this.addAnimator(a,t),a},r.prototype.addAnimator=function(t,e){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(e)}).done(function(){var a=i.animators,o=ve(a,t);o>=0&&a.splice(o,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},r.prototype.updateDuringAnimation=function(t){this.markRedraw()},r.prototype.stopAnimation=function(t,e){for(var n=this.animators,i=n.length,a=[],o=0;o<i;o++){var c=n[o];!t||t===c.scope?c.stop(e):a.push(c)}return this.animators=a,this},r.prototype.animateTo=function(t,e,n){WS(this,t,e,n)},r.prototype.animateFrom=function(t,e,n){WS(this,t,e,n,!0)},r.prototype._transitionState=function(t,e,n,i){for(var a=WS(this,e,n,i),o=0;o<a.length;o++)a[o].__fromStateTransition=t},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=(function(){var t=r.prototype;t.type="element",t.name="",t.ignore=t.silent=t.ignoreHostSilent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Pi;function e(n,i,a,o){Object.defineProperty(t,n,{get:function(){if(!this[i]){var h=this[i]=[];c(this,h)}return this[i]},set:function(h){this[a]=h[0],this[o]=h[1],this[i]=h,c(this,h)}});function c(h,v){Object.defineProperty(v,0,{get:function(){return h[a]},set:function(g){h[a]=g}}),Object.defineProperty(v,1,{get:function(){return h[o]},set:function(g){h[o]=g}})}}Object.defineProperty&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))})(),r})();Zr(N_,fa);Zr(N_,as);function WS(r,t,e,n,i){e=e||{};var a=[];MB(r,"",r,t,e,n,a,i);var o=a.length,c=!1,h=e.done,v=e.aborted,g=function(){c=!0,o--,o<=0&&(c?h&&h():v&&v())},y=function(){o--,o<=0&&(c?h&&h():v&&v())};o||h&&h(),a.length>0&&e.during&&a[0].during(function(S,E){e.during(E)});for(var m=0;m<a.length;m++){var b=a[m];g&&b.done(g),y&&b.aborted(y),e.force&&b.duration(e.duration),b.start(e.easing)}return a}function jS(r,t,e){for(var n=0;n<e;n++)r[n]=t[n]}function Tet(r){return jn(r[0])}function Cet(r,t,e){if(jn(t[e]))if(jn(r[e])||(r[e]=[]),xi(t[e])){var n=t[e].length;r[e].length!==n&&(r[e]=new t[e].constructor(n),jS(r[e],t[e],n))}else{var i=t[e],a=r[e],o=i.length;if(Tet(i))for(var c=i[0].length,h=0;h<o;h++)a[h]?jS(a[h],i[h],c):a[h]=Array.prototype.slice.call(i[h]);else jS(a,i,o);a.length=i.length}else r[e]=t[e]}function Aet(r,t){return r===t||jn(r)&&jn(t)&&Met(r,t)}function Met(r,t){var e=r.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}function MB(r,t,e,n,i,a,o,c){for(var h=De(n),v=i.duration,g=i.delay,y=i.additive,m=i.setToFinal,b=!se(a),S=r.animators,E=[],C=0;C<h.length;C++){var A=h[C],M=n[A];if(M!=null&&e[A]!=null&&(b||a[A]))if(se(M)&&!jn(M)&&!E_(M)){if(t){c||(e[A]=M,r.updateDuringAnimation(t));continue}MB(r,A,e[A],M,i,a&&a[A],o,c)}else E.push(A);else c||(e[A]=M,r.updateDuringAnimation(t),E.push(A))}var L=E.length;if(!y&&L)for(var R=0;R<S.length;R++){var O=S[R];if(O.targetName===t){var P=O.stopTracks(E);if(P){var V=ve(S,O);S.splice(V,1)}}}if(i.force||(E=je(E,function(W){return!Aet(n[W],e[W])}),L=E.length),L>0||i.force&&!o.length){var k=void 0,F=void 0,H=void 0;if(c){F={},m&&(k={});for(var R=0;R<L;R++){var A=E[R];F[A]=e[A],m?k[A]=n[A]:e[A]=n[A]}}else if(m){H={};for(var R=0;R<L;R++){var A=E[R];H[A]=Gd(e[A]),Cet(e,n,A)}}var O=new eA(e,!1,!1,y?je(S,function(q){return q.targetName===t}):null);O.targetName=t,i.scope&&(O.scope=i.scope),m&&k&&O.whenWithKeys(0,k,E),H&&O.whenWithKeys(0,H,E),O.whenWithKeys(v??500,c?F:n,E).delay(g||0),r.addAnimator(O,t),o.push(O)}}var re=(function(r){pr(t,r);function t(e){var n=r.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===e)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,n){if(e&&e!==this&&e.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,n){var i=ve(this._children,e);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(e,n){var i=this._children,a=i[n];if(e&&e!==this&&e.parent!==this&&e!==a){i[n]=e,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var n=this.__zr;n&&n!==e.__zr&&e.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(e){var n=this.__zr,i=this._children,a=ve(i,e);return a<0?this:(i.splice(a,1),e.parent=null,n&&e.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var e=this._children,n=this.__zr,i=0;i<e.length;i++){var a=e[i];n&&a.removeSelfFromZr(n),a.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,n){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];e.call(n,o,a)}return this},t.prototype.traverse=function(e,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=e.call(n,a);a.isGroup&&!o&&a.traverse(e,n)}return this},t.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(e)}},t.prototype.getBoundingRect=function(e){for(var n=new le(0,0,0,0),i=e||this._children,a=[],o=null,c=0;c<i.length;c++){var h=i[c];if(!(h.ignore||h.invisible)){var v=h.getBoundingRect(),g=h.getLocalTransform(a);g?(le.applyTransform(n,v,g),o=o||n.clone(),o.union(n)):(o=o||v.clone(),o.union(v))}}return o||n},t})(N_);re.prototype.type="group";var Hm={},DB={};function Det(r){delete DB[r]}function Let(r){if(!r)return!1;if(typeof r=="string")return v0(r,1)<OE;if(r.colorStops){for(var t=r.colorStops,e=0,n=t.length,i=0;i<n;i++)e+=v0(t[i].color,1);return e/=n,e<OE}return!1}var Net=(function(){function r(t,e,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var a=new Utt,o=n.renderer||"canvas";Hm[o]||(o=De(Hm)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var c=new Hm[o](e,a,n,t),h=n.ssr||c.ssrOnly;this.storage=a,this.painter=c;var v=!Ae.node&&!Ae.worker&&!h?new _et(c.getViewportRoot(),c.root):null,g=n.useCoarsePointer,y=g==null||g==="auto"?Ae.touchEventsSupported:!!g,m=44,b;y&&(b=Jt(n.pointerSize,m)),this.handler=new sB(a,c,v,c.root,b),this.animation=new het({stage:{update:h?null:function(){return i._flush(!0)}}}),h||this.animation.start()}return r.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},r.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(t,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh())},r.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=Let(t))},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(t){this._darkMode=t},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},r.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},r.prototype.flush=function(){this._disposed||this._flush(!1)},r.prototype._flush=function(t){var e,n=qf();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=qf();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},r.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},r.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},r.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},r.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},r.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},r.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},r.prototype.findHover=function(t,e){if(!this._disposed)return this.handler.findHover(t,e)},r.prototype.on=function(t,e,n){return this._disposed||this.handler.on(t,e,n),this},r.prototype.off=function(t,e){this._disposed||this.handler.off(t,e)},r.prototype.trigger=function(t,e){this._disposed||this.handler.trigger(t,e)},r.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof re&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},r.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,Det(this.id))},r})();function j2(r,t){var e=new Net(tB(),r,t);return DB[e.id]=e,e}function Ret(r,t){Hm[r]=t}var VE;function Iet(r){if(typeof VE=="function")return VE(r)}function Oet(r){VE=r}var Y2=1e-4,LB=20;function Pet(r){return r.replace(/^\s+|\s+$/g,"")}var Bi=Math.min,Pr=Math.max,mo=Math.abs;function We(r,t,e,n){var i=t[0],a=t[1],o=e[0],c=e[1],h=a-i,v=c-o;if(h===0)return v===0?o:(o+c)/2;if(n)if(h>0){if(r<=i)return o;if(r>=a)return c}else{if(r>=i)return o;if(r<=a)return c}else{if(r===i)return o;if(r===a)return c}return(r-i)/h*v+o}var Yt=ket;function ket(r,t,e){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return b0(r,t,e)}function b0(r,t,e){return $t(r)?Pet(r).match(/%$/)?parseFloat(r)/100*t+(e||0):parseFloat(r):r==null?NaN:+r}function Ur(r,t,e){return t==null&&(t=10),t=Math.min(Math.max(0,t),LB),r=(+r).toFixed(t),e?r:+r}function sa(r){return r.sort(function(t,e){return t-e}),r}function _o(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(r*t)/t===r)return e}return Vet(r)}function Vet(r){var t=r.toString().toLowerCase(),e=t.indexOf("e"),n=e>0?+t.slice(e+1):0,i=e>0?e:t.length,a=t.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-n)}function NB(r,t){var e=Math.log,n=Math.LN10,i=Math.floor(e(r[1]-r[0])/n),a=Math.round(e(mo(t[1]-t[0]))/n),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function Get(r,t){var e=Lo(r,function(b,S){return b+(isNaN(S)?0:S)},0);if(e===0)return[];for(var n=Math.pow(10,t),i=Pt(r,function(b){return(isNaN(b)?0:b)/e*n*100}),a=n*100,o=Pt(i,function(b){return Math.floor(b)}),c=Lo(o,function(b,S){return b+S},0),h=Pt(i,function(b,S){return b-o[S]});c<a;){for(var v=Number.NEGATIVE_INFINITY,g=null,y=0,m=h.length;y<m;++y)h[y]>v&&(v=h[y],g=y);++o[g],h[g]=0,++c}return Pt(o,function(b){return b/n})}function Fet(r,t){var e=Math.max(_o(r),_o(t)),n=r+t;return e>LB?n:Ur(n,e)}var $2=9007199254740991;function RB(r){var t=Math.PI*2;return(r%t+t)%t}function rv(r){return r>-Y2&&r<Y2}var Bet=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ac(r){if(r instanceof Date)return r;if($t(r)){var t=Bet.exec(r);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function Het(r){return Math.pow(10,rA(r))}function rA(r){if(r===0)return 0;var t=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,t)>=10&&t++,t}function IB(r,t){var e=rA(r),n=Math.pow(10,e),i=r/n,a;return i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10,r=a*n,e>=-20?+r.toFixed(e<0?-e:0):r}function YS(r,t){var e=(r.length-1)*t+1,n=Math.floor(e),i=+r[n-1],a=e-n;return a?i+a*(r[n]-i):i}function q2(r){r.sort(function(h,v){return c(h,v,0)?-1:1});for(var t=-1/0,e=1,n=0;n<r.length;){for(var i=r[n].interval,a=r[n].close,o=0;o<2;o++)i[o]<=t&&(i[o]=t,a[o]=o?1:1-e),t=i[o],e=a[o];i[0]===i[1]&&a[0]*a[1]!==1?r.splice(n,1):n++}return r;function c(h,v,g){return h.interval[g]<v.interval[g]||h.interval[g]===v.interval[g]&&(h.close[g]-v.close[g]===(g?-1:1)||!g&&c(h,v,1))}}function gs(r){var t=parseFloat(r);return t==r&&(t!==0||!$t(r)||r.indexOf("x")<=0)?t:NaN}function OB(r){return!isNaN(gs(r))}function PB(){return Math.round(Math.random()*9)}function kB(r,t){return t===0?r:kB(t,r%t)}function X2(r,t){return r==null?t:t==null?r:r*t/kB(r,t)}var zet="[ECharts] ",Uet=typeof console<"u"&&console.warn&&console.log;function Wet(r,t,e){Uet&&console[r](zet+t)}function VB(r,t){Wet("error",r)}function ze(r){throw new Error(r)}function Z2(r,t,e){return(t-r)*e+r}var GB="series\0",FB="\0_ec_\0";function Qe(r){return r instanceof Array?r:r==null?[]:[r]}function vc(r,t,e){if(r){r[t]=r[t]||{},r.emphasis=r.emphasis||{},r.emphasis[t]=r.emphasis[t]||{};for(var n=0,i=e.length;n<i;n++){var a=e[n];!r.emphasis[t].hasOwnProperty(a)&&r[t].hasOwnProperty(a)&&(r.emphasis[t][a]=r[t][a])}}}var K2=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Dh(r){return se(r)&&!Rt(r)&&!(r instanceof Date)?r.value:r}function jet(r){return se(r)&&!(r instanceof Array)}function BB(r,t,e){var n=e==="normalMerge",i=e==="replaceMerge",a=e==="replaceAll";r=r||[],t=(t||[]).slice();var o=Kt();j(t,function(h,v){if(!se(h)){t[v]=null;return}});var c=Yet(r,o,e);return(n||i)&&$et(c,r,o,t),n&&qet(c,t),n||i?Xet(c,t,i):a&&Zet(c,t),Ket(c),c}function Yet(r,t,e){var n=[];if(e==="replaceAll")return n;for(var i=0;i<r.length;i++){var a=r[i];a&&a.id!=null&&t.set(a.id,i),n.push({existing:e==="replaceMerge"||nv(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function $et(r,t,e,n){j(n,function(i,a){if(!(!i||i.id==null)){var o=Fd(i.id),c=e.get(o);if(c!=null){var h=r[c];Yn(!h.newOption,'Duplicated option on id "'+o+'".'),h.newOption=i,h.existing=t[c],n[a]=null}}})}function qet(r,t){j(t,function(e,n){if(!(!e||e.name==null))for(var i=0;i<r.length;i++){var a=r[i].existing;if(!r[i].newOption&&a&&(a.id==null||e.id==null)&&!nv(e)&&!nv(a)&&HB("name",a,e)){r[i].newOption=e,t[n]=null;return}}})}function Xet(r,t,e){j(t,function(n){if(n){for(var i,a=0;(i=r[a])&&(i.newOption||nv(i.existing)||i.existing&&n.id!=null&&!HB("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=e):r.push({newOption:n,brandNew:e,existing:null,keyInfo:null}),a++}})}function Zet(r,t){j(t,function(e){r.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function Ket(r){var t=Kt();j(r,function(e){var n=e.existing;n&&t.set(n.id,e)}),j(r,function(e){var n=e.newOption;Yn(!n||n.id==null||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})}),j(r,function(e,n){var i=e.existing,a=e.newOption,o=e.keyInfo;if(se(a)){if(o.name=a.name!=null?Fd(a.name):i?i.name:GB+n,i)o.id=Fd(i.id);else if(a.id!=null)o.id=Fd(a.id);else{var c=0;do o.id="\0"+o.name+"\0"+c++;while(t.get(o.id))}t.set(o.id,e)}})}function HB(r,t,e){var n=en(t[r],null),i=en(e[r],null);return n!=null&&i!=null&&n===i}function Fd(r){return en(r,"")}function en(r,t){return r==null?t:$t(r)?r:Re(r)||hE(r)?r+"":t}function nA(r){var t=r.name;return!!(t&&t.indexOf(GB))}function nv(r){return r&&r.id!=null&&Fd(r.id).indexOf(FB)===0}function Jet(r){return FB+r}function Qet(r,t,e){j(r,function(n){var i=n.newOption;se(i)&&(n.keyInfo.mainType=t,n.keyInfo.subType=trt(t,i,n.existing,e))})}function trt(r,t,e,n){var i=t.type?t.type:e?e.subType:n.determineSubType(r,t);return i}function ert(r,t){var e={},n={};return i(r||[],e),i(t||[],n,e),[a(e),a(n)];function i(o,c,h){for(var v=0,g=o.length;v<g;v++){var y=en(o[v].seriesId,null);if(y==null)return;for(var m=Qe(o[v].dataIndex),b=h&&h[y],S=0,E=m.length;S<E;S++){var C=m[S];b&&b[C]?b[C]=null:(c[y]||(c[y]={}))[C]=1}}}function a(o,c){var h=[];for(var v in o)if(o.hasOwnProperty(v)&&o[v]!=null)if(c)h.push(+v);else{var g=a(o[v],!0);g.length&&h.push({seriesId:v,dataIndex:g})}return h}}function gc(r,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Rt(t.dataIndex)?Pt(t.dataIndex,function(e){return r.indexOfRawIndex(e)}):r.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Rt(t.name)?Pt(t.name,function(e){return r.indexOfName(e)}):r.indexOfName(t.name)}function xe(){var r="__ec_inner_"+rrt++;return function(t){return t[r]||(t[r]={})}}var rrt=PB();function ih(r,t,e){var n=iA(t,e),i=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,c=o,h=e?e.defaultMainType:null;return!i&&h&&a.set(h,{}),a.each(function(v,g){var y=Lh(r,g,v,{useDefault:h===g,enableAll:e&&e.enableAll!=null?e.enableAll:!0,enableNone:e&&e.enableNone!=null?e.enableNone:!0});c[g+"Models"]=y.models,c[g+"Model"]=y.models[0]}),c}function iA(r,t){var e;if($t(r)){var n={};n[r+"Index"]=0,e=n}else e=r;var i=Kt(),a={},o=!1;return j(e,function(c,h){if(h==="dataIndex"||h==="dataIndexInside"){a[h]=c;return}var v=h.match(/^(\w+)(Index|Id|Name)$/)||[],g=v[1],y=(v[2]||"").toLowerCase();if(!(!g||!y||t&&t.includeMainTypes&&ve(t.includeMainTypes,g)<0)){o=o||!!g;var m=i.get(g)||i.set(g,{});m[y]=c}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var Cr={useDefault:!0,enableAll:!1,enableNone:!1},nrt={useDefault:!1,enableAll:!0,enableNone:!0};function Lh(r,t,e,n){n=n||Cr;var i=e.index,a=e.id,o=e.name,c={models:null,specified:i!=null||a!=null||o!=null};if(!c.specified){var h=void 0;return c.models=n.useDefault&&(h=r.getComponent(t))?[h]:[],c}if(i==="none"||i===!1){if(n.enableNone)return c.models=[],c;i=-1}return i==="all"&&(n.enableAll?i=a=o=null:i=-1),c.models=r.queryComponents({mainType:t,index:i,id:a,name:o}),c}function irt(r,t,e){r.setAttribute?r.setAttribute(t,e):r[t]=e}function art(r){return r==="auto"?Ae.domSupported?"html":"richText":r||"html"}function GE(r,t){var e=Kt(),n=[];return j(r,function(i){var a=t(i);(e.get(a)||(n.push(a),e.set(a,[]))).push(i)}),{keys:n,buckets:e}}function zB(r,t,e,n,i){var a=t==null||t==="auto";if(n==null)return n;if(Re(n)){var o=Z2(e||0,n,i);return Ur(o,a?Math.max(_o(e||0),_o(n)):t)}else{if($t(n))return i<1?e:n;for(var c=[],h=e,v=n,g=Math.max(h?h.length:0,v.length),y=0;y<g;++y){var m=r.getDimensionInfo(y);if(m&&m.type==="ordinal")c[y]=(i<1&&h?h:v)[y];else{var b=h&&h[y]?h[y]:0,S=v[y],o=Z2(b,S,i);c[y]=Ur(o,a?Math.max(_o(b),_o(S)):t)}}return c}}var _l=(function(){function r(){}return r.prototype.reset=function(t,e,n,i){return this._list=t,this._step=i=i||1,this._idx=e,this._end=n??(i>0?t.length:0),this.item=null,this.key=NaN,this},r.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},r})();function $S(r){r.option=r.parentModel=r.ecModel=null}var ort=".",_u="___EC__COMPONENT__CONTAINER___",UB="___EC__EXTENDED_CLASS___";function bo(r){var t={main:"",sub:""};if(r){var e=r.split(ort);t.main=e[0]||"",t.sub=e[1]||""}return t}function srt(r){Yn(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function lrt(r){return!!(r&&r[UB])}function aA(r,t){r.$constructor=r,r.extend=function(e){var n=this,i;return urt(n)?i=(function(a){bt(o,a);function o(){return a.apply(this,arguments)||this}return o})(n):(i=function(){(e.$constructor||n).apply(this,arguments)},ltt(i,this)),At(i.prototype,e),i[UB]=!0,i.extend=this.extend,i.superCall=hrt,i.superApply=prt,i.superClass=n,i}}function urt(r){return ee(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function WB(r,t){r.extend=t.extend}var crt=Math.round(Math.random()*10);function frt(r){var t=["__\0is_clz",crt++].join("_");r.prototype[t]=!0,r.isInstance=function(e){return!!(e&&e[t])}}function hrt(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return this.superClass.prototype[t].apply(r,e)}function prt(r,t,e){return this.superClass.prototype[t].apply(r,e)}function R_(r){var t={};r.registerClass=function(n){var i=n.type||n.prototype.type;if(i){srt(i),n.prototype.type=i;var a=bo(i);if(!a.sub)t[a.main]=n;else if(a.sub!==_u){var o=e(a);o[a.sub]=n}}return n},r.getClass=function(n,i,a){var o=t[n];if(o&&o[_u]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return o},r.getClassesByMainType=function(n){var i=bo(n),a=[],o=t[i.main];return o&&o[_u]?j(o,function(c,h){h!==_u&&a.push(c)}):a.push(o),a},r.hasClass=function(n){var i=bo(n);return!!t[i.main]},r.getAllClassMainTypes=function(){var n=[];return j(t,function(i,a){n.push(a)}),n},r.hasSubTypes=function(n){var i=bo(n),a=t[i.main];return a&&a[_u]};function e(n){var i=t[n.main];return(!i||!i[_u])&&(i=t[n.main]={},i[_u]=!0),i}}function yc(r,t){for(var e=0;e<r.length;e++)r[e][1]||(r[e][1]=r[e][0]);return t=t||!1,function(n,i,a){for(var o={},c=0;c<r.length;c++){var h=r[c][1];if(!(i&&ve(i,h)>=0||a&&ve(a,h)<0)){var v=n.getShallow(h,t);v!=null&&(o[r[c][0]]=v)}}return o}}var drt=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],vrt=yc(drt),grt=(function(){function r(){}return r.prototype.getAreaStyle=function(t,e){return vrt(this,t,e)},r})(),FE=new fh(50);function yrt(r){if(typeof r=="string"){var t=FE.get(r);return t&&t.image}else return r}function oA(r,t,e,n,i){if(r)if(typeof r=="string"){if(t&&t.__zrImageSrc===r||!e)return t;var a=FE.get(r),o={hostEl:e,cb:n,cbPayload:i};return a?(t=a.image,!I_(t)&&a.pending.push(o)):(t=Na.loadImage(r,J2,J2),t.__zrImageSrc=r,FE.put(r,t.__cachedImgObj={image:t,pending:[o]})),t}else return r;else return t}function J2(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<r.pending.length;t++){var e=r.pending[t],n=e.cb;n&&n(this,e.cbPayload),e.hostEl.dirty()}r.pending.length=0}function I_(r){return r&&r.width&&r.height}var qS=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function mrt(r,t,e,n,i,a){if(!e){r.text="",r.isTruncated=!1;return}var o=(t+"").split(`
`);a=jB(e,n,i,a);for(var c=!1,h={},v=0,g=o.length;v<g;v++)YB(h,o[v],a),o[v]=h.textLine,c=c||h.isTruncated;r.text=o.join(`
`),r.isTruncated=c}function jB(r,t,e,n){n=n||{};var i=At({},n);e=Jt(e,"..."),i.maxIterations=Jt(n.maxIterations,2);var a=i.minChar=Jt(n.minChar,0),o=i.fontMeasureInfo=Ao(t),c=o.asciiCharWidth;i.placeholder=Jt(n.placeholder,"");for(var h=r=Math.max(0,r-1),v=0;v<a&&h>=c;v++)h-=c;var g=Mo(o,e);return g>h&&(e="",g=0),h=r-g,i.ellipsis=e,i.ellipsisWidth=g,i.contentWidth=h,i.containerWidth=r,i}function YB(r,t,e){var n=e.containerWidth,i=e.contentWidth,a=e.fontMeasureInfo;if(!n){r.textLine="",r.isTruncated=!1;return}var o=Mo(a,t);if(o<=n){r.textLine=t,r.isTruncated=!1;return}for(var c=0;;c++){if(o<=i||c>=e.maxIterations){t+=e.ellipsis;break}var h=c===0?_rt(t,i,a):o>0?Math.floor(t.length*i/o):0;t=t.substr(0,h),o=Mo(a,t)}t===""&&(t=e.placeholder),r.textLine=t,r.isTruncated=!0}function _rt(r,t,e){for(var n=0,i=0,a=r.length;i<a&&n<t;i++)n+=AB(e,r.charCodeAt(i));return i}function brt(r,t,e,n){var i=sA(r),a=t.overflow,o=t.padding,c=o?o[1]+o[3]:0,h=o?o[0]+o[2]:0,v=t.font,g=a==="truncate",y=Lv(v),m=Jt(t.lineHeight,y),b=t.lineOverflow==="truncate",S=!1,E=t.width;E==null&&e!=null&&(E=e-c);var C=t.height;C==null&&n!=null&&(C=n-h);var A;E!=null&&(a==="break"||a==="breakAll")?A=i?$B(i,t.font,E,a==="breakAll",0).lines:[]:A=i?i.split(`
`):[];var M=A.length*m;if(C==null&&(C=M),M>C&&b){var L=Math.floor(C/m);S=S||A.length>L,A=A.slice(0,L),M=A.length*m}if(i&&g&&E!=null)for(var R=jB(E,v,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),O={},P=0;P<A.length;P++)YB(O,A[P],R),A[P]=O.textLine,S=S||O.isTruncated;for(var V=C,k=0,F=Ao(v),P=0;P<A.length;P++)k=Math.max(Mo(F,A[P]),k);E==null&&(E=k);var H=E;return V+=h,H+=c,{lines:A,height:C,outerWidth:H,outerHeight:V,lineHeight:m,calculatedLineHeight:y,contentWidth:k,contentHeight:M,width:E,isTruncated:S}}var Srt=(function(){function r(){}return r})(),Q2=(function(){function r(t){this.tokens=[],t&&(this.tokens=t)}return r})(),wrt=(function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return r})();function xrt(r,t,e,n,i){var a=new wrt,o=sA(r);if(!o)return a;var c=t.padding,h=c?c[1]+c[3]:0,v=c?c[0]+c[2]:0,g=t.width;g==null&&e!=null&&(g=e-h);var y=t.height;y==null&&n!=null&&(y=n-v);for(var m=t.overflow,b=(m==="break"||m==="breakAll")&&g!=null?{width:g,accumWidth:0,breakAll:m==="breakAll"}:null,S=qS.lastIndex=0,E;(E=qS.exec(o))!=null;){var C=E.index;C>S&&XS(a,o.substring(S,C),t,b),XS(a,E[2],t,b,E[1]),S=qS.lastIndex}S<o.length&&XS(a,o.substring(S,o.length),t,b);var A=[],M=0,L=0,R=m==="truncate",O=t.lineOverflow==="truncate",P={};function V(Vt,Qt,Ht){Vt.width=Qt,Vt.lineHeight=Ht,M+=Ht,L=Math.max(L,Qt)}t:for(var k=0;k<a.lines.length;k++){for(var F=a.lines[k],H=0,W=0,q=0;q<F.tokens.length;q++){var Y=F.tokens[q],Z=Y.styleName&&t.rich[Y.styleName]||{},et=Y.textPadding=Z.padding,J=et?et[1]+et[3]:0,it=Y.font=Z.font||t.font;Y.contentHeight=Lv(it);var rt=Jt(Z.height,Y.contentHeight);if(Y.innerHeight=rt,et&&(rt+=et[0]+et[2]),Y.height=rt,Y.lineHeight=Fi(Z.lineHeight,t.lineHeight,rt),Y.align=Z&&Z.align||i,Y.verticalAlign=Z&&Z.verticalAlign||"middle",O&&y!=null&&M+Y.lineHeight>y){var st=a.lines.length;q>0?(F.tokens=F.tokens.slice(0,q),V(F,W,H),a.lines=a.lines.slice(0,k+1)):a.lines=a.lines.slice(0,k),a.isTruncated=a.isTruncated||a.lines.length<st;break t}var lt=Z.width,dt=lt==null||lt==="auto";if(typeof lt=="string"&&lt.charAt(lt.length-1)==="%")Y.percentWidth=lt,A.push(Y),Y.contentWidth=Mo(Ao(it),Y.text);else{if(dt){var pt=Z.backgroundColor,xt=pt&&pt.image;xt&&(xt=yrt(xt),I_(xt)&&(Y.width=Math.max(Y.width,xt.width*rt/xt.height)))}var Ft=R&&g!=null?g-W:null;Ft!=null&&Ft<Y.width?!dt||Ft<J?(Y.text="",Y.width=Y.contentWidth=0):(mrt(P,Y.text,Ft-J,it,t.ellipsis,{minChar:t.truncateMinChar}),Y.text=P.text,a.isTruncated=a.isTruncated||P.isTruncated,Y.width=Y.contentWidth=Mo(Ao(it),Y.text)):Y.contentWidth=Mo(Ao(it),Y.text)}Y.width+=J,W+=Y.width,Z&&(H=Math.max(H,Y.lineHeight))}V(F,W,H)}a.outerWidth=a.width=Jt(g,L),a.outerHeight=a.height=Jt(y,M),a.contentHeight=M,a.contentWidth=L,a.outerWidth+=h,a.outerHeight+=v;for(var k=0;k<A.length;k++){var Y=A[k],Ut=Y.percentWidth;Y.width=parseInt(Ut,10)/100*a.width}return a}function XS(r,t,e,n,i){var a=t==="",o=i&&e.rich[i]||{},c=r.lines,h=o.font||e.font,v=!1,g,y;if(n){var m=o.padding,b=m?m[1]+m[3]:0;if(o.width!=null&&o.width!=="auto"){var S=Ia(o.width,n.width)+b;c.length>0&&S+n.accumWidth>n.width&&(g=t.split(`
`),v=!0),n.accumWidth=S}else{var E=$B(t,h,n.width,n.breakAll,n.accumWidth);n.accumWidth=E.accumWidth+b,y=E.linesWidths,g=E.lines}}g||(g=t.split(`
`));for(var C=Ao(h),A=0;A<g.length;A++){var M=g[A],L=new Srt;if(L.styleName=i,L.text=M,L.isLineHolder=!M&&!a,typeof o.width=="number"?L.width=o.width:L.width=y?y[A]:Mo(C,M),!A&&!v){var R=(c[c.length-1]||(c[0]=new Q2)).tokens,O=R.length;O===1&&R[0].isLineHolder?R[0]=L:(M||!O||a)&&R.push(L)}else c.push(new Q2([L]))}}function Ert(r){var t=r.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var Trt=Lo(",&?/;] ".split(""),function(r,t){return r[t]=!0,r},{});function Crt(r){return Ert(r)?!!Trt[r]:!0}function $B(r,t,e,n,i){for(var a=[],o=[],c="",h="",v=0,g=0,y=Ao(t),m=0;m<r.length;m++){var b=r.charAt(m);if(b===`
`){h&&(c+=h,g+=v),a.push(c),o.push(g),c="",h="",v=0,g=0;continue}var S=AB(y,b.charCodeAt(0)),E=n?!1:!Crt(b);if(a.length?g+S>e:i+g+S>e){g?(c||h)&&(E?(c||(c=h,h="",v=0,g=v),a.push(c),o.push(g-v),h+=b,v+=S,c="",g=v):(h&&(c+=h,h="",v=0),a.push(c),o.push(g),c=b,g=S)):E?(a.push(h),o.push(v),h=b,v=S):(a.push(b),o.push(S));continue}g+=S,E?(h+=b,v+=S):(h&&(c+=h,h="",v=0),c+=b)}return h&&(c+=h),c&&(a.push(c),o.push(g)),a.length===1&&(g+=i),{accumWidth:g,lines:a,linesWidths:o}}function tO(r,t,e,n,i,a){if(r.baseX=e,r.baseY=n,r.outerWidth=r.outerHeight=null,!!t){var o=t.width*2,c=t.height*2;le.set(eO,hh(e,o,i),oc(n,c,a),o,c),le.intersect(t,eO,null,rO);var h=rO.outIntersectRect;r.outerWidth=h.width,r.outerHeight=h.height,r.baseX=hh(h.x,h.width,i,!0),r.baseY=oc(h.y,h.height,a,!0)}}var eO=new le(0,0,0,0),rO={outIntersectRect:{},clamp:!0};function sA(r){return r!=null?r+="":r=""}function Art(r){var t=sA(r.text),e=r.font,n=Mo(Ao(e),t),i=Lv(e);return BE(r,n,i,null)}function BE(r,t,e,n){var i=new le(hh(r.x||0,t,r.textAlign),oc(r.y||0,e,r.textBaseline),t,e),a=n??(qB(r)?r.lineWidth:0);return a>0&&(i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a),i}function qB(r){var t=r.stroke;return t!=null&&t!=="none"&&r.lineWidth>0}var HE="__zr_style_"+Math.round(Math.random()*10),sc={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},O_={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};sc[HE]=!0;var nO=["z","z2","invisible"],Mrt=["invisible"],ua=(function(r){pr(t,r);function t(e){return r.call(this,e)||this}return t.prototype._init=function(e){for(var n=De(e),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(e[a]):r.prototype.attrKV.call(this,a,e[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,n,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Drt(this,e,n)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths&&this.__clipPaths.length){for(var c=0;c<this.__clipPaths.length;++c)if(this.__clipPaths[c].isZeroArea())return!1}if(a&&this.parent)for(var h=this.parent;h;){if(h.ignore)return!1;h=h.parent}return!0},t.prototype.contain=function(e,n){return this.rectContain(e,n)},t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.rectContain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,c=a.shadowOffsetX||0,h=a.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new le(0,0,0,0)),n?le.applyTransform(e,i,n):e.copy(i),(o||c||h)&&(e.width+=o*2+Math.abs(c),e.height+=o*2+Math.abs(h),e.x=Math.min(e.x,e.x+c-o),e.y=Math.min(e.y,e.y+h-o));var v=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-v),e.y=Math.floor(e.y-v),e.width=Math.ceil(e.width+1+v*2),e.height=Math.ceil(e.height+1+v*2))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new le(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,n){e!=="style"?r.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,n){return typeof e=="string"?this.style[e]=n:At(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=pd,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&pd)},t.prototype.styleUpdated=function(){this.__dirty&=~pd},t.prototype.createStyle=function(e){return C_(sc,e)},t.prototype.useStyle=function(e){e[HE]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[HE]},t.prototype._innerSaveToNormal=function(e){r.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,nO)},t.prototype._applyStateObj=function(e,n,i,a,o,c){r.prototype._applyStateObj.call(this,e,n,i,a,o,c);var h=!(n&&a),v;if(n&&n.style?o?a?v=n.style:(v=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(v,n.style)):(v=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(v,n.style)):h&&(v=i.style),v)if(o){var g=this.style;if(this.style=this.createStyle(h?{}:g),h)for(var y=De(g),m=0;m<y.length;m++){var b=y[m];b in v&&(v[b]=v[b],this.style[b]=g[b])}for(var S=De(v),m=0;m<S.length;m++){var b=S[m];this.style[b]=this.style[b]}this._transitionState(e,{style:v},c,this.getAnimationStyleProps())}else this.useStyle(v);for(var E=this.__inHover?Mrt:nO,m=0;m<E.length;m++){var b=E[m];n&&n[b]!=null?this[b]=n[b]:h&&i[b]!=null&&(this[b]=i[b])}},t.prototype._mergeStates=function(e){for(var n=r.prototype._mergeStates.call(this,e),i,a=0;a<e.length;a++){var o=e[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(e,n){return At(e,n),e},t.prototype.getAnimationStyleProps=function(){return O_},t.initDefaultProps=(function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=Pi|pd})(),t})(N_),ZS=new le(0,0,0,0),KS=new le(0,0,0,0);function Drt(r,t,e){return ZS.copy(r.getBoundingRect()),r.transform&&ZS.applyTransform(r.transform),KS.width=t,KS.height=e,!ZS.intersect(KS)}var _i=Math.min,bi=Math.max,JS=Math.sin,QS=Math.cos,bu=Math.PI*2,Ay=Cc(),My=Cc(),Dy=Cc();function P_(r,t,e){if(r.length!==0){for(var n=r[0],i=n[0],a=n[0],o=n[1],c=n[1],h=1;h<r.length;h++)n=r[h],i=_i(i,n[0]),a=bi(a,n[0]),o=_i(o,n[1]),c=bi(c,n[1]);t[0]=i,t[1]=o,e[0]=a,e[1]=c}}function iO(r,t,e,n,i,a){i[0]=_i(r,e),i[1]=_i(t,n),a[0]=bi(r,e),a[1]=bi(t,n)}var aO=[],oO=[];function Lrt(r,t,e,n,i,a,o,c,h,v){var g=hB,y=ln,m=g(r,e,i,o,aO);h[0]=1/0,h[1]=1/0,v[0]=-1/0,v[1]=-1/0;for(var b=0;b<m;b++){var S=y(r,e,i,o,aO[b]);h[0]=_i(S,h[0]),v[0]=bi(S,v[0])}m=g(t,n,a,c,oO);for(var b=0;b<m;b++){var E=y(t,n,a,c,oO[b]);h[1]=_i(E,h[1]),v[1]=bi(E,v[1])}h[0]=_i(r,h[0]),v[0]=bi(r,v[0]),h[0]=_i(o,h[0]),v[0]=bi(o,v[0]),h[1]=_i(t,h[1]),v[1]=bi(t,v[1]),h[1]=_i(c,h[1]),v[1]=bi(c,v[1])}function Nrt(r,t,e,n,i,a,o,c){var h=dB,v=mn,g=bi(_i(h(r,e,i),1),0),y=bi(_i(h(t,n,a),1),0),m=v(r,e,i,g),b=v(t,n,a,y);o[0]=_i(r,i,m),o[1]=_i(t,a,b),c[0]=bi(r,i,m),c[1]=bi(t,a,b)}function Rrt(r,t,e,n,i,a,o,c,h){var v=sl,g=ll,y=Math.abs(i-a);if(y%bu<1e-4&&y>1e-4){c[0]=r-e,c[1]=t-n,h[0]=r+e,h[1]=t+n;return}if(Ay[0]=QS(i)*e+r,Ay[1]=JS(i)*n+t,My[0]=QS(a)*e+r,My[1]=JS(a)*n+t,v(c,Ay,My),g(h,Ay,My),i=i%bu,i<0&&(i=i+bu),a=a%bu,a<0&&(a=a+bu),i>a&&!o?a+=bu:i<a&&o&&(i+=bu),o){var m=a;a=i,i=m}for(var b=0;b<a;b+=Math.PI/2)b>i&&(Dy[0]=QS(b)*e+r,Dy[1]=JS(b)*n+t,v(c,Dy,c),g(h,Dy,h))}var rr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Su=[],wu=[],Qa=[],Ws=[],to=[],eo=[],tw=Math.min,ew=Math.max,xu=Math.cos,Eu=Math.sin,Xo=Math.abs,zE=Math.PI,Qs=zE*2,rw=typeof Float32Array<"u",Pp=[];function nw(r){var t=Math.round(r/zE*1e8)/1e8;return t%2*zE}function k_(r,t){var e=nw(r[0]);e<0&&(e+=Qs);var n=e-r[0],i=r[1];i+=n,!t&&i-e>=Qs?i=e+Qs:t&&e-i>=Qs?i=e-Qs:!t&&e>i?i=e+(Qs-nw(e-i)):t&&e<i&&(i=e-(Qs-nw(i-e))),r[0]=e,r[1]=i}var Io=(function(){function r(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(t,e,n){n=n||0,n>0&&(this._ux=Xo(n/y0/t)||0,this._uy=Xo(n/y0/e)||0)},r.prototype.setDPR=function(t){this.dpr=t},r.prototype.setContext=function(t){this._ctx=t},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(rr.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},r.prototype.lineTo=function(t,e){var n=Xo(t-this._xi),i=Xo(e-this._yi),a=n>this._ux||i>this._uy;if(this.addData(rr.L,t,e),this._ctx&&a&&this._ctx.lineTo(t,e),a)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},r.prototype.bezierCurveTo=function(t,e,n,i,a,o){return this._drawPendingPt(),this.addData(rr.C,t,e,n,i,a,o),this._ctx&&this._ctx.bezierCurveTo(t,e,n,i,a,o),this._xi=a,this._yi=o,this},r.prototype.quadraticCurveTo=function(t,e,n,i){return this._drawPendingPt(),this.addData(rr.Q,t,e,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,i),this._xi=n,this._yi=i,this},r.prototype.arc=function(t,e,n,i,a,o){this._drawPendingPt(),Pp[0]=i,Pp[1]=a,k_(Pp,o),i=Pp[0],a=Pp[1];var c=a-i;return this.addData(rr.A,t,e,n,n,i,c,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,a,o),this._xi=xu(a)*n+t,this._yi=Eu(a)*n+e,this},r.prototype.arcTo=function(t,e,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,i,a),this},r.prototype.rect=function(t,e,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,i),this.addData(rr.R,t,e,n,i),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(rr.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},r.prototype.fill=function(t){t&&t.fill(),this.toStatic()},r.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(t){if(this._saveData){var e=t.length;!(this.data&&this.data.length===e)&&rw&&(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e}},r.prototype.appendPath=function(t){if(this._saveData){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,a=0;a<e;a++)n+=t[a].len();var o=this.data;if(rw&&(o instanceof Float32Array||!o)&&(this.data=new Float32Array(i+n),i>0&&o))for(var c=0;c<i;c++)this.data[c]=o[c];for(var a=0;a<e;a++)for(var h=t[a].data,c=0;c<h.length;c++)this.data[i++]=h[c];this._len=i}},r.prototype.addData=function(t,e,n,i,a,o,c,h,v){if(this._saveData){var g=this.data;this._len+arguments.length>g.length&&(this._expandData(),g=this.data);for(var y=0;y<arguments.length;y++)g[this._len++]=arguments[y]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,rw&&this._len>11&&(this.data=new Float32Array(t)))}},r.prototype.getBoundingRect=function(){Qa[0]=Qa[1]=to[0]=to[1]=Number.MAX_VALUE,Ws[0]=Ws[1]=eo[0]=eo[1]=-Number.MAX_VALUE;var t=this.data,e=0,n=0,i=0,a=0,o;for(o=0;o<this._len;){var c=t[o++],h=o===1;switch(h&&(e=t[o],n=t[o+1],i=e,a=n),c){case rr.M:e=i=t[o++],n=a=t[o++],to[0]=i,to[1]=a,eo[0]=i,eo[1]=a;break;case rr.L:iO(e,n,t[o],t[o+1],to,eo),e=t[o++],n=t[o++];break;case rr.C:Lrt(e,n,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],to,eo),e=t[o++],n=t[o++];break;case rr.Q:Nrt(e,n,t[o++],t[o++],t[o],t[o+1],to,eo),e=t[o++],n=t[o++];break;case rr.A:var v=t[o++],g=t[o++],y=t[o++],m=t[o++],b=t[o++],S=t[o++]+b;o+=1;var E=!t[o++];h&&(i=xu(b)*y+v,a=Eu(b)*m+g),Rrt(v,g,y,m,b,S,E,to,eo),e=xu(S)*y+v,n=Eu(S)*m+g;break;case rr.R:i=e=t[o++],a=n=t[o++];var C=t[o++],A=t[o++];iO(i,a,i+C,a+A,to,eo);break;case rr.Z:e=i,n=a;break}sl(Qa,Qa,to),ll(Ws,Ws,eo)}return o===0&&(Qa[0]=Qa[1]=Ws[0]=Ws[1]=0),new le(Qa[0],Qa[1],Ws[0]-Qa[0],Ws[1]-Qa[1])},r.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,i=this._uy,a=0,o=0,c=0,h=0;this._pathSegLen||(this._pathSegLen=[]);for(var v=this._pathSegLen,g=0,y=0,m=0;m<e;){var b=t[m++],S=m===1;S&&(a=t[m],o=t[m+1],c=a,h=o);var E=-1;switch(b){case rr.M:a=c=t[m++],o=h=t[m++];break;case rr.L:{var C=t[m++],A=t[m++],M=C-a,L=A-o;(Xo(M)>n||Xo(L)>i||m===e-1)&&(E=Math.sqrt(M*M+L*L),a=C,o=A);break}case rr.C:{var R=t[m++],O=t[m++],C=t[m++],A=t[m++],P=t[m++],V=t[m++];E=Wtt(a,o,R,O,C,A,P,V,10),a=P,o=V;break}case rr.Q:{var R=t[m++],O=t[m++],C=t[m++],A=t[m++];E=Ytt(a,o,R,O,C,A,10),a=C,o=A;break}case rr.A:var k=t[m++],F=t[m++],H=t[m++],W=t[m++],q=t[m++],Y=t[m++],Z=Y+q;m+=1,S&&(c=xu(q)*H+k,h=Eu(q)*W+F),E=ew(H,W)*tw(Qs,Math.abs(Y)),a=xu(Z)*H+k,o=Eu(Z)*W+F;break;case rr.R:{c=a=t[m++],h=o=t[m++];var et=t[m++],J=t[m++];E=et*2+J*2;break}case rr.Z:{var M=c-a,L=h-o;E=Math.sqrt(M*M+L*L),a=c,o=h;break}}E>=0&&(v[y++]=E,g+=E)}return this._pathLen=g,g},r.prototype.rebuildPath=function(t,e){var n=this.data,i=this._ux,a=this._uy,o=this._len,c,h,v,g,y,m,b=e<1,S,E,C=0,A=0,M,L=0,R,O;if(!(b&&(this._pathSegLen||this._calculateLength(),S=this._pathSegLen,E=this._pathLen,M=e*E,!M)))t:for(var P=0;P<o;){var V=n[P++],k=P===1;switch(k&&(v=n[P],g=n[P+1],c=v,h=g),V!==rr.L&&L>0&&(t.lineTo(R,O),L=0),V){case rr.M:c=v=n[P++],h=g=n[P++],t.moveTo(v,g);break;case rr.L:{y=n[P++],m=n[P++];var F=Xo(y-v),H=Xo(m-g);if(F>i||H>a){if(b){var W=S[A++];if(C+W>M){var q=(M-C)/W;t.lineTo(v*(1-q)+y*q,g*(1-q)+m*q);break t}C+=W}t.lineTo(y,m),v=y,g=m,L=0}else{var Y=F*F+H*H;Y>L&&(R=y,O=m,L=Y)}break}case rr.C:{var Z=n[P++],et=n[P++],J=n[P++],it=n[P++],rt=n[P++],st=n[P++];if(b){var W=S[A++];if(C+W>M){var q=(M-C)/W;El(v,Z,J,rt,q,Su),El(g,et,it,st,q,wu),t.bezierCurveTo(Su[1],wu[1],Su[2],wu[2],Su[3],wu[3]);break t}C+=W}t.bezierCurveTo(Z,et,J,it,rt,st),v=rt,g=st;break}case rr.Q:{var Z=n[P++],et=n[P++],J=n[P++],it=n[P++];if(b){var W=S[A++];if(C+W>M){var q=(M-C)/W;Qd(v,Z,J,q,Su),Qd(g,et,it,q,wu),t.quadraticCurveTo(Su[1],wu[1],Su[2],wu[2]);break t}C+=W}t.quadraticCurveTo(Z,et,J,it),v=J,g=it;break}case rr.A:var lt=n[P++],dt=n[P++],pt=n[P++],xt=n[P++],Ft=n[P++],Ut=n[P++],Vt=n[P++],Qt=!n[P++],Ht=pt>xt?pt:xt,gt=Xo(pt-xt)>.001,Mt=Ft+Ut,Et=!1;if(b){var W=S[A++];C+W>M&&(Mt=Ft+Ut*(M-C)/W,Et=!0),C+=W}if(gt&&t.ellipse?t.ellipse(lt,dt,pt,xt,Vt,Ft,Mt,Qt):t.arc(lt,dt,Ht,Ft,Mt,Qt),Et)break t;k&&(c=xu(Ft)*pt+lt,h=Eu(Ft)*xt+dt),v=xu(Mt)*pt+lt,g=Eu(Mt)*xt+dt;break;case rr.R:c=v=n[P],h=g=n[P+1],y=n[P++],m=n[P++];var X=n[P++],ot=n[P++];if(b){var W=S[A++];if(C+W>M){var ht=M-C;t.moveTo(y,m),t.lineTo(y+tw(ht,X),m),ht-=X,ht>0&&t.lineTo(y+X,m+tw(ht,ot)),ht-=ot,ht>0&&t.lineTo(y+ew(X-ht,0),m+ot),ht-=X,ht>0&&t.lineTo(y,m+ew(ot-ht,0));break t}C+=W}t.rect(y,m,X,ot);break;case rr.Z:if(b){var W=S[A++];if(C+W>M){var q=(M-C)/W;t.lineTo(v*(1-q)+c*q,g*(1-q)+h*q);break t}C+=W}t.closePath(),v=c,g=h}}},r.prototype.clone=function(){var t=new r,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},r.prototype.canSave=function(){return!!this._saveData},r.CMD=rr,r.initDefaultProps=(function(){var t=r.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0})(),r})();function nl(r,t,e,n,i,a,o){if(i===0)return!1;var c=i,h=0,v=r;if(o>t+c&&o>n+c||o<t-c&&o<n-c||a>r+c&&a>e+c||a<r-c&&a<e-c)return!1;if(r!==e)h=(t-n)/(r-e),v=(r*n-e*t)/(r-e);else return Math.abs(a-r)<=c/2;var g=h*a-o+v,y=g*g/(h*h+1);return y<=c/2*c/2}function Irt(r,t,e,n,i,a,o,c,h,v,g){if(h===0)return!1;var y=h;if(g>t+y&&g>n+y&&g>a+y&&g>c+y||g<t-y&&g<n-y&&g<a-y&&g<c-y||v>r+y&&v>e+y&&v>i+y&&v>o+y||v<r-y&&v<e-y&&v<i-y&&v<o-y)return!1;var m=pB(r,t,e,n,i,a,o,c,v,g,null);return m<=y/2}function XB(r,t,e,n,i,a,o,c,h){if(o===0)return!1;var v=o;if(h>t+v&&h>n+v&&h>a+v||h<t-v&&h<n-v&&h<a-v||c>r+v&&c>e+v&&c>i+v||c<r-v&&c<e-v&&c<i-v)return!1;var g=vB(r,t,e,n,i,a,c,h,null);return g<=v/2}var sO=Math.PI*2;function Vi(r){return r%=sO,r<0&&(r+=sO),r}var kp=Math.PI*2;function Ort(r,t,e,n,i,a,o,c,h){if(o===0)return!1;var v=o;c-=r,h-=t;var g=Math.sqrt(c*c+h*h);if(g-v>e||g+v<e)return!1;if(Math.abs(n-i)%kp<1e-4)return!0;if(a){var y=n;n=Vi(i),i=Vi(y)}else n=Vi(n),i=Vi(i);n>i&&(i+=kp);var m=Math.atan2(h,c);return m<0&&(m+=kp),m>=n&&m<=i||m+kp>=n&&m+kp<=i}function rs(r,t,e,n,i,a){if(a>t&&a>n||a<t&&a<n||n===t)return 0;var o=(a-t)/(n-t),c=n<t?1:-1;(o===1||o===0)&&(c=n<t?.5:-.5);var h=o*(e-r)+r;return h===i?1/0:h>i?c:0}var js=Io.CMD,Tu=Math.PI*2,Prt=1e-4;function krt(r,t){return Math.abs(r-t)<Prt}var ni=[-1,-1,-1],ta=[-1,-1];function Vrt(){var r=ta[0];ta[0]=ta[1],ta[1]=r}function Grt(r,t,e,n,i,a,o,c,h,v){if(v>t&&v>n&&v>a&&v>c||v<t&&v<n&&v<a&&v<c)return 0;var g=p0(t,n,a,c,v,ni);if(g===0)return 0;for(var y=0,m=-1,b=void 0,S=void 0,E=0;E<g;E++){var C=ni[E],A=C===0||C===1?.5:1,M=ln(r,e,i,o,C);M<h||(m<0&&(m=hB(t,n,a,c,ta),ta[1]<ta[0]&&m>1&&Vrt(),b=ln(t,n,a,c,ta[0]),m>1&&(S=ln(t,n,a,c,ta[1]))),m===2?C<ta[0]?y+=b<t?A:-A:C<ta[1]?y+=S<b?A:-A:y+=c<S?A:-A:C<ta[0]?y+=b<t?A:-A:y+=c<b?A:-A)}return y}function Frt(r,t,e,n,i,a,o,c){if(c>t&&c>n&&c>a||c<t&&c<n&&c<a)return 0;var h=jtt(t,n,a,c,ni);if(h===0)return 0;var v=dB(t,n,a);if(v>=0&&v<=1){for(var g=0,y=mn(t,n,a,v),m=0;m<h;m++){var b=ni[m]===0||ni[m]===1?.5:1,S=mn(r,e,i,ni[m]);S<o||(ni[m]<v?g+=y<t?b:-b:g+=a<y?b:-b)}return g}else{var b=ni[0]===0||ni[0]===1?.5:1,S=mn(r,e,i,ni[0]);return S<o?0:a<t?b:-b}}function Brt(r,t,e,n,i,a,o,c){if(c-=t,c>e||c<-e)return 0;var h=Math.sqrt(e*e-c*c);ni[0]=-h,ni[1]=h;var v=Math.abs(n-i);if(v<1e-4)return 0;if(v>=Tu-1e-4){n=0,i=Tu;var g=a?1:-1;return o>=ni[0]+r&&o<=ni[1]+r?g:0}if(n>i){var y=n;n=i,i=y}n<0&&(n+=Tu,i+=Tu);for(var m=0,b=0;b<2;b++){var S=ni[b];if(S+r>o){var E=Math.atan2(c,S),g=a?1:-1;E<0&&(E=Tu+E),(E>=n&&E<=i||E+Tu>=n&&E+Tu<=i)&&(E>Math.PI/2&&E<Math.PI*1.5&&(g=-g),m+=g)}}return m}function ZB(r,t,e,n,i){for(var a=r.data,o=r.len(),c=0,h=0,v=0,g=0,y=0,m,b,S=0;S<o;){var E=a[S++],C=S===1;switch(E===js.M&&S>1&&(e||(c+=rs(h,v,g,y,n,i))),C&&(h=a[S],v=a[S+1],g=h,y=v),E){case js.M:g=a[S++],y=a[S++],h=g,v=y;break;case js.L:if(e){if(nl(h,v,a[S],a[S+1],t,n,i))return!0}else c+=rs(h,v,a[S],a[S+1],n,i)||0;h=a[S++],v=a[S++];break;case js.C:if(e){if(Irt(h,v,a[S++],a[S++],a[S++],a[S++],a[S],a[S+1],t,n,i))return!0}else c+=Grt(h,v,a[S++],a[S++],a[S++],a[S++],a[S],a[S+1],n,i)||0;h=a[S++],v=a[S++];break;case js.Q:if(e){if(XB(h,v,a[S++],a[S++],a[S],a[S+1],t,n,i))return!0}else c+=Frt(h,v,a[S++],a[S++],a[S],a[S+1],n,i)||0;h=a[S++],v=a[S++];break;case js.A:var A=a[S++],M=a[S++],L=a[S++],R=a[S++],O=a[S++],P=a[S++];S+=1;var V=!!(1-a[S++]);m=Math.cos(O)*L+A,b=Math.sin(O)*R+M,C?(g=m,y=b):c+=rs(h,v,m,b,n,i);var k=(n-A)*R/L+A;if(e){if(Ort(A,M,R,O,O+P,V,t,k,i))return!0}else c+=Brt(A,M,R,O,O+P,V,k,i);h=Math.cos(O+P)*L+A,v=Math.sin(O+P)*R+M;break;case js.R:g=h=a[S++],y=v=a[S++];var F=a[S++],H=a[S++];if(m=g+F,b=y+H,e){if(nl(g,y,m,y,t,n,i)||nl(m,y,m,b,t,n,i)||nl(m,b,g,b,t,n,i)||nl(g,b,g,y,t,n,i))return!0}else c+=rs(m,y,m,b,n,i),c+=rs(g,b,g,y,n,i);break;case js.Z:if(e){if(nl(h,v,g,y,t,n,i))return!0}else c+=rs(h,v,g,y,n,i);h=g,v=y;break}}return!e&&!krt(v,y)&&(c+=rs(h,v,g,y,n,i)||0),c!==0}function Hrt(r,t,e){return ZB(r,0,!1,t,e)}function zrt(r,t,e,n){return ZB(r,t,!0,e,n)}var S0=oe({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},sc),Urt={style:oe({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},O_.style)},iw=Ro.concat(["invisible","culling","z","z2","zlevel","parent"]),Ee=(function(r){pr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.update=function(){var e=this;r.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(h){e.buildPath(h,e.shape)}),i.silent=!0;var a=i.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var c=0;c<iw.length;++c)i[iw[c]]=this[iw[c]];i.__dirty|=Pi}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var n=De(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var o=n[a],c=e[o];o==="style"?this.style?At(this.style,c):this.useStyle(c):o==="shape"?At(this.shape,c):r.prototype.attrKV.call(this,o,c)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if($t(e)){var n=v0(e,0);return n>.5?PE:n>.2?bet:kE}else if(e)return kE}return PE},t.prototype.getInsideTextStroke=function(e){var n=this.style.fill;if($t(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=v0(e,0)<OE;if(a===o)return n}},t.prototype.buildPath=function(e,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=~Uf},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new Io(!1)},t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return!(n==null||n==="none"||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var e=this._rect,n=this.style,i=!e;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&Uf)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),e=o.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var c=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||i){c.copy(e);var h=n.strokeNoScale?this.getLineScale():1,v=n.lineWidth;if(!this.hasFill()){var g=this.strokeContainThreshold;v=Math.max(v,g??4)}h>1e-10&&(c.width+=v/h,c.height+=v/h,c.x-=v/h/2,c.y-=v/h/2)}return c}return e},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect(),o=this.style;if(e=i[0],n=i[1],a.contain(e,n)){var c=this.path;if(this.hasStroke()){var h=o.lineWidth,v=o.strokeNoScale?this.getLineScale():1;if(v>1e-10&&(this.hasFill()||(h=Math.max(h,this.strokeContainThreshold)),zrt(c,h/v,e,n)))return!0}if(this.hasFill())return Hrt(c,e,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Uf,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,n){e==="shape"?this.setShape(n):r.prototype.attrKV.call(this,e,n)},t.prototype.setShape=function(e,n){var i=this.shape;return i||(i=this.shape={}),typeof e=="string"?i[e]=n:At(i,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Uf)},t.prototype.createStyle=function(e){return C_(S0,e)},t.prototype._innerSaveToNormal=function(e){r.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=At({},this.shape))},t.prototype._applyStateObj=function(e,n,i,a,o,c){r.prototype._applyStateObj.call(this,e,n,i,a,o,c);var h=!(n&&a),v;if(n&&n.shape?o?a?v=n.shape:(v=At({},i.shape),At(v,n.shape)):(v=At({},a?this.shape:i.shape),At(v,n.shape)):h&&(v=i.shape),v)if(o){this.shape=At({},this.shape);for(var g={},y=De(v),m=0;m<y.length;m++){var b=y[m];typeof v[b]=="object"?this.shape[b]=v[b]:g[b]=v[b]}this._transitionState(e,{shape:g},c)}else this.shape=v,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var n=r.prototype._mergeStates.call(this,e),i,a=0;a<e.length;a++){var o=e[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return Urt},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=(function(a){pr(o,a);function o(c){var h=a.call(this,c)||this;return e.init&&e.init.call(h,c),h}return o.prototype.getDefaultStyle=function(){return ne(e.style)},o.prototype.getDefaultShape=function(){return ne(e.shape)},o})(t);for(var i in e)typeof e[i]=="function"&&(n.prototype[i]=e[i]);return n},t.initDefaultProps=(function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=Pi|pd|Uf})(),t})(ua),Wrt=oe({strokeFirst:!0,font:ds,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},S0),ph=(function(r){pr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.hasStroke=function(){return qB(this.style)},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(e){return C_(Wrt,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){return this._rect||(this._rect=Art(this.style)),this._rect},t.initDefaultProps=(function(){var e=t.prototype;e.dirtyRectTolerance=10})(),t})(ua);ph.prototype.type="tspan";var jrt=oe({x:0,y:0},sc),Yrt={style:oe({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},O_.style)};function $rt(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var wn=(function(r){pr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createStyle=function(e){return C_(jrt,e)},t.prototype._getSize=function(e){var n=this.style,i=n[e];if(i!=null)return i;var a=$rt(n.image)?n.image:this.__image;if(!a)return 0;var o=e==="width"?"height":"width",c=n[o];return c==null?a[e]:a[e]/a[o]*c},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return Yrt},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new le(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t})(ua);wn.prototype.type="image";function qrt(r,t){var e=t.x,n=t.y,i=t.width,a=t.height,o=t.r,c,h,v,g;i<0&&(e=e+i,i=-i),a<0&&(n=n+a,a=-a),typeof o=="number"?c=h=v=g=o:o instanceof Array?o.length===1?c=h=v=g=o[0]:o.length===2?(c=v=o[0],h=g=o[1]):o.length===3?(c=o[0],h=g=o[1],v=o[2]):(c=o[0],h=o[1],v=o[2],g=o[3]):c=h=v=g=0;var y;c+h>i&&(y=c+h,c*=i/y,h*=i/y),v+g>i&&(y=v+g,v*=i/y,g*=i/y),h+v>a&&(y=h+v,h*=a/y,v*=a/y),c+g>a&&(y=c+g,c*=a/y,g*=a/y),r.moveTo(e+c,n),r.lineTo(e+i-h,n),h!==0&&r.arc(e+i-h,n+h,h,-Math.PI/2,0),r.lineTo(e+i,n+a-v),v!==0&&r.arc(e+i-v,n+a-v,v,0,Math.PI/2),r.lineTo(e+g,n+a),g!==0&&r.arc(e+g,n+a-g,g,Math.PI/2,Math.PI),r.lineTo(e,n+c),c!==0&&r.arc(e+c,n+c,c,Math.PI,Math.PI*1.5)}var Xf=Math.round;function V_(r,t,e){if(t){var n=t.x1,i=t.x2,a=t.y1,o=t.y2;r.x1=n,r.x2=i,r.y1=a,r.y2=o;var c=e&&e.lineWidth;return c&&(Xf(n*2)===Xf(i*2)&&(r.x1=r.x2=Gi(n,c,!0)),Xf(a*2)===Xf(o*2)&&(r.y1=r.y2=Gi(a,c,!0))),r}}function KB(r,t,e){if(t){var n=t.x,i=t.y,a=t.width,o=t.height;r.x=n,r.y=i,r.width=a,r.height=o;var c=e&&e.lineWidth;return c&&(r.x=Gi(n,c,!0),r.y=Gi(i,c,!0),r.width=Math.max(Gi(n+a,c,!1)-r.x,a===0?0:1),r.height=Math.max(Gi(i+o,c,!1)-r.y,o===0?0:1)),r}}function Gi(r,t,e){if(!t)return r;var n=Xf(r*2);return(n+Xf(t))%2===0?n/2:(n+(e?1:-1))/2}var Xrt=(function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r})(),Zrt={},we=(function(r){pr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Xrt},t.prototype.buildPath=function(e,n){var i,a,o,c;if(this.subPixelOptimize){var h=KB(Zrt,n,this.style);i=h.x,a=h.y,o=h.width,c=h.height,h.r=n.r,n=h}else i=n.x,a=n.y,o=n.width,c=n.height;n.r?qrt(e,n):e.rect(i,a,o,c)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t})(Ee);we.prototype.type="rect";var lO={fill:"#000"},uO=2,ro={},Krt={style:oe({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},O_.style)},Oe=(function(r){pr(t,r);function t(e){var n=r.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=lO,n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):r.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):r.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,tnt(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},t.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new le(0,0,0,0),n=this._children,i=[],a=null,o=0;o<n.length;o++){var c=n[o],h=c.getBoundingRect(),v=c.getLocalTransform(i);v?(e.copy(h),e.applyTransform(v),a=a||e.clone(),a.union(e)):(a=a||h.clone(),a.union(h))}this._rect=a||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||lO},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,n){if(!n)return e;var i=n.rich,a=e.rich||i&&{};return At(e,n),i&&a?(this._mergeRich(a,i),e.rich=a):a&&(e.rich=a),e},t.prototype._mergeRich=function(e,n){for(var i=De(n),a=0;a<i.length;a++){var o=i[a];e[o]=e[o]||{},At(e[o],n[o])}},t.prototype.getAnimationStyleProps=function(){return Krt},t.prototype._getOrCreateChild=function(e){var n=this._children[this._childCursor];return(!n||!(n instanceof e))&&(n=new e),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var e=this.style,n=e.font||ds,i=e.padding,a=this._defaultStyle,o=e.x||0,c=e.y||0,h=e.align||a.align||"left",v=e.verticalAlign||a.verticalAlign||"top";tO(ro,a.overflowRect,o,c,h,v),o=ro.baseX,c=ro.baseY;var g=gO(e),y=brt(g,e,ro.outerWidth,ro.outerHeight),m=aw(e),b=!!e.backgroundColor,S=y.outerHeight,E=y.outerWidth,C=y.lines,A=y.lineHeight;this.isTruncated=!!y.isTruncated;var M=o,L=oc(c,y.contentHeight,v);if(m||i){var R=hh(o,E,h),O=oc(c,S,v);m&&this._renderBackground(e,e,R,O,E,S)}L+=A/2,i&&(M=vO(o,h,i),v==="top"?L+=i[0]:v==="bottom"&&(L-=i[2]));for(var P=0,V=!1,k=!1,F=dO("fill"in e?e.fill:(k=!0,a.fill)),H=pO("stroke"in e?e.stroke:!b&&(!a.autoStroke||k)?(P=uO,V=!0,a.stroke):null),W=e.textShadowBlur>0,q=0;q<C.length;q++){var Y=this._getOrCreateChild(ph),Z=Y.createStyle();Y.useStyle(Z),Z.text=C[q],Z.x=M,Z.y=L,Z.textAlign=h,Z.textBaseline="middle",Z.opacity=e.opacity,Z.strokeFirst=!0,W&&(Z.shadowBlur=e.textShadowBlur||0,Z.shadowColor=e.textShadowColor||"transparent",Z.shadowOffsetX=e.textShadowOffsetX||0,Z.shadowOffsetY=e.textShadowOffsetY||0),Z.stroke=H,Z.fill=F,H&&(Z.lineWidth=e.lineWidth||P,Z.lineDash=e.lineDash,Z.lineDashOffset=e.lineDashOffset||0),Z.font=n,fO(Z,e),L+=A,Y.setBoundingRect(BE(Z,y.contentWidth,y.calculatedLineHeight,V?0:null))}},t.prototype._updateRichTexts=function(){var e=this.style,n=this._defaultStyle,i=e.align||n.align,a=e.verticalAlign||n.verticalAlign,o=e.x||0,c=e.y||0;tO(ro,n.overflowRect,o,c,i,a),o=ro.baseX,c=ro.baseY;var h=gO(e),v=xrt(h,e,ro.outerWidth,ro.outerHeight,i),g=v.width,y=v.outerWidth,m=v.outerHeight,b=e.padding;this.isTruncated=!!v.isTruncated;var S=hh(o,y,i),E=oc(c,m,a),C=S,A=E;b&&(C+=b[3],A+=b[0]);var M=C+g;aw(e)&&this._renderBackground(e,e,S,E,y,m);for(var L=!!e.backgroundColor,R=0;R<v.lines.length;R++){for(var O=v.lines[R],P=O.tokens,V=P.length,k=O.lineHeight,F=O.width,H=0,W=C,q=M,Y=V-1,Z=void 0;H<V&&(Z=P[H],!Z.align||Z.align==="left");)this._placeToken(Z,e,k,A,W,"left",L),F-=Z.width,W+=Z.width,H++;for(;Y>=0&&(Z=P[Y],Z.align==="right");)this._placeToken(Z,e,k,A,q,"right",L),F-=Z.width,q-=Z.width,Y--;for(W+=(g-(W-C)-(M-q)-F)/2;H<=Y;)Z=P[H],this._placeToken(Z,e,k,A,W+Z.width/2,"center",L),W+=Z.width,H++;A+=k}},t.prototype._placeToken=function(e,n,i,a,o,c,h){var v=n.rich[e.styleName]||{};v.text=e.text;var g=e.verticalAlign,y=a+i/2;g==="top"?y=a+e.height/2:g==="bottom"&&(y=a+i-e.height/2);var m=!e.isLineHolder&&aw(v);m&&this._renderBackground(v,n,c==="right"?o-e.width:c==="center"?o-e.width/2:o,y-e.height/2,e.width,e.height);var b=!!v.backgroundColor,S=e.textPadding;S&&(o=vO(o,c,S),y-=e.height/2-S[0]-e.innerHeight/2);var E=this._getOrCreateChild(ph),C=E.createStyle();E.useStyle(C);var A=this._defaultStyle,M=!1,L=0,R=!1,O=dO("fill"in v?v.fill:"fill"in n?n.fill:(M=!0,A.fill)),P=pO("stroke"in v?v.stroke:"stroke"in n?n.stroke:!b&&!h&&(!A.autoStroke||M)?(L=uO,R=!0,A.stroke):null),V=v.textShadowBlur>0||n.textShadowBlur>0;C.text=e.text,C.x=o,C.y=y,V&&(C.shadowBlur=v.textShadowBlur||n.textShadowBlur||0,C.shadowColor=v.textShadowColor||n.textShadowColor||"transparent",C.shadowOffsetX=v.textShadowOffsetX||n.textShadowOffsetX||0,C.shadowOffsetY=v.textShadowOffsetY||n.textShadowOffsetY||0),C.textAlign=c,C.textBaseline="middle",C.font=e.font||ds,C.opacity=Fi(v.opacity,n.opacity,1),fO(C,v),P&&(C.lineWidth=Fi(v.lineWidth,n.lineWidth,L),C.lineDash=Jt(v.lineDash,n.lineDash),C.lineDashOffset=n.lineDashOffset||0,C.stroke=P),O&&(C.fill=O),E.setBoundingRect(BE(C,e.contentWidth,e.contentHeight,R?0:null))},t.prototype._renderBackground=function(e,n,i,a,o,c){var h=e.backgroundColor,v=e.borderWidth,g=e.borderColor,y=h&&h.image,m=h&&!y,b=e.borderRadius,S=this,E,C;if(m||e.lineHeight||v&&g){E=this._getOrCreateChild(we),E.useStyle(E.createStyle()),E.style.fill=null;var A=E.shape;A.x=i,A.y=a,A.width=o,A.height=c,A.r=b,E.dirtyShape()}if(m){var M=E.style;M.fill=h||null,M.fillOpacity=Jt(e.fillOpacity,1)}else if(y){C=this._getOrCreateChild(wn),C.onload=function(){S.dirtyStyle()};var L=C.style;L.image=h.image,L.x=i,L.y=a,L.width=o,L.height=c}if(v&&g){var M=E.style;M.lineWidth=v,M.stroke=g,M.strokeOpacity=Jt(e.strokeOpacity,1),M.lineDash=e.borderDash,M.lineDashOffset=e.borderDashOffset||0,E.strokeContainThreshold=0,E.hasFill()&&E.hasStroke()&&(M.strokeFirst=!0,M.lineWidth*=2)}var R=(E||C).style;R.shadowBlur=e.shadowBlur||0,R.shadowColor=e.shadowColor||"transparent",R.shadowOffsetX=e.shadowOffsetX||0,R.shadowOffsetY=e.shadowOffsetY||0,R.opacity=Fi(e.opacity,n.opacity,1)},t.makeFont=function(e){var n="";return QB(e)&&(n=[e.fontStyle,e.fontWeight,JB(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),n&&oa(n)||e.textFont||e.font},t})(ua),Jrt={left:!0,right:1,center:1},Qrt={top:1,bottom:1,middle:1},cO=["fontStyle","fontWeight","fontSize","fontFamily"];function JB(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?WC+"px":r+"px"}function fO(r,t){for(var e=0;e<cO.length;e++){var n=cO[e],i=t[n];i!=null&&(r[n]=i)}}function QB(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function tnt(r){return hO(r),j(r.rich,hO),r}function hO(r){if(r){r.font=Oe.makeFont(r);var t=r.align;t==="middle"&&(t="center"),r.align=t==null||Jrt[t]?t:"left";var e=r.verticalAlign;e==="center"&&(e="middle"),r.verticalAlign=e==null||Qrt[e]?e:"top";var n=r.padding;n&&(r.padding=T_(r.padding))}}function pO(r,t){return r==null||t<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function dO(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function vO(r,t,e){return t==="right"?r-e[1]:t==="center"?r+e[3]/2-e[1]/2:r+e[3]}function gO(r){var t=r.text;return t!=null&&(t+=""),t}function aw(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var ce=xe(),UE=function(r,t,e,n){if(n){var i=ce(n);i.dataIndex=e,i.dataType=t,i.seriesIndex=r,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var o=ce(a);o.seriesIndex=r,o.dataIndex=e,o.dataType=t,o.ssrType="chart"})}},yO=1,mO={},tH=xe(),lA=xe(),uA=0,Nv=1,G_=2,hi=["emphasis","blur","select"],iv=["normal","emphasis","blur","select"],Nh=10,ent=9,lc="highlight",zm="downplay",w0="select",WE="unselect",x0="toggleSelect",cA="selectchanged";function _f(r){return r!=null&&r!=="none"}function F_(r,t,e){r.onHoverStateChange&&(r.hoverState||0)!==e&&r.onHoverStateChange(t),r.hoverState=e}function eH(r){F_(r,"emphasis",G_)}function rH(r){r.hoverState===G_&&F_(r,"normal",uA)}function fA(r){F_(r,"blur",Nv)}function nH(r){r.hoverState===Nv&&F_(r,"normal",uA)}function rnt(r){r.selected=!0}function nnt(r){r.selected=!1}function _O(r,t,e){t(r,e)}function xs(r,t,e){_O(r,t,e),r.isGroup&&r.traverse(function(n){_O(n,t,e)})}function E0(r,t){switch(t){case"emphasis":r.hoverState=G_;break;case"normal":r.hoverState=uA;break;case"blur":r.hoverState=Nv;break;case"select":r.selected=!0}}function int(r,t,e,n){for(var i=r.style,a={},o=0;o<t.length;o++){var c=t[o],h=i[c];a[c]=h??(n&&n[c])}for(var o=0;o<r.animators.length;o++){var v=r.animators[o];v.__fromStateTransition&&v.__fromStateTransition.indexOf(e)<0&&v.targetName==="style"&&v.saveTo(a,t)}return a}function ant(r,t,e,n){var i=e&&ve(e,"select")>=0,a=!1;if(r instanceof Ee){var o=tH(r),c=i&&o.selectFill||o.normalFill,h=i&&o.selectStroke||o.normalStroke;if(_f(c)||_f(h)){n=n||{};var v=n.style||{};v.fill==="inherit"?(a=!0,n=At({},n),v=At({},v),v.fill=c):!_f(v.fill)&&_f(c)?(a=!0,n=At({},n),v=At({},v),v.fill=AE(c)):!_f(v.stroke)&&_f(h)&&(a||(n=At({},n),v=At({},v)),v.stroke=AE(h)),n.style=v}}if(n&&n.z2==null){a||(n=At({},n));var g=r.z2EmphasisLift;n.z2=r.z2+(g??Nh)}return n}function ont(r,t,e){if(e&&e.z2==null){e=At({},e);var n=r.z2SelectLift;e.z2=r.z2+(n??ent)}return e}function snt(r,t,e){var n=ve(r.currentStates,t)>=0,i=r.style.opacity,a=n?null:int(r,["opacity"],t,{opacity:1});e=e||{};var o=e.style||{};return o.opacity==null&&(e=At({},e),o=At({opacity:n?i:a.opacity*.1},o),e.style=o),e}function ow(r,t){var e=this.states[r];if(this.style){if(r==="emphasis")return ant(this,r,t,e);if(r==="blur")return snt(this,r,e);if(r==="select")return ont(this,r,e)}return e}function mc(r){r.stateProxy=ow;var t=r.getTextContent(),e=r.getTextGuideLine();t&&(t.stateProxy=ow),e&&(e.stateProxy=ow)}function bO(r,t){!sH(r,t)&&!r.__highByOuter&&xs(r,eH)}function SO(r,t){!sH(r,t)&&!r.__highByOuter&&xs(r,rH)}function ys(r,t){r.__highByOuter|=1<<(t||0),xs(r,eH)}function ms(r,t){!(r.__highByOuter&=~(1<<(t||0)))&&xs(r,rH)}function iH(r){xs(r,fA)}function hA(r){xs(r,nH)}function aH(r){xs(r,rnt)}function oH(r){xs(r,nnt)}function sH(r,t){return r.__highDownSilentOnTouch&&t.zrByTouch}function lH(r){var t=r.getModel(),e=[],n=[];t.eachComponent(function(i,a){var o=lA(a),c=i==="series",h=c?r.getViewOfSeriesModel(a):r.getViewOfComponentModel(a);!c&&n.push(h),o.isBlured&&(h.group.traverse(function(v){nH(v)}),c&&e.push(a)),o.isBlured=!1}),j(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(e,!1,t)})}function jE(r,t,e,n){var i=n.getModel();e=e||"coordinateSystem";function a(v,g){for(var y=0;y<g.length;y++){var m=v.getItemGraphicEl(g[y]);m&&hA(m)}}if(r!=null&&!(!t||t==="none")){var o=i.getSeriesByIndex(r),c=o.coordinateSystem;c&&c.master&&(c=c.master);var h=[];i.eachSeries(function(v){var g=o===v,y=v.coordinateSystem;y&&y.master&&(y=y.master);var m=y&&c?y===c:g;if(!(e==="series"&&!g||e==="coordinateSystem"&&!m||t==="series"&&g)){var b=n.getViewOfSeriesModel(v);if(b.group.traverse(function(C){C.__highByOuter&&g&&t==="self"||fA(C)}),jn(t))a(v.getData(),t);else if(se(t))for(var S=De(t),E=0;E<S.length;E++)a(v.getData(S[E]),t[S[E]]);h.push(v),lA(v).isBlured=!0}}),i.eachComponent(function(v,g){if(v!=="series"){var y=n.getViewOfComponentModel(g);y&&y.toggleBlurSeries&&y.toggleBlurSeries(h,!0,i)}})}}function YE(r,t,e){if(!(r==null||t==null)){var n=e.getModel().getComponent(r,t);if(n){lA(n).isBlured=!0;var i=e.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){fA(a)})}}}function lnt(r,t,e){var n=r.seriesIndex,i=r.getData(t.dataType);if(i){var a=gc(i,t);a=(Rt(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var c=i.count(),h=0;!o&&h<c;)o=i.getItemGraphicEl(h++);if(o){var v=ce(o);jE(n,v.focus,v.blurScope,e)}else{var g=r.get(["emphasis","focus"]),y=r.get(["emphasis","blurScope"]);g!=null&&jE(n,g,y,e)}}}function pA(r,t,e,n){var i={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||t==null||e==null)return i;var a=n.getModel().getComponent(r,t);if(!a)return i;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var c=o.findHighDownDispatchers(e),h,v=0;v<c.length;v++)if(ce(c[v]).focus==="self"){h=!0;break}return{focusSelf:h,dispatchers:c}}function unt(r,t,e){var n=ce(r),i=pA(n.componentMainType,n.componentIndex,n.componentHighDownName,e),a=i.dispatchers,o=i.focusSelf;a?(o&&YE(n.componentMainType,n.componentIndex,e),j(a,function(c){return bO(c,t)})):(jE(n.seriesIndex,n.focus,n.blurScope,e),n.focus==="self"&&YE(n.componentMainType,n.componentIndex,e),bO(r,t))}function cnt(r,t,e){lH(e);var n=ce(r),i=pA(n.componentMainType,n.componentIndex,n.componentHighDownName,e).dispatchers;i?j(i,function(a){return SO(a,t)}):SO(r,t)}function fnt(r,t,e){if(qE(t)){var n=t.dataType,i=r.getData(n),a=gc(i,t);Rt(a)||(a=[a]),r[t.type===x0?"toggleSelect":t.type===w0?"select":"unselect"](a,n)}}function wO(r){var t=r.getAllData();j(t,function(e){var n=e.data,i=e.type;n.eachItemGraphicEl(function(a,o){r.isSelected(o,i)?aH(a):oH(a)})})}function hnt(r){var t=[];return r.eachSeries(function(e){var n=e.getAllData();j(n,function(i){i.data;var a=i.type,o=e.getSelectedDataIndices();if(o.length>0){var c={dataIndex:o,seriesIndex:e.seriesIndex};a!=null&&(c.dataType=a),t.push(c)}})}),t}function uc(r,t,e){Ju(r,!0),xs(r,mc),$E(r,t,e)}function pnt(r){Ju(r,!1)}function gr(r,t,e,n){n?pnt(r):uc(r,t,e)}function $E(r,t,e){var n=ce(r);t!=null?(n.focus=t,n.blurScope=e):n.focus&&(n.focus=null)}var xO=["emphasis","blur","select"],dnt={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function rn(r,t,e,n){e=e||"itemStyle";for(var i=0;i<xO.length;i++){var a=xO[i],o=t.getModel([a,e]),c=r.ensureState(a);c.style=n?n(o):o[dnt[e]]()}}function Ju(r,t){var e=t===!1,n=r;r.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!e||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!e)}function av(r){return!!(r&&r.__highDownDispatcher)}function vnt(r,t,e){var n=ce(r);n.componentMainType=t.mainType,n.componentIndex=t.componentIndex,n.componentHighDownName=e}function gnt(r){var t=mO[r];return t==null&&yO<=32&&(t=mO[r]=yO++),t}function qE(r){var t=r.type;return t===w0||t===WE||t===x0}function EO(r){var t=r.type;return t===lc||t===zm}function ynt(r){var t=tH(r);t.normalFill=r.style.fill,t.normalStroke=r.style.stroke;var e=r.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}var bf=Io.CMD,mnt=[[],[],[]],TO=Math.sqrt,_nt=Math.atan2;function uH(r,t){if(t){var e=r.data,n=r.len(),i,a,o,c,h,v,g=bf.M,y=bf.C,m=bf.L,b=bf.R,S=bf.A,E=bf.Q;for(o=0,c=0;o<n;){switch(i=e[o++],c=o,a=0,i){case g:a=1;break;case m:a=1;break;case y:a=3;break;case E:a=2;break;case S:var C=t[4],A=t[5],M=TO(t[0]*t[0]+t[1]*t[1]),L=TO(t[2]*t[2]+t[3]*t[3]),R=_nt(-t[1]/L,t[0]/M);e[o]*=M,e[o++]+=C,e[o]*=L,e[o++]+=A,e[o++]*=M,e[o++]*=L,e[o++]+=R,e[o++]+=R,o+=2,c=o;break;case b:v[0]=e[o++],v[1]=e[o++],Vr(v,v,t),e[c++]=v[0],e[c++]=v[1],v[0]+=e[o++],v[1]+=e[o++],Vr(v,v,t),e[c++]=v[0],e[c++]=v[1]}for(h=0;h<a;h++){var O=mnt[h];O[0]=e[o++],O[1]=e[o++],Vr(O,O,t),e[c++]=O[0],e[c++]=O[1]}}r.increaseVersion()}}var sw=Math.sqrt,Ly=Math.sin,Ny=Math.cos,Vp=Math.PI;function CO(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function XE(r,t){return(r[0]*t[0]+r[1]*t[1])/(CO(r)*CO(t))}function AO(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(XE(r,t))}function MO(r,t,e,n,i,a,o,c,h,v,g){var y=h*(Vp/180),m=Ny(y)*(r-e)/2+Ly(y)*(t-n)/2,b=-1*Ly(y)*(r-e)/2+Ny(y)*(t-n)/2,S=m*m/(o*o)+b*b/(c*c);S>1&&(o*=sw(S),c*=sw(S));var E=(i===a?-1:1)*sw((o*o*(c*c)-o*o*(b*b)-c*c*(m*m))/(o*o*(b*b)+c*c*(m*m)))||0,C=E*o*b/c,A=E*-c*m/o,M=(r+e)/2+Ny(y)*C-Ly(y)*A,L=(t+n)/2+Ly(y)*C+Ny(y)*A,R=AO([1,0],[(m-C)/o,(b-A)/c]),O=[(m-C)/o,(b-A)/c],P=[(-1*m-C)/o,(-1*b-A)/c],V=AO(O,P);if(XE(O,P)<=-1&&(V=Vp),XE(O,P)>=1&&(V=0),V<0){var k=Math.round(V/Vp*1e6)/1e6;V=Vp*2+k%2*Vp}g.addData(v,M,L,o,c,R,V,y,a)}var bnt=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Snt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function wnt(r){var t=new Io;if(!r)return t;var e=0,n=0,i=e,a=n,o,c=Io.CMD,h=r.match(bnt);if(!h)return t;for(var v=0;v<h.length;v++){for(var g=h[v],y=g.charAt(0),m=void 0,b=g.match(Snt)||[],S=b.length,E=0;E<S;E++)b[E]=parseFloat(b[E]);for(var C=0;C<S;){var A=void 0,M=void 0,L=void 0,R=void 0,O=void 0,P=void 0,V=void 0,k=e,F=n,H=void 0,W=void 0;switch(y){case"l":e+=b[C++],n+=b[C++],m=c.L,t.addData(m,e,n);break;case"L":e=b[C++],n=b[C++],m=c.L,t.addData(m,e,n);break;case"m":e+=b[C++],n+=b[C++],m=c.M,t.addData(m,e,n),i=e,a=n,y="l";break;case"M":e=b[C++],n=b[C++],m=c.M,t.addData(m,e,n),i=e,a=n,y="L";break;case"h":e+=b[C++],m=c.L,t.addData(m,e,n);break;case"H":e=b[C++],m=c.L,t.addData(m,e,n);break;case"v":n+=b[C++],m=c.L,t.addData(m,e,n);break;case"V":n=b[C++],m=c.L,t.addData(m,e,n);break;case"C":m=c.C,t.addData(m,b[C++],b[C++],b[C++],b[C++],b[C++],b[C++]),e=b[C-2],n=b[C-1];break;case"c":m=c.C,t.addData(m,b[C++]+e,b[C++]+n,b[C++]+e,b[C++]+n,b[C++]+e,b[C++]+n),e+=b[C-2],n+=b[C-1];break;case"S":A=e,M=n,H=t.len(),W=t.data,o===c.C&&(A+=e-W[H-4],M+=n-W[H-3]),m=c.C,k=b[C++],F=b[C++],e=b[C++],n=b[C++],t.addData(m,A,M,k,F,e,n);break;case"s":A=e,M=n,H=t.len(),W=t.data,o===c.C&&(A+=e-W[H-4],M+=n-W[H-3]),m=c.C,k=e+b[C++],F=n+b[C++],e+=b[C++],n+=b[C++],t.addData(m,A,M,k,F,e,n);break;case"Q":k=b[C++],F=b[C++],e=b[C++],n=b[C++],m=c.Q,t.addData(m,k,F,e,n);break;case"q":k=b[C++]+e,F=b[C++]+n,e+=b[C++],n+=b[C++],m=c.Q,t.addData(m,k,F,e,n);break;case"T":A=e,M=n,H=t.len(),W=t.data,o===c.Q&&(A+=e-W[H-4],M+=n-W[H-3]),e=b[C++],n=b[C++],m=c.Q,t.addData(m,A,M,e,n);break;case"t":A=e,M=n,H=t.len(),W=t.data,o===c.Q&&(A+=e-W[H-4],M+=n-W[H-3]),e+=b[C++],n+=b[C++],m=c.Q,t.addData(m,A,M,e,n);break;case"A":L=b[C++],R=b[C++],O=b[C++],P=b[C++],V=b[C++],k=e,F=n,e=b[C++],n=b[C++],m=c.A,MO(k,F,e,n,P,V,L,R,O,m,t);break;case"a":L=b[C++],R=b[C++],O=b[C++],P=b[C++],V=b[C++],k=e,F=n,e+=b[C++],n+=b[C++],m=c.A,MO(k,F,e,n,P,V,L,R,O,m,t);break}}(y==="z"||y==="Z")&&(m=c.Z,t.addData(m),e=i,n=a),o=m}return t.toStatic(),t}var cH=(function(r){pr(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.applyTransform=function(e){},t})(Ee);function fH(r){return r.setData!=null}function hH(r,t){var e=wnt(r),n=At({},t);return n.buildPath=function(i){var a=fH(i);if(a&&i.canSave()){i.appendPath(e);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=a?i.getContext():i;o&&e.rebuildPath(o,1)}},n.applyTransform=function(i){uH(e,i),this.dirtyShape()},n}function pH(r,t){return new cH(hH(r,t))}function xnt(r,t){var e=hH(r,t),n=(function(i){pr(a,i);function a(o){var c=i.call(this,o)||this;return c.applyTransform=e.applyTransform,c.buildPath=e.buildPath,c}return a})(cH);return n}function Ent(r,t){for(var e=[],n=r.length,i=0;i<n;i++){var a=r[i];e.push(a.getUpdatedPathProxy(!0))}var o=new Ee(t);return o.createPathProxy(),o.buildPath=function(c){if(fH(c)){c.appendPath(e);var h=c.getContext();h&&c.rebuildPath(h,1)}},o}function dA(r,t){t=t||{};var e=new Ee;return r.shape&&e.setShape(r.shape),e.setStyle(r.style),t.bakeTransform?uH(e.path,r.getComputedTransform()):t.toLocal?e.setLocalTransform(r.getComputedTransform()):e.copyTransform(r),e.buildPath=r.buildPath,e.applyTransform=e.applyTransform,e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel,e}var Tnt=(function(){function r(){this.cx=0,this.cy=0,this.r=0}return r})(),Es=(function(r){pr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Tnt},t.prototype.buildPath=function(e,n){e.moveTo(n.cx+n.r,n.cy),e.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t})(Ee);Es.prototype.type="circle";var Cnt=(function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r})(),B_=(function(r){pr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Cnt},t.prototype.buildPath=function(e,n){var i=.5522848,a=n.cx,o=n.cy,c=n.rx,h=n.ry,v=c*i,g=h*i;e.moveTo(a-c,o),e.bezierCurveTo(a-c,o-g,a-v,o-h,a,o-h),e.bezierCurveTo(a+v,o-h,a+c,o-g,a+c,o),e.bezierCurveTo(a+c,o+g,a+v,o+h,a,o+h),e.bezierCurveTo(a-v,o+h,a-c,o+g,a-c,o),e.closePath()},t})(Ee);B_.prototype.type="ellipse";var dH=Math.PI,lw=dH*2,Cu=Math.sin,Sf=Math.cos,Ant=Math.acos,Bn=Math.atan2,DO=Math.abs,Bd=Math.sqrt,vd=Math.max,no=Math.min,wa=1e-4;function Mnt(r,t,e,n,i,a,o,c){var h=e-r,v=n-t,g=o-i,y=c-a,m=y*h-g*v;if(!(m*m<wa))return m=(g*(t-a)-y*(r-i))/m,[r+m*h,t+m*v]}function Ry(r,t,e,n,i,a,o){var c=r-e,h=t-n,v=(o?a:-a)/Bd(c*c+h*h),g=v*h,y=-v*c,m=r+g,b=t+y,S=e+g,E=n+y,C=(m+S)/2,A=(b+E)/2,M=S-m,L=E-b,R=M*M+L*L,O=i-a,P=m*E-S*b,V=(L<0?-1:1)*Bd(vd(0,O*O*R-P*P)),k=(P*L-M*V)/R,F=(-P*M-L*V)/R,H=(P*L+M*V)/R,W=(-P*M+L*V)/R,q=k-C,Y=F-A,Z=H-C,et=W-A;return q*q+Y*Y>Z*Z+et*et&&(k=H,F=W),{cx:k,cy:F,x0:-g,y0:-y,x1:k*(i/O-1),y1:F*(i/O-1)}}function Dnt(r){var t;if(Rt(r)){var e=r.length;if(!e)return r;e===1?t=[r[0],r[0],0,0]:e===2?t=[r[0],r[0],r[1],r[1]]:e===3?t=r.concat(r[2]):t=r}else t=[r,r,r,r];return t}function Lnt(r,t){var e,n=vd(t.r,0),i=vd(t.r0||0,0),a=n>0,o=i>0;if(!(!a&&!o)){if(a||(n=i,i=0),i>n){var c=n;n=i,i=c}var h=t.startAngle,v=t.endAngle;if(!(isNaN(h)||isNaN(v))){var g=t.cx,y=t.cy,m=!!t.clockwise,b=DO(v-h),S=b>lw&&b%lw;if(S>wa&&(b=S),!(n>wa))r.moveTo(g,y);else if(b>lw-wa)r.moveTo(g+n*Sf(h),y+n*Cu(h)),r.arc(g,y,n,h,v,!m),i>wa&&(r.moveTo(g+i*Sf(v),y+i*Cu(v)),r.arc(g,y,i,v,h,m));else{var E=void 0,C=void 0,A=void 0,M=void 0,L=void 0,R=void 0,O=void 0,P=void 0,V=void 0,k=void 0,F=void 0,H=void 0,W=void 0,q=void 0,Y=void 0,Z=void 0,et=n*Sf(h),J=n*Cu(h),it=i*Sf(v),rt=i*Cu(v),st=b>wa;if(st){var lt=t.cornerRadius;lt&&(e=Dnt(lt),E=e[0],C=e[1],A=e[2],M=e[3]);var dt=DO(n-i)/2;if(L=no(dt,A),R=no(dt,M),O=no(dt,E),P=no(dt,C),F=V=vd(L,R),H=k=vd(O,P),(V>wa||k>wa)&&(W=n*Sf(v),q=n*Cu(v),Y=i*Sf(h),Z=i*Cu(h),b<dH)){var pt=Mnt(et,J,Y,Z,W,q,it,rt);if(pt){var xt=et-pt[0],Ft=J-pt[1],Ut=W-pt[0],Vt=q-pt[1],Qt=1/Cu(Ant((xt*Ut+Ft*Vt)/(Bd(xt*xt+Ft*Ft)*Bd(Ut*Ut+Vt*Vt)))/2),Ht=Bd(pt[0]*pt[0]+pt[1]*pt[1]);F=no(V,(n-Ht)/(Qt+1)),H=no(k,(i-Ht)/(Qt-1))}}}if(!st)r.moveTo(g+et,y+J);else if(F>wa){var gt=no(A,F),Mt=no(M,F),Et=Ry(Y,Z,et,J,n,gt,m),X=Ry(W,q,it,rt,n,Mt,m);r.moveTo(g+Et.cx+Et.x0,y+Et.cy+Et.y0),F<V&&gt===Mt?r.arc(g+Et.cx,y+Et.cy,F,Bn(Et.y0,Et.x0),Bn(X.y0,X.x0),!m):(gt>0&&r.arc(g+Et.cx,y+Et.cy,gt,Bn(Et.y0,Et.x0),Bn(Et.y1,Et.x1),!m),r.arc(g,y,n,Bn(Et.cy+Et.y1,Et.cx+Et.x1),Bn(X.cy+X.y1,X.cx+X.x1),!m),Mt>0&&r.arc(g+X.cx,y+X.cy,Mt,Bn(X.y1,X.x1),Bn(X.y0,X.x0),!m))}else r.moveTo(g+et,y+J),r.arc(g,y,n,h,v,!m);if(!(i>wa)||!st)r.lineTo(g+it,y+rt);else if(H>wa){var gt=no(E,H),Mt=no(C,H),Et=Ry(it,rt,W,q,i,-Mt,m),X=Ry(et,J,Y,Z,i,-gt,m);r.lineTo(g+Et.cx+Et.x0,y+Et.cy+Et.y0),H<k&&gt===Mt?r.arc(g+Et.cx,y+Et.cy,H,Bn(Et.y0,Et.x0),Bn(X.y0,X.x0),!m):(Mt>0&&r.arc(g+Et.cx,y+Et.cy,Mt,Bn(Et.y0,Et.x0),Bn(Et.y1,Et.x1),!m),r.arc(g,y,i,Bn(Et.cy+Et.y1,Et.cx+Et.x1),Bn(X.cy+X.y1,X.cx+X.x1),m),gt>0&&r.arc(g+X.cx,y+X.cy,gt,Bn(X.y1,X.x1),Bn(X.y0,X.x0),!m))}else r.lineTo(g+it,y+rt),r.arc(g,y,i,v,h,m)}r.closePath()}}}var Nnt=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r})(),$n=(function(r){pr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Nnt},t.prototype.buildPath=function(e,n){Lnt(e,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t})(Ee);$n.prototype.type="sector";var Rnt=(function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r})(),Rv=(function(r){pr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Rnt},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,o=Math.PI*2;e.moveTo(i+n.r,a),e.arc(i,a,n.r,0,o,!1),e.moveTo(i+n.r0,a),e.arc(i,a,n.r0,0,o,!0)},t})(Ee);Rv.prototype.type="ring";function Int(r,t,e,n){var i=[],a=[],o=[],c=[],h,v,g,y;if(n){g=[1/0,1/0],y=[-1/0,-1/0];for(var m=0,b=r.length;m<b;m++)sl(g,g,r[m]),ll(y,y,r[m]);sl(g,g,n[0]),ll(y,y,n[1])}for(var m=0,b=r.length;m<b;m++){var S=r[m];if(e)h=r[m?m-1:b-1],v=r[(m+1)%b];else if(m===0||m===b-1){i.push(ss(r[m]));continue}else h=r[m-1],v=r[m+1];Zu(a,v,h),Pm(a,a,t);var E=gE(S,h),C=gE(S,v),A=E+C;A!==0&&(E/=A,C/=A),Pm(o,a,-E),Pm(c,a,C);var M=m2([],S,o),L=m2([],S,c);n&&(ll(M,M,g),sl(M,M,y),ll(L,L,g),sl(L,L,y)),i.push(M),i.push(L)}return e&&i.push(i.shift()),i}function vH(r,t,e){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var a=Int(i,n,e,t.smoothConstraint);r.moveTo(i[0][0],i[0][1]);for(var o=i.length,c=0;c<(e?o:o-1);c++){var h=a[c*2],v=a[c*2+1],g=i[(c+1)%o];r.bezierCurveTo(h[0],h[1],v[0],v[1],g[0],g[1])}}else{r.moveTo(i[0][0],i[0][1]);for(var c=1,y=i.length;c<y;c++)r.lineTo(i[c][0],i[c][1])}e&&r.closePath()}}var Ont=(function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r})(),qn=(function(r){pr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new Ont},t.prototype.buildPath=function(e,n){vH(e,n,!0)},t})(Ee);qn.prototype.type="polygon";var Pnt=(function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r})(),In=(function(r){pr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Pnt},t.prototype.buildPath=function(e,n){vH(e,n,!1)},t})(Ee);In.prototype.type="polyline";var knt={},Vnt=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r})(),Wr=(function(r){pr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Vnt},t.prototype.buildPath=function(e,n){var i,a,o,c;if(this.subPixelOptimize){var h=V_(knt,n,this.style);i=h.x1,a=h.y1,o=h.x2,c=h.y2}else i=n.x1,a=n.y1,o=n.x2,c=n.y2;var v=n.percent;v!==0&&(e.moveTo(i,a),v<1&&(o=i*(1-v)+o*v,c=a*(1-v)+c*v),e.lineTo(o,c))},t.prototype.pointAt=function(e){var n=this.shape;return[n.x1*(1-e)+n.x2*e,n.y1*(1-e)+n.y2*e]},t})(Ee);Wr.prototype.type="line";var yi=[],Gnt=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r})();function LO(r,t,e){var n=r.cpx2,i=r.cpy2;return n!=null||i!=null?[(e?N2:ln)(r.x1,r.cpx1,r.cpx2,r.x2,t),(e?N2:ln)(r.y1,r.cpy1,r.cpy2,r.y2,t)]:[(e?xE:mn)(r.x1,r.cpx1,r.x2,t),(e?xE:mn)(r.y1,r.cpy1,r.y2,t)]}var Iv=(function(r){pr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Gnt},t.prototype.buildPath=function(e,n){var i=n.x1,a=n.y1,o=n.x2,c=n.y2,h=n.cpx1,v=n.cpy1,g=n.cpx2,y=n.cpy2,m=n.percent;m!==0&&(e.moveTo(i,a),g==null||y==null?(m<1&&(Qd(i,h,o,m,yi),h=yi[1],o=yi[2],Qd(a,v,c,m,yi),v=yi[1],c=yi[2]),e.quadraticCurveTo(h,v,o,c)):(m<1&&(El(i,h,g,o,m,yi),h=yi[1],g=yi[2],o=yi[3],El(a,v,y,c,m,yi),v=yi[1],y=yi[2],c=yi[3]),e.bezierCurveTo(h,v,g,y,o,c)))},t.prototype.pointAt=function(e){return LO(this.shape,e,!1)},t.prototype.tangentAt=function(e){var n=LO(this.shape,e,!0);return Mh(n,n)},t})(Ee);Iv.prototype.type="bezier-curve";var Fnt=(function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),H_=(function(r){pr(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Fnt},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,o=Math.max(n.r,0),c=n.startAngle,h=n.endAngle,v=n.clockwise,g=Math.cos(c),y=Math.sin(c);e.moveTo(g*o+i,y*o+a),e.arc(i,a,o,c,h,!v)},t})(Ee);H_.prototype.type="arc";var z_=(function(r){pr(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="compound",e}return t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,n=this.shapeChanged(),i=0;i<e.length;i++)n=n||e[i].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<e.length;i++)e[i].path||e[i].createPathProxy(),e[i].path.setScale(n[0],n[1],e[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(e,i[a].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],n=0;n<e.length;n++)e[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Ee.prototype.getBoundingRect.call(this)},t})(Ee),gH=(function(){function r(t){this.colorStops=t||[]}return r.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},r})(),Rh=(function(r){pr(t,r);function t(e,n,i,a,o,c){var h=r.call(this,o)||this;return h.x=e??0,h.y=n??0,h.x2=i??1,h.y2=a??0,h.type="linear",h.global=c||!1,h}return t})(gH),yH=(function(r){pr(t,r);function t(e,n,i,a,o){var c=r.call(this,a)||this;return c.x=e??.5,c.y=n??.5,c.r=i??.5,c.type="radial",c.global=o||!1,c}return t})(gH),uw=Math.min,Bnt=Math.max,Iy=Math.abs,Au=[0,0],Mu=[0,0],yn=aB(),Oy=yn.minTv,Py=yn.maxTv,mH=(function(){function r(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new ae;for(var n=0;n<2;n++)this._axes[n]=new ae;t&&this.fromBoundingRect(t,e)}return r.prototype.fromBoundingRect=function(t,e){var n=this._corners,i=this._axes,a=t.x,o=t.y,c=a+t.width,h=o+t.height;if(n[0].set(a,o),n[1].set(c,o),n[2].set(c,h),n[3].set(a,h),e)for(var v=0;v<4;v++)n[v].transform(e);ae.sub(i[0],n[1],n[0]),ae.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var v=0;v<2;v++)this._origin[v]=i[v].dot(n[0])},r.prototype.intersect=function(t,e,n){var i=!0,a=!e;return e&&ae.set(e,0,0),yn.reset(n,!a),!this._intersectCheckOneSide(this,t,a,1)&&(i=!1,a)||!this._intersectCheckOneSide(t,this,a,-1)&&(i=!1,a)||!a&&!yn.negativeSize&&ae.copy(e,i?yn.useDir?yn.dirMinTv:Oy:Py),i},r.prototype._intersectCheckOneSide=function(t,e,n,i){for(var a=!0,o=0;o<2;o++){var c=t._axes[o];if(t._getProjMinMaxOnAxis(o,t._corners,Au),t._getProjMinMaxOnAxis(o,e._corners,Mu),yn.negativeSize||Au[1]<Mu[0]||Au[0]>Mu[1]){if(a=!1,yn.negativeSize||n)return a;var h=Iy(Mu[0]-Au[1]),v=Iy(Au[0]-Mu[1]);uw(h,v)>Py.len()&&(h<v?ae.scale(Py,c,-h*i):ae.scale(Py,c,v*i))}else if(!n){var h=Iy(Mu[0]-Au[1]),v=Iy(Au[0]-Mu[1]);(yn.useDir||uw(h,v)<Oy.len())&&((h<v||!yn.bidirectional)&&(ae.scale(Oy,c,h*i),yn.useDir&&yn.calcDirMTV()),(h>=v||!yn.bidirectional)&&(ae.scale(Oy,c,-v*i),yn.useDir&&yn.calcDirMTV()))}}return a},r.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var i=this._axes[t],a=this._origin,o=e[0].dot(i)+a[t],c=o,h=o,v=1;v<e.length;v++){var g=e[v].dot(i)+a[t];c=uw(g,c),h=Bnt(g,h)}n[0]=c+yn.touchThreshold,n[1]=h-yn.touchThreshold,yn.negativeSize=n[1]<n[0]},r})(),Hnt=[],znt=(function(r){pr(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,n){n?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,n){n=n||!1;for(var i=0;i<e.length;i++)this.addDisplayable(e[i],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var n=this._cursor;n<this._displayables.length;n++)e&&e(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)e&&e(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var n=this._displayables[e];n.parent=this,n.update(),n.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var n=this._temporaryDisplayables[e];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new le(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(Hnt)),e.union(a)}this._rect=e}return this._rect},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var c=this._displayables[o];if(c.contain(e,n))return!0}return!1},t})(ua),_H=xe();function Ih(r,t,e,n,i){var a;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();a=o&&o.animation}var c=t&&t.isAnimationEnabled(),h=r==="update";if(c){var v=void 0,g=void 0,y=void 0;n?(v=Jt(n.duration,200),g=Jt(n.easing,"cubicOut"),y=0):(v=t.getShallow(h?"animationDurationUpdate":"animationDuration"),g=t.getShallow(h?"animationEasingUpdate":"animationEasing"),y=t.getShallow(h?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(v=a.duration),a.easing!=null&&(g=a.easing),a.delay!=null&&(y=a.delay)),ee(y)&&(y=y(e,i)),ee(v)&&(v=v(e));var m={duration:v||0,delay:y,easing:g};return m}else return null}function vA(r,t,e,n,i,a,o){var c=!1,h;ee(i)?(o=a,a=i,i=null):se(i)&&(a=i.cb,o=i.during,c=i.isFrom,h=i.removeOpt,i=i.dataIndex);var v=r==="leave";v||t.stopAnimation("leave");var g=Ih(r,n,i,v?h||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null);if(g&&g.duration>0){var y=g.duration,m=g.delay,b=g.easing,S={duration:y,delay:m||0,easing:b,done:a,force:!!a||!!o,setToFinal:!v,scope:r,during:o};c?t.animateFrom(e,S):t.animateTo(e,S)}else t.stopAnimation(),!c&&t.attr(e),o&&o(1),a&&a()}function Pe(r,t,e,n,i,a){vA("update",r,t,e,n,i,a)}function hr(r,t,e,n,i,a){vA("enter",r,t,e,n,i,a)}function ah(r){if(!r.__zr)return!0;for(var t=0;t<r.animators.length;t++){var e=r.animators[t];if(e.scope==="leave")return!0}return!1}function Tl(r,t,e,n,i,a){ah(r)||vA("leave",r,t,e,n,i,a)}function NO(r,t,e,n){r.removeTextContent(),r.removeTextGuideLine(),Tl(r,{style:{opacity:0}},t,e,n)}function ls(r,t,e){function n(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(i){i.isGroup||NO(i,t,e,n)}):NO(r,t,e,n)}function ca(r){_H(r).oldStyle=r.style}function Unt(r){return _H(r).oldStyle}var ZE={},pe=["x","y"],Yr=["width","height"];function Wnt(r){return Ee.extend(r)}var jnt=xnt;function Ynt(r,t){return jnt(r,t)}function Pa(r,t){ZE[r]=t}function T0(r){if(ZE.hasOwnProperty(r))return ZE[r]}function ov(r,t,e,n){var i=pH(r,t);return e&&(n==="center"&&(e=SH(e,i.getBoundingRect())),wH(i,e)),i}function bH(r,t,e){var n=new wn({style:{image:r,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(e==="center"){var a={width:i.width,height:i.height};n.setStyle(SH(t,a))}}});return n}function SH(r,t){var e=t.width/t.height,n=r.height*e,i;n<=r.width?i=r.height:(n=r.width,i=n/e);var a=r.x+r.width/2,o=r.y+r.height/2;return{x:a-n/2,y:o-i/2,width:n,height:i}}var ia=Ent;function wH(r,t){if(r.applyTransform){var e=r.getBoundingRect(),n=e.calculateTransform(t);r.applyTransform(n)}}function dh(r,t){return V_(r,r,{lineWidth:t}),r}function $nt(r,t){return KB(r,r,t),r}var Um=Gi;function cc(r,t){for(var e=A_([]);r&&r!==t;)To(e,r.getLocalTransform(),e),r=r.parent;return e}function Da(r,t,e){return t&&!jn(t)&&(t=as.getLocalTransform(t)),e&&(t=Ra([],t)),Vr([],r,t)}function U_(r,t,e){var n=t[4]===0||t[5]===0||t[0]===0?1:mo(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:mo(2*t[4]/t[2]),a=[r==="left"?-n:r==="right"?n:0,r==="top"?-i:r==="bottom"?i:0];return a=Da(a,t,e),mo(a[0])>mo(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function RO(r){return!r.isGroup}function qnt(r){return r.shape!=null}function Ov(r,t,e){if(!r||!t)return;function n(o){var c={};return o.traverse(function(h){RO(h)&&h.anid&&(c[h.anid]=h)}),c}function i(o){var c={x:o.x,y:o.y,rotation:o.rotation};return qnt(o)&&(c.shape=ne(o.shape)),c}var a=n(r);t.traverse(function(o){if(RO(o)&&o.anid){var c=a[o.anid];if(c){var h=i(o);o.attr(i(c)),Pe(o,h,e,ce(o).dataIndex)}}})}function xH(r,t){return Pt(r,function(e){var n=e[0];n=Pr(n,t.x),n=Bi(n,t.x+t.width);var i=e[1];return i=Pr(i,t.y),i=Bi(i,t.y+t.height),[n,i]})}function Xnt(r,t){var e=Pr(r.x,t.x),n=Bi(r.x+r.width,t.x+t.width),i=Pr(r.y,t.y),a=Bi(r.y+r.height,t.y+t.height);if(n>=e&&a>=i)return{x:e,y:i,width:n-e,height:a-i}}function Pv(r,t,e){var n=At({rectHover:!0},t),i=n.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(i.image=r.slice(8),oe(i,e),new wn(n)):ov(r.replace("path://",""),n,e,"center")}function gd(r,t,e,n,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var c=i[a];if(EH(r,t,e,n,c[0],c[1],o[0],o[1]))return!0;o=c}}function EH(r,t,e,n,i,a,o,c){var h=e-r,v=n-t,g=o-i,y=c-a,m=cw(g,y,h,v);if(Znt(m))return!1;var b=r-i,S=t-a,E=cw(b,S,h,v)/m;if(E<0||E>1)return!1;var C=cw(b,S,g,y)/m;return!(C<0||C>1)}function cw(r,t,e,n){return r*n-e*t}function Znt(r){return r<=1e-6&&r>=-1e-6}function _c(r,t,e,n,i){return t==null||(Re(t)?_r[0]=_r[1]=_r[2]=_r[3]=t:(_r[0]=t[0],_r[1]=t[1],_r[2]=t[2],_r[3]=t[3]),n&&(_r[0]=Pr(0,_r[0]),_r[1]=Pr(0,_r[1]),_r[2]=Pr(0,_r[2]),_r[3]=Pr(0,_r[3])),e&&(_r[0]=-_r[0],_r[1]=-_r[1],_r[2]=-_r[2],_r[3]=-_r[3]),IO(r,_r,"x","width",3,1,i&&i[0]||0),IO(r,_r,"y","height",0,2,i&&i[1]||0)),r}var _r=[0,0,0,0];function IO(r,t,e,n,i,a,o){var c=t[a]+t[i],h=r[n];r[n]+=c,o=Pr(0,Bi(o,h)),r[n]<o?(r[n]=o,r[e]+=t[i]>=0?-t[i]:t[a]>=0?h+t[a]:mo(c)>1e-8?(h-o)*t[i]/c:0):r[e]-=t[i]}function Ts(r){var t=r.itemTooltipOption,e=r.componentModel,n=r.itemName,i=$t(t)?{formatter:t}:t,a=e.mainType,o=e.componentIndex,c={componentType:a,name:n,$vars:["name"]};c[a+"Index"]=o;var h=r.formatterParamsExtra;h&&j(De(h),function(g){Xt(c,g)||(c[g]=h[g],c.$vars.push(g))});var v=ce(r.el);v.componentMainType=a,v.componentIndex=o,v.tooltipConfig={name:n,option:oe({content:n,encodeHTMLContent:!0,formatterParams:c},i)}}function KE(r,t){var e;r.isGroup&&(e=t(r)),e||r.traverse(t)}function Rl(r,t){if(r)if(Rt(r))for(var e=0;e<r.length;e++)KE(r[e],t);else KE(r,t)}function gA(r){return!r||mo(r[1])<ky&&mo(r[2])<ky||mo(r[0])<ky&&mo(r[3])<ky}var ky=1e-5;function sv(r,t){return r?le.copy(r,t):t.clone()}function yA(r,t){return t?M_(r||_n(),t):void 0}function bc(r){return{z:r.get("z")||0,zlevel:r.get("zlevel")||0}}function TH(r){var t=-1/0,e=1/0;KE(r,function(a){n(a),n(a.getTextContent()),n(a.getTextGuideLine())});function n(a){if(!(!a||a.isGroup)){var o=a.currentStates;if(o.length)for(var c=0;c<o.length;c++)i(a.states[o[c]]);i(a)}}function i(a){if(a){var o=a.z2;o>t&&(t=o),o<e&&(e=o)}}return e>t&&(e=t=0),{min:e,max:t}}function W_(r,t,e){CH(r,t,e,-1/0)}function CH(r,t,e,n){if(r.ignoreModelZ)return n;var i=r.getTextContent(),a=r.getTextGuideLine(),o=r.isGroup;if(o)for(var c=r.childrenRef(),h=0;h<c.length;h++)n=Pr(CH(c[h],t,e,n),n);else r.z=t,r.zlevel=e,n=Pr(r.z2||0,n);if(i&&(i.z=t,i.zlevel=e,isFinite(n)&&(i.z2=n+2)),a){var v=r.textGuideLineConfig;a.z=t,a.zlevel=e,isFinite(n)&&(a.z2=n+(v&&v.showAbove?1:-1))}return n}Pa("circle",Es);Pa("ellipse",B_);Pa("sector",$n);Pa("ring",Rv);Pa("polygon",qn);Pa("polyline",In);Pa("rect",we);Pa("line",Wr);Pa("bezierCurve",Iv);Pa("arc",H_);const Mc=Object.freeze(Object.defineProperty({__proto__:null,Arc:H_,BezierCurve:Iv,BoundingRect:le,Circle:Es,CompoundPath:z_,Ellipse:B_,Group:re,Image:wn,IncrementalDisplayable:znt,Line:Wr,LinearGradient:Rh,OrientedBoundingRect:mH,Path:Ee,Point:ae,Polygon:qn,Polyline:In,RadialGradient:yH,Rect:we,Ring:Rv,Sector:$n,Text:Oe,WH:Yr,XY:pe,applyTransform:Da,calcZ2Range:TH,clipPointsByRect:xH,clipRectByRect:Xnt,createIcon:Pv,ensureCopyRect:sv,ensureCopyTransform:yA,expandOrShrinkRect:_c,extendPath:Ynt,extendShape:Wnt,getShapeClass:T0,getTransform:cc,groupTransition:Ov,initProps:hr,isBoundingRectAxisAligned:gA,isElementRemoved:ah,lineLineIntersect:EH,linePolygonIntersect:gd,makeImage:bH,makePath:ov,mergePath:ia,registerShape:Pa,removeElement:Tl,removeElementWithFadeOut:ls,resizePath:wH,retrieveZInfo:bc,setTooltipConfig:Ts,subPixelOptimize:Um,subPixelOptimizeLine:dh,subPixelOptimizeRect:$nt,transformDirection:U_,traverseElements:Rl,traverseUpdateZ:W_,updateProps:Pe},Symbol.toStringTag,{value:"Module"}));var j_={};function AH(r,t){for(var e=0;e<hi.length;e++){var n=hi[e],i=t[n],a=r.ensureState(n);a.style=a.style||{},a.style.text=i}var o=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:t.normal}),r.useStates(o,!0)}function JE(r,t,e){var n=r.labelFetcher,i=r.labelDataIndex,a=r.labelDimIndex,o=t.normal,c;n&&(c=n.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),e!=null?{interpolatedValue:e}:null)),c==null&&(c=ee(r.defaultText)?r.defaultText(i,r,e):r.defaultText);for(var h={normal:c},v=0;v<hi.length;v++){var g=hi[v],y=t[g];h[g]=Jt(n?n.getFormattedLabel(i,g,null,a,y&&y.get("formatter")):null,c)}return h}function fn(r,t,e,n){e=e||j_;for(var i=r instanceof Oe,a=!1,o=0;o<iv.length;o++){var c=t[iv[o]];if(c&&c.getShallow("show")){a=!0;break}}var h=i?r:r.getTextContent();if(a){i||(h||(h=new Oe,r.setTextContent(h)),r.stateProxy&&(h.stateProxy=r.stateProxy));var v=JE(e,t),g=t.normal,y=!!g.getShallow("show"),m=ar(g,n&&n.normal,e,!1,!i);m.text=v.normal,i||r.setTextConfig(C0(g,e,!1));for(var o=0;o<hi.length;o++){var b=hi[o],c=t[b];if(c){var S=h.ensureState(b),E=!!Jt(c.getShallow("show"),y);if(E!==y&&(S.ignore=!E),S.style=ar(c,n&&n[b],e,!0,!i),S.style.text=v[b],!i){var C=r.ensureState(b);C.textConfig=C0(c,e,!0)}}}h.silent=!!g.getShallow("silent"),h.style.x!=null&&(m.x=h.style.x),h.style.y!=null&&(m.y=h.style.y),h.ignore=!y,h.useStyle(m),h.dirty(),e.enableTextSetter&&(Oh(h).setLabelText=function(A){var M=JE(e,t,A);AH(h,M)})}else h&&(h.ignore=!0);r.dirty()}function nn(r,t){t=t||"label";for(var e={normal:r.getModel(t)},n=0;n<hi.length;n++){var i=hi[n];e[i]=r.getModel([i,t])}return e}function ar(r,t,e,n,i){var a={};return Knt(a,r,e,n,i),t&&At(a,t),a}function C0(r,t,e){t=t||{};var n={},i,a=r.getShallow("rotate"),o=Jt(r.getShallow("distance"),e?null:5),c=r.getShallow("offset");return i=r.getShallow("position")||(e?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(n.position=i),c!=null&&(n.offset=c),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=r.get("color")==="inherit"?t.inheritColor||null:"auto",t.autoOverflowArea!=null&&(n.autoOverflowArea=t.autoOverflowArea),t.layoutRect!=null&&(n.layoutRect=t.layoutRect),n}function Knt(r,t,e,n,i){e=e||j_;var a=t.ecModel,o=a&&a.option.textStyle,c=Jnt(t),h;if(c){h={};var v="richInheritPlainLabel",g=Jt(t.get(v),a?a.get(v):void 0);for(var y in c)if(c.hasOwnProperty(y)){var m=t.getModel(["rich",y]);VO(h[y]={},m,o,t,g,e,n,i,!1,!0)}}h&&(r.rich=h);var b=t.get("overflow");b&&(r.overflow=b);var S=t.get("lineOverflow");S&&(r.lineOverflow=S);var E=r,C=t.get("minMargin");if(C!=null)C=Re(C)?C/2:0,E.margin=[C,C,C,C],E.__marginType=Zf.minMargin;else{var A=t.get("textMargin");A!=null&&(E.margin=T_(A),E.__marginType=Zf.textMargin)}VO(r,t,o,null,null,e,n,i,!0,!1)}function Jnt(r){for(var t;r&&r!==r.ecModel;){var e=(r.option||j_).rich;if(e){t=t||{};for(var n=De(e),i=0;i<n.length;i++){var a=n[i];t[a]=1}}r=r.parentModel}return t}var OO=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],PO=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],kO=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function VO(r,t,e,n,i,a,o,c,h,v){e=!o&&e||j_;var g=a&&a.inheritColor,y=t.getShallow("color"),m=t.getShallow("textBorderColor"),b=Jt(t.getShallow("opacity"),e.opacity);(y==="inherit"||y==="auto")&&(g?y=g:y=null),(m==="inherit"||m==="auto")&&(g?m=g:m=null),c||(y=y||e.color,m=m||e.textBorderColor),y!=null&&(r.fill=y),m!=null&&(r.stroke=m);var S=Jt(t.getShallow("textBorderWidth"),e.textBorderWidth);S!=null&&(r.lineWidth=S);var E=Jt(t.getShallow("textBorderType"),e.textBorderType);E!=null&&(r.lineDash=E);var C=Jt(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);C!=null&&(r.lineDashOffset=C),!o&&b==null&&!v&&(b=a&&a.defaultOpacity),b!=null&&(r.opacity=b),!o&&!c&&r.fill==null&&a.inheritColor&&(r.fill=a.inheritColor);for(var A=0;A<OO.length;A++){var M=OO[A],L=i!==!1&&n?Fi(t.getShallow(M),n.getShallow(M),e[M]):Jt(t.getShallow(M),e[M]);L!=null&&(r[M]=L)}for(var A=0;A<PO.length;A++){var M=PO[A],L=t.getShallow(M);L!=null&&(r[M]=L)}if(r.verticalAlign==null){var R=t.getShallow("baseline");R!=null&&(r.verticalAlign=R)}if(!h||!a.disableBox){for(var A=0;A<kO.length;A++){var M=kO[A],L=t.getShallow(M);L!=null&&(r[M]=L)}var O=t.getShallow("borderType");O!=null&&(r.borderDash=O),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&g&&(r.backgroundColor=g),(r.borderColor==="auto"||r.borderColor==="inherit")&&g&&(r.borderColor=g)}}function mA(r,t){var e=t&&t.getModel("textStyle");return oa([r.fontStyle||e&&e.getShallow("fontStyle")||"",r.fontWeight||e&&e.getShallow("fontWeight")||"",(r.fontSize||e&&e.getShallow("fontSize")||12)+"px",r.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Oh=xe();function MH(r,t,e,n){if(r){var i=Oh(r);i.prevValue=i.value,i.value=e;var a=t.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=t)}}function DH(r,t,e,n,i){var a=Oh(r);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,c=Jt(a.interpolatedValue,a.prevValue),h=a.value;function v(g){var y=zB(e,a.precision,c,h,g);a.interpolatedValue=g===1?null:y;var m=JE({labelDataIndex:t,labelFetcher:i,defaultText:o?o(y):y+""},a.statesModels,y);AH(r,m)}r.percent=0,(a.prevValue==null?hr:Pe)(r,{percent:1},n,t,null,v)}var Zf={minMargin:1,textMargin:2},Qnt=["textStyle","color"],fw=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],hw=new Oe,tit=(function(){function r(){}return r.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Qnt):null)},r.prototype.getFont=function(){return mA({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<fw.length;n++)e[fw[n]]=this.getShallow(fw[n]);return hw.useStyle(e),hw.update(),hw.getBoundingRect()},r})(),LH=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],eit=yc(LH),rit=(function(){function r(){}return r.prototype.getLineStyle=function(t){return eit(this,t)},r})(),NH=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],nit=yc(NH),iit=(function(){function r(){}return r.prototype.getItemStyle=function(t,e){return nit(this,t,e)},r})(),Me=(function(){function r(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return r.prototype.init=function(t,e,n){},r.prototype.mergeOption=function(t,e){ge(this.option,t,!0)},r.prototype.get=function(t,e){return t==null?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},r.prototype.getShallow=function(t,e){var n=this.option,i=n==null?n:n[t];if(i==null&&!e){var a=this.parentModel;a&&(i=a.getShallow(t))}return i},r.prototype.getModel=function(t,e){var n=t!=null,i=n?this.parsePath(t):null,a=n?this._doGet(i):this.option;return e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new r(a,e,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var t=this.constructor;return new t(ne(this.option))},r.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},r.prototype.resolveParentPath=function(t){return t},r.prototype.isAnimationEnabled=function(){if(!Ae.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&!(t[i]&&(n=n&&typeof n=="object"?n[t[i]]:null,n==null));i++);return n==null&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},r})();aA(Me);frt(Me);Zr(Me,rit);Zr(Me,iit);Zr(Me,grt);Zr(Me,tit);var ait=Math.round(Math.random()*10);function Ph(r){return[r||"",ait++].join("_")}function oit(r){var t={};r.registerSubTypeDefaulter=function(e,n){var i=bo(e);t[i.main]=n},r.determineSubType=function(e,n){var i=n.type;if(!i){var a=bo(e).main;r.hasSubTypes(e)&&t[a]&&(i=t[a](n))}return i}}function sit(r,t){r.topologicalTravel=function(a,o,c,h){if(!a.length)return;var v=e(o),g=v.graph,y=v.noEntryList,m={};for(j(a,function(M){m[M]=!0});y.length;){var b=y.pop(),S=g[b],E=!!m[b];E&&(c.call(h,b,S.originalDeps.slice()),delete m[b]),j(S.successor,E?A:C)}j(m,function(){var M="";throw new Error(M)});function C(M){g[M].entryCount--,g[M].entryCount===0&&y.push(M)}function A(M){m[M]=!0,C(M)}};function e(a){var o={},c=[];return j(a,function(h){var v=n(o,h),g=v.originalDeps=t(h),y=i(g,a);v.entryCount=y.length,v.entryCount===0&&c.push(h),j(y,function(m){ve(v.predecessor,m)<0&&v.predecessor.push(m);var b=n(o,m);ve(b.successor,m)<0&&b.successor.push(h)})}),{graph:o,noEntryList:c}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var c=[];return j(a,function(h){ve(o,h)>=0&&c.push(h)}),c}}function Il(r,t){return ge(ge({},r,!0),t,!0)}const lit={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},uit={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var A0="ZH",_A="EN",oh=_A,Wm={},bA={},RH=Ae.domSupported?(function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||oh).toUpperCase();return r.indexOf(A0)>-1?A0:oh})():oh;function IH(r,t){r=r.toUpperCase(),bA[r]=new Me(t),Wm[r]=t}function cit(r){if($t(r)){var t=Wm[r.toUpperCase()]||{};return r===A0||r===_A?ne(t):ge(ne(t),ne(Wm[oh]),!1)}else return ge(ne(r),ne(Wm[oh]),!1)}function QE(r){return bA[r]}function fit(){return bA[oh]}IH(_A,lit);IH(A0,uit);var tT=null;function hit(r){tT||(tT=r)}function jr(){return tT}var SA=1e3,wA=SA*60,Hd=wA*60,aa=Hd*24,GO=aa*365,pit={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},jm={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},dit="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",Vy="{yyyy}-{MM}-{dd}",FO={year:"{yyyy}",month:"{yyyy}-{MM}",day:Vy,hour:Vy+" "+jm.hour,minute:Vy+" "+jm.minute,second:Vy+" "+jm.second,millisecond:dit},Ii=["year","month","day","hour","minute","second","millisecond"],vit=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function git(r){return!$t(r)&&!ee(r)?yit(r):r}function yit(r){r=r||{};var t={},e=!0;return j(Ii,function(n){e&&(e=r[n]==null)}),j(Ii,function(n,i){var a=r[n];t[n]={};for(var o=null,c=i;c>=0;c--){var h=Ii[c],v=se(a)&&!Rt(a)?a[h]:a,g=void 0;Rt(v)?(g=v.slice(),o=g[0]||""):$t(v)?(o=v,g=[o]):(o==null?o=jm[n]:pit[h].test(o)||(o=t[h][h][0]+" "+o),g=[o],e&&(g[1]="{primary|"+o+"}")),t[n][h]=g}}),t}function Ys(r,t){return r+="","0000".substr(0,t-r.length)+r}function zd(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function mit(r){return r===zd(r)}function _it(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Y_(r,t,e,n){var i=Ac(r),a=i[OH(e)](),o=i[xA(e)]()+1,c=Math.floor((o-1)/3)+1,h=i[EA(e)](),v=i["get"+(e?"UTC":"")+"Day"](),g=i[TA(e)](),y=(g-1)%12+1,m=i[CA(e)](),b=i[AA(e)](),S=i[MA(e)](),E=g>=12?"pm":"am",C=E.toUpperCase(),A=n instanceof Me?n:QE(n||RH)||fit(),M=A.getModel("time"),L=M.get("month"),R=M.get("monthAbbr"),O=M.get("dayOfWeek"),P=M.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,E+"").replace(/{A}/g,C+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Ys(a%100+"",2)).replace(/{Q}/g,c+"").replace(/{MMMM}/g,L[o-1]).replace(/{MMM}/g,R[o-1]).replace(/{MM}/g,Ys(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Ys(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,O[v]).replace(/{ee}/g,P[v]).replace(/{e}/g,v+"").replace(/{HH}/g,Ys(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,Ys(y+"",2)).replace(/{h}/g,y+"").replace(/{mm}/g,Ys(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,Ys(b,2)).replace(/{s}/g,b+"").replace(/{SSS}/g,Ys(S,3)).replace(/{S}/g,S+"")}function bit(r,t,e,n,i){var a=null;if($t(e))a=e;else if(ee(e)){var o={time:r.time,level:r.time.level},c=jr();c&&c.makeAxisLabelFormatterParamBreak(o,r.break),a=e(r.value,t,o)}else{var h=r.time;if(h){var v=e[h.lowerTimeUnit][h.upperTimeUnit];a=v[Math.min(h.level,v.length-1)]||""}else{var g=Kf(r.value,i);a=e[g][g][0]}}return Y_(new Date(r.value),a,i,n)}function Kf(r,t){var e=Ac(r),n=e[xA(t)]()+1,i=e[EA(t)](),a=e[TA(t)](),o=e[CA(t)](),c=e[AA(t)](),h=e[MA(t)](),v=h===0,g=v&&c===0,y=g&&o===0,m=y&&a===0,b=m&&i===1,S=b&&n===1;return S?"year":b?"month":m?"day":y?"hour":g?"minute":v?"second":"millisecond"}function eT(r,t,e){switch(t){case"year":r[PH(e)](0);case"month":r[kH(e)](1);case"day":r[VH(e)](0);case"hour":r[GH(e)](0);case"minute":r[FH(e)](0);case"second":r[BH(e)](0)}return r}function OH(r){return r?"getUTCFullYear":"getFullYear"}function xA(r){return r?"getUTCMonth":"getMonth"}function EA(r){return r?"getUTCDate":"getDate"}function TA(r){return r?"getUTCHours":"getHours"}function CA(r){return r?"getUTCMinutes":"getMinutes"}function AA(r){return r?"getUTCSeconds":"getSeconds"}function MA(r){return r?"getUTCMilliseconds":"getMilliseconds"}function Sit(r){return r?"setUTCFullYear":"setFullYear"}function PH(r){return r?"setUTCMonth":"setMonth"}function kH(r){return r?"setUTCDate":"setDate"}function VH(r){return r?"setUTCHours":"setHours"}function GH(r){return r?"setUTCMinutes":"setMinutes"}function FH(r){return r?"setUTCSeconds":"setSeconds"}function BH(r){return r?"setUTCMilliseconds":"setMilliseconds"}function HH(r){if(!OB(r))return $t(r)?r:"-";var t=(r+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function zH(r,t){return r=(r||"").toLowerCase().replace(/-(.)/g,function(e,n){return n.toUpperCase()}),t&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var kv=T_;function rT(r,t,e){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(g){return g&&oa(g)?g:"-"}function a(g){return!!(g!=null&&!isNaN(g)&&isFinite(g))}var o=t==="time",c=r instanceof Date;if(o||c){var h=o?Ac(r):r;if(isNaN(+h)){if(c)return"-"}else return Y_(h,n,e)}if(t==="ordinal")return hE(r)?i(r):Re(r)&&a(r)?r+"":"-";var v=gs(r);return a(v)?HH(v):hE(r)?i(r):typeof r=="boolean"?r+"":"-"}var BO=["a","b","c","d","e","f","g"],pw=function(r,t){return"{"+r+(t??"")+"}"};function UH(r,t,e){Rt(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var o=BO[a];r=r.replace(pw(o),pw(o,0))}for(var c=0;c<n;c++)for(var h=0;h<i.length;h++){var v=t[c][i[h]];r=r.replace(pw(BO[h],c),e?si(v):v)}return r}function wit(r,t,e){return j(t,function(n,i){r=r.replace("{"+i+"}",n)}),r}function xit(r,t){var e=$t(r)?{color:r,extraCssText:t}:r||{},n=e.color,i=e.type;t=e.extraCssText;var a=e.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+si(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+si(n)+";"+(t||"")+'"></span>';var o=e.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function Sc(r,t){return t=t||"transparent",$t(r)?r:se(r)&&r.colorStops&&(r.colorStops[0]||{}).color||t}function M0(r,t){if(t==="_blank"||t==="blank"){var e=window.open();e.opener=null,e.location.href=r}else window.open(r,t)}var Ym={},dw={},Vv=(function(){function r(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return r.prototype.create=function(t,e){this._nonSeriesBoxMasterList=n(Ym),this._normalMasterList=n(dw);function n(i,a){var o=[];return j(i,function(c,h){var v=c.create(t,e);o=o.concat(v||[])}),o}},r.prototype.update=function(t,e){j(this._normalMasterList,function(n){n.update&&n.update(t,e)})},r.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},r.register=function(t,e){if(t==="matrix"||t==="calendar"){Ym[t]=e;return}dw[t]=e},r.get=function(t){return dw[t]||Ym[t]},r})();function Eit(r){return!!Ym[r]}var nT={coord:1,coord2:2};function Tit(r){WH.set(r.fullType,{getCoord2:void 0}).getCoord2=r.getCoord2}var WH=Kt();function Cit(r){var t=r.getShallow("coord",!0),e=nT.coord;if(t==null){var n=WH.get(r.type);n&&n.getCoord2&&(e=nT.coord2,t=n.getCoord2(r))}return{coord:t,from:e}}var vo={none:0,dataCoordSys:1,boxCoordSys:2};function jH(r,t){var e=r.getShallow("coordinateSystem"),n=r.getShallow("coordinateSystemUsage",!0),i=vo.none;if(e){var a=r.mainType==="series";n==null&&(n=a?"data":"box"),n==="data"?(i=vo.dataCoordSys,a||(i=vo.none)):n==="box"&&(i=vo.boxCoordSys,!a&&!Eit(e)&&(i=vo.none))}return{coordSysType:e,kind:i}}function Gv(r){var t=r.targetModel,e=r.coordSysType,n=r.coordSysProvider,i=r.isDefaultDataCoordSys;r.allowNotFound;var a=jH(t),o=a.kind,c=a.coordSysType;if(i&&o!==vo.dataCoordSys&&(o=vo.dataCoordSys,c=e),o===vo.none||c!==e)return!1;var h=n(e,t);return h?(o===vo.dataCoordSys?t.coordinateSystem=h:t.boxCoordinateSystem=h,!0):!1}var YH=function(r,t){var e=t.getReferringComponents(r,Cr).models[0];return e&&e.coordinateSystem},$m=j,$H=["left","right","top","bottom","width","height"],Qu=[["width","left","right"],["height","top","bottom"]];function DA(r,t,e,n,i){var a=0,o=0;n==null&&(n=1/0),i==null&&(i=1/0);var c=0;t.eachChild(function(h,v){var g=h.getBoundingRect(),y=t.childAt(v+1),m=y&&y.getBoundingRect(),b,S;if(r==="horizontal"){var E=g.width+(m?-m.x+g.x:0);b=a+E,b>n||h.newline?(a=0,b=E,o+=c+e,c=g.height):c=Math.max(c,g.height)}else{var C=g.height+(m?-m.y+g.y:0);S=o+C,S>i||h.newline?(a+=c+e,o=0,S=C,c=g.width):c=Math.max(c,g.width)}h.newline||(h.x=a,h.y=o,h.markRedraw(),r==="horizontal"?a=b+e:o=S+e)})}var fc=DA;de(DA,"vertical");de(DA,"horizontal");function qH(r,t){return{left:r.getShallow("left",t),top:r.getShallow("top",t),right:r.getShallow("right",t),bottom:r.getShallow("bottom",t),width:r.getShallow("width",t),height:r.getShallow("height",t)}}function Ait(r,t){var e=an(r,t,{enableLayoutOnlyByCenter:!0}),n=r.getBoxLayoutParams(),i,a;if(e.type===yd.point)a=e.refPoint,i=yr(n,{width:t.getWidth(),height:t.getHeight()});else{var o=r.get("center"),c=Rt(o)?o:[o,o];i=yr(n,e.refContainer),a=e.boxCoordFrom===nT.coord2?e.refPoint:[Yt(c[0],i.width)+i.x,Yt(c[1],i.height)+i.y]}return{viewRect:i,center:a}}function XH(r,t){var e=Ait(r,t),n=e.viewRect,i=e.center,a=r.get("radius");Rt(a)||(a=[0,a]);var o=Yt(n.width,t.getWidth()),c=Yt(n.height,t.getHeight()),h=Math.min(o,c),v=Yt(a[0],h/2),g=Yt(a[1],h/2);return{cx:i[0],cy:i[1],r0:v,r:g,viewRect:n}}function yr(r,t,e){e=kv(e||0);var n=t.width,i=t.height,a=Yt(r.left,n),o=Yt(r.top,i),c=Yt(r.right,n),h=Yt(r.bottom,i),v=Yt(r.width,n),g=Yt(r.height,i),y=e[2]+e[0],m=e[1]+e[3],b=r.aspect;switch(isNaN(v)&&(v=n-c-m-a),isNaN(g)&&(g=i-h-y-o),b!=null&&(isNaN(v)&&isNaN(g)&&(b>n/i?v=n*.8:g=i*.8),isNaN(v)&&(v=b*g),isNaN(g)&&(g=v/b)),isNaN(a)&&(a=n-c-v-m),isNaN(o)&&(o=i-h-g-y),r.left||r.right){case"center":a=n/2-v/2-e[3];break;case"right":a=n-v-m;break}switch(r.top||r.bottom){case"middle":case"center":o=i/2-g/2-e[0];break;case"bottom":o=i-g-y;break}a=a||0,o=o||0,isNaN(v)&&(v=n-m-a-(c||0)),isNaN(g)&&(g=i-y-o-(h||0));var S=new le((t.x||0)+a+e[3],(t.y||0)+o+e[0],v,g);return S.margin=e,S}function ZH(r,t,e){var n=r.getShallow("preserveAspect",!0);if(!n)return t;var i=t.width/t.height;if(Math.abs(Math.atan(e)-Math.atan(i))<1e-9)return t;var a=r.getShallow("preserveAspectAlign",!0),o=r.getShallow("preserveAspectVerticalAlign",!0),c={width:t.width,height:t.height},h=n==="cover";return i>e&&!h||i<e&&h?(c.width=t.height*e,a==="left"?c.left=0:a==="right"?c.right=0:c.left="center"):(c.height=t.width/e,o==="top"?c.top=0:o==="bottom"?c.bottom=0:c.top="middle"),yr(c,t)}var yd={rect:1,point:2};function an(r,t,e){var n,i,a,o=r.boxCoordinateSystem,c;if(o){var h=Cit(r),v=h.coord,g=h.from;if(o.dataToLayout){a=yd.rect,c=g;var y=o.dataToLayout(v);n=y.contentRect||y.rect}else e&&e.enableLayoutOnlyByCenter&&o.dataToPoint&&(a=yd.point,c=g,i=o.dataToPoint(v))}return a==null&&(a=yd.rect),a===yd.rect&&(n||(n={x:0,y:0,width:t.getWidth(),height:t.getHeight()}),i=[n.x+n.width/2,n.y+n.height/2]),{type:a,refContainer:n,refPoint:i,boxCoordFrom:c}}function $_(r,t,e,n,i,a){var o=!i||!i.hv||i.hv[0],c=!i||!i.hv||i.hv[1],h=i&&i.boundingMode||"all";if(a=a||r,a.x=r.x,a.y=r.y,!o&&!c)return!1;var v;if(h==="raw")v=r.type==="group"?new le(0,0,+t.width||0,+t.height||0):r.getBoundingRect();else if(v=r.getBoundingRect(),r.needLocalTransform()){var g=r.getLocalTransform();v=v.clone(),v.applyTransform(g)}var y=yr(oe({width:v.width,height:v.height},t),e,n),m=o?y.x-v.x:0,b=c?y.y-v.y:0;return h==="raw"?(a.x=m,a.y=b):(a.x+=m,a.y+=b),a===r&&r.markRedraw(),!0}function Mit(r,t){return r[Qu[t][0]]!=null||r[Qu[t][1]]!=null&&r[Qu[t][2]]!=null}function lv(r){var t=r.layoutMode||r.constructor.layoutMode;return se(t)?t:t?{type:t}:null}function Oo(r,t,e){var n=e&&e.ignoreSize;!Rt(n)&&(n=[n,n]);var i=o(Qu[0],0),a=o(Qu[1],1);h(Qu[0],r,i),h(Qu[1],r,a);function o(v,g){var y={},m=0,b={},S=0,E=2;if($m(v,function(M){b[M]=r[M]}),$m(v,function(M){Xt(t,M)&&(y[M]=b[M]=t[M]),c(y,M)&&m++,c(b,M)&&S++}),n[g])return c(t,v[1])?b[v[2]]=null:c(t,v[2])&&(b[v[1]]=null),b;if(S===E||!m)return b;if(m>=E)return y;for(var C=0;C<v.length;C++){var A=v[C];if(!Xt(y,A)&&Xt(r,A)){y[A]=r[A];break}}return y}function c(v,g){return v[g]!=null&&v[g]!=="auto"}function h(v,g,y){$m(v,function(m){g[m]=y[m]})}}function Dc(r){return KH({},r)}function KH(r,t){return t&&r&&$m($H,function(e){Xt(t,e)&&(r[e]=t[e])}),r}var Dit=xe(),Te=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return a.uid=Ph("ec_cpt_model"),a}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i)},t.prototype.mergeDefaultAndTheme=function(e,n){var i=lv(this),a=i?Dc(e):{},o=n.getTheme();ge(e,o.get(this.mainType)),ge(e,this.getDefaultOption()),i&&Oo(e,a,i)},t.prototype.mergeOption=function(e,n){ge(this.option,e,!0);var i=lv(this);i&&Oo(this.option,e,i)},t.prototype.optionUpdated=function(e,n){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!lrt(e))return e.defaultOption;var n=Dit(this);if(!n.defaultOption){for(var i=[],a=e;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var c={},h=i.length-1;h>=0;h--)c=ge(c,i[h],!0);n.defaultOption=c}return n.defaultOption},t.prototype.getReferringComponents=function(e,n){var i=e+"Index",a=e+"Id";return Lh(this.ecModel,e,{index:this.get(i,!0),id:this.get(a,!0)},n)},t.prototype.getBoxLayoutParams=function(){return qH(this,!1)},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=(function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0})(),t})(Me);WB(Te,Me);R_(Te);oit(Te);sit(Te,Lit);function Lit(r){var t=[];return j(Te.getClassesByMainType(r),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=Pt(t,function(e){return bo(e).main}),r!=="dataset"&&ve(t,"dataset")<=0&&t.unshift("dataset"),t}var yt={color:{},darkColor:{},size:{}},Ir=yt.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};At(Ir,{primary:Ir.neutral80,secondary:Ir.neutral70,tertiary:Ir.neutral60,quaternary:Ir.neutral50,disabled:Ir.neutral20,border:Ir.neutral30,borderTint:Ir.neutral20,borderShade:Ir.neutral40,background:Ir.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:Ir.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:Ir.neutral70,axisLineTint:Ir.neutral40,axisTick:Ir.neutral70,axisTickMinor:Ir.neutral60,axisLabel:Ir.neutral70,axisSplitLine:Ir.neutral15,axisMinorSplitLine:Ir.neutral05});for(var Du in Ir)if(Ir.hasOwnProperty(Du)){var HO=Ir[Du];Du==="theme"?yt.darkColor.theme=Ir.theme.slice():Du==="highlight"?yt.darkColor.highlight="rgba(255,231,130,0.4)":Du.indexOf("accent")===0?yt.darkColor[Du]=ml(HO,null,function(r){return r*.5},function(r){return Math.min(1,1.3-r)}):yt.darkColor[Du]=ml(HO,null,function(r){return r*.9},function(r){return 1-Math.pow(r,1.5)})}yt.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var JH="";typeof navigator<"u"&&(JH=navigator.platform||"");var wf="rgba(0, 0, 0, 0.2)",QH=yt.color.theme[0],Nit=ml(QH,null,null,.9);const Rit={darkMode:"auto",colorBy:"series",color:yt.color.theme,gradientColor:[Nit,QH],aria:{decal:{decals:[{color:wf,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:wf,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:wf,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:wf,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:wf,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:wf,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:JH.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var t4=Kt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Hi="original",Sn="arrayRows",zi="objectRows",ka="keyedColumns",bl="typedArray",e4="unknown",La="column",Lc="row",Ln={Must:1,Might:2,Not:3},r4=xe();function Iit(r){r4(r).datasetMap=Kt()}function n4(r,t,e){var n={},i=NA(t);if(!i||!r)return n;var a=[],o=[],c=t.ecModel,h=r4(c).datasetMap,v=i.uid+"_"+e.seriesLayoutBy,g,y;r=r.slice(),j(r,function(E,C){var A=se(E)?E:r[C]={name:E};A.type==="ordinal"&&g==null&&(g=C,y=S(A)),n[A.name]=[]});var m=h.get(v)||h.set(v,{categoryWayDim:y,valueWayDim:0});j(r,function(E,C){var A=E.name,M=S(E);if(g==null){var L=m.valueWayDim;b(n[A],L,M),b(o,L,M),m.valueWayDim+=M}else if(g===C)b(n[A],0,M),b(a,0,M);else{var L=m.categoryWayDim;b(n[A],L,M),b(o,L,M),m.categoryWayDim+=M}});function b(E,C,A){for(var M=0;M<A;M++)E.push(C+M)}function S(E){var C=E.dimsDef;return C?C.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function LA(r,t,e){var n={},i=NA(r);if(!i)return n;var a=t.sourceFormat,o=t.dimensionsDefine,c;(a===zi||a===ka)&&j(o,function(g,y){(se(g)?g.name:g)==="name"&&(c=y)});var h=(function(){for(var g={},y={},m=[],b=0,S=Math.min(5,e);b<S;b++){var E=a4(t.data,a,t.seriesLayoutBy,o,t.startIndex,b);m.push(E);var C=E===Ln.Not;if(C&&g.v==null&&b!==c&&(g.v=b),(g.n==null||g.n===g.v||!C&&m[g.n]===Ln.Not)&&(g.n=b),A(g)&&m[g.n]!==Ln.Not)return g;C||(E===Ln.Might&&y.v==null&&b!==c&&(y.v=b),(y.n==null||y.n===y.v)&&(y.n=b))}function A(M){return M.v!=null&&M.n!=null}return A(g)?g:A(y)?y:null})();if(h){n.value=[h.v];var v=c??h.n;n.itemName=[v],n.seriesName=[v]}return n}function NA(r){var t=r.get("data",!0);if(!t)return Lh(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},Cr).models[0]}function Oit(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:Lh(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},Cr).models}function i4(r,t){return a4(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,t)}function a4(r,t,e,n,i,a){var o,c=5;if(xi(r))return Ln.Not;var h,v;if(n){var g=n[a];se(g)?(h=g.name,v=g.type):$t(g)&&(h=g)}if(v!=null)return v==="ordinal"?Ln.Must:Ln.Not;if(t===Sn){var y=r;if(e===Lc){for(var m=y[a],b=0;b<(m||[]).length&&b<c;b++)if((o=R(m[i+b]))!=null)return o}else for(var b=0;b<y.length&&b<c;b++){var S=y[i+b];if(S&&(o=R(S[a]))!=null)return o}}else if(t===zi){var E=r;if(!h)return Ln.Not;for(var b=0;b<E.length&&b<c;b++){var C=E[b];if(C&&(o=R(C[h]))!=null)return o}}else if(t===ka){var A=r;if(!h)return Ln.Not;var m=A[h];if(!m||xi(m))return Ln.Not;for(var b=0;b<m.length&&b<c;b++)if((o=R(m[b]))!=null)return o}else if(t===Hi)for(var M=r,b=0;b<M.length&&b<c;b++){var C=M[b],L=Dh(C);if(!Rt(L))return Ln.Not;if((o=R(L[a]))!=null)return o}function R(O){var P=$t(O);if(O!=null&&Number.isFinite(Number(O))&&O!=="")return P?Ln.Might:Ln.Not;if(P&&O!=="-")return Ln.Must}return Ln.Not}var iT=Kt();function Pit(r,t){Yn(iT.get(r)==null&&t),iT.set(r,t)}function kit(r,t,e){var n=iT.get(t);if(!n)return e;var i=n(r);return i?e.concat(i):e}var zO=xe(),Vit=xe(),RA=(function(){function r(){}return r.prototype.getColorFromPalette=function(t,e,n){var i=Qe(this.get("color",!0)),a=this.get("colorLayer",!0);return o4(this,zO,i,a,t,e,n)},r.prototype.clearColorPalette=function(){Fit(this,zO)},r})();function aT(r,t,e,n){var i=Qe(r.get(["aria","decal","decals"]));return o4(r,Vit,i,null,t,e,n)}function Git(r,t){for(var e=r.length,n=0;n<e;n++)if(r[n].length>t)return r[n];return r[e-1]}function o4(r,t,e,n,i,a,o){a=a||r;var c=t(a),h=c.paletteIdx||0,v=c.paletteNameMap=c.paletteNameMap||{};if(v.hasOwnProperty(i))return v[i];var g=o==null||!n?e:Git(n,o);if(g=g||e,!(!g||!g.length)){var y=g[h];return i&&(v[i]=y),c.paletteIdx=(h+1)%g.length,y}}function Fit(r,t){t(r).paletteIdx=0,t(r).paletteNameMap={}}var Gy,Gp,UO,WO="\0_ec_inner",Bit=1,IA=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e,n,i,a,o,c){a=a||{},this.option=null,this._theme=new Me(a),this._locale=new Me(o),this._optionManager=c},t.prototype.setOption=function(e,n,i){var a=$O(n);this._optionManager.setOption(e,i,a),this._resetOption(null,a)},t.prototype.resetOption=function(e,n){return this._resetOption(e,$O(n))},t.prototype._resetOption=function(e,n){var i=!1,a=this._optionManager;if(!e||e==="recreate"){var o=a.mountOption(e==="recreate");!this.option||e==="recreate"?UO(this,o):(this.restoreData(),this._mergeOption(o,n)),i=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var c=a.getTimelineOption(this);c&&(i=!0,this._mergeOption(c,n))}if(!e||e==="recreate"||e==="media"){var h=a.getMediaOption(this);h.length&&j(h,function(v){i=!0,this._mergeOption(v,n)},this)}return i},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,n){var i=this.option,a=this._componentsMap,o=this._componentsCount,c=[],h=Kt(),v=n&&n.replaceMergeMainTypeMap;Iit(this),j(e,function(y,m){y!=null&&(Te.hasClass(m)?m&&(c.push(m),h.set(m,!0)):i[m]=i[m]==null?ne(y):ge(i[m],y,!0))}),v&&v.each(function(y,m){Te.hasClass(m)&&!h.get(m)&&(c.push(m),h.set(m,!0))}),Te.topologicalTravel(c,Te.getAllClassMainTypes(),g,this);function g(y){var m=kit(this,y,Qe(e[y])),b=a.get(y),S=b?v&&v.get(y)?"replaceMerge":"normalMerge":"replaceAll",E=BB(b,m,S);Qet(E,y,Te),i[y]=null,a.set(y,null),o.set(y,0);var C=[],A=[],M=0,L;j(E,function(R,O){var P=R.existing,V=R.newOption;if(!V)P&&(P.mergeOption({},this),P.optionUpdated({},!1));else{var k=y==="series",F=Te.getClass(y,R.keyInfo.subType,!k);if(!F)return;if(y==="tooltip"){if(L)return;L=!0}if(P&&P.constructor===F)P.name=R.keyInfo.name,P.mergeOption(V,this),P.optionUpdated(V,!1);else{var H=At({componentIndex:O},R.keyInfo);P=new F(V,this,this,H),At(P,H),R.brandNew&&(P.__requireNewView=!0),P.init(V,this,this),P.optionUpdated(null,!0)}}P?(C.push(P.option),A.push(P),M++):(C.push(void 0),A.push(void 0))},this),i[y]=C,a.set(y,A),o.set(y,M),y==="series"&&Gy(this)}this._seriesIndices||Gy(this)},t.prototype.getOption=function(){var e=ne(this.option);return j(e,function(n,i){if(Te.hasClass(i)){for(var a=Qe(n),o=a.length,c=!1,h=o-1;h>=0;h--)a[h]&&!nv(a[h])?c=!0:(a[h]=null,!c&&o--);a.length=o,e[i]=a}}),delete e[WO],e},t.prototype.setTheme=function(e){this._theme=new Me(e),this._resetOption("recreate",null)},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,n){var i=this._componentsMap.get(e);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},t.prototype.queryComponents=function(e){var n=e.mainType;if(!n)return[];var i=e.index,a=e.id,o=e.name,c=this._componentsMap.get(n);if(!c||!c.length)return[];var h;return i!=null?(h=[],j(Qe(i),function(v){c[v]&&h.push(c[v])})):a!=null?h=jO("id",a,c):o!=null?h=jO("name",o,c):h=je(c,function(v){return!!v}),YO(h,e)},t.prototype.findComponents=function(e){var n=e.query,i=e.mainType,a=c(n),o=a?this.queryComponents(a):je(this._componentsMap.get(i),function(v){return!!v});return h(YO(o,e));function c(v){var g=i+"Index",y=i+"Id",m=i+"Name";return v&&(v[g]!=null||v[y]!=null||v[m]!=null)?{mainType:i,index:v[g],id:v[y],name:v[m]}:null}function h(v){return e.filter?je(v,e.filter):v}},t.prototype.eachComponent=function(e,n,i){var a=this._componentsMap;if(ee(e)){var o=n,c=e;a.each(function(y,m){for(var b=0;y&&b<y.length;b++){var S=y[b];S&&c.call(o,m,S,S.componentIndex)}})}else for(var h=$t(e)?a.get(e):se(e)?this.findComponents(e):null,v=0;h&&v<h.length;v++){var g=h[v];g&&n.call(i,g,g.componentIndex)}},t.prototype.getSeriesByName=function(e){var n=en(e,null);return je(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return je(this._componentsMap.get("series"),function(n){return!!n&&n.subType===e})},t.prototype.getSeries=function(){return je(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,n){Gp(this),j(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];e.call(n,a,i)},this)},t.prototype.eachRawSeries=function(e,n){j(this._componentsMap.get("series"),function(i){i&&e.call(n,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(e,n,i){Gp(this),j(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===e&&n.call(i,o,a)},this)},t.prototype.eachRawSeriesByType=function(e,n,i){return j(this.getSeriesByType(e),n,i)},t.prototype.isSeriesFiltered=function(e){return Gp(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,n){Gp(this);var i=[];j(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];e.call(n,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Kt(i)},t.prototype.restoreData=function(e){Gy(this);var n=this._componentsMap,i=[];n.each(function(a,o){Te.hasClass(o)&&i.push(o)}),Te.topologicalTravel(i,Te.getAllClassMainTypes(),function(a){j(n.get(a),function(o){o&&(a!=="series"||!Hit(o,e))&&o.restoreData()})})},t.internalField=(function(){Gy=function(e){var n=e._seriesIndices=[];j(e._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),e._seriesIndicesMap=Kt(n)},Gp=function(e){},UO=function(e,n){e.option={},e.option[WO]=Bit,e._componentsMap=Kt({series:[]}),e._componentsCount=Kt();var i=n.aria;se(i)&&i.enabled==null&&(i.enabled=!0),zit(n,e._theme.option),ge(n,Rit,!1),e._mergeOption(n,null)}})(),t})(Me);function Hit(r,t){if(t){var e=t.seriesIndex,n=t.seriesId,i=t.seriesName;return e!=null&&r.componentIndex!==e||n!=null&&r.id!==n||i!=null&&r.name!==i}}function zit(r,t){var e=r.color&&!r.colorLayer;j(t,function(n,i){i==="colorLayer"&&e||i==="color"&&r.color||Te.hasClass(i)||(typeof n=="object"?r[i]=r[i]?ge(r[i],n,!1):ne(n):r[i]==null&&(r[i]=n))})}function jO(r,t,e){if(Rt(t)){var n=Kt();return j(t,function(a){if(a!=null){var o=en(a,null);o!=null&&n.set(a,!0)}}),je(e,function(a){return a&&n.get(a[r])})}else{var i=en(t,null);return je(e,function(a){return a&&i!=null&&a[r]===i})}}function YO(r,t){return t.hasOwnProperty("subType")?je(r,function(e){return e&&e.subType===t.subType}):r}function $O(r){var t=Kt();return r&&j(Qe(r.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}Zr(IA,RA);var Uit=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],s4=(function(){function r(t){j(Uit,function(e){this[e]=qt(t[e],t)},this)}return r})(),Wit=/^(min|max)?(.+)$/,jit=(function(){function r(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return r.prototype.setOption=function(t,e,n){t&&(j(Qe(t.series),function(o){o&&o.data&&xi(o.data)&&u0(o.data)}),j(Qe(t.dataset),function(o){o&&o.source&&xi(o.source)&&u0(o.source)})),t=ne(t);var i=this._optionBackup,a=Yit(t,e,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},r.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],ne(t?e.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=ne(n[i.getCurrentIndex()]))}return e},r.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],c=[];if(!i.length&&!a)return c;for(var h=0,v=i.length;h<v;h++)$it(i[h].query,e,n)&&o.push(h);return!o.length&&a&&(o=[-1]),o.length&&!Xit(o,this._currentMediaIndices)&&(c=Pt(o,function(g){return ne(g===-1?a.option:i[g].option)})),this._currentMediaIndices=o,c},r})();function Yit(r,t,e){var n=[],i,a,o=r.baseOption,c=r.timeline,h=r.options,v=r.media,g=!!r.media,y=!!(h||c||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=c)):((y||g)&&(r.options=r.media=null),a=r),g&&Rt(v)&&j(v,function(b){b&&b.option&&(b.query?n.push(b):i||(i=b))}),m(a),j(h,function(b){return m(b)}),j(n,function(b){return m(b.option)});function m(b){j(t,function(S){S(b,e)})}return{baseOption:a,timelineOptions:h||[],mediaDefault:i,mediaList:n}}function $it(r,t,e){var n={width:t,height:e,aspectratio:t/e},i=!0;return j(r,function(a,o){var c=o.match(Wit);if(!(!c||!c[1]||!c[2])){var h=c[1],v=c[2].toLowerCase();qit(n[v],a,h)||(i=!1)}}),i}function qit(r,t,e){return e==="min"?r>=t:e==="max"?r<=t:r===t}function Xit(r,t){return r.join(",")===t.join(",")}var Sa=j,uv=se,qO=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function vw(r){var t=r&&r.itemStyle;if(t)for(var e=0,n=qO.length;e<n;e++){var i=qO[e],a=t.normal,o=t.emphasis;a&&a[i]&&(r[i]=r[i]||{},r[i].normal?ge(r[i].normal,a[i]):r[i].normal=a[i],a[i]=null),o&&o[i]&&(r[i]=r[i]||{},r[i].emphasis?ge(r[i].emphasis,o[i]):r[i].emphasis=o[i],o[i]=null)}}function Hn(r,t,e){if(r&&r[t]&&(r[t].normal||r[t].emphasis)){var n=r[t].normal,i=r[t].emphasis;n&&(e?(r[t].normal=r[t].emphasis=null,oe(r[t],n)):r[t]=n),i&&(r.emphasis=r.emphasis||{},r.emphasis[t]=i,i.focus&&(r.emphasis.focus=i.focus),i.blurScope&&(r.emphasis.blurScope=i.blurScope))}}function md(r){Hn(r,"itemStyle"),Hn(r,"lineStyle"),Hn(r,"areaStyle"),Hn(r,"label"),Hn(r,"labelLine"),Hn(r,"upperLabel"),Hn(r,"edgeLabel")}function zr(r,t){var e=uv(r)&&r[t],n=uv(e)&&e.textStyle;if(n)for(var i=0,a=K2.length;i<a;i++){var o=K2[i];n.hasOwnProperty(o)&&(e[o]=n[o])}}function Qi(r){r&&(md(r),zr(r,"label"),r.emphasis&&zr(r.emphasis,"label"))}function Zit(r){if(uv(r)){vw(r),md(r),zr(r,"label"),zr(r,"upperLabel"),zr(r,"edgeLabel"),r.emphasis&&(zr(r.emphasis,"label"),zr(r.emphasis,"upperLabel"),zr(r.emphasis,"edgeLabel"));var t=r.markPoint;t&&(vw(t),Qi(t));var e=r.markLine;e&&(vw(e),Qi(e));var n=r.markArea;n&&Qi(n);var i=r.data;if(r.type==="graph"){i=i||r.nodes;var a=r.links||r.edges;if(a&&!xi(a))for(var o=0;o<a.length;o++)Qi(a[o]);j(r.categories,function(v){md(v)})}if(i&&!xi(i))for(var o=0;o<i.length;o++)Qi(i[o]);if(t=r.markPoint,t&&t.data)for(var c=t.data,o=0;o<c.length;o++)Qi(c[o]);if(e=r.markLine,e&&e.data)for(var h=e.data,o=0;o<h.length;o++)Rt(h[o])?(Qi(h[o][0]),Qi(h[o][1])):Qi(h[o]);r.type==="gauge"?(zr(r,"axisLabel"),zr(r,"title"),zr(r,"detail")):r.type==="treemap"?(Hn(r.breadcrumb,"itemStyle"),j(r.levels,function(v){md(v)})):r.type==="tree"&&md(r.leaves)}}function Zo(r){return Rt(r)?r:r?[r]:[]}function XO(r){return(Rt(r)?r[0]:r)||{}}function Kit(r,t){Sa(Zo(r.series),function(n){uv(n)&&Zit(n)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),Sa(e,function(n){Sa(Zo(r[n]),function(i){i&&(zr(i,"axisLabel"),zr(i.axisPointer,"label"))})}),Sa(Zo(r.parallel),function(n){var i=n&&n.parallelAxisDefault;zr(i,"axisLabel"),zr(i&&i.axisPointer,"label")}),Sa(Zo(r.calendar),function(n){Hn(n,"itemStyle"),zr(n,"dayLabel"),zr(n,"monthLabel"),zr(n,"yearLabel")}),Sa(Zo(r.radar),function(n){zr(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Sa(Zo(r.geo),function(n){uv(n)&&(Qi(n),Sa(Zo(n.regions),function(i){Qi(i)}))}),Sa(Zo(r.timeline),function(n){Qi(n),Hn(n,"label"),Hn(n,"itemStyle"),Hn(n,"controlStyle",!0);var i=n.data;Rt(i)&&j(i,function(a){se(a)&&(Hn(a,"label"),Hn(a,"itemStyle"))})}),Sa(Zo(r.toolbox),function(n){Hn(n,"iconStyle"),Sa(n.feature,function(i){Hn(i,"iconStyle")})}),zr(XO(r.axisPointer),"label"),zr(XO(r.tooltip).axisPointer,"label")}function Jit(r,t){for(var e=t.split(","),n=r,i=0;i<e.length&&(n=n&&n[e[i]],n!=null);i++);return n}function Qit(r,t,e,n){for(var i=t.split(","),a=r,o,c=0;c<i.length-1;c++)o=i[c],a[o]==null&&(a[o]={}),a=a[o];a[i[c]]==null&&(a[i[c]]=e)}function ZO(r){r&&j(tat,function(t){t[0]in r&&!(t[1]in r)&&(r[t[1]]=r[t[0]])})}var tat=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],eat=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],gw=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Fp(r){var t=r&&r.itemStyle;if(t)for(var e=0;e<gw.length;e++){var n=gw[e][1],i=gw[e][0];t[n]!=null&&(t[i]=t[n])}}function KO(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function JO(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function rat(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function l4(r,t){if(r)for(var e=0;e<r.length;e++)t(r[e]),r[e]&&l4(r[e].children,t)}function u4(r,t){Kit(r,t),r.series=Qe(r.series),j(r.series,function(e){if(se(e)){var n=e.type;if(n==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(n==="pie"||n==="gauge"){e.clockWise!=null&&(e.clockwise=e.clockWise),KO(e.label);var i=e.data;if(i&&!xi(i))for(var a=0;a<i.length;a++)KO(i[a]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(n==="gauge"){var o=Jit(e,"pointer.color");o!=null&&Qit(e,"itemStyle.color",o)}else if(n==="bar"){Fp(e),Fp(e.backgroundStyle),Fp(e.emphasis);var i=e.data;if(i&&!xi(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Fp(i[a]),Fp(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var c=e.highlightPolicy;c&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=c)),JO(e),l4(e.data,JO)}else n==="graph"||n==="sankey"?rat(e):n==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&oe(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),ZO(e)}}),r.dataRange&&(r.visualMap=r.dataRange),j(eat,function(e){var n=r[e];n&&(Rt(n)||(n=[n]),j(n,function(i){ZO(i)}))})}function nat(r){var t=Kt();r.eachSeries(function(e){var n=e.get("stack");if(n){var i=t.get(n)||t.set(n,[]),a=e.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.push(o)}}),t.each(function(e){if(e.length!==0){var n=e[0].seriesModel,i=n.get("stackOrder")||"seriesAsc";i==="seriesDesc"&&e.reverse(),j(e,function(a,o){a.data.setCalculationInfo("stackedOnSeries",o>0?e[o-1].seriesModel:null)}),iat(e)}})}function iat(r){j(r,function(t,e){var n=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],o=t.data,c=t.isStackedByIndex,h=t.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(v,g,y){var m=o.get(t.stackedDimension,y);if(isNaN(m))return i;var b,S;c?S=o.getRawIndex(y):b=o.get(t.stackedByDimension,y);for(var E=NaN,C=e-1;C>=0;C--){var A=r[C];if(c||(S=A.data.rawIndexOf(A.stackedByDimension,b)),S>=0){var M=A.data.getByRawIndex(A.stackResultDimension,S);if(h==="all"||h==="positive"&&M>0||h==="negative"&&M<0||h==="samesign"&&m>=0&&M>0||h==="samesign"&&m<=0&&M<0){m=Fet(m,M),E=M;break}}}return n[0]=m,n[1]=E,n})})}var q_=(function(){function r(t){this.data=t.data||(t.sourceFormat===ka?{}:[]),this.sourceFormat=t.sourceFormat||e4,this.seriesLayoutBy=t.seriesLayoutBy||La,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var i=e[n];i.type==null&&i4(this,n)===Ln.Must&&(i.type="ordinal")}}return r})();function OA(r){return r instanceof q_}function oT(r,t,e){e=e||c4(r);var n=t.seriesLayoutBy,i=oat(r,e,n,t.sourceHeader,t.dimensions),a=new q_({data:r,sourceFormat:e,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:ne(t)});return a}function PA(r){return new q_({data:r,sourceFormat:xi(r)?bl:Hi})}function aat(r){return new q_({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:ne(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function c4(r){var t=e4;if(xi(r))t=bl;else if(Rt(r)){r.length===0&&(t=Sn);for(var e=0,n=r.length;e<n;e++){var i=r[e];if(i!=null){if(Rt(i)||xi(i)){t=Sn;break}else if(se(i)){t=zi;break}}}}else if(se(r)){for(var a in r)if(Xt(r,a)&&jn(r[a])){t=ka;break}}return t}function oat(r,t,e,n,i){var a,o;if(!r)return{dimensionsDefine:QO(i),startIndex:o,dimensionsDetectedCount:a};if(t===Sn){var c=r;n==="auto"||n==null?tP(function(v){v!=null&&v!=="-"&&($t(v)?o==null&&(o=1):o=0)},e,c,10):o=Re(n)?n:n?1:0,!i&&o===1&&(i=[],tP(function(v,g){i[g]=v!=null?v+"":""},e,c,1/0)),a=i?i.length:e===Lc?c.length:c[0]?c[0].length:null}else if(t===zi)i||(i=sat(r));else if(t===ka)i||(i=[],j(r,function(v,g){i.push(g)}));else if(t===Hi){var h=Dh(r[0]);a=Rt(h)&&h.length||1}return{startIndex:o,dimensionsDefine:QO(i),dimensionsDetectedCount:a}}function sat(r){for(var t=0,e;t<r.length&&!(e=r[t++]););if(e)return De(e)}function QO(r){if(r){var t=Kt();return Pt(r,function(e,n){e=se(e)?e:{name:e};var i={name:e.name,displayName:e.displayName,type:e.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i})}}function tP(r,t,e,n){if(t===Lc)for(var i=0;i<e.length&&i<n;i++)r(e[i]?e[i][0]:null,i);else for(var a=e[0]||[],i=0;i<a.length&&i<n;i++)r(a[i],i)}function f4(r){var t=r.sourceFormat;return t===zi||t===ka}var Lu,Nu,Ru,Iu,eP,rP,h4=(function(){function r(t,e){var n=OA(t)?t:PA(t);this._source=n;var i=this._data=n.data,a=n.sourceFormat;n.seriesLayoutBy,a===bl&&(this._offset=0,this._dimSize=e,this._data=i),rP(this,i,n)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(t,e){},r.prototype.appendData=function(t){},r.prototype.clean=function(){},r.protoInitialize=(function(){var t=r.prototype;t.pure=!1,t.persistent=!0})(),r.internalField=(function(){var t;rP=function(o,c,h){var v=h.sourceFormat,g=h.seriesLayoutBy,y=h.startIndex,m=h.dimensionsDefine,b=eP[kA(v,g)];if(At(o,b),v===bl)o.getItem=e,o.count=i,o.fillStorage=n;else{var S=p4(v,g);o.getItem=qt(S,null,c,y,m);var E=d4(v,g);o.count=qt(E,null,c,y,m)}};var e=function(o,c){o=o-this._offset,c=c||[];for(var h=this._data,v=this._dimSize,g=v*o,y=0;y<v;y++)c[y]=h[g+y];return c},n=function(o,c,h,v){for(var g=this._data,y=this._dimSize,m=0;m<y;m++){for(var b=v[m],S=b[0]==null?1/0:b[0],E=b[1]==null?-1/0:b[1],C=c-o,A=h[m],M=0;M<C;M++){var L=g[M*y+m];A[o+M]=L,L<S&&(S=L),L>E&&(E=L)}b[0]=S,b[1]=E}},i=function(){return this._data?this._data.length/this._dimSize:0};eP=(t={},t[Sn+"_"+La]={pure:!0,appendData:a},t[Sn+"_"+Lc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[zi]={pure:!0,appendData:a},t[ka]={pure:!0,appendData:function(o){var c=this._data;j(o,function(h,v){for(var g=c[v]||(c[v]=[]),y=0;y<(h||[]).length;y++)g.push(h[y])})}},t[Hi]={appendData:a},t[bl]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},t);function a(o){for(var c=0;c<o.length;c++)this._data.push(o[c])}})(),r})(),Fy=function(r){Rt(r)||VB("series.data or dataset.source must be an array.")};Lu={},Lu[Sn+"_"+La]=Fy,Lu[Sn+"_"+Lc]=Fy,Lu[zi]=Fy,Lu[ka]=function(r,t){for(var e=0;e<t.length;e++){var n=t[e].name;n==null&&VB("dimension name must not be null/undefined.")}},Lu[Hi]=Fy;var nP=function(r,t,e,n){return r[n]},lat=(Nu={},Nu[Sn+"_"+La]=function(r,t,e,n){return r[n+t]},Nu[Sn+"_"+Lc]=function(r,t,e,n,i){n+=t;for(var a=i||[],o=r,c=0;c<o.length;c++){var h=o[c];a[c]=h?h[n]:null}return a},Nu[zi]=nP,Nu[ka]=function(r,t,e,n,i){for(var a=i||[],o=0;o<e.length;o++){var c=e[o].name,h=c!=null?r[c]:null;a[o]=h?h[n]:null}return a},Nu[Hi]=nP,Nu);function p4(r,t){var e=lat[kA(r,t)];return e}var iP=function(r,t,e){return r.length},uat=(Ru={},Ru[Sn+"_"+La]=function(r,t,e){return Math.max(0,r.length-t)},Ru[Sn+"_"+Lc]=function(r,t,e){var n=r[0];return n?Math.max(0,n.length-t):0},Ru[zi]=iP,Ru[ka]=function(r,t,e){var n=e[0].name,i=n!=null?r[n]:null;return i?i.length:0},Ru[Hi]=iP,Ru);function d4(r,t){var e=uat[kA(r,t)];return e}var yw=function(r,t,e){return r[t]},cat=(Iu={},Iu[Sn]=yw,Iu[zi]=function(r,t,e){return r[e]},Iu[ka]=yw,Iu[Hi]=function(r,t,e){var n=Dh(r);return n instanceof Array?n[t]:n},Iu[bl]=yw,Iu);function v4(r){var t=cat[r];return t}function kA(r,t){return r===Sn?r+"_"+t:r}function vh(r,t,e){if(r){var n=r.getRawDataItem(t);if(n!=null){var i=r.getStore(),a=i.getSource().sourceFormat;if(e!=null){var o=r.getDimensionIndex(e),c=i.getDimensionProperty(o);return v4(a)(n,o,c)}else{var h=n;return a===Hi&&(h=Dh(n)),h}}}}var fat=/\{@(.+?)\}/g,X_=(function(){function r(){}return r.prototype.getDataParams=function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),a=n.getRawIndex(t),o=n.getName(t),c=n.getRawDataItem(t),h=n.getItemVisual(t,"style"),v=h&&h[n.getItemVisual(t,"drawType")||"fill"],g=h&&h.stroke,y=this.mainType,m=y==="series",b=n.userOutput&&n.userOutput.get();return{componentType:y,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:m?this.subType:null,seriesIndex:this.seriesIndex,seriesId:m?this.id:null,seriesName:m?this.name:null,name:o,dataIndex:a,data:c,dataType:e,value:i,color:v,borderColor:g,dimensionNames:b?b.fullDimensions:null,encode:b?b.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(t,e,n,i,a,o){e=e||"normal";var c=this.getData(n),h=this.getDataParams(t,n);if(o&&(h.value=o.interpolatedValue),i!=null&&Rt(h.value)&&(h.value=h.value[i]),!a){var v=c.getItemModel(t);a=v.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(ee(a))return h.status=e,h.dimensionIndex=i,a(h);if($t(a)){var g=UH(a,h);return g.replace(fat,function(y,m){var b=m.length,S=m;S.charAt(0)==="["&&S.charAt(b-1)==="]"&&(S=+S.slice(1,b-1));var E=vh(c,t,S);if(o&&Rt(o.interpolatedValue)){var C=c.getDimensionIndex(S);C>=0&&(E=o.interpolatedValue[C])}return E!=null?E+"":""})}},r.prototype.getRawValue=function(t,e){return vh(this.getData(e),t)},r.prototype.formatTooltip=function(t,e,n){},r})();function aP(r){var t,e;return se(r)?r.type&&(e=r):t=r,{text:t,frag:e}}function Ud(r){return new hat(r)}var hat=(function(){function r(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return r.prototype.perform=function(t){var e=this._upstream,n=t&&t.skip;if(this._dirty&&e){var i=this.context;i.data=i.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=g(this._modBy),c=this._modDataCount||0,h=g(t&&t.modBy),v=t&&t.modDataCount||0;(o!==h||c!==v)&&(a="reset");function g(M){return!(M>=1)&&(M=1),M}var y;(this._dirty||a==="reset")&&(this._dirty=!1,y=this._doReset(n)),this._modBy=h,this._modDataCount=v;var m=t&&t.step;if(e?this._dueEnd=e._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var b=this._dueIndex,S=Math.min(m!=null?this._dueIndex+m:1/0,this._dueEnd);if(!n&&(y||b<S)){var E=this._progress;if(Rt(E))for(var C=0;C<E.length;C++)this._doProgress(E[C],b,S,h,v);else this._doProgress(E,b,S,h,v)}this._dueIndex=S;var A=this._settedOutputEnd!=null?this._settedOutputEnd:S;this._outputDueEnd=A}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(t,e,n,i,a){oP.reset(e,n,i,a),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:oP.next},this.context)},r.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var e,n;!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(n=e.forceFirstProgress,e=e.progress),Rt(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},r})(),oP=(function(){var r,t,e,n,i,a={reset:function(h,v,g,y){t=h,r=v,e=g,n=y,i=Math.ceil(n/e),a.next=e>1&&n>0?c:o}};return a;function o(){return t<r?t++:null}function c(){var h=t%i*e+Math.ceil(t/i),v=t>=r?null:h<n?h:t;return t++,v}})();function Sl(r,t){var e=t&&t.type;return e==="ordinal"?r:(e==="time"&&!Re(r)&&r!=null&&r!=="-"&&(r=+Ac(r)),r==null||r===""?NaN:Number(r))}var pat=Kt({number:function(r){return parseFloat(r)},time:function(r){return+Ac(r)},trim:function(r){return $t(r)?oa(r):r}});function g4(r){return pat.get(r)}var y4={lt:function(r,t){return r<t},lte:function(r,t){return r<=t},gt:function(r,t){return r>t},gte:function(r,t){return r>=t}},dat=(function(){function r(t,e){if(!Re(e)){var n="";ze(n)}this._opFn=y4[t],this._rvalFloat=gs(e)}return r.prototype.evaluate=function(t){return Re(t)?this._opFn(t,this._rvalFloat):this._opFn(gs(t),this._rvalFloat)},r})(),m4=(function(){function r(t,e){var n=t==="desc";this._resultLT=n?1:-1,e==null&&(e=n?"min":"max"),this._incomparable=e==="min"?-1/0:1/0}return r.prototype.evaluate=function(t,e){var n=Re(t)?t:gs(t),i=Re(e)?e:gs(e),a=isNaN(n),o=isNaN(i);if(a&&(n=this._incomparable),o&&(i=this._incomparable),a&&o){var c=$t(t),h=$t(e);c&&(n=h?t:0),h&&(i=c?e:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},r})(),vat=(function(){function r(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=gs(e)}return r.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(e=gs(t)===this._rvalFloat)}return this._isEQ?e:!e},r})();function gat(r,t){return r==="eq"||r==="ne"?new vat(r==="eq",t):Xt(y4,r)?new dat(r,t):null}var yat=(function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(t){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(t){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(t,e){},r.prototype.retrieveValueFromItem=function(t,e){},r.prototype.convertValue=function(t,e){return Sl(t,e)},r})();function mat(r,t){var e=new yat,n=r.data,i=e.sourceFormat=r.sourceFormat,a=r.startIndex,o="";r.seriesLayoutBy!==La&&ze(o);var c=[],h={},v=r.dimensionsDefine;if(v)j(v,function(E,C){var A=E.name,M={index:C,name:A,displayName:E.displayName};if(c.push(M),A!=null){var L="";Xt(h,A)&&ze(L),h[A]=M}});else for(var g=0;g<r.dimensionsDetectedCount;g++)c.push({index:g});var y=p4(i,La);t.__isBuiltIn&&(e.getRawDataItem=function(E){return y(n,a,c,E)},e.getRawData=qt(_at,null,r)),e.cloneRawData=qt(bat,null,r);var m=d4(i,La);e.count=qt(m,null,n,a,c);var b=v4(i);e.retrieveValue=function(E,C){var A=y(n,a,c,E);return S(A,C)};var S=e.retrieveValueFromItem=function(E,C){if(E!=null){var A=c[C];if(A)return b(E,C,A.name)}};return e.getDimensionInfo=qt(Sat,null,c,h),e.cloneAllDimensionInfo=qt(wat,null,c),e}function _at(r){var t=r.sourceFormat;if(!VA(t)){var e="";ze(e)}return r.data}function bat(r){var t=r.sourceFormat,e=r.data;if(!VA(t)){var n="";ze(n)}if(t===Sn){for(var i=[],a=0,o=e.length;a<o;a++)i.push(e[a].slice());return i}else if(t===zi){for(var i=[],a=0,o=e.length;a<o;a++)i.push(At({},e[a]));return i}}function Sat(r,t,e){if(e!=null){if(Re(e)||!isNaN(e)&&!Xt(t,e))return r[e];if(Xt(t,e))return t[e]}}function wat(r){return ne(r)}var _4=Kt();function xat(r){r=ne(r);var t=r.type,e="";t||ze(e);var n=t.split(":");n.length!==2&&ze(e);var i=!1;n[0]==="echarts"&&(t=n[1],i=!0),r.__isBuiltIn=i,_4.set(t,r)}function Eat(r,t,e){var n=Qe(r),i=n.length,a="";i||ze(a);for(var o=0,c=i;o<c;o++){var h=n[o];t=Tat(h,t),o!==c-1&&(t.length=Math.max(t.length,1))}return t}function Tat(r,t,e,n){var i="";t.length||ze(i),se(r)||ze(i);var a=r.type,o=_4.get(a);o||ze(i);var c=Pt(t,function(v){return mat(v,o)}),h=Qe(o.transform({upstream:c[0],upstreamList:c,config:ne(r.config)}));return Pt(h,function(v,g){var y="";se(v)||ze(y),v.data||ze(y);var m=c4(v.data);VA(m)||ze(y);var b,S=t[0];if(S&&g===0&&!v.dimensions){var E=S.startIndex;E&&(v.data=S.data.slice(0,E).concat(v.data)),b={seriesLayoutBy:La,sourceHeader:E,dimensions:S.metaRawOption.dimensions}}else b={seriesLayoutBy:La,sourceHeader:0,dimensions:v.dimensions};return oT(v.data,b,null)})}function VA(r){return r===Sn||r===zi}var Z_="undefined",Cat=typeof Uint32Array===Z_?Array:Uint32Array,Aat=typeof Uint16Array===Z_?Array:Uint16Array,b4=typeof Int32Array===Z_?Array:Int32Array,sP=typeof Float64Array===Z_?Array:Float64Array,S4={float:sP,int:b4,ordinal:Array,number:Array,time:sP},mw;function xf(r){return r>65535?Cat:Aat}function Ef(){return[1/0,-1/0]}function Mat(r){var t=r.constructor;return t===Array?r.slice():new t(r)}function lP(r,t,e,n,i){var a=S4[e||"float"];if(i){var o=r[t],c=o&&o.length;if(c!==n){for(var h=new a(n),v=0;v<c;v++)h[v]=o[v];r[t]=h}}else r[t]=new a(n)}var sT=(function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Kt()}return r.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),a=this.defaultDimValueGetter=mw[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],f4(i),this._dimensions=Pt(e,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,t.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(t);if(a!=null){if(i[a].type===e)return a}else a=i.length;return i[a]={type:e},n.set(t,a),this._chunks[a]=new S4[e||"float"](this._rawCount),this._rawExtent[a]=Ef(),a},r.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],i=this._dimensions[t],a=this._rawExtent,o=i.ordinalOffset||0,c=n.length;o===0&&(a[t]=Ef());for(var h=a[t],v=o;v<c;v++){var g=n[v]=e.parseAndCollect(n[v]);isNaN(g)||(h[0]=Math.min(g,h[0]),h[1]=Math.max(g,h[1]))}i.ordinalMeta=e,i.ordinalOffset=c,i.type="ordinal"},r.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],n=e.ordinalMeta;return n},r.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},r.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},r.prototype.appendValues=function(t,e){for(var n=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,c=this.count(),h=c+Math.max(t.length,e||0),v=0;v<a;v++){var g=i[v];lP(n,v,g.type,h,!0)}for(var y=[],m=c;m<h;m++)for(var b=m-c,S=0;S<a;S++){var g=i[S],E=mw.arrayRows.call(this,t[b]||y,g.property,b,S);n[S][m]=E;var C=o[S];E<C[0]&&(C[0]=E),E>C[1]&&(C[1]=E)}return this._rawCount=this._count=h,{start:c,end:h}},r.prototype._initDataFromProvider=function(t,e,n){for(var i=this._provider,a=this._chunks,o=this._dimensions,c=o.length,h=this._rawExtent,v=Pt(o,function(M){return M.property}),g=0;g<c;g++){var y=o[g];h[g]||(h[g]=Ef()),lP(a,g,y.type,e,n)}if(i.fillStorage)i.fillStorage(t,e,a,h);else for(var m=[],b=t;b<e;b++){m=i.getItem(b,m);for(var S=0;S<c;S++){var E=a[S],C=this._dimValueGetter(m,v[S],b,S);E[b]=C;var A=h[S];C<A[0]&&(A[0]=C),C>A[1]&&(A[1]=C)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},r.prototype.getValues=function(t,e){var n=[],i=[];if(e==null){e=t,t=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=t;for(var a=0,o=i.length;a<o;a++)n.push(this.get(i[a],e));return n},r.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},r.prototype.getSum=function(t){var e=this._chunks[t],n=0;if(e)for(var i=0,a=this.count();i<a;i++){var o=this.get(t,i);isNaN(o)||(n+=o)}return n},r.prototype.getMedian=function(t){var e=[];this.each([t],function(a){isNaN(a)||e.push(a)});var n=e.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},r.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(n!=null&&n<this._count&&n===t)return t;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(e[o]<t)i=o+1;else if(e[o]>t)a=o-1;else return o}return-1},r.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,i=this._count;if(n===Array){t=new n(i);for(var a=0;a<i;a++)t[a]=e[a]}else t=new n(e.buffer,0,i)}else{var n=xf(this._rawCount);t=new n(this.count());for(var a=0;a<t.length;a++)t[a]=a}return t},r.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=xf(n._rawCount),o=new a(i),c=[],h=t.length,v=0,g=t[0],y=n._chunks,m=0;m<i;m++){var b=void 0,S=n.getRawIndex(m);if(h===0)b=e(m);else if(h===1){var E=y[g][S];b=e(E,m)}else{for(var C=0;C<h;C++)c[C]=y[t[C]][S];c[C]=m,b=e.apply(null,c)}b&&(o[v++]=S)}return v<i&&(n._indices=o),n._count=v,n._extent=[],n._updateGetRawIdx(),n},r.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var i=De(t),a=i.length;if(!a)return this;var o=e.count(),c=xf(e._rawCount),h=new c(o),v=0,g=i[0],y=t[g][0],m=t[g][1],b=e._chunks,S=!1;if(!e._indices){var E=0;if(a===1){for(var C=b[i[0]],A=0;A<n;A++){var M=C[A];(M>=y&&M<=m||isNaN(M))&&(h[v++]=E),E++}S=!0}else if(a===2){for(var C=b[i[0]],L=b[i[1]],R=t[i[1]][0],O=t[i[1]][1],A=0;A<n;A++){var M=C[A],P=L[A];(M>=y&&M<=m||isNaN(M))&&(P>=R&&P<=O||isNaN(P))&&(h[v++]=E),E++}S=!0}}if(!S)if(a===1)for(var A=0;A<o;A++){var V=e.getRawIndex(A),M=b[i[0]][V];(M>=y&&M<=m||isNaN(M))&&(h[v++]=V)}else for(var A=0;A<o;A++){for(var k=!0,V=e.getRawIndex(A),F=0;F<a;F++){var H=i[F],M=b[H][V];(M<t[H][0]||M>t[H][1])&&(k=!1)}k&&(h[v++]=e.getRawIndex(A))}return v<o&&(e._indices=h),e._count=v,e._extent=[],e._updateGetRawIdx(),e},r.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},r.prototype.modify=function(t,e){this._updateDims(this,t,e)},r.prototype._updateDims=function(t,e,n){for(var i=t._chunks,a=[],o=e.length,c=t.count(),h=[],v=t._rawExtent,g=0;g<e.length;g++)v[e[g]]=Ef();for(var y=0;y<c;y++){for(var m=t.getRawIndex(y),b=0;b<o;b++)h[b]=i[e[b]][m];h[o]=y;var S=n&&n.apply(null,h);if(S!=null){typeof S!="object"&&(a[0]=S,S=a);for(var g=0;g<S.length;g++){var E=e[g],C=S[g],A=v[E],M=i[E];M&&(M[m]=C),C<A[0]&&(A[0]=C),C>A[1]&&(A[1]=C)}}}},r.prototype.lttbDownSample=function(t,e){var n=this.clone([t],!0),i=n._chunks,a=i[t],o=this.count(),c=0,h=Math.floor(1/e),v=this.getRawIndex(0),g,y,m,b=new(xf(this._rawCount))(Math.min((Math.ceil(o/h)+2)*2,o));b[c++]=v;for(var S=1;S<o-1;S+=h){for(var E=Math.min(S+h,o-1),C=Math.min(S+h*2,o),A=(C+E)/2,M=0,L=E;L<C;L++){var R=this.getRawIndex(L),O=a[R];isNaN(O)||(M+=O)}M/=C-E;var P=S,V=Math.min(S+h,o),k=S-1,F=a[v];g=-1,m=P;for(var H=-1,W=0,L=P;L<V;L++){var R=this.getRawIndex(L),O=a[R];if(isNaN(O)){W++,H<0&&(H=R);continue}y=Math.abs((k-A)*(O-F)-(k-L)*(M-F)),y>g&&(g=y,m=R)}W>0&&W<V-P&&(b[c++]=Math.min(H,m),m=Math.max(H,m)),b[c++]=m,v=m}return b[c++]=this.getRawIndex(o-1),n._count=c,n._indices=b,n.getRawIndex=this._getRawIdx,n},r.prototype.minmaxDownSample=function(t,e){for(var n=this.clone([t],!0),i=n._chunks,a=Math.floor(1/e),o=i[t],c=this.count(),h=new(xf(this._rawCount))(Math.ceil(c/a)*2),v=0,g=0;g<c;g+=a){var y=g,m=o[this.getRawIndex(y)],b=g,S=o[this.getRawIndex(b)],E=a;g+a>c&&(E=c-g);for(var C=0;C<E;C++){var A=this.getRawIndex(g+C),M=o[A];M<m&&(m=M,y=g+C),M>S&&(S=M,b=g+C)}var L=this.getRawIndex(y),R=this.getRawIndex(b);y<b?(h[v++]=L,h[v++]=R):(h[v++]=R,h[v++]=L)}return n._count=v,n._indices=h,n._updateGetRawIdx(),n},r.prototype.downSample=function(t,e,n,i){for(var a=this.clone([t],!0),o=a._chunks,c=[],h=Math.floor(1/e),v=o[t],g=this.count(),y=a._rawExtent[t]=Ef(),m=new(xf(this._rawCount))(Math.ceil(g/h)),b=0,S=0;S<g;S+=h){h>g-S&&(h=g-S,c.length=h);for(var E=0;E<h;E++){var C=this.getRawIndex(S+E);c[E]=v[C]}var A=n(c),M=this.getRawIndex(Math.min(S+i(c,A)||0,g-1));v[M]=A,A<y[0]&&(y[0]=A),A>y[1]&&(y[1]=A),m[b++]=M}return a._count=b,a._indices=m,a._updateGetRawIdx(),a},r.prototype.each=function(t,e){if(this._count)for(var n=t.length,i=this._chunks,a=0,o=this.count();a<o;a++){var c=this.getRawIndex(a);switch(n){case 0:e(a);break;case 1:e(i[t[0]][c],a);break;case 2:e(i[t[0]][c],i[t[1]][c],a);break;default:for(var h=0,v=[];h<n;h++)v[h]=i[t[h]][c];v[h]=a,e.apply(null,v)}}},r.prototype.getDataExtent=function(t){var e=this._chunks[t],n=Ef();if(!e)return n;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[t].slice();if(o=this._extent[t],o)return o.slice();o=n;for(var c=o[0],h=o[1],v=0;v<i;v++){var g=this.getRawIndex(v),y=e[g];y<c&&(c=y),y>h&&(h=y)}return o=[c,h],this._extent[t]=o,o},r.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][e]);return n},r.prototype.clone=function(t,e){var n=new r,i=this._chunks,a=t&&Lo(t,function(c,h){return c[h]=!0,c},{});if(a)for(var o=0;o<i.length;o++)n._chunks[o]=a[o]?Mat(i[o]):i[o];else n._chunks=i;return this._copyCommonProps(n),e||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},r.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=ne(this._extent),t._rawExtent=ne(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var i=0;i<n;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},r.prototype._getRawIdxIdentity=function(t){return t},r.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=(function(){function t(e,n,i,a){return Sl(e[a],this._dimensions[a])}mw={arrayRows:t,objectRows:function(e,n,i,a){return Sl(e[n],this._dimensions[a])},keyedColumns:t,original:function(e,n,i,a){var o=e&&(e.value==null?e:e.value);return Sl(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(e,n,i,a){return e[a]}}})(),r})(),w4=(function(){function r(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,e=this._getUpstreamSourceManagers(),n=!!e.length,i,a;if(By(t)){var o=t,c=void 0,h=void 0,v=void 0;if(n){var g=e[0];g.prepareSource(),v=g.getSource(),c=v.data,h=v.sourceFormat,a=[g._getVersionSign()]}else c=o.get("data",!0),h=xi(c)?bl:Hi,a=[];var y=this._getSourceMetaRawOption()||{},m=v&&v.metaRawOption||{},b=Jt(y.seriesLayoutBy,m.seriesLayoutBy)||null,S=Jt(y.sourceHeader,m.sourceHeader),E=Jt(y.dimensions,m.dimensions),C=b!==m.seriesLayoutBy||!!S!=!!m.sourceHeader||E;i=C?[oT(c,{seriesLayoutBy:b,sourceHeader:S,dimensions:E},h)]:[]}else{var A=t;if(n){var M=this._applyTransform(e);i=M.sourceList,a=M.upstreamSignList}else{var L=A.get("source",!0);i=[oT(L,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},r.prototype._applyTransform=function(t){var e=this._sourceHost,n=e.get("transform",!0),i=e.get("fromTransformResult",!0);if(i!=null){var a="";t.length!==1&&cP(a)}var o,c=[],h=[];return j(t,function(v){v.prepareSource();var g=v.getSource(i||0),y="";i!=null&&!g&&cP(y),c.push(g),h.push(v._getVersionSign())}),n?o=Eat(n,c,{datasetIndex:e.componentIndex}):i!=null&&(o=[aat(c[0])]),{sourceList:o,upstreamSignList:h}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},r.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},r.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},r.prototype._innerGetDataStore=function(t,e,n){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var c=o[n];if(!c){var h=this._getUpstreamSourceManagers()[0];By(this._sourceHost)&&h?c=h._innerGetDataStore(t,e,n):(c=new sT,c.initData(new h4(e,t.length),t)),o[n]=c}return c},r.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(By(t)){var e=NA(t);return e?[e.getSourceManager()]:[]}else return Pt(Oit(t),function(n){return n.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,e,n,i;if(By(t))e=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:n,dimensions:i}},r})();function uP(r){var t=r.option.transform;t&&u0(r.option.transform)}function By(r){return r.mainType==="series"}function cP(r){throw new Error(r)}var Dat="line-height:1";function x4(r){var t=r.lineHeight;return t==null?Dat:"line-height:"+si(t+"")+"px"}function E4(r,t){var e=r.color||yt.color.tertiary,n=r.fontSize||12,i=r.fontWeight||"400",a=r.color||yt.color.secondary,o=r.fontSize||14,c=r.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+si(n+"")+"px;color:"+si(e)+";font-weight:"+si(i+""),valueStyle:"font-size:"+si(o+"")+"px;color:"+si(a)+";font-weight:"+si(c+"")}:{nameStyle:{fontSize:n,fill:e,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:c}}}var Lat=[0,10,20,30],Nat=["",`
`,`

`,`


`];function qr(r,t){return t.type=r,t}function lT(r){return r.type==="section"}function T4(r){return lT(r)?Rat:Iat}function C4(r){if(lT(r)){var t=0,e=r.blocks.length,n=e>1||e>0&&!r.noHeader;return j(r.blocks,function(i){var a=C4(i);a>=t&&(t=a+ +(n&&(!a||lT(i)&&!i.noHeader)))}),t}return 0}function Rat(r,t,e,n){var i=t.noHeader,a=Oat(C4(t)),o=[],c=t.blocks||[];Yn(!c||Rt(c)),c=c||[];var h=r.orderMode;if(t.sortBlocks&&h){c=c.slice();var v={valueAsc:"asc",valueDesc:"desc"};if(Xt(v,h)){var g=new m4(v[h],null);c.sort(function(E,C){return g.evaluate(E.sortParam,C.sortParam)})}else h==="seriesDesc"&&c.reverse()}j(c,function(E,C){var A=t.valueFormatter,M=T4(E)(A?At(At({},r),{valueFormatter:A}):r,E,C>0?a.html:0,n);M!=null&&o.push(M)});var y=r.renderMode==="richText"?o.join(a.richText):uT(n,o.join(""),i?e:a.html);if(i)return y;var m=rT(t.header,"ordinal",r.useUTC),b=E4(n,r.renderMode).nameStyle,S=x4(n);return r.renderMode==="richText"?A4(r,m,b)+a.richText+y:uT(n,'<div style="'+b+";"+S+';">'+si(m)+"</div>"+y,e)}function Iat(r,t,e,n){var i=r.renderMode,a=t.noName,o=t.noValue,c=!t.markerType,h=t.name,v=r.useUTC,g=t.valueFormatter||r.valueFormatter||function(R){return R=Rt(R)?R:[R],Pt(R,function(O,P){return rT(O,Rt(b)?b[P]:b,v)})};if(!(a&&o)){var y=c?"":r.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||yt.color.secondary,i),m=a?"":rT(h,"ordinal",v),b=t.valueType,S=o?[]:g(t.value,t.dataIndex),E=!c||!a,C=!c&&a,A=E4(n,i),M=A.nameStyle,L=A.valueStyle;return i==="richText"?(c?"":y)+(a?"":A4(r,m,M))+(o?"":Vat(r,S,E,C,L)):uT(n,(c?"":y)+(a?"":Pat(m,!c,M))+(o?"":kat(S,E,C,L)),e)}}function fP(r,t,e,n,i,a){if(r){var o=T4(r),c={useUTC:i,renderMode:e,orderMode:n,markupStyleCreator:t,valueFormatter:r.valueFormatter};return o(c,r,0,a)}}function Oat(r){return{html:Lat[r],richText:Nat[r]}}function uT(r,t,e){var n='<div style="clear:both"></div>',i="margin: "+e+"px 0 0",a=x4(r);return'<div style="'+i+";"+a+';">'+t+n+"</div>"}function Pat(r,t,e){var n=t?"margin-left:2px":"";return'<span style="'+e+";"+n+'">'+si(r)+"</span>"}function kat(r,t,e,n){var i=e?"10px":"20px",a=t?"float:right;margin-left:"+i:"";return r=Rt(r)?r:[r],'<span style="'+a+";"+n+'">'+Pt(r,function(o){return si(o)}).join("&nbsp;&nbsp;")+"</span>"}function A4(r,t,e){return r.markupStyleCreator.wrapRichTextStyle(t,e)}function Vat(r,t,e,n,i){var a=[i],o=n?10:20;return e&&a.push({padding:[0,0,0,o],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(Rt(t)?t.join("  "):t,a)}function M4(r,t){var e=r.getData().getItemVisual(t,"style"),n=e[r.visualDrawType];return Sc(n)}function D4(r,t){var e=r.get("padding");return e??(t==="richText"?[8,10]:10)}var _w=(function(){function r(){this.richTextStyles={},this._nextStyleNameId=PB()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(t,e,n){var i=n==="richText"?this._generateStyleName():null,a=xit({color:e,type:t,renderMode:n,markerId:i});return $t(a)?a:(this.richTextStyles[i]=a.style,a.content)},r.prototype.wrapRichTextStyle=function(t,e){var n={};Rt(e)?j(e,function(a){return At(n,a)}):At(n,e);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},r})();function L4(r){var t=r.series,e=r.dataIndex,n=r.multipleSeries,i=t.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,c=t.getRawValue(e),h=Rt(c),v=M4(t,e),g,y,m,b;if(o>1||h&&!o){var S=Gat(c,t,e,a,v);g=S.inlineValues,y=S.inlineValueTypes,m=S.blocks,b=S.inlineValues[0]}else if(o){var E=i.getDimensionInfo(a[0]);b=g=vh(i,e,a[0]),y=E.type}else b=g=h?c[0]:c;var C=nA(t),A=C&&t.name||"",M=i.getName(e),L=n?A:M;return qr("section",{header:A,noHeader:n||!C,sortParam:b,blocks:[qr("nameValue",{markerType:"item",markerColor:v,name:L,noName:!oa(L),value:g,valueType:y,dataIndex:e})].concat(m||[])})}function Gat(r,t,e,n,i){var a=t.getData(),o=Lo(r,function(y,m,b){var S=a.getDimensionInfo(b);return y=y||S&&S.tooltip!==!1&&S.displayName!=null},!1),c=[],h=[],v=[];n.length?j(n,function(y){g(vh(a,e,y),y)}):j(r,g);function g(y,m){var b=a.getDimensionInfo(m);!b||b.otherDims.tooltip===!1||(o?v.push(qr("nameValue",{markerType:"subItem",markerColor:i,name:b.displayName,value:y,valueType:b.type})):(c.push(y),h.push(b.type)))}return{inlineValues:c,inlineValueTypes:h,blocks:v}}var $s=xe();function Hy(r,t){return r.getName(t)||r.getId(t)}var qm="__universalTransitionEnabled",or=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return t.prototype.init=function(e,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Ud({count:Bat,reset:Hat}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,i);var a=$s(this).sourceManager=new w4(this);a.prepareSource();var o=this.getInitialData(e,i);pP(o,this),this.dataTask.context.data=o,$s(this).dataBeforeProcessed=o,hP(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,n){var i=lv(this),a=i?Dc(e):{},o=this.subType;Te.hasClass(o)&&(o+="Series"),ge(e,n.getTheme().get(this.subType)),ge(e,this.getDefaultOption()),vc(e,"label",["show"]),this.fillDataTextStyle(e.data),i&&Oo(e,a,i)},t.prototype.mergeOption=function(e,n){e=ge(this.option,e,!0),this.fillDataTextStyle(e.data);var i=lv(this);i&&Oo(this.option,e,i);var a=$s(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(e,n);pP(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,$s(this).dataBeforeProcessed=o,hP(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(e){if(e&&!xi(e))for(var n=["show"],i=0;i<e.length;i++)e[i]&&e[i].label&&vc(e[i],"label",n)},t.prototype.getInitialData=function(e,n){},t.prototype.appendData=function(e){var n=this.getRawData();n.appendData(e.data)},t.prototype.getData=function(e){var n=cT(this);if(n){var i=n.context.data;return e==null||!i.getLinkedData?i:i.getLinkedData(e)}else return $s(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var n=cT(this);if(n){var i=n.context;i.outputData=e,n!==this.dataTask&&(i.data=e)}$s(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Kt(e)},t.prototype.getSourceManager=function(){return $s(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return $s(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.indicesOfNearest=function(e,n,i,a){var o=this.getData(),c=this.coordinateSystem,h=c&&c.getAxis(e);if(!c||!h)return[];var v=h.dataToCoord(i);a==null&&(a=1/0);var g=[],y=1/0,m=-1,b=0;return o.each(n,function(S,E){var C=h.dataToCoord(S),A=v-C,M=Math.abs(A);M<=a&&((M<y||M===y&&A>=0&&m<0)&&(y=M,m=A,b=0),A===m&&(g[b++]=E))}),g.length=b,g},t.prototype.formatTooltip=function(e,n,i){return L4({series:this,dataIndex:e,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(Ae.node&&!(e&&e.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,n,i){var a=this.ecModel,o=RA.prototype.getColorFromPalette.call(this,e,n,i);return o||(o=a.getColorFromPalette(e,n,i)),o},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,n){this._innerSelect(this.getData(n),e)},t.prototype.unselect=function(e,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var c=0;c<e.length;c++){var h=e[c],v=Hy(o,h);i[v]=!1,this._selectedDataIndicesMap[v]=-1}}},t.prototype.toggleSelect=function(e,n){for(var i=[],a=0;a<e.length;a++)i[0]=e[a],this.isSelected(e[a],n)?this.unselect(i,n):this.select(i,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,n=De(e),i=[],a=0;a<n.length;a++){var o=e[n[a]];o>=0&&i.push(o)}return i},t.prototype.isSelected=function(e,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[Hy(a,e)])&&!a.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[qm])return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},t.prototype._innerSelect=function(e,n){var i,a,o=this.option,c=o.selectedMode,h=n.length;if(!(!c||!h)){if(c==="series")o.selectedMap="all";else if(c==="multiple"){se(o.selectedMap)||(o.selectedMap={});for(var v=o.selectedMap,g=0;g<h;g++){var y=n[g],m=Hy(e,y);v[m]=!0,this._selectedDataIndicesMap[m]=e.getRawIndex(y)}}else if(c==="single"||c===!0){var b=n[h-1],m=Hy(e,b);o.selectedMap=(i={},i[m]=!0,i),this._selectedDataIndicesMap=(a={},a[m]=e.getRawIndex(b),a)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var n=[];e.hasItemOption&&e.each(function(i){var a=e.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(e,n)}},t.registerClass=function(e){return Te.registerClass(e)},t.protoInitialize=(function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"})(),t})(Te);Zr(or,X_);Zr(or,RA);WB(or,Te);function hP(r){var t=r.name;nA(r)||(r.name=Fat(r)||t)}function Fat(r){var t=r.getRawData(),e=t.mapDimensionsAll("seriesName"),n=[];return j(e,function(i){var a=t.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function Bat(r){return r.model.getRawData().count()}function Hat(r){var t=r.model;return t.setData(t.getRawData().cloneShallow()),zat}function zat(r,t){t.outputData&&r.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function pP(r,t){j(Jd(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(e){r.wrapMethod(e,de(Uat,t))})}function Uat(r,t){var e=cT(r);return e&&e.setOutputEnd((t||this).count()),t}function cT(r){var t=(r.ecModel||{}).scheduler,e=t&&t.getPipeline(r.uid);if(e){var n=e.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(r.uid))}return n}}var dr=(function(){function r(){this.group=new re,this.uid=Ph("viewComponent")}return r.prototype.init=function(t,e){},r.prototype.render=function(t,e,n,i){},r.prototype.dispose=function(t,e){},r.prototype.updateView=function(t,e,n,i){},r.prototype.updateLayout=function(t,e,n,i){},r.prototype.updateVisual=function(t,e,n,i){},r.prototype.toggleBlurSeries=function(t,e,n){},r.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},r})();aA(dr);R_(dr);function kh(){var r=xe();return function(t){var e=r(t),n=t.pipelineContext,i=!!e.large,a=!!e.progressiveRender,o=e.large=!!(n&&n.large),c=e.progressiveRender=!!(n&&n.progressiveRender);return(i!==o||a!==c)&&"reset"}}var N4=xe(),Wat=kh(),Ke=(function(){function r(){this.group=new re,this.uid=Ph("viewChart"),this.renderTask=Ud({plan:jat,reset:Yat}),this.renderTask.context={view:this}}return r.prototype.init=function(t,e){},r.prototype.render=function(t,e,n,i){},r.prototype.highlight=function(t,e,n,i){var a=t.getData(i&&i.dataType);a&&vP(a,i,"emphasis")},r.prototype.downplay=function(t,e,n,i){var a=t.getData(i&&i.dataType);a&&vP(a,i,"normal")},r.prototype.remove=function(t,e){this.group.removeAll()},r.prototype.dispose=function(t,e){},r.prototype.updateView=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.updateLayout=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.eachRendered=function(t){Rl(this.group,t)},r.markUpdateMethod=function(t,e){N4(t).updateMethod=e},r.protoInitialize=(function(){var t=r.prototype;t.type="chart"})(),r})();function dP(r,t,e){r&&av(r)&&(t==="emphasis"?ys:ms)(r,e)}function vP(r,t,e){var n=gc(r,t),i=t&&t.highlightKey!=null?gnt(t.highlightKey):null;n!=null?j(Qe(n),function(a){dP(r.getItemGraphicEl(a),e,i)}):r.eachItemGraphicEl(function(a){dP(a,e,i)})}aA(Ke);R_(Ke);function jat(r){return Wat(r.model)}function Yat(r){var t=r.model,e=r.ecModel,n=r.api,i=r.payload,a=t.pipelineContext.progressiveRender,o=r.view,c=i&&N4(i).updateMethod,h=a?"incrementalPrepareRender":c&&o[c]?c:"render";return h!=="render"&&o[h](t,e,n,i),$at[h]}var $at={incrementalPrepareRender:{progress:function(r,t){t.view.incrementalRender(r,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(r,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},D0="\0__throttleOriginMethod",gP="\0__throttleRate",yP="\0__throttleType";function GA(r,t,e){var n,i=0,a=0,o=null,c,h,v,g;t=t||0;function y(){a=new Date().getTime(),o=null,r.apply(h,v||[])}var m=function(){for(var b=[],S=0;S<arguments.length;S++)b[S]=arguments[S];n=new Date().getTime(),h=this,v=b;var E=g||t,C=g||e;g=null,c=n-(C?i:a)-E,clearTimeout(o),C?o=setTimeout(y,E):c>=0?y():o=setTimeout(y,-c),i=n};return m.clear=function(){o&&(clearTimeout(o),o=null)},m.debounceNextCall=function(b){g=b},m}function Vh(r,t,e,n){var i=r[t];if(i){var a=i[D0]||i,o=i[yP],c=i[gP];if(c!==e||o!==n){if(e==null||!n)return r[t]=a;i=r[t]=GA(a,e,n==="debounce"),i[D0]=a,i[yP]=n,i[gP]=e}return i}}function cv(r,t){var e=r[t];e&&e[D0]&&(e.clear&&e.clear(),r[t]=e[D0])}var mP=xe(),_P={itemStyle:yc(NH,!0),lineStyle:yc(LH,!0)},qat={lineStyle:"stroke",itemStyle:"fill"};function R4(r,t){var e=r.visualStyleMapper||_P[t];return e||(console.warn("Unknown style type '"+t+"'."),_P.itemStyle)}function I4(r,t){var e=r.visualDrawType||qat[t];return e||(console.warn("Unknown style type '"+t+"'."),"fill")}var Xat={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var e=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=r.getModel(n),a=R4(r,n),o=a(i),c=i.getShallow("decal");c&&(e.setVisual("decal",c),c.dirty=!0);var h=I4(r,n),v=o[h],g=ee(v)?v:null,y=o.fill==="auto"||o.stroke==="auto";if(!o[h]||g||y){var m=r.getColorFromPalette(r.name,null,t.getSeriesCount());o[h]||(o[h]=m,e.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||ee(o.fill)?m:o.fill,o.stroke=o.stroke==="auto"||ee(o.stroke)?m:o.stroke}if(e.setVisual("style",o),e.setVisual("drawType",h),!t.isSeriesFiltered(r)&&g)return e.setVisual("colorFromPalette",!1),{dataEach:function(b,S){var E=r.getDataParams(S),C=At({},o);C[h]=g(E),b.setItemVisual(S,"style",C)}}}},Bp=new Me,Zat={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!(r.ignoreStyleOnData||t.isSeriesFiltered(r))){var e=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=R4(r,n),a=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(o,c){var h=o.getRawDataItem(c);if(h&&h[n]){Bp.option=h[n];var v=i(Bp),g=o.ensureUniqueItemVisual(c,"style");At(g,v),Bp.option.decal&&(o.setItemVisual(c,"decal",Bp.option.decal),Bp.option.decal.dirty=!0),a in v&&o.setItemVisual(c,"colorFromPalette",!1)}}:null}}}},Kat={performRawSeries:!0,overallReset:function(r){var t=Kt();r.eachSeries(function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var i=e.type+"-"+n,a=t.get(i);a||(a={},t.set(i,a)),mP(e).scope=a}}),r.eachSeries(function(e){if(!(e.isColorBySeries()||r.isSeriesFiltered(e))){var n=e.getRawData(),i={},a=e.getData(),o=mP(e).scope,c=e.visualStyleAccessPath||"itemStyle",h=I4(e,c);a.each(function(v){var g=a.getRawIndex(v);i[g]=v}),n.each(function(v){var g=i[v],y=a.getItemVisual(g,"colorFromPalette");if(y){var m=a.ensureUniqueItemVisual(g,"style"),b=n.getName(v)||v+"",S=n.count();m[h]=e.getColorFromPalette(b,o,S)}})}})}},zy=Math.PI;function Jat(r,t){t=t||{},oe(t,{text:"loading",textColor:yt.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:yt.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var e=new re,n=new we({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(n);var i=new Oe({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new we({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});e.add(a);var o;return t.showSpinner&&(o=new H_({shape:{startAngle:-zy/2,endAngle:-zy/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:zy*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:zy*3/2}).delay(300).start("circularInOut"),e.add(o)),e.resize=function(){var c=i.getBoundingRect().width,h=t.showSpinner?t.spinnerRadius:0,v=(r.getWidth()-h*2-(t.showSpinner&&c?10:0)-c)/2-(t.showSpinner&&c?0:5+c/2)+(t.showSpinner?0:c/2)+(c?0:h),g=r.getHeight()/2;t.showSpinner&&o.setShape({cx:v,cy:g}),a.setShape({x:v-h,y:g-h,width:h*2,height:h*2}),n.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},e.resize(),e}var O4=(function(){function r(t,e,n,i){this._stageTaskMap=Kt(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return r.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},r.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,a=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,o=a?n.step:null,c=i&&i.modDataCount,h=c!=null?Math.ceil(c/o):null;return{step:o,modBy:h,modDataCount:c}}},r.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},r.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData(),a=i.count(),o=n.progressiveEnabled&&e.incrementalPrepareRender&&a>=n.threshold,c=t.get("large")&&a>=t.get("largeThreshold"),h=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=n.context={progressiveRender:o,modDataCount:h,large:c}},r.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=Kt();t.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;n.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),e._pipe(i,i.dataTask)})},r.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;j(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{}),o="";Yn(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,e,n),i.overallReset&&this._createOverallStageTask(i,a,e,n)},this)},r.prototype.prepareView=function(t,e,n,i){var a=t.renderTask,o=a.context;o.model=e,o.ecModel=n,o.api=i,a.__block=!t.incrementalPrepareRender,this._pipe(e,a)},r.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},r.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},r.prototype._performStageTasks=function(t,e,n,i){i=i||{};var a=!1,o=this;j(t,function(h,v){if(!(i.visualType&&i.visualType!==h.visualType)){var g=o._stageTaskMap.get(h.uid),y=g.seriesTaskMap,m=g.overallTask;if(m){var b,S=m.agentStubMap;S.each(function(C){c(i,C)&&(C.dirty(),b=!0)}),b&&m.dirty(),o.updatePayload(m,n);var E=o.getPerformArgs(m,i.block);S.each(function(C){C.perform(E)}),m.perform(E)&&(a=!0)}else y&&y.each(function(C,A){c(i,C)&&C.dirty();var M=o.getPerformArgs(C,i.block);M.skip=!h.performRawSeries&&e.isSeriesFiltered(C.context.model),o.updatePayload(C,n),C.perform(M)&&(a=!0)})}});function c(h,v){return h.setDirty&&(!h.dirtyMap||h.dirtyMap.get(v.__pipeline.id))}this.unfinished=a||this.unfinished},r.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(n){e=n.dataTask.perform()||e}),this.unfinished=e||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},r.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)},r.prototype._createSeriesStageTask=function(t,e,n,i){var a=this,o=e.seriesTaskMap,c=e.seriesTaskMap=Kt(),h=t.seriesType,v=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(g):h?n.eachRawSeriesByType(h,g):v&&v(n,i).each(g);function g(y){var m=y.uid,b=c.set(m,o&&o.get(m)||Ud({plan:not,reset:iot,count:oot}));b.context={model:y,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(y,b)}},r.prototype._createOverallStageTask=function(t,e,n,i){var a=this,o=e.overallTask=e.overallTask||Ud({reset:Qat});o.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:a};var c=o.agentStubMap,h=o.agentStubMap=Kt(),v=t.seriesType,g=t.getTargetSeries,y=!0,m=!1,b="";Yn(!t.createOnAllSeries,b),v?n.eachRawSeriesByType(v,S):g?g(n,i).each(S):(y=!1,j(n.getSeries(),S));function S(E){var C=E.uid,A=h.set(C,c&&c.get(C)||(m=!0,Ud({reset:tot,onDirty:rot})));A.context={model:E,overallProgress:y},A.agent=o,A.__block=y,a._pipe(E,A)}m&&o.dirty()},r.prototype._pipe=function(t,e){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},r.wrapStageHandler=function(t,e){return ee(t)&&(t={overallReset:t,seriesType:sot(t)}),t.uid=Ph("stageHandler"),e&&(t.visualType=e),t},r})();function Qat(r){r.overallReset(r.ecModel,r.api,r.payload)}function tot(r){return r.overallProgress&&eot}function eot(){this.agent.dirty(),this.getDownstream().dirty()}function rot(){this.agent&&this.agent.dirty()}function not(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function iot(r){r.useClearVisual&&r.data.clearAllVisual();var t=r.resetDefines=Qe(r.reset(r.model,r.ecModel,r.api,r.payload));return t.length>1?Pt(t,function(e,n){return P4(n)}):aot}var aot=P4(0);function P4(r){return function(t,e){var n=e.data,i=e.resetDefines[r];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(t,n)}}function oot(r){return r.data.count()}function sot(r){L0=null;try{r(fv,k4)}catch{}return L0}var fv={},k4={},L0;V4(fv,IA);V4(k4,s4);fv.eachSeriesByType=fv.eachRawSeriesByType=function(r){L0=r};fv.eachComponent=function(r){r.mainType==="series"&&r.subType&&(L0=r.subType)};function V4(r,t){for(var e in t.prototype)r[e]=kr}var ie=yt.darkColor,lot=ie.background,Hp=function(){return{axisLine:{lineStyle:{color:ie.axisLine}},splitLine:{lineStyle:{color:ie.axisSplitLine}},splitArea:{areaStyle:{color:[ie.backgroundTint,ie.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:ie.axisMinorSplitLine}},axisLabel:{color:ie.axisLabel},axisName:{}}},bP={label:{color:ie.secondary},itemStyle:{borderColor:ie.borderTint},dividerLineStyle:{color:ie.border}},G4={darkMode:!0,color:ie.theme,backgroundColor:lot,axisPointer:{lineStyle:{color:ie.border},crossStyle:{color:ie.borderShade},label:{color:ie.tertiary}},legend:{textStyle:{color:ie.secondary},pageTextStyle:{color:ie.tertiary}},textStyle:{color:ie.secondary},title:{textStyle:{color:ie.primary},subtextStyle:{color:ie.quaternary}},toolbox:{iconStyle:{borderColor:ie.accent50}},tooltip:{backgroundColor:ie.neutral20,defaultBorderColor:ie.border,textStyle:{color:ie.tertiary}},dataZoom:{borderColor:ie.accent10,textStyle:{color:ie.tertiary},brushStyle:{color:ie.backgroundTint},handleStyle:{color:ie.neutral00,borderColor:ie.accent20},moveHandleStyle:{color:ie.accent40},emphasis:{handleStyle:{borderColor:ie.accent50}},dataBackground:{lineStyle:{color:ie.accent30},areaStyle:{color:ie.accent20}},selectedDataBackground:{lineStyle:{color:ie.accent50},areaStyle:{color:ie.accent30}}},visualMap:{textStyle:{color:ie.secondary},handleStyle:{borderColor:ie.neutral30}},timeline:{lineStyle:{color:ie.accent10},label:{color:ie.tertiary},controlStyle:{color:ie.accent30,borderColor:ie.accent30}},calendar:{itemStyle:{color:ie.neutral00,borderColor:ie.neutral20},dayLabel:{color:ie.tertiary},monthLabel:{color:ie.secondary},yearLabel:{color:ie.secondary}},matrix:{x:bP,y:bP,backgroundColor:{borderColor:ie.axisLine},body:{itemStyle:{borderColor:ie.borderTint}}},timeAxis:Hp(),logAxis:Hp(),valueAxis:Hp(),categoryAxis:Hp(),line:{symbol:"circle"},graph:{color:ie.theme},gauge:{title:{color:ie.secondary},axisLine:{lineStyle:{color:[[1,ie.neutral05]]}},axisLabel:{color:ie.axisLabel},detail:{color:ie.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:ie.background}},radar:(function(){var r=Hp();return r.axisName={color:ie.axisLabel},r.axisLine.lineStyle.color=ie.neutral20,r})(),treemap:{breadcrumb:{itemStyle:{color:ie.neutral20,textStyle:{color:ie.secondary}},emphasis:{itemStyle:{color:ie.neutral30}}}},sunburst:{itemStyle:{borderColor:ie.background}},map:{itemStyle:{borderColor:ie.border,areaColor:ie.neutral10},label:{color:ie.tertiary},emphasis:{label:{color:ie.primary},itemStyle:{areaColor:ie.highlight}},select:{label:{color:ie.primary},itemStyle:{areaColor:ie.highlight}}},geo:{itemStyle:{borderColor:ie.border,areaColor:ie.neutral10},emphasis:{label:{color:ie.primary},itemStyle:{areaColor:ie.highlight}},select:{label:{color:ie.primary},itemStyle:{color:ie.highlight}}}};G4.categoryAxis.splitLine.show=!1;var uot=(function(){function r(){}return r.prototype.normalizeQuery=function(t){var e={},n={},i={};if($t(t)){var a=bo(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var o=["Index","Name","Id"],c={name:1,dataIndex:1,dataType:1};j(t,function(h,v){for(var g=!1,y=0;y<o.length;y++){var m=o[y],b=v.lastIndexOf(m);if(b>0&&b===v.length-m.length){var S=v.slice(0,b);S!=="data"&&(e.mainType=S,e[m.toLowerCase()]=h,g=!0)}}c.hasOwnProperty(v)&&(n[v]=h,g=!0),g||(i[v]=h)})}return{cptQuery:e,dataQuery:n,otherQuery:i}},r.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,o=n.model,c=n.view;if(!o||!c)return!0;var h=e.cptQuery,v=e.dataQuery;return g(h,o,"mainType")&&g(h,o,"subType")&&g(h,o,"index","componentIndex")&&g(h,o,"name")&&g(h,o,"id")&&g(v,a,"name")&&g(v,a,"dataIndex")&&g(v,a,"dataType")&&(!c.filterForExposedEvent||c.filterForExposedEvent(t,e.otherQuery,i,a));function g(y,m,b,S){return y[b]==null||m[S||b]===y[b]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r})(),fT=["symbol","symbolSize","symbolRotate","symbolOffset"],SP=fT.concat(["symbolKeepAspect"]),cot={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var e=r.getData();if(r.legendIcon&&e.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var n={},i={},a=!1,o=0;o<fT.length;o++){var c=fT[o],h=r.get(c);ee(h)?(a=!0,i[c]=h):n[c]=h}if(n.symbol=n.symbol||r.defaultSymbol,e.setVisual(At({legendIcon:r.legendIcon||n.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},n)),t.isSeriesFiltered(r))return;var v=De(i);function g(y,m){for(var b=r.getRawValue(m),S=r.getDataParams(m),E=0;E<v.length;E++){var C=v[E];y.setItemVisual(m,C,i[C](b,S))}}return{dataEach:a?g:null}}},fot={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!r.hasSymbolVisual||t.isSeriesFiltered(r))return;var e=r.getData();function n(i,a){for(var o=i.getItemModel(a),c=0;c<SP.length;c++){var h=SP[c],v=o.getShallow(h,!0);v!=null&&i.setItemVisual(a,h,v)}}return{dataEach:e.hasItemOption?n:null}}};function FA(r,t,e){switch(e){case"color":var n=r.getItemVisual(t,"style");return n[r.getVisual("drawType")];case"opacity":return r.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(t,e)}}function Fv(r,t){switch(t){case"color":var e=r.getVisual("style");return e[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(t)}}function F4(r,t,e,n){switch(e){case"color":var i=r.ensureUniqueItemVisual(t,"style");i[r.getVisual("drawType")]=n,r.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(t,e,n);break}}function B4(r,t){function e(n,i){var a=[];return n.eachComponent({mainType:"series",subType:r,query:i},function(o){a.push(o.seriesIndex)}),a}j([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(n){t(n[0],function(i,a,o){i=At({},i),o.dispatchAction(At(i,{type:n[1],seriesIndex:e(a,i)}))})})}function Tf(r,t,e,n,i){var a=r+t;e.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var c=o.seriesIndex,h=o.option.selectedMap,v=i.selected,g=0;g<v.length;g++)if(v[g].seriesIndex===c){var y=o.getData(),m=gc(y,i.fromActionPayload);e.trigger(a,{type:a,seriesId:o.id,name:Rt(m)?y.getName(m[0]):y.getName(m),selected:$t(h)?h:At({},h)})}})}function hot(r,t,e){r.on("selectchanged",function(n){var i=e.getModel();n.isFromClick?(Tf("map","selectchanged",t,i,n),Tf("pie","selectchanged",t,i,n)):n.fromAction==="select"?(Tf("map","selected",t,i,n),Tf("pie","selected",t,i,n)):n.fromAction==="unselect"&&(Tf("map","unselected",t,i,n),Tf("pie","unselected",t,i,n))})}function tc(r,t,e){for(var n;r&&!(t(r)&&(n=r,e));)r=r.__hostTarget||r.parent;return n}var pot=Math.round(Math.random()*9),dot=typeof Object.defineProperty=="function",vot=(function(){function r(){this._id="__ec_inner_"+pot++}return r.prototype.get=function(t){return this._guard(t)[this._id]},r.prototype.set=function(t,e){var n=this._guard(t);return dot?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},r.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},r.prototype.has=function(t){return!!this._guard(t)[this._id]},r.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},r})(),got=Ee.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var e=t.cx,n=t.cy,i=t.width/2,a=t.height/2;r.moveTo(e,n-a),r.lineTo(e+i,n+a),r.lineTo(e-i,n+a),r.closePath()}}),yot=Ee.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var e=t.cx,n=t.cy,i=t.width/2,a=t.height/2;r.moveTo(e,n-a),r.lineTo(e+i,n),r.lineTo(e,n+a),r.lineTo(e-i,n),r.closePath()}}),mot=Ee.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var e=t.x,n=t.y,i=t.width/5*3,a=Math.max(i,t.height),o=i/2,c=o*o/(a-o),h=n-a+o+c,v=Math.asin(c/o),g=Math.cos(v)*o,y=Math.sin(v),m=Math.cos(v),b=o*.6,S=o*.7;r.moveTo(e-g,h+c),r.arc(e,h,o,Math.PI-v,Math.PI*2+v),r.bezierCurveTo(e+g-y*b,h+c+m*b,e,n-S,e,n),r.bezierCurveTo(e,n-S,e-g+y*b,h+c+m*b,e-g,h+c),r.closePath()}}),_ot=Ee.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var e=t.height,n=t.width,i=t.x,a=t.y,o=n/3*2;r.moveTo(i,a),r.lineTo(i+o,a+e),r.lineTo(i,a+e/4*3),r.lineTo(i-o,a+e),r.lineTo(i,a),r.closePath()}}),bot={line:Wr,rect:we,roundRect:we,square:we,circle:Es,diamond:yot,pin:mot,arrow:_ot,triangle:got},Sot={line:function(r,t,e,n,i){i.x1=r,i.y1=t+n/2,i.x2=r+e,i.y2=t+n/2},rect:function(r,t,e,n,i){i.x=r,i.y=t,i.width=e,i.height=n},roundRect:function(r,t,e,n,i){i.x=r,i.y=t,i.width=e,i.height=n,i.r=Math.min(e,n)/4},square:function(r,t,e,n,i){var a=Math.min(e,n);i.x=r,i.y=t,i.width=a,i.height=a},circle:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.r=Math.min(e,n)/2},diamond:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.width=e,i.height=n},pin:function(r,t,e,n,i){i.x=r+e/2,i.y=t+n/2,i.width=e,i.height=n},arrow:function(r,t,e,n,i){i.x=r+e/2,i.y=t+n/2,i.width=e,i.height=n},triangle:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.width=e,i.height=n}},N0={};j(bot,function(r,t){N0[t]=new r});var wot=Ee.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,t,e){var n=_0(r,t,e),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(n.y=e.y+e.height*.4),n},buildPath:function(r,t,e){var n=t.symbolType;if(n!=="none"){var i=N0[n];i||(n="rect",i=N0[n]),Sot[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(r,i.shape,e)}}});function xot(r,t){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=r,e.fill=t||yt.color.neutral00,e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=r:e.fill=r,this.markRedraw()}}function Xr(r,t,e,n,i,a,o){var c=r.indexOf("empty")===0;c&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var h;return r.indexOf("image://")===0?h=bH(r.slice(8),new le(t,e,n,i),o?"center":"cover"):r.indexOf("path://")===0?h=ov(r.slice(7),{},new le(t,e,n,i),o?"center":"cover"):h=new wot({shape:{symbolType:r,x:t,y:e,width:n,height:i}}),h.__isEmptyBrush=c,h.setColor=xot,a&&h.setColor(a),h}function Gh(r){return Rt(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function Nc(r,t){if(r!=null)return Rt(r)||(r=[r,r]),[Yt(r[0],t[0])||0,Yt(Jt(r[1],r[0]),t[1])||0]}function ec(r){return isFinite(r)}function Eot(r,t,e){var n=t.x==null?0:t.x,i=t.x2==null?1:t.x2,a=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(n=n*e.width+e.x,i=i*e.width+e.x,a=a*e.height+e.y,o=o*e.height+e.y),n=ec(n)?n:0,i=ec(i)?i:1,a=ec(a)?a:0,o=ec(o)?o:0;var c=r.createLinearGradient(n,a,i,o);return c}function Tot(r,t,e){var n=e.width,i=e.height,a=Math.min(n,i),o=t.x==null?.5:t.x,c=t.y==null?.5:t.y,h=t.r==null?.5:t.r;t.global||(o=o*n+e.x,c=c*i+e.y,h=h*a),o=ec(o)?o:.5,c=ec(c)?c:.5,h=h>=0&&ec(h)?h:.5;var v=r.createRadialGradient(o,c,0,o,c,h);return v}function hT(r,t,e){for(var n=t.type==="radial"?Tot(r,t,e):Eot(r,t,e),i=t.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function Cot(r,t){if(r===t||!r&&!t)return!1;if(!r||!t||r.length!==t.length)return!0;for(var e=0;e<r.length;e++)if(r[e]!==t[e])return!0;return!1}function Uy(r){return parseInt(r,10)}function Jf(r,t,e){var n=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(e[n]!=null&&e[n]!=="auto")return parseFloat(e[n]);var c=document.defaultView.getComputedStyle(r);return(r[i]||Uy(c[n])||Uy(r.style[n]))-(Uy(c[a])||0)-(Uy(c[o])||0)|0}function Aot(r,t){return!r||r==="solid"||!(t>0)?null:r==="dashed"?[4*t,2*t]:r==="dotted"?[t]:Re(r)?[r]:Rt(r)?r:null}function BA(r){var t=r.style,e=t.lineDash&&t.lineWidth>0&&Aot(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(e){var i=t.strokeNoScale&&r.getLineScale?r.getLineScale():1;i&&i!==1&&(e=Pt(e,function(a){return a/i}),n/=i)}return[e,n]}var Mot=new Io(!0);function R0(r){var t=r.stroke;return!(t==null||t==="none"||!(r.lineWidth>0))}function wP(r){return typeof r=="string"&&r!=="none"}function I0(r){var t=r.fill;return t!=null&&t!=="none"}function xP(r,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var e=r.globalAlpha;r.globalAlpha=t.fillOpacity*t.opacity,r.fill(),r.globalAlpha=e}else r.fill()}function EP(r,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var e=r.globalAlpha;r.globalAlpha=t.strokeOpacity*t.opacity,r.stroke(),r.globalAlpha=e}else r.stroke()}function pT(r,t,e){var n=oA(t.image,t.__image,e);if(I_(n)){var i=r.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*Om),a.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(a)}return i}}function Dot(r,t,e,n){var i,a=R0(e),o=I0(e),c=e.strokePercent,h=c<1,v=!t.path;(!t.silent||h)&&v&&t.createPathProxy();var g=t.path||Mot,y=t.__dirty;if(!n){var m=e.fill,b=e.stroke,S=o&&!!m.colorStops,E=a&&!!b.colorStops,C=o&&!!m.image,A=a&&!!b.image,M=void 0,L=void 0,R=void 0,O=void 0,P=void 0;(S||E)&&(P=t.getBoundingRect()),S&&(M=y?hT(r,m,P):t.__canvasFillGradient,t.__canvasFillGradient=M),E&&(L=y?hT(r,b,P):t.__canvasStrokeGradient,t.__canvasStrokeGradient=L),C&&(R=y||!t.__canvasFillPattern?pT(r,m,t):t.__canvasFillPattern,t.__canvasFillPattern=R),A&&(O=y||!t.__canvasStrokePattern?pT(r,b,t):t.__canvasStrokePattern,t.__canvasStrokePattern=O),S?r.fillStyle=M:C&&(R?r.fillStyle=R:o=!1),E?r.strokeStyle=L:A&&(O?r.strokeStyle=O:a=!1)}var V=t.getGlobalScale();g.setScale(V[0],V[1],t.segmentIgnoreThreshold);var k,F;r.setLineDash&&e.lineDash&&(i=BA(t),k=i[0],F=i[1]);var H=!0;(v||y&Uf)&&(g.setDPR(r.dpr),h?g.setContext(null):(g.setContext(r),H=!1),g.reset(),t.buildPath(g,t.shape,n),g.toStatic(),t.pathUpdated()),H&&g.rebuildPath(r,h?c:1),k&&(r.setLineDash(k),r.lineDashOffset=F),n||(e.strokeFirst?(a&&EP(r,e),o&&xP(r,e)):(o&&xP(r,e),a&&EP(r,e))),k&&r.setLineDash([])}function Lot(r,t,e){var n=t.__image=oA(e.image,t.__image,t,t.onload);if(!(!n||!I_(n))){var i=e.x||0,a=e.y||0,o=t.getWidth(),c=t.getHeight(),h=n.width/n.height;if(o==null&&c!=null?o=c*h:c==null&&o!=null?c=o/h:o==null&&c==null&&(o=n.width,c=n.height),e.sWidth&&e.sHeight){var v=e.sx||0,g=e.sy||0;r.drawImage(n,v,g,e.sWidth,e.sHeight,i,a,o,c)}else if(e.sx&&e.sy){var v=e.sx,g=e.sy,y=o-v,m=c-g;r.drawImage(n,v,g,y,m,i,a,o,c)}else r.drawImage(n,i,a,o,c)}}function Not(r,t,e){var n,i=e.text;if(i!=null&&(i+=""),i){r.font=e.font||ds,r.textAlign=e.textAlign,r.textBaseline=e.textBaseline;var a=void 0,o=void 0;r.setLineDash&&e.lineDash&&(n=BA(t),a=n[0],o=n[1]),a&&(r.setLineDash(a),r.lineDashOffset=o),e.strokeFirst?(R0(e)&&r.strokeText(i,e.x,e.y),I0(e)&&r.fillText(i,e.x,e.y)):(I0(e)&&r.fillText(i,e.x,e.y),R0(e)&&r.strokeText(i,e.x,e.y)),a&&r.setLineDash([])}}var TP=["shadowBlur","shadowOffsetX","shadowOffsetY"],CP=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function H4(r,t,e,n,i){var a=!1;if(!n&&(e=e||{},t===e))return!1;if(n||t.opacity!==e.opacity){Si(r,i),a=!0;var o=Math.max(Math.min(t.opacity,1),0);r.globalAlpha=isNaN(o)?sc.opacity:o}(n||t.blend!==e.blend)&&(a||(Si(r,i),a=!0),r.globalCompositeOperation=t.blend||sc.blend);for(var c=0;c<TP.length;c++){var h=TP[c];(n||t[h]!==e[h])&&(a||(Si(r,i),a=!0),r[h]=r.dpr*(t[h]||0))}return(n||t.shadowColor!==e.shadowColor)&&(a||(Si(r,i),a=!0),r.shadowColor=t.shadowColor||sc.shadowColor),a}function AP(r,t,e,n,i){var a=hv(t,i.inHover),o=n?null:e&&hv(e,i.inHover)||{};if(a===o)return!1;var c=H4(r,a,o,n,i);if((n||a.fill!==o.fill)&&(c||(Si(r,i),c=!0),wP(a.fill)&&(r.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(c||(Si(r,i),c=!0),wP(a.stroke)&&(r.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(c||(Si(r,i),c=!0),r.globalAlpha=a.opacity==null?1:a.opacity),t.hasStroke()){var h=a.lineWidth,v=h/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);r.lineWidth!==v&&(c||(Si(r,i),c=!0),r.lineWidth=v)}for(var g=0;g<CP.length;g++){var y=CP[g],m=y[0];(n||a[m]!==o[m])&&(c||(Si(r,i),c=!0),r[m]=a[m]||y[1])}return c}function Rot(r,t,e,n,i){return H4(r,hv(t,i.inHover),e&&hv(e,i.inHover),n,i)}function z4(r,t){var e=t.transform,n=r.dpr||1;e?r.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):r.setTransform(n,0,0,n,0,0)}function Iot(r,t,e){for(var n=!1,i=0;i<r.length;i++){var a=r[i];n=n||a.isZeroArea(),z4(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}e.allClipped=n}function Oot(r,t){return r&&t?r[0]!==t[0]||r[1]!==t[1]||r[2]!==t[2]||r[3]!==t[3]||r[4]!==t[4]||r[5]!==t[5]:!(!r&&!t)}var MP=1,DP=2,LP=3,NP=4;function Pot(r){var t=I0(r),e=R0(r);return!(r.lineDash||!(+t^+e)||t&&typeof r.fill!="string"||e&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function Si(r,t){t.batchFill&&r.fill(),t.batchStroke&&r.stroke(),t.batchFill="",t.batchStroke=""}function hv(r,t){return t&&r.__hoverStyle||r.style}function U4(r,t){rc(r,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function rc(r,t,e,n){var i=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1)){t.__dirty&=~Pi,t.__isRendered=!1;return}var a=t.__clipPaths,o=e.prevElClipPaths,c=!1,h=!1;if((!o||Cot(a,o))&&(o&&o.length&&(Si(r,e),r.restore(),h=c=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),a&&a.length&&(Si(r,e),r.save(),Iot(a,r,e),c=!0),e.prevElClipPaths=a),e.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var v=e.prevEl;v||(h=c=!0);var g=t instanceof Ee&&t.autoBatch&&Pot(t.style);c||Oot(i,v.transform)?(Si(r,e),z4(r,t)):g||Si(r,e);var y=hv(t,e.inHover);t instanceof Ee?(e.lastDrawType!==MP&&(h=!0,e.lastDrawType=MP),AP(r,t,v,h,e),(!g||!e.batchFill&&!e.batchStroke)&&r.beginPath(),Dot(r,t,y,g),g&&(e.batchFill=y.fill||"",e.batchStroke=y.stroke||"")):t instanceof ph?(e.lastDrawType!==LP&&(h=!0,e.lastDrawType=LP),AP(r,t,v,h,e),Not(r,t,y)):t instanceof wn?(e.lastDrawType!==DP&&(h=!0,e.lastDrawType=DP),Rot(r,t,v,h,e),Lot(r,t,y)):t.getTemporalDisplayables&&(e.lastDrawType!==NP&&(h=!0,e.lastDrawType=NP),kot(r,t,e)),g&&n&&Si(r,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}function kot(r,t,e){var n=t.getDisplayables(),i=t.getTemporalDisplayables();r.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover},o,c;for(o=t.getCursor(),c=n.length;o<c;o++){var h=n[o];h.beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),rc(r,h,a,o===c-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),a.prevEl=h}for(var v=0,g=i.length;v<g;v++){var h=i[v];h.beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),rc(r,h,a,v===g-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),a.prevEl=h}t.clearTemporalDisplayables(),t.notClear=!0,r.restore()}var bw=new vot,RP=new fh(100),IP=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function gh(r,t){if(r==="none")return null;var e=t.getDevicePixelRatio(),n=t.getZr(),i=n.painter.type==="svg";r.dirty&&bw.delete(r);var a=bw.get(r);if(a)return a;var o=oe(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var c={repeat:"repeat"};return h(c),c.rotation=o.rotation,c.scaleX=c.scaleY=i?1:1/e,bw.set(r,c),r.dirty=!1,c;function h(v){for(var g=[e],y=!0,m=0;m<IP.length;++m){var b=o[IP[m]];if(b!=null&&!Rt(b)&&!$t(b)&&!Re(b)&&typeof b!="boolean"){y=!1;break}g.push(b)}var S;if(y){S=g.join(",")+(i?"-svg":"");var E=RP.get(S);E&&(i?v.svgElement=E:v.image=E)}var C=j4(o.dashArrayX),A=Vot(o.dashArrayY),M=W4(o.symbol),L=Got(C),R=Y4(A),O=!i&&Na.createCanvas(),P=i&&{tag:"g",attrs:{},key:"dcl",children:[]},V=F(),k;O&&(O.width=V.width*e,O.height=V.height*e,k=O.getContext("2d")),H(),y&&RP.put(S,O||P),v.image=O,v.svgElement=P,v.svgWidth=V.width,v.svgHeight=V.height;function F(){for(var W=1,q=0,Y=L.length;q<Y;++q)W=X2(W,L[q]);for(var Z=1,q=0,Y=M.length;q<Y;++q)Z=X2(Z,M[q].length);W*=Z;var et=R*L.length*M.length;return{width:Math.max(1,Math.min(W,o.maxTileWidth)),height:Math.max(1,Math.min(et,o.maxTileHeight))}}function H(){k&&(k.clearRect(0,0,O.width,O.height),o.backgroundColor&&(k.fillStyle=o.backgroundColor,k.fillRect(0,0,O.width,O.height)));for(var W=0,q=0;q<A.length;++q)W+=A[q];if(W<=0)return;for(var Y=-R,Z=0,et=0,J=0;Y<V.height;){if(Z%2===0){for(var it=et/2%M.length,rt=0,st=0,lt=0;rt<V.width*2;){for(var dt=0,q=0;q<C[J].length;++q)dt+=C[J][q];if(dt<=0)break;if(st%2===0){var pt=(1-o.symbolSize)*.5,xt=rt+C[J][st]*pt,Ft=Y+A[Z]*pt,Ut=C[J][st]*o.symbolSize,Vt=A[Z]*o.symbolSize,Qt=lt/2%M[it].length;Ht(xt,Ft,Ut,Vt,M[it][Qt])}rt+=C[J][st],++lt,++st,st===C[J].length&&(st=0)}++J,J===C.length&&(J=0)}Y+=A[Z],++et,++Z,Z===A.length&&(Z=0)}function Ht(gt,Mt,Et,X,ot){var ht=i?1:e,_t=Xr(ot,gt*ht,Mt*ht,Et*ht,X*ht,o.color,o.symbolKeepAspect);if(i){var mt=n.painter.renderOneToVNode(_t);mt&&P.children.push(mt)}else U4(k,_t)}}}}function W4(r){if(!r||r.length===0)return[["rect"]];if($t(r))return[[r]];for(var t=!0,e=0;e<r.length;++e)if(!$t(r[e])){t=!1;break}if(t)return W4([r]);for(var n=[],e=0;e<r.length;++e)$t(r[e])?n.push([r[e]]):n.push(r[e]);return n}function j4(r){if(!r||r.length===0)return[[0,0]];if(Re(r)){var t=Math.ceil(r);return[[t,t]]}for(var e=!0,n=0;n<r.length;++n)if(!Re(r[n])){e=!1;break}if(e)return j4([r]);for(var i=[],n=0;n<r.length;++n)if(Re(r[n])){var t=Math.ceil(r[n]);i.push([t,t])}else{var t=Pt(r[n],function(c){return Math.ceil(c)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function Vot(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(Re(r)){var t=Math.ceil(r);return[t,t]}var e=Pt(r,function(n){return Math.ceil(n)});return r.length%2?e.concat(e):e}function Got(r){return Pt(r,function(t){return Y4(t)})}function Y4(r){for(var t=0,e=0;e<r.length;++e)t+=r[e];return r.length%2===1?t*2:t}function Fot(r,t){r.eachRawSeries(function(e){if(!r.isSeriesFiltered(e)){var n=e.getData();n.hasItemVisual()&&n.each(function(o){var c=n.getItemVisual(o,"decal");if(c){var h=n.ensureUniqueItemVisual(o,"style");h.decal=gh(c,t)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=gh(i,t)}}})}var oo=new fa,$4={};function Bot(r,t){$4[r]=t}function Hot(r){return $4[r]}var q4={};function zot(r,t){q4[r]=t}function Uot(r){return q4[r]}var Wot=1,jot=800,Yot=900,$ot=1e3,qot=2e3,Xot=5e3,X4=1e3,Zot=1100,HA=2e3,Z4=3e3,Kot=4e3,K_=4500,Jot=4600,Qot=5e3,tst=6e3,K4=7e3,est={PROCESSOR:{FILTER:$ot,SERIES_FILTER:jot,STATISTIC:Xot},VISUAL:{LAYOUT:X4,PROGRESSIVE_LAYOUT:Zot,GLOBAL:HA,CHART:Z4,POST_CHART_LAYOUT:Jot,COMPONENT:Kot,BRUSH:Qot,CHART_ITEM:K_,ARIA:tst,DECAL:K4}},tn="__flagInMainProcess",Wy="__mainProcessVersion",gn="__pendingUpdate",Sw="__needsUpdateStatus",OP=/^[a-zA-Z0-9_]+$/;function J4(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.isDisposed()){this.id;return}return t6(this,r,t)}}function Q4(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t6(this,r,t)}}function t6(r,t,e){return e[0]=e[0]&&e[0].toLowerCase(),fa.prototype[t].apply(r,e)}var e6=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(fa),r6=e6.prototype;r6.on=Q4("on");r6.off=Q4("off");var Ou,ww,jy,Ko,Yy,xw,Ew,Cf,Af,PP,kP,Tw,VP,$y,GP,qi,FP,Mf,rst=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this,new uot)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},a._dom=e;var o="canvas",c="auto",h=!1;a[Wy]=1,i.ssr&&Oet(function(m){var b=ce(m),S=b.dataIndex;if(S!=null){var E=Kt();return E.set("series_index",b.seriesIndex),E.set("data_index",S),b.ssrType&&E.set("ssr_type",b.ssrType),E}});var v=a._zr=j2(e,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Jt(i.useDirtyRect,h),useCoarsePointer:Jt(i.useCoarsePointer,c),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=GA(qt(v.flush,v),17),a._updateTheme(n),a._locale=cit(i.locale||RH),a._coordSysMgr=new Vv;var g=a._api=GP(a);function y(m,b){return m.__prio-b.__prio}return Vm(P0,y),Vm(vT,y),a._scheduler=new O4(a,g,vT,P0),a._messageCenter=new e6,a._initEvents(),a.resize=qt(a.resize,a),v.animation.on("frame",a._onframe,a),PP(v,a),kP(v,a),u0(a),a}return t.prototype._onframe=function(){if(!this._disposed){FP(this);var e=this._scheduler;if(this[gn]){var n=this[gn].silent;this[tn]=!0,Mf(this);try{Ou(this),Ko.update.call(this,null,this[gn].updateParams)}catch(h){throw this[tn]=!1,this[gn]=null,h}this._zr.flush(),this[tn]=!1,this[gn]=null,Cf.call(this,n),Af.call(this,n)}else if(e.unfinished){var i=Wot,a=this._model,o=this._api;e.unfinished=!1;do{var c=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),xw(this,a),e.performVisualTasks(a),$y(this,this._model,o,"remain",{}),i-=+new Date-c}while(i>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,n,i){if(!this[tn]){if(this._disposed){this.id;return}var a,o,c;if(se(n)&&(i=n.lazyUpdate,a=n.silent,o=n.replaceMerge,c=n.transition,n=n.notMerge),this[tn]=!0,Mf(this),!this._model||n){var h=new jit(this._api),v=this._theme,g=this._model=new IA;g.scheduler=this._scheduler,g.ssr=this._ssr,g.init(null,null,null,v,this._locale,h)}this._model.setOption(e,{replaceMerge:o},gT);var y={seriesTransition:c,optionChanged:!0};if(i)this[gn]={silent:a,updateParams:y},this[tn]=!1,this.getZr().wakeUp();else{try{Ou(this),Ko.update.call(this,null,y)}catch(m){throw this[gn]=null,this[tn]=!1,m}this._ssr||this._zr.flush(),this[gn]=null,this[tn]=!1,Cf.call(this,a),Af.call(this,a)}}},t.prototype.setTheme=function(e,n){if(!this[tn]){if(this._disposed){this.id;return}var i=this._model;if(i){var a=n&&n.silent,o=null;this[gn]&&(a==null&&(a=this[gn].silent),o=this[gn].updateParams,this[gn]=null),this[tn]=!0,Mf(this);try{this._updateTheme(e),i.setTheme(this._theme),Ou(this),Ko.update.call(this,{type:"setTheme"},o)}catch(c){throw this[tn]=!1,c}this[tn]=!1,Cf.call(this,a),Af.call(this,a)}}},t.prototype._updateTheme=function(e){$t(e)&&(e=i6[e]),e&&(e=ne(e),e&&u4(e,!0),this._theme=e)},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ae.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){e=e||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){e=e||{};var n=this._zr.painter;return n.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){var e=this._zr,n=e.storage.getDisplayList();return j(n,function(i){i.stopAnimation(null,!0)}),e.painter.toDataURL()},t.prototype.getDataURL=function(e){if(this._disposed){this.id;return}e=e||{};var n=e.excludeComponents,i=this._model,a=[],o=this;j(n,function(h){i.eachComponent({mainType:h},function(v){var g=o._componentsMap[v.__viewId];g.group.ignore||(a.push(g),g.group.ignore=!0)})});var c=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return j(a,function(h){h.group.ignore=!1}),c},t.prototype.getConnectedDataURL=function(e){if(this._disposed){this.id;return}var n=e.type==="svg",i=this.group,a=Math.min,o=Math.max,c=1/0;if(ist[i]){var h=c,v=c,g=-c,y=-c,m=[],b=e&&e.pixelRatio||this.getDevicePixelRatio();j(BP,function(L,R){if(L.group===i){var O=n?L.getZr().painter.getSvgDom().innerHTML:L.renderToCanvas(ne(e)),P=L.getDom().getBoundingClientRect();h=a(P.left,h),v=a(P.top,v),g=o(P.right,g),y=o(P.bottom,y),m.push({dom:O,left:P.left,top:P.top})}}),h*=b,v*=b,g*=b,y*=b;var S=g-h,E=y-v,C=Na.createCanvas(),A=j2(C,{renderer:n?"svg":"canvas"});if(A.resize({width:S,height:E}),n){var M="";return j(m,function(L){var R=L.left-h,O=L.top-v;M+='<g transform="translate('+R+","+O+')">'+L.dom+"</g>"}),A.painter.getSvgRoot().innerHTML=M,e.connectedBackgroundColor&&A.painter.setBackgroundColor(e.connectedBackgroundColor),A.refreshImmediately(),A.painter.toDataURL()}else return e.connectedBackgroundColor&&A.add(new we({shape:{x:0,y:0,width:S,height:E},style:{fill:e.connectedBackgroundColor}})),j(m,function(L){var R=new wn({style:{x:L.left*b-h,y:L.top*b-v,image:L.dom}});A.add(R)}),A.refreshImmediately(),C.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)},t.prototype.convertToPixel=function(e,n,i){return Yy(this,"convertToPixel",e,n,i)},t.prototype.convertToLayout=function(e,n,i){return Yy(this,"convertToLayout",e,n,i)},t.prototype.convertFromPixel=function(e,n,i){return Yy(this,"convertFromPixel",e,n,i)},t.prototype.containPixel=function(e,n){if(this._disposed){this.id;return}var i=this._model,a,o=ih(i,e);return j(o,function(c,h){h.indexOf("Models")>=0&&j(c,function(v){var g=v.coordinateSystem;if(g&&g.containPoint)a=a||!!g.containPoint(n);else if(h==="seriesModels"){var y=this._chartsMap[v.__viewId];y&&y.containPoint&&(a=a||y.containPoint(n,v))}},this)},this),!!a},t.prototype.getVisual=function(e,n){var i=this._model,a=ih(i,e,{defaultMainType:"series"}),o=a.seriesModel,c=o.getData(),h=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?c.indexOfRawIndex(a.dataIndex):null;return h!=null?FA(c,h,n):Fv(c,n)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;j(nst,function(i){var a=function(o){var c=e.getModel(),h=o.target,v,g=i==="globalout";if(g?v={}:h&&tc(h,function(E){var C=ce(E);if(C&&C.dataIndex!=null){var A=C.dataModel||c.getSeriesByIndex(C.seriesIndex);return v=A&&A.getDataParams(C.dataIndex,C.dataType,h)||{},!0}else if(C.eventData)return v=At({},C.eventData),!0},!0),v){var y=v.componentType,m=v.componentIndex;(y==="markLine"||y==="markPoint"||y==="markArea")&&(y="series",m=v.seriesIndex);var b=y&&m!=null&&c.getComponent(y,m),S=b&&e[b.mainType==="series"?"_chartsMap":"_componentsMap"][b.__viewId];v.event=o,v.type=i,e._$eventProcessor.eventInfo={targetEl:h,packedEvent:v,model:b,view:S},e.trigger(i,v)}};a.zrEventfulCallAtLast=!0,e._zr.on(i,a,e)});var n=this._messageCenter;j(dT,function(i,a){n.on(a,function(o){e.trigger(a,o)})}),hot(n,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var e=this.getDom();e&&irt(this.getDom(),ast,"");var n=this,i=n._api,a=n._model;j(n._componentsViews,function(o){o.dispose(a,i)}),j(n._chartsViews,function(o){o.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete BP[n.id]},t.prototype.resize=function(e){if(!this[tn]){if(this._disposed){this.id;return}this._zr.resize(e);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=e&&e.silent;this[gn]&&(a==null&&(a=this[gn].silent),i=!0,this[gn]=null),this[tn]=!0,Mf(this);try{i&&Ou(this),Ko.update.call(this,{type:"resize",animation:At({duration:0},e&&e.animation)})}catch(o){throw this[tn]=!1,o}this[tn]=!1,Cf.call(this,a),Af.call(this,a)}}},t.prototype.showLoading=function(e,n){if(this._disposed){this.id;return}if(se(e)&&(n=e,e=""),e=e||"default",this.hideLoading(),!!yT[e]){var i=yT[e](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(e){var n=At({},e);return n.type=n6[e.type],n},t.prototype.dispatchAction=function(e,n){if(this._disposed){this.id;return}if(se(n)||(n={silent:!!n}),!!O0[e.type]&&this._model){if(this[tn]){this._pendingActions.push(e);return}var i=n.silent;Ew.call(this,e,i);var a=n.flush;a?this._zr.flush():a!==!1&&Ae.browser.weChat&&this._throttledZrFlush(),Cf.call(this,i),Af.call(this,i)}},t.prototype.updateLabelLayout=function(){oo.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed){this.id;return}var n=e.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=(function(){Ou=function(y){var m=y._scheduler;m.restorePipelines(y._model),m.prepareStageTasks(),ww(y,!0),ww(y,!1),m.plan()},ww=function(y,m){for(var b=y._model,S=y._scheduler,E=m?y._componentsViews:y._chartsViews,C=m?y._componentsMap:y._chartsMap,A=y._zr,M=y._api,L=0;L<E.length;L++)E[L].__alive=!1;m?b.eachComponent(function(P,V){P!=="series"&&R(V)}):b.eachSeries(R);function R(P){var V=P.__requireNewView;P.__requireNewView=!1;var k="_ec_"+P.id+"_"+P.type,F=!V&&C[k];if(!F){var H=bo(P.type),W=m?dr.getClass(H.main,H.sub):Ke.getClass(H.sub);F=new W,F.init(b,M),C[k]=F,E.push(F),A.add(F.group)}P.__viewId=F.__id=k,F.__alive=!0,F.__model=P,F.group.__ecComponentInfo={mainType:P.mainType,index:P.componentIndex},!m&&S.prepareView(F,P,b,M)}for(var L=0;L<E.length;){var O=E[L];O.__alive?L++:(!m&&O.renderTask.dispose(),A.remove(O.group),O.dispose(b,M),E.splice(L,1),C[O.__id]===O&&delete C[O.__id],O.__id=O.group.__ecComponentInfo=null)}},jy=function(y,m,b,S,E){var C=y._model;if(C.setUpdatePayload(b),!S){j([].concat(y._componentsViews).concat(y._chartsViews),O);return}var A={};A[S+"Id"]=b[S+"Id"],A[S+"Index"]=b[S+"Index"],A[S+"Name"]=b[S+"Name"];var M={mainType:S,query:A};E&&(M.subType=E);var L=b.excludeSeriesId,R;L!=null&&(R=Kt(),j(Qe(L),function(P){var V=en(P,null);V!=null&&R.set(V,!0)})),C&&C.eachComponent(M,function(P){var V=R&&R.get(P.id)!=null;if(!V)if(EO(b))if(P instanceof or)b.type===lc&&!b.notBlur&&!P.get(["emphasis","disabled"])&&lnt(P,b,y._api);else{var k=pA(P.mainType,P.componentIndex,b.name,y._api),F=k.focusSelf,H=k.dispatchers;b.type===lc&&F&&!b.notBlur&&YE(P.mainType,P.componentIndex,y._api),H&&j(H,function(W){b.type===lc?ys(W):ms(W)})}else qE(b)&&P instanceof or&&(fnt(P,b,y._api),wO(P),qi(y))},y),C&&C.eachComponent(M,function(P){var V=R&&R.get(P.id)!=null;V||O(y[S==="series"?"_chartsMap":"_componentsMap"][P.__viewId])},y);function O(P){P&&P.__alive&&P[m]&&P[m](P.__model,C,y._api,b)}},Ko={prepareAndUpdate:function(y){Ou(this),Ko.update.call(this,y,y&&{optionChanged:y.newOption!=null})},update:function(y,m){var b=this._model,S=this._api,E=this._zr,C=this._coordSysMgr,A=this._scheduler;if(b){b.setUpdatePayload(y),A.restoreData(b,y),A.performSeriesTasks(b),C.create(b,S),A.performDataProcessorTasks(b,y),xw(this,b),C.update(b,S),n(b),A.performVisualTasks(b,y);var M=b.get("backgroundColor")||"transparent";E.setBackgroundColor(M);var L=b.get("darkMode");L!=null&&L!=="auto"&&E.setDarkMode(L),Tw(this,b,S,y,m),oo.trigger("afterupdate",b,S)}},updateTransform:function(y){var m=this,b=this._model,S=this._api;if(b){b.setUpdatePayload(y);var E=[];b.eachComponent(function(A,M){if(A!=="series"){var L=m.getViewOfComponentModel(M);if(L&&L.__alive)if(L.updateTransform){var R=L.updateTransform(M,b,S,y);R&&R.update&&E.push(L)}else E.push(L)}});var C=Kt();b.eachSeries(function(A){var M=m._chartsMap[A.__viewId];if(M.updateTransform){var L=M.updateTransform(A,b,S,y);L&&L.update&&C.set(A.uid,1)}else C.set(A.uid,1)}),n(b),this._scheduler.performVisualTasks(b,y,{setDirty:!0,dirtyMap:C}),$y(this,b,S,y,{},C),oo.trigger("afterupdate",b,S)}},updateView:function(y){var m=this._model;m&&(m.setUpdatePayload(y),Ke.markUpdateMethod(y,"updateView"),n(m),this._scheduler.performVisualTasks(m,y,{setDirty:!0}),Tw(this,m,this._api,y,{}),oo.trigger("afterupdate",m,this._api))},updateVisual:function(y){var m=this,b=this._model;b&&(b.setUpdatePayload(y),b.eachSeries(function(S){S.getData().clearAllVisual()}),Ke.markUpdateMethod(y,"updateVisual"),n(b),this._scheduler.performVisualTasks(b,y,{visualType:"visual",setDirty:!0}),b.eachComponent(function(S,E){if(S!=="series"){var C=m.getViewOfComponentModel(E);C&&C.__alive&&C.updateVisual(E,b,m._api,y)}}),b.eachSeries(function(S){var E=m._chartsMap[S.__viewId];E.updateVisual(S,b,m._api,y)}),oo.trigger("afterupdate",b,this._api))},updateLayout:function(y){Ko.update.call(this,y)}};function e(y,m,b,S,E){if(y._disposed){y.id;return}for(var C=y._model,A=y._coordSysMgr.getCoordinateSystems(),M,L=ih(C,b),R=0;R<A.length;R++){var O=A[R];if(O[m]&&(M=O[m](C,L,S,E))!=null)return M}}Yy=e,xw=function(y,m){var b=y._chartsMap,S=y._scheduler;m.eachSeries(function(E){S.updateStreamModes(E,b[E.__viewId])})},Ew=function(y,m){var b=this,S=this.getModel(),E=y.type,C=y.escapeConnect,A=O0[E],M=(A.update||"update").split(":"),L=M.pop(),R=M[0]!=null&&bo(M[0]);this[tn]=!0,Mf(this);var O=[y],P=!1;y.batch&&(P=!0,O=Pt(y.batch,function(J){return J=oe(At({},J),y),J.batch=null,J}));var V=[],k,F=[],H=A.nonRefinedEventType,W=qE(y),q=EO(y);if(q&&lH(this._api),j(O,function(J){var it=A.action(J,S,b._api);if(A.refineEvent?F.push(it):k=it,k=k||At({},J),k.type=H,V.push(k),q){var rt=iA(y),st=rt.queryOptionMap,lt=rt.mainTypeSpecified,dt=lt?st.keys()[0]:"series";jy(b,L,J,dt),qi(b)}else W?(jy(b,L,J,"series"),qi(b)):R&&jy(b,L,J,R.main,R.sub)}),L!=="none"&&!q&&!W&&!R)try{this[gn]?(Ou(this),Ko.update.call(this,y),this[gn]=null):Ko[L].call(this,y)}catch(J){throw this[tn]=!1,J}if(P?k={type:H,escapeConnect:C,batch:V}:k=V[0],this[tn]=!1,!m){var Y=void 0;if(A.refineEvent){var Z=A.refineEvent(F,y,S,this._api).eventContent;Yn(se(Z)),Y=oe({type:A.refinedEventType},Z),Y.fromAction=y.type,Y.fromActionPayload=y,Y.escapeConnect=!0}var et=this._messageCenter;et.trigger(k.type,k),Y&&et.trigger(Y.type,Y)}},Cf=function(y){for(var m=this._pendingActions;m.length;){var b=m.shift();Ew.call(this,b,y)}},Af=function(y){!y&&this.trigger("updated")},PP=function(y,m){y.on("rendered",function(b){m.trigger("rendered",b),y.animation.isFinished()&&!m[gn]&&!m._scheduler.unfinished&&!m._pendingActions.length&&m.trigger("finished")})},kP=function(y,m){y.on("mouseover",function(b){var S=b.target,E=tc(S,av);E&&(unt(E,b,m._api),qi(m))}).on("mouseout",function(b){var S=b.target,E=tc(S,av);E&&(cnt(E,b,m._api),qi(m))}).on("click",function(b){var S=b.target,E=tc(S,function(M){return ce(M).dataIndex!=null},!0);if(E){var C=E.selected?"unselect":"select",A=ce(E);m._api.dispatchAction({type:C,dataType:A.dataType,dataIndexInside:A.dataIndex,seriesIndex:A.seriesIndex,isFromClick:!0})}})};function n(y){y.clearColorPalette(),y.eachSeries(function(m){m.clearColorPalette()})}function i(y){var m=[],b=[],S=!1;if(y.eachComponent(function(M,L){var R=L.get("zlevel")||0,O=L.get("z")||0,P=L.getZLevelKey();S=S||!!P,(M==="series"?b:m).push({zlevel:R,z:O,idx:L.componentIndex,type:M,key:P})}),S){var E=m.concat(b),C,A;Vm(E,function(M,L){return M.zlevel===L.zlevel?M.z-L.z:M.zlevel-L.zlevel}),j(E,function(M){var L=y.getComponent(M.type,M.idx),R=M.zlevel,O=M.key;C!=null&&(R=Math.max(C,R)),O?(R===C&&O!==A&&R++,A=O):A&&(R===C&&R++,A=""),C=R,L.setZLevel(R)})}}Tw=function(y,m,b,S,E){i(m),VP(y,m,b,S,E),j(y._chartsViews,function(C){C.__alive=!1}),$y(y,m,b,S,E),j(y._chartsViews,function(C){C.__alive||C.remove(m,b)})},VP=function(y,m,b,S,E,C){j(C||y._componentsViews,function(A){var M=A.__model;v(M,A),A.render(M,m,b,S),h(M,A),g(M,A)})},$y=function(y,m,b,S,E,C){var A=y._scheduler;E=At(E||{},{updatedSeries:m.getSeries()}),oo.trigger("series:beforeupdate",m,b,E);var M=!1;m.eachSeries(function(L){var R=y._chartsMap[L.__viewId];R.__alive=!0;var O=R.renderTask;A.updatePayload(O,S),v(L,R),C&&C.get(L.uid)&&O.dirty(),O.perform(A.getPerformArgs(O))&&(M=!0),R.group.silent=!!L.get("silent"),c(L,R),wO(L)}),A.unfinished=M||A.unfinished,oo.trigger("series:layoutlabels",m,b,E),oo.trigger("series:transition",m,b,E),m.eachSeries(function(L){var R=y._chartsMap[L.__viewId];h(L,R),g(L,R)}),o(y,m),oo.trigger("series:afterupdate",m,b,E)},qi=function(y){y[Sw]=!0,y.getZr().wakeUp()},Mf=function(y){y[Wy]=(y[Wy]+1)%1e3},FP=function(y){y[Sw]&&(y.getZr().storage.traverse(function(m){ah(m)||a(m)}),y[Sw]=!1)};function a(y){for(var m=[],b=y.currentStates,S=0;S<b.length;S++){var E=b[S];E==="emphasis"||E==="blur"||E==="select"||m.push(E)}y.selected&&y.states.select&&m.push("select"),y.hoverState===G_&&y.states.emphasis?m.push("emphasis"):y.hoverState===Nv&&y.states.blur&&m.push("blur"),y.useStates(m)}function o(y,m){var b=y._zr,S=b.storage,E=0;S.traverse(function(C){C.isGroup||E++}),E>m.get("hoverLayerThreshold")&&!Ae.node&&!Ae.worker&&m.eachSeries(function(C){if(!C.preventUsingHoverLayer){var A=y._chartsMap[C.__viewId];A.__alive&&A.eachRendered(function(M){M.states.emphasis&&(M.states.emphasis.hoverLayer=!0)})}})}function c(y,m){var b=y.get("blendMode")||null;m.eachRendered(function(S){S.isGroup||(S.style.blend=b)})}function h(y,m){if(!y.preventAutoZ){var b=bc(y);m.eachRendered(function(S){return W_(S,b.z,b.zlevel),!0})}}function v(y,m){m.eachRendered(function(b){if(!ah(b)){var S=b.getTextContent(),E=b.getTextGuideLine();b.stateTransition&&(b.stateTransition=null),S&&S.stateTransition&&(S.stateTransition=null),E&&E.stateTransition&&(E.stateTransition=null),b.hasState()?(b.prevStates=b.currentStates,b.clearStates()):b.prevStates&&(b.prevStates=null)}})}function g(y,m){var b=y.getModel("stateAnimation"),S=y.isAnimationEnabled(),E=b.get("duration"),C=E>0?{duration:E,delay:b.get("delay"),easing:b.get("easing")}:null;m.eachRendered(function(A){if(A.states&&A.states.emphasis){if(ah(A))return;if(A instanceof Ee&&ynt(A),A.__dirty){var M=A.prevStates;M&&A.useStates(M)}if(S){A.stateTransition=C;var L=A.getTextContent(),R=A.getTextGuideLine();L&&(L.stateTransition=C),R&&(R.stateTransition=C)}A.__dirty&&a(A)}})}GP=function(y){return new((function(m){bt(b,m);function b(){return m!==null&&m.apply(this,arguments)||this}return b.prototype.getCoordinateSystems=function(){return y._coordSysMgr.getCoordinateSystems()},b.prototype.getComponentByElement=function(S){for(;S;){var E=S.__ecComponentInfo;if(E!=null)return y._model.getComponent(E.mainType,E.index);S=S.parent}},b.prototype.enterEmphasis=function(S,E){ys(S,E),qi(y)},b.prototype.leaveEmphasis=function(S,E){ms(S,E),qi(y)},b.prototype.enterBlur=function(S){iH(S),qi(y)},b.prototype.leaveBlur=function(S){hA(S),qi(y)},b.prototype.enterSelect=function(S){aH(S),qi(y)},b.prototype.leaveSelect=function(S){oH(S),qi(y)},b.prototype.getModel=function(){return y.getModel()},b.prototype.getViewOfComponentModel=function(S){return y.getViewOfComponentModel(S)},b.prototype.getViewOfSeriesModel=function(S){return y.getViewOfSeriesModel(S)},b.prototype.getMainProcessVersion=function(){return y[Wy]},b})(s4))(y)}})(),t})(fa),zA=rst.prototype;zA.on=J4("on");zA.off=J4("off");zA.one=function(r,t,e){var n=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];t&&t.apply&&t.apply(this,a),n.off(r,i)}this.on.call(this,r,i,e)};var nst=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var O0={},n6={},dT={},vT=[],gT=[],P0=[],i6={},yT={},BP={},ist={},ast="_echarts_instance_";function a6(r,t){i6[r]=t}function o6(r){ve(gT,r)<0&&gT.push(r)}function s6(r,t){WA(vT,r,t,qot)}function ost(r){UA("afterinit",r)}function sst(r){UA("afterupdate",r)}function UA(r,t){oo.on(r,t)}function Vo(r,t,e){var n,i,a,o,c;ee(t)&&(e=t,t=""),se(r)?(n=r.type,i=r.event,o=r.update,c=r.publishNonRefinedEvent,e||(e=r.action),a=r.refineEvent):(n=r,i=t);function h(g){return g.toLowerCase()}i=h(i||n);var v=a?h(n):i;O0[n]||(Yn(OP.test(n)&&OP.test(i)),a&&Yn(i!==n),O0[n]={actionType:n,refinedEventType:i,nonRefinedEventType:v,update:o,action:e,refineEvent:a},dT[i]=1,a&&c&&(dT[v]=1),n6[v]=n)}function lst(r,t){Vv.register(r,t)}function ust(r,t){WA(P0,r,t,X4,"layout")}function Rc(r,t){WA(P0,r,t,Z4,"visual")}var HP=[];function WA(r,t,e,n,i){if((ee(t)||se(t))&&(e=t,t=n),!(ve(HP,e)>=0)){HP.push(e);var a=O4.wrapStageHandler(e,i);a.__prio=t,a.__raw=e,r.push(a)}}function l6(r,t){yT[r]=t}function cst(r,t,e){var n=Hot("registerMap");n&&n(r,t,e)}var fst=xat;Rc(HA,Xat);Rc(K_,Zat);Rc(K_,Kat);Rc(HA,cot);Rc(K_,fot);Rc(K4,Fot);o6(u4);s6(Yot,nat);l6("default",Jat);Vo({type:lc,event:lc,update:lc},kr);Vo({type:zm,event:zm,update:zm},kr);Vo({type:w0,event:cA,update:w0,action:kr,refineEvent:jA,publishNonRefinedEvent:!0});Vo({type:WE,event:cA,update:WE,action:kr,refineEvent:jA,publishNonRefinedEvent:!0});Vo({type:x0,event:cA,update:x0,action:kr,refineEvent:jA,publishNonRefinedEvent:!0});function jA(r,t,e,n){return{eventContent:{selected:hnt(e),isFromClick:t.isFromClick||!1}}}a6("default",{});a6("dark",G4);var zP=[],hst={registerPreprocessor:o6,registerProcessor:s6,registerPostInit:ost,registerPostUpdate:sst,registerUpdateLifecycle:UA,registerAction:Vo,registerCoordinateSystem:lst,registerLayout:ust,registerVisual:Rc,registerTransform:fst,registerLoading:l6,registerMap:cst,registerImpl:Bot,PRIORITY:est,ComponentModel:Te,ComponentView:dr,SeriesModel:or,ChartView:Ke,registerComponentModel:function(r){Te.registerClass(r)},registerComponentView:function(r){dr.registerClass(r)},registerSeriesModel:function(r){or.registerClass(r)},registerChartView:function(r){Ke.registerClass(r)},registerCustomSeries:function(r,t){zot(r,t)},registerSubTypeDefaulter:function(r,t){Te.registerSubTypeDefaulter(r,t)},registerPainter:function(r,t){Ret(r,t)}};function _e(r){if(Rt(r)){j(r,function(t){_e(t)});return}ve(zP,r)>=0||(zP.push(r),ee(r)&&(r={install:r}),r.install(hst))}function zp(r){return r==null?0:r.length||1}function UP(r){return r}var _s=(function(){function r(t,e,n,i,a,o){this._old=t,this._new=e,this._oldKeyGetter=n||UP,this._newKeyGetter=i||UP,this.context=a,this._diffModeMultiple=o==="multiple"}return r.prototype.add=function(t){return this._add=t,this},r.prototype.update=function(t){return this._update=t,this},r.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},r.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},r.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},r.prototype.remove=function(t){return this._remove=t,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},i=new Array(t.length),a=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,n,a,"_newKeyGetter");for(var o=0;o<t.length;o++){var c=i[o],h=n[c],v=zp(h);if(v>1){var g=h.shift();h.length===1&&(n[c]=h[0]),this._update&&this._update(g,o)}else v===1?(n[c]=null,this._update&&this._update(h,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},r.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},i={},a=[],o=[];this._initIndexMap(t,n,a,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var c=0;c<a.length;c++){var h=a[c],v=n[h],g=i[h],y=zp(v),m=zp(g);if(y>1&&m===1)this._updateManyToOne&&this._updateManyToOne(g,v),i[h]=null;else if(y===1&&m>1)this._updateOneToMany&&this._updateOneToMany(g,v),i[h]=null;else if(y===1&&m===1)this._update&&this._update(g,v),i[h]=null;else if(y>1&&m>1)this._updateManyToMany&&this._updateManyToMany(g,v),i[h]=null;else if(y>1)for(var b=0;b<y;b++)this._remove&&this._remove(v[b]);else this._remove&&this._remove(v)}this._performRestAdd(o,i)},r.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],a=e[i],o=zp(a);if(o>1)for(var c=0;c<o;c++)this._add&&this._add(a[c]);else o===1&&this._add&&this._add(a);e[i]=null}},r.prototype._initIndexMap=function(t,e,n,i){for(var a=this._diffModeMultiple,o=0;o<t.length;o++){var c="_ec_"+this[i](t[o],o);if(a||(n[o]=c),!!e){var h=e[c],v=zp(h);v===0?(e[c]=o,a&&n.push(c)):v===1?e[c]=[h,o]:h.push(o)}}},r})(),pst=(function(){function r(t,e){this._encode=t,this._schema=e}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r})();function dst(r,t){var e={},n=e.encode={},i=Kt(),a=[],o=[],c={};j(r.dimensions,function(m){var b=r.getDimensionInfo(m),S=b.coordDim;if(S){var E=b.coordDimIndex;Cw(n,S)[E]=m,b.isExtraCoord||(i.set(S,1),vst(b.type)&&(a[0]=m),Cw(c,S)[E]=r.getDimensionIndex(b.name)),b.defaultTooltip&&o.push(m)}t4.each(function(C,A){var M=Cw(n,A),L=b.otherDims[A];L!=null&&L!==!1&&(M[L]=b.name)})});var h=[],v={};i.each(function(m,b){var S=n[b];v[b]=S[0],h=h.concat(S)}),e.dataDimsOnCoord=h,e.dataDimIndicesOnCoord=Pt(h,function(m){return r.getDimensionInfo(m).storeDimIndex}),e.encodeFirstDimNotExtra=v;var g=n.label;g&&g.length&&(a=g.slice());var y=n.tooltip;return y&&y.length?o=y.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,e.userOutput=new pst(c,t),e}function Cw(r,t){return r.hasOwnProperty(t)||(r[t]=[]),r[t]}function k0(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function vst(r){return!(r==="ordinal"||r==="time")}var Xm=(function(){function r(t){this.otherDims={},t!=null&&At(this,t)}return r})(),gst=xe(),yst={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},u6=(function(){function r(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=h6(this.source)))},r.prototype.getSourceDimensionIndex=function(t){return Jt(this._dimNameMap.get(t),-1)},r.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},r.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=f4(this.source),n=!p6(t),i="",a=[],o=0,c=0;o<t;o++){var h=void 0,v=void 0,g=void 0,y=this.dimensions[c];if(y&&y.storeDimIndex===o)h=e?y.name:null,v=y.type,g=y.ordinalMeta,c++;else{var m=this.getSourceDimension(o);m&&(h=e?m.name:null,v=m.type)}a.push({property:h,type:v,ordinalMeta:g}),e&&h!=null&&(!y||!y.isCalculationCoord)&&(i+=n?h.replace(/\`/g,"`1").replace(/\$/g,"`2"):h),i+="$",i+=yst[v]||"f",g&&(i+=g.uid),i+="$"}var b=this.source,S=[b.seriesLayoutBy,b.startIndex,i].join("$$");return{dimensions:a,hash:S}},r.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===e)a.isCalculationCoord||(i=a.name),n++;else{var o=this.getSourceDimension(e);o&&(i=o.name)}t.push(i)}return t},r.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r})();function c6(r){return r instanceof u6}function f6(r){for(var t=Kt(),e=0;e<(r||[]).length;e++){var n=r[e],i=se(n)?n.name:n;i!=null&&t.get(i)==null&&t.set(i,e)}return t}function h6(r){var t=gst(r);return t.dimNameMap||(t.dimNameMap=f6(r.dimensionsDefine))}function p6(r){return r>30}var Up=se,qs=Pt,mst=typeof Int32Array>"u"?Array:Int32Array,_st="e\0\0",WP=-1,bst=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Sst=["_approximateExtent"],jP,qy,Wp,jp,Aw,Yp,Mw,ui=(function(){function r(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;c6(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var a={},o=[],c={},h=!1,v={},g=0;g<n.length;g++){var y=n[g],m=$t(y)?new Xm({name:y}):y instanceof Xm?y:new Xm(y),b=m.name;m.type=m.type||"float",m.coordDim||(m.coordDim=b,m.coordDimIndex=0);var S=m.otherDims=m.otherDims||{};o.push(b),a[b]=m,v[b]!=null&&(h=!0),m.createInvertedIndices&&(c[b]=[]);var E=g;Re(m.storeDimIndex)&&(E=m.storeDimIndex),S.itemName===0&&(this._nameDimIdx=E),S.itemId===0&&(this._idDimIdx=E),i&&(m.storeDimIndex=g)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(h),this.hostModel=e,this._invertedIndicesMap=c,this._dimOmitted){var C=this._dimIdxToName=Kt();j(o,function(A){C.set(a[A].storeDimIndex,A)})}}return r.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(n!=null)return n;var i=this._schema.getSourceDimension(e);if(i)return i.name},r.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},r.prototype._recognizeDimIndex=function(t){if(Re(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},r.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},r.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},r.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(n){return e.hasOwnProperty(n)?e[n]:void 0}:function(n){return e[n]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(e==null)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[e]:null},r.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,n=e.encode[t];return(n||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(t,e,n){var i=this,a;if(t instanceof sT&&(a=t),!a){var o=this.dimensions,c=OA(t)||jn(t)?new h4(t,o.length):t;a=new sT;var h=qs(o,function(v){return{type:i._dimInfos[v].type,property:v}});a.initData(c,h,n)}this._store=a,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=dst(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},r.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e&&e.length),i=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var c=i;c<a;c++){var h=c-i;this._nameList[c]=e[h],o&&Mw(this,c)}},r.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var i=this._dimInfos[e[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==bl&&!t.fillStorage},r.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,c=i.getSource().sourceFormat,h=c===Hi;if(h&&!i.pure)for(var v=[],g=t;g<e;g++){var y=i.getItem(g,v);if(!this.hasItemOption&&jet(y)&&(this.hasItemOption=!0),y){var m=y.name;a[g]==null&&m!=null&&(a[g]=en(m,null));var b=y.id;o[g]==null&&b!=null&&(o[g]=en(b,null))}}if(this._shouldMakeIdFromName())for(var g=t;g<e;g++)Mw(this,g);jP(this)}},r.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},r.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},r.prototype.setCalculationInfo=function(t,e){Up(t)?At(this._calculationInfo,t):this._calculationInfo[t]=e},r.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return n==null&&this._nameDimIdx!=null&&(n=Wp(this,this._nameDimIdx,e)),n==null&&(n=""),n},r.prototype._getCategory=function(t,e){var n=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},r.prototype.getId=function(t){return qy(this,this.getRawIndex(t))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,e)},r.prototype.getByRawIndex=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,e)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},r.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},r.prototype.getValues=function(t,e){var n=this,i=this._store;return Rt(t)?i.getValues(qs(t,function(a){return n._getStoreDimIndex(a)}),e):i.getValues(t)},r.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},r.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},r.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},r.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},r.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t],i=n&&n[e];return i==null||isNaN(i)?WP:i},r.prototype.each=function(t,e,n){ee(t)&&(n=e,e=t,t=[]);var i=n||this,a=qs(jp(t),this._getStoreDimIndex,this);this._store.each(a,i?qt(e,i):e)},r.prototype.filterSelf=function(t,e,n){ee(t)&&(n=e,e=t,t=[]);var i=n||this,a=qs(jp(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?qt(e,i):e),this},r.prototype.selectRange=function(t){var e=this,n={},i=De(t);return j(i,function(a){var o=e._getStoreDimIndex(a);n[o]=t[a]}),this._store=this._store.selectRange(n),this},r.prototype.mapArray=function(t,e,n){ee(t)&&(n=e,e=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},n),i},r.prototype.map=function(t,e,n,i){var a=n||i||this,o=qs(jp(t),this._getStoreDimIndex,this),c=Yp(this);return c._store=this._store.map(o,a?qt(e,a):e),c},r.prototype.modify=function(t,e,n,i){var a=n||i||this,o=qs(jp(t),this._getStoreDimIndex,this);this._store.modify(o,a?qt(e,a):e)},r.prototype.downSample=function(t,e,n,i){var a=Yp(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),e,n,i),a},r.prototype.minmaxDownSample=function(t,e){var n=Yp(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e),n},r.prototype.lttbDownSample=function(t,e){var n=Yp(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},r.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},r.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new Me(n,e,e&&e.ecModel)},r.prototype.diff=function(t){var e=this;return new _s(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return qy(t,n)},function(n){return qy(e,n)})},r.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},r.prototype.setVisual=function(t,e){this._visual=this._visual||{},Up(t)?At(this._visual,t):this._visual[t]=e},r.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],i=n&&n[e];return i??this.getVisual(e)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var a=i[e];return a==null&&(a=this.getVisual(e),Rt(a)?a=a.slice():Up(a)&&(a=At({},a)),i[e]=a),a},r.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Up(e)?At(i,e):i[e]=n},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(t,e){Up(t)?At(this._layout,t):this._layout[t]=e},r.prototype.getLayout=function(t){return this._layout[t]},r.prototype.getItemLayout=function(t){return this._itemLayouts[t]},r.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?At(this._itemLayouts[t]||{},e):e},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;UE(n,this.dataType,t,e),this._graphicEls[t]=e},r.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},r.prototype.eachItemGraphicEl=function(t,e){j(this._graphicEls,function(n,i){n&&t&&t.call(e,n,i)})},r.prototype.cloneShallow=function(t){return t||(t=new r(this._schema?this._schema:qs(this.dimensions,this._getDimInfo,this),this.hostModel)),Aw(t,this),t._store=this._store,t},r.prototype.wrapMethod=function(t,e){var n=this[t];ee(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=n.apply(this,arguments);return e.apply(this,[i].concat(XC(arguments)))})},r.internalField=(function(){jP=function(t){var e=t._invertedIndicesMap;j(e,function(n,i){var a=t._dimInfos[i],o=a.ordinalMeta,c=t._store;if(o){n=e[i]=new mst(o.categories.length);for(var h=0;h<n.length;h++)n[h]=WP;for(var h=0;h<c.count();h++)n[c.get(a.storeDimIndex,h)]=h}})},Wp=function(t,e,n){return en(t._getCategory(e,n),null)},qy=function(t,e){var n=t._idList[e];return n==null&&t._idDimIdx!=null&&(n=Wp(t,t._idDimIdx,e)),n==null&&(n=_st+e),n},jp=function(t){return Rt(t)||(t=t!=null?[t]:[]),t},Yp=function(t){var e=new r(t._schema?t._schema:qs(t.dimensions,t._getDimInfo,t),t.hostModel);return Aw(e,t),e},Aw=function(t,e){j(bst.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,j(Sst,function(n){t[n]=ne(e[n])}),t._calculationInfo=At({},e._calculationInfo)},Mw=function(t,e){var n=t._nameList,i=t._idList,a=t._nameDimIdx,o=t._idDimIdx,c=n[e],h=i[e];if(c==null&&a!=null&&(n[e]=c=Wp(t,a,e)),h==null&&o!=null&&(i[e]=h=Wp(t,o,e)),h==null&&c!=null){var v=t._nameRepeatCount,g=v[c]=(v[c]||0)+1;h=c,g>1&&(h+="__ec__"+g),i[e]=h}}})(),r})();function Bv(r,t){OA(r)||(r=PA(r)),t=t||{};var e=t.coordDimensions||[],n=t.dimensionsDefine||r.dimensionsDefine||[],i=Kt(),a=[],o=xst(r,e,n,t.dimensionsCount),c=t.canOmitUnusedDimensions&&p6(o),h=n===r.dimensionsDefine,v=h?h6(r):f6(n),g=t.encodeDefine;!g&&t.encodeDefaulter&&(g=t.encodeDefaulter(r,o));for(var y=Kt(g),m=new b4(o),b=0;b<m.length;b++)m[b]=-1;function S(F){var H=m[F];if(H<0){var W=n[F],q=se(W)?W:{name:W},Y=new Xm,Z=q.name;Z!=null&&v.get(Z)!=null&&(Y.name=Y.displayName=Z),q.type!=null&&(Y.type=q.type),q.displayName!=null&&(Y.displayName=q.displayName);var et=a.length;return m[F]=et,Y.storeDimIndex=F,a.push(Y),Y}return a[H]}if(!c)for(var b=0;b<o;b++)S(b);y.each(function(F,H){var W=Qe(F).slice();if(W.length===1&&!$t(W[0])&&W[0]<0){y.set(H,!1);return}var q=y.set(H,[]);j(W,function(Y,Z){var et=$t(Y)?v.get(Y):Y;et!=null&&et<o&&(q[Z]=et,C(S(et),H,Z))})});var E=0;j(e,function(F){var H,W,q,Y;if($t(F))H=F,Y={};else{Y=F,H=Y.name;var Z=Y.ordinalMeta;Y.ordinalMeta=null,Y=At({},Y),Y.ordinalMeta=Z,W=Y.dimsDef,q=Y.otherDims,Y.name=Y.coordDim=Y.coordDimIndex=Y.dimsDef=Y.otherDims=null}var et=y.get(H);if(et!==!1){if(et=Qe(et),!et.length)for(var J=0;J<(W&&W.length||1);J++){for(;E<o&&S(E).coordDim!=null;)E++;E<o&&et.push(E++)}j(et,function(it,rt){var st=S(it);if(h&&Y.type!=null&&(st.type=Y.type),C(oe(st,Y),H,rt),st.name==null&&W){var lt=W[rt];!se(lt)&&(lt={name:lt}),st.name=st.displayName=lt.name,st.defaultTooltip=lt.defaultTooltip}q&&oe(st.otherDims,q)})}});function C(F,H,W){t4.get(H)!=null?F.otherDims[H]=W:(F.coordDim=H,F.coordDimIndex=W,i.set(H,!0))}var A=t.generateCoord,M=t.generateCoordCount,L=M!=null;M=A?M||1:0;var R=A||"value";function O(F){F.name==null&&(F.name=F.coordDim)}if(c)j(a,function(F){O(F)}),a.sort(function(F,H){return F.storeDimIndex-H.storeDimIndex});else for(var P=0;P<o;P++){var V=S(P),k=V.coordDim;k==null&&(V.coordDim=Est(R,i,L),V.coordDimIndex=0,(!A||M<=0)&&(V.isExtraCoord=!0),M--),O(V),V.type==null&&(i4(r,P)===Ln.Must||V.isExtraCoord&&(V.otherDims.itemName!=null||V.otherDims.seriesName!=null))&&(V.type="ordinal")}return wst(a),new u6({source:r,dimensions:a,fullDimensionCount:o,dimensionOmitted:c})}function wst(r){for(var t=Kt(),e=0;e<r.length;e++){var n=r[e],i=n.name,a=t.get(i)||0;a>0&&(n.name=i+(a-1)),a++,t.set(i,a)}}function xst(r,t,e,n){var i=Math.max(r.dimensionsDetectedCount||1,t.length,e.length,n||0);return j(t,function(a){var o;se(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function Est(r,t,e){if(e||t.hasKey(r)){for(var n=0;t.hasKey(r+n);)n++;r+=n}return t.set(r,!0),r}var Tst=(function(){function r(t){this.coordSysDims=[],this.axisMap=Kt(),this.categoryAxisMap=Kt(),this.coordSysName=t}return r})();function Cst(r){var t=r.get("coordinateSystem"),e=new Tst(t),n=Ast[t];if(n)return n(r,e,e.axisMap,e.categoryAxisMap),e}var Ast={cartesian2d:function(r,t,e,n){var i=r.getReferringComponents("xAxis",Cr).models[0],a=r.getReferringComponents("yAxis",Cr).models[0];t.coordSysDims=["x","y"],e.set("x",i),e.set("y",a),Df(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),Df(a)&&(n.set("y",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,e,n){var i=r.getReferringComponents("singleAxis",Cr).models[0];t.coordSysDims=["single"],e.set("single",i),Df(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(r,t,e,n){var i=r.getReferringComponents("polar",Cr).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",a),e.set("angle",o),Df(a)&&(n.set("radius",a),t.firstCategoryDimIndex=0),Df(o)&&(n.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,e,n){t.coordSysDims=["lng","lat"]},parallel:function(r,t,e,n){var i=r.ecModel,a=i.getComponent("parallel",r.get("parallelIndex")),o=t.coordSysDims=a.dimensions.slice();j(a.parallelAxisIndex,function(c,h){var v=i.getComponent("parallelAxis",c),g=o[h];e.set(g,v),Df(v)&&(n.set(g,v),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=h))})},matrix:function(r,t,e,n){var i=r.getReferringComponents("matrix",Cr).models[0];t.coordSysDims=["x","y"];var a=i.getDimensionModel("x"),o=i.getDimensionModel("y");e.set("x",a),e.set("y",o),n.set("x",a),n.set("y",o)}};function Df(r){return r.get("type")==="category"}function Mst(r,t,e){e=e||{};var n=e.byIndex,i=e.stackedCoordDimension,a,o,c;Dst(t)?a=t:(o=t.schema,a=o.dimensions,c=t.store);var h=!!(r&&r.get("stack")),v,g,y,m;if(j(a,function(M,L){$t(M)&&(a[L]=M={name:M}),h&&!M.isExtraCoord&&(!n&&!v&&M.ordinalMeta&&(v=M),!g&&M.type!=="ordinal"&&M.type!=="time"&&(!i||i===M.coordDim)&&(g=M))}),g&&!n&&!v&&(n=!0),g){y="__\0ecstackresult_"+r.id,m="__\0ecstackedover_"+r.id,v&&(v.createInvertedIndices=!0);var b=g.coordDim,S=g.type,E=0;j(a,function(M){M.coordDim===b&&E++});var C={name:y,coordDim:b,coordDimIndex:E,type:S,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},A={name:m,coordDim:m,coordDimIndex:E+1,type:S,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(c&&(C.storeDimIndex=c.ensureCalculationDimension(m,S),A.storeDimIndex=c.ensureCalculationDimension(y,S)),o.appendCalculationDimension(C),o.appendCalculationDimension(A)):(a.push(C),a.push(A))}return{stackedDimension:g&&g.name,stackedByDimension:v&&v.name,isStackedByIndex:n,stackedOverDimension:m,stackResultDimension:y}}function Dst(r){return!c6(r.schema)}function Cl(r,t){return!!t&&t===r.getCalculationInfo("stackedDimension")}function d6(r,t){return Cl(r,t)?r.getCalculationInfo("stackResultDimension"):t}function Lst(r,t){var e=r.get("coordinateSystem"),n=Vv.get(e),i;return t&&t.coordSysDims&&(i=Pt(t.coordSysDims,function(a){var o={name:a},c=t.axisMap.get(a);if(c){var h=c.get("type");o.type=k0(h)}return o})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function Nst(r,t,e){var n,i;return e&&j(r,function(a,o){var c=a.coordDim,h=e.categoryAxisMap.get(c);h&&(n==null&&(n=o),a.ordinalMeta=h.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(r[n].otherDims.itemName=0),n}function Cs(r,t,e){e=e||{};var n=t.getSourceManager(),i,a=!1;r?(a=!0,i=PA(r)):(i=n.getSource(),a=i.sourceFormat===Hi);var o=Cst(t),c=Lst(t,o),h=e.useEncodeDefaulter,v=ee(h)?h:h?de(n4,c,t):null,g={coordDimensions:c,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:v,canOmitUnusedDimensions:!a},y=Bv(i,g),m=Nst(y.dimensions,e.createInvertedIndices,o),b=a?null:n.getSharedDataStore(y),S=Mst(t,{schema:y,store:b}),E=new ui(y,t);E.setCalculationInfo(S);var C=m!=null&&Rst(i)?function(A,M,L,R){return R===m?L:this.defaultDimValueGetter(A,M,L,R)}:null;return E.hasItemOption=!1,E.initData(a?i:b,null,C),E}function Rst(r){if(r.sourceFormat===Hi){var t=Ist(r.data||[]);return!Rt(Dh(t))}}function Ist(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}function mT(r){return r.type==="interval"||r.type==="log"}function Ost(r,t,e,n,i){var a={},o=a.interval=IB(t/e);n!=null&&o<n&&(o=a.interval=n),i!=null&&o>i&&(o=a.interval=i);var c=a.intervalPrecision=pv(o),h=a.niceTickExtent=[Ur(Math.ceil(r[0]/o)*o,c),Ur(Math.floor(r[1]/o)*o,c)];return Pst(h,r),a}function Dw(r){var t=Math.pow(10,rA(r)),e=r/t;return e?e===2?e=3:e===3?e=5:e*=2:e=1,Ur(e*t)}function pv(r){return _o(r)+2}function YP(r,t,e){r[t]=Math.max(Math.min(r[t],e[1]),e[0])}function Pst(r,t){!isFinite(r[0])&&(r[0]=t[0]),!isFinite(r[1])&&(r[1]=t[1]),YP(r,0,t),YP(r,1,t),r[0]>r[1]&&(r[0]=r[1])}function YA(r,t){return r>=t[0]&&r<=t[1]}var kst=(function(){function r(){this.normalize=$P,this.scale=qP}return r.prototype.updateMethods=function(t){t.hasBreaks()?(this.normalize=qt(t.normalize,t),this.scale=qt(t.scale,t)):(this.normalize=$P,this.scale=qP)},r})();function $P(r,t){return t[1]===t[0]?.5:(r-t[0])/(t[1]-t[0])}function qP(r,t){return r*(t[1]-t[0])+t[0]}function _T(r,t,e){var n=Math.log(r);return[Math.log(e?t[0]:Math.max(0,t[0]))/n,Math.log(e?t[1]:Math.max(0,t[1]))/n]}var Ol=(function(){function r(t){this._calculator=new kst,this._setting=t||{},this._extent=[1/0,-1/0];var e=jr();e&&(this._brkCtx=e.createScaleBreakContext(),this._brkCtx.update(this._extent))}return r.prototype.getSetting=function(t){return this._setting[t]},r.prototype._innerUnionExtent=function(t){var e=this._extent;this._innerSetExtent(t[0]<e[0]?t[0]:e[0],t[1]>e[1]?t[1]:e[1])},r.prototype.unionExtentFromData=function(t,e){this._innerUnionExtent(t.getApproximateExtent(e))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,e){this._innerSetExtent(t,e)},r.prototype._innerSetExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e),this._brkCtx&&this._brkCtx.update(n)},r.prototype.setBreaksFromOption=function(t){var e=jr();e&&this._innerSetBreak(e.parseAxisBreakOption(t,qt(this.parse,this)))},r.prototype._innerSetBreak=function(t){this._brkCtx&&(this._brkCtx.setBreaks(t),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},r.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},r.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},r.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},r.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},r})();R_(Ol);var Vst=0,dv=(function(){function r(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++Vst,this._onCollect=t.onCollect}return r.createByAxisModel=function(t){var e=t.option,n=e.data,i=n&&Pt(n,Gst);return new r({categories:i,needCollect:!i,deduplication:e.dedplication!==!1})},r.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},r.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!$t(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,this._onCollect&&this._onCollect(t,e),e;var i=this._getOrCreateMap();return e=i.get(t),e==null&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e),this._onCollect&&this._onCollect(t,e)):e=NaN),e},r.prototype._getOrCreateMap=function(){return this._map||(this._map=Kt(this.categories))},r})();function Gst(r){return se(r)&&r.value!=null?r.value:r+""}var yh=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new dv({})),Rt(i)&&(i=new dv({categories:Pt(i,function(a){return se(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return t.prototype.parse=function(e){return e==null?NaN:$t(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return YA(e,this._extent)&&e>=0&&e<this._ordinalMeta.categories.length},t.prototype.normalize=function(e){return e=this._getTickNumber(e),this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(this._calculator.scale(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],n=this._extent,i=n[0];i<=n[1];)e.push({value:i}),i++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=e.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,c=this._ordinalMeta.categories.length,h=Math.min(c,n.length);o<h;++o){var v=n[o];i[o]=v,a[v]=o}for(var g=0;o<c;++o){for(;a[g]!=null;)g++;i.push(g),a[g]=o}},t.prototype._getTickNumber=function(e){var n=this._ticksByOrdinalNumber;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getRawOrdinalNumber=function(e){var n=this._ordinalNumbersByTick;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var n=this.getRawOrdinalNumber(e.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t})(Ol);Ol.registerClass(yh);var Xs=Ur,bs=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return t.prototype.parse=function(e){return e==null||e===""?NaN:Number(e)},t.prototype.contain=function(e){return YA(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=pv(e)},t.prototype.getTicks=function(e){e=e||{};var n=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,c=jr(),h=[];if(!n)return h;if(e.breakTicks==="only_break"&&c)return c.addBreaksToTicks(h,this._brkCtx.breaks,this._extent),h;var v=1e4;i[0]<a[0]&&(e.expandToNicedExtent?h.push({value:Xs(a[0]-n,o)}):h.push({value:i[0]}));for(var g=function(S,E){return Math.round((E-S)/n)},y=a[0];y<=a[1];){if(h.push({value:y}),y=Xs(y+n,o),this._brkCtx){var m=this._brkCtx.calcNiceTickMultiple(y,g);m>=0&&(y=Xs(y+m*n,o))}if(h.length>0&&y===h[h.length-1].value)break;if(h.length>v)return[]}var b=h.length?h[h.length-1].value:a[1];return i[1]>b&&(e.expandToNicedExtent?h.push({value:Xs(b+n,o)}):h.push({value:i[1]})),c&&c.pruneTicksByBreak(e.pruneByBreak,h,this._brkCtx.breaks,function(S){return S.value},this._interval,this._extent),e.breakTicks!=="none"&&c&&c.addBreaksToTicks(h,this._brkCtx.breaks,this._extent),h},t.prototype.getMinorTicks=function(e){for(var n=this.getTicks({expandToNicedExtent:!0}),i=[],a=this.getExtent(),o=1;o<n.length;o++){var c=n[o],h=n[o-1];if(!(h.break||c.break)){for(var v=0,g=[],y=c.value-h.value,m=y/e,b=pv(m);v<e-1;){var S=Xs(h.value+(v+1)*m,b);S>a[0]&&S<a[1]&&g.push(S),v++}var E=jr();E&&E.pruneTicksByBreak("auto",g,this._getNonTransBreaks(),function(C){return C},this._interval,a),i.push(g)}}return i},t.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},t.prototype.getLabel=function(e,n){if(e==null)return"";var i=n&&n.precision;i==null?i=_o(e.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Xs(e.value,i,!0);return HH(a)},t.prototype.calcNiceTicks=function(e,n,i){e=e||5;var a=this._extent.slice(),o=this._getExtentSpanWithBreaks();if(isFinite(o)){o<0&&(o=-o,a.reverse(),this._innerSetExtent(a[0],a[1]),a=this._extent.slice());var c=Ost(a,o,e,n,i);this._intervalPrecision=c.intervalPrecision,this._interval=c.interval,this._niceExtent=c.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var n=this._extent.slice();if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);e.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this._innerSetExtent(n[0],n[1]),n=this._extent.slice(),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval,c=this._intervalPrecision;e.fixMin||(n[0]=Xs(Math.floor(n[0]/o)*o,c)),e.fixMax||(n[1]=Xs(Math.ceil(n[1]/o)*o,c)),this._innerSetExtent(n[0],n[1])},t.prototype.setNiceExtent=function(e,n){this._niceExtent=[e,n]},t.type="interval",t})(Ol);Ol.registerClass(bs);var v6=typeof Float32Array<"u",Fst=v6?Float32Array:Array;function So(r){return Rt(r)?v6?new Float32Array(r):r:new Fst(r)}var bT="__ec_stack_";function g6(r){return r.get("stack")||bT+r.seriesIndex}function $A(r){return r.dim+r.index}function Bst(r){var t=[],e=r.axis,n="axis0";if(e.type==="category"){for(var i=e.getBandWidth(),a=0;a<r.count;a++)t.push(oe({bandWidth:i,axisKey:n,stackId:bT+a},r));for(var o=_6(t),c=[],a=0;a<r.count;a++){var h=o[n][bT+a];h.offsetCenter=h.offset+h.width/2,c.push(h)}return c}}function y6(r,t){var e=[];return t.eachSeriesByType(r,function(n){w6(n)&&e.push(n)}),e}function Hst(r){var t={};j(r,function(h){var v=h.coordinateSystem,g=v.getBaseAxis();if(!(g.type!=="time"&&g.type!=="value"))for(var y=h.getData(),m=g.dim+"_"+g.index,b=y.getDimensionIndex(y.mapDimension(g.dim)),S=y.getStore(),E=0,C=S.count();E<C;++E){var A=S.get(b,E);t[m]?t[m].push(A):t[m]=[A]}});var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i){i.sort(function(h,v){return h-v});for(var a=null,o=1;o<i.length;++o){var c=i[o]-i[o-1];c>0&&(a=a===null?c:Math.min(a,c))}e[n]=a}}return e}function m6(r){var t=Hst(r),e=[];return j(r,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),c;if(a.type==="category")c=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var h=a.dim+"_"+a.index,v=t[h],g=Math.abs(o[1]-o[0]),y=a.scale.getExtent(),m=Math.abs(y[1]-y[0]);c=v?g/m*v:g}else{var b=n.getData();c=Math.abs(o[1]-o[0])/b.count()}var S=Yt(n.get("barWidth"),c),E=Yt(n.get("barMaxWidth"),c),C=Yt(n.get("barMinWidth")||(x6(n)?.5:1),c),A=n.get("barGap"),M=n.get("barCategoryGap"),L=n.get("defaultBarGap");e.push({bandWidth:c,barWidth:S,barMaxWidth:E,barMinWidth:C,barGap:A,barCategoryGap:M,defaultBarGap:L,axisKey:$A(a),stackId:g6(n)})}),_6(e)}function _6(r){var t={};j(r,function(n,i){var a=n.axisKey,o=n.bandWidth,c=t[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:n.defaultBarGap||0,stacks:{}},h=c.stacks;t[a]=c;var v=n.stackId;h[v]||c.autoWidthCount++,h[v]=h[v]||{width:0,maxWidth:0};var g=n.barWidth;g&&!h[v].width&&(h[v].width=g,g=Math.min(c.remainedWidth,g),c.remainedWidth-=g);var y=n.barMaxWidth;y&&(h[v].maxWidth=y);var m=n.barMinWidth;m&&(h[v].minWidth=m);var b=n.barGap;b!=null&&(c.gap=b);var S=n.barCategoryGap;S!=null&&(c.categoryGap=S)});var e={};return j(t,function(n,i){e[i]={};var a=n.stacks,o=n.bandWidth,c=n.categoryGap;if(c==null){var h=De(a).length;c=Math.max(35-h*4,15)+"%"}var v=Yt(c,o),g=Yt(n.gap,1),y=n.remainedWidth,m=n.autoWidthCount,b=(y-v)/(m+(m-1)*g);b=Math.max(b,0),j(a,function(A){var M=A.maxWidth,L=A.minWidth;if(A.width){var R=A.width;M&&(R=Math.min(R,M)),L&&(R=Math.max(R,L)),A.width=R,y-=R+g*R,m--}else{var R=b;M&&M<R&&(R=Math.min(M,y)),L&&L>R&&(R=L),R!==b&&(A.width=R,y-=R+g*R,m--)}}),b=(y-v)/(m+(m-1)*g),b=Math.max(b,0);var S=0,E;j(a,function(A,M){A.width||(A.width=b),E=A,S+=A.width*(1+g)}),E&&(S-=E.width*g);var C=-S/2;j(a,function(A,M){e[i][M]=e[i][M]||{bandWidth:o,offset:C,width:A.width},C+=A.width*(1+g)})}),e}function zst(r,t,e){if(r&&t){var n=r[$A(t)];return n}}function b6(r,t){var e=y6(r,t),n=m6(e);j(e,function(i){var a=i.getData(),o=i.coordinateSystem,c=o.getBaseAxis(),h=g6(i),v=n[$A(c)][h],g=v.offset,y=v.width;a.setLayout({bandWidth:v.bandWidth,offset:g,size:y})})}function S6(r){return{seriesType:r,plan:kh(),reset:function(t){if(w6(t)){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),o=e.getDimensionIndex(e.mapDimension(a.dim)),c=e.getDimensionIndex(e.mapDimension(i.dim)),h=t.get("showBackground",!0),v=e.mapDimension(a.dim),g=e.getCalculationInfo("stackResultDimension"),y=Cl(e,v)&&!!e.getCalculationInfo("stackedOnSeries"),m=a.isHorizontal(),b=Ust(i,a),S=x6(t),E=t.get("barMinHeight")||0,C=g&&e.getDimensionIndex(g),A=e.getLayout("size"),M=e.getLayout("offset");return{progress:function(L,R){for(var O=L.count,P=S&&So(O*3),V=S&&h&&So(O*3),k=S&&So(O),F=n.master.getRect(),H=m?F.width:F.height,W,q=R.getStore(),Y=0;(W=L.next())!=null;){var Z=q.get(y?C:o,W),et=q.get(c,W),J=b,it=void 0;y&&(it=+Z-q.get(o,W));var rt=void 0,st=void 0,lt=void 0,dt=void 0;if(m){var pt=n.dataToPoint([Z,et]);if(y){var xt=n.dataToPoint([it,et]);J=xt[0]}rt=J,st=pt[1]+M,lt=pt[0]-J,dt=A,Math.abs(lt)<E&&(lt=(lt<0?-1:1)*E)}else{var pt=n.dataToPoint([et,Z]);if(y){var xt=n.dataToPoint([et,it]);J=xt[1]}rt=pt[0]+M,st=J,lt=A,dt=pt[1]-J,Math.abs(dt)<E&&(dt=(dt<=0?-1:1)*E)}S?(P[Y]=rt,P[Y+1]=st,P[Y+2]=m?lt:dt,V&&(V[Y]=m?F.x:rt,V[Y+1]=m?st:F.y,V[Y+2]=H),k[W]=W):R.setItemLayout(W,{x:rt,y:st,width:lt,height:dt}),Y+=3}S&&R.setLayout({largePoints:P,largeDataIndices:k,largeBackgroundPoints:V,valueAxisHorizontal:m})}}}}}}function w6(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function x6(r){return r.pipelineContext&&r.pipelineContext.large}function Ust(r,t){var e=t.model.get("startValue");return e||(e=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?e>0?e:1:e))}var Wst=function(r,t,e,n){for(;e<n;){var i=e+n>>>1;r[i][1]<t?e=i+1:n=i}return e},qA=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="time",n}return t.prototype.getLabel=function(e){var n=this.getSetting("useUTC");return Y_(e.value,FO[_it(zd(this._minLevelUnit))]||FO.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,n,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return bit(e,n,i,o,a)},t.prototype.getTicks=function(e){e=e||{};var n=this._interval,i=this._extent,a=jr(),o=[];if(!n)return o;var c=this.getSetting("useUTC");if(a&&e.breakTicks==="only_break")return jr().addBreaksToTicks(o,this._brkCtx.breaks,this._extent),o;var h=Kf(i[1],c);o.push({value:i[0],time:{level:0,upperTimeUnit:h,lowerTimeUnit:h}});var v=Kst(this._minLevelUnit,this._approxInterval,c,i,this._getExtentSpanWithBreaks(),this._brkCtx);o=o.concat(v);var g=Kf(i[1],c);o.push({value:i[1],time:{level:0,upperTimeUnit:g,lowerTimeUnit:g}});var y=this.getSetting("useUTC"),m=Ii.length-1,b=0;return j(o,function(S){m=Math.min(m,ve(Ii,S.time.upperTimeUnit)),b=Math.max(b,S.time.level)}),a&&jr().pruneTicksByBreak(e.pruneByBreak,o,this._brkCtx.breaks,function(S){return S.value},this._approxInterval,this._extent),a&&e.breakTicks!=="none"&&jr().addBreaksToTicks(o,this._brkCtx.breaks,this._extent,function(S){for(var E=Math.max(ve(Ii,Kf(S.vmin,y)),ve(Ii,Kf(S.vmax,y))),C=0,A=0;A<Ii.length;A++)if(!E6(Ii[A],S.vmin,S.vmax,y)){C=A;break}var M=Math.min(C,m),L=Math.max(M,E);return{level:b,lowerTimeUnit:Ii[L],upperTimeUnit:Ii[M]}}),o},t.prototype.calcNiceExtent=function(e){var n=this.getExtent();if(n[0]===n[1]&&(n[0]-=aa,n[1]+=aa),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-aa}this._innerSetExtent(n[0],n[1]),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,n,i){e=e||10;var a=this._getExtentSpanWithBreaks();this._approxInterval=a/e,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=Xy.length,c=Math.min(Wst(Xy,this._approxInterval,0,o),o-1);this._interval=Xy[c][1],this._intervalPrecision=pv(this._interval),this._minLevelUnit=Xy[Math.max(c-1,0)][0]},t.prototype.parse=function(e){return Re(e)?e:+Ac(e)},t.prototype.contain=function(e){return YA(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.type="time",t})(bs),Xy=[["second",SA],["minute",wA],["hour",Hd],["quarter-day",Hd*6],["half-day",Hd*12],["day",aa*1.2],["half-week",aa*3.5],["week",aa*7],["month",aa*31],["quarter",aa*95],["half-year",GO/2],["year",GO]];function E6(r,t,e,n){return eT(new Date(t),r,n).getTime()===eT(new Date(e),r,n).getTime()}function jst(r,t){return r/=aa,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function Yst(r){var t=30*aa;return r/=t,r>6?6:r>3?3:r>2?2:1}function $st(r){return r/=Hd,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function XP(r,t){return r/=t?wA:SA,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function qst(r){return IB(r)}function Xst(r,t,e){var n=Math.max(0,ve(Ii,t)-1);return eT(new Date(r),Ii[n],e).getTime()}function Zst(r,t){var e=new Date(0);e[r](1);var n=e.getTime();e[r](1+t);var i=e.getTime()-n;return function(a,o){return Math.max(0,Math.round((o-a)/i))}}function Kst(r,t,e,n,i,a){var o=1e4,c=vit,h=0;function v(Y,Z,et,J,it,rt,st){for(var lt=Zst(it,Y),dt=Z,pt=new Date(dt);dt<et&&dt<=n[1]&&(st.push({value:dt}),!(h++>o));)if(pt[it](pt[J]()+Y),dt=pt.getTime(),a){var xt=a.calcNiceTickMultiple(dt,lt);xt>0&&(pt[it](pt[J]()+xt*Y),dt=pt.getTime())}st.push({value:dt,notAdd:!0})}function g(Y,Z,et){var J=[],it=!Z.length;if(!E6(zd(Y),n[0],n[1],e)){it&&(Z=[{value:Xst(n[0],Y,e)},{value:n[1]}]);for(var rt=0;rt<Z.length-1;rt++){var st=Z[rt].value,lt=Z[rt+1].value;if(st!==lt){var dt=void 0,pt=void 0,xt=void 0,Ft=!1;switch(Y){case"year":dt=Math.max(1,Math.round(t/aa/365)),pt=OH(e),xt=Sit(e);break;case"half-year":case"quarter":case"month":dt=Yst(t),pt=xA(e),xt=PH(e);break;case"week":case"half-week":case"day":dt=jst(t),pt=EA(e),xt=kH(e),Ft=!0;break;case"half-day":case"quarter-day":case"hour":dt=$st(t),pt=TA(e),xt=VH(e);break;case"minute":dt=XP(t,!0),pt=CA(e),xt=GH(e);break;case"second":dt=XP(t,!1),pt=AA(e),xt=FH(e);break;case"millisecond":dt=qst(t),pt=MA(e),xt=BH(e);break}lt>=n[0]&&st<=n[1]&&v(dt,st,lt,pt,xt,Ft,J),Y==="year"&&et.length>1&&rt===0&&et.unshift({value:et[0].value-dt})}}for(var rt=0;rt<J.length;rt++)et.push(J[rt])}}for(var y=[],m=[],b=0,S=0,E=0;E<c.length;++E){var C=zd(c[E]);if(mit(c[E])){g(c[E],y[y.length-1]||[],m);var A=c[E+1]?zd(c[E+1]):null;if(C!==A){if(m.length){S=b,m.sort(function(Y,Z){return Y.value-Z.value});for(var M=[],L=0;L<m.length;++L){var R=m[L].value;(L===0||m[L-1].value!==R)&&(M.push(m[L]),R>=n[0]&&R<=n[1]&&b++)}var O=i/t;if(b>O*1.5&&S>O/1.5||(y.push(M),b>O||r===c[E]))break}m=[]}}}for(var P=je(Pt(y,function(Y){return je(Y,function(Z){return Z.value>=n[0]&&Z.value<=n[1]&&!Z.notAdd})}),function(Y){return Y.length>0}),V=[],k=P.length-1,E=0;E<P.length;++E)for(var F=P[E],H=0;H<F.length;++H){var W=Kf(F[H].value,e);V.push({value:F[H].value,time:{level:k-E,upperTimeUnit:W,lowerTimeUnit:W}})}V.sort(function(Y,Z){return Y.value-Z.value});for(var q=[],E=0;E<V.length;++E)(E===0||V[E].value!==V[E-1].value)&&q.push(V[E]);return q}Ol.registerClass(qA);var ST=Ur,Jst=Math.floor,Qst=Math.ceil,Zy=Math.pow,Ky=Math.log,T6=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new bs,e}return t.prototype.getTicks=function(e){e=e||{};var n=this._extent.slice(),i=this._originalScale.getExtent(),a=r.prototype.getTicks.call(this,e),o=this.base,c=this._originalScale._innerGetBreaks(),h=jr();return Pt(a,function(v){var g=v.value,y=null,m=Zy(o,g);g===n[0]&&this._fixMin?y=i[0]:g===n[1]&&this._fixMax&&(y=i[1]);var b;if(h){var S=h.getTicksLogTransformBreak(v,o,c,Jy);b=S.vBreak,y==null&&(y=S.brkRoundingCriterion)}return y!=null&&(m=Jy(m,y)),{value:m,break:b}},this)},t.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},t.prototype.setExtent=function(e,n){this._originalScale.setExtent(e,n);var i=_T(this.base,[e,n]);r.prototype.setExtent.call(this,i[0],i[1])},t.prototype.getExtent=function(){var e=this.base,n=r.prototype.getExtent.call(this);n[0]=Zy(e,n[0]),n[1]=Zy(e,n[1]);var i=this._originalScale.getExtent();return this._fixMin&&(n[0]=Jy(n[0],i[0])),this._fixMax&&(n[1]=Jy(n[1],i[1])),n},t.prototype.unionExtentFromData=function(e,n){this._originalScale.unionExtentFromData(e,n);var i=_T(this.base,e.getApproximateExtent(n),!0);this._innerUnionExtent(i)},t.prototype.calcNiceTicks=function(e){e=e||10;var n=this._extent.slice(),i=this._getExtentSpanWithBreaks();if(!(!isFinite(i)||i<=0)){var a=Het(i),o=e/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var c=[ST(Qst(n[0]/a)*a),ST(Jst(n[1]/a)*a)];this._interval=a,this._intervalPrecision=pv(a),this._niceExtent=c}},t.prototype.calcNiceExtent=function(e){r.prototype.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.contain=function(e){return e=Ky(e)/Ky(this.base),r.prototype.contain.call(this,e)},t.prototype.normalize=function(e){return e=Ky(e)/Ky(this.base),r.prototype.normalize.call(this,e)},t.prototype.scale=function(e){return e=r.prototype.scale.call(this,e),Zy(this.base,e)},t.prototype.setBreaksFromOption=function(e){var n=jr();if(n){var i=n.logarithmicParseBreaksFromOption(e,this.base,qt(this.parse,this)),a=i.parsedOriginal,o=i.parsedLogged;this._originalScale._innerSetBreak(a),this._innerSetBreak(o)}},t.type="log",t})(bs);function Jy(r,t){return ST(r,_o(t))}Ol.registerClass(T6);var tlt=(function(){function r(t,e,n){this._prepareParams(t,e,n)}return r.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=e.get("min",!0);a==null&&(a=e.get("startValue",!0));var o=this._modelMinRaw=a;ee(o)?this._modelMinNum=Qy(t,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=Qy(t,o));var c=this._modelMaxRaw=e.get("max",!0);if(ee(c)?this._modelMaxNum=Qy(t,c({min:n[0],max:n[1]})):c!=="dataMax"&&(this._modelMaxNum=Qy(t,c)),i)this._axisDataLen=e.getCategories().length;else{var h=e.get("boundaryGap"),v=Rt(h)?h:[h||0,h||0];typeof v[0]=="boolean"||typeof v[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Ia(v[0],1),Ia(v[1],1)]}},r.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=t?null:n-e||Math.abs(e),c=this._modelMinRaw==="dataMin"?e:this._modelMinNum,h=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,v=c!=null,g=h!=null;c==null&&(c=t?i?0:NaN:e-a[0]*o),h==null&&(h=t?i?i-1:NaN:n+a[1]*o),(c==null||!isFinite(c))&&(c=NaN),(h==null||!isFinite(h))&&(h=NaN);var y=Wn(c)||Wn(h)||t&&!i;this._needCrossZero&&(c>0&&h>0&&!v&&(c=0),c<0&&h<0&&!g&&(h=0));var m=this._determinedMin,b=this._determinedMax;return m!=null&&(c=m,v=!0),b!=null&&(h=b,g=!0),{min:c,max:h,minFixed:v,maxFixed:g,isBlank:y}},r.prototype.modifyDataMinMax=function(t,e){this[rlt[t]]=e},r.prototype.setDeterminedMinMax=function(t,e){var n=elt[t];this[n]=e},r.prototype.freeze=function(){this.frozen=!0},r})(),elt={min:"_determinedMin",max:"_determinedMax"},rlt={min:"_dataMin",max:"_dataMax"};function C6(r,t,e){var n=r.rawExtentInfo;return n||(n=new tlt(r,t,e),r.rawExtentInfo=n,n)}function Qy(r,t){return t==null?null:Wn(t)?NaN:r.parse(t)}function A6(r,t){var e=r.type,n=C6(r,t,r.getExtent()).calculate();r.setBlank(n.isBlank);var i=n.min,a=n.max,o=t.ecModel;if(o&&e==="time"){var c=y6("bar",o),h=!1;if(j(c,function(y){h=h||y.getBaseAxis()===t.axis}),h){var v=m6(c),g=nlt(i,a,t,v);i=g.min,a=g.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function nlt(r,t,e,n){var i=e.axis.getExtent(),a=Math.abs(i[1]-i[0]),o=zst(n,e.axis);if(o===void 0)return{min:r,max:t};var c=1/0;j(o,function(b){c=Math.min(b.offset,c)});var h=-1/0;j(o,function(b){h=Math.max(b.offset+b.width,h)}),c=Math.abs(c),h=Math.abs(h);var v=c+h,g=t-r,y=1-(c+h)/a,m=g/y-g;return t+=m*(h/v),r-=m*(c/v),{min:r,max:t}}function mh(r,t){var e=t,n=A6(r,e),i=n.extent,a=e.get("splitNumber");r instanceof T6&&(r.base=e.get("logBase"));var o=r.type,c=e.get("interval"),h=o==="interval"||o==="time";r.setBreaksFromOption(D6(e)),r.setExtent(i[0],i[1]),r.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:h?e.get("minInterval"):null,maxInterval:h?e.get("maxInterval"):null}),c!=null&&r.setInterval&&r.setInterval(c)}function J_(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new yh({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new qA({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(Ol.getClass(t)||bs)}}function ilt(r){var t=r.scale.getExtent(),e=t[0],n=t[1];return!(e>0&&n>0||e<0&&n<0)}function Fh(r){var t=r.getLabelModel().get("formatter");if(r.type==="time"){var e=git(t);return function(i,a){return r.scale.getFormattedLabel(i,a,e)}}else{if($t(t))return function(i){var a=r.scale.getLabel(i),o=t.replace("{value}",a??"");return o};if(ee(t)){if(r.type==="category")return function(i,a){return t(V0(r,i),i.value-r.scale.getExtent()[0],null)};var n=jr();return function(i,a){var o=null;return n&&(o=n.makeAxisLabelFormatterParamBreak(o,i.break)),t(V0(r,i),a,o)}}else return function(i){return r.scale.getLabel(i)}}}function V0(r,t){return r.type==="category"?r.scale.getLabel(t):t.value}function XA(r){var t=r.get("interval");return t??"auto"}function M6(r){return r.type==="category"&&XA(r.getLabelModel())===0}function G0(r,t){var e={};return j(r.mapDimensionsAll(t),function(n){e[d6(r,n)]=!0}),De(e)}function alt(r,t,e){t&&j(G0(t,e),function(n){var i=t.getApproximateExtent(n);i[0]<r[0]&&(r[0]=i[0]),i[1]>r[1]&&(r[1]=i[1])})}function _h(r){return r==="middle"||r==="center"}function vv(r){return r.getShallow("show")}function D6(r){var t=r.get("breaks",!0);if(t!=null)return!jr()||!olt(r.axis)?void 0:t}function olt(r){return(r.dim==="x"||r.dim==="y"||r.dim==="z"||r.dim==="single")&&r.type!=="category"}var Hv=(function(){function r(){}return r.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},r.prototype.getCoordSysModel=function(){},r})(),slt=1e-8;function ZP(r,t){return Math.abs(r-t)<slt}function Yu(r,t,e){var n=0,i=r[0];if(!i)return!1;for(var a=1;a<r.length;a++){var o=r[a];n+=rs(i[0],i[1],o[0],o[1],t,e),i=o}var c=r[0];return(!ZP(i[0],c[0])||!ZP(i[1],c[1]))&&(n+=rs(i[0],i[1],c[0],c[1],t,e)),n!==0}var llt=[];function Lw(r,t){for(var e=0;e<r.length;e++)Vr(r[e],r[e],t)}function KP(r,t,e,n){for(var i=0;i<r.length;i++){var a=r[i];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(sl(t,t,a),ll(e,e,a))}}function ult(r){for(var t=0,e=0,n=0,i=r.length,a=r[i-1][0],o=r[i-1][1],c=0;c<i;c++){var h=r[c][0],v=r[c][1],g=a*v-h*o;t+=g,e+=(a+h)*g,n+=(o+v)*g,a=h,o=v}return t?[e/t/3,n/t/3,t]:[r[0][0]||0,r[0][1]||0]}var L6=(function(){function r(t){this.name=t}return r.prototype.setCenter=function(t){this._center=t},r.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},r})(),JP=(function(){function r(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return r})(),QP=(function(){function r(t){this.type="linestring",this.points=t}return r})(),N6=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this,e)||this;return a.type="geoJSON",a.geometries=n,a._center=i&&[i[0],i[1]],a}return t.prototype.calcCenter=function(){for(var e=this.geometries,n,i=0,a=0;a<e.length;a++){var o=e[a],c=o.exterior,h=c&&c.length;h>i&&(n=o,i=h)}if(n)return ult(n.exterior);var v=this.getBoundingRect();return[v.x+v.width/2,v.y+v.height/2]},t.prototype.getBoundingRect=function(e){var n=this._rect;if(n&&!e)return n;var i=[1/0,1/0],a=[-1/0,-1/0],o=this.geometries;return j(o,function(c){c.type==="polygon"?KP(c.exterior,i,a,e):j(c.points,function(h){KP(h,i,a,e)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),n=new le(i[0],i[1],a[0]-i[0],a[1]-i[1]),e||(this._rect=n),n},t.prototype.contain=function(e){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(e[0],e[1]))return!1;t:for(var a=0,o=i.length;a<o;a++){var c=i[a];if(c.type==="polygon"){var h=c.exterior,v=c.interiors;if(Yu(h,e[0],e[1])){for(var g=0;g<(v?v.length:0);g++)if(Yu(v[g],e[0],e[1]))continue t;return!0}}}return!1},t.prototype.transformTo=function(e,n,i,a){var o=this.getBoundingRect(),c=o.width/o.height;i?a||(a=i/c):i=c*a;for(var h=new le(e,n,i,a),v=o.calculateTransform(h),g=this.geometries,y=0;y<g.length;y++){var m=g[y];m.type==="polygon"?(Lw(m.exterior,v),j(m.interiors,function(b){Lw(b,v)})):j(m.points,function(b){Lw(b,v)})}o=this._rect,o.copy(h),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t})(L6),clt=(function(r){bt(t,r);function t(e,n){var i=r.call(this,e)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,n=e.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],a=A_(llt),o=e;o&&!o.isGeoSVGGraphicRoot;)To(a,o.getLocalTransform(),a),o=o.parent;return Ra(a,a),Vr(i,i,a),i},t})(L6);function flt(r){if(!r.UTF8Encoding)return r;var t=r,e=t.UTF8Scale;e==null&&(e=1024);var n=t.features;return j(n,function(i){var a=i.geometry,o=a.encodeOffsets,c=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=R6(c,o,e);break;case"Polygon":Nw(c,o,e);break;case"MultiLineString":Nw(c,o,e);break;case"MultiPolygon":j(c,function(h,v){return Nw(h,o[v],e)})}}),t.UTF8Encoding=!1,t}function Nw(r,t,e){for(var n=0;n<r.length;n++)r[n]=R6(r[n],t[n],e)}function R6(r,t,e){for(var n=[],i=t[0],a=t[1],o=0;o<r.length;o+=2){var c=r.charCodeAt(o)-64,h=r.charCodeAt(o+1)-64;c=c>>1^-(c&1),h=h>>1^-(h&1),c+=i,h+=a,i=c,a=h,n.push([c/e,h/e])}return n}function hlt(r,t){return r=flt(r),Pt(je(r.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var n=e.properties,i=e.geometry,a=[];switch(i.type){case"Polygon":var o=i.coordinates;a.push(new JP(o[0],o.slice(1)));break;case"MultiPolygon":j(i.coordinates,function(h){h[0]&&a.push(new JP(h[0],h.slice(1)))});break;case"LineString":a.push(new QP([i.coordinates]));break;case"MultiLineString":a.push(new QP(i.coordinates))}var c=new N6(n[t||"name"],a,n.cp);return c.properties=n,c})}var plt=xe(),Wd=xe(),Oa={estimate:1,determine:2};function F0(r){return{out:{noPxChangeTryDetermine:[]},kind:r}}function I6(r,t){var e=Pt(t,function(n){return r.scale.parse(n)});return r.type==="time"&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function dlt(r,t){var e=r.getLabelModel().get("customValues");if(e){var n=Fh(r),i=r.scale.getExtent(),a=I6(r,e),o=je(a,function(c){return c>=i[0]&&c<=i[1]});return{labels:Pt(o,function(c){var h={value:c};return{formattedLabel:n(h),rawLabel:r.scale.getLabel(h),tickValue:c,time:void 0,break:void 0}})}}return r.type==="category"?glt(r,t):mlt(r)}function vlt(r,t,e){var n=r.getTickModel().get("customValues");if(n){var i=r.scale.getExtent(),a=I6(r,n);return{ticks:je(a,function(o){return o>=i[0]&&o<=i[1]})}}return r.type==="category"?ylt(r,t):{ticks:Pt(r.scale.getTicks(e),function(o){return o.value})}}function glt(r,t){var e=r.getLabelModel(),n=O6(r,e,t);return!e.get("show")||r.scale.isBlank()?{labels:[]}:n}function O6(r,t,e){var n=blt(r),i=XA(t),a=e.kind===Oa.estimate;if(!a){var o=k6(n,i);if(o)return o}var c,h;ee(i)?c=F6(r,i):(h=i==="auto"?Slt(r,e):i,c=G6(r,h));var v={labels:c,labelCategoryInterval:h};return a?e.out.noPxChangeTryDetermine.push(function(){return wT(n,i,v),!0}):wT(n,i,v),v}function ylt(r,t){var e=_lt(r),n=XA(t),i=k6(e,n);if(i)return i;var a,o;if((!t.get("show")||r.scale.isBlank())&&(a=[]),ee(n))a=F6(r,n,!0);else if(n==="auto"){var c=O6(r,r.getLabelModel(),F0(Oa.determine));o=c.labelCategoryInterval,a=Pt(c.labels,function(h){return h.tickValue})}else o=n,a=G6(r,o,!0);return wT(e,n,{ticks:a,tickCategoryInterval:o})}function mlt(r){var t=r.scale.getTicks(),e=Fh(r);return{labels:Pt(t,function(n,i){return{formattedLabel:e(n,i),rawLabel:r.scale.getLabel(n),tickValue:n.value,time:n.time,break:n.break}})}}var _lt=P6("axisTick"),blt=P6("axisLabel");function P6(r){return function(e){return Wd(e)[r]||(Wd(e)[r]={list:[]})}}function k6(r,t){for(var e=0;e<r.list.length;e++)if(r.list[e].key===t)return r.list[e].value}function wT(r,t,e){return r.list.push({key:t,value:e}),e}function Slt(r,t){if(t.kind===Oa.estimate){var e=r.calculateCategoryInterval(t);return t.out.noPxChangeTryDetermine.push(function(){return Wd(r).autoInterval=e,!0}),e}var n=Wd(r).autoInterval;return n??(Wd(r).autoInterval=r.calculateCategoryInterval(t))}function wlt(r,t){var e=t.kind,n=Elt(r),i=Fh(r),a=(n.axisRotate-n.labelRotate)/180*Math.PI,o=r.scale,c=o.getExtent(),h=o.count();if(c[1]-c[0]<1)return 0;var v=1,g=40;h>g&&(v=Math.max(1,Math.floor(h/g)));for(var y=c[0],m=r.dataToCoord(y+1)-r.dataToCoord(y),b=Math.abs(m*Math.cos(a)),S=Math.abs(m*Math.sin(a)),E=0,C=0;y<=c[1];y+=v){var A=0,M=0,L=L_(i({value:y}),n.font,"center","top");A=L.width*1.3,M=L.height*1.3,E=Math.max(E,A,7),C=Math.max(C,M,7)}var R=E/b,O=C/S;isNaN(R)&&(R=1/0),isNaN(O)&&(O=1/0);var P=Math.max(0,Math.floor(Math.min(R,O)));if(e===Oa.estimate)return t.out.noPxChangeTryDetermine.push(qt(xlt,null,r,P,h)),P;var V=V6(r,P,h);return V??P}function xlt(r,t,e){return V6(r,t,e)==null}function V6(r,t,e){var n=plt(r.model),i=r.getExtent(),a=n.lastAutoInterval,o=n.lastTickCount;if(a!=null&&o!=null&&Math.abs(a-t)<=1&&Math.abs(o-e)<=1&&a>t&&n.axisExtent0===i[0]&&n.axisExtent1===i[1])return a;n.lastTickCount=e,n.lastAutoInterval=t,n.axisExtent0=i[0],n.axisExtent1=i[1]}function Elt(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function G6(r,t,e){var n=Fh(r),i=r.scale,a=i.getExtent(),o=r.getLabelModel(),c=[],h=Math.max((t||0)+1,1),v=a[0],g=i.count();v!==0&&h>1&&g/h>2&&(v=Math.round(Math.ceil(v/h)*h));var y=M6(r),m=o.get("showMinLabel")||y,b=o.get("showMaxLabel")||y;m&&v!==a[0]&&E(a[0]);for(var S=v;S<=a[1];S+=h)E(S);b&&S-h!==a[1]&&E(a[1]);function E(C){var A={value:C};c.push(e?C:{formattedLabel:n(A),rawLabel:i.getLabel(A),tickValue:C,time:void 0,break:void 0})}return c}function F6(r,t,e){var n=r.scale,i=Fh(r),a=[];return j(n.getTicks(),function(o){var c=n.getLabel(o),h=o.value;t(o.value,c)&&a.push(e?h:{formattedLabel:i(o),rawLabel:c,tickValue:h,time:void 0,break:void 0})}),a}var tk=[0,1],Va=(function(){function r(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return r.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},r.prototype.containData=function(t){return this.scale.contain(this.scale.parse(t))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return NB(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},r.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(i.parse(t)),this.onBand&&i.type==="ordinal"&&(n=n.slice(),ek(n,i.count())),We(t,tk,n,e)},r.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),ek(n,i.count()));var a=We(t,n,tk,e);return this.scale.scale(a)},r.prototype.pointToData=function(t,e){},r.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=vlt(this,e,{breakTicks:t.breakTicks,pruneByBreak:t.pruneByBreak}),i=n.ticks,a=Pt(i,function(c){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(c):c),tickValue:c}},this),o=e.get("alignWithLabel");return Tlt(this,a,o,t.clamp),a},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e),i=Pt(n,function(a){return Pt(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},r.prototype.getViewLabels=function(t){return t=t||F0(Oa.determine),dlt(this,t).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},r.prototype.calculateCategoryInterval=function(t){return t=t||F0(Oa.determine),wlt(this,t)},r})();function ek(r,t){var e=r[1]-r[0],n=t,i=e/n/2;r[0]+=i,r[1]-=i}function Tlt(r,t,e,n){var i=t.length;if(!r.onBand||e||!i)return;var a=r.getExtent(),o,c;if(i===1)t[0].coord=a[0],t[0].onBand=!0,o=t[1]={coord:a[1],tickValue:t[0].tickValue,onBand:!0};else{var h=t[i-1].tickValue-t[0].tickValue,v=(t[i-1].coord-t[0].coord)/h;j(t,function(b){b.coord-=v/2,b.onBand=!0});var g=r.scale.getExtent();c=1+g[1]-t[i-1].tickValue,o={coord:t[i-1].coord+v*c,tickValue:g[1]+1,onBand:!0},t.push(o)}var y=a[0]>a[1];m(t[0].coord,a[0])&&(n?t[0].coord=a[0]:t.shift()),n&&m(a[0],t[0].coord)&&t.unshift({coord:a[0],onBand:!0}),m(a[1],o.coord)&&(n?o.coord=a[1]:t.pop()),n&&m(o.coord,a[1])&&t.push({coord:a[1],onBand:!0});function m(b,S){return b=Ur(b),S=Ur(S),y?b>S:b<S}}var $p=Math.PI*2,Pu=Io.CMD,Clt=["top","right","bottom","left"];function Alt(r,t,e,n,i){var a=e.width,o=e.height;switch(r){case"top":n.set(e.x+a/2,e.y-t),i.set(0,-1);break;case"bottom":n.set(e.x+a/2,e.y+o+t),i.set(0,1);break;case"left":n.set(e.x-t,e.y+o/2),i.set(-1,0);break;case"right":n.set(e.x+a+t,e.y+o/2),i.set(1,0);break}}function Mlt(r,t,e,n,i,a,o,c,h){o-=r,c-=t;var v=Math.sqrt(o*o+c*c);o/=v,c/=v;var g=o*e+r,y=c*e+t;if(Math.abs(n-i)%$p<1e-4)return h[0]=g,h[1]=y,v-e;if(a){var m=n;n=Vi(i),i=Vi(m)}else n=Vi(n),i=Vi(i);n>i&&(i+=$p);var b=Math.atan2(c,o);if(b<0&&(b+=$p),b>=n&&b<=i||b+$p>=n&&b+$p<=i)return h[0]=g,h[1]=y,v-e;var S=e*Math.cos(n)+r,E=e*Math.sin(n)+t,C=e*Math.cos(i)+r,A=e*Math.sin(i)+t,M=(S-o)*(S-o)+(E-c)*(E-c),L=(C-o)*(C-o)+(A-c)*(A-c);return M<L?(h[0]=S,h[1]=E,Math.sqrt(M)):(h[0]=C,h[1]=A,Math.sqrt(L))}function B0(r,t,e,n,i,a,o,c){var h=i-r,v=a-t,g=e-r,y=n-t,m=Math.sqrt(g*g+y*y);g/=m,y/=m;var b=h*g+v*y,S=b/m;c&&(S=Math.min(Math.max(S,0),1)),S*=m;var E=o[0]=r+S*g,C=o[1]=t+S*y;return Math.sqrt((E-i)*(E-i)+(C-a)*(C-a))}function B6(r,t,e,n,i,a,o){e<0&&(r=r+e,e=-e),n<0&&(t=t+n,n=-n);var c=r+e,h=t+n,v=o[0]=Math.min(Math.max(i,r),c),g=o[1]=Math.min(Math.max(a,t),h);return Math.sqrt((v-i)*(v-i)+(g-a)*(g-a))}var Ea=[];function Dlt(r,t,e){var n=B6(t.x,t.y,t.width,t.height,r.x,r.y,Ea);return e.set(Ea[0],Ea[1]),n}function Llt(r,t,e){for(var n=0,i=0,a=0,o=0,c,h,v=1/0,g=t.data,y=r.x,m=r.y,b=0;b<g.length;){var S=g[b++];b===1&&(n=g[b],i=g[b+1],a=n,o=i);var E=v;switch(S){case Pu.M:a=g[b++],o=g[b++],n=a,i=o;break;case Pu.L:E=B0(n,i,g[b],g[b+1],y,m,Ea,!0),n=g[b++],i=g[b++];break;case Pu.C:E=pB(n,i,g[b++],g[b++],g[b++],g[b++],g[b],g[b+1],y,m,Ea),n=g[b++],i=g[b++];break;case Pu.Q:E=vB(n,i,g[b++],g[b++],g[b],g[b+1],y,m,Ea),n=g[b++],i=g[b++];break;case Pu.A:var C=g[b++],A=g[b++],M=g[b++],L=g[b++],R=g[b++],O=g[b++];b+=1;var P=!!(1-g[b++]);c=Math.cos(R)*M+C,h=Math.sin(R)*L+A,b<=1&&(a=c,o=h);var V=(y-C)*L/M+C;E=Mlt(C,A,L,R,R+O,P,V,m,Ea),n=Math.cos(R+O)*M+C,i=Math.sin(R+O)*L+A;break;case Pu.R:a=n=g[b++],o=i=g[b++];var k=g[b++],F=g[b++];E=B6(a,o,k,F,y,m,Ea);break;case Pu.Z:E=B0(n,i,a,o,y,m,Ea,!0),n=a,i=o;break}E<v&&(v=E,e.set(Ea[0],Ea[1]))}return v}var Ta=new ae,ur=new ae,Or=new ae,wo=new ae,go=new ae;function rk(r,t){if(r){var e=r.getTextGuideLine(),n=r.getTextContent();if(n&&e){var i=r.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||Clt,c=n.getBoundingRect().clone();c.applyTransform(n.getComputedTransform());var h=1/0,v=i.anchor,g=r.getComputedTransform(),y=g&&Ra([],g),m=t.get("length2")||0;v&&Or.copy(v);for(var b=0;b<o.length;b++){var S=o[b];Alt(S,0,c,Ta,wo),ae.scaleAndAdd(ur,Ta,wo,m),ur.transform(y);var E=r.getBoundingRect(),C=v?v.distance(ur):r instanceof Ee?Llt(ur,r.path,Or):Dlt(ur,E,Or);C<h&&(h=C,ur.transform(g),Or.transform(g),Or.toArray(a[0]),ur.toArray(a[1]),Ta.toArray(a[2]))}H6(a,t.get("minTurnAngle")),e.setShape({points:a})}}}var H0=[],ii=new ae;function H6(r,t){if(t<=180&&t>0){t=t/180*Math.PI,Ta.fromArray(r[0]),ur.fromArray(r[1]),Or.fromArray(r[2]),ae.sub(wo,Ta,ur),ae.sub(go,Or,ur);var e=wo.len(),n=go.len();if(!(e<.001||n<.001)){wo.scale(1/e),go.scale(1/n);var i=wo.dot(go),a=Math.cos(t);if(a<i){var o=B0(ur.x,ur.y,Or.x,Or.y,Ta.x,Ta.y,H0,!1);ii.fromArray(H0),ii.scaleAndAdd(go,o/Math.tan(Math.PI-t));var c=Or.x!==ur.x?(ii.x-ur.x)/(Or.x-ur.x):(ii.y-ur.y)/(Or.y-ur.y);if(isNaN(c))return;c<0?ae.copy(ii,ur):c>1&&ae.copy(ii,Or),ii.toArray(r[1])}}}}function Nlt(r,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Ta.fromArray(r[0]),ur.fromArray(r[1]),Or.fromArray(r[2]),ae.sub(wo,ur,Ta),ae.sub(go,Or,ur);var n=wo.len(),i=go.len();if(!(n<.001||i<.001)){wo.scale(1/n),go.scale(1/i);var a=wo.dot(t),o=Math.cos(e);if(a<o){var c=B0(ur.x,ur.y,Or.x,Or.y,Ta.x,Ta.y,H0,!1);ii.fromArray(H0);var h=Math.PI/2,v=Math.acos(go.dot(t)),g=h+v-e;if(g>=h)ae.copy(ii,Or);else{ii.scaleAndAdd(go,c/Math.tan(Math.PI/2-g));var y=Or.x!==ur.x?(ii.x-ur.x)/(Or.x-ur.x):(ii.y-ur.y)/(Or.y-ur.y);if(isNaN(y))return;y<0?ae.copy(ii,ur):y>1&&ae.copy(ii,Or)}ii.toArray(r[1])}}}}function Rw(r,t,e,n){var i=e==="normal",a=i?r:r.ensureState(e);a.ignore=t;var o=n.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var c=n.getModel("lineStyle").getLineStyle();i?r.useStyle(c):a.style=c}function Rlt(r,t){var e=t.smooth,n=t.points;if(n)if(r.moveTo(n[0][0],n[0][1]),e>0&&n.length>=3){var i=ol(n[0],n[1]),a=ol(n[1],n[2]);if(!i||!a){r.lineTo(n[1][0],n[1][1]),r.lineTo(n[2][0],n[2][1]);return}var o=Math.min(i,a)*e,c=km([],n[1],n[0],o/i),h=km([],n[1],n[2],o/a),v=km([],c,h,.5);r.bezierCurveTo(c[0],c[1],c[0],c[1],v[0],v[1]),r.bezierCurveTo(h[0],h[1],h[0],h[1],n[2][0],n[2][1])}else for(var g=1;g<n.length;g++)r.lineTo(n[g][0],n[g][1])}function ZA(r,t,e){var n=r.getTextGuideLine(),i=r.getTextContent();if(!i){n&&r.removeTextGuideLine();return}for(var a=t.normal,o=a.get("show"),c=i.ignore,h=0;h<iv.length;h++){var v=iv[h],g=t[v],y=v==="normal";if(g){var m=g.get("show"),b=y?c:Jt(i.states[v]&&i.states[v].ignore,c);if(b||!Jt(m,o)){var S=y?n:n&&n.states[v];S&&(S.ignore=!0),n&&Rw(n,!0,v,g);continue}n||(n=new In,r.setTextGuideLine(n),!y&&(c||!o)&&Rw(n,!0,"normal",t.normal),r.stateProxy&&(n.stateProxy=r.stateProxy)),Rw(n,!1,v,g)}}if(n){oe(n.style,e),n.style.fill=null;var E=a.get("showAbove"),C=r.textGuideLineConfig=r.textGuideLineConfig||{};C.showAbove=E||!1,n.buildPath=Rlt}}function KA(r,t){t=t||"labelLine";for(var e={normal:r.getModel(t)},n=0;n<hi.length;n++){var i=hi[n];e[i]=r.getModel([i,t])}return e}var nk=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],Ilt=1,z0=2,z6=Ilt|z0;function U0(r,t,e){e=e||z6,t?r.dirty|=e:r.dirty&=~e}function U6(r,t){return t=t||z6,r.dirty==null||!!(r.dirty&t)}function Po(r){if(r)return U6(r)&&W6(r,r.label,r),r}function W6(r,t,e){var n=t.getComputedTransform();r.transform=yA(r.transform,n);var i=r.localRect=sv(r.localRect,t.getBoundingRect()),a=t.style,o=a.margin,c=e&&e.marginForce,h=e&&e.minMarginForce,v=e&&e.marginDefault,g=a.__marginType;g==null&&v&&(o=v,g=Zf.textMargin);for(var y=0;y<4;y++)Iw[y]=g===Zf.minMargin&&h&&h[y]!=null?h[y]:c&&c[y]!=null?c[y]:o?o[y]:0;g===Zf.textMargin&&_c(i,Iw,!1,!1);var m=r.rect=sv(r.rect,i);return n&&m.applyTransform(n),g===Zf.minMargin&&_c(m,Iw,!1,!1),r.axisAligned=gA(n),(r.label=r.label||{}).ignore=t.ignore,U0(r,!1),U0(r,!0,z0),r}var Iw=[0,0,0,0];function Olt(r,t,e){return r.transform=yA(r.transform,e),r.localRect=sv(r.localRect,t),r.rect=sv(r.rect,t),e&&r.rect.applyTransform(e),r.axisAligned=gA(e),r.obb=void 0,(r.label=r.label||{}).ignore=!1,r}function xT(r,t){if(r){r.label.x+=t.x,r.label.y+=t.y,r.label.markRedraw();var e=r.transform;e&&(e[4]+=t.x,e[5]+=t.y);var n=r.rect;n&&(n.x+=t.x,n.y+=t.y);var i=r.obb;i&&i.fromBoundingRect(r.localRect,e)}}function ET(r,t){for(var e=0;e<nk.length;e++){var n=nk[e];r[n]==null&&(r[n]=t[n])}return Po(r)}function ik(r){var t=r.obb;return(!t||U6(r,z0))&&(r.obb=t=t||new mH,t.fromBoundingRect(r.localRect,r.transform),U0(r,!1,z0)),t}function TT(r,t,e,n,i){var a=r.length,o=pe[t],c=Yr[t];if(a<2)return!1;r.sort(function(V,k){return V.rect[o]-k.rect[o]});for(var h=0,v,g=!1,y=0;y<a;y++){var m=r[y],b=m.rect;v=b[o]-h,v<0&&(b[o]-=v,m.label[o]-=v,g=!0),h=b[o]+b[c]}var S=r[0],E=r[a-1],C,A;M(),C<0&&O(-C,.8),A<0&&O(A,.8),M(),L(C,A,1),L(A,C,-1),M(),C<0&&P(-C),A<0&&P(A);function M(){C=S.rect[o]-e,A=n-E.rect[o]-E.rect[c]}function L(V,k,F){if(V<0){var H=Math.min(k,-V);if(H>0){R(H*F,0,a);var W=H+V;W<0&&O(-W*F,1)}else O(-V*F,1)}}function R(V,k,F){V!==0&&(g=!0);for(var H=k;H<F;H++){var W=r[H],q=W.rect;q[o]+=V,W.label[o]+=V}}function O(V,k){for(var F=[],H=0,W=1;W<a;W++){var q=r[W-1].rect,Y=Math.max(r[W].rect[o]-q[o]-q[c],0);F.push(Y),H+=Y}if(H){var Z=Math.min(Math.abs(V)/H,k);if(V>0)for(var W=0;W<a-1;W++){var et=F[W]*Z;R(et,0,W+1)}else for(var W=a-1;W>0;W--){var et=F[W-1]*Z;R(-et,W,a)}}}function P(V){var k=V<0?-1:1;V=Math.abs(V);for(var F=Math.ceil(V/(a-1)),H=0;H<a-1;H++)if(k>0?R(F,0,H+1):R(-F,a-H-1,a),V-=F,V<=0)return}return g}function Plt(r){for(var t=0;t<r.length;t++){var e=r[t],n=e.defaultAttr,i=e.labelLine;e.label.attr("ignore",n.ignore),i&&i.attr("ignore",n.labelGuideIgnore)}}function j6(r){var t=[];r.sort(function(v,g){return(g.suggestIgnore?1:0)-(v.suggestIgnore?1:0)||g.priority-v.priority});function e(v){if(!v.ignore){var g=v.ensureState("emphasis");g.ignore==null&&(g.ignore=!1)}v.ignore=!0}for(var n=0;n<r.length;n++){var i=Po(r[n]);if(!i.label.ignore){for(var a=i.label,o=i.labelLine,c=!1,h=0;h<t.length;h++)if(Q_(i,t[h],null,{touchThreshold:.05})){c=!0;break}c?(e(a),o&&e(o)):t.push(i)}}}function Q_(r,t,e,n){return!r||!t||r.label&&r.label.ignore||t.label&&t.label.ignore||!r.rect.intersect(t.rect,e,n)?!1:r.axisAligned&&t.axisAligned?!0:ik(r).intersect(ik(t),e,n)}function klt(r){if(r){for(var t=[],e=0;e<r.length;e++)t.push(r[e].slice());return t}}function Vlt(r,t){var e=r.label,n=t&&t.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:klt(n&&n.shape.points)}}var ak=["align","verticalAlign","width","height","fontSize"],ti=new as,Ow=xe(),Glt=xe();function tm(r,t,e){for(var n=0;n<e.length;n++){var i=e[n];t[i]!=null&&(r[i]=t[i])}}var em=["x","y","rotation"],Flt=(function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(t,e,n,i,a){var o=i.style,c=i.__hostTarget,h=c.textConfig||{},v=i.getComputedTransform(),g=i.getBoundingRect().plain();le.applyTransform(g,g,v),v?ti.setLocalTransform(v):(ti.x=ti.y=ti.rotation=ti.originX=ti.originY=0,ti.scaleX=ti.scaleY=1),ti.rotation=Vi(ti.rotation);var y=i.__hostTarget,m;if(y){m=y.getBoundingRect().plain();var b=y.getComputedTransform();le.applyTransform(m,m,b)}var S=m&&y.getTextGuideLine();this._labelList.push({label:i,labelLine:S,seriesModel:n,dataIndex:t,dataType:e,layoutOptionOrCb:a,layoutOption:null,rect:g,hostRect:m,priority:m?m.width*m.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:S&&S.ignore,x:ti.x,y:ti.y,scaleX:ti.scaleX,scaleY:ti.scaleY,rotation:ti.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:h.position,attachedRot:h.rotation}})},r.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");(ee(i)||De(i).length)&&t.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),c=ce(a);o&&!o.disableLabelLayout&&e._addLabel(c.dataIndex,c.dataType,n,o,i)})},r.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function i(L,R){return function(){rk(L,R)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],c=o.label,h=c.__hostTarget,v=o.defaultAttr,g=void 0;ee(o.layoutOptionOrCb)?g=o.layoutOptionOrCb(Vlt(o,h)):g=o.layoutOptionOrCb,g=g||{},o.layoutOption=g;var y=Math.PI/180;h&&h.setTextConfig({local:!1,position:g.x!=null||g.y!=null?null:v.attachedPos,rotation:g.rotate!=null?g.rotate*y:v.attachedRot,offset:[g.dx||0,g.dy||0]});var m=!1;if(g.x!=null?(c.x=Yt(g.x,e),c.setStyle("x",0),m=!0):(c.x=v.x,c.setStyle("x",v.style.x)),g.y!=null?(c.y=Yt(g.y,n),c.setStyle("y",0),m=!0):(c.y=v.y,c.setStyle("y",v.style.y)),g.labelLinePoints){var b=h.getTextGuideLine();b&&(b.setShape({points:g.labelLinePoints}),m=!1)}var S=Ow(c);S.needsUpdateLabelLine=m,c.rotation=g.rotate!=null?g.rotate*y:v.rotation,c.scaleX=v.scaleX,c.scaleY=v.scaleY;for(var E=0;E<ak.length;E++){var C=ak[E];c.setStyle(C,g[C]!=null?g[C]:v.style[C])}if(g.draggable){if(c.draggable=!0,c.cursor="move",h){var A=o.seriesModel;if(o.dataIndex!=null){var M=o.seriesModel.getData(o.dataType);A=M.getItemModel(o.dataIndex)}c.on("drag",i(h,A.getModel("labelLine")))}}else c.off("drag"),c.cursor=v.cursor}},r.prototype.layout=function(t){var e=t.getWidth(),n=t.getHeight(),i=[];j(this._labelList,function(h){h.defaultAttr.ignore||i.push(ET({},h))});var a=je(i,function(h){return h.layoutOption.moveOverlap==="shiftX"}),o=je(i,function(h){return h.layoutOption.moveOverlap==="shiftY"});TT(a,0,0,e),TT(o,1,0,n);var c=je(i,function(h){return h.layoutOption.hideOverlap});Plt(c),j6(c)},r.prototype.processLabelsOverall=function(){var t=this;j(this._chartViewList,function(e){var n=e.__model,i=e.ignoreLabelLineUpdate,a=n.isAnimationEnabled();e.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var c=!i,h=o.getTextContent();!c&&h&&(c=Ow(h).needsUpdateLabelLine),c&&t._updateLabelLine(o,n),a&&t._animateLabels(o,n)})})},r.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),i=ce(t),a=i.dataIndex;if(n&&a!=null){var o=e.getData(i.dataType),c=o.getItemModel(a),h={},v=o.getItemVisual(a,"style");if(v){var g=o.getVisual("drawType");h.stroke=v[g]}var y=c.getModel("labelLine");ZA(t,KA(c),h),rk(t,y)}},r.prototype._animateLabels=function(t,e){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!ah(t))){var a=Ow(n),o=a.oldLayout,c=ce(t),h=c.dataIndex,v={x:n.x,y:n.y,rotation:n.rotation},g=e.getData(c.dataType);if(o){n.attr(o);var m=t.prevStates;m&&(ve(m,"select")>=0&&n.attr(a.oldLayoutSelect),ve(m,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),Pe(n,v,e,h)}else if(n.attr(v),!Oh(n).valueAnimation){var y=Jt(n.style.opacity,1);n.style.opacity=0,hr(n,{style:{opacity:y}},e,h)}if(a.oldLayout=v,n.states.select){var b=a.oldLayoutSelect={};tm(b,v,em),tm(b,n.states.select,em)}if(n.states.emphasis){var S=a.oldLayoutEmphasis={};tm(S,v,em),tm(S,n.states.emphasis,em)}DH(n,h,g,e,e)}if(i&&!i.ignore&&!i.invisible){var a=Glt(i),o=a.oldLayout,E={points:i.shape.points};o?(i.attr({shape:o}),Pe(i,{shape:E},e)):(i.setShape(E),i.style.strokePercent=0,hr(i,{style:{strokePercent:1}},e)),a.oldLayout=E}},r})(),Pw=xe();function Blt(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){var i=Pw(e).labelManager;i||(i=Pw(e).labelManager=new Flt),i.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(t,e,n){var i=Pw(e).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(e.getViewOfSeriesModel(a))}),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()})}var kw=Math.sin,Vw=Math.cos,Y6=Math.PI,ku=Math.PI*2,Hlt=180/Y6,$6=(function(){function r(){}return r.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},r.prototype.moveTo=function(t,e){this._add("M",t,e)},r.prototype.lineTo=function(t,e){this._add("L",t,e)},r.prototype.bezierCurveTo=function(t,e,n,i,a,o){this._add("C",t,e,n,i,a,o)},r.prototype.quadraticCurveTo=function(t,e,n,i){this._add("Q",t,e,n,i)},r.prototype.arc=function(t,e,n,i,a,o){this.ellipse(t,e,n,n,0,i,a,o)},r.prototype.ellipse=function(t,e,n,i,a,o,c,h){var v=c-o,g=!h,y=Math.abs(v),m=fl(y-ku)||(g?v>=ku:-v>=ku),b=v>0?v%ku:v%ku+ku,S=!1;m?S=!0:fl(y)?S=!1:S=b>=Y6==!!g;var E=t+n*Vw(o),C=e+i*kw(o);this._start&&this._add("M",E,C);var A=Math.round(a*Hlt);if(m){var M=1/this._p,L=(g?1:-1)*(ku-M);this._add("A",n,i,A,1,+g,t+n*Vw(o+L),e+i*kw(o+L)),M>.01&&this._add("A",n,i,A,0,+g,E,C)}else{var R=t+n*Vw(c),O=e+i*kw(c);this._add("A",n,i,A,+S,+g,R,O)}},r.prototype.rect=function(t,e,n,i){this._add("M",t,e),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(t,e,n,i,a,o,c,h,v){for(var g=[],y=this._p,m=1;m<arguments.length;m++){var b=arguments[m];if(isNaN(b)){this._invalid=!0;return}g.push(Math.round(b*y)/y)}this._d.push(t+g.join(" ")),this._start=t==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r})(),JA="none",zlt=Math.round;function Ult(r){var t=r.fill;return t!=null&&t!==JA}function Wlt(r){var t=r.stroke;return t!=null&&t!==JA}var CT=["lineCap","miterLimit","lineJoin"],jlt=Pt(CT,function(r){return"stroke-"+r.toLowerCase()});function Ylt(r,t,e,n){var i=t.opacity==null?1:t.opacity;if(e instanceof wn){r("opacity",i);return}if(Ult(t)){var a=ev(t.fill);r("fill",a.color);var o=t.fillOpacity!=null?t.fillOpacity*a.opacity*i:a.opacity*i;o<1&&r("fill-opacity",o)}else r("fill",JA);if(Wlt(t)){var c=ev(t.stroke);r("stroke",c.color);var h=t.strokeNoScale?e.getLineScale():1,v=h?(t.lineWidth||0)/h:0,g=t.strokeOpacity!=null?t.strokeOpacity*c.opacity*i:c.opacity*i,y=t.strokeFirst;if(v!==1&&r("stroke-width",v),y&&r("paint-order",y?"stroke":"fill"),g<1&&r("stroke-opacity",g),t.lineDash){var m=BA(e),b=m[0],S=m[1];b&&(S=zlt(S||0),r("stroke-dasharray",b.join(",")),(S||n)&&r("stroke-dashoffset",S))}for(var E=0;E<CT.length;E++){var C=CT[E];if(t[C]!==S0[C]){var A=t[C]||S0[C];A&&r(jlt[E],A)}}}}var q6="http://www.w3.org/2000/svg",X6="http://www.w3.org/1999/xlink",$lt="http://www.w3.org/2000/xmlns/",qlt="http://www.w3.org/XML/1998/namespace",ok="ecmeta_";function Z6(r){return document.createElementNS(q6,r)}function un(r,t,e,n,i){return{tag:r,attrs:e||{},children:n,text:i,key:t}}function Xlt(r,t){var e=[];if(t)for(var n in t){var i=t[n],a=n;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),e.push(a))}return"<"+r+" "+e.join(" ")+">"}function Zlt(r){return"</"+r+">"}function QA(r,t){t=t||{};var e=t.newline?`
`:"";function n(i){var a=i.children,o=i.tag,c=i.attrs,h=i.text;return Xlt(o,c)+(o!=="style"?si(h):h||"")+(a?""+e+Pt(a,function(v){return n(v)}).join(e)+e:"")+Zlt(o)}return n(r)}function Klt(r,t,e){e=e||{};var n=e.newline?`
`:"",i=" {"+n,a=n+"}",o=Pt(De(r),function(h){return h+i+Pt(De(r[h]),function(v){return v+":"+r[h][v]+";"}).join(n)+a}).join(n),c=Pt(De(t),function(h){return"@keyframes "+h+i+Pt(De(t[h]),function(v){return v+i+Pt(De(t[h][v]),function(g){var y=t[h][v][g];return g==="d"&&(y='path("'+y+'")'),g+":"+y+";"}).join(n)+a}).join(n)+a}).join(n);return!o&&!c?"":["<![CDATA[",o,c,"]]>"].join(n)}function AT(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function sk(r,t,e,n){return un("svg","root",{width:r,height:t,xmlns:q6,"xmlns:xlink":X6,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+r+" "+t:!1},e)}var Jlt=0;function K6(){return Jlt++}var lk={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Bu="transform-origin";function Qlt(r,t,e){var n=At({},r.shape);At(n,t),r.buildPath(e,n);var i=new $6;return i.reset(wB(r)),e.rebuildPath(i,1),i.generateStr(),i.getStr()}function tut(r,t){var e=t.originX,n=t.originY;(e||n)&&(r[Bu]=e+"px "+n+"px")}var eut={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function J6(r,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=r,e}function rut(r,t,e){var n=r.shape.paths,i={},a,o;if(j(n,function(h){var v=AT(e.zrId);v.animation=!0,tb(h,{},v,!0);var g=v.cssAnims,y=v.cssNodes,m=De(g),b=m.length;if(b){o=m[b-1];var S=g[o];for(var E in S){var C=S[E];i[E]=i[E]||{d:""},i[E].d+=C.d||""}for(var A in y){var M=y[A].animation;M.indexOf(o)>=0&&(a=M)}}}),!!a){t.d=!1;var c=J6(i,e);return a.replace(o,c)}}function uk(r){return $t(r)?lk[r]?"cubic-bezier("+lk[r]+")":QC(r)?r:"":""}function tb(r,t,e,n){var i=r.animators,a=i.length,o=[];if(r instanceof z_){var c=rut(r,t,e);if(c)o.push(c);else if(!a)return}else if(!a)return;for(var h={},v=0;v<a;v++){var g=i[v],y=[g.getMaxTime()/1e3+"s"],m=uk(g.getClip().easing),b=g.getDelay();m?y.push(m):y.push("linear"),b&&y.push(b/1e3+"s"),g.getLoop()&&y.push("infinite");var S=y.join(" ");h[S]=h[S]||[S,[]],h[S][1].push(g)}function E(M){var L=M[1],R=L.length,O={},P={},V={},k="animation-timing-function";function F(Ht,gt,Mt){for(var Et=Ht.getTracks(),X=Ht.getMaxTime(),ot=0;ot<Et.length;ot++){var ht=Et[ot];if(ht.needsAnimate()){var _t=ht.keyframes,mt=ht.propName;if(Mt&&(mt=Mt(mt)),mt)for(var Lt=0;Lt<_t.length;Lt++){var tt=_t[Lt],Q=Math.round(tt.time/X*100)+"%",ft=uk(tt.easing),St=tt.rawValue;($t(St)||Re(St))&&(gt[Q]=gt[Q]||{},gt[Q][mt]=tt.rawValue,ft&&(gt[Q][k]=ft))}}}}for(var H=0;H<R;H++){var W=L[H],q=W.targetName;q?q==="shape"&&F(W,P):!n&&F(W,O)}for(var Y in O){var Z={};m0(Z,r),At(Z,O[Y]);var et=xB(Z),J=O[Y][k];V[Y]=et?{transform:et}:{},tut(V[Y],Z),J&&(V[Y][k]=J)}var it,rt=!0;for(var Y in P){V[Y]=V[Y]||{};var st=!it,J=P[Y][k];st&&(it=new Io);var lt=it.len();it.reset(),V[Y].d=Qlt(r,P[Y],it);var dt=it.len();if(!st&&lt!==dt){rt=!1;break}J&&(V[Y][k]=J)}if(!rt)for(var Y in V)delete V[Y].d;if(!n)for(var H=0;H<R;H++){var W=L[H],q=W.targetName;q==="style"&&F(W,V,function(Et){return eut[Et]})}for(var pt=De(V),xt=!0,Ft,H=1;H<pt.length;H++){var Ut=pt[H-1],Vt=pt[H];if(V[Ut][Bu]!==V[Vt][Bu]){xt=!1;break}Ft=V[Ut][Bu]}if(xt&&Ft){for(var Y in V)V[Y][Bu]&&delete V[Y][Bu];t[Bu]=Ft}if(je(pt,function(Ht){return De(V[Ht]).length>0}).length){var Qt=J6(V,e);return Qt+" "+M[0]+" both"}}for(var C in h){var c=E(h[C]);c&&o.push(c)}if(o.length){var A=e.zrId+"-cls-"+K6();e.cssNodes["."+A]={animation:o.join(",")},t.class=A}}function nut(r,t,e){if(!r.ignore)if(r.isSilent()){var n={"pointer-events":"none"};ck(n,t,e)}else{var i=r.states.emphasis&&r.states.emphasis.style?r.states.emphasis.style:{},a=i.fill;if(!a){var o=r.style&&r.style.fill,c=r.states.select&&r.states.select.style&&r.states.select.style.fill,h=r.currentStates.indexOf("select")>=0&&c||o;h&&(a=AE(h))}var v=i.lineWidth;if(v){var g=!i.strokeNoScale&&r.transform?r.transform[0]:1;v=v/g}var n={cursor:"pointer"};a&&(n.fill=a),i.stroke&&(n.stroke=i.stroke),v&&(n["stroke-width"]=v),ck(n,t,e)}}function ck(r,t,e,n){var i=JSON.stringify(r),a=e.cssStyleCache[i];a||(a=e.zrId+"-cls-"+K6(),e.cssStyleCache[i]=a,e.cssNodes["."+a+":hover"]=r),t.class=t.class?t.class+" "+a:a}var gv=Math.round;function Q6(r){return r&&$t(r.src)}function tz(r){return r&&ee(r.toDataURL)}function tM(r,t,e,n){Ylt(function(i,a){var o=i==="fill"||i==="stroke";o&&SB(a)?rz(t,r,i,n):o&&tA(a)?nz(e,r,i,n):r[i]=a,o&&n.ssr&&a==="none"&&(r["pointer-events"]="visible")},t,e,!1),cut(e,r,n)}function eM(r,t){var e=Iet(t);e&&(e.each(function(n,i){n!=null&&(r[(ok+i).toLowerCase()]=n+"")}),t.isSilent()&&(r[ok+"silent"]="true"))}function fk(r){return fl(r[0]-1)&&fl(r[1])&&fl(r[2])&&fl(r[3]-1)}function iut(r){return fl(r[4])&&fl(r[5])}function rM(r,t,e){if(t&&!(iut(t)&&fk(t))){var n=1e4;r.transform=fk(t)?"translate("+gv(t[4]*n)/n+" "+gv(t[5]*n)/n+")":Qtt(t)}}function hk(r,t,e){for(var n=r.points,i=[],a=0;a<n.length;a++)i.push(gv(n[a][0]*e)/e),i.push(gv(n[a][1]*e)/e);t.points=i.join(" ")}function pk(r){return!r.smooth}function aut(r){var t=Pt(r,function(e){return typeof e=="string"?[e,e]:e});return function(e,n,i){for(var a=0;a<t.length;a++){var o=t[a],c=e[o[0]];c!=null&&(n[o[1]]=gv(c*i)/i)}}}var out={circle:[aut(["cx","cy","r"])],polyline:[hk,pk],polygon:[hk,pk]};function sut(r){for(var t=r.animators,e=0;e<t.length;e++)if(t[e].targetName==="shape")return!0;return!1}function ez(r,t){var e=r.style,n=r.shape,i=out[r.type],a={},o=t.animation,c="path",h=r.style.strokePercent,v=t.compress&&wB(r)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(o&&sut(r))&&!(h<1)){c=r.type;var g=Math.pow(10,v);i[0](n,a,g)}else{var y=!r.path||r.shapeChanged();r.path||r.createPathProxy();var m=r.path;y&&(m.beginPath(),r.buildPath(m,r.shape),r.pathUpdated());var b=m.getVersion(),S=r,E=S.__svgPathBuilder;(S.__svgPathVersion!==b||!E||h!==S.__svgPathStrokePercent)&&(E||(E=S.__svgPathBuilder=new $6),E.reset(v),m.rebuildPath(E,h),E.generateStr(),S.__svgPathVersion=b,S.__svgPathStrokePercent=h),a.d=E.getStr()}return rM(a,r.transform),tM(a,e,r,t),eM(a,r),t.animation&&tb(r,a,t),t.emphasis&&nut(r,a,t),un(c,r.id+"",a)}function lut(r,t){var e=r.style,n=e.image;if(n&&!$t(n)&&(Q6(n)?n=n.src:tz(n)&&(n=n.toDataURL())),!!n){var i=e.x||0,a=e.y||0,o=e.width,c=e.height,h={href:n,width:o,height:c};return i&&(h.x=i),a&&(h.y=a),rM(h,r.transform),tM(h,e,r,t),eM(h,r),t.animation&&tb(r,h,t),un("image",r.id+"",h)}}function uut(r,t){var e=r.style,n=e.text;if(n!=null&&(n+=""),!(!n||isNaN(e.x)||isNaN(e.y))){var i=e.font||ds,a=e.x||0,o=eet(e.y||0,Lv(i),e.textBaseline),c=tet[e.textAlign]||e.textAlign,h={"dominant-baseline":"central","text-anchor":c};if(QB(e)){var v="",g=e.fontStyle,y=JB(e.fontSize);if(!parseFloat(y))return;var m=e.fontFamily||KF,b=e.fontWeight;v+="font-size:"+y+";font-family:"+m+";",g&&g!=="normal"&&(v+="font-style:"+g+";"),b&&b!=="normal"&&(v+="font-weight:"+b+";"),h.style=v}else h.style="font: "+i;return n.match(/\s/)&&(h["xml:space"]="preserve"),a&&(h.x=a),o&&(h.y=o),rM(h,r.transform),tM(h,e,r,t),eM(h,r),t.animation&&tb(r,h,t),un("text",r.id+"",h,void 0,n)}}function dk(r,t){if(r instanceof Ee)return ez(r,t);if(r instanceof wn)return lut(r,t);if(r instanceof ph)return uut(r,t)}function cut(r,t,e){var n=r.style;if(ret(n)){var i=net(r),a=e.shadowCache,o=a[i];if(!o){var c=r.getGlobalScale(),h=c[0],v=c[1];if(!h||!v)return;var g=n.shadowOffsetX||0,y=n.shadowOffsetY||0,m=n.shadowBlur,b=ev(n.shadowColor),S=b.opacity,E=b.color,C=m/2/h,A=m/2/v,M=C+" "+A;o=e.zrId+"-s"+e.shadowIdx++,e.defs[o]=un("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[un("feDropShadow","",{dx:g/h,dy:y/v,stdDeviation:M,"flood-color":E,"flood-opacity":S})]),a[i]=o}t.filter=D_(o)}}function rz(r,t,e,n){var i=r[e],a,o={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(_B(i))a="linearGradient",o.x1=i.x,o.y1=i.y,o.x2=i.x2,o.y2=i.y2;else if(bB(i))a="radialGradient",o.cx=Jt(i.x,.5),o.cy=Jt(i.y,.5),o.r=Jt(i.r,.5);else return;for(var c=i.colorStops,h=[],v=0,g=c.length;v<g;++v){var y=ME(c[v].offset)*100+"%",m=c[v].color,b=ev(m),S=b.color,E=b.opacity,C={offset:y};C["stop-color"]=S,E<1&&(C["stop-opacity"]=E),h.push(un("stop",v+"",C))}var A=un(a,"",o,h),M=QA(A),L=n.gradientCache,R=L[M];R||(R=n.zrId+"-g"+n.gradientIdx++,L[M]=R,o.id=R,n.defs[R]=un(a,R,o,h)),t[e]=D_(R)}function nz(r,t,e,n){var i=r.style[e],a=r.getBoundingRect(),o={},c=i.repeat,h=c==="no-repeat",v=c==="repeat-x",g=c==="repeat-y",y;if(mB(i)){var m=i.imageWidth,b=i.imageHeight,S=void 0,E=i.image;if($t(E)?S=E:Q6(E)?S=E.src:tz(E)&&(S=E.toDataURL()),typeof Image>"u"){var C="Image width/height must been given explictly in svg-ssr renderer.";Yn(m,C),Yn(b,C)}else if(m==null||b==null){var A=function(H,W){if(H){var q=H.elm,Y=m||W.width,Z=b||W.height;H.tag==="pattern"&&(v?(Z=1,Y/=a.width):g&&(Y=1,Z/=a.height)),H.attrs.width=Y,H.attrs.height=Z,q&&(q.setAttribute("width",Y),q.setAttribute("height",Z))}},M=oA(S,null,r,function(H){h||A(P,H),A(y,H)});M&&M.width&&M.height&&(m=m||M.width,b=b||M.height)}y=un("image","img",{href:S,width:m,height:b}),o.width=m,o.height=b}else i.svgElement&&(y=ne(i.svgElement),o.width=i.svgWidth,o.height=i.svgHeight);if(y){var L,R;h?L=R=1:v?(R=1,L=o.width/a.width):g?(L=1,R=o.height/a.height):o.patternUnits="userSpaceOnUse",L!=null&&!isNaN(L)&&(o.width=L),R!=null&&!isNaN(R)&&(o.height=R);var O=xB(i);O&&(o.patternTransform=O);var P=un("pattern","",o,[y]),V=QA(P),k=n.patternCache,F=k[V];F||(F=n.zrId+"-p"+n.patternIdx++,k[V]=F,o.id=F,P=n.defs[F]=un("pattern",F,o,[y])),t[e]=D_(F)}}function fut(r,t,e){var n=e.clipPathCache,i=e.defs,a=n[r.id];if(!a){a=e.zrId+"-c"+e.clipPathIdx++;var o={id:a};n[r.id]=a,i[a]=un("clipPath",a,o,[ez(r,e)])}t["clip-path"]=D_(a)}function vk(r){return document.createTextNode(r)}function $u(r,t,e){r.insertBefore(t,e)}function gk(r,t){r.removeChild(t)}function yk(r,t){r.appendChild(t)}function iz(r){return r.parentNode}function az(r){return r.nextSibling}function Gw(r,t){r.textContent=t}var mk=58,hut=120,put=un("","");function MT(r){return r===void 0}function co(r){return r!==void 0}function dut(r,t,e){for(var n={},i=t;i<=e;++i){var a=r[i].key;a!==void 0&&(n[a]=i)}return n}function _d(r,t){var e=r.key===t.key,n=r.tag===t.tag;return n&&e}function yv(r){var t,e=r.children,n=r.tag;if(co(n)){var i=r.elm=Z6(n);if(nM(put,r),Rt(e))for(t=0;t<e.length;++t){var a=e[t];a!=null&&yk(i,yv(a))}else co(r.text)&&!se(r.text)&&yk(i,vk(r.text))}else r.elm=vk(r.text);return r.elm}function oz(r,t,e,n,i){for(;n<=i;++n){var a=e[n];a!=null&&$u(r,yv(a),t)}}function W0(r,t,e,n){for(;e<=n;++e){var i=t[e];if(i!=null)if(co(i.tag)){var a=iz(i.elm);gk(a,i.elm)}else gk(r,i.elm)}}function nM(r,t){var e,n=t.elm,i=r&&r.attrs||{},a=t.attrs||{};if(i!==a){for(e in a){var o=a[e],c=i[e];c!==o&&(o===!0?n.setAttribute(e,""):o===!1?n.removeAttribute(e):e==="style"?n.style.cssText=o:e.charCodeAt(0)!==hut?n.setAttribute(e,o):e==="xmlns:xlink"||e==="xmlns"?n.setAttributeNS($lt,e,o):e.charCodeAt(3)===mk?n.setAttributeNS(qlt,e,o):e.charCodeAt(5)===mk?n.setAttributeNS(X6,e,o):n.setAttribute(e,o))}for(e in i)e in a||n.removeAttribute(e)}}function vut(r,t,e){for(var n=0,i=0,a=t.length-1,o=t[0],c=t[a],h=e.length-1,v=e[0],g=e[h],y,m,b,S;n<=a&&i<=h;)o==null?o=t[++n]:c==null?c=t[--a]:v==null?v=e[++i]:g==null?g=e[--h]:_d(o,v)?(Wf(o,v),o=t[++n],v=e[++i]):_d(c,g)?(Wf(c,g),c=t[--a],g=e[--h]):_d(o,g)?(Wf(o,g),$u(r,o.elm,az(c.elm)),o=t[++n],g=e[--h]):_d(c,v)?(Wf(c,v),$u(r,c.elm,o.elm),c=t[--a],v=e[++i]):(MT(y)&&(y=dut(t,n,a)),m=y[v.key],MT(m)?$u(r,yv(v),o.elm):(b=t[m],b.tag!==v.tag?$u(r,yv(v),o.elm):(Wf(b,v),t[m]=void 0,$u(r,b.elm,o.elm))),v=e[++i]);(n<=a||i<=h)&&(n>a?(S=e[h+1]==null?null:e[h+1].elm,oz(r,S,e,i,h)):W0(r,t,n,a))}function Wf(r,t){var e=t.elm=r.elm,n=r.children,i=t.children;r!==t&&(nM(r,t),MT(t.text)?co(n)&&co(i)?n!==i&&vut(e,n,i):co(i)?(co(r.text)&&Gw(e,""),oz(e,null,i,0,i.length-1)):co(n)?W0(e,n,0,n.length-1):co(r.text)&&Gw(e,""):r.text!==t.text&&(co(n)&&W0(e,n,0,n.length-1),Gw(e,t.text)))}function gut(r,t){if(_d(r,t))Wf(r,t);else{var e=r.elm,n=iz(e);yv(t),n!==null&&($u(n,t.elm,az(e)),W0(n,[r],0,0))}return t}var yut=0,mut=(function(){function r(t,e,n){if(this.type="svg",this.refreshHover=_k(),this.configLayer=_k(),this.storage=e,this._opts=n=At({},n),this.root=t,this._id="zr"+yut++,this._oldVNode=sk(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=Z6("svg");nM(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(n.width,n.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",gut(this._oldVNode,t),this._oldVNode=t}},r.prototype.renderOneToVNode=function(t){return dk(t,AT(this._id))},r.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,i=this._height,a=AT(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis,a.ssr=this._opts.ssr;var o=[],c=this._bgVNode=_ut(n,i,this._backgroundColor,a);c&&o.push(c);var h=t.compress?null:this._mainVNode=un("g","main",{},[]);this._paintList(e,a,h?h.children:o),h&&o.push(h);var v=Pt(De(a.defs),function(m){return a.defs[m]});if(v.length&&o.push(un("defs","defs",{},v)),t.animation){var g=Klt(a.cssNodes,a.cssAnims,{newline:!0});if(g){var y=un("style","stl",{},[],g);o.push(y)}}return sk(n,i,o,t.useViewBox)},r.prototype.renderToString=function(t){return t=t||{},QA(this.renderToVNode({animation:Jt(t.cssAnimation,!0),emphasis:Jt(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Jt(t.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(t,e,n){for(var i=t.length,a=[],o=0,c,h,v=0,g=0;g<i;g++){var y=t[g];if(!y.invisible){var m=y.__clipPaths,b=m&&m.length||0,S=h&&h.length||0,E=void 0;for(E=Math.max(b-1,S-1);E>=0&&!(m&&h&&m[E]===h[E]);E--);for(var C=S-1;C>E;C--)o--,c=a[o-1];for(var A=E+1;A<b;A++){var M={};fut(m[A],M,e);var L=un("g","clip-g-"+v++,M,[]);(c?c.children:n).push(L),a[o++]=L,c=L}h=m;var R=dk(y,e);R&&(c?c.children:n).push(R)}}},r.prototype.resize=function(t,e){var n=this._opts,i=this.root,a=this._viewport;if(t!=null&&(n.width=t),e!=null&&(n.height=e),i&&a&&(a.style.display="none",t=Jf(i,0,n),e=Jf(i,1,n),a.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,a){var o=a.style;o.width=t+"px",o.height=e+"px"}if(tA(this._backgroundColor))this.refresh();else{var c=this._svgDom;c&&(c.setAttribute("width",t),c.setAttribute("height",e));var h=this._bgVNode&&this._bgVNode.elm;h&&(h.setAttribute("width",t),h.setAttribute("height",e))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=aet(e),e&&n+"base64,"+e):n+"charset=UTF-8,"+encodeURIComponent(e)},r})();function _k(r){return function(){}}function _ut(r,t,e,n){var i;if(e&&e!=="none")if(i=un("rect","bg",{width:r,height:t,x:"0",y:"0"}),SB(e))rz({fill:e},i.attrs,"fill",n);else if(tA(e))nz({style:{fill:e},dirty:kr,getBoundingRect:function(){return{width:r,height:t}}},i.attrs,"fill",n);else{var a=ev(e),o=a.color,c=a.opacity;i.attrs.fill=o,c<1&&(i.attrs["fill-opacity"]=c)}return i}function but(r){r.registerPainter("svg",mut)}function bk(r,t,e){var n=Na.createCanvas(),i=t.getWidth(),a=t.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",r)),n.width=i*e,n.height=a*e,n}var Fw=(function(r){pr(t,r);function t(e,n,i){var a=r.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||y0,typeof e=="string"?o=bk(e,n,i):se(e)&&(o=e,e=o.id),a.id=e,a.dom=o;var c=o.style;return c&&(nB(o),o.onselectstart=function(){return!1},c.padding="0",c.margin="0",c.borderWidth="0"),a.painter=n,a.dpr=i,a}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=bk("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],c=this.maxRepaintRectCount,h=!1,v=new le(0,0,0,0);function g(M){if(!(!M.isFinite()||M.isZero()))if(o.length===0){var L=new le(0,0,0,0);L.copy(M),o.push(L)}else{for(var R=!1,O=1/0,P=0,V=0;V<o.length;++V){var k=o[V];if(k.intersect(M)){var F=new le(0,0,0,0);F.copy(k),F.union(M),o[V]=F,R=!0;break}else if(h){v.copy(M),v.union(k);var H=M.width*M.height,W=k.width*k.height,q=v.width*v.height,Y=q-H-W;Y<O&&(O=Y,P=V)}}if(h&&(o[P].union(M),R=!0),!R){var L=new le(0,0,0,0);L.copy(M),o.push(L)}h||(h=o.length>=c)}}for(var y=this.__startIndex;y<this.__endIndex;++y){var m=e[y];if(m){var b=m.shouldBePainted(i,a,!0,!0),S=m.__isRendered&&(m.__dirty&Pi||!b)?m.getPrevPaintRect():null;S&&g(S);var E=b&&(m.__dirty&Pi||!m.__isRendered)?m.getPaintRect():null;E&&g(E)}}for(var y=this.__prevStartIndex;y<this.__prevEndIndex;++y){var m=n[y],b=m&&m.shouldBePainted(i,a,!0,!0);if(m&&(!b||!m.__zr)&&m.__isRendered){var S=m.getPrevPaintRect();S&&g(S)}}var C;do{C=!1;for(var y=0;y<o.length;){if(o[y].isZero()){o.splice(y,1);continue}for(var A=y+1;A<o.length;)o[y].intersect(o[A])?(C=!0,o[y].union(o[A]),o.splice(A,1)):A++;y++}}while(C);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,n){var i=this.dpr,a=this.dom,o=a.style,c=this.domBack;o&&(o.width=e+"px",o.height=n+"px"),a.width=e*i,a.height=n*i,c&&(c.width=e*i,c.height=n*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(e,n,i){var a=this.dom,o=this.ctx,c=a.width,h=a.height;n=n||this.clearColor;var v=this.motionBlur&&!e,g=this.lastFrameAlpha,y=this.dpr,m=this;v&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,c/y,h/y));var b=this.domBack;function S(E,C,A,M){if(o.clearRect(E,C,A,M),n&&n!=="transparent"){var L=void 0;if(E_(n)){var R=n.global||n.__width===A&&n.__height===M;L=R&&n.__canvasGradient||hT(o,n,{x:0,y:0,width:A,height:M}),n.__canvasGradient=L,n.__width=A,n.__height=M}else ctt(n)&&(n.scaleX=n.scaleX||y,n.scaleY=n.scaleY||y,L=pT(o,n,{dirty:function(){m.setUnpainted(),m.painter.refresh()}}));o.save(),o.fillStyle=L||n,o.fillRect(E,C,A,M),o.restore()}v&&(o.save(),o.globalAlpha=g,o.drawImage(b,E,C,A,M),o.restore())}!i||v?S(0,0,c,h):i.length&&j(i,function(E){S(E.x*y,E.y*y,E.width*y,E.height*y)})},t})(fa),Sk=1e5,Vu=314159,rm=.01,Sut=.001;function wut(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function xut(r,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+r+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var Eut=(function(){function r(t,e,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=At({},n||{}),this.dpr=n.devicePixelRatio||y0,this._singleCanvas=a,this.root=t;var o=t.style;o&&(nB(t),t.innerHTML=""),this.storage=e;var c=this._zlevelList;this._prevDisplayList=[];var h=this._layers;if(a){var g=t,y=g.width,m=g.height;n.width!=null&&(y=n.width),n.height!=null&&(m=n.height),this.dpr=n.devicePixelRatio||1,g.width=y*this.dpr,g.height=m*this.dpr,this._width=y,this._height=m;var b=new Fw(g,this,this.dpr);b.__builtin__=!0,b.initContext(),h[Vu]=b,b.zlevel=Vu,c.push(Vu),this._domRoot=t}else{this._width=Jf(t,0,n),this._height=Jf(t,1,n);var v=this._domRoot=xut(this._width,this._height);t.appendChild(v)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],c=this._layers[o];if(!c.__builtin__&&c.refresh){var h=a===0?this._backgroundColor:null;c.refresh(h)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),!!e){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<e;o++){var c=t[o];c.__inHover&&(n||(n=this._hoverlayer=this.getLayer(Sk)),a||(a=n.ctx,a.save()),rc(a,c,i,o===e-1))}a&&a.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(Sk)},r.prototype.paintOne=function(t,e){U4(t,e)},r.prototype._paintList=function(t,e,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e,n),o=a.finished,c=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),c&&this._paintHoverList(t),o)this.eachLayer(function(v){v.afterBrush&&v.afterBrush()});else{var h=this;f0(function(){h._paintList(t,e,n,i)})}}},r.prototype._compositeManually=function(){var t=this.getLayer(Vu).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)})},r.prototype._doPaintList=function(t,e,n){for(var i=this,a=[],o=this._opts.useDirtyRect,c=0;c<this._zlevelList.length;c++){var h=this._zlevelList[c],v=this._layers[h];v.__builtin__&&v!==this._hoverlayer&&(v.__dirty||n)&&a.push(v)}for(var g=!0,y=!1,m=function(E){var C=a[E],A=C.ctx,M=o&&C.createRepaintRects(t,e,b._width,b._height),L=n?C.__startIndex:C.__drawIndex,R=!n&&C.incremental&&Date.now,O=R&&Date.now(),P=C.zlevel===b._zlevelList[0]?b._backgroundColor:null;if(C.__startIndex===C.__endIndex)C.clear(!1,P,M);else if(L===C.__startIndex){var V=t[L];(!V.incremental||!V.notClear||n)&&C.clear(!1,P,M)}L===-1&&(console.error("For some unknown reason. drawIndex is -1"),L=C.__startIndex);var k,F=function(Y){var Z={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(k=L;k<C.__endIndex;k++){var et=t[k];if(et.__inHover&&(y=!0),i._doPaintEl(et,C,o,Y,Z,k===C.__endIndex-1),R){var J=Date.now()-O;if(J>15)break}}Z.prevElClipPaths&&A.restore()};if(M)if(M.length===0)k=C.__endIndex;else for(var H=b.dpr,W=0;W<M.length;++W){var q=M[W];A.save(),A.beginPath(),A.rect(q.x*H,q.y*H,q.width*H,q.height*H),A.clip(),F(q),A.restore()}else A.save(),F(),A.restore();C.__drawIndex=k,C.__drawIndex<C.__endIndex&&(g=!1)},b=this,S=0;S<a.length;S++)m(S);return Ae.wxa&&j(this._layers,function(E){E&&E.ctx&&E.ctx.draw&&E.ctx.draw()}),{finished:g,needsRefreshHover:y}},r.prototype._doPaintEl=function(t,e,n,i,a,o){var c=e.ctx;if(n){var h=t.getPaintRect();(!i||h&&h.intersect(i))&&(rc(c,t,a,o),t.setPrevPaintRect(h))}else rc(c,t,a,o)},r.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Vu);var n=this._layers[t];return n||(n=new Fw("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?ge(n,this._layerConfig[t],!0):this._layerConfig[t-rm]&&ge(n,this._layerConfig[t-rm],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},r.prototype.insertLayer=function(t,e){var n=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,c=null,h=-1;if(!n[t]&&wut(e)){if(a>0&&t>i[0]){for(h=0;h<a-1&&!(i[h]<t&&i[h+1]>t);h++);c=n[i[h]]}if(i.splice(h+1,0,t),n[t]=e,!e.virtual)if(c){var v=c.dom;v.nextSibling?o.insertBefore(e.dom,v.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.painter||(e.painter=this)}},r.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];t.call(e,this._layers[a],a)}},r.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__&&t.call(e,o,a)}},r.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__||t.call(e,o,a)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(y,m){y.__dirty=y.__used=!1});function e(y){a&&(a.__endIndex!==y&&(a.__dirty=!0),a.__endIndex=y)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,c,h;for(h=0;h<t.length;h++){var i=t[h],v=i.zlevel,g=void 0;c!==v&&(c=v,o=0),i.incremental?(g=this.getLayer(v+Sut,this._needsManuallyCompositing),g.incremental=!0,o=1):g=this.getLayer(v+(o>0?rm:0),this._needsManuallyCompositing),g.__builtin__||$C("ZLevel "+v+" has been used by unkown layer "+g.id),g!==a&&(g.__used=!0,g.__startIndex!==h&&(g.__dirty=!0),g.__startIndex=h,g.incremental?g.__drawIndex=-1:g.__drawIndex=h,e(h),a=g),i.__dirty&Pi&&!i.__inHover&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=h))}e(h),this.eachBuiltinLayer(function(y,m){!y.__used&&y.getElementCount()>0&&(y.__dirty=!0,y.__startIndex=y.__endIndex=y.__drawIndex=0),y.__dirty&&y.__drawIndex<0&&(y.__drawIndex=y.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(t){t.clear()},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t,j(this._layers,function(e){e.setUnpainted()})},r.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?ge(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+rm){var o=this._layers[a];ge(o,n[t],!0)}}}},r.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(ve(n,t),1))},r.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(t!=null&&(i.width=t),e!=null&&(i.height=e),t=Jf(a,0,i),e=Jf(a,1,i),n.style.display="",this._width!==t||e!==this._height){n.style.width=t+"px",n.style.height=e+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(Vu).resize(t,e)}return this},r.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Vu].dom;var e=new Fw("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,a=e.dom.height;this.eachLayer(function(y){y.__builtin__?n.drawImage(y.dom,0,0,i,a):y.renderToCanvas&&(n.save(),y.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},c=this.storage.getDisplayList(!0),h=0,v=c.length;h<v;h++){var g=c[h];rc(n,g,o,h===v-1)}return e.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r})();function Tut(r){r.registerPainter("canvas",Eut)}var Cut=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return Cs(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var n=new re,i=Xr("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);n.add(i),i.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),c=a==="none"?"circle":a,h=e.itemHeight*.8,v=Xr(c,(e.itemWidth-h)/2,(e.itemHeight-h)/2,h,h,e.itemStyle.fill);n.add(v),v.setStyle(e.itemStyle);var g=e.iconRotate==="inherit"?o:e.iconRotate||0;return v.rotation=g*Math.PI/180,v.setOrigin([e.itemWidth/2,e.itemHeight/2]),c.indexOf("empty")>-1&&(v.style.stroke=v.style.fill,v.style.fill=yt.color.neutral00,v.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t})(or);function bh(r,t){var e=r.mapDimensionsAll("defaultedLabel"),n=e.length;if(n===1){var i=vh(r,t,e[0]);return i!=null?i+"":null}else if(n){for(var a=[],o=0;o<e.length;o++)a.push(vh(r,t,e[o]));return a.join(" ")}}function sz(r,t){var e=r.mapDimensionsAll("defaultedLabel");if(!Rt(t))return t+"";for(var n=[],i=0;i<e.length;i++){var a=r.getDimensionIndex(e[i]);a>=0&&n.push(t[a])}return n.join(" ")}var zv=(function(r){bt(t,r);function t(e,n,i,a){var o=r.call(this)||this;return o.updateData(e,n,i,a),o}return t.prototype._createSymbol=function(e,n,i,a,o,c){this.removeAll();var h=Xr(e,-1,-1,2,2,null,c);h.attr({z2:Jt(o,100),culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),h.drift=Aut,this._symbolType=e,this.add(h)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){ys(this.childAt(0))},t.prototype.downplay=function(){ms(this.childAt(0))},t.prototype.setZ=function(e,n){var i=this.childAt(0);i.zlevel=e,i.z=n},t.prototype.setDraggable=function(e,n){var i=this.childAt(0);i.draggable=e,i.cursor=!n&&e?"move":i.cursor},t.prototype.updateData=function(e,n,i,a){this.silent=!1;var o=e.getItemVisual(n,"symbol")||"circle",c=e.hostModel,h=t.getSymbolSize(e,n),v=t.getSymbolZ2(e,n),g=o!==this._symbolType,y=a&&a.disableAnimation;if(g){var m=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,e,n,h,v,m)}else{var b=this.childAt(0);b.silent=!1;var S={scaleX:h[0]/2,scaleY:h[1]/2};y?b.attr(S):Pe(b,S,c,n),ca(b)}if(this._updateCommon(e,n,h,i,a),g){var b=this.childAt(0);if(!y){var S={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:b.style.opacity}};b.scaleX=b.scaleY=0,b.style.opacity=0,hr(b,S,c,n)}}y&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,n,i,a,o){var c=this.childAt(0),h=e.hostModel,v,g,y,m,b,S,E,C,A;if(a&&(v=a.emphasisItemStyle,g=a.blurItemStyle,y=a.selectItemStyle,m=a.focus,b=a.blurScope,E=a.labelStatesModels,C=a.hoverScale,A=a.cursorStyle,S=a.emphasisDisabled),!a||e.hasItemOption){var M=a&&a.itemModel?a.itemModel:e.getItemModel(n),L=M.getModel("emphasis");v=L.getModel("itemStyle").getItemStyle(),y=M.getModel(["select","itemStyle"]).getItemStyle(),g=M.getModel(["blur","itemStyle"]).getItemStyle(),m=L.get("focus"),b=L.get("blurScope"),S=L.get("disabled"),E=nn(M),C=L.getShallow("scale"),A=M.getShallow("cursor")}var R=e.getItemVisual(n,"symbolRotate");c.attr("rotation",(R||0)*Math.PI/180||0);var O=Nc(e.getItemVisual(n,"symbolOffset"),i);O&&(c.x=O[0],c.y=O[1]),A&&c.attr("cursor",A);var P=e.getItemVisual(n,"style"),V=P.fill;if(c instanceof wn){var k=c.style;c.useStyle(At({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},P))}else c.__isEmptyBrush?c.useStyle(At({},P)):c.useStyle(P),c.style.decal=null,c.setColor(V,o&&o.symbolInnerColor),c.style.strokeNoScale=!0;var F=e.getItemVisual(n,"liftZ"),H=this._z2;F!=null?H==null&&(this._z2=c.z2,c.z2+=F):H!=null&&(c.z2=H,this._z2=null);var W=o&&o.useNameLabel;fn(c,E,{labelFetcher:h,labelDataIndex:n,defaultText:q,inheritColor:V,defaultOpacity:P.opacity});function q(et){return W?e.getName(et):bh(e,et)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var Y=c.ensureState("emphasis");Y.style=v,c.ensureState("select").style=y,c.ensureState("blur").style=g;var Z=C==null||C===!0?Math.max(1.1,3/this._sizeY):isFinite(C)&&C>0?+C:1;Y.scaleX=this._sizeX*Z,Y.scaleY=this._sizeY*Z,this.setSymbolScale(1),gr(this,m,b,S)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,n,i){var a=this.childAt(0),o=ce(this).dataIndex,c=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var h=a.getTextContent();h&&Tl(h,{style:{opacity:0}},n,{dataIndex:o,removeOpt:c,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Tl(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:e,removeOpt:c})},t.getSymbolSize=function(e,n){return Gh(e.getItemVisual(n,"symbolSize"))},t.getSymbolZ2=function(e,n){return e.getItemVisual(n,"z2")},t})(re);function Aut(r,t){this.parent.drift(r,t)}function Bw(r,t,e,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(e))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&r.getItemVisual(e,"symbol")!=="none"}function wk(r){return r!=null&&!se(r)&&(r={isIgnore:r}),r||{}}function xk(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:nn(t),cursorStyle:t.get("cursor")}}var Uv=(function(){function r(t){this.group=new re,this._SymbolCtor=t||zv}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=wk(e);var n=this.group,i=t.hostModel,a=this._data,o=this._SymbolCtor,c=e.disableAnimation,h=xk(t),v={disableAnimation:c},g=e.getSymbolPoint||function(y){return t.getItemLayout(y)};a||n.removeAll(),t.diff(a).add(function(y){var m=g(y);if(Bw(t,m,y,e)){var b=new o(t,y,h,v);b.setPosition(m),t.setItemGraphicEl(y,b),n.add(b)}}).update(function(y,m){var b=a.getItemGraphicEl(m),S=g(y);if(!Bw(t,S,y,e)){n.remove(b);return}var E=t.getItemVisual(y,"symbol")||"circle",C=b&&b.getSymbolType&&b.getSymbolType();if(!b||C&&C!==E)n.remove(b),b=new o(t,y,h,v),b.setPosition(S);else{b.updateData(t,y,h,v);var A={x:S[0],y:S[1]};c?b.attr(A):Pe(b,A,i)}n.add(b),t.setItemGraphicEl(y,b)}).remove(function(y){var m=a.getItemGraphicEl(y);m&&m.fadeOut(function(){n.remove(m)},i)}).execute(),this._getSymbolPoint=g,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(n,i){var a=t._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=xk(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,n){this._progressiveEls=[],n=wk(n);function i(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var o=e.getItemLayout(a);if(Bw(e,o,a,n)){var c=new this._SymbolCtor(e,a,this._seriesScope);c.traverse(i),c.setPosition(o),this.group.add(c),e.setItemGraphicEl(a,c),this._progressiveEls.push(c)}}},r.prototype.eachRendered=function(t){Rl(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},n.hostModel)}):e.removeAll()},r})();function lz(r,t,e){var n=r.getBaseAxis(),i=r.getOtherAxis(n),a=Mut(i,e),o=n.dim,c=i.dim,h=t.mapDimension(c),v=t.mapDimension(o),g=c==="x"||c==="radius"?1:0,y=Pt(r.dimensions,function(S){return t.mapDimension(S)}),m=!1,b=t.getCalculationInfo("stackResultDimension");return Cl(t,y[0])&&(m=!0,y[0]=b),Cl(t,y[1])&&(m=!0,y[1]=b),{dataDimsForPoint:y,valueStart:a,valueAxisDim:c,baseAxisDim:o,stacked:!!m,valueDim:h,baseDim:v,baseDataOffset:g,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Mut(r,t){var e=0,n=r.scale.getExtent();return t==="start"?e=n[0]:t==="end"?e=n[1]:Re(t)&&!isNaN(t)?e=t:n[0]>0?e=n[0]:n[1]<0&&(e=n[1]),e}function uz(r,t,e,n){var i=NaN;r.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=r.valueStart);var a=r.baseDataOffset,o=[];return o[a]=e.get(r.baseDim,n),o[1-a]=i,t.dataToPoint(o)}function Dut(r,t){var e=[];return t.diff(r).add(function(n){e.push({cmd:"+",idx:n})}).update(function(n,i){e.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){e.push({cmd:"-",idx:n})}).execute(),e}function Lut(r,t,e,n,i,a,o,c){for(var h=Dut(r,t),v=[],g=[],y=[],m=[],b=[],S=[],E=[],C=lz(i,t,o),A=r.getLayout("points")||[],M=t.getLayout("points")||[],L=0;L<h.length;L++){var R=h[L],O=!0,P=void 0,V=void 0;switch(R.cmd){case"=":P=R.idx*2,V=R.idx1*2;var k=A[P],F=A[P+1],H=M[V],W=M[V+1];(isNaN(k)||isNaN(F))&&(k=H,F=W),v.push(k,F),g.push(H,W),y.push(e[P],e[P+1]),m.push(n[V],n[V+1]),E.push(t.getRawIndex(R.idx1));break;case"+":var q=R.idx,Y=C.dataDimsForPoint,Z=i.dataToPoint([t.get(Y[0],q),t.get(Y[1],q)]);V=q*2,v.push(Z[0],Z[1]),g.push(M[V],M[V+1]);var et=uz(C,i,t,q);y.push(et[0],et[1]),m.push(n[V],n[V+1]),E.push(t.getRawIndex(q));break;case"-":O=!1}O&&(b.push(R),S.push(S.length))}S.sort(function(Ut,Vt){return E[Ut]-E[Vt]});for(var J=v.length,it=So(J),rt=So(J),st=So(J),lt=So(J),dt=[],L=0;L<S.length;L++){var pt=S[L],xt=L*2,Ft=pt*2;it[xt]=v[Ft],it[xt+1]=v[Ft+1],rt[xt]=g[Ft],rt[xt+1]=g[Ft+1],st[xt]=y[Ft],st[xt+1]=y[Ft+1],lt[xt]=m[Ft],lt[xt+1]=m[Ft+1],dt[L]=b[pt]}return{current:it,next:rt,stackedOnCurrent:st,stackedOnNext:lt,status:dt}}var Zs=Math.min,Ks=Math.max;function hc(r,t){return isNaN(r)||isNaN(t)}function DT(r,t,e,n,i,a,o,c,h){for(var v,g,y,m,b,S,E=e,C=0;C<n;C++){var A=t[E*2],M=t[E*2+1];if(E>=i||E<0)break;if(hc(A,M)){if(h){E+=a;continue}break}if(E===e)r[a>0?"moveTo":"lineTo"](A,M),y=A,m=M;else{var L=A-v,R=M-g;if(L*L+R*R<.5){E+=a;continue}if(o>0){for(var O=E+a,P=t[O*2],V=t[O*2+1];P===A&&V===M&&C<n;)C++,O+=a,E+=a,P=t[O*2],V=t[O*2+1],A=t[E*2],M=t[E*2+1],L=A-v,R=M-g;var k=C+1;if(h)for(;hc(P,V)&&k<n;)k++,O+=a,P=t[O*2],V=t[O*2+1];var F=.5,H=0,W=0,q=void 0,Y=void 0;if(k>=n||hc(P,V))b=A,S=M;else{H=P-v,W=V-g;var Z=A-v,et=P-A,J=M-g,it=V-M,rt=void 0,st=void 0;if(c==="x"){rt=Math.abs(Z),st=Math.abs(et);var lt=H>0?1:-1;b=A-lt*rt*o,S=M,q=A+lt*st*o,Y=M}else if(c==="y"){rt=Math.abs(J),st=Math.abs(it);var dt=W>0?1:-1;b=A,S=M-dt*rt*o,q=A,Y=M+dt*st*o}else rt=Math.sqrt(Z*Z+J*J),st=Math.sqrt(et*et+it*it),F=st/(st+rt),b=A-H*o*(1-F),S=M-W*o*(1-F),q=A+H*o*F,Y=M+W*o*F,q=Zs(q,Ks(P,A)),Y=Zs(Y,Ks(V,M)),q=Ks(q,Zs(P,A)),Y=Ks(Y,Zs(V,M)),H=q-A,W=Y-M,b=A-H*rt/st,S=M-W*rt/st,b=Zs(b,Ks(v,A)),S=Zs(S,Ks(g,M)),b=Ks(b,Zs(v,A)),S=Ks(S,Zs(g,M)),H=A-b,W=M-S,q=A+H*st/rt,Y=M+W*st/rt}r.bezierCurveTo(y,m,b,S,A,M),y=q,m=Y}else r.lineTo(A,M)}v=A,g=M,E+=a}return C}var cz=(function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r})(),Nut=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:yt.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new cz},t.prototype.buildPath=function(e,n){var i=n.points,a=0,o=i.length/2;if(n.connectNulls){for(;o>0&&hc(i[o*2-2],i[o*2-1]);o--);for(;a<o&&hc(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=DT(e,i,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(e,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=Io.CMD,c,h,v=n==="x",g=[],y=0;y<a.length;){var m=a[y++],b=void 0,S=void 0,E=void 0,C=void 0,A=void 0,M=void 0,L=void 0;switch(m){case o.M:c=a[y++],h=a[y++];break;case o.L:if(b=a[y++],S=a[y++],L=v?(e-c)/(b-c):(e-h)/(S-h),L<=1&&L>=0){var R=v?(S-h)*L+h:(b-c)*L+c;return v?[e,R]:[R,e]}c=b,h=S;break;case o.C:b=a[y++],S=a[y++],E=a[y++],C=a[y++],A=a[y++],M=a[y++];var O=v?p0(c,b,E,A,e,g):p0(h,S,C,M,e,g);if(O>0)for(var P=0;P<O;P++){var V=g[P];if(V<=1&&V>=0){var R=v?ln(h,S,C,M,V):ln(c,b,E,A,V);return v?[e,R]:[R,e]}}c=A,h=M;break}}},t})(Ee),Rut=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(cz),fz=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new Rut},t.prototype.buildPath=function(e,n){var i=n.points,a=n.stackedOnPoints,o=0,c=i.length/2,h=n.smoothMonotone;if(n.connectNulls){for(;c>0&&hc(i[c*2-2],i[c*2-1]);c--);for(;o<c&&hc(i[o*2],i[o*2+1]);o++);}for(;o<c;){var v=DT(e,i,o,c,c,1,n.smooth,h,n.connectNulls);DT(e,a,o+v-1,v,c,-1,n.stackedOnSmooth,h,n.connectNulls),o+=v+1,e.closePath()}},t})(Ee);function hz(r,t,e,n,i){var a=r.getArea(),o=a.x,c=a.y,h=a.width,v=a.height,g=e.get(["lineStyle","width"])||0;o-=g/2,c-=g/2,h+=g,v+=g,h=Math.ceil(h),o!==Math.floor(o)&&(o=Math.floor(o),h++);var y=new we({shape:{x:o,y:c,width:h,height:v}});if(t){var m=r.getBaseAxis(),b=m.isHorizontal(),S=m.inverse;b?(S&&(y.shape.x+=h),y.shape.width=0):(S||(y.shape.y+=v),y.shape.height=0);var E=ee(i)?function(C){i(C,y)}:null;hr(y,{shape:{width:h,height:v,x:o,y:c}},e,null,n,E)}return y}function pz(r,t,e){var n=r.getArea(),i=Ur(n.r0,1),a=Ur(n.r,1),o=new $n({shape:{cx:Ur(r.cx,1),cy:Ur(r.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var c=r.getBaseAxis().dim==="angle";c?o.shape.endAngle=n.startAngle:o.shape.r=i,hr(o,{shape:{endAngle:n.endAngle,r:a}},e)}return o}function Wv(r,t,e,n,i){if(r){if(r.type==="polar")return pz(r,t,e);if(r.type==="cartesian2d")return hz(r,t,e,n,i)}else return null;return null}function Al(r,t){return r.type===t}function Ek(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function Tk(r){for(var t=1/0,e=1/0,n=-1/0,i=-1/0,a=0;a<r.length;){var o=r[a++],c=r[a++];isNaN(o)||(t=Math.min(o,t),n=Math.max(o,n)),isNaN(c)||(e=Math.min(c,e),i=Math.max(c,i))}return[[t,e],[n,i]]}function Ck(r,t){var e=Tk(r),n=e[0],i=e[1],a=Tk(t),o=a[0],c=a[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-c[0]),Math.abs(i[1]-c[1]))}function Ak(r){return Re(r)?r:r?.5:0}function Iut(r,t,e){if(!e.valueDim)return[];for(var n=t.count(),i=So(n*2),a=0;a<n;a++){var o=uz(e,r,t,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function Js(r,t,e,n,i){var a=e.getBaseAxis(),o=a.dim==="x"||a.dim==="radius"?0:1,c=[],h=0,v=[],g=[],y=[],m=[];if(i){for(h=0;h<r.length;h+=2){var b=t||r;!isNaN(b[h])&&!isNaN(b[h+1])&&m.push(r[h],r[h+1])}r=m}for(h=0;h<r.length-2;h+=2)switch(y[0]=r[h+2],y[1]=r[h+3],g[0]=r[h],g[1]=r[h+1],c.push(g[0],g[1]),n){case"end":v[o]=y[o],v[1-o]=g[1-o],c.push(v[0],v[1]);break;case"middle":var S=(g[o]+y[o])/2,E=[];v[o]=E[o]=S,v[1-o]=g[1-o],E[1-o]=y[1-o],c.push(v[0],v[1]),c.push(E[0],E[1]);break;default:v[o]=g[o],v[1-o]=y[1-o],c.push(v[0],v[1])}return c.push(r[h++],r[h++]),c}function Out(r,t){var e=[],n=r.length,i,a;function o(g,y,m){var b=g.coord,S=(m-b)/(y.coord-b),E=Jtt(S,[g.color,y.color]);return{coord:m,color:E}}for(var c=0;c<n;c++){var h=r[c],v=h.coord;if(v<0)i=h;else if(v>t){a?e.push(o(a,h,t)):i&&e.push(o(i,h,0),o(i,h,t));break}else i&&(e.push(o(i,h,0)),i=null),e.push(h),a=h}return e}function Put(r,t,e){var n=r.getVisual("visualMeta");if(!(!n||!n.length||!r.count())&&t.type==="cartesian2d"){for(var i,a,o=n.length-1;o>=0;o--){var c=r.getDimensionInfo(n[o].dimension);if(i=c&&c.coordDim,i==="x"||i==="y"){a=n[o];break}}if(a){var h=t.getAxis(i),v=Pt(a.stops,function(L){return{coord:h.toGlobalCoord(h.dataToCoord(L.value)),color:L.color}}),g=v.length,y=a.outerColors.slice();g&&v[0].coord>v[g-1].coord&&(v.reverse(),y.reverse());var m=Out(v,i==="x"?e.getWidth():e.getHeight()),b=m.length;if(!b&&g)return v[0].coord<0?y[1]?y[1]:v[g-1].color:y[0]?y[0]:v[0].color;var S=10,E=m[0].coord-S,C=m[b-1].coord+S,A=C-E;if(A<.001)return"transparent";j(m,function(L){L.offset=(L.coord-E)/A}),m.push({offset:b?m[b-1].offset:.5,color:y[1]||"transparent"}),m.unshift({offset:b?m[0].offset:.5,color:y[0]||"transparent"});var M=new Rh(0,0,0,0,m,!0);return M[i]=E,M[i+"2"]=C,M}}}function kut(r,t,e){var n=r.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=e.getAxesByScale("ordinal")[0];if(a&&!(i&&Vut(a,t))){var o=t.mapDimension(a.dim),c={};return j(a.getViewLabels(),function(h){var v=a.scale.getRawOrdinalNumber(h.tickValue);c[v]=1}),function(h){return!c.hasOwnProperty(t.get(o,h))}}}}function Vut(r,t){var e=r.getExtent(),n=Math.abs(e[1]-e[0])/r.scale.count();isNaN(n)&&(n=0);for(var i=t.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(zv.getSymbolSize(t,o)[r.isHorizontal()?1:0]*1.5>n)return!1;return!0}function Gut(r,t){return isNaN(r)||isNaN(t)}function Fut(r){for(var t=r.length/2;t>0&&Gut(r[t*2-2],r[t*2-1]);t--);return t-1}function Mk(r,t){return[r[t*2],r[t*2+1]]}function But(r,t,e){for(var n=r.length/2,i=e==="x"?0:1,a,o,c=0,h=-1,v=0;v<n;v++)if(o=r[v*2+i],!(isNaN(o)||isNaN(r[v*2+1-i]))){if(v===0){a=o;continue}if(a<=t&&o>=t||a>=t&&o<=t){h=v;break}c=v,a=o}return{range:[c,h],t:(t-a)/(o-a)}}function dz(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<hi.length;t++)if(r.get([hi[t],"endLabel","show"]))return!0;return!1}function Hw(r,t,e,n){if(Al(t,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),o=n.getData(),c={lastFrameIndex:0},h=dz(n)?function(b,S){r._endLabelOnDuring(b,S,o,c,a,i,t)}:null,v=t.getBaseAxis().isHorizontal(),g=hz(t,e,n,function(){var b=r._endLabel;b&&e&&c.originalX!=null&&b.attr({x:c.originalX,y:c.originalY})},h);if(!n.get("clip",!0)){var y=g.shape,m=Math.max(y.width,y.height);v?(y.y-=m,y.height+=m*2):(y.x-=m,y.width+=m*2)}return h&&h(1,g),g}else return pz(t,e,n)}function Hut(r,t){var e=t.getBaseAxis(),n=e.isHorizontal(),i=e.inverse,a=n?i?"right":"left":"center",o=n?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||a,verticalAlign:r.get("verticalAlign")||o}}}var zut=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new re,n=new Uv;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=e,this._changePolyState=qt(this._changePolyState,this)},t.prototype.render=function(e,n,i){var a=e.coordinateSystem,o=this.group,c=e.getData(),h=e.getModel("lineStyle"),v=e.getModel("areaStyle"),g=c.getLayout("points")||[],y=a.type==="polar",m=this._coordSys,b=this._symbolDraw,S=this._polyline,E=this._polygon,C=this._lineGroup,A=!n.ssr&&e.get("animation"),M=!v.isEmpty(),L=v.get("origin"),R=lz(a,c,L),O=M&&Iut(a,c,R),P=e.get("showSymbol"),V=e.get("connectNulls"),k=P&&!y&&kut(e,c,a),F=this._data;F&&F.eachItemGraphicEl(function(Ut,Vt){Ut.__temp&&(o.remove(Ut),F.setItemGraphicEl(Vt,null))}),P||b.remove(),o.add(C);var H=y?!1:e.get("step"),W;a&&a.getArea&&e.get("clip",!0)&&(W=a.getArea(),W.width!=null?(W.x-=.1,W.y-=.1,W.width+=.2,W.height+=.2):W.r0&&(W.r0-=.5,W.r+=.5)),this._clipShapeForSymbol=W;var q=Put(c,a,i)||c.getVisual("style")[c.getVisual("drawType")];if(!(S&&m.type===a.type&&H===this._step))P&&b.updateData(c,{isIgnore:k,clipShape:W,disableAnimation:!0,getSymbolPoint:function(Ut){return[g[Ut*2],g[Ut*2+1]]}}),A&&this._initSymbolLabelAnimation(c,a,W),H&&(O&&(O=Js(O,g,a,H,V)),g=Js(g,null,a,H,V)),S=this._newPolyline(g),M?E=this._newPolygon(g,O):E&&(C.remove(E),E=this._polygon=null),y||this._initOrUpdateEndLabel(e,a,Sc(q)),C.setClipPath(Hw(this,a,!0,e));else{M&&!E?E=this._newPolygon(g,O):E&&!M&&(C.remove(E),E=this._polygon=null),y||this._initOrUpdateEndLabel(e,a,Sc(q));var Y=C.getClipPath();if(Y){var Z=Hw(this,a,!1,e);hr(Y,{shape:Z.shape},e)}else C.setClipPath(Hw(this,a,!0,e));P&&b.updateData(c,{isIgnore:k,clipShape:W,disableAnimation:!0,getSymbolPoint:function(Ut){return[g[Ut*2],g[Ut*2+1]]}}),(!Ek(this._stackedOnPoints,O)||!Ek(this._points,g))&&(A?this._doUpdateAnimation(c,O,a,i,H,L,V):(H&&(O&&(O=Js(O,g,a,H,V)),g=Js(g,null,a,H,V)),S.setShape({points:g}),E&&E.setShape({points:g,stackedOnPoints:O})))}var et=e.getModel("emphasis"),J=et.get("focus"),it=et.get("blurScope"),rt=et.get("disabled");if(S.useStyle(oe(h.getLineStyle(),{fill:"none",stroke:q,lineJoin:"bevel"})),rn(S,e,"lineStyle"),S.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var st=S.getState("emphasis").style;st.lineWidth=+S.style.lineWidth+1}ce(S).seriesIndex=e.seriesIndex,gr(S,J,it,rt);var lt=Ak(e.get("smooth")),dt=e.get("smoothMonotone");if(S.setShape({smooth:lt,smoothMonotone:dt,connectNulls:V}),E){var pt=c.getCalculationInfo("stackedOnSeries"),xt=0;E.useStyle(oe(v.getAreaStyle(),{fill:q,opacity:.7,lineJoin:"bevel",decal:c.getVisual("style").decal})),pt&&(xt=Ak(pt.get("smooth"))),E.setShape({smooth:lt,stackedOnSmooth:xt,smoothMonotone:dt,connectNulls:V}),rn(E,e,"areaStyle"),ce(E).seriesIndex=e.seriesIndex,gr(E,J,it,rt)}var Ft=this._changePolyState;c.eachItemGraphicEl(function(Ut){Ut&&(Ut.onHoverStateChange=Ft)}),this._polyline.onHoverStateChange=Ft,this._data=c,this._coordSys=a,this._stackedOnPoints=O,this._points=g,this._step=H,this._valueOrigin=L,e.get("triggerLineEvent")&&(this.packEventData(e,S),E&&this.packEventData(e,E))},t.prototype.packEventData=function(e,n){ce(n).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,n,i,a){var o=e.getData(),c=gc(o,a);if(this._changePolyState("emphasis"),!(c instanceof Array)&&c!=null&&c>=0){var h=o.getLayout("points"),v=o.getItemGraphicEl(c);if(!v){var g=h[c*2],y=h[c*2+1];if(isNaN(g)||isNaN(y)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,y))return;var m=e.get("zlevel")||0,b=e.get("z")||0;v=new zv(o,c),v.x=g,v.y=y,v.setZ(m,b);var S=v.getSymbolPath().getTextContent();S&&(S.zlevel=m,S.z=b,S.z2=this._polyline.z2+1),v.__temp=!0,o.setItemGraphicEl(c,v),v.stopSymbolAnimation(!0),this.group.add(v)}v.highlight()}else Ke.prototype.highlight.call(this,e,n,i,a)},t.prototype.downplay=function(e,n,i,a){var o=e.getData(),c=gc(o,a);if(this._changePolyState("normal"),c!=null&&c>=0){var h=o.getItemGraphicEl(c);h&&(h.__temp?(o.setItemGraphicEl(c,null),this.group.remove(h)):h.downplay())}else Ke.prototype.downplay.call(this,e,n,i,a)},t.prototype._changePolyState=function(e){var n=this._polygon;E0(this._polyline,e),n&&E0(n,e)},t.prototype._newPolyline=function(e){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new Nut({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(e,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new fz({shape:{points:e,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,n,i){var a,o,c=n.getBaseAxis(),h=c.inverse;n.type==="cartesian2d"?(a=c.isHorizontal(),o=!1):n.type==="polar"&&(a=c.dim==="angle",o=!0);var v=e.hostModel,g=v.get("animationDuration");ee(g)&&(g=g(null));var y=v.get("animationDelay")||0,m=ee(y)?y(null):y;e.eachItemGraphicEl(function(b,S){var E=b;if(E){var C=[b.x,b.y],A=void 0,M=void 0,L=void 0;if(i)if(o){var R=i,O=n.pointToCoord(C);a?(A=R.startAngle,M=R.endAngle,L=-O[1]/180*Math.PI):(A=R.r0,M=R.r,L=O[0])}else{var P=i;a?(A=P.x,M=P.x+P.width,L=b.x):(A=P.y+P.height,M=P.y,L=b.y)}var V=M===A?0:(L-A)/(M-A);h&&(V=1-V);var k=ee(y)?y(S):g*V+m,F=E.getSymbolPath(),H=F.getTextContent();E.attr({scaleX:0,scaleY:0}),E.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:k}),H&&H.animateFrom({style:{opacity:0}},{duration:300,delay:k}),F.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,n,i){var a=e.getModel("endLabel");if(dz(e)){var o=e.getData(),c=this._polyline,h=o.getLayout("points");if(!h){c.removeTextContent(),this._endLabel=null;return}var v=this._endLabel;v||(v=this._endLabel=new Oe({z2:200}),v.ignoreClip=!0,c.setTextContent(this._endLabel),c.disableLabelAnimation=!0);var g=Fut(h);g>=0&&(fn(c,nn(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:g,defaultText:function(y,m,b){return b!=null?sz(o,b):bh(o,y)},enableTextSetter:!0},Hut(a,n)),c.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,n,i,a,o,c,h){var v=this._endLabel,g=this._polyline;if(v){e<1&&a.originalX==null&&(a.originalX=v.x,a.originalY=v.y);var y=i.getLayout("points"),m=i.hostModel,b=m.get("connectNulls"),S=c.get("precision"),E=c.get("distance")||0,C=h.getBaseAxis(),A=C.isHorizontal(),M=C.inverse,L=n.shape,R=M?A?L.x:L.y+L.height:A?L.x+L.width:L.y,O=(A?E:0)*(M?-1:1),P=(A?0:-E)*(M?-1:1),V=A?"x":"y",k=But(y,R,V),F=k.range,H=F[1]-F[0],W=void 0;if(H>=1){if(H>1&&!b){var q=Mk(y,F[0]);v.attr({x:q[0]+O,y:q[1]+P}),o&&(W=m.getRawValue(F[0]))}else{var q=g.getPointOn(R,V);q&&v.attr({x:q[0]+O,y:q[1]+P});var Y=m.getRawValue(F[0]),Z=m.getRawValue(F[1]);o&&(W=zB(i,S,Y,Z,k.t))}a.lastFrameIndex=F[0]}else{var et=e===1||a.lastFrameIndex>0?F[0]:0,q=Mk(y,et);o&&(W=m.getRawValue(et)),v.attr({x:q[0]+O,y:q[1]+P})}if(o){var J=Oh(v);typeof J.setLabelText=="function"&&J.setLabelText(W)}}},t.prototype._doUpdateAnimation=function(e,n,i,a,o,c,h){var v=this._polyline,g=this._polygon,y=e.hostModel,m=Lut(this._data,e,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),b=m.current,S=m.stackedOnCurrent,E=m.next,C=m.stackedOnNext;if(o&&(S=Js(m.stackedOnCurrent,m.current,i,o,h),b=Js(m.current,null,i,o,h),C=Js(m.stackedOnNext,m.next,i,o,h),E=Js(m.next,null,i,o,h)),Ck(b,E)>3e3||g&&Ck(S,C)>3e3){v.stopAnimation(),v.setShape({points:E}),g&&(g.stopAnimation(),g.setShape({points:E,stackedOnPoints:C}));return}v.shape.__points=m.current,v.shape.points=b;var A={shape:{points:E}};m.current!==b&&(A.shape.__points=m.next),v.stopAnimation(),Pe(v,A,y),g&&(g.setShape({points:b,stackedOnPoints:S}),g.stopAnimation(),Pe(g,{shape:{stackedOnPoints:C}},y),v.shape.points!==g.shape.points&&(g.shape.points=v.shape.points));for(var M=[],L=m.status,R=0;R<L.length;R++){var O=L[R].cmd;if(O==="="){var P=e.getItemGraphicEl(L[R].idx1);P&&M.push({el:P,ptIdx:R})}}v.animators&&v.animators.length&&v.animators[0].during(function(){g&&g.dirtyShape();for(var V=v.shape.__points,k=0;k<M.length;k++){var F=M[k].el,H=M[k].ptIdx*2;F.x=V[H],F.y=V[H+1],F.markRedraw()}})},t.prototype.remove=function(e){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(n.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t})(Ke);function jv(r,t){return{seriesType:r,plan:kh(),reset:function(e){var n=e.getData(),i=e.coordinateSystem,a=e.pipelineContext,o=t||a.large;if(i){var c=Pt(i.dimensions,function(b){return n.mapDimension(b)}).slice(0,2),h=c.length,v=n.getCalculationInfo("stackResultDimension");Cl(n,c[0])&&(c[0]=v),Cl(n,c[1])&&(c[1]=v);var g=n.getStore(),y=n.getDimensionIndex(c[0]),m=n.getDimensionIndex(c[1]);return h&&{progress:function(b,S){for(var E=b.end-b.start,C=o&&So(E*h),A=[],M=[],L=b.start,R=0;L<b.end;L++){var O=void 0;if(h===1){var P=g.get(y,L);O=i.dataToPoint(P,null,M)}else A[0]=g.get(y,L),A[1]=g.get(m,L),O=i.dataToPoint(A,null,M);o?(C[R++]=O[0],C[R++]=O[1]):S.setItemLayout(L,O.slice())}o&&S.setLayout("points",C)}}}}}}var Uut={average:function(r){for(var t=0,e=0,n=0;n<r.length;n++)isNaN(r[n])||(t+=r[n],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},Wut=function(r){return Math.round(r.length/2)};function vz(r){return{seriesType:r,reset:function(t,e,n){var i=t.getData(),a=t.get("sampling"),o=t.coordinateSystem,c=i.count();if(c>10&&o.type==="cartesian2d"&&a){var h=o.getBaseAxis(),v=o.getOtherAxis(h),g=h.getExtent(),y=n.getDevicePixelRatio(),m=Math.abs(g[1]-g[0])*(y||1),b=Math.round(c/m);if(isFinite(b)&&b>1){a==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(v.dim),1/b)):a==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(v.dim),1/b));var S=void 0;$t(a)?S=Uut[a]:ee(a)&&(S=a),S&&t.setData(i.downSample(i.mapDimension(v.dim),1/b,S,Wut))}}}}}function jut(r){r.registerChartView(zut),r.registerSeriesModel(Cut),r.registerLayout(jv("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,vz("line"))}var mv=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){return Cs(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(e),c=a.dataToPoint(o);if(i)j(a.getAxes(),function(m,b){if(m.type==="category"&&n!=null){var S=m.getTicksCoords(),E=m.getTickModel().get("alignWithLabel"),C=o[b],A=n[b]==="x1"||n[b]==="y1";if(A&&!E&&(C+=1),S.length<2)return;if(S.length===2){c[b]=m.toGlobalCoord(m.getExtent()[A?1:0]);return}for(var M=void 0,L=void 0,R=1,O=0;O<S.length;O++){var P=S[O].coord,V=O===S.length-1?S[O-1].tickValue+R:S[O].tickValue;if(V===C){L=P;break}else if(V<C)M=P;else if(M!=null&&V>C){L=(P+M)/2;break}O===1&&(R=V-S[0].tickValue)}L==null&&(M?M&&(L=S[S.length-1].coord):L=S[0].coord),c[b]=m.toGlobalCoord(L)}});else{var h=this.getData(),v=h.getLayout("offset"),g=h.getLayout("size"),y=a.getBaseAxis().isHorizontal()?0:1;c[y]+=v+g/2}return c}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},t})(or);or.registerClass(mv);var Yut=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return Cs(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>e&&(e=n),e},t.prototype.brushSelector=function(e,n,i){return i.rect(n.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Il(mv.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:yt.color.primary,borderWidth:2}},realtimeSort:!1}),t})(mv),$ut=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),j0=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="sausage",n}return t.prototype.getDefaultShape=function(){return new $ut},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,o=Math.max(n.r0||0,0),c=Math.max(n.r,0),h=(c-o)*.5,v=o+h,g=n.startAngle,y=n.endAngle,m=n.clockwise,b=Math.PI*2,S=m?y-g<b:g-y<b;S||(g=y-(m?b:-b));var E=Math.cos(g),C=Math.sin(g),A=Math.cos(y),M=Math.sin(y);S?(e.moveTo(E*o+i,C*o+a),e.arc(E*v+i,C*v+a,h,-Math.PI+g,g,!m)):e.moveTo(E*c+i,C*c+a),e.arc(i,a,c,g,y,!m),e.arc(A*v+i,M*v+a,h,y-Math.PI*2,y-Math.PI,!m),o!==0&&e.arc(i,a,o,y,g,m)},t})(Ee);function qut(r,t){t=t||{};var e=t.isRoundCap;return function(n,i,a){var o=i.position;if(!o||o instanceof Array)return _0(n,i,a);var c=r(o),h=i.distance!=null?i.distance:5,v=this.shape,g=v.cx,y=v.cy,m=v.r,b=v.r0,S=(m+b)/2,E=v.startAngle,C=v.endAngle,A=(E+C)/2,M=e?Math.abs(m-b)/2:0,L=Math.cos,R=Math.sin,O=g+m*L(E),P=y+m*R(E),V="left",k="top";switch(c){case"startArc":O=g+(b-h)*L(A),P=y+(b-h)*R(A),V="center",k="top";break;case"insideStartArc":O=g+(b+h)*L(A),P=y+(b+h)*R(A),V="center",k="bottom";break;case"startAngle":O=g+S*L(E)+nm(E,h+M,!1),P=y+S*R(E)+im(E,h+M,!1),V="right",k="middle";break;case"insideStartAngle":O=g+S*L(E)+nm(E,-h+M,!1),P=y+S*R(E)+im(E,-h+M,!1),V="left",k="middle";break;case"middle":O=g+S*L(A),P=y+S*R(A),V="center",k="middle";break;case"endArc":O=g+(m+h)*L(A),P=y+(m+h)*R(A),V="center",k="bottom";break;case"insideEndArc":O=g+(m-h)*L(A),P=y+(m-h)*R(A),V="center",k="top";break;case"endAngle":O=g+S*L(C)+nm(C,h+M,!0),P=y+S*R(C)+im(C,h+M,!0),V="left",k="middle";break;case"insideEndAngle":O=g+S*L(C)+nm(C,-h+M,!0),P=y+S*R(C)+im(C,-h+M,!0),V="right",k="middle";break;default:return _0(n,i,a)}return n=n||{},n.x=O,n.y=P,n.align=V,n.verticalAlign=k,n}}function Xut(r,t,e,n){if(Re(n)){r.setTextConfig({rotation:n});return}else if(Rt(t)){r.setTextConfig({rotation:0});return}var i=r.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,c=(a+o)/2,h,v=e(t);switch(v){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":h=c;break;case"startAngle":case"insideStartAngle":h=a;break;case"endAngle":case"insideEndAngle":h=o;break;default:r.setTextConfig({rotation:0});return}var g=Math.PI*1.5-h;v==="middle"&&g>Math.PI/2&&g<Math.PI*1.5&&(g-=Math.PI),r.setTextConfig({rotation:g})}function nm(r,t,e){return t*Math.sin(r)*(e?-1:1)}function im(r,t,e){return t*Math.cos(r)*(e?1:-1)}function xo(r,t,e){var n=r.get("borderRadius");if(n==null)return e?{cornerRadius:0}:null;Rt(n)||(n=[n,n,n,n]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:Pt(n,function(a){return Ia(a,i)})}}var zw=Math.max,Uw=Math.min;function Zut(r,t){var e=r.getArea&&r.getArea();if(Al(r,"cartesian2d")){var n=r.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=t.getLayout("bandWidth");n.isHorizontal()?(e.x-=i,e.width+=i*2):(e.y-=i,e.height+=i*2)}}return e}var Kut=(function(r){bt(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,n,i,a){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,n,i):this._renderNormal(e,n,i,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,n){this._progressiveEls=[],this._incrementalRenderLarge(e,n)},t.prototype.eachRendered=function(e){Rl(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e,n,i,a){var o=this.group,c=e.getData(),h=this._data,v=e.coordinateSystem,g=v.getBaseAxis(),y;v.type==="cartesian2d"?y=g.isHorizontal():v.type==="polar"&&(y=g.dim==="angle");var m=e.isAnimationEnabled()?e:null,b=Jut(e,v);b&&this._enableRealtimeSort(b,c,i);var S=e.get("clip",!0)||b,E=Zut(v,c);o.removeClipPath();var C=e.get("roundCap",!0),A=e.get("showBackground",!0),M=e.getModel("backgroundStyle"),L=M.get("borderRadius")||0,R=[],O=this._backgroundEls,P=a&&a.isInitSort,V=a&&a.type==="changeAxisOrder";function k(W){var q=am[v.type](c,W);if(!q)return null;var Y=act(v,y,q);return Y.useStyle(M.getItemStyle()),v.type==="cartesian2d"?Y.setShape("r",L):Y.setShape("cornerRadius",L),R[W]=Y,Y}c.diff(h).add(function(W){var q=c.getItemModel(W),Y=am[v.type](c,W,q);if(Y&&(A&&k(W),!(!c.hasValue(W)||!Ik[v.type](Y)))){var Z=!1;S&&(Z=Dk[v.type](E,Y));var et=Lk[v.type](e,c,W,Y,y,m,g.model,!1,C);b&&(et.forceLabelAnimation=!0),Ok(et,c,W,q,Y,e,y,v.type==="polar"),P?et.attr({shape:Y}):b?Nk(b,m,et,Y,W,y,!1,!1):hr(et,{shape:Y},e,W),c.setItemGraphicEl(W,et),o.add(et),et.ignore=Z}}).update(function(W,q){var Y=c.getItemModel(W),Z=am[v.type](c,W,Y);if(Z){if(A){var et=void 0;O.length===0?et=k(q):(et=O[q],et.useStyle(M.getItemStyle()),v.type==="cartesian2d"?et.setShape("r",L):et.setShape("cornerRadius",L),R[W]=et);var J=am[v.type](c,W),it=yz(y,J,v);Pe(et,{shape:it},m,W)}var rt=h.getItemGraphicEl(q);if(!c.hasValue(W)||!Ik[v.type](Z)){o.remove(rt);return}var st=!1;S&&(st=Dk[v.type](E,Z),st&&o.remove(rt));var lt=rt&&(rt.type==="sector"&&C||rt.type==="sausage"&&!C);if(lt&&(rt&&ls(rt,e,q),rt=null),rt?ca(rt):rt=Lk[v.type](e,c,W,Z,y,m,g.model,!0,C),b&&(rt.forceLabelAnimation=!0),V){var dt=rt.getTextContent();if(dt){var pt=Oh(dt);pt.prevValue!=null&&(pt.prevValue=pt.value)}}else Ok(rt,c,W,Y,Z,e,y,v.type==="polar");P?rt.attr({shape:Z}):b?Nk(b,m,rt,Z,W,y,!0,V):Pe(rt,{shape:Z},e,W,null),c.setItemGraphicEl(W,rt),rt.ignore=st,o.add(rt)}}).remove(function(W){var q=h.getItemGraphicEl(W);q&&ls(q,e,W)}).execute();var F=this._backgroundGroup||(this._backgroundGroup=new re);F.removeAll();for(var H=0;H<R.length;++H)F.add(R[H]);o.add(F),this._backgroundEls=R,this._data=c},t.prototype._renderLarge=function(e,n,i){this._clear(),kk(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,n){this._removeBackground(),kk(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var n=e.get("clip",!0)&&Wv(e.coordinateSystem,!1,e),i=this.group;n?i.setClipPath(n):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,n,i){var a=this;if(n.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,e,i),this._isFirstFrame=!1;else{var c=function(h){var v=n.getItemGraphicEl(h),g=v&&v.shape;return g&&Math.abs(o.isHorizontal()?g.height:g.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,c,o,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,n,i){var a=[];return e.each(e.mapDimension(n.dim),function(o,c){var h=i(c);h=h??NaN,a.push({dataIndex:c,mappedValue:h,ordinalNumber:o})}),a.sort(function(o,c){return c.mappedValue-o.mappedValue}),{ordinalNumbers:Pt(a,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,n,i){for(var a=i.scale,o=e.mapDimension(i.dim),c=Number.MAX_VALUE,h=0,v=a.getOrdinalMeta().categories.length;h<v;++h){var g=e.rawIndexOf(o,a.getRawOrdinalNumber(h)),y=g<0?Number.MIN_VALUE:n(e.indexOfRawIndex(g));if(y>c)return!0;c=y}return!1},t.prototype._isOrderDifferentInView=function(e,n){for(var i=n.scale,a=i.getExtent(),o=Math.max(0,a[0]),c=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=c;++o)if(e.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,n,i,a){if(this._isOrderChangedWithinSameData(e,n,i)){var o=this._dataSort(e,i,n);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,n,i){var a=n.baseAxis,o=this._dataSort(e,a,function(c){return e.get(e.mapDimension(n.otherAxis.dim),c)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},t.prototype.remove=function(e,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(e,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var n=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){ls(a,e,ce(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t})(Ke),Dk={cartesian2d:function(r,t){var e=t.width<0?-1:1,n=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var i=r.x+r.width,a=r.y+r.height,o=zw(t.x,r.x),c=Uw(t.x+t.width,i),h=zw(t.y,r.y),v=Uw(t.y+t.height,a),g=c<o,y=v<h;return t.x=g&&o>i?c:o,t.y=y&&h>a?v:h,t.width=g?0:c-o,t.height=y?0:v-h,e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),g||y},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}var i=Uw(t.r,r.r),a=zw(t.r0,r.r0);t.r=i,t.r0=a;var o=i-a<0;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}return o}},Lk={cartesian2d:function(r,t,e,n,i,a,o,c,h){var v=new we({shape:At({},n),z2:1});if(v.__dataIndex=e,v.name="item",a){var g=v.shape,y=i?"height":"width";g[y]=0}return v},polar:function(r,t,e,n,i,a,o,c,h){var v=!i&&h?j0:$n,g=new v({shape:n,z2:1});g.name="item";var y=gz(i);if(g.calculateTextPosition=qut(y,{isRoundCap:v===j0}),a){var m=g.shape,b=i?"r":"endAngle",S={};m[b]=i?n.r0:n.startAngle,S[b]=n[b],(c?Pe:hr)(g,{shape:S},a)}return g}};function Jut(r,t){var e=r.get("realtimeSort",!0),n=t.getBaseAxis();if(e&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function Nk(r,t,e,n,i,a,o,c){var h,v;a?(v={x:n.x,width:n.width},h={y:n.y,height:n.height}):(v={y:n.y,height:n.height},h={x:n.x,width:n.width}),c||(o?Pe:hr)(e,{shape:h},t,i,null);var g=t?r.baseAxis.model:null;(o?Pe:hr)(e,{shape:v},g,i)}function Rk(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var Qut=["x","y","width","height"],tct=["cx","cy","r","startAngle","endAngle"],Ik={cartesian2d:function(r){return!Rk(r,Qut)},polar:function(r){return!Rk(r,tct)}},am={cartesian2d:function(r,t,e){var n=r.getItemLayout(t);if(!n)return null;var i=e?rct(e,n):0,a=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+o*i/2,width:n.width-a*i,height:n.height-o*i}},polar:function(r,t,e){var n=r.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function ect(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function gz(r){return(function(t){var e=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+e;default:return n}}})(r)}function Ok(r,t,e,n,i,a,o,c){var h=t.getItemVisual(e,"style");if(c){if(!a.get("roundCap")){var g=r.shape,y=xo(n.getModel("itemStyle"),g,!0);At(g,y),r.setShape(g)}}else{var v=n.get(["itemStyle","borderRadius"])||0;r.setShape("r",v)}r.useStyle(h);var m=n.getShallow("cursor");m&&r.attr("cursor",m);var b=c?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",S=nn(n);fn(r,S,{labelFetcher:a,labelDataIndex:e,defaultText:bh(a.getData(),e),inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:b});var E=r.getTextContent();if(c&&E){var C=n.get(["label","position"]);r.textConfig.inside=C==="middle"?!0:null,Xut(r,C==="outside"?b:C,gz(o),n.get(["label","rotate"]))}MH(E,S,a.getRawValue(e),function(M){return sz(t,M)});var A=n.getModel(["emphasis"]);gr(r,A.get("focus"),A.get("blurScope"),A.get("disabled")),rn(r,n),ect(i)&&(r.style.fill="none",r.style.stroke="none",j(r.states,function(M){M.style&&(M.style.fill=M.style.stroke="none")}))}function rct(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var n=r.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,i,a)}var nct=(function(){function r(){}return r})(),Pk=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new nct},t.prototype.buildPath=function(e,n){for(var i=n.points,a=this.baseDimIdx,o=1-this.baseDimIdx,c=[],h=[],v=this.barWidth,g=0;g<i.length;g+=3)h[a]=v,h[o]=i[g+2],c[a]=i[g+a],c[o]=i[g+o],e.rect(c[0],c[1],h[0],h[1])},t})(Ee);function kk(r,t,e,n){var i=r.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),c=i.getLayout("size"),h=r.getModel("backgroundStyle"),v=i.getLayout("largeBackgroundPoints");if(v){var g=new Pk({shape:{points:v},incremental:!!n,silent:!0,z2:0});g.baseDimIdx=a,g.largeDataIndices=o,g.barWidth=c,g.useStyle(h.getItemStyle()),t.add(g),e&&e.push(g)}var y=new Pk({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});y.baseDimIdx=a,y.largeDataIndices=o,y.barWidth=c,t.add(y),y.useStyle(i.getVisual("style")),y.style.stroke=null,ce(y).seriesIndex=r.seriesIndex,r.get("silent")||(y.on("mousedown",Vk),y.on("mousemove",Vk)),e&&e.push(y)}var Vk=GA(function(r){var t=this,e=ict(t,r.offsetX,r.offsetY);ce(t).dataIndex=e>=0?e:null},30,!1);function ict(r,t,e){for(var n=r.baseDimIdx,i=1-n,a=r.shape.points,o=r.largeDataIndices,c=[],h=[],v=r.barWidth,g=0,y=a.length/3;g<y;g++){var m=g*3;if(h[n]=v,h[i]=a[m+2],c[n]=a[m+n],c[i]=a[m+i],h[i]<0&&(c[i]+=h[i],h[i]=-h[i]),t>=c[0]&&t<=c[0]+h[0]&&e>=c[1]&&e<=c[1]+h[1])return o[g]}return-1}function yz(r,t,e){if(Al(e,"cartesian2d")){var n=t,i=e.getArea();return{x:r?n.x:i.x,y:r?i.y:n.y,width:r?n.width:i.width,height:r?i.height:n.height}}else{var i=e.getArea(),a=t;return{cx:i.cx,cy:i.cy,r0:r?i.r0:a.r0,r:r?i.r:a.r,startAngle:r?a.startAngle:0,endAngle:r?a.endAngle:Math.PI*2}}}function act(r,t,e){var n=r.type==="polar"?$n:we;return new n({shape:yz(t,e,r),silent:!0,z2:0})}function oct(r){r.registerChartView(Kut),r.registerSeriesModel(Yut),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,de(b6,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,S6("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,vz("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var Gk=Math.PI*2,om=Math.PI/180;function sct(r,t,e){t.eachSeriesByType(r,function(n){var i=n.getData(),a=i.mapDimension("value"),o=XH(n,e),c=o.cx,h=o.cy,v=o.r,g=o.r0,y=o.viewRect,m=-n.get("startAngle")*om,b=n.get("endAngle"),S=n.get("padAngle")*om;b=b==="auto"?m-Gk:-b*om;var E=n.get("minAngle")*om,C=E+S,A=0;i.each(a,function(it){!isNaN(it)&&A++});var M=i.getSum(a),L=Math.PI/(M||A)*2,R=n.get("clockwise"),O=n.get("roseType"),P=n.get("stillShowZeroSum"),V=i.getDataExtent(a);V[0]=0;var k=R?1:-1,F=[m,b],H=k*S/2;k_(F,!R),m=F[0],b=F[1];var W=mz(n);W.startAngle=m,W.endAngle=b,W.clockwise=R,W.cx=c,W.cy=h,W.r=v,W.r0=g;var q=Math.abs(b-m),Y=q,Z=0,et=m;if(i.setLayout({viewRect:y,r:v}),i.each(a,function(it,rt){var st;if(isNaN(it)){i.setItemLayout(rt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:R,cx:c,cy:h,r0:g,r:O?NaN:v});return}O!=="area"?st=M===0&&P?L:it*L:st=q/A,st<C?(st=C,Y-=C):Z+=it;var lt=et+k*st,dt=0,pt=0;S>st?(dt=et+k*st/2,pt=dt):(dt=et+H,pt=lt-H),i.setItemLayout(rt,{angle:st,startAngle:dt,endAngle:pt,clockwise:R,cx:c,cy:h,r0:g,r:O?We(it,V,[g,v]):v}),et=lt}),Y<Gk&&A)if(Y<=.001){var J=q/A;i.each(a,function(it,rt){if(!isNaN(it)){var st=i.getItemLayout(rt);st.angle=J;var lt=0,dt=0;J<S?(lt=m+k*(rt+1/2)*J,dt=lt):(lt=m+k*rt*J+H,dt=m+k*(rt+1)*J-H),st.startAngle=lt,st.endAngle=dt}})}else L=Y/Z,et=m,i.each(a,function(it,rt){if(!isNaN(it)){var st=i.getItemLayout(rt),lt=st.angle===C?C:it*L,dt=0,pt=0;lt<S?(dt=et+k*lt/2,pt=dt):(dt=et+H,pt=et+k*lt-H),st.startAngle=dt,st.endAngle=pt,et+=k*lt}})})}var mz=xe();function Bh(r){return{seriesType:r,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=t.getData();i.filterSelf(function(a){for(var o=i.getName(a),c=0;c<n.length;c++)if(!n[c].isSelected(o))return!1;return!0})}}}}var lct=Math.PI/180;function Fk(r,t,e,n,i,a,o,c,h,v){if(r.length<2)return;function g(E){for(var C=E.rB,A=C*C,M=0;M<E.list.length;M++){var L=E.list[M],R=Math.abs(L.label.y-e),O=n+L.len,P=O*O,V=Math.sqrt(Math.abs((1-R*R/A)*P)),k=t+(V+L.len2)*i,F=k-L.label.x,H=L.targetTextWidth-F*i;_z(L,H,!0),L.label.x=k}}function y(E){for(var C={list:[],maxY:0},A={list:[],maxY:0},M=0;M<E.length;M++)if(E[M].labelAlignTo==="none"){var L=E[M],R=L.label.y>e?A:C,O=Math.abs(L.label.y-e);if(O>=R.maxY){var P=L.label.x-t-L.len2*i,V=n+L.len,k=Math.abs(P)<V?Math.sqrt(O*O/(1-P*P/V/V)):V;R.rB=k,R.maxY=O}R.list.push(L)}g(C),g(A)}for(var m=r.length,b=0;b<m;b++)if(r[b].position==="outer"&&r[b].labelAlignTo==="labelLine"){var S=r[b].label.x-v;r[b].linePoints[1][0]+=S,r[b].label.x=v}TT(r,1,h,h+o)&&y(r)}function uct(r,t,e,n,i,a,o,c){for(var h=[],v=[],g=Number.MAX_VALUE,y=-Number.MAX_VALUE,m=0;m<r.length;m++){var b=r[m].label;Ww(r[m])||(b.x<t?(g=Math.min(g,b.x),h.push(r[m])):(y=Math.max(y,b.x),v.push(r[m])))}for(var m=0;m<r.length;m++){var S=r[m];if(!Ww(S)&&S.linePoints){if(S.labelStyleWidth!=null)continue;var b=S.label,E=S.linePoints,C=void 0;S.labelAlignTo==="edge"?b.x<t?C=E[2][0]-S.labelDistance-o-S.edgeDistance:C=o+i-S.edgeDistance-E[2][0]-S.labelDistance:S.labelAlignTo==="labelLine"?b.x<t?C=g-o-S.bleedMargin:C=o+i-y-S.bleedMargin:b.x<t?C=b.x-o-S.bleedMargin:C=o+i-b.x-S.bleedMargin,S.targetTextWidth=C,_z(S,C,!1)}}Fk(v,t,e,n,1,i,a,o,c,y),Fk(h,t,e,n,-1,i,a,o,c,g);for(var m=0;m<r.length;m++){var S=r[m];if(!Ww(S)&&S.linePoints){var b=S.label,E=S.linePoints,A=S.labelAlignTo==="edge",M=b.style.padding,L=M?M[1]+M[3]:0,R=b.style.backgroundColor?0:L,O=S.rect.width+R,P=E[1][0]-E[2][0];A?b.x<t?E[2][0]=o+S.edgeDistance+O+S.labelDistance:E[2][0]=o+i-S.edgeDistance-O-S.labelDistance:(b.x<t?E[2][0]=b.x+S.labelDistance:E[2][0]=b.x-S.labelDistance,E[1][0]=E[2][0]+P),E[1][1]=E[2][1]=b.y}}}function _z(r,t,e){if(r.labelStyleWidth==null){var n=r.label,i=n.style,a=r.rect,o=i.backgroundColor,c=i.padding,h=c?c[1]+c[3]:0,v=i.overflow,g=a.width+(o?0:h);if(t<g||e){if(v&&v.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-h);var y=n.getBoundingRect();n.setStyle("width",Math.ceil(y.width)),n.setStyle("backgroundColor",o)}else{var m=t-h,b=t<g?m:e?m>r.unconstrainedWidth?null:m:null;n.setStyle("width",b)}bz(a,n)}}}function bz(r,t){Bk.rect=r,W6(Bk,t,cct)}var cct={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},Bk={};function Ww(r){return r.position==="center"}function fct(r){var t=r.getData(),e=[],n,i,a=!1,o=(r.get("minShowLabelAngle")||0)*lct,c=t.getLayout("viewRect"),h=t.getLayout("r"),v=c.width,g=c.x,y=c.y,m=c.height;function b(P){P.ignore=!0}function S(P){if(!P.ignore)return!0;for(var V in P.states)if(P.states[V].ignore===!1)return!0;return!1}t.each(function(P){var V=t.getItemGraphicEl(P),k=V.shape,F=V.getTextContent(),H=V.getTextGuideLine(),W=t.getItemModel(P),q=W.getModel("label"),Y=q.get("position")||W.get(["emphasis","label","position"]),Z=q.get("distanceToLabelLine"),et=q.get("alignTo"),J=Yt(q.get("edgeDistance"),v),it=q.get("bleedMargin");it==null&&(it=Math.min(v,m)>200?10:2);var rt=W.getModel("labelLine"),st=rt.get("length");st=Yt(st,v);var lt=rt.get("length2");if(lt=Yt(lt,v),Math.abs(k.endAngle-k.startAngle)<o){j(F.states,b),F.ignore=!0,H&&(j(H.states,b),H.ignore=!0);return}if(S(F)){var dt=(k.startAngle+k.endAngle)/2,pt=Math.cos(dt),xt=Math.sin(dt),Ft,Ut,Vt,Qt;n=k.cx,i=k.cy;var Ht=Y==="inside"||Y==="inner";if(Y==="center")Ft=k.cx,Ut=k.cy,Qt="center";else{var gt=(Ht?(k.r+k.r0)/2*pt:k.r*pt)+n,Mt=(Ht?(k.r+k.r0)/2*xt:k.r*xt)+i;if(Ft=gt+pt*3,Ut=Mt+xt*3,!Ht){var Et=gt+pt*(st+h-k.r),X=Mt+xt*(st+h-k.r),ot=Et+(pt<0?-1:1)*lt,ht=X;et==="edge"?Ft=pt<0?g+J:g+v-J:Ft=ot+(pt<0?-Z:Z),Ut=ht,Vt=[[gt,Mt],[Et,X],[ot,ht]]}Qt=Ht?"center":et==="edge"?pt>0?"right":"left":pt>0?"left":"right"}var _t=Math.PI,mt=0,Lt=q.get("rotate");if(Re(Lt))mt=Lt*(_t/180);else if(Y==="center")mt=0;else if(Lt==="radial"||Lt===!0){var tt=pt<0?-dt+_t:-dt;mt=tt}else if(Lt==="tangential"&&Y!=="outside"&&Y!=="outer"){var Q=Math.atan2(pt,xt);Q<0&&(Q=_t*2+Q);var ft=xt>0;ft&&(Q=_t+Q),mt=Q-_t}if(a=!!mt,F.x=Ft,F.y=Ut,F.rotation=mt,F.setStyle({verticalAlign:"middle"}),Ht){F.setStyle({align:Qt});var It=F.states.select;It&&(It.x+=F.x,It.y+=F.y)}else{var St=new le(0,0,0,0);bz(St,F),e.push({label:F,labelLine:H,position:Y,len:st,len2:lt,minTurnAngle:rt.get("minTurnAngle"),maxSurfaceAngle:rt.get("maxSurfaceAngle"),surfaceNormal:new ae(pt,xt),linePoints:Vt,textAlign:Qt,labelDistance:Z,labelAlignTo:et,edgeDistance:J,bleedMargin:it,rect:St,unconstrainedWidth:St.width,labelStyleWidth:F.style.width})}V.setTextConfig({inside:Ht})}}),!a&&r.get("avoidLabelOverlap")&&uct(e,n,i,h,v,m,g,y);for(var E=0;E<e.length;E++){var C=e[E],A=C.label,M=C.labelLine,L=isNaN(A.x)||isNaN(A.y);if(A){A.setStyle({align:C.textAlign}),L&&(j(A.states,b),A.ignore=!0);var R=A.states.select;R&&(R.x+=A.x,R.y+=A.y)}if(M){var O=C.linePoints;L||!O?(j(M.states,b),M.ignore=!0):(H6(O,C.minTurnAngle),Nlt(O,C.surfaceNormal,C.maxSurfaceAngle),M.setShape({points:O}),A.__hostTarget.textGuideLineConfig={anchor:new ae(O[0][0],O[0][1])})}}}var hct=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this)||this;a.z2=2;var o=new Oe;return a.setTextContent(o),a.updateData(e,n,i,!0),a}return t.prototype.updateData=function(e,n,i,a){var o=this,c=e.hostModel,h=e.getItemModel(n),v=h.getModel("emphasis"),g=e.getItemLayout(n),y=At(xo(h.getModel("itemStyle"),g,!0),g);if(isNaN(y.startAngle)){o.setShape(y);return}if(a){o.setShape(y);var m=c.getShallow("animationType");c.ecModel.ssr?(hr(o,{scaleX:0,scaleY:0},c,{dataIndex:n,isFrom:!0}),o.originX=y.cx,o.originY=y.cy):m==="scale"?(o.shape.r=g.r0,hr(o,{shape:{r:g.r}},c,n)):i!=null?(o.setShape({startAngle:i,endAngle:i}),hr(o,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},c,n)):(o.shape.endAngle=g.startAngle,Pe(o,{shape:{endAngle:g.endAngle}},c,n))}else ca(o),Pe(o,{shape:y},c,n);o.useStyle(e.getItemVisual(n,"style")),rn(o,h);var b=(g.startAngle+g.endAngle)/2,S=c.get("selectedOffset"),E=Math.cos(b)*S,C=Math.sin(b)*S,A=h.getShallow("cursor");A&&o.attr("cursor",A),this._updateLabel(c,e,n),o.ensureState("emphasis").shape=At({r:g.r+(v.get("scale")&&v.get("scaleSize")||0)},xo(v.getModel("itemStyle"),g)),At(o.ensureState("select"),{x:E,y:C,shape:xo(h.getModel(["select","itemStyle"]),g)}),At(o.ensureState("blur"),{shape:xo(h.getModel(["blur","itemStyle"]),g)});var M=o.getTextGuideLine(),L=o.getTextContent();M&&At(M.ensureState("select"),{x:E,y:C}),At(L.ensureState("select"),{x:E,y:C}),gr(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},t.prototype._updateLabel=function(e,n,i){var a=this,o=n.getItemModel(i),c=o.getModel("labelLine"),h=n.getItemVisual(i,"style"),v=h&&h.fill,g=h&&h.opacity;fn(a,nn(o),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:v,defaultOpacity:g,defaultText:e.getFormattedLabel(i,"normal")||n.getName(i)});var y=a.getTextContent();a.setTextConfig({position:null,rotation:null}),y.attr({z2:10});var m=o.get(["label","position"]);if(m!=="outside"&&m!=="outer")a.removeTextGuideLine();else{var b=this.getTextGuideLine();b||(b=new In,this.setTextGuideLine(b)),ZA(this,KA(o),{stroke:v,opacity:Fi(c.get(["lineStyle","opacity"]),g,1)})}},t})($n),pct=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,i,a){var o=e.getData(),c=this._data,h=this.group,v;if(!c&&o.count()>0){for(var g=o.getItemLayout(0),y=1;isNaN(g&&g.startAngle)&&y<o.count();++y)g=o.getItemLayout(y);g&&(v=g.startAngle)}if(this._emptyCircleSector&&h.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var m=mz(e),b=new $n({shape:ne(m)});b.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=b,h.add(b)}o.diff(c).add(function(S){var E=new hct(o,S,v);o.setItemGraphicEl(S,E),h.add(E)}).update(function(S,E){var C=c.getItemGraphicEl(E);C.updateData(o,S,v),C.off("click"),h.add(C),o.setItemGraphicEl(S,C)}).remove(function(S){var E=c.getItemGraphicEl(S);ls(E,e,S)}).execute(),fct(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=e[0]-a.cx,c=e[1]-a.cy,h=Math.sqrt(o*o+c*c);return h<=a.r&&h>=a.r0}},t.type="pie",t})(Ke);function Hh(r,t,e){t=Rt(t)&&{coordDimensions:t}||At({encodeDefine:r.getEncode()},t);var n=r.getSource(),i=Bv(n,t).dimensions,a=new ui(i,r);return a.initData(n,e),a}var zh=(function(){function r(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},r.prototype.getItemVisual=function(t,e){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,e)},r})(),dct=xe(),Sz=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new zh(qt(this.getData,this),qt(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Hh(this,{coordDimensions:["value"],encodeDefaulter:de(LA,this)})},t.prototype.getDataParams=function(e){var n=this.getData(),i=dct(n),a=i.seats;if(!a){var o=[];n.each(n.mapDimension("value"),function(h){o.push(h)}),a=i.seats=Get(o,n.hostModel.get("percentPrecision"))}var c=r.prototype.getDataParams.call(this,e);return c.percent=a[e]||0,c.$vars.push("percent"),c},t.prototype._defaultLabelLine=function(e){vc(e,"labelLine",["show"]);var n=e.labelLine,i=e.emphasis.labelLine;n.show=n.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t})(or);Tit({fullType:Sz.type,getCoord2:function(r){return r.getShallow("center")}});function vct(r){return{seriesType:r,reset:function(t,e){var n=t.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),o=n.get(a,i);return!(Re(o)&&!isNaN(o)&&o<0)})}}}function gct(r){r.registerChartView(pct),r.registerSeriesModel(Sz),B4("pie",r.registerAction),r.registerLayout(de(sct,"pie")),r.registerProcessor(Bh("pie")),r.registerProcessor(vct("pie"))}var yct=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return Cs(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,n,i){return i.point(n.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:yt.color.primary}},universalTransition:{divideShape:"clone"}},t})(or),wz=4,mct=(function(){function r(){}return r})(),_ct=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new mct},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,n){var i=n.points,a=n.size,o=this.symbolProxy,c=o.shape,h=e.getContext?e.getContext():e,v=h&&a[0]<wz,g=this.softClipShape,y;if(v){this._ctx=h;return}for(this._ctx=null,y=this._off;y<i.length;){var m=i[y++],b=i[y++];isNaN(m)||isNaN(b)||g&&!g.contain(m,b)||(c.x=m-a[0]/2,c.y=b-a[1]/2,c.width=a[0],c.height=a[1],o.buildPath(e,c,!0))}this.incremental&&(this._off=y,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,n=e.points,i=e.size,a=this._ctx,o=this.softClipShape,c;if(a){for(c=this._off;c<n.length;){var h=n[c++],v=n[c++];isNaN(h)||isNaN(v)||o&&!o.contain(h,v)||a.fillRect(h-i[0]/2,v-i[1]/2,i[0],i[1])}this.incremental&&(this._off=c,this.notClear=!0)}},t.prototype.findDataIndex=function(e,n){for(var i=this.shape,a=i.points,o=i.size,c=Math.max(o[0],4),h=Math.max(o[1],4),v=a.length/2-1;v>=0;v--){var g=v*2,y=a[g]-c/2,m=a[g+1]-h/2;if(e>=y&&n>=m&&e<=y+c&&n<=m+h)return v}return-1},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=i[0],n=i[1],a.contain(e,n)){var o=this.hoverDataIdx=this.findDataIndex(e,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,i=n.points,a=n.size,o=a[0],c=a[1],h=1/0,v=1/0,g=-1/0,y=-1/0,m=0;m<i.length;){var b=i[m++],S=i[m++];h=Math.min(b,h),g=Math.max(b,g),v=Math.min(S,v),y=Math.max(S,y)}e=this._rect=new le(h-o/2,v-c/2,g-h+o,y-v+c)}return e},t})(Ee),bct=(function(){function r(){this.group=new re}return r.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},r.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;e=new Float32Array(e.buffer,a,i)}n.setShape("points",e),n.reset()})},r.prototype.incrementalPrepareUpdate=function(t){this._clear()},r.prototype.incrementalUpdate=function(t,e,n){var i=this._newAdded[0],a=e.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var c=o.length,h=new Float32Array(c+a.length);h.set(o),h.set(a,c),i.endIndex=t.end,i.setShape({points:h})}else{this._newAdded=[];var v=this._create();v.startIndex=t.start,v.endIndex=t.end,v.incremental=!0,v.setShape({points:a}),this._setCommon(v,e,n)}},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new _ct({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},r.prototype._setCommon=function(t,e,n){var i=e.hostModel;n=n||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=Xr(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<wz;t.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var c=e.getVisual("style"),h=c&&c.fill;h&&t.setColor(h);var v=ce(t);v.seriesIndex=i.seriesIndex,t.on("mousemove",function(g){v.dataIndex=null;var y=t.hoverDataIdx;y>=0&&(v.dataIndex=y+(t.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r})(),Sct=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._updateSymbolDraw(a,e);o.updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,i){var a=e.getData(),o=this._updateSymbolDraw(a,e);o.incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,n,i){this._symbolDraw.incrementalUpdate(e,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=e.end===n.getData().count()},t.prototype.updateTransform=function(e,n,i){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=jv("").reset(e,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var n=e.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,n){var i=this._symbolDraw,a=n.pipelineContext,o=a.large;return(!i||o!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=o?new bct:new Uv,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t})(Ke),xz={left:0,right:0,top:0,bottom:0},Y0=["25%","25%"],wct=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.mergeDefaultAndTheme=function(e,n){var i=Dc(e.outerBounds);r.prototype.mergeDefaultAndTheme.apply(this,arguments),i&&e.outerBounds&&Oo(e.outerBounds,i)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&e.outerBounds&&Oo(this.option.outerBounds,e.outerBounds)},t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:xz,outerBoundsContain:"all",outerBoundsClampWidth:Y0[0],outerBoundsClampHeight:Y0[1],backgroundColor:yt.color.transparent,borderWidth:1,borderColor:yt.color.neutral30},t})(Te),LT=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Cr).models[0]},t.type="cartesian2dAxis",t})(Te);Zr(LT,Hv);var Ez={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:yt.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:yt.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:yt.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[yt.color.backgroundTint,yt.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:yt.color.neutral00,borderColor:yt.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},xct=ge({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},Ez),iM=ge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:yt.color.axisMinorSplitLine,width:1}}},Ez),Ect=ge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},iM),Tct=oe({logBase:10},iM);const Tz={category:xct,value:iM,time:Ect,log:Tct};var Cct={value:1,category:1,time:1,log:1},NT=null;function Act(r){NT||(NT=r)}function Yv(){return NT}function Sh(r,t,e,n){j(Cct,function(i,a){var o=ge(ge({},Tz[a],!0),n,!0),c=(function(h){bt(v,h);function v(){var g=h!==null&&h.apply(this,arguments)||this;return g.type=t+"Axis."+a,g}return v.prototype.mergeDefaultAndTheme=function(g,y){var m=lv(this),b=m?Dc(g):{},S=y.getTheme();ge(g,S.get(a+"Axis")),ge(g,this.getDefaultOption()),g.type=Hk(g),m&&Oo(g,b,m)},v.prototype.optionUpdated=function(){var g=this.option;g.type==="category"&&(this.__ordinalMeta=dv.createByAxisModel(this))},v.prototype.getCategories=function(g){var y=this.option;if(y.type==="category")return g?y.data:this.__ordinalMeta.categories},v.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},v.prototype.updateAxisBreaks=function(g){var y=Yv();return y?y.updateModelAxisBreak(this,g):{breaks:[]}},v.type=t+"Axis."+a,v.defaultOption=o,v})(e);r.registerComponentModel(c)}),r.registerSubTypeDefaulter(t+"Axis",Hk)}function Hk(r){return r.type||(r.data?"category":"value")}var Mct=(function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return Pt(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),je(this.getAxes(),function(e){return e.scale.type===t})},r.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},r})(),RT=["x","y"];function zk(r){return(r.type==="interval"||r.type==="time")&&!r.hasBreaks()}var Dct=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=RT,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!zk(e)||!zk(n))){var i=e.getExtent(),a=n.getExtent(),o=this.dataToPoint([i[0],a[0]]),c=this.dataToPoint([i[1],a[1]]),h=i[1]-i[0],v=a[1]-a[0];if(!(!h||!v)){var g=(c[0]-o[0])/h,y=(c[1]-o[1])/v,m=o[0]-i[0]*g,b=o[1]-a[0]*y,S=this._transform=[g,0,0,y,m,b];this._invTransform=Ra([],S)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,n){var i=this.dataToPoint(e),a=this.dataToPoint(n),o=this.getArea(),c=new le(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(c)},t.prototype.dataToPoint=function(e,n,i){i=i||[];var a=e[0],o=e[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return Vr(i,e,this._transform);var c=this.getAxis("x"),h=this.getAxis("y");return i[0]=c.toGlobalCoord(c.dataToCoord(a,n)),i[1]=h.toGlobalCoord(h.dataToCoord(o,n)),i},t.prototype.clampData=function(e,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),c=a.getExtent(),h=i.parse(e[0]),v=a.parse(e[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),h),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(c[0],c[1]),v),Math.max(c[0],c[1])),n},t.prototype.pointToData=function(e,n,i){if(i=i||[],this._invTransform)return Vr(i,e,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(e[0]),n),i[1]=o.coordToData(o.toLocalCoord(e[1]),n),i},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-e,o=Math.min(i[0],i[1])-e,c=Math.max(n[0],n[1])-a+e,h=Math.max(i[0],i[1])-o+e;return new le(a,o,c,h)},t})(Mct),Cz=(function(r){bt(t,r);function t(e,n,i,a,o){var c=r.call(this,e,n,i)||this;return c.index=0,c.type=a||"value",c.position=o||"bottom",c}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),e&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(e,n){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t})(Va),eb="expandAxisBreak",Az="collapseAxisBreak",Mz="toggleAxisBreak",aM="axisbreakchanged",Lct={type:eb,event:aM,update:"update",refineEvent:oM},Nct={type:Az,event:aM,update:"update",refineEvent:oM},Rct={type:Mz,event:aM,update:"update",refineEvent:oM};function oM(r,t,e,n){var i=[];return j(r,function(a){i=i.concat(a.eventBreaks)}),{eventContent:{breaks:i}}}function Ict(r){r.registerAction(Lct,t),r.registerAction(Nct,t),r.registerAction(Rct,t);function t(e,n){var i=[],a=ih(n,e);function o(c,h){j(a[c],function(v){var g=v.updateAxisBreaks(e);j(g.breaks,function(y){var m;i.push(oe((m={},m[h]=v.componentIndex,m),y))})})}return o("xAxisModels","xAxisIndex"),o("yAxisModels","yAxisIndex"),o("singleAxisModels","singleAxisIndex"),{eventBreaks:i}}}var hl=Math.PI,Oct=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],Pct=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],wh=xe(),Dz=xe(),Lz=(function(){function r(t){this.recordMap={},this.resolveAxisNameOverlap=t}return r.prototype.ensureRecord=function(t){var e=t.axis.dim,n=t.componentIndex,i=this.recordMap,a=i[e]||(i[e]=[]);return a[n]||(a[n]={ready:{}})},r})();function kct(r,t,e,n){var i=e.axis,a=t.ensureRecord(e),o=[],c,h=sM(r.axisName)&&_h(r.nameLocation);j(n,function(S){var E=Po(S);if(!(!E||E.label.ignore)){o.push(E);var C=a.transGroup;h&&(C.transform?Ra(qp,C.transform):A_(qp),E.transform&&To(qp,qp,E.transform),le.copy(sm,E.localRect),sm.applyTransform(qp),c?c.union(sm):le.copy(c=new le(0,0,0,0),sm))}});var v=Math.abs(a.dirVec.x)>.1?"x":"y",g=a.transGroup[v];if(o.sort(function(S,E){return Math.abs(S.label[v]-g)-Math.abs(E.label[v]-g)}),h&&c){var y=i.getExtent(),m=Math.min(y[0],y[1]),b=Math.max(y[0],y[1])-m;c.union(new le(m,0,b,1))}a.stOccupiedRect=c,a.labelInfoList=o}var qp=_n(),sm=new le(0,0,0,0),Nz=function(r,t,e,n,i,a){if(_h(r.nameLocation)){var o=a.stOccupiedRect;o&&Rz(Olt({},o,a.transGroup.transform),n,i)}else Iz(a.labelInfoList,a.dirVec,n,i)};function Rz(r,t,e){var n=new ae;Q_(r,t,n,{direction:Math.atan2(e.y,e.x),bidirectional:!1,touchThreshold:.05})&&xT(t,n)}function Iz(r,t,e,n){for(var i=ae.dot(n,t)>=0,a=0,o=r.length;a<o;a++){var c=r[i?a:o-1-a];c.label.ignore||Rz(c,e,n)}}var ci=(function(){function r(t,e,n,i){this.group=new re,this._axisModel=t,this._api=e,this._local={},this._shared=i||new Lz(Nz),this._resetCfgDetermined(n)}return r.prototype.updateCfg=function(t){var e=this._cfg.raw;e.position=t.position,e.labelOffset=t.labelOffset,this._resetCfgDetermined(e)},r.prototype.__getRawCfg=function(){return this._cfg.raw},r.prototype._resetCfgDetermined=function(t){var e=this._axisModel,n=e.getDefaultOption?e.getDefaultOption():{},i=Jt(t.axisName,e.get("name")),a=e.get("nameMoveOverlap");(a==null||a==="auto")&&(a=Jt(t.defaultNameMoveOverlap,!0));var o={raw:t,position:t.position,rotation:t.rotation,nameDirection:Jt(t.nameDirection,1),tickDirection:Jt(t.tickDirection,1),labelDirection:Jt(t.labelDirection,1),labelOffset:Jt(t.labelOffset,0),silent:Jt(t.silent,!0),axisName:i,nameLocation:Fi(e.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:sM(i)&&a,optionHideOverlap:e.get(["axisLabel","hideOverlap"]),showMinorTicks:e.get(["minorTick","show"])};this._cfg=o;var c=new re({x:o.position[0],y:o.position[1],rotation:o.rotation});c.updateTransform(),this._transformGroup=c;var h=this._shared.ensureRecord(e);h.transGroup=this._transformGroup,h.dirVec=new ae(Math.cos(-o.rotation),Math.sin(-o.rotation))},r.prototype.build=function(t,e){var n=this;return t||(t={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),j(Vct,function(i){t[i]&&Gct[i](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,e||{})}),this},r.innerTextLayout=function(t,e,n){var i=RB(e-t),a,o;return rv(i)?(o=n>0?"top":"bottom",a="center"):rv(i-hl)?(o=n>0?"bottom":"top",a="center"):(o="middle",i>0&&i<hl?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},r.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},r.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},r})(),Vct=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],Gct={axisLine:function(r,t,e,n,i,a,o){var c=n.get(["axisLine","show"]);if(c==="auto"&&(c=!0,r.raw.axisLineAutoShow!=null&&(c=!!r.raw.axisLineAutoShow)),!!c){var h=n.axis.getExtent(),v=a.transform,g=[h[0],0],y=[h[1],0],m=g[0]>y[0];v&&(Vr(g,g,v),Vr(y,y,v));var b=At({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),S={strokeContainThreshold:r.raw.strokeContainThreshold||5,silent:!0,z2:1,style:b};if(n.get(["axisLine","breakLine"])&&n.axis.scale.hasBreaks())Yv().buildAxisBreakLine(n,i,a,S);else{var E=new Wr(At({shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]}},S));dh(E.shape,E.style.lineWidth),E.anid="line",i.add(E)}var C=n.get(["axisLine","symbol"]);if(C!=null){var A=n.get(["axisLine","symbolSize"]);$t(C)&&(C=[C,C]),($t(A)||Re(A))&&(A=[A,A]);var M=Nc(n.get(["axisLine","symbolOffset"])||0,A),L=A[0],R=A[1];j([{rotate:r.rotation+Math.PI/2,offset:M[0],r:0},{rotate:r.rotation-Math.PI/2,offset:M[1],r:Math.sqrt((g[0]-y[0])*(g[0]-y[0])+(g[1]-y[1])*(g[1]-y[1]))}],function(O,P){if(C[P]!=="none"&&C[P]!=null){var V=Xr(C[P],-L/2,-R/2,L,R,b.stroke,!0),k=O.r+O.offset,F=m?y:g;V.attr({rotation:O.rotate,x:F[0]+k*Math.cos(r.rotation),y:F[1]-k*Math.sin(r.rotation),silent:!0,z2:11}),i.add(V)}})}}},axisTickLabelEstimate:function(r,t,e,n,i,a,o,c){var h=Wk(t,i,c);h&&Uk(r,t,e,n,i,a,o,Oa.estimate)},axisTickLabelDetermine:function(r,t,e,n,i,a,o,c){var h=Wk(t,i,c);h&&Uk(r,t,e,n,i,a,o,Oa.determine);var v=zct(r,i,a,n);Hct(r,t.labelLayoutList,v),Uct(r,i,a,n,r.tickDirection)},axisName:function(r,t,e,n,i,a,o,c){var h=e.ensureRecord(n);t.nameEl&&(i.remove(t.nameEl),t.nameEl=h.nameLayout=h.nameLocation=null);var v=r.axisName;if(sM(v)){var g=r.nameLocation,y=r.nameDirection,m=n.getModel("nameTextStyle"),b=n.get("nameGap")||0,S=n.axis.getExtent(),E=n.axis.inverse?-1:1,C=new ae(0,0),A=new ae(0,0);g==="start"?(C.x=S[0]-E*b,A.x=-E):g==="end"?(C.x=S[1]+E*b,A.x=E):(C.x=(S[0]+S[1])/2,C.y=r.labelOffset+y*b,A.y=y);var M=_n();A.transform(Nl(M,M,r.rotation));var L=n.get("nameRotate");L!=null&&(L=L*hl/180);var R,O;_h(g)?R=ci.innerTextLayout(r.rotation,L??r.rotation,y):(R=Fct(r.rotation,g,L||0,S),O=r.raw.axisNameAvailableWidth,O!=null&&(O=Math.abs(O/Math.sin(R.rotation)),!isFinite(O)&&(O=null)));var P=m.getFont(),V=n.get("nameTruncate",!0)||{},k=V.ellipsis,F=Rn(r.raw.nameTruncateMaxWidth,V.maxWidth,O),H=c.nameMarginLevel||0,W=new Oe({x:C.x,y:C.y,rotation:R.rotation,silent:ci.isLabelSilent(n),style:ar(m,{text:v,font:P,overflow:"truncate",width:F,ellipsis:k,fill:m.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:m.get("align")||R.textAlign,verticalAlign:m.get("verticalAlign")||R.textVerticalAlign}),z2:1});if(Ts({el:W,componentModel:n,itemName:v}),W.__fullText=v,W.anid="name",n.get("triggerEvent")){var q=ci.makeAxisEventDataBase(n);q.targetType="axisName",q.name=v,ce(W).eventData=q}a.add(W),W.updateTransform(),t.nameEl=W;var Y=h.nameLayout=Po({label:W,priority:W.z2,defaultAttr:{ignore:W.ignore},marginDefault:_h(g)?Oct[H]:Pct[H]});if(h.nameLocation=g,i.add(W),W.decomposeTransform(),r.shouldNameMoveOverlap&&Y){var Z=e.ensureRecord(n);e.resolveAxisNameOverlap(r,e,n,Y,A,Z)}}}};function Uk(r,t,e,n,i,a,o,c){Pz(t)||Wct(r,t,i,c,n,o);var h=t.labelLayoutList;jct(r,n,h,a),qct(n,r.rotation,h);var v=r.optionHideOverlap;Bct(n,h,v),v&&j6(je(h,function(g){return g&&!g.label.ignore})),kct(r,e,n,h)}function Fct(r,t,e,n){var i=RB(e-r),a,o,c=n[0]>n[1],h=t==="start"&&!c||t!=="start"&&c;return rv(i-hl/2)?(o=h?"bottom":"top",a="center"):rv(i-hl*1.5)?(o=h?"top":"bottom",a="center"):(o="middle",i<hl*1.5&&i>hl/2?a=h?"left":"right":a=h?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function Bct(r,t,e){if(M6(r.axis))return;function n(c,h,v){var g=Po(t[h]),y=Po(t[v]);if(!(!g||!y)){if(c===!1||g.suggestIgnore){bd(g.label);return}if(y.suggestIgnore){bd(y.label);return}var m=.1;if(!e){var b=[0,0,0,0];g=ET({marginForce:b},g),y=ET({marginForce:b},y)}Q_(g,y,null,{touchThreshold:m})&&bd(c?y.label:g.label)}}var i=r.get(["axisLabel","showMinLabel"]),a=r.get(["axisLabel","showMaxLabel"]),o=t.length;n(i,0,1),n(a,o-1,o-2)}function Hct(r,t,e){r.showMinorTicks||j(t,function(n){if(n&&n.label.ignore)for(var i=0;i<e.length;i++){var a=e[i],o=Dz(a),c=wh(n.label);if(o.tickValue!=null&&!o.onBand&&o.tickValue===c.tickValue){bd(a);return}}})}function bd(r){r&&(r.ignore=!0)}function Oz(r,t,e,n,i){for(var a=[],o=[],c=[],h=0;h<r.length;h++){var v=r[h].coord;o[0]=v,o[1]=0,c[0]=v,c[1]=e,t&&(Vr(o,o,t),Vr(c,c,t));var g=new Wr({shape:{x1:o[0],y1:o[1],x2:c[0],y2:c[1]},style:n,z2:2,autoBatch:!0,silent:!0});dh(g.shape,g.style.lineWidth),g.anid=i+"_"+r[h].tickValue,a.push(g);var y=Dz(g);y.onBand=!!r[h].onBand,y.tickValue=r[h].tickValue}return a}function zct(r,t,e,n){var i=n.axis,a=n.getModel("axisTick"),o=a.get("show");if(o==="auto"&&(o=!0,r.raw.axisTickAutoShow!=null&&(o=!!r.raw.axisTickAutoShow)),!o||i.scale.isBlank())return[];for(var c=a.getModel("lineStyle"),h=r.tickDirection*a.get("length"),v=i.getTicksCoords(),g=Oz(v,e.transform,h,oe(c.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),y=0;y<g.length;y++)t.add(g[y]);return g}function Uct(r,t,e,n,i){var a=n.axis,o=n.getModel("minorTick");if(!(!r.showMinorTicks||a.scale.isBlank())){var c=a.getMinorTicksCoords();if(c.length)for(var h=o.getModel("lineStyle"),v=i*o.get("length"),g=oe(h.getLineStyle(),oe(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),y=0;y<c.length;y++)for(var m=Oz(c[y],e.transform,v,g,"minorticks_"+y),b=0;b<m.length;b++)t.add(m[b])}}function Wk(r,t,e){if(Pz(r)){var n=r.axisLabelsCreationContext,i=n.out.noPxChangeTryDetermine;if(e.noPxChange){for(var a=!0,o=0;o<i.length;o++)a=a&&i[o]();if(a)return!1}i.length&&(t.remove(r.labelGroup),IT(r,null,null,null))}return!0}function Wct(r,t,e,n,i,a){var o=i.axis,c=Rn(r.raw.axisLabelShow,i.get(["axisLabel","show"])),h=new re;e.add(h);var v=F0(n);if(!c||o.scale.isBlank()){IT(t,[],h,v);return}var g=i.getModel("axisLabel"),y=o.getViewLabels(v),m=(Rn(r.raw.labelRotate,g.get("rotate"))||0)*hl/180,b=ci.innerTextLayout(r.rotation,m,r.labelDirection),S=i.getCategories&&i.getCategories(!0),E=[],C=i.get("triggerEvent"),A=1/0,M=-1/0;j(y,function(R,O){var P,V=o.scale.type==="ordinal"?o.scale.getRawOrdinalNumber(R.tickValue):R.tickValue,k=R.formattedLabel,F=R.rawLabel,H=g;if(S&&S[V]){var W=S[V];se(W)&&W.textStyle&&(H=new Me(W.textStyle,g,i.ecModel))}var q=H.getTextColor()||i.get(["axisLine","lineStyle","color"]),Y=H.getShallow("align",!0)||b.textAlign,Z=Jt(H.getShallow("alignMinLabel",!0),Y),et=Jt(H.getShallow("alignMaxLabel",!0),Y),J=H.getShallow("verticalAlign",!0)||H.getShallow("baseline",!0)||b.textVerticalAlign,it=Jt(H.getShallow("verticalAlignMinLabel",!0),J),rt=Jt(H.getShallow("verticalAlignMaxLabel",!0),J),st=10+(((P=R.time)===null||P===void 0?void 0:P.level)||0);A=Math.min(A,st),M=Math.max(M,st);var lt=new Oe({x:0,y:0,rotation:0,silent:ci.isLabelSilent(i),z2:st,style:ar(H,{text:k,align:O===0?Z:O===y.length-1?et:Y,verticalAlign:O===0?it:O===y.length-1?rt:J,fill:ee(q)?q(o.type==="category"?F:o.type==="value"?V+"":V,O):q})});lt.anid="label_"+V;var dt=wh(lt);if(dt.break=R.break,dt.tickValue=V,dt.layoutRotation=b.rotation,Ts({el:lt,componentModel:i,itemName:k,formatterParamsExtra:{isTruncated:function(){return lt.isTruncated},value:F,tickIndex:O}}),C){var pt=ci.makeAxisEventDataBase(i);pt.targetType="axisLabel",pt.value=F,pt.tickIndex=O,R.break&&(pt.break={start:R.break.parsedBreak.vmin,end:R.break.parsedBreak.vmax}),o.type==="category"&&(pt.dataIndex=V),ce(lt).eventData=pt,R.break&&$ct(i,a,lt,R.break)}E.push(lt),h.add(lt)});var L=Pt(E,function(R){return{label:R,priority:wh(R).break?R.z2+(M-A+1):R.z2,defaultAttr:{ignore:R.ignore}}});IT(t,L,h,v)}function Pz(r){return!!r.labelLayoutList}function IT(r,t,e,n){r.labelLayoutList=t,r.labelGroup=e,r.axisLabelsCreationContext=n}function jct(r,t,e,n){var i=t.get(["axisLabel","margin"]);j(e,function(a,o){var c=Po(a);if(c){var h=c.label,v=wh(h);c.suggestIgnore=h.ignore,h.ignore=!1,m0(Jo,Yct),Jo.x=t.axis.dataToCoord(v.tickValue),Jo.y=r.labelOffset+r.labelDirection*i,Jo.rotation=v.layoutRotation,n.add(Jo),Jo.updateTransform(),n.remove(Jo),Jo.decomposeTransform(),m0(h,Jo),h.markRedraw(),U0(c,!0),Po(c)}})}var Jo=new we,Yct=new we;function sM(r){return!!r}function $ct(r,t,e,n){e.on("click",function(i){var a={type:eb,breaks:[{start:n.parsedBreak.breakOption.start,end:n.parsedBreak.breakOption.end}]};a[r.axis.dim+"AxisIndex"]=r.componentIndex,t.dispatchAction(a)})}function qct(r,t,e){var n=jr();if(n){var i=n.retrieveAxisBreakPairs(e,function(o){return o&&wh(o.label).break},!0),a=r.get(["breakLabelLayout","moveOverlap"],!0);(a===!0||a==="auto")&&j(i,function(o){Yv().adjustBreakLabelPair(r.axis.inverse,t,[Po(e[o[0]]),Po(e[o[1]])])})}}function $0(r,t,e){e=e||{};var n=t.axis,i={},a=n.getAxesOnZeroOf()[0],o=n.position,c=a?"onZero":o,h=n.dim,v=[r.x,r.x+r.width,r.y,r.y+r.height],g={left:0,right:1,top:0,bottom:1,onZero:2},y=t.get("offset")||0,m=h==="x"?[v[2]-y,v[3]+y]:[v[0]-y,v[1]+y];if(a){var b=a.toGlobalCoord(a.dataToCoord(0));m[g.onZero]=Math.max(Math.min(b,m[1]),m[0])}i.position=[h==="y"?m[g[c]]:v[0],h==="x"?m[g[c]]:v[3]],i.rotation=Math.PI/2*(h==="x"?0:1);var S={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=S[o],i.labelOffset=a?m[g[o]]-m[g.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Rn(e.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var E=t.get(["axisLabel","rotate"]);return i.labelRotate=c==="top"?-E:E,i.z2=1,i}function Xct(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function jk(r){var t={xAxisModel:null,yAxisModel:null};return j(t,function(e,n){var i=n.replace(/Model$/,""),a=r.getReferringComponents(i,Cr).models[0];t[n]=a}),t}function Zct(r,t,e,n,i,a){for(var o=$0(r,e),c=!1,h=!1,v=0;v<t.length;v++)mT(t[v].getOtherAxis(e.axis).scale)&&(c=h=!0,e.axis.type==="category"&&e.axis.onBand&&(h=!1));return o.axisLineAutoShow=c,o.axisTickAutoShow=h,o.defaultNameMoveOverlap=a,new ci(e,n,o,i)}function Kct(r,t,e){var n=$0(t,e);r.updateCfg(n)}function kz(r,t,e){var n=bs.prototype,i=n.getTicks.call(e),a=n.getTicks.call(e,{expandToNicedExtent:!0}),o=i.length-1,c=n.getInterval.call(e),h=A6(r,t),v=h.extent,g=h.fixMin,y=h.fixMax;r.type==="log"&&(v=_T(r.base,v,!0)),r.setBreaksFromOption(D6(t)),r.setExtent(v[0],v[1]),r.calcNiceExtent({splitNumber:o,fixMin:g,fixMax:y});var m=n.getExtent.call(r);g&&(v[0]=m[0]),y&&(v[1]=m[1]);var b=n.getInterval.call(r),S=v[0],E=v[1];if(g&&y)b=(E-S)/o;else if(g)for(E=v[0]+b*o;E<v[1]&&isFinite(E)&&isFinite(v[1]);)b=Dw(b),E=v[0]+b*o;else if(y)for(S=v[1]-b*o;S>v[0]&&isFinite(S)&&isFinite(v[0]);)b=Dw(b),S=v[1]-b*o;else{var C=r.getTicks().length-1;C>o&&(b=Dw(b));var A=b*o;E=Math.ceil(v[1]/b)*b,S=Ur(E-A),S<0&&v[0]>=0?(S=0,E=Ur(A)):E>0&&v[1]<=0&&(E=0,S=-Ur(A))}var M=(i[0].value-a[0].value)/c,L=(i[o].value-a[o].value)/c;n.setExtent.call(r,S+b*M,E+b*L),n.setInterval.call(r,b),(M||L)&&n.setNiceExtent.call(r,S+b,E-b)}var Yk=[[3,1],[0,2]],Jct=(function(){function r(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=RT,this._initCartesian(t,e,n),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model);function i(o){var c,h=De(o),v=h.length;if(v){for(var g=[],y=v-1;y>=0;y--){var m=+h[y],b=o[m],S=b.model,E=b.scale;mT(E)&&S.get("alignTicks")&&S.get("interval")==null?g.push(b):(mh(E,S),mT(E)&&(c=b))}g.length&&(c||(c=g.pop(),mh(c.scale,c.model)),j(g,function(C){kz(C.scale,C.model,c.scale)}))}}i(n.x),i(n.y);var a={};j(n.x,function(o){$k(n,"y",o,a)}),j(n.y,function(o){$k(n,"x",o,a)}),this.resize(this.model,e)},r.prototype.resize=function(t,e,n){var i=an(t,e),a=this._rect=yr(t.getBoxLayoutParams(),i.refContainer),o=this._axesMap,c=this._coordsList,h=t.get("containLabel");if(OT(o,a),!n){var v=eft(a,c,o,h,e),g=void 0;if(h)PT?(PT(this._axesList,a),OT(o,a)):g=Zk(a.clone(),"axisLabel",null,a,o,v,i);else{var y=rft(t,a,i),m=y.outerBoundsRect,b=y.parsedOuterBoundsContain,S=y.outerBoundsClamp;m&&(g=Zk(m,b,S,a,o,v,i))}Vz(a,o,Oa.determine,null,g,i)}j(this._coordsList,function(E){E.calcAffineTransform()})},r.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(n!=null)return n[e||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var n="x"+t+"y"+e;return this._coordsMap[n]}se(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e)return a[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},r.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},r.prototype._findConvertTarget=function(t){var e=t.seriesModel,n=t.xAxisModel||e&&e.getReferringComponents("xAxis",Cr).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",Cr).models[0],a=t.gridModel,o=this._coordsList,c,h;if(e)c=e.coordinateSystem,ve(o,c)<0&&(c=null);else if(n&&i)c=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)h=this.getAxis("x",n.componentIndex);else if(i)h=this.getAxis("y",i.componentIndex);else if(a){var v=a.coordinateSystem;v===this&&(c=this._coordsList[0])}return{cartesian:c,axis:h}},r.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},r.prototype._initCartesian=function(t,e,n){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},c={x:{},y:{}},h={x:0,y:0};if(e.eachComponent("xAxis",v("x"),this),e.eachComponent("yAxis",v("y"),this),!h.x||!h.y){this._axesMap={},this._axesList=[];return}this._axesMap=c,j(c.x,function(g,y){j(c.y,function(m,b){var S="x"+y+"y"+b,E=new Dct(S);E.master=i,E.model=t,i._coordsMap[S]=E,i._coordsList.push(E),E.addAxis(g),E.addAxis(m)})});function v(g){return function(y,m){if(jw(y,t)){var b=y.get("position");g==="x"?b!=="top"&&b!=="bottom"&&(b=o.bottom?"top":"bottom"):b!=="left"&&b!=="right"&&(b=o.left?"right":"left"),o[b]=!0;var S=new Cz(g,J_(y),[0,0],y.get("type"),b),E=S.type==="category";S.onBand=E&&y.get("boundaryGap"),S.inverse=y.get("inverse"),y.axis=S,S.model=y,S.grid=a,S.index=m,a._axesList.push(S),c[g][m]=S,h[g]++}}}},r.prototype._updateScale=function(t,e){j(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(Xct(i)){var a=jk(i),o=a.xAxisModel,c=a.yAxisModel;if(!jw(o,e)||!jw(c,e))return;var h=this.getCartesian(o.componentIndex,c.componentIndex),v=i.getData(),g=h.getAxis("x"),y=h.getAxis("y");n(v,g),n(v,y)}},this);function n(i,a){j(G0(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},r.prototype.getTooltipAxes=function(t){var e=[],n=[];return j(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(a);ve(e,a)<0&&e.push(a),ve(n,o)<0&&n.push(o)}),{baseAxes:e,otherAxes:n}},r.create=function(t,e){var n=[];return t.eachComponent("grid",function(i,a){var o=new r(i,t,e);o.name="grid_"+a,o.resize(i,e,!0),i.coordinateSystem=o,n.push(o)}),t.eachSeries(function(i){Gv({targetModel:i,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var o=jk(i),c=o.xAxisModel,h=o.yAxisModel,v=c.getCoordSysModel(),g=v.coordinateSystem;return g.getCartesian(c.componentIndex,h.componentIndex)}}),n},r.dimensions=RT,r})();function jw(r,t){return r.getCoordSysModel()===t}function $k(r,t,e,n){e.getAxesOnZeroOf=function(){return a?[a]:[]};var i=r[t],a,o=e.model,c=o.get(["axisLine","onZero"]),h=o.get(["axisLine","onZeroAxisIndex"]);if(!c)return;if(h!=null)qk(i[h])&&(a=i[h]);else for(var v in i)if(i.hasOwnProperty(v)&&qk(i[v])&&!n[g(i[v])]){a=i[v];break}a&&(n[g(a)]=!0);function g(y){return y.dim+"_"+y.index}}function qk(r){return r&&r.type!=="category"&&r.type!=="time"&&ilt(r)}function Qct(r,t){var e=r.getExtent(),n=e[0]+e[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+t}:function(i){return n-i+t},r.toLocalCoord=r.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}function OT(r,t){j(r.x,function(e){return Xk(e,t.x,t.width)}),j(r.y,function(e){return Xk(e,t.y,t.height)})}function Xk(r,t,e){var n=[0,e],i=r.inverse?1:0;r.setExtent(n[i],n[1-i]),Qct(r,t)}var PT;function tft(r){PT=r}function Zk(r,t,e,n,i,a,o){Vz(n,i,Oa.estimate,t,!1,o);var c=[0,0,0,0];v(0),v(1),g(n,0,NaN),g(n,1,NaN);var h=Tc(c,function(m){return m>0})==null;return _c(n,c,!0,!0,e),OT(i,n),h;function v(m){j(i[pe[m]],function(b){if(vv(b.model)){var S=a.ensureRecord(b.model),E=S.labelInfoList;if(E)for(var C=0;C<E.length;C++){var A=E[C],M=b.scale.normalize(wh(A.label).tickValue);M=m===1?1-M:M,g(A.rect,m,M),g(A.rect,1-m,NaN)}var L=S.nameLayout;if(L){var M=_h(S.nameLocation)?.5:NaN;g(L.rect,m,M),g(L.rect,1-m,NaN)}}})}function g(m,b,S){var E=r[pe[b]]-m[pe[b]],C=m[Yr[b]]+m[pe[b]]-(r[Yr[b]]+r[pe[b]]);E=y(E,1-S),C=y(C,S);var A=Yk[b][0],M=Yk[b][1];c[A]=Pr(c[A],E),c[M]=Pr(c[M],C)}function y(m,b){return m>0&&!Wn(b)&&b>1e-4&&(m/=b),m}}function eft(r,t,e,n,i){var a=new Lz(nft);return j(e,function(o){return j(o,function(c){if(vv(c.model)){var h=!n;c.axisBuilder=Zct(r,t,c.model,i,a,h)}})}),a}function Vz(r,t,e,n,i,a){var o=e===Oa.determine;j(t,function(v){return j(v,function(g){vv(g.model)&&(Kct(g.axisBuilder,r,g.model),g.axisBuilder.build(o?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:i}))})});var c={x:0,y:0};h(0),h(1);function h(v){c[pe[1-v]]=r[Yr[v]]<=a.refContainer[Yr[v]]*.5?0:1-v===1?2:1}j(t,function(v,g){return j(v,function(y){vv(y.model)&&((n==="all"||o)&&y.axisBuilder.build({axisName:!0},{nameMarginLevel:c[g]}),o&&y.axisBuilder.build({axisLine:!0}))})})}function rft(r,t,e){var n,i=r.get("outerBoundsMode",!0);i==="same"?n=t.clone():(i==null||i==="auto")&&(n=yr(r.get("outerBounds",!0)||xz,e.refContainer));var a=r.get("outerBoundsContain",!0),o;a==null||a==="auto"||ve(["all","axisLabel"],a)<0?o="all":o=a;var c=[b0(Jt(r.get("outerBoundsClampWidth",!0),Y0[0]),t.width),b0(Jt(r.get("outerBoundsClampHeight",!0),Y0[1]),t.height)];return{outerBoundsRect:n,parsedOuterBoundsContain:o,outerBoundsClamp:c}}var nft=function(r,t,e,n,i,a){var o=e.axis.dim==="x"?"y":"x";Nz(r,t,e,n,i,a),_h(r.nameLocation)||j(t.recordMap[o],function(c){c&&c.labelInfoList&&c.dirVec&&Iz(c.labelInfoList,c.dirVec,n,i)})};function ift(r,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return aft(e,r,t),e.seriesInvolved&&sft(e,r),e}function aft(r,t,e){var n=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];j(e.getCoordinateSystems(),function(c){if(!c.axisPointerEnabled)return;var h=_v(c.model),v=r.coordSysAxesInfo[h]={};r.coordSysMap[h]=c;var g=c.model,y=g.getModel("tooltip",n);if(j(c.getAxes(),de(E,!1,null)),c.getTooltipAxes&&n&&y.get("show")){var m=y.get("trigger")==="axis",b=y.get(["axisPointer","type"])==="cross",S=c.getTooltipAxes(y.get(["axisPointer","axis"]));(m||b)&&j(S.baseAxes,de(E,b?"cross":!0,m)),b&&j(S.otherAxes,de(E,"cross",!1))}function E(C,A,M){var L=M.model.getModel("axisPointer",i),R=L.get("show");if(!(!R||R==="auto"&&!C&&!kT(L))){A==null&&(A=L.get("triggerTooltip")),L=C?oft(M,y,i,t,C,A):L;var O=L.get("snap"),P=L.get("triggerEmphasis"),V=_v(M.model),k=A||O||M.type==="category",F=r.axesInfo[V]={key:V,axis:M,coordSys:c,axisPointerModel:L,triggerTooltip:A,triggerEmphasis:P,involveSeries:k,snap:O,useHandle:kT(L),seriesModels:[],linkGroup:null};v[V]=F,r.seriesInvolved=r.seriesInvolved||k;var H=lft(a,M);if(H!=null){var W=o[H]||(o[H]={axesInfo:{}});W.axesInfo[V]=F,W.mapper=a[H].mapper,F.linkGroup=W}}}})}function oft(r,t,e,n,i,a){var o=t.getModel("axisPointer"),c=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],h={};j(c,function(m){h[m]=ne(o.get(m))}),h.snap=r.type!=="category"&&!!a,o.get("type")==="cross"&&(h.type="line");var v=h.label||(h.label={});if(v.show==null&&(v.show=!1),i==="cross"){var g=o.get(["label","show"]);if(v.show=g??!0,!a){var y=h.lineStyle=o.get("crossStyle");y&&oe(v,y.textStyle)}}return r.model.getModel("axisPointer",new Me(h,e,n))}function sft(r,t){t.eachSeries(function(e){var n=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),a=e.get(["tooltip","show"],!0);!n||!n.model||i==="none"||i===!1||i==="item"||a===!1||e.get(["axisPointer","show"],!0)===!1||j(r.coordSysAxesInfo[_v(n.model)],function(o){var c=o.axis;n.getAxis(c.dim)===c&&(o.seriesModels.push(e),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=e.getData().count())})})}function lft(r,t){for(var e=t.model,n=t.dim,i=0;i<r.length;i++){var a=r[i]||{};if(Yw(a[n+"AxisId"],e.id)||Yw(a[n+"AxisIndex"],e.componentIndex)||Yw(a[n+"AxisName"],e.name))return i}}function Yw(r,t){return r==="all"||Rt(r)&&ve(r,t)>=0||r===t}function uft(r){var t=lM(r);if(t){var e=t.axisPointerModel,n=t.axis.scale,i=e.option,a=e.get("status"),o=e.get("value");o!=null&&(o=n.parse(o));var c=kT(e);a==null&&(i.status=c?"show":"hide");var h=n.getExtent().slice();h[0]>h[1]&&h.reverse(),(o==null||o>h[1])&&(o=h[1]),o<h[0]&&(o=h[0]),i.value=o,c&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function lM(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[_v(r)]}function cft(r){var t=lM(r);return t&&t.axisPointerModel}function kT(r){return!!r.get(["handle","show"])}function _v(r){return r.type+"||"+r.id}var Kk={},Ic=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this.axisPointerClass&&uft(e),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,n,i,a){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,n){var i=this._axisPointer;i&&i.remove(n)},t.prototype.dispose=function(e,n){this._disposeAxisPointer(n),r.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,i){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var o=cft(e);o?(this._axisPointer||(this._axisPointer=new a)).render(e,o,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,n){Kk[e]=n},t.getAxisPointerClass=function(e){return e&&Kk[e]},t.type="axis",t})(dr),VT=xe();function Gz(r,t,e,n){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitArea"),o=a.getModel("areaStyle"),c=o.get("color"),h=n.coordinateSystem.getRect(),v=i.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(v.length){var g=c.length,y=VT(r).splitAreaColors,m=Kt(),b=0;if(y)for(var S=0;S<v.length;S++){var E=y.get(v[S].tickValue);if(E!=null){b=(E+(g-1)*S)%g;break}}var C=i.toGlobalCoord(v[0].coord),A=o.getAreaStyle();c=Rt(c)?c:[c];for(var S=1;S<v.length;S++){var M=i.toGlobalCoord(v[S].coord),L=void 0,R=void 0,O=void 0,P=void 0;i.isHorizontal()?(L=C,R=h.y,O=M-L,P=h.height,C=L+O):(L=h.x,R=C,O=h.width,P=M-R,C=R+P);var V=v[S-1].tickValue;V!=null&&m.set(V,b),t.add(new we({anid:V!=null?"area_"+V:null,shape:{x:L,y:R,width:O,height:P},style:oe({fill:c[b]},A),autoBatch:!0,silent:!0})),b=(b+1)%g}VT(r).splitAreaColors=m}}}function Fz(r){VT(r).splitAreaColors=null}var fft=["splitArea","splitLine","minorSplitLine","breakArea"],Bz=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,n,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new re,this.group.add(this._axisGroup),!!vv(e)){this._axisGroup.add(e.axis.axisBuilder.group),j(fft,function(h){e.get([h,"show"])&&hft[h](this,this._axisGroup,e,e.getCoordSysModel(),i)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||Ov(o,this._axisGroup,e),r.prototype.render.call(this,e,n,i,a)}},t.prototype.remove=function(){Fz(this)},t.type="cartesianAxis",t})(Ic),hft={splitLine:function(r,t,e,n,i){var a=e.axis;if(!a.scale.isBlank()){var o=e.getModel("splitLine"),c=o.getModel("lineStyle"),h=c.get("color"),v=o.get("showMinLine")!==!1,g=o.get("showMaxLine")!==!1;h=Rt(h)?h:[h];for(var y=n.coordinateSystem.getRect(),m=a.isHorizontal(),b=0,S=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),E=[],C=[],A=c.getLineStyle(),M=0;M<S.length;M++){var L=a.toGlobalCoord(S[M].coord);if(!(M===0&&!v||M===S.length-1&&!g)){var R=S[M].tickValue;m?(E[0]=L,E[1]=y.y,C[0]=L,C[1]=y.y+y.height):(E[0]=y.x,E[1]=L,C[0]=y.x+y.width,C[1]=L);var O=b++%h.length,P=new Wr({anid:R!=null?"line_"+R:null,autoBatch:!0,shape:{x1:E[0],y1:E[1],x2:C[0],y2:C[1]},style:oe({stroke:h[O]},A),silent:!0});dh(P.shape,A.lineWidth),t.add(P)}}}},minorSplitLine:function(r,t,e,n,i){var a=e.axis,o=e.getModel("minorSplitLine"),c=o.getModel("lineStyle"),h=n.coordinateSystem.getRect(),v=a.isHorizontal(),g=a.getMinorTicksCoords();if(g.length)for(var y=[],m=[],b=c.getLineStyle(),S=0;S<g.length;S++)for(var E=0;E<g[S].length;E++){var C=a.toGlobalCoord(g[S][E].coord);v?(y[0]=C,y[1]=h.y,m[0]=C,m[1]=h.y+h.height):(y[0]=h.x,y[1]=C,m[0]=h.x+h.width,m[1]=C);var A=new Wr({anid:"minor_line_"+g[S][E].tickValue,autoBatch:!0,shape:{x1:y[0],y1:y[1],x2:m[0],y2:m[1]},style:b,silent:!0});dh(A.shape,b.lineWidth),t.add(A)}},splitArea:function(r,t,e,n,i){Gz(r,t,e,n)},breakArea:function(r,t,e,n,i){var a=Yv(),o=e.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(t,r,e,n.coordinateSystem.getRect(),i)}},Hz=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t})(Bz),pft=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=Hz.type,e}return t.type="yAxis",t})(Bz),dft=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,n){this.group.removeAll(),e.get("show")&&this.group.add(new we({shape:e.coordinateSystem.getRect(),style:oe({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t})(dr),Jk={offset:0};function zz(r){r.registerComponentView(dft),r.registerComponentModel(wct),r.registerCoordinateSystem("cartesian2d",Jct),Sh(r,"x",LT,Jk),Sh(r,"y",LT,Jk),r.registerComponentView(Hz),r.registerComponentView(pft),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function vft(r,t){var e=r.coordinateSystem,n=e&&e.type,i=e&&e.getBaseAxis&&e.getBaseAxis(),a=i&&i.scale&&i.scale.type,o=n==="cartesian2d"&&a==="ordinal"||n==="single",c=t.model.get("jitter")>0;return o&&c}var gft=xe();function Qk(r,t,e,n){if(r instanceof Cz){var i=r.scale.type;if(i!=="category"&&i!=="ordinal")return e}var a=r.model,o=a.get("jitter"),c=a.get("jitterOverlap"),h=a.get("jitterMargin")||0,v=r.scale.type==="ordinal"?r.getBandWidth():null;return o>0?c?Uz(e,o,v,n):yft(r,t,e,n,o,h):e}function Uz(r,t,e,n){if(e===null)return r+(Math.random()-.5)*t;var i=e-n*2,a=Math.min(Math.max(0,t),i);return r+(Math.random()-.5)*a}function yft(r,t,e,n,i,a){var o=gft(r);o.items||(o.items=[]);var c=o.items,h=tV(c,t,e,n,i,a,1),v=tV(c,t,e,n,i,a,-1),g=Math.abs(h-e)<Math.abs(v-e)?h:v,y=r.scale.type==="ordinal"?r.getBandWidth():null,m=Math.abs(g-e);return m>i/2||y&&m>y/2-n?Uz(e,i,y,n):(c.push({fixedCoord:t,floatCoord:g,r:n}),g)}function tV(r,t,e,n,i,a,o){for(var c=e,h=0;h<r.length;h++){var v=r[h],g=t-v.fixedCoord,y=c-v.floatCoord,m=g*g+y*y,b=n+v.r+a;if(m<b*b){var S=v.floatCoord+Math.sqrt(b*b-g*g)*o;if(Math.abs(S-e)>i/2)return Number.MAX_VALUE;if(o===1&&S>c||o===-1&&S<c){c=S,h=-1;continue}}}return c}function mft(r){r.eachSeriesByType("scatter",function(t){var e=t.coordinateSystem;if(e&&(e.type==="cartesian2d"||e.type==="single")){var n=e.getBaseAxis?e.getBaseAxis():null,i=n&&vft(t,n);if(i){var a=t.getData();a.each(function(o){var c=n.dim,h=n.orient,v=h==="horizontal"&&n.type!=="category"||h==="vertical"&&n.type==="category",g=a.getItemLayout(o),y=a.getItemVisual(o,"symbolSize"),m=y instanceof Array?(y[1]+y[0])/2:y;if(c==="y"||c==="single"&&v){var b=Qk(n,g[0],g[1],m/2);a.setItemLayout(o,[g[0],b])}else if(c==="x"||c==="single"&&!v){var b=Qk(n,g[1],g[0],m/2);a.setItemLayout(o,[b,g[1]])}})}}})}function _ft(r){_e(zz),r.registerSeriesModel(yct),r.registerChartView(Sct),r.registerLayout(jv("scatter"))}function bft(r){r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,mft)}function Sft(r){r.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){var a=i.getIndicatorAxes();j(a,function(o,c){e.each(e.mapDimension(a[c].dim),function(h,v){n[v]=n[v]||[];var g=i.dataToPoint(h,c);n[v][c]=eV(g)?g:rV(i)})}),e.each(function(o){var c=Tc(n[o],function(h){return eV(h)})||rV(i);n[o].push(c.slice()),e.setItemLayout(o,n[o])})}})}function eV(r){return!isNaN(r[0])&&!isNaN(r[1])}function rV(r){return[r.cx,r.cy]}function wft(r){var t=r.polar;if(t){Rt(t)||(t=[t]);var e=[];j(t,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],Rt(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):e.push(n)}),r.polar=e}j(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var xft=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.coordinateSystem,o=this.group,c=e.getData(),h=this._data;function v(m,b){var S=m.getItemVisual(b,"symbol")||"circle";if(S!=="none"){var E=Gh(m.getItemVisual(b,"symbolSize")),C=Xr(S,-1,-1,2,2),A=m.getItemVisual(b,"symbolRotate")||0;return C.attr({style:{strokeNoScale:!0},z2:100,scaleX:E[0]/2,scaleY:E[1]/2,rotation:A*Math.PI/180||0}),C}}function g(m,b,S,E,C,A){S.removeAll();for(var M=0;M<b.length-1;M++){var L=v(E,C);L&&(L.__dimIdx=M,m[M]?(L.setPosition(m[M]),Mc[A?"initProps":"updateProps"](L,{x:b[M][0],y:b[M][1]},e,C)):L.setPosition(b[M]),S.add(L))}}function y(m){return Pt(m,function(b){return[a.cx,a.cy]})}c.diff(h).add(function(m){var b=c.getItemLayout(m);if(b){var S=new qn,E=new In,C={shape:{points:b}};S.shape.points=y(b),E.shape.points=y(b),hr(S,C,e,m),hr(E,C,e,m);var A=new re,M=new re;A.add(E),A.add(S),A.add(M),g(E.shape.points,b,M,c,m,!0),c.setItemGraphicEl(m,A)}}).update(function(m,b){var S=h.getItemGraphicEl(b),E=S.childAt(0),C=S.childAt(1),A=S.childAt(2),M={shape:{points:c.getItemLayout(m)}};M.shape.points&&(g(E.shape.points,M.shape.points,A,c,m,!1),ca(C),ca(E),Pe(E,M,e),Pe(C,M,e),c.setItemGraphicEl(m,S))}).remove(function(m){o.remove(h.getItemGraphicEl(m))}).execute(),c.eachItemGraphicEl(function(m,b){var S=c.getItemModel(b),E=m.childAt(0),C=m.childAt(1),A=m.childAt(2),M=c.getItemVisual(b,"style"),L=M.fill;o.add(m),E.useStyle(oe(S.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:L})),rn(E,S,"lineStyle"),rn(C,S,"areaStyle");var R=S.getModel("areaStyle"),O=R.isEmpty()&&R.parentModel.isEmpty();C.ignore=O,j(["emphasis","select","blur"],function(V){var k=S.getModel([V,"areaStyle"]),F=k.isEmpty()&&k.parentModel.isEmpty();C.ensureState(V).ignore=F&&O;var H=S.getModel([V,"lineStyle"]).getLineStyle();E.ensureState(V).style=H;var W=k.getAreaStyle();C.ensureState(V).style=W;var q=S.getModel([V,"itemStyle"]).getItemStyle();A.eachChild(function(Y){Y.ensureState(V).style=ne(q)})}),C.useStyle(oe(S.getModel("areaStyle").getAreaStyle(),{fill:L,opacity:.7,decal:M.decal}));var P=S.getModel("emphasis");A.eachChild(function(V){if(V instanceof wn){var k=V.style;V.useStyle(At({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},M))}else V.useStyle(M),V.setColor(L),V.style.strokeNoScale=!0;var F=c.getStore().get(c.getDimensionIndex(V.__dimIdx),b);(F==null||isNaN(F))&&(F=""),fn(V,nn(S),{labelFetcher:c.hostModel,labelDataIndex:b,labelDimIndex:V.__dimIdx,defaultText:F,inheritColor:L,defaultOpacity:M.opacity})}),gr(m,P.get("focus"),P.get("blurScope"),P.get("disabled"))}),this._data=c},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t})(Ke),Eft=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new zh(qt(this.getData,this),qt(this.getRawData,this))},t.prototype.getInitialData=function(e,n){return Hh(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=this.coordinateSystem,c=o.getIndicatorAxes(),h=this.getData().getName(e),v=h===""?this.name:h,g=M4(this,e);return qr("section",{header:v,sortBlocks:!0,blocks:Pt(c,function(y){var m=a.get(a.mapDimension(y.dim),e);return qr("nameValue",{markerType:"subItem",markerColor:g,name:y.name,value:m,sortParam:m})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var n=this.getData(),i=this.coordinateSystem,a=n.getValues(Pt(i.dimensions,function(v){return n.mapDimension(v)}),e),o=0,c=a.length;o<c;o++)if(!isNaN(a[o])){var h=i.getIndicatorAxes();return i.coordToPoint(h[o].dataToCoord(a[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t})(or),Xp=Tz.value;function lm(r,t){return oe({show:t},r)}var Tft=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),c=this.get("axisLabel"),h=this.get("axisName"),v=this.get(["axisName","show"]),g=this.get(["axisName","formatter"]),y=this.get("axisNameGap"),m=this.get("triggerEvent"),b=Pt(this.get("indicator")||[],function(S){S.max!=null&&S.max>0&&!S.min?S.min=0:S.min!=null&&S.min<0&&!S.max&&(S.max=0);var E=h;S.color!=null&&(E=oe({color:S.color},h));var C=ge(ne(S),{boundaryGap:e,splitNumber:n,scale:i,axisLine:a,axisTick:o,axisLabel:c,name:S.text,showName:v,nameLocation:"end",nameGap:y,nameTextStyle:E,triggerEvent:m},!1);if($t(g)){var A=C.name;C.name=g.replace("{value}",A??"")}else ee(g)&&(C.name=g(C.name,C));var M=new Me(C,null,this.ecModel);return Zr(M,Hv.prototype),M.mainType="radar",M.componentIndex=this.componentIndex,M},this);this._indicatorModels=b},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:yt.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:ge({lineStyle:{color:yt.color.neutral20}},Xp.axisLine),axisLabel:lm(Xp.axisLabel,!1),axisTick:lm(Xp.axisTick,!1),splitLine:lm(Xp.splitLine,!0),splitArea:lm(Xp.splitArea,!0),indicator:[]},t})(Te),Cft=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group;a.removeAll(),this._buildAxes(e,i),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e,n){var i=e.coordinateSystem,a=i.getIndicatorAxes(),o=Pt(a,function(c){var h=c.model.get("showName")?c.name:"",v=new ci(c.model,n,{axisName:h,position:[i.cx,i.cy],rotation:c.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return v});j(o,function(c){c.build(),this.group.add(c.group)},this)},t.prototype._buildSplitLineAndArea=function(e){var n=e.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var a=e.get("shape"),o=e.getModel("splitLine"),c=e.getModel("splitArea"),h=o.getModel("lineStyle"),v=c.getModel("areaStyle"),g=o.get("show"),y=c.get("show"),m=h.get("color"),b=v.get("color"),S=Rt(m)?m:[m],E=Rt(b)?b:[b],C=[],A=[];function M(et,J,it){var rt=it%J.length;return et[rt]=et[rt]||[],rt}if(a==="circle")for(var L=i[0].getTicksCoords(),R=n.cx,O=n.cy,P=0;P<L.length;P++){if(g){var V=M(C,S,P);C[V].push(new Es({shape:{cx:R,cy:O,r:L[P].coord}}))}if(y&&P<L.length-1){var V=M(A,E,P);A[V].push(new Rv({shape:{cx:R,cy:O,r0:L[P].coord,r:L[P+1].coord}}))}}else for(var k,F=Pt(i,function(et,J){var it=et.getTicksCoords();return k=k==null?it.length-1:Math.min(it.length-1,k),Pt(it,function(rt){return n.coordToPoint(rt.coord,J)})}),H=[],P=0;P<=k;P++){for(var W=[],q=0;q<i.length;q++)W.push(F[q][P]);if(W[0]&&W.push(W[0].slice()),g){var V=M(C,S,P);C[V].push(new In({shape:{points:W}}))}if(y&&H){var V=M(A,E,P-1);A[V].push(new qn({shape:{points:W.concat(H)}}))}H=W.slice().reverse()}var Y=h.getLineStyle(),Z=v.getAreaStyle();j(A,function(et,J){this.group.add(ia(et,{style:oe({stroke:"none",fill:E[J%E.length]},Z),silent:!0}))},this),j(C,function(et,J){this.group.add(ia(et,{style:oe({fill:"none",stroke:S[J%S.length]},Y),silent:!0}))},this)},t.type="radar",t})(dr),Aft=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return a.type="value",a.angle=0,a.name="",a}return t})(Va),Mft=(function(){function r(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=Pt(t.getIndicatorModels(),function(i,a){var o="indicator_"+a,c=new Aft(o,new bs);return c.name=i.get("name"),c.model=i,i.axis=c,this.dimensions.push(o),c},this),this.resize(t,n)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},r.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e],i=n.angle,a=this.cx+t*Math.cos(i),o=this.cy-t*Math.sin(i);return[a,o]},r.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var a=Math.atan2(-n,e),o=1/0,c,h=-1,v=0;v<this._indicatorAxes.length;v++){var g=this._indicatorAxes[v],y=Math.abs(a-g.angle);y<o&&(c=g,h=v,o=y)}return[h,+(c&&c.coordToData(i))]},r.prototype.resize=function(t,e){var n=an(t,e).refContainer,i=t.get("center"),a=Math.min(n.width,n.height)/2;this.cx=Yt(i[0],n.width)+n.x,this.cy=Yt(i[1],n.height)+n.y,this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");($t(o)||Re(o))&&(o=[0,o]),this.r0=Yt(o[0],a),this.r=Yt(o[1],a),j(this._indicatorAxes,function(c,h){c.setExtent(this.r0,this.r);var v=this.startAngle+h*Math.PI*2/this._indicatorAxes.length;v=Math.atan2(Math.sin(v),Math.cos(v)),c.angle=v},this)},r.prototype.update=function(t,e){var n=this._indicatorAxes,i=this._model;j(n,function(c){c.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(c,h){if(!(c.get("coordinateSystem")!=="radar"||t.getComponent("radar",c.get("radarIndex"))!==i)){var v=c.getData();j(n,function(g){g.scale.unionExtentFromData(v,v.mapDimension(g.dim))})}},this);var a=i.get("splitNumber"),o=new bs;o.setExtent(0,a),o.setInterval(1),j(n,function(c,h){kz(c.scale,c.model,o)})},r.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.create=function(t,e){var n=[];return t.eachComponent("radar",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},r.dimensions=[],r})();function Dft(r){r.registerCoordinateSystem("radar",Mft),r.registerComponentModel(Tft),r.registerComponentView(Cft),r.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(n){e.setItemVisual(n,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}function Lft(r){_e(Dft),r.registerChartView(xft),r.registerSeriesModel(Eft),r.registerLayout(Sft),r.registerProcessor(Bh("radar")),r.registerPreprocessor(wft)}var uM=xe();function Nft(r,t,e){uM(r)[t]=e}function Rft(r,t,e){var n=uM(r),i=n[t];i===e&&(n[t]=null)}function nV(r,t){return!!uM(r)[t]}Vo({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},kr);var Ift={axisPointer:1,tooltip:1,brush:1};function Wz(r,t,e){var n=t.getComponentByElement(r.topTarget);if(!n||n===e||Ift.hasOwnProperty(n.mainType))return!1;var i=n.coordinateSystem;if(!i||i.model===e)return!1;var a=bc(n),o=bc(e);return!((a.zlevel-o.zlevel||a.z-o.z)<=0)}var Oc=(function(r){bt(t,r);function t(e){var n=r.call(this)||this;n._zr=e;var i=qt(n._mousedownHandler,n),a=qt(n._mousemoveHandler,n),o=qt(n._mouseupHandler,n),c=qt(n._mousewheelHandler,n),h=qt(n._pinchHandler,n);return n.enable=function(v,g){var y=g.zInfo,m=bc(y.component),b=m.z,S=m.zlevel,E={component:y.component,z:b,zlevel:S,z2:Jt(y.z2,-1/0)},C=At({},g.triggerInfo);this._opt=oe(At({},g),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:E,triggerInfo:C}),v==null&&(v=!0),(!this._enabled||this._controlType!==v)&&(this._enabled=!0,this.disable(),(v===!0||v==="move"||v==="pan")&&(Kp(e,"mousedown",i,E),Kp(e,"mousemove",a,E),Kp(e,"mouseup",o,E)),(v===!0||v==="scale"||v==="zoom")&&(Kp(e,"mousewheel",c,E),Kp(e,"pinch",h,E)))},n.disable=function(){this._enabled=!1,Jp(e,"mousedown",i),Jp(e,"mousemove",a),Jp(e,"mouseup",o),Jp(e,"mousewheel",c),Jp(e,"pinch",h)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype._checkPointer=function(e,n,i){var a=this._opt,o=a.zInfoParsed;if(Wz(e,a.api,o.component))return!1;var c=a.triggerInfo,h=c.roamTrigger,v=!1;return h==="global"&&(v=!0),v||(v=c.isInSelf(e,n,i)),v&&c.isInClip&&!c.isInClip(e,n,i)&&(v=!1),v},t.prototype._decideCursorStyle=function(e,n,i,a){var o=e.target;if(!o&&this._checkPointer(e,n,i))return"grab";if(a)return o&&o.cursor||"default"},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(S2(e)||Zp(e))){for(var n=e.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=e.offsetX,a=e.offsetY;this._checkPointer(e,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){var n=this._zr;if(!(e.gestureEvent==="pinch"||nV(n,"globalPan")||Zp(e))){var i=e.offsetX,a=e.offsetY;if(!this._dragging||!Zm("moveOnMouseMove",e,this._opt)){var o=this._decideCursorStyle(e,i,a,!1);o&&n.setCursorStyle(o);return}n.setCursorStyle("grabbing");var c=this._x,h=this._y,v=i-c,g=a-h;this._x=i,this._y=a,this._opt.preventDefaultMouseMove&&vs(e.event),e.__ecRoamConsumed=!0,iV(this,"pan","moveOnMouseMove",e,{dx:v,dy:g,oldX:c,oldY:h,newX:i,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){if(!Zp(e)){var n=this._zr;if(!S2(e)){this._dragging=!1;var i=this._decideCursorStyle(e,e.offsetX,e.offsetY,!0);i&&n.setCursorStyle(i)}}},t.prototype._mousewheelHandler=function(e){if(!Zp(e)){var n=Zm("zoomOnMouseWheel",e,this._opt),i=Zm("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,o=Math.abs(a),c=e.offsetX,h=e.offsetY;if(!(a===0||!n&&!i)){if(n){var v=o>3?1.4:o>1?1.2:1.1,g=a>0?v:1/v;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",e,{scale:g,originX:c,originY:h,isAvailableBehavior:null})}if(i){var y=Math.abs(a),m=(a>0?1:-1)*(y>3?.4:y>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:m,originX:c,originY:h,isAvailableBehavior:null})}}}},t.prototype._pinchHandler=function(e){if(!(nV(this._zr,"globalPan")||Zp(e))){var n=e.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,e,{scale:n,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t.prototype._checkTriggerMoveZoom=function(e,n,i,a,o){e._checkPointer(a,o.originX,o.originY)&&(vs(a.event),a.__ecRoamConsumed=!0,iV(e,n,i,a,o))},t})(fa);function Zp(r){return r.__ecRoamConsumed}var Oft=xe();function rb(r){var t=Oft(r);return t.roam=t.roam||{},t.uniform=t.uniform||{},t}function Kp(r,t,e,n){for(var i=rb(r),a=i.roam,o=a[t]=a[t]||[],c=0;c<o.length;c++){var h=o[c].zInfoParsed;if((h.zlevel-n.zlevel||h.z-n.z||h.z2-n.z2)<=0)break}o.splice(c,0,{listener:e,zInfoParsed:n}),Pft(r,t)}function Jp(r,t,e){for(var n=rb(r),i=n.roam[t]||[],a=0;a<i.length;a++)if(i[a].listener===e){i.splice(a,1),i.length||kft(r,t);return}}function Pft(r,t){var e=rb(r);e.uniform[t]||r.on(t,e.uniform[t]=function(n){var i=e.roam[t];if(i)for(var a=0;a<i.length;a++)i[a].listener(n)})}function kft(r,t){var e=rb(r),n=e.uniform;n[t]&&(r.off(t,n[t]),n[t]=null)}function iV(r,t,e,n,i){i.isAvailableBehavior=qt(Zm,null,e,n),r.trigger(t,i)}function Zm(r,t,e){var n=e[r];return!r||n&&(!$t(n)||t.event[n+"Key"])}function cM(r,t,e){var n=r.target;n.x+=t,n.y+=e,n.dirty()}function fM(r,t,e,n){var i=r.target,a=r.zoomLimit,o=r.zoom=r.zoom||1;o*=t,o=hM(o,a);var c=o/r.zoom;r.zoom=o,Yz(i,e,n,c),i.dirty()}function jz(r,t,e,n,i,a){var o=new le(0,0,0,0);n.enable(r.get("roam"),{api:t,zInfo:{component:r},triggerInfo:{roamTrigger:r.get("roamTrigger"),isInSelf:function(v,g,y){return o.copy(e.getBoundingRect()),o.applyTransform(e.getComputedTransform()),o.contain(g,y)},isInClip:function(v,g,y){return!a||a.contain(g,y)}}}),i.zoomLimit=r.get("scaleLimit");var c=r.coordinateSystem;i.zoom=c?c.getZoom():1;var h=r.subType+"Roam";n.off("pan").off("zoom").on("pan",function(v){cM(i,v.dx,v.dy),t.dispatchAction({seriesId:r.id,type:h,dx:v.dx,dy:v.dy})}).on("zoom",function(v){fM(i,v.scale,v.originX,v.originY),t.dispatchAction({seriesId:r.id,type:h,zoom:v.scale,originX:v.originX,originY:v.originY}),t.updateLabelLayout()})}function aV(r,t){return r.pointToProjected?r.pointToProjected(t):r.pointToData(t)}function nb(r,t,e){var n=r.getZoom(),i=r.getCenter(),a=t.zoom,o=r.projectedToPoint?r.projectedToPoint(i):r.dataToPoint(i);return t.dx!=null&&t.dy!=null&&(o[0]-=t.dx,o[1]-=t.dy,r.setCenter(aV(r,o))),a!=null&&(a=hM(n*a,e)/n,Yz(r,t.originX,t.originY,a),r.updateTransform(),r.setCenter(aV(r,o)),r.setZoom(a*n)),{center:r.getCenter(),zoom:r.getZoom()}}function Yz(r,t,e,n){r.x-=(t-r.x)*(n-1),r.y-=(e-r.y)*(n-1),r.scaleX*=n,r.scaleY*=n}function hM(r,t){if(t){var e=t.min||0,n=t.max||1/0;r=Math.max(Math.min(n,r),e)}return r}function $z(r){if($t(r)){var t=new DOMParser;r=t.parseFromString(r,"text/xml")}var e=r;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var $w,q0={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},oV=De(q0),X0={"alignment-baseline":"textBaseline","stop-color":"stopColor"},sV=De(X0),Vft=(function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(t,e){e=e||{};var n=$z(t);this._defsUsePending=[];var i=new re;this._root=i;var a=[],o=n.getAttribute("viewBox")||"",c=parseFloat(n.getAttribute("width")||e.width),h=parseFloat(n.getAttribute("height")||e.height);isNaN(c)&&(c=null),isNaN(h)&&(h=null),Ni(n,i,null,!0,!1);for(var v=n.firstChild;v;)this._parseNode(v,i,a,null,!1,!1),v=v.nextSibling;Bft(this._defs,this._defsUsePending),this._defsUsePending=[];var g,y;if(o){var m=ib(o);m.length>=4&&(g={x:parseFloat(m[0]||0),y:parseFloat(m[1]||0),width:parseFloat(m[2]),height:parseFloat(m[3])})}if(g&&c!=null&&h!=null&&(y=Xz(g,{x:0,y:0,width:c,height:h}),!e.ignoreViewBox)){var b=i;i=new re,i.add(b),b.scaleX=b.scaleY=y.scale,b.x=y.x,b.y=y.y}return!e.ignoreRootClip&&c!=null&&h!=null&&i.setClipPath(new we({shape:{x:0,y:0,width:c,height:h}})),{root:i,width:c,height:h,viewBoxRect:g,viewBoxTransform:y,named:a}},r.prototype._parseNode=function(t,e,n,i,a,o){var c=t.nodeName.toLowerCase(),h,v=i;if(c==="defs"&&(a=!0),c==="text"&&(o=!0),c==="defs"||c==="switch")h=e;else{if(!a){var g=$w[c];if(g&&Xt($w,c)){h=g.call(this,t,e);var y=t.getAttribute("name");if(y){var m={name:y,namedFrom:null,svgNodeTagLower:c,el:h};n.push(m),c==="g"&&(v=m)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:c,el:h});e.add(h)}}var b=lV[c];if(b&&Xt(lV,c)){var S=b.call(this,t),E=t.getAttribute("id");E&&(this._defs[E]=S)}}if(h&&h.isGroup)for(var C=t.firstChild;C;)C.nodeType===1?this._parseNode(C,h,n,v,a,o):C.nodeType===3&&o&&this._parseText(C,h),C=C.nextSibling},r.prototype._parseText=function(t,e){var n=new ph({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Xi(e,n),Ni(t,n,this._defsUsePending,!1,!1),Gft(n,e);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var c=n.getBoundingRect();return this._textX+=c.width,e.add(n),n},r.internalField=(function(){$w={g:function(t,e){var n=new re;return Xi(e,n),Ni(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new we;return Xi(e,n),Ni(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new Es;return Xi(e,n),Ni(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new Wr;return Xi(e,n),Ni(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new B_;return Xi(e,n),Ni(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n=t.getAttribute("points"),i;n&&(i=fV(n));var a=new qn({shape:{points:i||[]},silent:!0});return Xi(e,a),Ni(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,e){var n=t.getAttribute("points"),i;n&&(i=fV(n));var a=new In({shape:{points:i||[]},silent:!0});return Xi(e,a),Ni(t,a,this._defsUsePending,!1,!1),a},image:function(t,e){var n=new wn;return Xi(e,n),Ni(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(o);var c=new re;return Xi(e,c),Ni(t,c,this._defsUsePending,!1,!0),c},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",c=new re;return Xi(e,c),Ni(t,c,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),c},path:function(t,e){var n=t.getAttribute("d")||"",i=pH(n);return Xi(e,i),Ni(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}})(),r})(),lV={lineargradient:function(r){var t=parseInt(r.getAttribute("x1")||"0",10),e=parseInt(r.getAttribute("y1")||"0",10),n=parseInt(r.getAttribute("x2")||"10",10),i=parseInt(r.getAttribute("y2")||"0",10),a=new Rh(t,e,n,i);return uV(r,a),cV(r,a),a},radialgradient:function(r){var t=parseInt(r.getAttribute("cx")||"0",10),e=parseInt(r.getAttribute("cy")||"0",10),n=parseInt(r.getAttribute("r")||"0",10),i=new yH(t,e,n);return uV(r,i),cV(r,i),i}};function uV(r,t){var e=r.getAttribute("gradientUnits");e==="userSpaceOnUse"&&(t.global=!0)}function cV(r,t){for(var e=r.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var n=e.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var a={};qz(e,a,a);var o=a.stopColor||e.getAttribute("stop-color")||"#000000",c=a.stopOpacity||e.getAttribute("stop-opacity");if(c){var h=wi(o),v=h&&h[3];v&&(h[3]*=yl(c),o=Co(h,"rgba"))}t.colorStops.push({offset:i,color:o})}e=e.nextSibling}}function Xi(r,t){r&&r.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),oe(t.__inheritedStyle,r.__inheritedStyle))}function fV(r){for(var t=ib(r),e=[],n=0;n<t.length;n+=2){var i=parseFloat(t[n]),a=parseFloat(t[n+1]);e.push([i,a])}return e}function Ni(r,t,e,n,i){var a=t,o=a.__inheritedStyle=a.__inheritedStyle||{},c={};r.nodeType===1&&(Uft(r,t),qz(r,o,c),n||Wft(r,o,c)),a.style=a.style||{},o.fill!=null&&(a.style.fill=hV(a,"fill",o.fill,e)),o.stroke!=null&&(a.style.stroke=hV(a,"stroke",o.stroke,e)),j(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(h){o[h]!=null&&(a.style[h]=parseFloat(o[h]))}),j(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(h){o[h]!=null&&(a.style[h]=o[h])}),i&&(a.__selfStyle=c),o.lineDash&&(a.style.lineDash=Pt(ib(o.lineDash),function(h){return parseFloat(h)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(a.invisible=!0),o.display==="none"&&(a.ignore=!0)}function Gft(r,t){var e=t.__selfStyle;if(e){var n=e.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),r.style.textBaseline=i}var a=t.__inheritedStyle;if(a){var o=a.textAlign,c=o;o&&(o==="middle"&&(c="center"),r.style.textAlign=c)}}var Fft=/^url\(\s*#(.*?)\)/;function hV(r,t,e,n){var i=e&&e.match(Fft);if(i){var a=oa(i[1]);n.push([r,t,a]);return}return e==="none"&&(e=null),e}function Bft(r,t){for(var e=0;e<t.length;e++){var n=t[e];n[0].style[n[1]]=r[n[2]]}}var Hft=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ib(r){return r.match(Hft)||[]}var zft=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,qw=Math.PI/180;function Uft(r,t){var e=r.getAttribute("transform");if(e){e=e.replace(/,/g," ");var n=[],i=null;e.replace(zft,function(y,m,b){return n.push(m,b),""});for(var a=n.length-1;a>0;a-=2){var o=n[a],c=n[a-1],h=ib(o);switch(i=i||_n(),c){case"translate":No(i,i,[parseFloat(h[0]),parseFloat(h[1]||"0")]);break;case"scale":JC(i,i,[parseFloat(h[0]),parseFloat(h[1]||h[0])]);break;case"rotate":Nl(i,i,-parseFloat(h[0])*qw,[parseFloat(h[1]||"0"),parseFloat(h[2]||"0")]);break;case"skewX":var v=Math.tan(parseFloat(h[0])*qw);To(i,[1,0,v,1,0,0],i);break;case"skewY":var g=Math.tan(parseFloat(h[0])*qw);To(i,[1,g,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(h[0]),i[1]=parseFloat(h[1]),i[2]=parseFloat(h[2]),i[3]=parseFloat(h[3]),i[4]=parseFloat(h[4]),i[5]=parseFloat(h[5]);break}}t.setLocalTransform(i)}}var pV=/([^\s:;]+)\s*:\s*([^:;]+)/g;function qz(r,t,e){var n=r.getAttribute("style");if(n){pV.lastIndex=0;for(var i;(i=pV.exec(n))!=null;){var a=i[1],o=Xt(q0,a)?q0[a]:null;o&&(t[o]=i[2]);var c=Xt(X0,a)?X0[a]:null;c&&(e[c]=i[2])}}}function Wft(r,t,e){for(var n=0;n<oV.length;n++){var i=oV[n],a=r.getAttribute(i);a!=null&&(t[q0[i]]=a)}for(var n=0;n<sV.length;n++){var i=sV[n],a=r.getAttribute(i);a!=null&&(e[X0[i]]=a)}}function Xz(r,t){var e=t.width/r.width,n=t.height/r.height,i=Math.min(e,n);return{scale:i,x:-(r.x+r.width/2)*i+(t.x+t.width/2),y:-(r.y+r.height/2)*i+(t.y+t.height/2)}}function jft(r,t){var e=new Vft;return e.parse(r,t)}var Yft=Kt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),$ft=(function(){function r(t,e){this.type="geoSVG",this._usedGraphicMap=Kt(),this._freedGraphics=[],this._mapName=t,this._parsedXML=$z(e)}return r.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=Xft(t.named),n=e.regions,i=e.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(t){var e,n;try{e=t&&jft(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=e.root,Yn(n!=null)}catch(C){throw new Error(`Invalid svg format
`+C.message)}var i=new re;i.add(n),i.isGeoSVGGraphicRoot=!0;var a=e.width,o=e.height,c=e.viewBoxRect,h=this._boundingRect;if(!h){var v=void 0,g=void 0,y=void 0,m=void 0;if(a!=null?(v=0,y=a):c&&(v=c.x,y=c.width),o!=null?(g=0,m=o):c&&(g=c.y,m=c.height),v==null||g==null){var b=n.getBoundingRect();v==null&&(v=b.x,y=b.width),g==null&&(g=b.y,m=b.height)}h=this._boundingRect=new le(v,g,y,m)}if(c){var S=Xz(c,h);n.scaleX=n.scaleY=S.scale,n.x=S.x,n.y=S.y}i.setClipPath(new we({shape:h.plain()}));var E=[];return j(e.named,function(C){Yft.get(C.svgNodeTagLower)!=null&&(E.push(C),qft(C.el))}),{root:i,boundingRect:h,named:E}},r.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},r.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},r})();function qft(r){r.silent=!1,r.isGroup&&r.traverse(function(t){t.silent=!1})}function Xft(r){var t=[],e=Kt();return j(r,function(n){if(n.namedFrom==null){var i=new clt(n.name,n.el);t.push(i),e.set(n.name,i)}}),{regions:t,regionsMap:e}}var GT=[126,25],dV="",Hu=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Gu=0;Gu<Hu.length;Gu++)for(var Lf=0;Lf<Hu[Gu].length;Lf++)Hu[Gu][Lf][0]/=10.5,Hu[Gu][Lf][1]/=-10.5/.75,Hu[Gu][Lf][0]+=GT[0],Hu[Gu][Lf][1]+=GT[1];function Zft(r,t){if(r==="china"){for(var e=0;e<t.length;e++)if(t[e].name===dV)return;t.push(new N6(dV,Pt(Hu,function(n){return{type:"polygon",exterior:n}}),GT))}}var Kft={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function Jft(r,t){if(r==="china"){var e=Kft[t.name];if(e){var n=t.getCenter();n[0]+=e[0]/10.5,n[1]+=-e[1]/(10.5/.75),t.setCenter(n)}}}var Qft=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function tht(r,t){r==="china"&&t.name===""&&t.geometries.push({type:"polygon",exterior:Qft[0]})}var eht="name",rht=(function(){function r(t,e,n){this.type="geoJSON",this._parsedMap=Kt(),this._mapName=t,this._specialAreas=n,this._geoJSON=iht(e)}return r.prototype.load=function(t,e){e=e||eht;var n=this._parsedMap.get(e);if(!n){var i=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:i,boundingRect:nht(i)})}var a=Kt(),o=[];return j(n.regions,function(c){var h=c.name;t&&Xt(t,h)&&(c=c.cloneShallow(h=t[h])),o.push(c),a.set(h,c)}),{regions:o,boundingRect:n.boundingRect||new le(0,0,0,0),regionsMap:a}},r.prototype._parseToRegions=function(t){var e=this._mapName,n=this._geoJSON,i;try{i=n?hlt(n,t):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return Zft(e,i),j(i,function(a){var o=a.name;Jft(e,a),tht(e,a);var c=this._specialAreas&&this._specialAreas[o];c&&a.transformTo(c.left,c.top,c.width,c.height)},this),i},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r})();function nht(r){for(var t,e=0;e<r.length;e++){var n=r[e].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function iht(r){return $t(r)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var Qp=Kt();const Ss={registerMap:function(r,t,e){if(t.svg){var n=new $ft(r,t.svg);Qp.set(r,n)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?e=t.specialAreas:i=t;var n=new rht(r,i,e);Qp.set(r,n)}},getGeoResource:function(r){return Qp.get(r)},getMapForUser:function(r){var t=Qp.get(r);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(r,t,e){var n=Qp.get(r);if(n)return n.load(t,e)}};var pM=["rect","circle","line","ellipse","polygon","polyline","path"],aht=Kt(pM),oht=Kt(pM.concat(["g"])),sht=Kt(pM.concat(["g"])),Zz=xe();function um(r){var t=r.getItemStyle(),e=r.get("areaColor");return e!=null&&(t.fill=e),t}function vV(r){var t=r.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var Kz=(function(){function r(t){var e=this.group=new re,n=this._transformGroup=new re;e.add(n),this.uid=Ph("ec_map_draw"),this._controller=new Oc(t.getZr()),this._controllerHost={target:n},n.add(this._regionsGroup=new re),n.add(this._svgGroup=new re)}return r.prototype.draw=function(t,e,n,i,a){var o=t.mainType==="geo",c=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(L){!c&&L.getHostGeoModel()===t&&(c=L.getData())});var h=t.coordinateSystem,v=this._regionsGroup,g=this._transformGroup,y=h.getTransformInfo(),m=y.raw,b=y.roam,S=!v.childAt(0)||a,E=t.getShallow("clip",!0),C;E?(C=h.getViewRect().clone(),this.group.setClipPath(new we({shape:C.clone()}))):this.group.removeClipPath(),S?(g.x=b.x,g.y=b.y,g.scaleX=b.scaleX,g.scaleY=b.scaleY,g.dirty()):Pe(g,b,t);var A=c&&c.getVisual("visualMeta")&&c.getVisual("visualMeta").length>0,M={api:n,geo:h,mapOrGeoModel:t,data:c,isVisualEncodedByVisualMap:A,isGeo:o,transformInfoRaw:m};h.resourceType==="geoJSON"?this._buildGeoJSON(M):h.resourceType==="geoSVG"&&this._buildSVG(M),this._updateController(t,C,e,n),this._updateMapSelectHandler(t,v,n,i)},r.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Kt(),n=Kt(),i=this._regionsGroup,a=t.transformInfoRaw,o=t.mapOrGeoModel,c=t.data,h=t.geo.projection,v=h&&h.stream;function g(b,S){return S&&(b=S(b)),b&&[b[0]*a.scaleX+a.x,b[1]*a.scaleY+a.y]}function y(b){for(var S=[],E=!v&&h&&h.project,C=0;C<b.length;++C){var A=g(b[C],E);A&&S.push(A)}return S}function m(b){return{shape:{points:y(b)}}}i.removeAll(),j(t.geo.regions,function(b){var S=b.name,E=e.get(S),C=n.get(S)||{},A=C.dataIdx,M=C.regionModel;if(!E){E=e.set(S,new re),i.add(E),A=c?c.indexOfName(S):null,M=t.isGeo?o.getRegionModel(S):c?c.getItemModel(A):null;var L=M.get("silent",!0);L!=null&&(E.silent=L),n.set(S,{dataIdx:A,regionModel:M})}var R=[],O=[];j(b.geometries,function(k){if(k.type==="polygon"){var F=[k.exterior].concat(k.interiors||[]);v&&(F=SV(F,v)),j(F,function(W){R.push(new qn(m(W)))})}else{var H=k.points;v&&(H=SV(H,v,!0)),j(H,function(W){O.push(new In(m(W)))})}});var P=g(b.getCenter(),h&&h.project);function V(k,F){if(k.length){var H=new z_({culling:!0,segmentIgnoreThreshold:1,shape:{paths:k}});E.add(H),gV(t,H,A,M),yV(t,H,S,M,o,A,P),F&&(vV(H),j(H.states,vV))}}V(R),V(O,!0)}),e.each(function(b,S){var E=n.get(S),C=E.dataIdx,A=E.regionModel;mV(t,b,S,A,o,C),_V(t,b,S,A,o),bV(t,b,S,A,o)},this)},r.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=Kt(),a=!1;j(this._svgGraphicRecord.named,function(o){var c=o.name,h=t.mapOrGeoModel,v=t.data,g=o.svgNodeTagLower,y=o.el,m=v?v.indexOfName(c):null,b=h.getRegionModel(c);aht.get(g)!=null&&y instanceof ua&&gV(t,y,m,b),y instanceof ua&&(y.culling=!0);var S=b.get("silent",!0);if(S!=null&&(y.silent=S),y.z2EmphasisLift=0,!o.namedFrom&&(sht.get(g)!=null&&yV(t,y,c,b,h,m,null),mV(t,y,c,b,h,m),_V(t,y,c,b,h),oht.get(g)!=null)){var E=bV(t,y,c,b,h);E==="self"&&(a=!0);var C=i.get(c)||i.set(c,[]);C.push(y)}},this),this._enableBlurEntireSVG(a,t)},r.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){mc(a);var o=a.ensureState("blur").style||{};o.opacity==null&&i!=null&&(o.opacity=i),a.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(t,e){if(t==null)return[];var n=e.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},r.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},r.prototype._useSVG=function(t){var e=Ss.getGeoResource(t);if(e&&e.type==="geoSVG"){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},r.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var e=Ss.getGeoResource(t);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(t,e,n,i){var a=t.coordinateSystem,o=this._controller,c=this._controllerHost;c.zoomLimit=t.get("scaleLimit"),c.zoom=a.getZoom(),o.enable(t.get("roam")||!1,{api:i,zInfo:{component:t},triggerInfo:{roamTrigger:t.get("roamTrigger"),isInSelf:function(g,y,m){return a.containPoint([y,m])},isInClip:function(g,y,m){return!e||e.contain(y,m)}}});var h=t.mainType;function v(){var g={type:"geoRoam",componentType:h};return g[h+"Id"]=t.id,g}o.off("pan").on("pan",function(g){this._mouseDownFlag=!1,cM(c,g.dx,g.dy),i.dispatchAction(At(v(),{dx:g.dx,dy:g.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(g){this._mouseDownFlag=!1,fM(c,g.scale,g.originX,g.originY),i.dispatchAction(At(v(),{totalZoom:c.zoom,zoom:g.scale,originX:g.originX,originY:g.originY,animation:{duration:0}}))},this)},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=Zz(e).ignore)})},r.prototype._updateMapSelectHandler=function(t,e,n,i){var a=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){a._mouseDownFlag=!0}),e.on("click",function(o){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},r})();function gV(r,t,e,n){var i=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),o=n.getModel(["blur","itemStyle"]),c=n.getModel(["select","itemStyle"]),h=um(i),v=um(a),g=um(c),y=um(o),m=r.data;if(m){var b=m.getItemVisual(e,"style"),S=m.getItemVisual(e,"decal");r.isVisualEncodedByVisualMap&&b.fill&&(h.fill=b.fill),S&&(h.decal=gh(S,r.api))}t.setStyle(h),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=v,t.ensureState("select").style=g,t.ensureState("blur").style=y,mc(t)}function yV(r,t,e,n,i,a,o){var c=r.data,h=r.isGeo,v=c&&isNaN(c.get(c.mapDimension("value"),a)),g=c&&c.getItemLayout(a);if(h||v||g&&g.showLabel){var y=h?e:a,m=void 0;(!c||a>=0)&&(m=i);var b=o?{normal:{align:"center",verticalAlign:"middle"}}:null;fn(t,nn(n),{labelFetcher:m,labelDataIndex:y,defaultText:e},b);var S=t.getTextContent();if(S&&(Zz(S).ignore=S.ignore,t.textConfig&&o)){var E=t.getBoundingRect().clone();t.textConfig.layoutRect=E,t.textConfig.position=[(o[0]-E.x)/E.width*100+"%",(o[1]-E.y)/E.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function mV(r,t,e,n,i,a){r.data?r.data.setItemGraphicEl(a,t):ce(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:e,region:n&&n.option||{}}}function _V(r,t,e,n,i){r.data||Ts({el:t,componentModel:i,itemName:e,itemTooltipOption:n.get("tooltip")})}function bV(r,t,e,n,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var a=n.getModel("emphasis"),o=a.get("focus");return gr(t,o,a.get("blurScope"),a.get("disabled")),r.isGeo&&vnt(t,i,e),o}function SV(r,t,e){var n=[],i;function a(){i=[]}function o(){i.length&&(n.push(i),i=[])}var c=t({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(h,v){isFinite(h)&&isFinite(v)&&i.push([h,v])},sphere:function(){}});return!e&&c.polygonStart(),j(r,function(h){c.lineStart();for(var v=0;v<h.length;v++)c.point(h[v][0],h[v][1]);c.lineEnd()}),!e&&c.polygonEnd(),n}var lht=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===e.id){var c=this._mapDraw;c&&o.add(c.group)}else if(e.needsDrawMap){var c=this._mapDraw||new Kz(i);o.add(c.group),c.draw(e,n,i,this,a),this._mapDraw=c}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(e,n,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,n,i){var a=e.originalData,o=this.group;a.each(a.mapDimension("value"),function(c,h){if(!isNaN(c)){var v=a.getItemLayout(h);if(!(!v||!v.point)){var g=v.point,y=v.offset,m=new Es({style:{fill:e.getData().getVisual("style").fill},shape:{cx:g[0]+y*9,cy:g[1],r:3},silent:!0,z2:8+(y?0:Nh+1)});if(!y){var b=e.mainSeries.getData(),S=a.getName(h),E=b.indexOfName(S),C=a.getItemModel(h),A=C.getModel("label"),M=b.getItemGraphicEl(E);fn(m,nn(C),{labelFetcher:{getFormattedLabel:function(L,R){return e.getFormattedLabel(E,R)}},defaultText:S}),m.disableLabelAnimation=!0,A.get("position")||m.setTextConfig({position:"bottom"}),M.onHoverStateChange=function(L){E0(m,L)}}o.add(m)}}})},t.type="map",t})(Ke),uht=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),a=this.coordinateSystem,o=a.getRegion(i);return o&&a.dataToPoint(o.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var n=Hh(this,{coordDimensions:["value"],encodeDefaulter:de(LA,this)}),i=Kt(),a=[],o=0,c=n.count();o<c;o++){var h=n.getName(o);i.set(h,o)}var v=Ss.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return j(v.regions,function(g){var y=g.name,m=i.get(y),b=g.properties&&g.properties.echartsStyle,S;m==null?(S={name:y},a.push(S)):S=n.getRawDataItem(m),b&&ge(S,b)}),n.appendData(a),n},t.prototype.getHostGeoModel=function(){if(jH(this).kind!==vo.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var n=this.getData();return n.get(n.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var n=this.getData();return n.getItemModel(n.indexOfName(e))},t.prototype.formatTooltip=function(e,n,i){for(var a=this.getData(),o=this.getRawValue(e),c=a.getName(e),h=this.seriesGroup,v=[],g=0;g<h.length;g++){var y=h[g].originalData.indexOfName(c),m=a.mapDimension("value");isNaN(h[g].originalData.get(m,y))||v.push(h[g].name)}return qr("section",{header:v.join(", "),noHeader:!v.length,blocks:[qr("nameValue",{name:c,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var n=e.icon||"roundRect",i=Xr(n,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill=yt.color.neutral00,i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:yt.color.tertiary},itemStyle:{borderWidth:.5,borderColor:yt.color.border,areaColor:yt.color.background},emphasis:{label:{show:!0,color:yt.color.primary},itemStyle:{areaColor:yt.color.highlight}},select:{label:{show:!0,color:yt.color.primary},itemStyle:{color:yt.color.highlight}},nameProperty:"name"},t})(or);function cht(r,t){var e={};return j(r,function(n){n.each(n.mapDimension("value"),function(i,a){var o="ec-"+n.getName(a);e[o]=e[o]||[],isNaN(i)||e[o].push(i)})}),r[0].map(r[0].mapDimension("value"),function(n,i){for(var a="ec-"+r[0].getName(i),o=0,c=1/0,h=-1/0,v=e[a].length,g=0;g<v;g++)c=Math.min(c,e[a][g]),h=Math.max(h,e[a][g]),o+=e[a][g];var y;return t==="min"?y=c:t==="max"?y=h:t==="average"?y=o/v:y=o,v===0?NaN:y})}function fht(r){var t={};r.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),i=n?"o"+n.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),j(t,function(e,n){for(var i=cht(Pt(e,function(o){return o.getData()}),e[0].get("mapValueCalculation")),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(var a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=a===0&&!e[a].getHostGeoModel(),e[a].setData(i.cloneShallow()),e[a].mainSeries=e[0]})}function hht(r){var t={};r.eachSeriesByType("map",function(e){var n=e.getMapType();if(!(e.getHostGeoModel()||t[n])){var i={};j(e.seriesGroup,function(o){var c=o.coordinateSystem,h=o.originalData;o.get("showLegendSymbol")&&r.getComponent("legend")&&h.each(h.mapDimension("value"),function(v,g){var y=h.getName(g),m=c.getRegion(y);if(!(!m||isNaN(v))){var b=i[y]||0,S=c.dataToPoint(m.getCenter());i[y]=b+1,h.setItemLayout(g,{point:S,offset:b})}})});var a=e.getData();a.each(function(o){var c=a.getName(o),h=a.getItemLayout(o)||{};h.showLabel=!i[c],a.setItemLayout(o,h)}),t[n]=!0}})}var wV=Vr,Pc=(function(r){bt(t,r);function t(e,n){var i=r.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new as,i._rawTransformable=new as,i.name=e,i._opt=n,i}return t.prototype.setBoundingRect=function(e,n,i,a){return this._rect=new le(e,n,i,a),this._updateCenterAndZoom(),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,n,i,a){this._transformTo(e,n,i,a),this._viewRect=new le(e,n,i,a)},t.prototype._transformTo=function(e,n,i,a){var o=this.getBoundingRect(),c=this._rawTransformable;c.transform=o.calculateTransform(new le(e,n,i,a));var h=c.parent;c.parent=null,c.decomposeTransform(),c.parent=h,this._updateTransform()},t.prototype.setCenter=function(e){var n=this._opt;n&&n.api&&n.ecModel&&n.ecModel.getShallow("legacyViewCoordSysCenterBase")&&e&&(e=[Yt(e[0],n.api.getWidth()),Yt(e[1],n.api.getWidth())]),this._centerOption=ne(e),this._updateCenterAndZoom()},t.prototype.setZoom=function(e){this._zoom=hM(e||1,this.zoomLimit),this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),n=e.x+e.width/2,i=e.y+e.height/2;return[n,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._centerOption,n=this._rect;e&&n&&(this._center=[Yt(e[0],n.width,n.x),Yt(e[1],n.height,n.y)]);var i=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,o=this.getDefaultCenter(),c=this.getCenter(),h=this.getZoom();c=Vr([],c,i),o=Vr([],o,i),a.originX=c[0],a.originY=c[1],a.x=o[0]-c[0],a.y=o[1]-c[1],a.scaleX=a.scaleY=h,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,n=this._rawTransformable;n.parent=e,e.updateTransform(),n.updateTransform(),M_(this.transform||(this.transform=[]),n.transform||_n()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],Ra(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,n=this._roamTransformable,i=new as;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?wV(i,e,a):ri(i,e)},t.prototype.pointToData=function(e,n,i){i=i||[];var a=this.invTransform;return a?wV(i,e,a):(i[0]=e[0],i[1]=e[1],i)},t.prototype.convertToPixel=function(e,n,i){var a=xV(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,n,i){var a=xV(n);return a===this?a.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t})(as);function xV(r){var t=r.seriesModel;return t?t.coordinateSystem:null}var pht={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Jz=["lng","lat"],FT=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this,e,{api:i.api,ecModel:i.ecModel})||this;a.dimensions=Jz,a.type="geo",a._nameCoordMap=Kt(),a.map=n;var o=i.projection,c=Ss.load(n,i.nameMap,i.nameProperty),h=Ss.getGeoResource(n);a.resourceType=h?h.type:null;var v=a.regions=c.regions,g=pht[h.type];a._regionsMap=c.regionsMap,a.regions=c.regions,a.projection=o;var y;if(o)for(var m=0;m<v.length;m++){var b=v[m].getBoundingRect(o);y=y||b.clone(),y.union(b)}else y=c.boundingRect;return a.setBoundingRect(y.x,y.y,y.width,y.height),a.aspectScale=o?1:Jt(i.aspectScale,g.aspectScale),a._invertLongitute=o?!1:g.invertLongitute,a}return t.prototype._transformTo=function(e,n,i,a){var o=this.getBoundingRect(),c=this._invertLongitute;o=o.clone(),c&&(o.y=-o.y-o.height);var h=this._rawTransformable;h.transform=o.calculateTransform(new le(e,n,i,a));var v=h.parent;h.parent=null,h.decomposeTransform(),h.parent=v,c&&(h.scaleY=-h.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var n=this.regions,i=0;i<n.length;i++){var a=n[i];if(a.type==="geoJSON"&&a.contain(e))return n[i]}},t.prototype.addGeoCoord=function(e,n){this._nameCoordMap.set(e,n)},t.prototype.getGeoCoord=function(e){var n=this._regionsMap.get(e);return this._nameCoordMap.get(e)||n&&n.getCenter()},t.prototype.dataToPoint=function(e,n,i){if($t(e)&&(e=this.getGeoCoord(e)),e){var a=this.projection;return a&&(e=a.project(e)),e&&this.projectedToPoint(e,n,i)}},t.prototype.pointToData=function(e,n,i){var a=this.projection;return a&&(e=a.unproject(e)),e&&this.pointToProjected(e,i)},t.prototype.pointToProjected=function(e,n){return r.prototype.pointToData.call(this,e,0,n)},t.prototype.projectedToPoint=function(e,n,i){return r.prototype.dataToPoint.call(this,e,n,i)},t.prototype.convertToPixel=function(e,n,i){var a=EV(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,n,i){var a=EV(n);return a===this?a.pointToData(i):null},t})(Pc);Zr(FT,Pc);function EV(r){var t=r.geoModel,e=r.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",Cr).models[0]||{}).coordinateSystem:null}function TV(r,t){var e=r.get("boundingCoords");if(e!=null){var n=e[0],i=e[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var o=n[0],c=n[1],h=i[0],v=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var g=function(O,P,V,k){for(var F=V-O,H=k-P,W=0;W<=100;W++){var q=W/100,Y=a.project([O+F*q,P+H*q]);sl(n,n,Y),ll(i,i,Y)}};g(o,c,h,c),g(h,c,h,v),g(h,v,o,v),g(o,v,h,c)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var y=this.getBoundingRect(),m=r.get("layoutCenter"),b=r.get("layoutSize"),S=an(r,t).refContainer,E=y.width/y.height*this.aspectScale,C=!1,A,M;m&&b&&(A=[Yt(m[0],S.width)+S.x,Yt(m[1],S.height)+S.y],M=Yt(b,Math.min(S.width,S.height)),!isNaN(A[0])&&!isNaN(A[1])&&!isNaN(M)&&(C=!0));var L;if(C)L={},E>1?(L.width=M,L.height=M/E):(L.height=M,L.width=M*E),L.y=A[1]-L.height/2,L.x=A[0]-L.width/2;else{var R=r.getBoxLayoutParams();R.aspect=E,L=yr(R,S),L=ZH(r,L,E)}this.setViewRect(L.x,L.y,L.width,L.height),this.setCenter(r.get("center")),this.setZoom(r.get("zoom"))}function dht(r,t){j(t.get("geoCoord"),function(e,n){r.addGeoCoord(n,e)})}var vht=(function(){function r(){this.dimensions=Jz}return r.prototype.create=function(t,e){var n=[];function i(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,c){var h=o.get("map"),v=new FT(h+c,h,At({nameMap:o.get("nameMap"),api:e,ecModel:t},i(o)));v.zoomLimit=o.get("scaleLimit"),n.push(v),o.coordinateSystem=v,v.model=o,v.resize=TV,v.resize(o,e)}),t.eachSeries(function(o){Gv({targetModel:o,coordSysType:"geo",coordSysProvider:function(){var c=o.subType==="map"?o.getHostGeoModel():o.getReferringComponents("geo",Cr).models[0];return c&&c.coordinateSystem},allowNotFound:!0})});var a={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var c=o.getMapType();a[c]=a[c]||[],a[c].push(o)}}),j(a,function(o,c){var h=Pt(o,function(g){return g.get("nameMap")}),v=new FT(c,c,At({nameMap:qC(h),api:e,ecModel:t},i(o[0])));v.zoomLimit=Rn.apply(null,Pt(o,function(g){return g.get("scaleLimit")})),n.push(v),v.resize=TV,v.resize(o[0],e),j(o,function(g){g.coordinateSystem=v,dht(v,g)})}),n},r.prototype.getFilledRegions=function(t,e,n,i){for(var a=(t||[]).slice(),o=Kt(),c=0;c<a.length;c++)o.set(a[c].name,a[c]);var h=Ss.load(e,n,i);return j(h.regions,function(v){var g=v.name,y=o.get(g),m=v.properties&&v.properties.echartsStyle;y||(y={name:g},a.push(y)),m&&ge(y,m)}),a},r})(),Qz=new vht,ght=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i);var a=Ss.getGeoResource(e.map);if(a&&a.type==="geoJSON"){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color=e.defaultItemStyleColor||yt.color.backgroundTint)}vc(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,n=this.option;n.regions=Qz.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=Lo(n.regions||[],function(a,o){var c=o.name;return c&&(a.set(c,new Me(o,e,e.ecModel)),o.selected&&(i[c]=!0)),a},Kt()),n.selectedMap||(n.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Me(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,n){var i=this.getRegionModel(e),a=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:e};if(ee(a))return o.status=n,a(o);if($t(a))return a.replace("{a}",e??"")},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[e]=!0}},t.prototype.unSelect=function(e){var n=this.option.selectedMap;n&&(n[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var n=this.option.selectedMap;return!!(n&&n[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:yt.color.tertiary},itemStyle:{borderWidth:.5,borderColor:yt.color.border},emphasis:{label:{show:!0,color:yt.color.primary},itemStyle:{color:yt.color.highlight}},select:{label:{show:!0,color:yt.color.primary},itemStyle:{color:yt.color.highlight}},regions:[]},t})(Te),yht=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return t.prototype.init=function(e,n){this._api=n},t.prototype.render=function(e,n,i,a){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new Kz(i));var o=this._mapDraw;o.draw(e,n,i,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,n,i)},t.prototype._handleRegionClick=function(e){var n;tc(e.target,function(i){return(n=ce(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(e,n,i){var a=this;this._mapDraw.group.traverse(function(o){var c=ce(o).eventData;if(c)return a._model.isSelected(c.name)?i.enterSelect(o):i.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t})(dr);function mht(r,t,e){Ss.registerMap(r,t,e)}function t8(r){r.registerCoordinateSystem("geo",Qz),r.registerComponentModel(ght),r.registerComponentView(yht),r.registerImpl("registerMap",mht),r.registerImpl("getMap",function(e){return Ss.getMapForUser(e)});function t(e,n){n.update="geo:updateSelectStatus",r.registerAction(n,function(i,a){var o={},c=[];return a.eachComponent({mainType:"geo",query:i},function(h){h[e](i.name);var v=h.coordinateSystem;j(v.regions,function(y){o[y.name]=h.isSelected(y.name)||!1});var g=[];j(o,function(y,m){o[m]&&g.push(m)}),c.push({geoIndex:h.componentIndex,name:g})}),{selected:o,allSelected:c,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,n,i){var a=e.componentType;a||(e.geoId!=null?a="geo":e.seriesId!=null&&(a="series")),a||(a="series"),n.eachComponent({mainType:a,query:e},function(o){var c=o.coordinateSystem;if(c.type==="geo"){var h=nb(c,e,o.get("scaleLimit"));o.setCenter&&o.setCenter(h.center),o.setZoom&&o.setZoom(h.zoom),a==="series"&&j(o.seriesGroup,function(v){v.setCenter(h.center),v.setZoom(h.zoom)})}})})}function _ht(r){_e(t8),r.registerChartView(lht),r.registerSeriesModel(uht),r.registerLayout(hht),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,fht),B4("map",r.registerAction)}function bht(r){var t=r;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[t],n,i;n=e.pop();)if(i=n.children,n.isExpand&&i.length)for(var a=i.length,o=a-1;o>=0;o--){var c=i[o];c.hierNode={defaultAncestor:null,ancestor:c,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},e.push(c)}}function Sht(r,t){var e=r.isExpand?r.children:[],n=r.parentNode.children,i=r.hierNode.i?n[r.hierNode.i-1]:null;if(e.length){xht(r);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;i?(r.hierNode.prelim=i.hierNode.prelim+t(r,i),r.hierNode.modifier=r.hierNode.prelim-a):r.hierNode.prelim=a}else i&&(r.hierNode.prelim=i.hierNode.prelim+t(r,i));r.parentNode.hierNode.defaultAncestor=Eht(r,i,r.parentNode.hierNode.defaultAncestor||n[0],t)}function wht(r){var t=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:t},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function CV(r){return arguments.length?r:Aht}function Sd(r,t){return r-=Math.PI/2,{x:t*Math.cos(r),y:t*Math.sin(r)}}function xht(r){for(var t=r.children,e=t.length,n=0,i=0;--e>=0;){var a=t[e];a.hierNode.prelim+=n,a.hierNode.modifier+=n,i+=a.hierNode.change,n+=a.hierNode.shift+i}}function Eht(r,t,e,n){if(t){for(var i=r,a=r,o=a.parentNode.children[0],c=t,h=i.hierNode.modifier,v=a.hierNode.modifier,g=o.hierNode.modifier,y=c.hierNode.modifier;c=Xw(c),a=Zw(a),c&&a;){i=Xw(i),o=Zw(o),i.hierNode.ancestor=r;var m=c.hierNode.prelim+y-a.hierNode.prelim-v+n(c,a);m>0&&(Cht(Tht(c,r,e),r,m),v+=m,h+=m),y+=c.hierNode.modifier,v+=a.hierNode.modifier,h+=i.hierNode.modifier,g+=o.hierNode.modifier}c&&!Xw(i)&&(i.hierNode.thread=c,i.hierNode.modifier+=y-h),a&&!Zw(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=v-g,e=r)}return e}function Xw(r){var t=r.children;return t.length&&r.isExpand?t[t.length-1]:r.hierNode.thread}function Zw(r){var t=r.children;return t.length&&r.isExpand?t[0]:r.hierNode.thread}function Tht(r,t,e){return r.hierNode.ancestor.parentNode===t.parentNode?r.hierNode.ancestor:e}function Cht(r,t,e){var n=e/(t.hierNode.i-r.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,r.hierNode.change+=n}function Aht(r,t){return r.parentNode===t.parentNode?1:2}var Mht=(function(){function r(){this.parentPoint=[],this.childPoints=[]}return r})(),Dht=(function(r){bt(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:yt.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new Mht},t.prototype.buildPath=function(e,n){var i=n.childPoints,a=i.length,o=n.parentPoint,c=i[0],h=i[a-1];if(a===1){e.moveTo(o[0],o[1]),e.lineTo(c[0],c[1]);return}var v=n.orient,g=v==="TB"||v==="BT"?0:1,y=1-g,m=Yt(n.forkPosition,1),b=[];b[g]=o[g],b[y]=o[y]+(h[y]-o[y])*m,e.moveTo(o[0],o[1]),e.lineTo(b[0],b[1]),e.moveTo(c[0],c[1]),b[g]=c[g],e.lineTo(b[0],b[1]),b[g]=h[g],e.lineTo(b[0],b[1]),e.lineTo(h[0],h[1]);for(var S=1;S<a-1;S++){var E=i[S];e.moveTo(E[0],E[1]),b[g]=E[g],e.lineTo(b[0],b[1])}},t})(Ee),Lht=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new re,e}return t.prototype.init=function(e,n){this._controller=new Oc(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,i){var a=e.getData(),o=e.layoutInfo,c=this._mainGroup,h=e.get("layout");h==="radial"?(c.x=o.x+o.width/2,c.y=o.y+o.height/2):(c.x=o.x,c.y=o.y),this._updateViewCoordSys(e,i),this._updateController(e,null,n,i);var v=this._data;a.diff(v).add(function(g){AV(a,g)&&MV(a,g,null,c,e)}).update(function(g,y){var m=v.getItemGraphicEl(y);if(!AV(a,g)){m&&LV(v,y,m,c,e);return}MV(a,g,m,c,e)}).remove(function(g){var y=v.getItemGraphicEl(g);y&&LV(v,g,y,c,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(g,y){g.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:y})})}),this._data=a},t.prototype._updateViewCoordSys=function(e,n){var i=e.getData(),a=[];i.each(function(y){var m=i.getItemLayout(y);m&&!isNaN(m.x)&&!isNaN(m.y)&&a.push([+m.x,+m.y])});var o=[],c=[];P_(a,o,c);var h=this._min,v=this._max;c[0]-o[0]===0&&(o[0]=h?h[0]:o[0]-1,c[0]=v?v[0]:c[0]+1),c[1]-o[1]===0&&(o[1]=h?h[1]:o[1]-1,c[1]=v?v[1]:c[1]+1);var g=e.coordinateSystem=new Pc(null,{api:n,ecModel:e.ecModel});g.zoomLimit=e.get("scaleLimit"),g.setBoundingRect(o[0],o[1],c[0]-o[0],c[1]-o[1]),g.setCenter(e.get("center")),g.setZoom(e.get("zoom")),this.group.attr({x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY}),this._min=o,this._max=c},t.prototype._updateController=function(e,n,i,a){var o=this;jz(e,a,this.group,this._controller,this._controllerHost,n),this._controller.on("zoom",function(c){o._updateNodeAndLinkScale(e)})},t.prototype._updateNodeAndLinkScale=function(e){var n=e.getData(),i=this._getNodeGlobalScale(e);n.eachItemGraphicEl(function(a,o){a.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(e){var n=e.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,a=n.scaleX||1,o=n.getZoom(),c=(o-1)*i+1;return c/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t})(Ke);function AV(r,t){var e=r.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function MV(r,t,e,n,i){var a=!e,o=r.tree.getNodeByDataIndex(t),c=o.getModel(),h=o.getVisual("style").fill,v=o.isExpand===!1&&o.children.length!==0?h:yt.color.neutral00,g=r.tree.root,y=o.parentNode===g?o:o.parentNode||o,m=r.getItemGraphicEl(y.dataIndex),b=y.getLayout(),S=m?{x:m.__oldX,y:m.__oldY,rawX:m.__radialOldRawX,rawY:m.__radialOldRawY}:b,E=o.getLayout();a?(e=new zv(r,t,null,{symbolInnerColor:v,useNameLabel:!0}),e.x=S.x,e.y=S.y):e.updateData(r,t,null,{symbolInnerColor:v,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=E.rawX,e.__radialRawY=E.rawY,n.add(e),r.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,Pe(e,{x:E.x,y:E.y},i);var C=e.getSymbolPath();if(i.get("layout")==="radial"){var A=g.children[0],M=A.getLayout(),L=A.children.length,R=void 0,O=void 0;if(E.x===M.x&&o.isExpand===!0&&A.children.length){var P={x:(A.children[0].getLayout().x+A.children[L-1].getLayout().x)/2,y:(A.children[0].getLayout().y+A.children[L-1].getLayout().y)/2};R=Math.atan2(P.y-M.y,P.x-M.x),R<0&&(R=Math.PI*2+R),O=P.x<M.x,O&&(R=R-Math.PI)}else R=Math.atan2(E.y-M.y,E.x-M.x),R<0&&(R=Math.PI*2+R),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(O=E.x<M.x,O&&(R=R-Math.PI)):(O=E.x>M.x,O||(R=R-Math.PI));var V=O?"left":"right",k=c.getModel("label"),F=k.get("rotate"),H=F*(Math.PI/180),W=C.getTextContent();W&&(C.setTextConfig({position:k.get("position")||V,rotation:F==null?-R:H,origin:"center"}),W.setStyle("verticalAlign","middle"))}var q=c.get(["emphasis","focus"]),Y=q==="relative"?Jd(o.getAncestorsIndices(),o.getDescendantIndices()):q==="ancestor"?o.getAncestorsIndices():q==="descendant"?o.getDescendantIndices():null;Y&&(ce(e).focus=Y),Nht(i,o,g,e,S,b,E,n),e.__edge&&(e.onHoverStateChange=function(Z){if(Z!=="blur"){var et=o.parentNode&&r.getItemGraphicEl(o.parentNode.dataIndex);et&&et.hoverState===Nv||E0(e.__edge,Z)}})}function Nht(r,t,e,n,i,a,o,c){var h=t.getModel(),v=r.get("edgeShape"),g=r.get("layout"),y=r.getOrient(),m=r.get(["lineStyle","curveness"]),b=r.get("edgeForkPosition"),S=h.getModel("lineStyle").getLineStyle(),E=n.__edge;if(v==="curve")t.parentNode&&t.parentNode!==e&&(E||(E=n.__edge=new Iv({shape:BT(g,y,m,i,i)})),Pe(E,{shape:BT(g,y,m,a,o)},r));else if(v==="polyline"&&g==="orthogonal"&&t!==e&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var C=t.children,A=[],M=0;M<C.length;M++){var L=C[M].getLayout();A.push([L.x,L.y])}E||(E=n.__edge=new Dht({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:y,forkPosition:b}})),Pe(E,{shape:{parentPoint:[o.x,o.y],childPoints:A}},r)}E&&!(v==="polyline"&&!t.isExpand)&&(E.useStyle(oe({strokeNoScale:!0,fill:null},S)),rn(E,h,"lineStyle"),mc(E),c.add(E))}function DV(r,t,e,n,i){var a=t.tree.root,o=e8(a,r),c=o.source,h=o.sourceLayout,v=t.getItemGraphicEl(r.dataIndex);if(v){var g=t.getItemGraphicEl(c.dataIndex),y=g.__edge,m=v.__edge||(c.isExpand===!1||c.children.length===1?y:void 0),b=n.get("edgeShape"),S=n.get("layout"),E=n.get("orient"),C=n.get(["lineStyle","curveness"]);m&&(b==="curve"?Tl(m,{shape:BT(S,E,C,h,h),style:{opacity:0}},n,{cb:function(){e.remove(m)},removeOpt:i}):b==="polyline"&&n.get("layout")==="orthogonal"&&Tl(m,{shape:{parentPoint:[h.x,h.y],childPoints:[[h.x,h.y]]},style:{opacity:0}},n,{cb:function(){e.remove(m)},removeOpt:i}))}}function e8(r,t){for(var e=t.parentNode===r?t:t.parentNode||t,n;n=e.getLayout(),n==null;)e=e.parentNode===r?e:e.parentNode||e;return{source:e,sourceLayout:n}}function LV(r,t,e,n,i){var a=r.tree.getNodeByDataIndex(t),o=r.tree.root,c=e8(o,a).sourceLayout,h={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};Tl(e,{x:c.x+1,y:c.y+1},i,{cb:function(){n.remove(e),r.setItemGraphicEl(t,null)},removeOpt:h}),e.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:h}),a.children.forEach(function(v){DV(v,r,n,i,h)}),DV(a,r,n,i,h)}function BT(r,t,e,n,i){var a,o,c,h,v,g,y,m;if(r==="radial"){v=n.rawX,y=n.rawY,g=i.rawX,m=i.rawY;var b=Sd(v,y),S=Sd(v,y+(m-y)*e),E=Sd(g,m+(y-m)*e),C=Sd(g,m);return{x1:b.x||0,y1:b.y||0,x2:C.x||0,y2:C.y||0,cpx1:S.x||0,cpy1:S.y||0,cpx2:E.x||0,cpy2:E.y||0}}else v=n.x,y=n.y,g=i.x,m=i.y,(t==="LR"||t==="RL")&&(a=v+(g-v)*e,o=y,c=g+(v-g)*e,h=m),(t==="TB"||t==="BT")&&(a=v,o=y+(m-y)*e,c=g,h=m+(y-m)*e);return{x1:v,y1:y,x2:g,y2:m,cpx1:a,cpy1:o,cpx2:c,cpy2:h}}var la=xe();function r8(r){var t=r.mainData,e=r.datas;e||(e={main:t},r.datasAttr={main:"data"}),r.datas=r.mainData=null,n8(t,e,r),j(e,function(n){j(t.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,de(Rht,r))})}),t.wrapMethod("cloneShallow",de(Oht,r)),j(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,de(Iht,r))}),Yn(e[t.dataType]===t)}function Rht(r,t){if(Vht(this)){var e=At({},la(this).datas);e[this.dataType]=t,n8(t,e,r)}else dM(t,this.dataType,la(this).mainData,r);return t}function Iht(r,t){return r.struct&&r.struct.update(),t}function Oht(r,t){return j(la(t).datas,function(e,n){e!==t&&dM(e.cloneShallow(),n,t,r)}),t}function Pht(r){var t=la(this).mainData;return r==null||t==null?t:la(t).datas[r]}function kht(){var r=la(this).mainData;return r==null?[{data:r}]:Pt(De(la(r).datas),function(t){return{type:t,data:la(r).datas[t]}})}function Vht(r){return la(r).mainData===r}function n8(r,t,e){la(r).datas={},j(t,function(n,i){dM(n,i,r,e)})}function dM(r,t,e,n){la(e).datas[t]=r,la(r).mainData=e,r.dataType=t,n.struct&&(r[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=r),r.getLinkedData=Pht,r.getLinkedDataAll=kht}var Ght=(function(){function r(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(t,e,n){ee(t)&&(n=e,e=t,t=null),t=t||{},$t(t)&&(t={order:t});var i=t.order||"preorder",a=this[t.attr||"children"],o;i==="preorder"&&(o=e.call(n,this));for(var c=0;!o&&c<a.length;c++)a[c].eachNode(t,e,n);i==="postorder"&&e.call(n,this)},r.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},r.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var a=n[e].getNodeById(t);if(a)return a}},r.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var a=n[e].contains(t);if(a)return a}},r.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},r.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},r.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},r.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},r.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},r.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},r.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},r.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},r})(),vM=(function(){function r(t){this.type="tree",this._nodes=[],this.hostModel=t}return r.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},r.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},r.prototype.getNodeById=function(t){return this.root.getNodeById(t)},r.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(var n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(t,e,n){var i=new r(e),a=[],o=1;c(t);function c(g,y){var m=g.value;o=Math.max(o,Rt(m)?m.length:1),a.push(g);var b=new Ght(en(g.name,""),i);y?Fht(b,y):i.root=b,i._nodes.push(b);var S=g.children;if(S)for(var E=0;E<S.length;E++)c(S[E],b)}i.root.updateDepthAndHeight(0);var h=Bv(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,v=new ui(h,e);return v.initData(a),n&&n(v),r8({mainData:v,struct:i,structAttr:"tree"}),i.update(),i},r})();function Fht(r,t){var e=t.children;r.parentNode!==t&&(e.push(r),r.parentNode=t)}function bv(r,t,e){if(r&&ve(t,r.type)>=0){var n=e.getData().tree.root,i=r.targetNode;if($t(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var a=r.targetNodeId;if(a!=null&&(i=n.getNodeById(a)))return{node:i}}}function i8(r){for(var t=[];r;)r=r.parentNode,r&&t.push(r);return t.reverse()}function gM(r,t){var e=i8(r);return ve(e,t)>=0}function ab(r,t){for(var e=[];r;){var n=r.dataIndex;e.push({name:r.name,dataIndex:n,value:t.getRawValue(n)}),r=r.parentNode}return e.reverse(),e}var Bht=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e){var n={name:e.name,children:e.data},i=e.leaves||{},a=new Me(i,this,this.ecModel),o=vM.createTree(n,this,c);function c(y){y.wrapMethod("getItemModel",function(m,b){var S=o.getNodeByDataIndex(b);return S&&S.children.length&&S.isExpand||(m.parentModel=a),m})}var h=0;o.eachNode("preorder",function(y){y.depth>h&&(h=y.depth)});var v=e.expandAndCollapse,g=v&&e.initialTreeDepth>=0?e.initialTreeDepth:h;return o.root.eachNode("preorder",function(y){var m=y.hostTree.data.getRawDataItem(y.dataIndex);y.isExpand=m&&m.collapsed!=null?!m.collapsed:y.depth<=g}),o.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,n,i){for(var a=this.getData().tree,o=a.root.children[0],c=a.getNodeByDataIndex(e),h=c.getValue(),v=c.name;c&&c!==o;)v=c.parentNode.name+"."+v,c=c.parentNode;return qr("nameValue",{name:v,value:h,noValue:isNaN(h)||h==null})},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=ab(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:yt.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t})(or);function Hht(r,t,e){for(var n=[r],i=[],a;a=n.pop();)if(i.push(a),a.isExpand){var o=a.children;if(o.length)for(var c=0;c<o.length;c++)n.push(o[c])}for(;a=i.pop();)t(a,e)}function td(r,t){for(var e=[r],n;n=e.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)e.push(i[a])}}function zht(r,t){r.eachSeriesByType("tree",function(e){Uht(e,t)})}function Uht(r,t){var e=an(r,t).refContainer,n=yr(r.getBoxLayoutParams(),e);r.layoutInfo=n;var i=r.get("layout"),a=0,o=0,c=null;i==="radial"?(a=2*Math.PI,o=Math.min(n.height,n.width)/2,c=CV(function(R,O){return(R.parentNode===O.parentNode?1:2)/R.depth})):(a=n.width,o=n.height,c=CV());var h=r.getData().tree.root,v=h.children[0];if(v){bht(h),Hht(v,Sht,c),h.hierNode.modifier=-v.hierNode.prelim,td(v,wht);var g=v,y=v,m=v;td(v,function(R){var O=R.getLayout().x;O<g.getLayout().x&&(g=R),O>y.getLayout().x&&(y=R),R.depth>m.depth&&(m=R)});var b=g===y?1:c(g,y)/2,S=b-g.getLayout().x,E=0,C=0,A=0,M=0;if(i==="radial")E=a/(y.getLayout().x+b+S),C=o/(m.depth-1||1),td(v,function(R){A=(R.getLayout().x+S)*E,M=(R.depth-1)*C;var O=Sd(A,M);R.setLayout({x:O.x,y:O.y,rawX:A,rawY:M},!0)});else{var L=r.getOrient();L==="RL"||L==="LR"?(C=o/(y.getLayout().x+b+S),E=a/(m.depth-1||1),td(v,function(R){M=(R.getLayout().x+S)*C,A=L==="LR"?(R.depth-1)*E:a-(R.depth-1)*E,R.setLayout({x:A,y:M},!0)})):(L==="TB"||L==="BT")&&(E=a/(y.getLayout().x+b+S),C=o/(m.depth-1||1),td(v,function(R){A=(R.getLayout().x+S)*E,M=L==="TB"?(R.depth-1)*C:o-(R.depth-1)*C,R.setLayout({x:A,y:M},!0)}))}}}function Wht(r){r.eachSeriesByType("tree",function(t){var e=t.getData(),n=e.tree;n.eachNode(function(i){var a=i.getModel(),o=a.getModel("itemStyle").getItemStyle(),c=e.ensureUniqueItemVisual(i.dataIndex,"style");At(c,o)})})}function jht(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var i=t.dataIndex,a=n.getData().tree,o=a.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var a=i.coordinateSystem,o=nb(a,t,i.get("scaleLimit"));i.setCenter(o.center),i.setZoom(o.zoom)})})}function Yht(r){r.registerChartView(Lht),r.registerSeriesModel(Bht),r.registerLayout(zht),r.registerVisual(Wht),jht(r)}var NV=["treemapZoomToNode","treemapRender","treemapMove"];function $ht(r){for(var t=0;t<NV.length;t++)r.registerAction({type:NV[t],update:"updateView"},kr);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"treemap",query:e},i);function i(a,o){var c=["treemapZoomToNode","treemapRootToNode"],h=bv(e,c,a);if(h){var v=a.getViewRoot();v&&(e.direction=gM(v,h.node)?"rollUp":"drillDown"),a.resetViewRoot(h.node)}}})}function a8(r){var t=r.getData(),e=t.tree,n={};e.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var o=aT(r.ecModel,a.name||a.dataIndex+"",n);i.setVisual("decal",o)})}var qht=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,n){var i={name:e.name,children:e.data};o8(i);var a=e.levels||[],o=this.designatedVisualItemStyle={},c=new Me({itemStyle:o},this,n);a=e.levels=Xht(a,n);var h=Pt(a||[],function(y){return new Me(y,c,n)},this),v=vM.createTree(i,this,g);function g(y){y.wrapMethod("getItemModel",function(m,b){var S=v.getNodeByDataIndex(b),E=S?h[S.depth]:null;return m.parentModel=E||c,m})}return v.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=this.getRawValue(e),c=a.getName(e);return qr("nameValue",{name:c,value:o})},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=ab(i,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},At(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var n=this._idIndexMap;n||(n=this._idIndexMap=Kt(),this._idIndexMapCount=0);var i=n.get(e);return i==null&&n.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){a8(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,coordinateSystemUsage:"box",left:yt.size.l,top:yt.size.xxxl,right:yt.size.l,bottom:yt.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:yt.size.m,emptyItemWidth:25,itemStyle:{color:yt.color.backgroundShade,textStyle:{color:yt.color.secondary}},emphasis:{itemStyle:{color:yt.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:yt.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:yt.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t})(or);function o8(r){var t=0;j(r.children,function(n){o8(n);var i=n.value;Rt(i)&&(i=i[0]),t+=i});var e=r.value;Rt(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Rt(r.value)?r.value[0]=e:r.value=e}function Xht(r,t){var e=Qe(t.get("color")),n=Qe(t.get(["aria","decal","decals"]));if(e){r=r||[];var i,a;j(r,function(c){var h=new Me(c),v=h.get("color"),g=h.get("decal");(h.get(["itemStyle","color"])||v&&v!=="none")&&(i=!0),(h.get(["itemStyle","decal"])||g&&g!=="none")&&(a=!0)});var o=r[0]||(r[0]={});return i||(o.color=e.slice()),!a&&n&&(o.decal=n.slice()),r}}var Zht=8,RV=8,Kw=5,Kht=(function(){function r(t){this.group=new re,t.add(this.group)}return r.prototype.render=function(t,e,n,i){var a=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!a.get("show")||!n)){var c=a.getModel("itemStyle"),h=a.getModel("emphasis"),v=c.getModel("textStyle"),g=h.getModel(["itemStyle","textStyle"]),y=an(t,e).refContainer,m={left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},b={emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},S=yr(m,y);this._prepare(n,b,v),this._renderContent(t,b,S,c,h,v,g,i),$_(o,m,y)}},r.prototype._prepare=function(t,e,n){for(var i=t;i;i=i.parentNode){var a=en(i.getModel().get("name"),""),o=n.getTextRect(a),c=Math.max(o.width+Zht*2,e.emptyItemWidth);e.totalWidth+=c+RV,e.renderList.push({node:i,text:a,width:c})}},r.prototype._renderContent=function(t,e,n,i,a,o,c,h){for(var v=0,g=e.emptyItemWidth,y=t.get(["breadcrumb","height"]),m=e.totalWidth,b=e.renderList,S=a.getModel("itemStyle").getItemStyle(),E=b.length-1;E>=0;E--){var C=b[E],A=C.node,M=C.width,L=C.text;m>n.width&&(m-=M-g,M=g,L=null);var R=new qn({shape:{points:Jht(v,0,M,y,E===b.length-1,E===0)},style:oe(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new Oe({style:ar(o,{text:L})}),textConfig:{position:"inside"},z2:Nh*1e4,onclick:de(h,A)});R.disableLabelAnimation=!0,R.getTextContent().ensureState("emphasis").style=ar(c,{text:L}),R.ensureState("emphasis").style=S,gr(R,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(R),Qht(R,t,A),v+=M+RV}},r.prototype.remove=function(){this.group.removeAll()},r})();function Jht(r,t,e,n,i,a){var o=[[i?r:r-Kw,t],[r+e,t],[r+e,t+n],[i?r:r-Kw,t+n]];return!a&&o.splice(2,0,[r+e+Kw,t+n/2]),!i&&o.push([r,t+n/2]),o}function Qht(r,t,e){ce(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&ab(e,t)}}var tpt=(function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(t,e,n,i,a){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:i,easing:a}),!0)},r.prototype.finished=function(t){return this._finishedCallback=t,this},r.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},r})();function ept(){return new tpt}var HT=re,IV=we,OV=3,PV="label",kV="upperLabel",rpt=Nh*10,npt=Nh*2,ipt=Nh*3,zu=yc([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),VV=function(r){var t=zu(r);return t.stroke=t.fill=t.lineWidth=null,t},Z0=xe(),apt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=ed(),e}return t.prototype.render=function(e,n,i,a){var o=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(ve(o,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=n;var c=["treemapZoomToNode","treemapRootToNode"],h=bv(a,c,e),v=a&&a.type,g=e.layoutInfo,y=!this._oldTree,m=this._storage,b=v==="treemapRootToNode"&&h&&m?{rootNodeGroup:m.nodeGroup[h.node.getRawIndex()],direction:a.direction}:null,S=this._giveContainerGroup(g),E=e.get("animation"),C=this._doRender(S,e,b);E&&!y&&(!v||v==="treemapZoomToNode"||v==="treemapRootToNode")?this._doAnimation(S,C,e,b):C.renderFinally(),this._resetController(i),this._renderBreadcrumb(e,i,h)}},t.prototype._giveContainerGroup=function(e){var n=this._containerGroup;return n||(n=this._containerGroup=new HT,this._initEvents(n),this.group.add(n)),n.x=e.x,n.y=e.y,n},t.prototype._doRender=function(e,n,i){var a=n.getData().tree,o=this._oldTree,c=ed(),h=ed(),v=this._storage,g=[];function y(M,L,R,O){return opt(n,h,v,i,c,g,M,L,R,O)}E(a.root?[a.root]:[],o&&o.root?[o.root]:[],e,a===o||!o,0);var m=C(v);if(this._oldTree=a,this._storage=h,this._controllerHost){var b=this.seriesModel.layoutInfo,S=a.root.getLayout();S.width===b.width&&S.height===b.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:c,willDeleteEls:m,renderFinally:A};function E(M,L,R,O,P){O?(L=M,j(M,function(F,H){!F.isRemoved()&&k(H,H)})):new _s(L,M,V,V).add(k).update(k).remove(de(k,null)).execute();function V(F){return F.getId()}function k(F,H){var W=F!=null?M[F]:null,q=H!=null?L[H]:null,Y=y(W,q,R,P);Y&&E(W&&W.viewChildren||[],q&&q.viewChildren||[],Y,O,P+1)}}function C(M){var L=ed();return M&&j(M,function(R,O){var P=L[O];j(R,function(V){V&&(P.push(V),Z0(V).willDelete=!0)})}),L}function A(){j(m,function(M){j(M,function(L){L.parent&&L.parent.remove(L)})}),j(g,function(M){M.invisible=!0,M.dirty()})}},t.prototype._doAnimation=function(e,n,i,a){var o=i.get("animationDurationUpdate"),c=i.get("animationEasing"),h=(ee(o)?0:o)||0,v=(ee(c)?null:c)||"cubicOut",g=ept();j(n.willDeleteEls,function(y,m){j(y,function(b,S){if(!b.invisible){var E=b.parent,C,A=Z0(E);if(a&&a.direction==="drillDown")C=E===a.rootNodeGroup?{shape:{x:0,y:0,width:A.nodeWidth,height:A.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var M=0,L=0;A.willDelete||(M=A.nodeWidth/2,L=A.nodeHeight/2),C=m==="nodeGroup"?{x:M,y:L,style:{opacity:0}}:{shape:{x:M,y:L,width:0,height:0},style:{opacity:0}}}C&&g.add(b,C,h,0,v)}})}),j(this._storage,function(y,m){j(y,function(b,S){var E=n.lastsForAnimation[m][S],C={};E&&(b instanceof re?E.oldX!=null&&(C.x=b.x,C.y=b.y,b.x=E.oldX,b.y=E.oldY):(E.oldShape&&(C.shape=At({},b.shape),b.setShape(E.oldShape)),E.fadein?(b.setStyle("opacity",0),C.style={opacity:1}):b.style.opacity!==1&&(C.style={opacity:1})),g.add(b,C,h,0,v))})},this),this._state="animating",g.finished(qt(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(e){var n=this,i=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost);var o=this.seriesModel;i||(i=this._controller=new Oc(e.getZr()),i.on("pan",qt(this._onPan,this)),i.on("zoom",qt(this._onZoom,this))),i.enable(o.get("roam"),{api:e,zInfo:{component:o},triggerInfo:{roamTrigger:o.get("roamTrigger"),isInSelf:function(c,h,v){var g=n._containerGroup;return g?g.getBoundingRect().contain(h-g.x,v-g.y):!1}}}),a.zoomLimit=o.get("scaleLimit"),a.zoom=o.get("zoom")},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>OV||Math.abs(e.dy)>OV)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var n=e.originX,i=e.originY,a=e.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var c=o.getLayout();if(!c)return;var h=new le(c.x,c.y,c.width,c.height),v=null,g=this._controllerHost;v=g.zoomLimit;var y=g.zoom=g.zoom||1;if(y*=a,v){var m=v.min||0,b=v.max||1/0;y=Math.max(Math.min(b,y),m)}var S=y/g.zoom;g.zoom=y;var E=this.seriesModel.layoutInfo;n-=E.x,i-=E.y;var C=_n();No(C,C,[-n,-i]),JC(C,C,[S,S]),No(C,C,[n,i]),h.applyTransform(C),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:h.x,y:h.y,width:h.width,height:h.height}})}},t.prototype._initEvents=function(e){var n=this;e.on("click",function(i){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var o=n.findTarget(i.offsetX,i.offsetY);if(o){var c=o.node;if(c.getLayout().isLeafRoot)n._rootToNode(o);else if(a==="zoomToNode")n._zoomToNode(o);else if(a==="link"){var h=c.hostTree.data.getItemModel(c.dataIndex),v=h.get("link",!0),g=h.get("target",!0)||"blank";v&&M0(v,g)}}}}},this)},t.prototype._renderBreadcrumb=function(e,n,i){var a=this;i||(i=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Kht(this.group))).render(e,n,i.node,function(o){a._state!=="animating"&&(gM(e.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=ed(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,n){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(o){var c=this._storage.background[o.getRawIndex()];if(c){var h=c.transformCoordToLocal(e,n),v=c.shape;if(v.x<=h[0]&&h[0]<=v.x+v.width&&v.y<=h[1]&&h[1]<=v.y+v.height)i={node:o,offsetX:h[0],offsetY:h[1]};else return!1}},this),i},t.type="treemap",t})(Ke);function ed(){return{nodeGroup:[],background:[],content:[]}}function opt(r,t,e,n,i,a,o,c,h,v){if(!o)return;var g=o.getLayout(),y=r.getData(),m=o.getModel();if(y.setItemGraphicEl(o.dataIndex,null),!g||!g.isInView)return;var b=g.width,S=g.height,E=g.borderWidth,C=g.invisible,A=o.getRawIndex(),M=c&&c.getRawIndex(),L=o.viewChildren,R=g.upperHeight,O=L&&L.length,P=m.getModel("itemStyle"),V=m.getModel(["emphasis","itemStyle"]),k=m.getModel(["blur","itemStyle"]),F=m.getModel(["select","itemStyle"]),H=P.get("borderRadius")||0,W=Ut("nodeGroup",HT);if(!W)return;if(h.add(W),W.x=g.x||0,W.y=g.y||0,W.markRedraw(),Z0(W).nodeWidth=b,Z0(W).nodeHeight=S,g.isAboveViewRoot)return W;var q=Ut("background",IV,v,npt);q&&lt(W,q,O&&g.upperLabelHeight);var Y=m.getModel("emphasis"),Z=Y.get("focus"),et=Y.get("blurScope"),J=Y.get("disabled"),it=Z==="ancestor"?o.getAncestorsIndices():Z==="descendant"?o.getDescendantIndices():Z;if(O)av(W)&&Ju(W,!1),q&&(Ju(q,!J),y.setItemGraphicEl(o.dataIndex,q),$E(q,it,et));else{var rt=Ut("content",IV,v,ipt);rt&&dt(W,rt),q.disableMorphing=!0,q&&av(q)&&Ju(q,!1),Ju(W,!J),y.setItemGraphicEl(o.dataIndex,W);var st=m.getShallow("cursor");st&&rt.attr("cursor",st),$E(W,it,et)}return W;function lt(Ht,gt,Mt){var Et=ce(gt);if(Et.dataIndex=o.dataIndex,Et.seriesIndex=r.seriesIndex,gt.setShape({x:0,y:0,width:b,height:S,r:H}),C)pt(gt);else{gt.invisible=!1;var X=o.getVisual("style"),ot=X.stroke,ht=VV(P);ht.fill=ot;var _t=zu(V);_t.fill=V.get("borderColor");var mt=zu(k);mt.fill=k.get("borderColor");var Lt=zu(F);if(Lt.fill=F.get("borderColor"),Mt){var tt=b-2*E;xt(gt,ot,X.opacity,{x:E,y:0,width:tt,height:R})}else gt.removeTextContent();gt.setStyle(ht),gt.ensureState("emphasis").style=_t,gt.ensureState("blur").style=mt,gt.ensureState("select").style=Lt,mc(gt)}Ht.add(gt)}function dt(Ht,gt){var Mt=ce(gt);Mt.dataIndex=o.dataIndex,Mt.seriesIndex=r.seriesIndex;var Et=Math.max(b-2*E,0),X=Math.max(S-2*E,0);if(gt.culling=!0,gt.setShape({x:E,y:E,width:Et,height:X,r:H}),C)pt(gt);else{gt.invisible=!1;var ot=o.getVisual("style"),ht=ot.fill,_t=VV(P);_t.fill=ht,_t.decal=ot.decal;var mt=zu(V),Lt=zu(k),tt=zu(F);xt(gt,ht,ot.opacity,null),gt.setStyle(_t),gt.ensureState("emphasis").style=mt,gt.ensureState("blur").style=Lt,gt.ensureState("select").style=tt,mc(gt)}Ht.add(gt)}function pt(Ht){!Ht.invisible&&a.push(Ht)}function xt(Ht,gt,Mt,Et){var X=m.getModel(Et?kV:PV),ot=en(m.get("name"),null),ht=X.getShallow("show");fn(Ht,nn(m,Et?kV:PV),{defaultText:ht?ot:null,inheritColor:gt,defaultOpacity:Mt,labelFetcher:r,labelDataIndex:o.dataIndex});var _t=Ht.getTextContent();if(_t){var mt=_t.style,Lt=T_(mt.padding||0);Et&&(Ht.setTextConfig({layoutRect:Et}),_t.disableLabelLayout=!0),_t.beforeUpdate=function(){var Q=Math.max((Et?Et.width:Ht.shape.width)-Lt[1]-Lt[3],0),ft=Math.max((Et?Et.height:Ht.shape.height)-Lt[0]-Lt[2],0);(mt.width!==Q||mt.height!==ft)&&_t.setStyle({width:Q,height:ft})},mt.truncateMinChar=2,mt.lineOverflow="truncate",Ft(mt,Et,g);var tt=_t.getState("emphasis");Ft(tt?tt.style:null,Et,g)}}function Ft(Ht,gt,Mt){var Et=Ht?Ht.text:null;if(!gt&&Mt.isLeafRoot&&Et!=null){var X=r.get("drillDownIcon",!0);Ht.text=X?X+" "+Et:Et}}function Ut(Ht,gt,Mt,Et){var X=M!=null&&e[Ht][M],ot=i[Ht];return X?(e[Ht][M]=null,Vt(ot,X)):C||(X=new gt,X instanceof ua&&(X.z2=spt(Mt,Et)),Qt(ot,X)),t[Ht][A]=X}function Vt(Ht,gt){var Mt=Ht[A]={};gt instanceof HT?(Mt.oldX=gt.x,Mt.oldY=gt.y):Mt.oldShape=At({},gt.shape)}function Qt(Ht,gt){var Mt=Ht[A]={},Et=o.parentNode,X=gt instanceof re;if(Et&&(!n||n.direction==="drillDown")){var ot=0,ht=0,_t=i.background[Et.getRawIndex()];!n&&_t&&_t.oldShape&&(ot=_t.oldShape.width,ht=_t.oldShape.height),X?(Mt.oldX=0,Mt.oldY=ht):Mt.oldShape={x:ot,y:ht,width:0,height:0}}Mt.fadein=!X}}function spt(r,t){return r*rpt+t}var Sv=j,lpt=se,K0=-1,cn=(function(){function r(t){var e=t.mappingMethod,n=t.type,i=this.option=ne(t);this.type=n,this.mappingMethod=e,this._normalizeData=fpt[e];var a=r.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],e==="piecewise"?(Jw(i),upt(i)):e==="category"?i.categories?cpt(i):Jw(i,!0):(Yn(e!=="linear"||i.dataExtent),Jw(i))}return r.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},r.prototype.getNormalizer=function(){return qt(this._normalizeData,this)},r.listVisualTypes=function(){return De(r.visualHandlers)},r.isValidType=function(t){return r.visualHandlers.hasOwnProperty(t)},r.eachVisual=function(t,e,n){se(t)?j(t,e,n):e.call(n,t)},r.mapVisual=function(t,e,n){var i,a=Rt(t)?[]:se(t)?{}:(i=!0,null);return r.eachVisual(t,function(o,c){var h=e.call(n,o,c);i?a=h:a[c]=h}),a},r.retrieveVisuals=function(t){var e={},n;return t&&Sv(r.visualHandlers,function(i,a){t.hasOwnProperty(a)&&(e[a]=t[a],n=!0)}),n?e:null},r.prepareVisualTypes=function(t){if(Rt(t))t=t.slice();else if(lpt(t)){var e=[];Sv(t,function(n,i){e.push(i)}),t=e}else return[];return t.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},r.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},r.findPieceIndex=function(t,e,n){for(var i,a=1/0,o=0,c=e.length;o<c;o++){var h=e[o].value;if(h!=null){if(h===t||$t(h)&&h===t+"")return o;n&&m(h,o)}}for(var o=0,c=e.length;o<c;o++){var v=e[o],g=v.interval,y=v.close;if(g){if(g[0]===-1/0){if(fm(y[1],t,g[1]))return o}else if(g[1]===1/0){if(fm(y[0],g[0],t))return o}else if(fm(y[0],g[0],t)&&fm(y[1],t,g[1]))return o;n&&m(g[0],o),n&&m(g[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function m(b,S){var E=Math.abs(b-t);E<a&&(a=E,i=S)}},r.visualHandlers={color:{applyVisual:rd("color"),getColorMapper:function(){var t=this.option;return qt(t.mappingMethod==="category"?function(e,n){return!n&&(e=this._normalizeData(e)),wd.call(this,e)}:function(e,n,i){var a=!!i;return!n&&(e=this._normalizeData(e)),i=IS(e,t.parsedVisual,i),a?i:Co(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Co(IS(t,this.option.parsedVisual),"rgba")},category:wd,piecewise:function(t,e){var n=UT.call(this,e);return n==null&&(n=Co(IS(t,this.option.parsedVisual),"rgba")),n},fixed:Uu}},colorHue:cm(function(t,e){return ml(t,e)}),colorSaturation:cm(function(t,e){return ml(t,null,e)}),colorLightness:cm(function(t,e){return ml(t,null,null,e)}),colorAlpha:cm(function(t,e){return d0(t,e)}),decal:{applyVisual:rd("decal"),_normalizedToVisual:{linear:null,category:wd,piecewise:null,fixed:null}},opacity:{applyVisual:rd("opacity"),_normalizedToVisual:zT([0,1])},liftZ:{applyVisual:rd("liftZ"),_normalizedToVisual:{linear:Uu,category:Uu,piecewise:Uu,fixed:Uu}},symbol:{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);n("symbol",i)},_normalizedToVisual:{linear:GV,category:wd,piecewise:function(t,e){var n=UT.call(this,e);return n==null&&(n=GV.call(this,t)),n},fixed:Uu}},symbolSize:{applyVisual:rd("symbolSize"),_normalizedToVisual:zT([0,1])}},r})();function upt(r){var t=r.pieceList;r.hasSpecialVisual=!1,j(t,function(e,n){e.originIndex=n,e.visual!=null&&(r.hasSpecialVisual=!0)})}function cpt(r){var t=r.categories,e=r.categoryMap={},n=r.visual;if(Sv(t,function(o,c){e[o]=c}),!Rt(n)){var i=[];se(n)?Sv(n,function(o,c){var h=e[c];i[h??K0]=o}):i[K0]=n,n=s8(r,i)}for(var a=t.length-1;a>=0;a--)n[a]==null&&(delete e[t[a]],t.pop())}function Jw(r,t){var e=r.visual,n=[];se(e)?Sv(e,function(a){n.push(a)}):e!=null&&n.push(e);var i={color:1,symbol:1};!t&&n.length===1&&!i.hasOwnProperty(r.type)&&(n[1]=n[0]),s8(r,n)}function cm(r){return{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);n("color",r(e("color"),i))},_normalizedToVisual:zT([0,1])}}function GV(r){var t=this.option.visual;return t[Math.round(We(r,[0,1],[0,t.length-1],!0))]||{}}function rd(r){return function(t,e,n){n(r,this.mapValueToVisual(t))}}function wd(r){var t=this.option.visual;return t[this.option.loop&&r!==K0?r%t.length:r]}function Uu(){return this.option.visual[0]}function zT(r){return{linear:function(t){return We(t,r,this.option.visual,!0)},category:wd,piecewise:function(t,e){var n=UT.call(this,e);return n==null&&(n=We(t,r,this.option.visual,!0)),n},fixed:Uu}}function UT(r){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var n=cn.findPieceIndex(r,e),i=e[n];if(i&&i.visual)return i.visual[this.type]}}function s8(r,t){return r.visual=t,r.type==="color"&&(r.parsedVisual=Pt(t,function(e){var n=wi(e);return n||[0,0,0,1]})),t}var fpt={linear:function(r){return We(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var t=this.option.pieceList,e=cn.findPieceIndex(r,t,!0);if(e!=null)return We(e,[0,t.length-1],[0,1],!0)},category:function(r){var t=this.option.categories?this.option.categoryMap[r]:r;return t??K0},fixed:kr};function fm(r,t,e){return r?t<=e:t<e}var hpt="itemStyle",l8=xe();const ppt={seriesType:"treemap",reset:function(r){var t=r.getData().tree,e=t.root;e.isRemoved()||u8(e,{},r.getViewRoot().getAncestors(),r)}};function u8(r,t,e,n){var i=r.getModel(),a=r.getLayout(),o=r.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var c=i.getModel(hpt),h=dpt(c,t,n),v=o.ensureUniqueItemVisual(r.dataIndex,"style"),g=c.get("borderColor"),y=c.get("borderColorSaturation"),m;y!=null&&(m=FV(h),g=vpt(y,m)),v.stroke=g;var b=r.viewChildren;if(!b||!b.length)m=FV(h),v.fill=m;else{var S=gpt(r,i,a,c,h,b);j(b,function(E,C){if(E.depth>=e.length||E===e[E.depth]){var A=ypt(i,h,E,C,S,n);u8(E,A,e,n)}})}}}function dpt(r,t,e){var n=At({},t),i=e.designatedVisualItemStyle;return j(["color","colorAlpha","colorSaturation"],function(a){i[a]=t[a];var o=r.get(a);i[a]=null,o!=null&&(n[a]=o)}),n}function FV(r){var t=Qw(r,"color");if(t){var e=Qw(r,"colorAlpha"),n=Qw(r,"colorSaturation");return n&&(t=ml(t,null,null,n)),e&&(t=d0(t,e)),t}}function vpt(r,t){return t!=null?ml(t,null,null,r):null}function Qw(r,t){var e=r[t];if(e!=null&&e!=="none")return e}function gpt(r,t,e,n,i,a){if(!(!a||!a.length)){var o=tx(t,"color")||i.color!=null&&i.color!=="none"&&(tx(t,"colorAlpha")||tx(t,"colorSaturation"));if(o){var c=t.get("visualMin"),h=t.get("visualMax"),v=e.dataExtent.slice();c!=null&&c<v[0]&&(v[0]=c),h!=null&&h>v[1]&&(v[1]=h);var g=t.get("colorMappingBy"),y={type:o.name,dataExtent:v,visual:o.range};y.type==="color"&&(g==="index"||g==="id")?(y.mappingMethod="category",y.loop=!0):y.mappingMethod="linear";var m=new cn(y);return l8(m).drColorMappingBy=g,m}}}function tx(r,t){var e=r.get(t);return Rt(e)&&e.length?{name:t,range:e}:null}function ypt(r,t,e,n,i,a){var o=At({},t);if(i){var c=i.type,h=c==="color"&&l8(i).drColorMappingBy,v=h==="index"?n:h==="id"?a.mapIdToIndex(e.getId()):e.getValue(r.get("visualDimension"));o[c]=i.mapValueToVisual(v)}return o}var wv=Math.max,J0=Math.min,BV=Rn,yM=j,c8=["itemStyle","borderWidth"],mpt=["itemStyle","gapWidth"],_pt=["upperLabel","show"],bpt=["upperLabel","height"];const Spt={seriesType:"treemap",reset:function(r,t,e,n){var i=r.option,a=an(r,e).refContainer,o=yr(r.getBoxLayoutParams(),a),c=i.size||[],h=Yt(BV(o.width,c[0]),a.width),v=Yt(BV(o.height,c[1]),a.height),g=n&&n.type,y=["treemapZoomToNode","treemapRootToNode"],m=bv(n,y,r),b=g==="treemapRender"||g==="treemapMove"?n.rootRect:null,S=r.getViewRoot(),E=i8(S);if(g!=="treemapMove"){var C=g==="treemapZoomToNode"?Apt(r,m,S,h,v):b?[b.width,b.height]:[h,v],A=i.sort;A&&A!=="asc"&&A!=="desc"&&(A="desc");var M={squareRatio:i.squareRatio,sort:A,leafDepth:i.leafDepth};S.hostTree.clearLayouts();var L={x:0,y:0,width:C[0],height:C[1],area:C[0]*C[1]};S.setLayout(L),f8(S,M,!1,0),L=S.getLayout(),yM(E,function(O,P){var V=(E[P+1]||S).getValue();O.setLayout(At({dataExtent:[V,V],borderWidth:0,upperHeight:0},L))})}var R=r.getData().tree.root;R.setLayout(Mpt(o,b,m),!0),r.setLayoutInfo(o),h8(R,new le(-o.x,-o.y,e.getWidth(),e.getHeight()),E,S,0)}};function f8(r,t,e,n){var i,a;if(!r.isRemoved()){var o=r.getLayout();i=o.width,a=o.height;var c=r.getModel(),h=c.get(c8),v=c.get(mpt)/2,g=p8(c),y=Math.max(h,g),m=h-v,b=y-v;r.setLayout({borderWidth:h,upperHeight:y,upperLabelHeight:g},!0),i=wv(i-2*m,0),a=wv(a-m-b,0);var S=i*a,E=wpt(r,c,S,t,e,n);if(E.length){var C={x:m,y:b,width:i,height:a},A=J0(i,a),M=1/0,L=[];L.area=0;for(var R=0,O=E.length;R<O;){var P=E[R];L.push(P),L.area+=P.getLayout().area;var V=Cpt(L,A,t.squareRatio);V<=M?(R++,M=V):(L.area-=L.pop().getLayout().area,HV(L,A,C,v,!1),A=J0(C.width,C.height),L.length=L.area=0,M=1/0)}if(L.length&&HV(L,A,C,v,!0),!e){var k=c.get("childrenVisibleMin");k!=null&&S<k&&(e=!0)}for(var R=0,O=E.length;R<O;R++)f8(E[R],t,e,n+1)}}}function wpt(r,t,e,n,i,a){var o=r.children||[],c=n.sort;c!=="asc"&&c!=="desc"&&(c=null);var h=n.leafDepth!=null&&n.leafDepth<=a;if(i&&!h)return r.viewChildren=[];o=je(o,function(b){return!b.isRemoved()}),Ept(o,c);var v=Tpt(t,o,c);if(v.sum===0)return r.viewChildren=[];if(v.sum=xpt(t,e,v.sum,c,o),v.sum===0)return r.viewChildren=[];for(var g=0,y=o.length;g<y;g++){var m=o[g].getValue()/v.sum*e;o[g].setLayout({area:m})}return h&&(o.length&&r.setLayout({isLeafRoot:!0},!0),o.length=0),r.viewChildren=o,r.setLayout({dataExtent:v.dataExtent},!0),o}function xpt(r,t,e,n,i){if(!n)return e;for(var a=r.get("visibleMin"),o=i.length,c=o,h=o-1;h>=0;h--){var v=i[n==="asc"?o-h-1:h].getValue();v/e*t<a&&(c=h,e-=v)}return n==="asc"?i.splice(0,o-c):i.splice(c,o-c),e}function Ept(r,t){return t&&r.sort(function(e,n){var i=t==="asc"?e.getValue()-n.getValue():n.getValue()-e.getValue();return i===0?t==="asc"?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:i}),r}function Tpt(r,t,e){for(var n=0,i=0,a=t.length;i<a;i++)n+=t[i].getValue();var o=r.get("visualDimension"),c;return!t||!t.length?c=[NaN,NaN]:o==="value"&&e?(c=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&c.reverse()):(c=[1/0,-1/0],yM(t,function(h){var v=h.getValue(o);v<c[0]&&(c[0]=v),v>c[1]&&(c[1]=v)})),{sum:n,dataExtent:c}}function Cpt(r,t,e){for(var n=0,i=1/0,a=0,o=void 0,c=r.length;a<c;a++)o=r[a].getLayout().area,o&&(o<i&&(i=o),o>n&&(n=o));var h=r.area*r.area,v=t*t*e;return h?wv(v*n/h,h/(v*i)):1/0}function HV(r,t,e,n,i){var a=t===e.width?0:1,o=1-a,c=["x","y"],h=["width","height"],v=e[c[a]],g=t?r.area/t:0;(i||g>e[h[o]])&&(g=e[h[o]]);for(var y=0,m=r.length;y<m;y++){var b=r[y],S={},E=g?b.getLayout().area/g:0,C=S[h[o]]=wv(g-2*n,0),A=e[c[a]]+e[h[a]]-v,M=y===m-1||A<E?A:E,L=S[h[a]]=wv(M-2*n,0);S[c[o]]=e[c[o]]+J0(n,C/2),S[c[a]]=v+J0(n,L/2),v+=M,b.setLayout(S,!0)}e[c[o]]+=g,e[h[o]]-=g}function Apt(r,t,e,n,i){var a=(t||{}).node,o=[n,i];if(!a||a===e)return o;for(var c,h=n*i,v=h*r.option.zoomToNodeRatio;c=a.parentNode;){for(var g=0,y=c.children,m=0,b=y.length;m<b;m++)g+=y[m].getValue();var S=a.getValue();if(S===0)return o;v*=g/S;var E=c.getModel(),C=E.get(c8),A=Math.max(C,p8(E));v+=4*C*C+(3*C+A)*Math.pow(v,.5),v>$2&&(v=$2),a=c}v<h&&(v=h);var M=Math.pow(v/h,.5);return[n*M,i*M]}function Mpt(r,t,e){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!e)return n;var i=e.node,a=i.getLayout();if(!a)return n;for(var o=[a.width/2,a.height/2],c=i;c;){var h=c.getLayout();o[0]+=h.x,o[1]+=h.y,c=c.parentNode}return{x:r.width/2-o[0],y:r.height/2-o[1]}}function h8(r,t,e,n,i){var a=r.getLayout(),o=e[i],c=o&&o===r;if(!(o&&!c||i===e.length&&r!==n)){r.setLayout({isInView:!0,invisible:!c&&!t.intersect(a),isAboveViewRoot:c},!0);var h=new le(t.x-a.x,t.y-a.y,t.width,t.height);yM(r.viewChildren||[],function(v){h8(v,h,e,n,i+1)})}}function p8(r){return r.get(_pt)?r.get(bpt):0}function Dpt(r){r.registerSeriesModel(qht),r.registerChartView(apt),r.registerVisual(ppt),r.registerLayout(Spt),$ht(r)}function Lpt(r){var t=r.findComponents({mainType:"legend"});!t||!t.length||r.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),i=e.getGraph(),a=i.data,o=n.mapArray(n.getName);a.filterSelf(function(c){var h=a.getItemModel(c),v=h.getShallow("category");if(v!=null){Re(v)&&(v=o[v]);for(var g=0;g<t.length;g++)if(!t[g].isSelected(v))return!1}return!0})})}function Npt(r){var t={};r.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),i=e.getData(),a={};n.each(function(o){var c=n.getName(o);a["ec-"+c]=o;var h=n.getItemModel(o),v=h.getModel("itemStyle").getItemStyle();v.fill||(v.fill=e.getColorFromPalette(c,t)),n.setItemVisual(o,"style",v);for(var g=["symbol","symbolSize","symbolKeepAspect"],y=0;y<g.length;y++){var m=h.getShallow(g[y],!0);m!=null&&n.setItemVisual(o,g[y],m)}}),n.count()&&i.each(function(o){var c=i.getItemModel(o),h=c.getShallow("category");if(h!=null){$t(h)&&(h=a["ec-"+h]);var v=n.getItemVisual(h,"style"),g=i.ensureUniqueItemVisual(o,"style");At(g,v);for(var y=["symbol","symbolSize","symbolKeepAspect"],m=0;m<y.length;m++)i.setItemVisual(o,y[m],n.getItemVisual(h,y[m]))}})})}function hm(r){return r instanceof Array||(r=[r,r]),r}function Rpt(r){r.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),i=hm(t.get("edgeSymbol")),a=hm(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(o){var c=n.getItemModel(o),h=e.getEdgeByIndex(o),v=hm(c.getShallow("symbol",!0)),g=hm(c.getShallow("symbolSize",!0)),y=c.getModel("lineStyle").getLineStyle(),m=n.ensureUniqueItemVisual(o,"style");switch(At(m,y),m.stroke){case"source":{var b=h.node1.getVisual("style");m.stroke=b&&b.fill;break}case"target":{var b=h.node2.getVisual("style");m.stroke=b&&b.fill;break}}v[0]&&h.setVisual("fromSymbol",v[0]),v[1]&&h.setVisual("toSymbol",v[1]),g[0]&&h.setVisual("fromSymbolSize",g[0]),g[1]&&h.setVisual("toSymbolSize",g[1])})})}var WT="-->",ob=function(r){return r.get("autoCurveness")||null},d8=function(r,t){var e=ob(r),n=20,i=[];if(Re(e))n=e;else if(Rt(e)){r.__curvenessList=e;return}t>n&&(n=t);var a=n%2?n+2:n+3;i=[];for(var o=0;o<a;o++)i.push((o%2?o+1:o)/10*(o%2?-1:1));r.__curvenessList=i},xv=function(r,t,e){var n=[r.id,r.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[e.uid,n,i].join(WT)},v8=function(r){var t=r.split(WT);return[t[0],t[2],t[1]].join(WT)},Ipt=function(r,t){var e=xv(r.node1,r.node2,t);return t.__edgeMap[e]},Opt=function(r,t){var e=jT(xv(r.node1,r.node2,t),t),n=jT(xv(r.node2,r.node1,t),t);return e+n},jT=function(r,t){var e=t.__edgeMap;return e[r]?e[r].length:0};function Ppt(r){ob(r)&&(r.__curvenessList=[],r.__edgeMap={},d8(r))}function kpt(r,t,e,n){if(ob(e)){var i=xv(r,t,e),a=e.__edgeMap,o=a[v8(i)];a[i]&&!o?a[i].isForward=!0:o&&a[i]&&(o.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function mM(r,t,e,n){var i=ob(t),a=Rt(i);if(!i)return null;var o=Ipt(r,t);if(!o)return null;for(var c=-1,h=0;h<o.length;h++)if(o[h]===e){c=h;break}var v=Opt(r,t);d8(t,v),r.lineStyle=r.lineStyle||{};var g=xv(r.node1,r.node2,t),y=t.__curvenessList,m=a||v%2?0:1;if(o.isForward)return y[m+c];var b=v8(g),S=jT(b,t),E=y[c+S+m];return n?a?i&&i[0]===0?(S+m)%2?E:-E:((S%2?0:1)+m)%2?E:-E:(S+m)%2?E:-E:y[c+S+m]}function g8(r){var t=r.coordinateSystem;if(!(t&&t.type!=="view")){var e=r.getGraph();e.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),_M(e,r)}}function _M(r,t){r.eachEdge(function(e,n){var i=Fi(e.getModel().get(["lineStyle","curveness"]),-mM(e,t,n,!0),0),a=ss(e.node1.getLayout()),o=ss(e.node2.getLayout()),c=[a,o];+i&&c.push([(a[0]+o[0])/2-(a[1]-o[1])*i,(a[1]+o[1])/2-(o[0]-a[0])*i]),e.setLayout(c)})}function Vpt(r,t){r.eachSeriesByType("graph",function(e){var n=e.get("layout"),i=e.coordinateSystem;if(i&&i.type!=="view"){var a=e.getData(),o=[];j(i.dimensions,function(m){o=o.concat(a.mapDimensionsAll(m))});for(var c=0;c<a.count();c++){for(var h=[],v=!1,g=0;g<o.length;g++){var y=a.get(o[g],c);isNaN(y)||(v=!0),h.push(y)}v?a.setItemLayout(c,i.dataToPoint(h)):a.setItemLayout(c,[NaN,NaN])}_M(a.graph,e)}else(!n||n==="none")&&g8(e)})}function xd(r){var t=r.coordinateSystem;if(t.type!=="view")return 1;var e=r.option.nodeScaleRatio,n=t.scaleX,i=t.getZoom(),a=(i-1)*e+1;return a/n}function Ed(r){var t=r.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var zV=Math.PI,ex=[];function bM(r,t,e,n){var i=r.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),o=r.getData(),c=o.graph,h=a.width/2+a.x,v=a.height/2+a.y,g=Math.min(a.width,a.height)/2,y=o.count();if(o.setLayout({cx:h,cy:v}),!!y){if(e){var m=i.pointToData(n),b=m[0],S=m[1],E=[b-h,S-v];Mh(E,E),Pm(E,E,g),e.setLayout([h+E[0],v+E[1]],!0);var C=r.get(["circular","rotateLabel"]);y8(e,C,h,v)}Gpt[t](r,c,o,g,h,v,y),c.eachEdge(function(A,M){var L=Fi(A.getModel().get(["lineStyle","curveness"]),mM(A,r,M),0),R=ss(A.node1.getLayout()),O=ss(A.node2.getLayout()),P,V=(R[0]+O[0])/2,k=(R[1]+O[1])/2;+L&&(L*=3,P=[h*L+V*(1-L),v*L+k*(1-L)]),A.setLayout([R,O,P])})}}}var Gpt={value:function(r,t,e,n,i,a,o){var c=0,h=e.getSum("value"),v=Math.PI*2/(h||o);t.eachNode(function(g){var y=g.getValue("value"),m=v*(h?y:1)/2;c+=m,g.setLayout([n*Math.cos(c)+i,n*Math.sin(c)+a]),c+=m})},symbolSize:function(r,t,e,n,i,a,o){var c=0;ex.length=o;var h=xd(r);t.eachNode(function(y){var m=Ed(y);isNaN(m)&&(m=2),m<0&&(m=0),m*=h;var b=Math.asin(m/2/n);isNaN(b)&&(b=zV/2),ex[y.dataIndex]=b,c+=b*2});var v=(2*zV-c)/o/2,g=0;t.eachNode(function(y){var m=v+ex[y.dataIndex];g+=m,(!y.getLayout()||!y.getLayout().fixed)&&y.setLayout([n*Math.cos(g)+i,n*Math.sin(g)+a]),g+=m})}};function y8(r,t,e,n){var i=r.getGraphicEl();if(i){var a=r.getModel(),o=a.get(["label","rotate"])||0,c=i.getSymbolPath();if(t){var h=r.getLayout(),v=Math.atan2(h[1]-n,h[0]-e);v<0&&(v=Math.PI*2+v);var g=h[0]<e;g&&(v=v-Math.PI);var y=g?"left":"right";c.setTextConfig({rotation:-v,position:y,origin:"center"});var m=c.ensureState("emphasis");At(m.textConfig||(m.textConfig={}),{position:y})}else c.setTextConfig({rotation:o*=Math.PI/180})}}function Fpt(r){r.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&bM(t,"symbolSize")})}var Nf=dE;function Bpt(r,t,e){for(var n=r,i=t,a=e.rect,o=a.width,c=a.height,h=[a.x+o/2,a.y+c/2],v=e.gravity==null?.1:e.gravity,g=0;g<n.length;g++){var y=n[g];y.p||(y.p=Cc(o*(Math.random()-.5)+h[0],c*(Math.random()-.5)+h[1])),y.pp=ss(y.p),y.edges=null}var m=e.friction==null?.6:e.friction,b=m,S,E;return{warmUp:function(){b=m*.8},setFixed:function(C){n[C].fixed=!0},setUnfixed:function(C){n[C].fixed=!1},beforeStep:function(C){S=C},afterStep:function(C){E=C},step:function(C){S&&S(n,i);for(var A=[],M=n.length,L=0;L<i.length;L++){var R=i[L];if(!R.ignoreForceLayout){var O=R.n1,P=R.n2;Zu(A,P.p,O.p);var V=vE(A)-R.d,k=P.w/(O.w+P.w);isNaN(k)&&(k=0),Mh(A,A),!O.fixed&&Nf(O.p,O.p,A,k*V*b),!P.fixed&&Nf(P.p,P.p,A,-(1-k)*V*b)}}for(var L=0;L<M;L++){var F=n[L];F.fixed||(Zu(A,h,F.p),Nf(F.p,F.p,A,v*b))}for(var L=0;L<M;L++)for(var O=n[L],H=L+1;H<M;H++){var P=n[H];Zu(A,P.p,O.p);var V=vE(A);V===0&&(ZC(A,Math.random()-.5,Math.random()-.5),V=1);var W=(O.rep+P.rep)/V/V;!O.fixed&&Nf(O.pp,O.pp,A,W),!P.fixed&&Nf(P.pp,P.pp,A,-W)}for(var q=[],L=0;L<M;L++){var F=n[L];F.fixed||(Zu(q,F.p,F.pp),Nf(F.p,F.p,q,b),ri(F.pp,F.p))}b=b*.992;var Y=b<.01;E&&E(n,i,Y),C&&C(Y)}}}function Hpt(r){r.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view"))if(t.get("layout")==="force"){var n=t.preservedPoints||{},i=t.getGraph(),a=i.data,o=i.edgeData,c=t.getModel("force"),h=c.get("initLayout");t.preservedPoints?a.each(function(L){var R=a.getId(L);a.setItemLayout(L,n[R]||[NaN,NaN])}):!h||h==="none"?g8(t):h==="circular"&&bM(t,"value");var v=a.getDataExtent("value"),g=o.getDataExtent("value"),y=c.get("repulsion"),m=c.get("edgeLength"),b=Rt(y)?y:[y,y],S=Rt(m)?m:[m,m];S=[S[1],S[0]];var E=a.mapArray("value",function(L,R){var O=a.getItemLayout(R),P=We(L,v,b);return isNaN(P)&&(P=(b[0]+b[1])/2),{w:P,rep:P,fixed:a.getItemModel(R).get("fixed"),p:!O||isNaN(O[0])||isNaN(O[1])?null:O}}),C=o.mapArray("value",function(L,R){var O=i.getEdgeByIndex(R),P=We(L,g,S);isNaN(P)&&(P=(S[0]+S[1])/2);var V=O.getModel(),k=Fi(O.getModel().get(["lineStyle","curveness"]),-mM(O,t,R,!0),0);return{n1:E[O.node1.dataIndex],n2:E[O.node2.dataIndex],d:P,curveness:k,ignoreForceLayout:V.get("ignoreForceLayout")}}),A=e.getBoundingRect(),M=Bpt(E,C,{rect:A,gravity:c.get("gravity"),friction:c.get("friction")});M.beforeStep(function(L,R){for(var O=0,P=L.length;O<P;O++)L[O].fixed&&ri(L[O].p,i.getNodeByIndex(O).getLayout())}),M.afterStep(function(L,R,O){for(var P=0,V=L.length;P<V;P++)L[P].fixed||i.getNodeByIndex(P).setLayout(L[P].p),n[a.getId(P)]=L[P].p;for(var P=0,V=R.length;P<V;P++){var k=R[P],F=i.getEdgeByIndex(P),H=k.n1.p,W=k.n2.p,q=F.getLayout();q=q?q.slice():[],q[0]=q[0]||[],q[1]=q[1]||[],ri(q[0],H),ri(q[1],W),+k.curveness&&(q[2]=[(H[0]+W[0])/2-(H[1]-W[1])*k.curveness,(H[1]+W[1])/2-(W[0]-H[0])*k.curveness]),F.setLayout(q)}}),t.forceLayout=M,t.preservedPoints=n,M.step()}else t.forceLayout=null})}function zpt(r,t,e){var n=an(r,t),i=At(r.getBoxLayoutParams(),{aspect:e}),a=yr(i,n.refContainer);return ZH(r,a,e)}function Upt(r,t){var e=[];return r.eachSeriesByType("graph",function(n){Gv({targetModel:n,coordSysType:"view",coordSysProvider:i,isDefaultDataCoordSys:!0});function i(){var a=n.getData(),o=a.mapArray(function(S){var E=a.getItemModel(S);return[+E.get("x"),+E.get("y")]}),c=[],h=[];P_(o,c,h),h[0]-c[0]===0&&(h[0]+=1,c[0]-=1),h[1]-c[1]===0&&(h[1]+=1,c[1]-=1);var v=(h[0]-c[0])/(h[1]-c[1]),g=zpt(n,t,v);isNaN(v)&&(c=[g.x,g.y],h=[g.x+g.width,g.y+g.height]);var y=h[0]-c[0],m=h[1]-c[1],b=new Pc(null,{api:t,ecModel:r});return b.zoomLimit=n.get("scaleLimit"),b.setBoundingRect(c[0],c[1],y,m),b.setViewRect(g.x,g.y,g.width,g.height),b.setCenter(n.get("center")),b.setZoom(n.get("zoom")),e.push(b),b}}),e}var UV=Wr.prototype,rx=Iv.prototype,m8=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r})();(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(m8);function nx(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var _8=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:yt.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new m8},t.prototype.buildPath=function(e,n){nx(n)?UV.buildPath.call(this,e,n):rx.buildPath.call(this,e,n)},t.prototype.pointAt=function(e){return nx(this.shape)?UV.pointAt.call(this,e):rx.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var n=this.shape,i=nx(n)?[n.x2-n.x1,n.y2-n.y1]:rx.tangentAt.call(this,e);return Mh(i,i)},t})(Ee),ix=["fromSymbol","toSymbol"];function WV(r){return"_"+r+"Type"}function jV(r,t,e){var n=t.getItemVisual(e,r);if(!n||n==="none")return n;var i=t.getItemVisual(e,r+"Size"),a=t.getItemVisual(e,r+"Rotate"),o=t.getItemVisual(e,r+"Offset"),c=t.getItemVisual(e,r+"KeepAspect"),h=Gh(i),v=Nc(o||0,h);return n+h+v+(a||"")+(c||"")}function YV(r,t,e){var n=t.getItemVisual(e,r);if(!(!n||n==="none")){var i=t.getItemVisual(e,r+"Size"),a=t.getItemVisual(e,r+"Rotate"),o=t.getItemVisual(e,r+"Offset"),c=t.getItemVisual(e,r+"KeepAspect"),h=Gh(i),v=Nc(o||0,h),g=Xr(n,-h[0]/2+v[0],-h[1]/2+v[1],h[0],h[1],null,c);return g.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,g.name=r,g}}function Wpt(r){var t=new _8({name:"line",subPixelOptimize:!0});return YT(t.shape,r),t}function YT(r,t){r.x1=t[0][0],r.y1=t[0][1],r.x2=t[1][0],r.y2=t[1][1],r.percent=1;var e=t[2];e?(r.cpx1=e[0],r.cpy1=e[1]):(r.cpx1=NaN,r.cpy1=NaN)}var SM=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this)||this;return a._createLine(e,n,i),a}return t.prototype._createLine=function(e,n,i){var a=e.hostModel,o=e.getItemLayout(n),c=e.getItemVisual(n,"z2"),h=Wpt(o);h.shape.percent=0,hr(h,{z2:Jt(c,0),shape:{percent:1}},a,n),this.add(h),j(ix,function(v){var g=YV(v,e,n);this.add(g),this[WV(v)]=jV(v,e,n)},this),this._updateCommonStl(e,n,i)},t.prototype.updateData=function(e,n,i){var a=e.hostModel,o=this.childOfName("line"),c=e.getItemLayout(n),h={shape:{}};YT(h.shape,c),Pe(o,h,a,n),j(ix,function(v){var g=jV(v,e,n),y=WV(v);if(this[y]!==g){this.remove(this.childOfName(v));var m=YV(v,e,n);this.add(m)}this[y]=g},this),this._updateCommonStl(e,n,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,n,i){var a=e.hostModel,o=this.childOfName("line"),c=i&&i.emphasisLineStyle,h=i&&i.blurLineStyle,v=i&&i.selectLineStyle,g=i&&i.labelStatesModels,y=i&&i.emphasisDisabled,m=i&&i.focus,b=i&&i.blurScope;if(!i||e.hasItemOption){var S=e.getItemModel(n),E=S.getModel("emphasis");c=E.getModel("lineStyle").getLineStyle(),h=S.getModel(["blur","lineStyle"]).getLineStyle(),v=S.getModel(["select","lineStyle"]).getLineStyle(),y=E.get("disabled"),m=E.get("focus"),b=E.get("blurScope"),g=nn(S)}var C=e.getItemVisual(n,"style"),A=C.stroke;o.useStyle(C),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=c,o.ensureState("blur").style=h,o.ensureState("select").style=v,j(ix,function(P){var V=this.childOfName(P);if(V){V.setColor(A),V.style.opacity=C.opacity;for(var k=0;k<hi.length;k++){var F=hi[k],H=o.getState(F);if(H){var W=H.style||{},q=V.ensureState(F),Y=q.style||(q.style={});W.stroke!=null&&(Y[V.__isEmptyBrush?"stroke":"fill"]=W.stroke),W.opacity!=null&&(Y.opacity=W.opacity)}}V.markRedraw()}},this);var M=a.getRawValue(n);fn(this,g,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(P,V){return a.getFormattedLabel(P,V,e.dataType)}},inheritColor:A||yt.color.neutral99,defaultOpacity:C.opacity,defaultText:(M==null?e.getName(n):isFinite(M)?Ur(M):M)+""});var L=this.getTextContent();if(L){var R=g.normal;L.__align=L.style.align,L.__verticalAlign=L.style.verticalAlign,L.__position=R.get("position")||"middle";var O=R.get("distance");Rt(O)||(O=[O,O]),L.__labelDistance=O}this.setTextConfig({position:null,local:!0,inside:!1}),gr(this,m,b,y)},t.prototype.highlight=function(){ys(this)},t.prototype.downplay=function(){ms(this)},t.prototype.updateLayout=function(e,n){this.setLinePoints(e.getItemLayout(n))},t.prototype.setLinePoints=function(e){var n=this.childOfName("line");YT(n.shape,e),n.dirty()},t.prototype.beforeUpdate=function(){var e=this,n=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),a=e.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var o=1,c=this.parent;c;)c.scaleX&&(o/=c.scaleX),c=c.parent;var h=e.childOfName("line");if(!this.__dirty&&!h.__dirty)return;var v=h.shape.percent,g=h.pointAt(0),y=h.pointAt(v),m=Zu([],y,g);Mh(m,m);function b(H,W){var q=H.__specifiedRotation;if(q==null){var Y=h.tangentAt(W);H.attr("rotation",(W===1?-1:1)*Math.PI/2-Math.atan2(Y[1],Y[0]))}else H.attr("rotation",q)}if(n&&(n.setPosition(g),b(n,0),n.scaleX=n.scaleY=o*v,n.markRedraw()),i&&(i.setPosition(y),b(i,1),i.scaleX=i.scaleY=o*v,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var S=void 0,E=void 0,C=a.__labelDistance,A=C[0]*o,M=C[1]*o,L=v/2,R=h.tangentAt(L),O=[R[1],-R[0]],P=h.pointAt(L);O[1]>0&&(O[0]=-O[0],O[1]=-O[1]);var V=R[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var k=-Math.atan2(R[1],R[0]);y[0]<g[0]&&(k=Math.PI+k),a.rotation=k}var F=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":F=-M,E="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":F=M,E="top";break;default:F=0,E="middle"}switch(a.__position){case"end":a.x=m[0]*A+y[0],a.y=m[1]*M+y[1],S=m[0]>.8?"left":m[0]<-.8?"right":"center",E=m[1]>.8?"top":m[1]<-.8?"bottom":"middle";break;case"start":a.x=-m[0]*A+g[0],a.y=-m[1]*M+g[1],S=m[0]>.8?"right":m[0]<-.8?"left":"center",E=m[1]>.8?"bottom":m[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=A*V+g[0],a.y=g[1]+F,S=R[0]<0?"right":"left",a.originX=-A*V,a.originY=-F;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=P[0],a.y=P[1]+F,S="center",a.originY=-F;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-A*V+y[0],a.y=y[1]+F,S=R[0]>=0?"right":"left",a.originX=A*V,a.originY=-F;break}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||E,align:a.__align||S})}},t})(re),wM=(function(){function r(t){this.group=new re,this._LineCtor=t||SM}return r.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=t,a||i.removeAll();var o=$V(t);t.diff(a).add(function(c){e._doAdd(t,c,o)}).update(function(c,h){e._doUpdate(a,t,h,c,o)}).remove(function(c){i.remove(a.getItemGraphicEl(c))}).execute()},r.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=$V(t),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function n(c){!c.isGroup&&!jpt(c)&&(c.incremental=!0,c.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var a=e.getItemLayout(i);if(ax(a)){var o=new this._LineCtor(e,i,this._seriesScope);o.traverse(n),this.group.add(o),e.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(t){Rl(this._progressiveEls||this.group,t)},r.prototype._doAdd=function(t,e,n){var i=t.getItemLayout(e);if(ax(i)){var a=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,a),this.group.add(a)}},r.prototype._doUpdate=function(t,e,n,i,a){var o=t.getItemGraphicEl(n);if(!ax(e.getItemLayout(i))){this.group.remove(o);return}o?o.updateData(e,i,a):o=new this._LineCtor(e,i,a),e.setItemGraphicEl(i,o),this.group.add(o)},r})();function jpt(r){return r.animators&&r.animators.length>0}function $V(r){var t=r.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:nn(t)}}function qV(r){return isNaN(r[0])||isNaN(r[1])}function ax(r){return r&&!qV(r[0])&&!qV(r[1])}var ox=[],sx=[],lx=[],Rf=mn,ux=ac,XV=Math.abs;function ZV(r,t,e){for(var n=r[0],i=r[1],a=r[2],o=1/0,c,h=e*e,v=.1,g=.1;g<=.9;g+=.1){ox[0]=Rf(n[0],i[0],a[0],g),ox[1]=Rf(n[1],i[1],a[1],g);var y=XV(ux(ox,t)-h);y<o&&(o=y,c=g)}for(var m=0;m<32;m++){var b=c+v;sx[0]=Rf(n[0],i[0],a[0],c),sx[1]=Rf(n[1],i[1],a[1],c),lx[0]=Rf(n[0],i[0],a[0],b),lx[1]=Rf(n[1],i[1],a[1],b);var y=ux(sx,t)-h;if(XV(y)<.01)break;var S=ux(lx,t)-h;v/=2,y<0?S>=0?c=c+v:c=c-v:S>=0?c=c-v:c=c+v}return c}function cx(r,t){var e=[],n=Qd,i=[[],[],[]],a=[[],[]],o=[];t/=2,r.eachEdge(function(c,h){var v=c.getLayout(),g=c.getVisual("fromSymbol"),y=c.getVisual("toSymbol");v.__original||(v.__original=[ss(v[0]),ss(v[1])],v[2]&&v.__original.push(ss(v[2])));var m=v.__original;if(v[2]!=null){if(ri(i[0],m[0]),ri(i[1],m[2]),ri(i[2],m[1]),g&&g!=="none"){var b=Ed(c.node1),S=ZV(i,m[0],b*t);n(i[0][0],i[1][0],i[2][0],S,e),i[0][0]=e[3],i[1][0]=e[4],n(i[0][1],i[1][1],i[2][1],S,e),i[0][1]=e[3],i[1][1]=e[4]}if(y&&y!=="none"){var b=Ed(c.node2),S=ZV(i,m[1],b*t);n(i[0][0],i[1][0],i[2][0],S,e),i[1][0]=e[1],i[2][0]=e[2],n(i[0][1],i[1][1],i[2][1],S,e),i[1][1]=e[1],i[2][1]=e[2]}ri(v[0],i[0]),ri(v[1],i[2]),ri(v[2],i[1])}else{if(ri(a[0],m[0]),ri(a[1],m[1]),Zu(o,a[1],a[0]),Mh(o,o),g&&g!=="none"){var b=Ed(c.node1);dE(a[0],a[0],o,b*t)}if(y&&y!=="none"){var b=Ed(c.node2);dE(a[1],a[1],o,-b*t)}ri(v[0],a[0]),ri(v[1],a[1])}})}var b8=xe();function Ypt(r){if(r)return b8(r).bridge}function KV(r,t){r&&(b8(r).bridge=t)}function JV(r){return r.type==="view"}var $pt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){var i=new Uv,a=new wM,o=this.group,c=new re;this._controller=new Oc(n.getZr()),this._controllerHost={target:c},c.add(i.group),c.add(a.group),o.add(c),this._symbolDraw=i,this._lineDraw=a,this._mainGroup=c,this._firstRender=!0},t.prototype.render=function(e,n,i){var a=this,o=e.coordinateSystem,c=!1;this._model=e,this._api=i,this._active=!0;var h=this._getThumbnailInfo();h&&h.bridge.reset(i);var v=this._symbolDraw,g=this._lineDraw;if(JV(o)){var y={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?this._mainGroup.attr(y):Pe(this._mainGroup,y,e)}cx(e.getGraph(),xd(e));var m=e.getData();v.updateData(m);var b=e.getEdgeData();g.updateData(b),this._updateNodeAndLinkScale(),this._updateController(null,e,i),clearTimeout(this._layoutTimeout);var S=e.forceLayout,E=e.get(["force","layoutAnimation"]);S&&(c=!0,this._startForceLayoutIteration(S,i,E));var C=e.get("layout");m.graph.eachNode(function(R){var O=R.dataIndex,P=R.getGraphicEl(),V=R.getModel();if(P){P.off("drag").off("dragend");var k=V.get("draggable");k&&P.on("drag",function(H){switch(C){case"force":S.warmUp(),!a._layouting&&a._startForceLayoutIteration(S,i,E),S.setFixed(O),m.setItemLayout(O,[P.x,P.y]);break;case"circular":m.setItemLayout(O,[P.x,P.y]),R.setLayout({fixed:!0},!0),bM(e,"symbolSize",R,[H.offsetX,H.offsetY]),a.updateLayout(e);break;case"none":default:m.setItemLayout(O,[P.x,P.y]),_M(e.getGraph(),e),a.updateLayout(e);break}}).on("dragend",function(){S&&S.setUnfixed(O)}),P.setDraggable(k,!!V.get("cursor"));var F=V.get(["emphasis","focus"]);F==="adjacency"&&(ce(P).focus=R.getAdjacentDataIndices())}}),m.graph.eachEdge(function(R){var O=R.getGraphicEl(),P=R.getModel().get(["emphasis","focus"]);O&&P==="adjacency"&&(ce(O).focus={edge:[R.dataIndex],node:[R.node1.dataIndex,R.node2.dataIndex]})});var A=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),M=m.getLayout("cx"),L=m.getLayout("cy");m.graph.eachNode(function(R){y8(R,A,M,L)}),this._firstRender=!1,c||this._renderThumbnail(e,i,this._symbolDraw,this._lineDraw)},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,n,i){var a=this,o=!1;(function c(){e.step(function(h){a.updateLayout(a._model),(h||!o)&&(o=!0,a._renderThumbnail(a._model,n,a._symbolDraw,a._lineDraw)),(a._layouting=!h)&&(i?a._layoutTimeout=setTimeout(c,16):c())})})()},t.prototype._updateController=function(e,n,i){var a=this._controller,o=this._controllerHost,c=n.coordinateSystem;if(!JV(c)){a.disable();return}a.enable(n.get("roam"),{api:i,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(h,v,g){return c.containPoint([v,g])},isInClip:function(h,v,g){return!e||e.contain(v,g)}}}),o.zoomLimit=n.get("scaleLimit"),o.zoom=c.getZoom(),a.off("pan").off("zoom").on("pan",function(h){i.dispatchAction({seriesId:n.id,type:"graphRoam",dx:h.dx,dy:h.dy})}).on("zoom",function(h){i.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:h.scale,originX:h.originX,originY:h.originY})})},t.prototype.updateViewOnPan=function(e,n,i){this._active&&(cM(this._controllerHost,i.dx,i.dy),this._updateThumbnailWindow())},t.prototype.updateViewOnZoom=function(e,n,i){this._active&&(fM(this._controllerHost,i.zoom,i.originX,i.originY),this._updateNodeAndLinkScale(),cx(e.getGraph(),xd(e)),this._lineDraw.updateLayout(),n.updateLabelLayout(),this._updateThumbnailWindow())},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,n=e.getData(),i=xd(e);n.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(i)})},t.prototype.updateLayout=function(e){this._active&&(cx(e.getGraph(),xd(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},t.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},t.prototype._getThumbnailInfo=function(){var e=this._model,n=e.coordinateSystem;if(n.type==="view"){var i=Ypt(e);if(i)return{bridge:i,coordSys:n}}},t.prototype._updateThumbnailWindow=function(){var e=this._getThumbnailInfo();e&&e.bridge.updateWindow(e.coordSys.transform,this._api)},t.prototype._renderThumbnail=function(e,n,i,a){var o=this._getThumbnailInfo();if(o){var c=new re,h=i.group.children(),v=a.group.children(),g=new re,y=new re;c.add(y),c.add(g);for(var m=0;m<h.length;m++){var b=h[m],S=b.children()[0],E=b.x,C=b.y,A=ne(S.shape),M=At(A,{width:S.scaleX,height:S.scaleY,x:E-S.scaleX/2,y:C-S.scaleY/2}),L=ne(S.style),R=new S.constructor({shape:M,style:L,z2:151});y.add(R)}for(var m=0;m<v.length;m++){var b=v[m],O=b.children()[0],L=ne(O.style),M=ne(O.shape),P=new _8({style:L,shape:M,z2:151});g.add(P)}o.bridge.renderContent({api:n,roamType:e.get("roam"),viewportRect:null,group:c,targetTrans:o.coordSys.transform})}},t.type="graph",t})(Ke);function If(r){return"_EC_"+r}var qpt=(function(){function r(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var n=this._nodesMap;if(!n[If(t)]){var i=new Wu(t,e);return i.hostGraph=this,this.nodes.push(i),n[If(t)]=i,i}},r.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},r.prototype.getNodeById=function(t){return this._nodesMap[If(t)]},r.prototype.addEdge=function(t,e,n){var i=this._nodesMap,a=this._edgesMap;if(Re(t)&&(t=this.nodes[t]),Re(e)&&(e=this.nodes[e]),t instanceof Wu||(t=i[If(t)]),e instanceof Wu||(e=i[If(e)]),!(!t||!e)){var o=t.id+"-"+e.id,c=new S8(t,e,n);return c.hostGraph=this,this._directed&&(t.outEdges.push(c),e.inEdges.push(c)),t.edges.push(c),t!==e&&e.edges.push(c),this.edges.push(c),a[o]=c,c}},r.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},r.prototype.getEdge=function(t,e){t instanceof Wu&&(t=t.id),e instanceof Wu&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},r.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&t.call(e,n[a],a)},r.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&t.call(e,n[a],a)},r.prototype.breadthFirstTraverse=function(t,e,n,i){if(e instanceof Wu||(e=this._nodesMap[If(e)]),!!e){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,e,null))for(var c=[e];c.length;)for(var h=c.shift(),v=h[a],o=0;o<v.length;o++){var g=v[o],y=g.node1===h?g.node2:g.node1;if(!y.__visited){if(t.call(i,y,h))return;c.push(y),y.__visited=!0}}}},r.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,a=0,o=n.length;a<o;a++)n[a].dataIndex=-1;for(var a=0,o=t.count();a<o;a++)n[t.getRawIndex(a)].dataIndex=a;e.filterSelf(function(c){var h=i[e.getRawIndex(c)];return h.node1.dataIndex>=0&&h.node2.dataIndex>=0});for(var a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(var a=0,o=e.count();a<o;a++)i[e.getRawIndex(a)].dataIndex=a},r.prototype.clone=function(){for(var t=new r(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},r})(),Wu=(function(){function r(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},r.prototype.getTrajectoryDataIndices=function(){for(var t=Kt(),e=Kt(),n=0,i=this.edges.length;n<i;n++){var a=this.edges[n];if(!(a.dataIndex<0)){t.set(a.dataIndex,!0);for(var o=[a.node1],c=[a.node2],h=0;h<o.length;){var v=o[h];h++,e.set(v.dataIndex,!0);for(var g=v.inEdges,y=0,m=g.length,b=void 0,S=void 0;y<m;y++)b=g[y],S=b.dataIndex,S>=0&&!t.hasKey(S)&&(t.set(S,!0),o.push(b.node1))}for(h=0;h<c.length;){var E=c[h];h++,e.set(E.dataIndex,!0);for(var C=E.outEdges,y=0,A=C.length,M=void 0,L=void 0;y<A;y++)M=C[y],L=M.dataIndex,L>=0&&!t.hasKey(L)&&(t.set(L,!0),c.push(M.node2))}}}return{edge:t.keys(),node:e.keys()}},r})(),S8=(function(){function r(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=n??-1}return r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var t=Kt(),e=Kt();t.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var o=n[a];a++,e.set(o.dataIndex,!0);for(var c=o.inEdges,h=0,v=c.length,g=void 0,y=void 0;h<v;h++)g=o.inEdges[h],y=g.dataIndex,y>=0&&!t.hasKey(y)&&(t.set(y,!0),n.push(g.node1))}for(a=0;a<i.length;){var m=i[a];a++,e.set(m.dataIndex,!0);for(var b=m.outEdges,h=0,v=b.length,S=void 0,E=void 0;h<v;h++)S=m.outEdges[h],E=S.dataIndex,E>=0&&!t.hasKey(E)&&(t.set(E,!0),i.push(S.node2))}return{edge:t.keys(),node:e.keys()}},r})();function w8(r,t){return{getValue:function(e){var n=this[r][t];return n.getStore().get(n.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,n){this.dataIndex>=0&&this[r][t].setItemVisual(this.dataIndex,e,n)},getVisual:function(e){return this[r][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,n){this.dataIndex>=0&&this[r][t].setItemLayout(this.dataIndex,e,n)},getLayout:function(){return this[r][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][t].getRawIndex(this.dataIndex)}}}Zr(Wu,w8("hostGraph","data"));Zr(S8,w8("hostGraph","edgeData"));function xM(r,t,e,n,i){for(var a=new qpt(n),o=0;o<r.length;o++)a.addNode(Rn(r[o].id,r[o].name,o),o);for(var c=[],h=[],v=0,o=0;o<t.length;o++){var g=t[o],y=g.source,m=g.target;a.addEdge(y,m,v)&&(h.push(g),c.push(Rn(en(g.id,null),y+" > "+m)),v++)}var b=e.get("coordinateSystem"),S;if(b==="cartesian2d"||b==="polar"||b==="matrix")S=Cs(r,e);else{var E=Vv.get(b),C=E?E.dimensions||[]:[];ve(C,"value")<0&&C.concat(["value"]);var A=Bv(r,{coordDimensions:C,encodeDefine:e.getEncode()}).dimensions;S=new ui(A,e),S.initData(r)}var M=new ui(["value"],e);return M.initData(h,c),i&&i(S,M),r8({mainData:S,struct:a,structAttr:"graph",datas:{node:S,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var Xpt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new zh(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){r.prototype.mergeDefaultAndTheme.apply(this,arguments),vc(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[],o=this;if(a&&i){Ppt(this);var c=xM(a,i,this,!0,h);return j(c.edges,function(v){kpt(v.node1,v.node2,this,v.dataIndex)},this),c.data}function h(v,g){v.wrapMethod("getItemModel",function(S){var E=o._categoriesModels,C=S.getShallow("category"),A=E[C];return A&&(A.parentModel=S.parentModel,S.parentModel=A),S});var y=Me.prototype.getModel;function m(S,E){var C=y.call(this,S,E);return C.resolveParentPath=b,C}g.wrapMethod("getItemModel",function(S){return S.resolveParentPath=b,S.getModel=m,S});function b(S){if(S&&(S[0]==="label"||S[1]==="label")){var E=S.slice();return S[0]==="label"?E[0]="edgeLabel":S[1]==="label"&&(E[1]="edgeLabel"),E}return S}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,n,i){if(i==="edge"){var a=this.getData(),o=this.getDataParams(e,i),c=a.graph.getEdgeByIndex(e),h=a.getName(c.node1.dataIndex),v=a.getName(c.node2.dataIndex),g=[];return h!=null&&g.push(h),v!=null&&g.push(v),qr("nameValue",{name:g.join(" > "),value:o.value,noValue:o.value==null})}var y=L4({series:this,dataIndex:e,multipleSeries:n});return y},t.prototype._updateCategoriesData=function(){var e=Pt(this.option.categories||[],function(i){return i.value!=null?i:At({value:0},i)}),n=new ui(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:yt.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:yt.color.primary}}},t})(or);function Zpt(r){r.registerChartView($pt),r.registerSeriesModel(Xpt),r.registerProcessor(Lpt),r.registerVisual(Npt),r.registerVisual(Rpt),r.registerLayout(Vpt),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,Fpt),r.registerLayout(Hpt),r.registerCoordinateSystem("graphView",{dimensions:Pc.dimensions,create:Upt}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},kr),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},kr),r.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",query:t},function(i){var a=n.getViewOfSeriesModel(i);a&&(t.dx!=null&&t.dy!=null&&a.updateViewOnPan(i,n,t),t.zoom!=null&&t.originX!=null&&t.originY!=null&&a.updateViewOnZoom(i,n,t));var o=i.coordinateSystem,c=nb(o,t,i.get("scaleLimit"));i.setCenter&&i.setCenter(c.center),i.setZoom&&i.setZoom(c.zoom)})})}var QV=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this)||this;ce(a).dataType="node",a.z2=2;var o=new Oe;return a.setTextContent(o),a.updateData(e,n,i,!0),a}return t.prototype.updateData=function(e,n,i,a){var o=this,c=e.graph.getNodeByIndex(n),h=e.hostModel,v=c.getModel(),g=v.getModel("emphasis"),y=e.getItemLayout(n),m=At(xo(v.getModel("itemStyle"),y,!0),y),b=this;if(isNaN(m.startAngle)){b.setShape(m);return}a?b.setShape(m):Pe(b,{shape:m},h,n);var S=At(xo(v.getModel("itemStyle"),y,!0),y);o.setShape(S),o.useStyle(e.getItemVisual(n,"style")),rn(o,v),this._updateLabel(h,v,c),e.setItemGraphicEl(n,b),rn(b,v,"itemStyle");var E=g.get("focus");gr(this,E==="adjacency"?c.getAdjacentDataIndices():E,g.get("blurScope"),g.get("disabled"))},t.prototype._updateLabel=function(e,n,i){var a=this.getTextContent(),o=i.getLayout(),c=(o.startAngle+o.endAngle)/2,h=Math.cos(c),v=Math.sin(c),g=n.getModel("label");a.ignore=!g.get("show");var y=nn(n),m=i.getVisual("style");fn(a,y,{labelFetcher:{getFormattedLabel:function(M,L,R,O,P,V){return e.getFormattedLabel(M,L,"node",O,Fi(P,y.normal&&y.normal.get("formatter"),n.get("name")),V)}},labelDataIndex:i.dataIndex,defaultText:i.dataIndex+"",inheritColor:m.fill,defaultOpacity:m.opacity,defaultOutsidePosition:"startArc"});var b=g.get("position")||"outside",S=g.get("distance")||0,E;b==="outside"?E=o.r+S:E=(o.r+o.r0)/2,this.textConfig={inside:b!=="outside"};var C=b!=="outside"?g.get("align")||"center":h>0?"left":"right",A=b!=="outside"?g.get("verticalAlign")||"middle":v>0?"top":"bottom";a.attr({x:h*E+o.cx,y:v*E+o.cy,rotation:0,style:{align:C,verticalAlign:A}})},t})($n),Kpt=(function(r){bt(t,r);function t(e,n,i,a){var o=r.call(this)||this;return ce(o).dataType="edge",o.updateData(e,n,i,a,!0),o}return t.prototype.buildPath=function(e,n){e.moveTo(n.s1[0],n.s1[1]);var i=.7,a=n.clockwise;e.arc(n.cx,n.cy,n.r,n.sStartAngle,n.sEndAngle,!a),e.bezierCurveTo((n.cx-n.s2[0])*i+n.s2[0],(n.cy-n.s2[1])*i+n.s2[1],(n.cx-n.t1[0])*i+n.t1[0],(n.cy-n.t1[1])*i+n.t1[1],n.t1[0],n.t1[1]),e.arc(n.cx,n.cy,n.r,n.tStartAngle,n.tEndAngle,!a),e.bezierCurveTo((n.cx-n.t2[0])*i+n.t2[0],(n.cy-n.t2[1])*i+n.t2[1],(n.cx-n.s1[0])*i+n.s1[0],(n.cy-n.s1[1])*i+n.s1[1],n.s1[0],n.s1[1]),e.closePath()},t.prototype.updateData=function(e,n,i,a,o){var c=e.hostModel,h=n.graph.getEdgeByIndex(i),v=h.getLayout(),g=h.node1.getModel(),y=n.getItemModel(h.dataIndex),m=y.getModel("lineStyle"),b=y.getModel("emphasis"),S=b.get("focus"),E=At(xo(g.getModel("itemStyle"),v,!0),v),C=this;if(isNaN(E.sStartAngle)||isNaN(E.tStartAngle)){C.setShape(E);return}o?(C.setShape(E),tG(C,h,e,m)):(ca(C),tG(C,h,e,m),Pe(C,{shape:E},c,i)),gr(this,S==="adjacency"?h.getAdjacentDataIndices():S,b.get("blurScope"),b.get("disabled")),rn(C,y,"lineStyle"),n.setItemGraphicEl(h.dataIndex,C)},t})(Ee);function tG(r,t,e,n){var i=t.node1,a=t.node2,o=r.style;r.setStyle(n.getLineStyle());var c=n.get("color");switch(c){case"source":o.fill=e.getItemVisual(i.dataIndex,"style").fill,o.decal=i.getVisual("style").decal;break;case"target":o.fill=e.getItemVisual(a.dataIndex,"style").fill,o.decal=a.getVisual("style").decal;break;case"gradient":var h=e.getItemVisual(i.dataIndex,"style").fill,v=e.getItemVisual(a.dataIndex,"style").fill;if($t(h)&&$t(v)){var g=r.shape,y=(g.s1[0]+g.s2[0])/2,m=(g.s1[1]+g.s2[1])/2,b=(g.t1[0]+g.t2[0])/2,S=(g.t1[1]+g.t2[1])/2;o.fill=new Rh(y,m,b,S,[{offset:0,color:h},{offset:1,color:v}],!0)}break}}var Jpt=Math.PI/180,Qpt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,i){var a=e.getData(),o=this._data,c=this.group,h=-e.get("startAngle")*Jpt;if(a.diff(o).add(function(g){var y=a.getItemLayout(g);if(y){var m=new QV(a,g,h);ce(m).dataIndex=g,c.add(m)}}).update(function(g,y){var m=o.getItemGraphicEl(y),b=a.getItemLayout(g);if(!b){m&&ls(m,e,y);return}m?m.updateData(a,g,h):m=new QV(a,g,h),c.add(m)}).remove(function(g){var y=o.getItemGraphicEl(g);y&&ls(y,e,g)}).execute(),!o){var v=e.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=Yt(v[0],i.getWidth()),this.group.originY=Yt(v[1],i.getHeight()),hr(this.group,{scaleX:1,scaleY:1},e)}this._data=a,this.renderEdges(e,h)},t.prototype.renderEdges=function(e,n){var i=e.getData(),a=e.getEdgeData(),o=this._edgeData,c=this.group;a.diff(o).add(function(h){var v=new Kpt(i,a,h,n);ce(v).dataIndex=h,c.add(v)}).update(function(h,v){var g=o.getItemGraphicEl(v);g.updateData(i,a,h,n),c.add(g)}).remove(function(h){var v=o.getItemGraphicEl(h);v&&ls(v,e,h)}).execute(),this._edgeData=a},t.prototype.dispose=function(){},t.type="chord",t})(Ke),tdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this.legendVisualProvider=new zh(qt(this.getData,this),qt(this.getRawData,this))},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links)},t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[];if(a&&i){var o=xM(a,i,this,!0,c);return o.data}function c(h,v){var g=Me.prototype.getModel;function y(b,S){var E=g.call(this,b,S);return E.resolveParentPath=m,E}v.wrapMethod("getItemModel",function(b){return b.resolveParentPath=m,b.getModel=y,b});function m(b){if(b&&(b[0]==="label"||b[1]==="label")){var S=b.slice();return b[0]==="label"?S[0]="edgeLabel":b[1]==="label"&&(S[1]="edgeLabel"),S}return b}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,i){var a=this.getDataParams(e,i);if(i==="edge"){var o=this.getData(),c=o.graph.getEdgeByIndex(e),h=o.getName(c.node1.dataIndex),v=o.getName(c.node2.dataIndex),g=[];return h!=null&&g.push(h),v!=null&&g.push(v),qr("nameValue",{name:g.join(" > "),value:a.value,noValue:a.value==null})}return qr("nameValue",{name:a.name,value:a.value,noValue:a.value==null})},t.prototype.getDataParams=function(e,n){var i=r.prototype.getDataParams.call(this,e,n);if(n==="node"){var a=this.getData(),o=this.getGraph().getNodeByIndex(e);if(i.name==null&&(i.name=a.getName(e)),i.value==null){var c=o.getLayout().value;i.value=c}}return i},t.type="series.chord",t.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},t})(or),fx=Math.PI/180;function edt(r,t){r.eachSeriesByType("chord",function(e){rdt(e,t)})}function rdt(r,t){var e=r.getData(),n=e.graph,i=r.getEdgeData(),a=i.count();if(a){var o=XH(r,t),c=o.cx,h=o.cy,v=o.r,g=o.r0,y=Math.max((r.get("padAngle")||0)*fx,0),m=Math.max((r.get("minAngle")||0)*fx,0),b=-r.get("startAngle")*fx,S=b+Math.PI*2,E=r.get("clockwise"),C=E?1:-1,A=[b,S];k_(A,!E);var M=A[0],L=A[1],R=L-M,O=e.getSum("value")===0&&i.getSum("value")===0,P=[],V=0;n.eachEdge(function(rt){var st=O?1:rt.getValue("value");O&&(st>0||m)&&(V+=2);var lt=rt.node1.dataIndex,dt=rt.node2.dataIndex;P[lt]=(P[lt]||0)+st,P[dt]=(P[dt]||0)+st});var k=0;if(n.eachNode(function(rt){var st=rt.getValue("value");isNaN(st)||(P[rt.dataIndex]=Math.max(st,P[rt.dataIndex]||0)),!O&&(P[rt.dataIndex]>0||m)&&V++,k+=P[rt.dataIndex]||0}),!(V===0||k===0)){y*V>=Math.abs(R)&&(y=Math.max(0,(Math.abs(R)-m*V)/V)),(y+m)*V>=Math.abs(R)&&(m=(Math.abs(R)-y*V)/V);var F=(R-y*V*C)/k,H=0,W=0,q=0;n.eachNode(function(rt){var st=P[rt.dataIndex]||0,lt=F*(k?st:1)*C;Math.abs(lt)<m?H+=m-Math.abs(lt):(W+=Math.abs(lt)-m,q+=Math.abs(lt)),rt.setLayout({angle:lt,value:st})});var Y=!1;if(H>W){var Z=H/W;n.eachNode(function(rt){var st=rt.getLayout().angle;Math.abs(st)>=m?rt.setLayout({angle:st*Z,ratio:Z},!0):rt.setLayout({angle:m,ratio:m===0?1:st/m},!0)})}else n.eachNode(function(rt){if(!Y){var st=rt.getLayout().angle,lt=Math.min(st/q,1),dt=lt*H;st-dt<m&&(Y=!0)}});var et=H;n.eachNode(function(rt){if(!(et<=0)){var st=rt.getLayout().angle;if(st>m&&m>0){var lt=Y?1:Math.min(st/q,1),dt=st-m,pt=Math.min(dt,Math.min(et,H*lt));et-=pt,rt.setLayout({angle:st-pt,ratio:(st-pt)/st},!0)}else m>0&&rt.setLayout({angle:m,ratio:st===0?1:m/st},!0)}});var J=M,it=[];n.eachNode(function(rt){var st=Math.max(rt.getLayout().angle,m);rt.setLayout({cx:c,cy:h,r0:g,r:v,startAngle:J,endAngle:J+st*C,clockwise:E},!0),it[rt.dataIndex]=J,J+=(st+y)*C}),n.eachEdge(function(rt){var st=O?1:rt.getValue("value"),lt=F*(k?st:1)*C,dt=rt.node1.dataIndex,pt=it[dt]||0,xt=Math.abs((rt.node1.getLayout().ratio||1)*lt),Ft=pt+xt*C,Ut=[c+g*Math.cos(pt),h+g*Math.sin(pt)],Vt=[c+g*Math.cos(Ft),h+g*Math.sin(Ft)],Qt=rt.node2.dataIndex,Ht=it[Qt]||0,gt=Math.abs((rt.node2.getLayout().ratio||1)*lt),Mt=Ht+gt*C,Et=[c+g*Math.cos(Ht),h+g*Math.sin(Ht)],X=[c+g*Math.cos(Mt),h+g*Math.sin(Mt)];rt.setLayout({s1:Ut,s2:Vt,sStartAngle:pt,sEndAngle:Ft,t1:Et,t2:X,tStartAngle:Ht,tEndAngle:Mt,cx:c,cy:h,r:g,value:st,clockwise:E}),it[dt]=Ft,it[Qt]=Mt})}}}function ndt(r){r.registerChartView(Qpt),r.registerSeriesModel(tdt),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,edt),r.registerProcessor(Bh("chord"))}var idt=(function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r})(),adt=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="pointer",n}return t.prototype.getDefaultShape=function(){return new idt},t.prototype.buildPath=function(e,n){var i=Math.cos,a=Math.sin,o=n.r,c=n.width,h=n.angle,v=n.x-i(h)*c*(c>=o/3?1:2),g=n.y-a(h)*c*(c>=o/3?1:2);h=n.angle-Math.PI/2,e.moveTo(v,g),e.lineTo(n.x+i(h)*c,n.y+a(h)*c),e.lineTo(n.x+i(n.angle)*o,n.y+a(n.angle)*o),e.lineTo(n.x-i(h)*c,n.y-a(h)*c),e.lineTo(v,g)},t})(Ee);function odt(r,t){var e=r.get("center"),n=t.getWidth(),i=t.getHeight(),a=Math.min(n,i),o=Yt(e[0],t.getWidth()),c=Yt(e[1],t.getHeight()),h=Yt(r.get("radius"),a/2);return{cx:o,cy:c,r:h}}function pm(r,t){var e=r==null?"":r+"";return t&&($t(t)?e=t.replace("{value}",e):ee(t)&&(e=t(r))),e}var sdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this.group.removeAll();var a=e.get(["axisLine","lineStyle","color"]),o=odt(e,i);this._renderMain(e,n,i,a,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,n,i,a,o){var c=this.group,h=e.get("clockwise"),v=-e.get("startAngle")/180*Math.PI,g=-e.get("endAngle")/180*Math.PI,y=e.getModel("axisLine"),m=y.get("roundCap"),b=m?j0:$n,S=y.get("show"),E=y.getModel("lineStyle"),C=E.get("width"),A=[v,g];k_(A,!h),v=A[0],g=A[1];for(var M=g-v,L=v,R=[],O=0;S&&O<a.length;O++){var P=Math.min(Math.max(a[O][0],0),1);g=v+M*P;var V=new b({shape:{startAngle:L,endAngle:g,cx:o.cx,cy:o.cy,clockwise:h,r0:o.r-C,r:o.r},silent:!0});V.setStyle({fill:a[O][1]}),V.setStyle(E.getLineStyle(["color","width"])),R.push(V),L=g}R.reverse(),j(R,function(F){return c.add(F)});var k=function(F){if(F<=0)return a[0][1];var H;for(H=0;H<a.length;H++)if(a[H][0]>=F&&(H===0?0:a[H-1][0])<F)return a[H][1];return a[H-1][1]};this._renderTicks(e,n,i,k,o,v,g,h,C),this._renderTitleAndDetail(e,n,i,k,o),this._renderAnchor(e,o),this._renderPointer(e,n,i,k,o,v,g,h,C)},t.prototype._renderTicks=function(e,n,i,a,o,c,h,v,g){for(var y=this.group,m=o.cx,b=o.cy,S=o.r,E=+e.get("min"),C=+e.get("max"),A=e.getModel("splitLine"),M=e.getModel("axisTick"),L=e.getModel("axisLabel"),R=e.get("splitNumber"),O=M.get("splitNumber"),P=Yt(A.get("length"),S),V=Yt(M.get("length"),S),k=c,F=(h-c)/R,H=F/O,W=A.getModel("lineStyle").getLineStyle(),q=M.getModel("lineStyle").getLineStyle(),Y=A.get("distance"),Z,et,J=0;J<=R;J++){if(Z=Math.cos(k),et=Math.sin(k),A.get("show")){var it=Y?Y+g:g,rt=new Wr({shape:{x1:Z*(S-it)+m,y1:et*(S-it)+b,x2:Z*(S-P-it)+m,y2:et*(S-P-it)+b},style:W,silent:!0});W.stroke==="auto"&&rt.setStyle({stroke:a(J/R)}),y.add(rt)}if(L.get("show")){var it=L.get("distance")+Y,st=pm(Ur(J/R*(C-E)+E),L.get("formatter")),lt=a(J/R),dt=Z*(S-P-it)+m,pt=et*(S-P-it)+b,xt=L.get("rotate"),Ft=0;xt==="radial"?(Ft=-k+2*Math.PI,Ft>Math.PI/2&&(Ft+=Math.PI)):xt==="tangential"?Ft=-k-Math.PI/2:Re(xt)&&(Ft=xt*Math.PI/180),Ft===0?y.add(new Oe({style:ar(L,{text:st,x:dt,y:pt,verticalAlign:et<-.8?"top":et>.8?"bottom":"middle",align:Z<-.4?"left":Z>.4?"right":"center"},{inheritColor:lt}),silent:!0})):y.add(new Oe({style:ar(L,{text:st,x:dt,y:pt,verticalAlign:"middle",align:"center"},{inheritColor:lt}),silent:!0,originX:dt,originY:pt,rotation:Ft}))}if(M.get("show")&&J!==R){var it=M.get("distance");it=it?it+g:g;for(var Ut=0;Ut<=O;Ut++){Z=Math.cos(k),et=Math.sin(k);var Vt=new Wr({shape:{x1:Z*(S-it)+m,y1:et*(S-it)+b,x2:Z*(S-V-it)+m,y2:et*(S-V-it)+b},silent:!0,style:q});q.stroke==="auto"&&Vt.setStyle({stroke:a((J+Ut/O)/R)}),y.add(Vt),k+=H}k-=H}else k+=F}},t.prototype._renderPointer=function(e,n,i,a,o,c,h,v,g){var y=this.group,m=this._data,b=this._progressEls,S=[],E=e.get(["pointer","show"]),C=e.getModel("progress"),A=C.get("show"),M=e.getData(),L=M.mapDimension("value"),R=+e.get("min"),O=+e.get("max"),P=[R,O],V=[c,h];function k(H,W){var q=M.getItemModel(H),Y=q.getModel("pointer"),Z=Yt(Y.get("width"),o.r),et=Yt(Y.get("length"),o.r),J=e.get(["pointer","icon"]),it=Y.get("offsetCenter"),rt=Yt(it[0],o.r),st=Yt(it[1],o.r),lt=Y.get("keepAspect"),dt;return J?dt=Xr(J,rt-Z/2,st-et,Z,et,null,lt):dt=new adt({shape:{angle:-Math.PI/2,width:Z,r:et,x:rt,y:st}}),dt.rotation=-(W+Math.PI/2),dt.x=o.cx,dt.y=o.cy,dt}function F(H,W){var q=C.get("roundCap"),Y=q?j0:$n,Z=C.get("overlap"),et=Z?C.get("width"):g/M.count(),J=Z?o.r-et:o.r-(H+1)*et,it=Z?o.r:o.r-H*et,rt=new Y({shape:{startAngle:c,endAngle:W,cx:o.cx,cy:o.cy,clockwise:v,r0:J,r:it}});return Z&&(rt.z2=We(M.get(L,H),[R,O],[100,0],!0)),rt}(A||E)&&(M.diff(m).add(function(H){var W=M.get(L,H);if(E){var q=k(H,c);hr(q,{rotation:-((isNaN(+W)?V[0]:We(W,P,V,!0))+Math.PI/2)},e),y.add(q),M.setItemGraphicEl(H,q)}if(A){var Y=F(H,c),Z=C.get("clip");hr(Y,{shape:{endAngle:We(W,P,V,Z)}},e),y.add(Y),UE(e.seriesIndex,M.dataType,H,Y),S[H]=Y}}).update(function(H,W){var q=M.get(L,H);if(E){var Y=m.getItemGraphicEl(W),Z=Y?Y.rotation:c,et=k(H,Z);et.rotation=Z,Pe(et,{rotation:-((isNaN(+q)?V[0]:We(q,P,V,!0))+Math.PI/2)},e),y.add(et),M.setItemGraphicEl(H,et)}if(A){var J=b[W],it=J?J.shape.endAngle:c,rt=F(H,it),st=C.get("clip");Pe(rt,{shape:{endAngle:We(q,P,V,st)}},e),y.add(rt),UE(e.seriesIndex,M.dataType,H,rt),S[H]=rt}}).execute(),M.each(function(H){var W=M.getItemModel(H),q=W.getModel("emphasis"),Y=q.get("focus"),Z=q.get("blurScope"),et=q.get("disabled");if(E){var J=M.getItemGraphicEl(H),it=M.getItemVisual(H,"style"),rt=it.fill;if(J instanceof wn){var st=J.style;J.useStyle(At({image:st.image,x:st.x,y:st.y,width:st.width,height:st.height},it))}else J.useStyle(it),J.type!=="pointer"&&J.setColor(rt);J.setStyle(W.getModel(["pointer","itemStyle"]).getItemStyle()),J.style.fill==="auto"&&J.setStyle("fill",a(We(M.get(L,H),P,[0,1],!0))),J.z2EmphasisLift=0,rn(J,W),gr(J,Y,Z,et)}if(A){var lt=S[H];lt.useStyle(M.getItemVisual(H,"style")),lt.setStyle(W.getModel(["progress","itemStyle"]).getItemStyle()),lt.z2EmphasisLift=0,rn(lt,W),gr(lt,Y,Z,et)}}),this._progressEls=S)},t.prototype._renderAnchor=function(e,n){var i=e.getModel("anchor"),a=i.get("show");if(a){var o=i.get("size"),c=i.get("icon"),h=i.get("offsetCenter"),v=i.get("keepAspect"),g=Xr(c,n.cx-o/2+Yt(h[0],n.r),n.cy-o/2+Yt(h[1],n.r),o,o,null,v);g.z2=i.get("showAbove")?1:0,g.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(g)}},t.prototype._renderTitleAndDetail=function(e,n,i,a,o){var c=this,h=e.getData(),v=h.mapDimension("value"),g=+e.get("min"),y=+e.get("max"),m=new re,b=[],S=[],E=e.isAnimationEnabled(),C=e.get(["pointer","showAbove"]);h.diff(this._data).add(function(A){b[A]=new Oe({silent:!0}),S[A]=new Oe({silent:!0})}).update(function(A,M){b[A]=c._titleEls[M],S[A]=c._detailEls[M]}).execute(),h.each(function(A){var M=h.getItemModel(A),L=h.get(v,A),R=new re,O=a(We(L,[g,y],[0,1],!0)),P=M.getModel("title");if(P.get("show")){var V=P.get("offsetCenter"),k=o.cx+Yt(V[0],o.r),F=o.cy+Yt(V[1],o.r),H=b[A];H.attr({z2:C?0:2,style:ar(P,{x:k,y:F,text:h.getName(A),align:"center",verticalAlign:"middle"},{inheritColor:O})}),R.add(H)}var W=M.getModel("detail");if(W.get("show")){var q=W.get("offsetCenter"),Y=o.cx+Yt(q[0],o.r),Z=o.cy+Yt(q[1],o.r),et=Yt(W.get("width"),o.r),J=Yt(W.get("height"),o.r),it=e.get(["progress","show"])?h.getItemVisual(A,"style").fill:O,H=S[A],rt=W.get("formatter");H.attr({z2:C?0:2,style:ar(W,{x:Y,y:Z,text:pm(L,rt),width:isNaN(et)?null:et,height:isNaN(J)?null:J,align:"center",verticalAlign:"middle"},{inheritColor:it})}),MH(H,{normal:W},L,function(lt){return pm(lt,rt)}),E&&DH(H,A,h,e,{getFormattedLabel:function(lt,dt,pt,xt,Ft,Ut){return pm(Ut?Ut.interpolatedValue:L,rt)}}),R.add(H)}m.add(R)}),this.group.add(m),this._titleEls=b,this._detailEls=S},t.type="gauge",t})(Ke),ldt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return t.prototype.getInitialData=function(e,n){return Hh(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,yt.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:yt.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:yt.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:yt.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:yt.color.neutral00,borderWidth:0,borderColor:yt.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:yt.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:yt.color.transparent,borderWidth:0,borderColor:yt.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:yt.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t})(or);function udt(r){r.registerChartView(sdt),r.registerSeriesModel(ldt)}var cdt=["itemStyle","opacity"],fdt=(function(r){bt(t,r);function t(e,n){var i=r.call(this)||this,a=i,o=new In,c=new Oe;return a.setTextContent(c),i.setTextGuideLine(o),i.updateData(e,n,!0),i}return t.prototype.updateData=function(e,n,i){var a=this,o=e.hostModel,c=e.getItemModel(n),h=e.getItemLayout(n),v=c.getModel("emphasis"),g=c.get(cdt);g=g??1,i||ca(a),a.useStyle(e.getItemVisual(n,"style")),a.style.lineJoin="round",i?(a.setShape({points:h.points}),a.style.opacity=0,hr(a,{style:{opacity:g}},o,n)):Pe(a,{style:{opacity:g},shape:{points:h.points}},o,n),rn(a,c),this._updateLabel(e,n),gr(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},t.prototype._updateLabel=function(e,n){var i=this,a=this.getTextGuideLine(),o=i.getTextContent(),c=e.hostModel,h=e.getItemModel(n),v=e.getItemLayout(n),g=v.label,y=e.getItemVisual(n,"style"),m=y.fill;fn(o,nn(h),{labelFetcher:e.hostModel,labelDataIndex:n,defaultOpacity:y.opacity,defaultText:e.getName(n)},{normal:{align:g.textAlign,verticalAlign:g.verticalAlign}});var b=h.getModel("label"),S=b.get("color"),E=S==="inherit"?m:null;i.setTextConfig({local:!0,inside:!!g.inside,insideStroke:E,outsideFill:E});var C=g.linePoints;a.setShape({points:C}),i.textGuideLineConfig={anchor:C?new ae(C[0][0],C[0][1]):null},Pe(o,{style:{x:g.x,y:g.y}},c,n),o.attr({rotation:g.rotation,originX:g.x,originY:g.y,z2:10}),ZA(i,KA(h),{stroke:m})},t})(qn),hdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._data,c=this.group;a.diff(o).add(function(h){var v=new fdt(a,h);a.setItemGraphicEl(h,v),c.add(v)}).update(function(h,v){var g=o.getItemGraphicEl(v);g.updateData(a,h),c.add(g),a.setItemGraphicEl(h,g)}).remove(function(h){var v=o.getItemGraphicEl(h);ls(v,e,h)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t})(Ke),pdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new zh(qt(this.getData,this),qt(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,n){return Hh(this,{coordDimensions:["value"],encodeDefaulter:de(LA,this)})},t.prototype._defaultLabelLine=function(e){vc(e,"labelLine",["show"]);var n=e.labelLine,i=e.emphasis.labelLine;n.show=n.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var n=this.getData(),i=r.prototype.getDataParams.call(this,e),a=n.mapDimension("value"),o=n.getSum(a);return i.percent=o?+(n.get(a,e)/o*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:yt.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:yt.color.primary}}},t})(or);function ddt(r,t){for(var e=r.mapDimension("value"),n=r.mapArray(e,function(h){return h}),i=[],a=t==="ascending",o=0,c=r.count();o<c;o++)i[o]=o;return ee(t)?i.sort(t):t!=="none"&&i.sort(function(h,v){return a?n[h]-n[v]:n[v]-n[h]}),i}function vdt(r){var t=r.hostModel,e=t.get("orient");r.each(function(n){var i=r.getItemModel(n),a=i.getModel("label"),o=a.get("position"),c=i.getModel("labelLine"),h=r.getItemLayout(n),v=h.points,g=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",y,m,b,S;if(g)o==="insideLeft"?(m=(v[0][0]+v[3][0])/2+5,b=(v[0][1]+v[3][1])/2,y="left"):o==="insideRight"?(m=(v[1][0]+v[2][0])/2-5,b=(v[1][1]+v[2][1])/2,y="right"):(m=(v[0][0]+v[1][0]+v[2][0]+v[3][0])/4,b=(v[0][1]+v[1][1]+v[2][1]+v[3][1])/4,y="center"),S=[[m,b],[m,b]];else{var E=void 0,C=void 0,A=void 0,M=void 0,L=c.get("length");o==="left"?(E=(v[3][0]+v[0][0])/2,C=(v[3][1]+v[0][1])/2,A=E-L,m=A-5,y="right"):o==="right"?(E=(v[1][0]+v[2][0])/2,C=(v[1][1]+v[2][1])/2,A=E+L,m=A+5,y="left"):o==="top"?(E=(v[3][0]+v[0][0])/2,C=(v[3][1]+v[0][1])/2,M=C-L,b=M-5,y="center"):o==="bottom"?(E=(v[1][0]+v[2][0])/2,C=(v[1][1]+v[2][1])/2,M=C+L,b=M+5,y="center"):o==="rightTop"?(E=e==="horizontal"?v[3][0]:v[1][0],C=e==="horizontal"?v[3][1]:v[1][1],e==="horizontal"?(M=C-L,b=M-5,y="center"):(A=E+L,m=A+5,y="top")):o==="rightBottom"?(E=v[2][0],C=v[2][1],e==="horizontal"?(M=C+L,b=M+5,y="center"):(A=E+L,m=A+5,y="bottom")):o==="leftTop"?(E=v[0][0],C=e==="horizontal"?v[0][1]:v[1][1],e==="horizontal"?(M=C-L,b=M-5,y="center"):(A=E-L,m=A-5,y="right")):o==="leftBottom"?(E=e==="horizontal"?v[1][0]:v[3][0],C=e==="horizontal"?v[1][1]:v[2][1],e==="horizontal"?(M=C+L,b=M+5,y="center"):(A=E-L,m=A-5,y="right")):(E=(v[1][0]+v[2][0])/2,C=(v[1][1]+v[2][1])/2,e==="horizontal"?(M=C+L,b=M+5,y="center"):(A=E+L,m=A+5,y="left")),e==="horizontal"?(A=E,m=A):(M=C,b=M),S=[[E,C],[A,M]]}h.label={linePoints:S,x:m,y:b,verticalAlign:"middle",textAlign:y,inside:g}})}function gdt(r,t){r.eachSeriesByType("funnel",function(e){var n=e.getData(),i=n.mapDimension("value"),a=e.get("sort"),o=an(e,t),c=yr(e.getBoxLayoutParams(),o.refContainer),h=e.get("orient"),v=c.width,g=c.height,y=ddt(n,a),m=c.x,b=c.y,S=h==="horizontal"?[Yt(e.get("minSize"),g),Yt(e.get("maxSize"),g)]:[Yt(e.get("minSize"),v),Yt(e.get("maxSize"),v)],E=n.getDataExtent(i),C=e.get("min"),A=e.get("max");C==null&&(C=Math.min(E[0],0)),A==null&&(A=E[1]);var M=e.get("funnelAlign"),L=e.get("gap"),R=h==="horizontal"?v:g,O=(R-L*(n.count()-1))/n.count(),P=function(et,J){if(h==="horizontal"){var it=n.get(i,et)||0,rt=We(it,[C,A],S,!0),st=void 0;switch(M){case"top":st=b;break;case"center":st=b+(g-rt)/2;break;case"bottom":st=b+(g-rt);break}return[[J,st],[J,st+rt]]}var lt=n.get(i,et)||0,dt=We(lt,[C,A],S,!0),pt;switch(M){case"left":pt=m;break;case"center":pt=m+(v-dt)/2;break;case"right":pt=m+v-dt;break}return[[pt,J],[pt+dt,J]]};a==="ascending"&&(O=-O,L=-L,h==="horizontal"?m+=v:b+=g,y=y.reverse());for(var V=0;V<y.length;V++){var k=y[V],F=y[V+1],H=n.getItemModel(k);if(h==="horizontal"){var W=H.get(["itemStyle","width"]);W==null?W=O:(W=Yt(W,v),a==="ascending"&&(W=-W));var q=P(k,m),Y=P(F,m+W);m+=W+L,n.setItemLayout(k,{points:q.concat(Y.slice().reverse())})}else{var Z=H.get(["itemStyle","height"]);Z==null?Z=O:(Z=Yt(Z,g),a==="ascending"&&(Z=-Z));var q=P(k,b),Y=P(F,b+Z);b+=Z+L,n.setItemLayout(k,{points:q.concat(Y.slice().reverse())})}}vdt(n)})}function ydt(r){r.registerChartView(hdt),r.registerSeriesModel(pdt),r.registerLayout(gdt),r.registerProcessor(Bh("funnel"))}var mdt=.3,_dt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new re,e._initialized=!1,e}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,n,i,a){this._progressiveEls=null;var o=this._dataGroup,c=e.getData(),h=this._data,v=e.coordinateSystem,g=v.dimensions,y=rG(e);c.diff(h).add(m).update(b).remove(S).execute();function m(C){var A=eG(c,o,C,g,v);hx(A,c,C,y)}function b(C,A){var M=h.getItemGraphicEl(A),L=x8(c,C,g,v);c.setItemGraphicEl(C,M),Pe(M,{shape:{points:L}},e,C),ca(M),hx(M,c,C,y)}function S(C){var A=h.getItemGraphicEl(C);o.remove(A)}if(!this._initialized){this._initialized=!0;var E=bdt(v,e,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(E)}this._data=c},t.prototype.incrementalPrepareRender=function(e,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,n,i){for(var a=n.getData(),o=n.coordinateSystem,c=o.dimensions,h=rG(n),v=this._progressiveEls=[],g=e.start;g<e.end;g++){var y=eG(a,this._dataGroup,g,c,o);y.incremental=!0,hx(y,a,g,h),v.push(y)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t})(Ke);function bdt(r,t,e){var n=r.model,i=r.getRect(),a=new we({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o=n.get("layout")==="horizontal"?"width":"height";return a.setShape(o,0),hr(a,{shape:{width:i.width,height:i.height}},t,e),a}function x8(r,t,e,n){for(var i=[],a=0;a<e.length;a++){var o=e[a],c=r.get(r.mapDimension(o),t);Sdt(c,n.getAxis(o).type)||i.push(n.dataToPoint(c,o))}return i}function eG(r,t,e,n,i){var a=x8(r,e,n,i),o=new In({shape:{points:a},z2:10});return t.add(o),r.setItemGraphicEl(e,o),o}function rG(r){var t=r.get("smooth",!0);return t===!0&&(t=mdt),t=gs(t),Wn(t)&&(t=0),{smooth:t}}function hx(r,t,e,n){r.useStyle(t.getItemVisual(e,"style")),r.style.fill=null,r.setShape("smooth",n.smooth);var i=t.getItemModel(e),a=i.getModel("emphasis");rn(r,i,"lineStyle"),gr(r,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function Sdt(r,t){return t==="category"?r==null:r==null||isNaN(r)}var wdt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.getInitialData=function(e,n){return Cs(null,this,{useEncodeDefaulter:qt(xdt,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var n=this.coordinateSystem,i=this.getData(),a=[];return n.eachActiveState(i,function(o,c){e===o&&a.push(i.getRawIndex(c))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t})(or);function xdt(r){var t=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(t){var e={};return j(t.dimensions,function(n){var i=Edt(n);e[n]=i}),e}}function Edt(r){return+r.replace("dim","")}var Tdt=["lineStyle","opacity"],Cdt={seriesType:"parallel",reset:function(r,t){var e=r.coordinateSystem,n={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(i,a){e.eachActiveState(a,function(o,c){var h=n[o];if(o==="normal"&&a.hasItemOption){var v=a.getItemModel(c).get(Tdt,!0);v!=null&&(h=v)}var g=a.ensureUniqueItemVisual(c,"style");g.opacity=h},i.start,i.end)}}}};function Adt(r){Mdt(r),Ddt(r)}function Mdt(r){if(!r.parallel){var t=!1;j(r.series,function(e){e&&e.type==="parallel"&&(t=!0)}),t&&(r.parallel=[{}])}}function Ddt(r){var t=Qe(r.parallelAxis);j(t,function(e){if(se(e)){var n=e.parallelIndex||0,i=Qe(r.parallel)[n];i&&i.parallelAxisDefault&&ge(e,i.parallelAxisDefault,!1)}})}var Ldt=5,Ndt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this._model=e,this._api=i,this._handlers||(this._handlers={},j(Rdt,function(a,o){i.getZr().on(o,this._handlers[o]=qt(a,this))},this)),Vh(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,n){cv(this,"_throttledDispatchExpand"),j(this._handlers,function(i,a){n.getZr().off(a,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(At({type:"parallelAxisExpand"},e))},t.type="parallel",t})(dr),Rdt={mousedown:function(r){px(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var t=this._mouseDownPoint;if(px(this,"click")&&t){var e=[r.offsetX,r.offsetY],n=Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2);if(n>Ldt)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!px(this,"mousemove"))){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),n=e.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:e.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function px(r,t){var e=r._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var Idt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var n=this.option;e&&ge(n,e,!0),this._initDimensions()},t.prototype.contains=function(e,n){var i=e.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){j(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){e.hasOwnProperty(n)&&(this.option[n]=e[n])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],n=this.parallelAxisIndex=[],i=je(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);j(i,function(a){e.push("dim"+a.get("dim")),n.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t})(Te),Odt=(function(r){bt(t,r);function t(e,n,i,a,o){var c=r.call(this,e,n,i)||this;return c.type=a||"value",c.axisIndex=o,c}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t})(Va);function Ml(r,t,e,n,i,a){r=r||0;var o=e[1]-e[0];if(i!=null&&(i=Of(i,[0,o])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var c=Math.abs(t[1]-t[0]);c=Of(c,[0,o]),i=a=Of(c,[i,a]),n=0}t[0]=Of(t[0],e),t[1]=Of(t[1],e);var h=dx(t,n);t[n]+=r;var v=i||0,g=e.slice();h.sign<0?g[0]+=v:g[1]-=v,t[n]=Of(t[n],g);var y;return y=dx(t,n),i!=null&&(y.sign!==h.sign||y.span<i)&&(t[1-n]=t[n]+h.sign*i),y=dx(t,n),a!=null&&y.span>a&&(t[1-n]=t[n]+y.sign*a),t}function dx(r,t){var e=r[t]-r[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Of(r,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,r))}var vx=j,E8=Math.min,T8=Math.max,nG=Math.floor,Pdt=Math.ceil,iG=Ur,kdt=Math.PI,Vdt=(function(){function r(t,e,n){this.type="parallel",this._axesMap=Kt(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return r.prototype._init=function(t,e,n){var i=t.dimensions,a=t.parallelAxisIndex;vx(i,function(o,c){var h=a[c],v=e.getComponent("parallelAxis",h),g=this._axesMap.set(o,new Odt(o,J_(v),[0,0],v.get("type"),h)),y=g.type==="category";g.onBand=y&&v.get("boundaryGap"),g.inverse=v.get("inverse"),v.axis=g,g.model=v,g.coordinateSystem=v.coordinateSystem=this},this)},r.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},r.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,a=e.pixelDimIndex,o=t[1-a],c=t[a];return o>=n&&o<=n+e.axisLength&&c>=i&&c<=i+e.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var i=n.getData();vx(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(i,i.mapDimension(a)),mh(o.scale,o.model)},this)}},this)},r.prototype.resize=function(t,e){var n=an(t,e).refContainer;this._rect=yr(t.getBoxLayoutParams(),n),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var t=this._model,e=this._rect,n=["x","y"],i=["width","height"],a=t.get("layout"),o=a==="horizontal"?0:1,c=e[i[o]],h=[0,c],v=this.dimensions.length,g=dm(t.get("axisExpandWidth"),h),y=dm(t.get("axisExpandCount")||0,[0,v]),m=t.get("axisExpandable")&&v>3&&v>y&&y>1&&g>0&&c>0,b=t.get("axisExpandWindow"),S;if(b)S=dm(b[1]-b[0],h),b[1]=b[0]+S;else{S=dm(g*(y-1),h);var E=t.get("axisExpandCenter")||nG(v/2);b=[g*E-S/2],b[1]=b[0]+S}var C=(c-S)/(v-y);C<3&&(C=0);var A=[nG(iG(b[0]/g,1))+1,Pdt(iG(b[1]/g,1))-1],M=C/g*b[0];return{layout:a,pixelDimIndex:o,layoutBase:e[n[o]],layoutLength:c,axisBase:e[n[1-o]],axisLength:e[i[1-o]],axisExpandable:m,axisExpandWidth:g,axisCollapseWidth:C,axisExpandWindow:b,axisCount:v,winInnerIndices:A,axisExpandWindow0Pos:M}},r.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;e.each(function(o){var c=[0,i.axisLength],h=o.inverse?1:0;o.setExtent(c[h],c[1-h])}),vx(n,function(o,c){var h=(i.axisExpandable?Fdt:Gdt)(c,i),v={horizontal:{x:h.position,y:i.axisLength},vertical:{x:0,y:h.position}},g={horizontal:kdt/2,vertical:0},y=[v[a].x+t.x,v[a].y+t.y],m=g[a],b=_n();Nl(b,b,m),No(b,b,y),this._axesLayout[o]={position:y,rotation:m,transform:b,axisNameAvailableWidth:h.axisNameAvailableWidth,axisLabelShow:h.axisLabelShow,nameTruncateMaxWidth:h.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(t){return this._axesMap.get(t)},r.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},r.prototype.eachActiveState=function(t,e,n,i){n==null&&(n=0),i==null&&(i=t.count());var a=this._axesMap,o=this.dimensions,c=[],h=[];j(o,function(C){c.push(t.mapDimension(C)),h.push(a.get(C).model)});for(var v=this.hasAxisBrushed(),g=n;g<i;g++){var y=void 0;if(!v)y="normal";else{y="active";for(var m=t.getValues(c,g),b=0,S=o.length;b<S;b++){var E=h[b].getActiveState(m[b]);if(E==="inactive"){y="inactive";break}}}e(y,g)}},r.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,a=t.length;i<a;i++)e.get(t[i]).model.getActiveState()!=="normal"&&(n=!0);return n},r.prototype.axisCoordToPoint=function(t,e){var n=this._axesLayout[e];return Da([t,0],n.transform)},r.prototype.getAxisLayout=function(t){return ne(this._axesLayout[t])},r.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),a=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var c=t[n]-e.layoutBase-e.axisExpandWindow0Pos,h,v="slide",g=e.axisCollapseWidth,y=this._model.get("axisExpandSlideTriggerArea"),m=y[0]!=null;if(g)m&&g&&c<a*y[0]?(v="jump",h=c-a*y[2]):m&&g&&c>a*(1-y[0])?(v="jump",h=c-a*(1-y[2])):(h=c-a*y[1])>=0&&(h=c-a*(1-y[1]))<=0&&(h=0),h*=e.axisExpandWidth/g,h?Ml(h,i,o,"all"):v="none";else{var b=i[1]-i[0],S=o[1]*c/b;i=[T8(0,S-b/2)],i[1]=E8(o[1],i[0]+b),i[0]=i[1]-b}return{axisExpandWindow:i,behavior:v}},r})();function dm(r,t){return E8(T8(r,t[0]),t[1])}function Gdt(r,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*r,axisNameAvailableWidth:e,axisLabelShow:!0}}function Fdt(r,t){var e=t.layoutLength,n=t.axisExpandWidth,i=t.axisCount,a=t.axisCollapseWidth,o=t.winInnerIndices,c,h=a,v=!1,g;return r<o[0]?(c=r*a,g=a):r<=o[1]?(c=t.axisExpandWindow0Pos+r*n-t.axisExpandWindow[0],h=n,v=!0):(c=e-(i-1-r)*a,g=a),{position:c,axisNameAvailableWidth:h,axisLabelShow:v,nameTruncateMaxWidth:g}}function Bdt(r,t){var e=[];return r.eachComponent("parallel",function(n,i){var a=new Vdt(n,r,t);a.name="parallel_"+i,a.resize(n,t),n.coordinateSystem=a,a.model=n,e.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",Cr).models[0];n.coordinateSystem=i.coordinateSystem}}),e}var Hdt={create:Bdt},$T=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return t.prototype.getAreaSelectStyle=function(){return yc([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var n=this.activeIntervals=ne(e);if(n)for(var i=n.length-1;i>=0;i--)sa(n[i])},t.prototype.getActiveState=function(e){var n=this.activeIntervals;if(!n.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var a=0,o=n.length;a<o;a++)if(n[a][0]<=e&&e<=n[a][1])return"active";return"inactive"},t})(Te);Zr($T,Hv);var wc=!0,Ev=Math.min,xh=Math.max,zdt=Math.pow,Udt=1e4,Wdt=6,jdt=6,aG="globalPan",Ydt={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},$dt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},oG={brushStyle:{lineWidth:2,stroke:yt.color.backgroundTint,fill:yt.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},qdt=0,EM=(function(r){bt(t,r);function t(e){var n=r.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new re,n._uid="brushController_"+qdt++,j(evt,function(i,a){this._handlers[a]=qt(i,this)},n),n}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var n=this._zr;this._enableGlobalPan||Nft(n,aG,this._uid),j(this._handlers,function(i,a){n.on(a,i)}),this._brushType=e.brushType,this._brushOption=ge(ne(oG),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;Rft(e,aG,this._uid),j(this._handlers,function(n,i){e.off(i,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var n=this._panels={};j(e,function(i){n[i.panelId]=ne(i)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=Pt(e,function(m){return ge(ne(oG),m,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,c=this._creatingCover;return new _s(i,e,v,h).add(g).update(g).remove(y).execute(),this;function h(m,b){return(m.id!=null?m.id:n+b)+"-"+m.brushType}function v(m,b){return h(m.__brushOption,b)}function g(m,b){var S=e[m];if(b!=null&&i[b]===c)a[m]=i[b];else{var E=a[m]=b!=null?(i[b].__brushOption=S,i[b]):A8(o,C8(o,S));TM(o,E)}}function y(m){i[m]!==c&&o.group.remove(i[m])}},t.prototype.unmount=function(){return this.enableBrush(!1),qT(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t})(fa);function C8(r,t){var e=sb[t.brushType].createCover(r,t);return e.__brushOption=t,D8(e,t),r.group.add(e),e}function A8(r,t){var e=CM(t);return e.endCreating&&(e.endCreating(r,t),D8(t,t.__brushOption)),t}function M8(r,t){var e=t.__brushOption;CM(t).updateCoverShape(r,t,e.range,e)}function D8(r,t){var e=t.z;e==null&&(e=Udt),r.traverse(function(n){n.z=e,n.z2=e})}function TM(r,t){CM(t).updateCommon(r,t),M8(r,t)}function CM(r){return sb[r.__brushOption.brushType]}function AM(r,t,e){var n=r._panels;if(!n)return wc;var i,a=r._transform;return j(n,function(o){o.isTargetByCursor(t,e,a)&&(i=o)}),i}function L8(r,t){var e=r._panels;if(!e)return wc;var n=t.__brushOption.panelId;return n!=null?e[n]:wc}function qT(r){var t=r._covers,e=t.length;return j(t,function(n){r.group.remove(n)},r),t.length=0,!!e}function xc(r,t){var e=Pt(r._covers,function(n){var i=n.__brushOption,a=ne(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});r.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function Xdt(r){var t=r._track;if(!t.length)return!1;var e=t[t.length-1],n=t[0],i=e[0]-n[0],a=e[1]-n[1],o=zdt(i*i+a*a,.5);return o>Wdt}function N8(r){var t=r.length-1;return t<0&&(t=0),[r[0],r[t]]}function R8(r,t,e,n){var i=new re;return i.add(new we({name:"main",style:MM(e),silent:!0,draggable:!0,cursor:"move",drift:de(sG,r,t,i,["n","s","w","e"]),ondragend:de(xc,t,{isEnd:!0})})),j(n,function(a){i.add(new we({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:de(sG,r,t,i,a),ondragend:de(xc,t,{isEnd:!0})}))}),i}function I8(r,t,e,n){var i=n.brushStyle.lineWidth||0,a=xh(i,jdt),o=e[0][0],c=e[1][0],h=o-i/2,v=c-i/2,g=e[0][1],y=e[1][1],m=g-a+i/2,b=y-a+i/2,S=g-o,E=y-c,C=S+i,A=E+i;Qo(r,t,"main",o,c,S,E),n.transformable&&(Qo(r,t,"w",h,v,a,A),Qo(r,t,"e",m,v,a,A),Qo(r,t,"n",h,v,C,a),Qo(r,t,"s",h,b,C,a),Qo(r,t,"nw",h,v,a,a),Qo(r,t,"ne",m,v,a,a),Qo(r,t,"sw",h,b,a,a),Qo(r,t,"se",m,b,a,a))}function XT(r,t){var e=t.__brushOption,n=e.transformable,i=t.childAt(0);i.useStyle(MM(e)),i.attr({silent:!n,cursor:n?"move":"default"}),j([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=t.childOfName(a.join("")),c=a.length===1?ZT(r,a[0]):Kdt(r,a);o&&o.attr({silent:!n,invisible:!n,cursor:n?$dt[c]+"-resize":null})})}function Qo(r,t,e,n,i,a,o){var c=t.childOfName(e);c&&c.setShape(Qdt(DM(r,t,[[n,i],[n+a,i+o]])))}function MM(r){return oe({strokeNoScale:!0},r.brushStyle)}function O8(r,t,e,n){var i=[Ev(r,e),Ev(t,n)],a=[xh(r,e),xh(t,n)];return[[i[0],a[0]],[i[1],a[1]]]}function Zdt(r){return cc(r.group)}function ZT(r,t){var e={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=U_(e[t],Zdt(r));return n[i]}function Kdt(r,t){var e=[ZT(r,t[0]),ZT(r,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function sG(r,t,e,n,i,a){var o=e.__brushOption,c=r.toRectRange(o.range),h=P8(t,i,a);j(n,function(v){var g=Ydt[v];c[g[0]][g[1]]+=h[g[0]]}),o.range=r.fromRectRange(O8(c[0][0],c[1][0],c[0][1],c[1][1])),TM(t,e),xc(t,{isEnd:!1})}function Jdt(r,t,e,n){var i=t.__brushOption.range,a=P8(r,e,n);j(i,function(o){o[0]+=a[0],o[1]+=a[1]}),TM(r,t),xc(r,{isEnd:!1})}function P8(r,t,e){var n=r.group,i=n.transformCoordToLocal(t,e),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function DM(r,t,e){var n=L8(r,t);return n&&n!==wc?n.clipPath(e,r._transform):ne(e)}function Qdt(r){var t=Ev(r[0][0],r[1][0]),e=Ev(r[0][1],r[1][1]),n=xh(r[0][0],r[1][0]),i=xh(r[0][1],r[1][1]);return{x:t,y:e,width:n-t,height:i-e}}function tvt(r,t,e){if(!(!r._brushType||rvt(r,t.offsetX,t.offsetY))){var n=r._zr,i=r._covers,a=AM(r,t,e);if(!r._dragging)for(var o=0;o<i.length;o++){var c=i[o].__brushOption;if(a&&(a===wc||c.panelId===a.panelId)&&sb[c.brushType].contain(i[o],e[0],e[1]))return}a&&n.setCursorStyle("crosshair")}}function KT(r){var t=r.event;t.preventDefault&&t.preventDefault()}function JT(r,t,e){return r.childOfName("main").contain(t,e)}function k8(r,t,e,n){var i=r._creatingCover,a=r._creatingPanel,o=r._brushOption,c;if(r._track.push(e.slice()),Xdt(r)||i){if(a&&!i){o.brushMode==="single"&&qT(r);var h=ne(o);h.brushType=lG(h.brushType,a),h.panelId=a===wc?null:a.panelId,i=r._creatingCover=C8(r,h),r._covers.push(i)}if(i){var v=sb[lG(r._brushType,a)],g=i.__brushOption;g.range=v.getCreatingRange(DM(r,i,r._track)),n&&(A8(r,i),v.updateCommon(r,i)),M8(r,i),c={isEnd:n}}}else n&&o.brushMode==="single"&&o.removeOnClick&&AM(r,t,e)&&qT(r)&&(c={isEnd:n,removeOnClick:!0});return c}function lG(r,t){return r==="auto"?t.defaultBrushType:r}var evt={mousedown:function(r){if(this._dragging)uG(this,r);else if(!r.target||!r.target.draggable){KT(r);var t=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var e=this._creatingPanel=AM(this,r,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(r){var t=r.offsetX,e=r.offsetY,n=this.group.transformCoordToLocal(t,e);if(tvt(this,r,n),this._dragging){KT(r);var i=k8(this,r,n,!1);i&&xc(this,i)}},mouseup:function(r){uG(this,r)}};function uG(r,t){if(r._dragging){KT(t);var e=t.offsetX,n=t.offsetY,i=r.group.transformCoordToLocal(e,n),a=k8(r,t,i,!0);r._dragging=!1,r._track=[],r._creatingCover=null,a&&xc(r,a)}}function rvt(r,t,e){var n=r._zr;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var sb={lineX:cG(0),lineY:cG(1),rect:{createCover:function(r,t){function e(n){return n}return R8({toRectRange:e,fromRectRange:e},r,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var t=N8(r);return O8(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(r,t,e,n){I8(r,t,e,n)},updateCommon:XT,contain:JT},polygon:{createCover:function(r,t){var e=new re;return e.add(new In({name:"main",style:MM(t),silent:!0})),e},getCreatingRange:function(r){return r},endCreating:function(r,t){t.remove(t.childAt(0)),t.add(new qn({name:"main",draggable:!0,drift:de(Jdt,r,t),ondragend:de(xc,r,{isEnd:!0})}))},updateCoverShape:function(r,t,e,n){t.childAt(0).setShape({points:DM(r,t,e)})},updateCommon:XT,contain:JT}};function cG(r){return{createCover:function(t,e){return R8({toRectRange:function(n){var i=[n,[0,100]];return r&&i.reverse(),i},fromRectRange:function(n){return n[r]}},t,e,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(t){var e=N8(t),n=Ev(e[0][r],e[1][r]),i=xh(e[0][r],e[1][r]);return[n,i]},updateCoverShape:function(t,e,n,i){var a,o=L8(t,e);if(o!==wc&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(r);else{var c=t._zr;a=[0,[c.getWidth(),c.getHeight()][1-r]]}var h=[n,a];r&&h.reverse(),I8(t,e,h,i)},updateCommon:XT,contain:JT}}function V8(r){return r=LM(r),function(t){return xH(t,r)}}function G8(r,t){return r=LM(r),function(e){var n=t??e,i=n?r.width:r.height,a=n?r.x:r.y;return[a,a+(i||0)]}}function F8(r,t,e){var n=LM(r);return function(i,a){return n.contain(a[0],a[1])&&!Wz(i,t,e)}}function LM(r){return le.create(r)}var nvt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){r.prototype.init.apply(this,arguments),(this._brushController=new EM(n.getZr())).on("brush",qt(this._onBrush,this))},t.prototype.render=function(e,n,i,a){if(!ivt(e,n,a)){this.axisModel=e,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new re,this.group.add(this._axisGroup),!!e.get("show")){var c=ovt(e,n),h=c.coordinateSystem,v=e.getAreaSelectStyle(),g=v.width,y=e.axis.dim,m=h.getAxisLayout(y),b=At({strokeContainThreshold:g},m),S=new ci(e,i,b);S.build(),this._axisGroup.add(S.group),this._refreshBrushController(b,v,e,c,g,i),Ov(o,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,n,i,a,o,c){var h=i.axis.getExtent(),v=h[1]-h[0],g=Math.min(30,Math.abs(v)*.1),y=le.create({x:h[0],y:-o/2,width:v,height:o});y.x-=g,y.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:V8(y),isTargetByCursor:F8(y,c,a),getLinearBrushOtherExtent:G8(y,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(avt(i))},t.prototype._onBrush=function(e){var n=e.areas,i=this.axisModel,a=i.axis,o=Pt(n,function(c){return[a.coordToData(c.range[0],!0),a.coordToData(c.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t})(dr);function ivt(r,t,e){return e&&e.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:e})[0]===r}function avt(r){var t=r.axis;return Pt(r.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}function ovt(r,t){return t.getComponent("parallel",r.get("parallelIndex"))}var svt={type:"axisAreaSelect",event:"axisAreaSelected"};function lvt(r){r.registerAction(svt,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),r.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(n){n.setAxisExpand(t)})})}var uvt={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function B8(r){r.registerComponentView(Ndt),r.registerComponentModel(Idt),r.registerCoordinateSystem("parallel",Hdt),r.registerPreprocessor(Adt),r.registerComponentModel($T),r.registerComponentView(nvt),Sh(r,"parallel",$T,uvt),lvt(r)}function cvt(r){_e(B8),r.registerChartView(_dt),r.registerSeriesModel(wdt),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,Cdt)}var fvt=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r})(),hvt=(function(r){bt(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new fvt},t.prototype.buildPath=function(e,n){var i=n.extent;e.moveTo(n.x1,n.y1),e.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(e.lineTo(n.x2+i,n.y2),e.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(e.lineTo(n.x2,n.y2+i),e.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),e.closePath()},t.prototype.highlight=function(){ys(this)},t.prototype.downplay=function(){ms(this)},t})(Ee),pvt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new re,e._focusAdjacencyDisabled=!1,e}return t.prototype.init=function(e,n){this._controller=new Oc(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,i){var a=this,o=e.getGraph(),c=this._mainGroup,h=e.layoutInfo,v=h.width,g=h.height,y=e.getData(),m=e.getData("edge"),b=e.get("orient");this._model=e,c.removeAll(),c.x=h.x,c.y=h.y,this._updateViewCoordSys(e,i),jz(e,i,c,this._controller,this._controllerHost,null),o.eachEdge(function(S){var E=new hvt,C=ce(E);C.dataIndex=S.dataIndex,C.seriesIndex=e.seriesIndex,C.dataType="edge";var A=S.getModel(),M=A.getModel("lineStyle"),L=M.get("curveness"),R=S.node1.getLayout(),O=S.node1.getModel(),P=O.get("localX"),V=O.get("localY"),k=S.node2.getLayout(),F=S.node2.getModel(),H=F.get("localX"),W=F.get("localY"),q=S.getLayout(),Y,Z,et,J,it,rt,st,lt;E.shape.extent=Math.max(1,q.dy),E.shape.orient=b,b==="vertical"?(Y=(P!=null?P*v:R.x)+q.sy,Z=(V!=null?V*g:R.y)+R.dy,et=(H!=null?H*v:k.x)+q.ty,J=W!=null?W*g:k.y,it=Y,rt=Z*(1-L)+J*L,st=et,lt=Z*L+J*(1-L)):(Y=(P!=null?P*v:R.x)+R.dx,Z=(V!=null?V*g:R.y)+q.sy,et=H!=null?H*v:k.x,J=(W!=null?W*g:k.y)+q.ty,it=Y*(1-L)+et*L,rt=Z,st=Y*L+et*(1-L),lt=J),E.setShape({x1:Y,y1:Z,x2:et,y2:J,cpx1:it,cpy1:rt,cpx2:st,cpy2:lt}),E.useStyle(M.getItemStyle()),fG(E.style,b,S);var dt=""+A.get("value"),pt=nn(A,"edgeLabel");fn(E,pt,{labelFetcher:{getFormattedLabel:function(Ut,Vt,Qt,Ht,gt,Mt){return e.getFormattedLabel(Ut,Vt,"edge",Ht,Fi(gt,pt.normal&&pt.normal.get("formatter"),dt),Mt)}},labelDataIndex:S.dataIndex,defaultText:dt}),E.setTextConfig({position:"inside"});var xt=A.getModel("emphasis");rn(E,A,"lineStyle",function(Ut){var Vt=Ut.getItemStyle();return fG(Vt,b,S),Vt}),c.add(E),m.setItemGraphicEl(S.dataIndex,E);var Ft=xt.get("focus");gr(E,Ft==="adjacency"?S.getAdjacentDataIndices():Ft==="trajectory"?S.getTrajectoryDataIndices():Ft,xt.get("blurScope"),xt.get("disabled"))}),o.eachNode(function(S){var E=S.getLayout(),C=S.getModel(),A=C.get("localX"),M=C.get("localY"),L=C.getModel("emphasis"),R=C.get(["itemStyle","borderRadius"])||0,O=new we({shape:{x:A!=null?A*v:E.x,y:M!=null?M*g:E.y,width:E.dx,height:E.dy,r:R},style:C.getModel("itemStyle").getItemStyle(),z2:10});fn(O,nn(C),{labelFetcher:{getFormattedLabel:function(V,k){return e.getFormattedLabel(V,k,"node")}},labelDataIndex:S.dataIndex,defaultText:S.id}),O.disableLabelAnimation=!0,O.setStyle("fill",S.getVisual("color")),O.setStyle("decal",S.getVisual("style").decal),rn(O,C),c.add(O),y.setItemGraphicEl(S.dataIndex,O),ce(O).dataType="node";var P=L.get("focus");gr(O,P==="adjacency"?S.getAdjacentDataIndices():P==="trajectory"?S.getTrajectoryDataIndices():P,L.get("blurScope"),L.get("disabled"))}),y.eachItemGraphicEl(function(S,E){var C=y.getItemModel(E);C.get("draggable")&&(S.drift=function(A,M){a._focusAdjacencyDisabled=!0,this.shape.x+=A,this.shape.y+=M,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:y.getRawIndex(E),localX:this.shape.x/v,localY:this.shape.y/g})},S.ondragend=function(){a._focusAdjacencyDisabled=!1},S.draggable=!0,S.cursor="move")}),!this._data&&e.isAnimationEnabled()&&c.setClipPath(dvt(c.getBoundingRect(),e,function(){c.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._updateViewCoordSys=function(e,n){var i=e.layoutInfo,a=i.width,o=i.height,c=e.coordinateSystem=new Pc(null,{api:n,ecModel:e.ecModel});c.zoomLimit=e.get("scaleLimit"),c.setBoundingRect(0,0,a,o),c.setCenter(e.get("center")),c.setZoom(e.get("zoom")),this._controllerHost.target.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY})},t.type="sankey",t})(Ke);function fG(r,t,e){switch(r.fill){case"source":r.fill=e.node1.getVisual("color"),r.decal=e.node1.getVisual("style").decal;break;case"target":r.fill=e.node2.getVisual("color"),r.decal=e.node2.getVisual("style").decal;break;case"gradient":var n=e.node1.getVisual("color"),i=e.node2.getVisual("color");$t(n)&&$t(i)&&(r.fill=new Rh(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function dvt(r,t,e){var n=new we({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return hr(n,{shape:{width:r.width+20}},t,e),n}var vvt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[],o=e.levels||[];this.levelModels=[];for(var c=this.levelModels,h=0;h<o.length;h++)o[h].depth!=null&&o[h].depth>=0&&(c[o[h].depth]=new Me(o[h],this,n));var v=xM(a,i,this,!0,g);return v.data;function g(y,m){y.wrapMethod("getItemModel",function(b,S){var E=b.parentModel,C=E.getData().getItemLayout(S);if(C){var A=C.depth,M=E.levelModels[A];M&&(b.parentModel=M)}return b}),m.wrapMethod("getItemModel",function(b,S){var E=b.parentModel,C=E.getGraph().getEdgeByIndex(S),A=C.node1.getLayout();if(A){var M=A.depth,L=E.levelModels[M];L&&(b.parentModel=L)}return b})}},t.prototype.setNodePosition=function(e,n){var i=this.option.data||this.option.nodes,a=i[e];a.localX=n[0],a.localY=n[1]},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,i){function a(b){return isNaN(b)||b==null}if(i==="edge"){var o=this.getDataParams(e,i),c=o.data,h=o.value,v=c.source+" -- "+c.target;return qr("nameValue",{name:v,value:h,noValue:a(h)})}else{var g=this.getGraph().getNodeByIndex(e),y=g.getLayout().value,m=this.getDataParams(e,i).data.name;return qr("nameValue",{name:m!=null?m+"":null,value:y,noValue:a(y)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,n){var i=r.prototype.getDataParams.call(this,e,n);if(i.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(e),o=a.getLayout().value;i.value=o}return i},t.type="series.sankey",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:yt.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:yt.color.primary}},animationEasing:"linear",animationDuration:1e3},t})(or);function gvt(r,t){r.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth"),i=e.get("nodeGap"),a=an(e,t).refContainer,o=yr(e.getBoxLayoutParams(),a);e.layoutInfo=o;var c=o.width,h=o.height,v=e.getGraph(),g=v.nodes,y=v.edges;mvt(g);var m=je(g,function(C){return C.getLayout().value===0}),b=m.length!==0?0:e.get("layoutIterations"),S=e.get("orient"),E=e.get("nodeAlign");yvt(g,y,n,i,c,h,b,S,E)})}function yvt(r,t,e,n,i,a,o,c,h){_vt(r,t,e,i,a,c,h),xvt(r,t,a,i,n,o,c),Rvt(r,c)}function mvt(r){j(r,function(t){var e=wl(t.outEdges,Q0),n=wl(t.inEdges,Q0),i=t.getValue()||0,a=Math.max(e,n,i);t.setLayout({value:a},!0)})}function _vt(r,t,e,n,i,a,o){for(var c=[],h=[],v=[],g=[],y=0,m=0;m<t.length;m++)c[m]=1;for(var m=0;m<r.length;m++)h[m]=r[m].inEdges.length,h[m]===0&&v.push(r[m]);for(var b=-1;v.length;){for(var S=0;S<v.length;S++){var E=v[S],C=E.hostGraph.data.getRawDataItem(E.dataIndex),A=C.depth!=null&&C.depth>=0;A&&C.depth>b&&(b=C.depth),E.setLayout({depth:A?C.depth:y},!0),a==="vertical"?E.setLayout({dy:e},!0):E.setLayout({dx:e},!0);for(var M=0;M<E.outEdges.length;M++){var L=E.outEdges[M],R=t.indexOf(L);c[R]=0;var O=L.node2,P=r.indexOf(O);--h[P]===0&&g.indexOf(O)<0&&g.push(O)}}++y,v=g,g=[]}for(var m=0;m<c.length;m++)if(c[m]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var V=b>y-1?b:y-1;o&&o!=="left"&&bvt(r,o,a,V);var k=a==="vertical"?(i-e)/V:(n-e)/V;wvt(r,k,a)}function H8(r){var t=r.hostGraph.data.getRawDataItem(r.dataIndex);return t.depth!=null&&t.depth>=0}function bvt(r,t,e,n){if(t==="right"){for(var i=[],a=r,o=0;a.length;){for(var c=0;c<a.length;c++){var h=a[c];h.setLayout({skNodeHeight:o},!0);for(var v=0;v<h.inEdges.length;v++){var g=h.inEdges[v];i.indexOf(g.node1)<0&&i.push(g.node1)}}a=i,i=[],++o}j(r,function(y){H8(y)||y.setLayout({depth:Math.max(0,n-y.getLayout().skNodeHeight)},!0)})}else t==="justify"&&Svt(r,n)}function Svt(r,t){j(r,function(e){!H8(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}function wvt(r,t,e){j(r,function(n){var i=n.getLayout().depth*t;e==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function xvt(r,t,e,n,i,a,o){var c=Evt(r,o);Tvt(c,t,e,n,i,o),gx(c,i,e,n,o);for(var h=1;a>0;a--)h*=.99,Cvt(c,h,o),gx(c,i,e,n,o),Nvt(c,h,o),gx(c,i,e,n,o)}function Evt(r,t){var e=[],n=t==="vertical"?"y":"x",i=GE(r,function(a){return a.getLayout()[n]});return i.keys.sort(function(a,o){return a-o}),j(i.keys,function(a){e.push(i.buckets.get(a))}),e}function Tvt(r,t,e,n,i,a){var o=1/0;j(r,function(c){var h=c.length,v=0;j(c,function(y){v+=y.getLayout().value});var g=a==="vertical"?(n-(h-1)*i)/v:(e-(h-1)*i)/v;g<o&&(o=g)}),j(r,function(c){j(c,function(h,v){var g=h.getLayout().value*o;a==="vertical"?(h.setLayout({x:v},!0),h.setLayout({dx:g},!0)):(h.setLayout({y:v},!0),h.setLayout({dy:g},!0))})}),j(t,function(c){var h=+c.getValue()*o;c.setLayout({dy:h},!0)})}function gx(r,t,e,n,i){var a=i==="vertical"?"x":"y";j(r,function(o){o.sort(function(E,C){return E.getLayout()[a]-C.getLayout()[a]});for(var c,h,v,g=0,y=o.length,m=i==="vertical"?"dx":"dy",b=0;b<y;b++)h=o[b],v=g-h.getLayout()[a],v>0&&(c=h.getLayout()[a]+v,i==="vertical"?h.setLayout({x:c},!0):h.setLayout({y:c},!0)),g=h.getLayout()[a]+h.getLayout()[m]+t;var S=i==="vertical"?n:e;if(v=g-t-S,v>0){c=h.getLayout()[a]-v,i==="vertical"?h.setLayout({x:c},!0):h.setLayout({y:c},!0),g=c;for(var b=y-2;b>=0;--b)h=o[b],v=h.getLayout()[a]+h.getLayout()[m]+t-g,v>0&&(c=h.getLayout()[a]-v,i==="vertical"?h.setLayout({x:c},!0):h.setLayout({y:c},!0)),g=h.getLayout()[a]}})}function Cvt(r,t,e){j(r.slice().reverse(),function(n){j(n,function(i){if(i.outEdges.length){var a=wl(i.outEdges,Avt,e)/wl(i.outEdges,Q0);if(isNaN(a)){var o=i.outEdges.length;a=o?wl(i.outEdges,Mvt,e)/o:0}if(e==="vertical"){var c=i.getLayout().x+(a-Dl(i,e))*t;i.setLayout({x:c},!0)}else{var h=i.getLayout().y+(a-Dl(i,e))*t;i.setLayout({y:h},!0)}}})})}function Avt(r,t){return Dl(r.node2,t)*r.getValue()}function Mvt(r,t){return Dl(r.node2,t)}function Dvt(r,t){return Dl(r.node1,t)*r.getValue()}function Lvt(r,t){return Dl(r.node1,t)}function Dl(r,t){return t==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function Q0(r){return r.getValue()}function wl(r,t,e){for(var n=0,i=r.length,a=-1;++a<i;){var o=+t(r[a],e);isNaN(o)||(n+=o)}return n}function Nvt(r,t,e){j(r,function(n){j(n,function(i){if(i.inEdges.length){var a=wl(i.inEdges,Dvt,e)/wl(i.inEdges,Q0);if(isNaN(a)){var o=i.inEdges.length;a=o?wl(i.inEdges,Lvt,e)/o:0}if(e==="vertical"){var c=i.getLayout().x+(a-Dl(i,e))*t;i.setLayout({x:c},!0)}else{var h=i.getLayout().y+(a-Dl(i,e))*t;i.setLayout({y:h},!0)}}})})}function Rvt(r,t){var e=t==="vertical"?"x":"y";j(r,function(n){n.outEdges.sort(function(i,a){return i.node2.getLayout()[e]-a.node2.getLayout()[e]}),n.inEdges.sort(function(i,a){return i.node1.getLayout()[e]-a.node1.getLayout()[e]})}),j(r,function(n){var i=0,a=0;j(n.outEdges,function(o){o.setLayout({sy:i},!0),i+=o.getLayout().dy}),j(n.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}function Ivt(r){r.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes,i=e.edges;if(n.length){var a=1/0,o=-1/0;j(n,function(c){var h=c.getLayout().value;h<a&&(a=h),h>o&&(o=h)}),j(n,function(c){var h=new cn({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:t.get("color")}),v=h.mapValueToVisual(c.getLayout().value),g=c.getModel().get(["itemStyle","color"]);g!=null?(c.setVisual("color",g),c.setVisual("style",{fill:g})):(c.setVisual("color",v),c.setVisual("style",{fill:v}))})}i.length&&j(i,function(c){var h=c.getModel().get("lineStyle");c.setVisual("style",h)})})}function Ovt(r){r.registerChartView(pvt),r.registerSeriesModel(vvt),r.registerLayout(gvt),r.registerVisual(Ivt),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),r.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(i){var a=i.coordinateSystem,o=nb(a,t,i.get("scaleLimit"));i.setCenter(o.center),i.setZoom(o.zoom)})})}var z8=(function(){function r(){}return r.prototype._hasEncodeRule=function(t){var e=this.getEncode();return e&&e.get(t)!=null},r.prototype.getInitialData=function(t,e){var n,i=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),o=i.get("type"),c=a.get("type"),h;o==="category"?(t.layout="horizontal",n=i.getOrdinalMeta(),h=!this._hasEncodeRule("x")):c==="category"?(t.layout="vertical",n=a.getOrdinalMeta(),h=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var v=["x","y"],g=t.layout==="horizontal"?0:1,y=this._baseAxisDim=v[g],m=v[1-g],b=[i,a],S=b[g].get("type"),E=b[1-g].get("type"),C=t.data;if(C&&h){var A=[];j(C,function(R,O){var P;Rt(R)?(P=R.slice(),R.unshift(O)):Rt(R.value)?(P=At({},R),P.value=P.value.slice(),R.value.unshift(O)):P=R,A.push(P)}),t.data=A}var M=this.defaultValueDimensions,L=[{name:y,type:k0(S),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:m,type:k0(E),dimsDef:M.slice()}];return Hh(this,{coordDimensions:L,dimensionsCount:M.length+1,encodeDefaulter:de(n4,L,this)})},r.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},r})(),U8=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:yt.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:yt.color.shadow}},animationDuration:800},t})(or);Zr(U8,z8,!0);var Pvt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this.group,c=this._data;this._data||o.removeAll();var h=e.get("layout")==="horizontal"?1:0;a.diff(c).add(function(v){if(a.hasValue(v)){var g=a.getItemLayout(v),y=hG(g,a,v,h,!0);a.setItemGraphicEl(v,y),o.add(y)}}).update(function(v,g){var y=c.getItemGraphicEl(g);if(!a.hasValue(v)){o.remove(y);return}var m=a.getItemLayout(v);y?(ca(y),W8(m,y,a,v)):y=hG(m,a,v,h),o.add(y),a.setItemGraphicEl(v,y)}).remove(function(v){var g=c.getItemGraphicEl(v);g&&o.remove(g)}).execute(),this._data=a},t.prototype.remove=function(e){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&n.remove(a)})},t.type="boxplot",t})(Ke),kvt=(function(){function r(){}return r})(),Vvt=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="boxplotBoxPath",n}return t.prototype.getDefaultShape=function(){return new kvt},t.prototype.buildPath=function(e,n){var i=n.points,a=0;for(e.moveTo(i[a][0],i[a][1]),a++;a<4;a++)e.lineTo(i[a][0],i[a][1]);for(e.closePath();a<i.length;a++)e.moveTo(i[a][0],i[a][1]),a++,e.lineTo(i[a][0],i[a][1])},t})(Ee);function hG(r,t,e,n,i){var a=r.ends,o=new Vvt({shape:{points:i?Gvt(a,n,r):a}});return W8(r,o,t,e,i),o}function W8(r,t,e,n,i){var a=e.hostModel,o=Mc[i?"initProps":"updateProps"];o(t,{shape:{points:r.ends}},a,n),t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var c=e.getItemModel(n),h=c.getModel("emphasis");rn(t,c),gr(t,h.get("focus"),h.get("blurScope"),h.get("disabled"))}function Gvt(r,t,e){return Pt(r,function(n){return n=n.slice(),n[t]=e.initBaseline,n})}var jd=j;function Fvt(r){var t=Bvt(r);jd(t,function(e){var n=e.seriesModels;n.length&&(Hvt(e),jd(n,function(i,a){zvt(i,e.boxOffsetList[a],e.boxWidthList[a])}))})}function Bvt(r){var t=[],e=[];return r.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),a=ve(e,i);a<0&&(a=e.length,e[a]=i,t[a]={axis:i,seriesModels:[]}),t[a].seriesModels.push(n)}),t}function Hvt(r){var t=r.axis,e=r.seriesModels,n=e.length,i=r.boxWidthList=[],a=r.boxOffsetList=[],o=[],c;if(t.type==="category")c=t.getBandWidth();else{var h=0;jd(e,function(S){h=Math.max(h,S.getData().count())});var v=t.getExtent();c=Math.abs(v[1]-v[0])/h}jd(e,function(S){var E=S.get("boxWidth");Rt(E)||(E=[E,E]),o.push([Yt(E[0],c)||0,Yt(E[1],c)||0])});var g=c*.8-2,y=g/n*.3,m=(g-y*(n-1))/n,b=m/2-g/2;jd(e,function(S,E){a.push(b),b+=y+m,i.push(Math.min(Math.max(m,o[E][0]),o[E][1]))})}function zvt(r,t,e){var n=r.coordinateSystem,i=r.getData(),a=e/2,o=r.get("layout")==="horizontal"?0:1,c=1-o,h=["x","y"],v=i.mapDimension(h[o]),g=i.mapDimensionsAll(h[c]);if(v==null||g.length<5)return;for(var y=0;y<i.count();y++){var m=i.get(v,y),b=L(m,g[2],y),S=L(m,g[0],y),E=L(m,g[1],y),C=L(m,g[3],y),A=L(m,g[4],y),M=[];R(M,E,!1),R(M,C,!0),M.push(S,E,A,C),O(M,S),O(M,A),O(M,b),i.setItemLayout(y,{initBaseline:b[c],ends:M})}function L(P,V,k){var F=i.get(V,k),H=[];H[o]=P,H[c]=F;var W;return isNaN(P)||isNaN(F)?W=[NaN,NaN]:(W=n.dataToPoint(H),W[o]+=t),W}function R(P,V,k){var F=V.slice(),H=V.slice();F[o]+=a,H[o]-=a,k?P.push(F,H):P.push(H,F)}function O(P,V){var k=V.slice(),F=V.slice();k[o]-=a,F[o]+=a,P.push(k,F)}}function Uvt(r,t){t=t||{};for(var e=[],n=[],i=t.boundIQR,a=i==="none"||i===0,o=0;o<r.length;o++){var c=sa(r[o].slice()),h=YS(c,.25),v=YS(c,.5),g=YS(c,.75),y=c[0],m=c[c.length-1],b=(i??1.5)*(g-h),S=a?y:Math.max(y,h-b),E=a?m:Math.min(m,g+b),C=t.itemNameFormatter,A=ee(C)?C({value:o}):$t(C)?C.replace("{value}",o+""):o+"";e.push([A,S,h,v,g,E]);for(var M=0;M<c.length;M++){var L=c[M];if(L<S||L>E){var R=[A,L];n.push(R)}}}return{boxData:e,outliers:n}}var Wvt={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==Sn){var n="";ze(n)}var i=Uvt(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function jvt(r){r.registerSeriesModel(U8),r.registerChartView(Pvt),r.registerLayout(Fvt),r.registerTransform(Wvt)}var Yvt=["itemStyle","borderColor"],$vt=["itemStyle","borderColor0"],qvt=["itemStyle","borderColorDoji"],Xvt=["itemStyle","color"],Zvt=["itemStyle","color0"];function NM(r,t){return t.get(r>0?Xvt:Zvt)}function RM(r,t){return t.get(r===0?qvt:r>0?Yvt:$vt)}var Kvt={seriesType:"candlestick",plan:kh(),performRawSeries:!0,reset:function(r,t){if(!t.isSeriesFiltered(r)){var e=r.pipelineContext.large;return!e&&{progress:function(n,i){for(var a;(a=n.next())!=null;){var o=i.getItemModel(a),c=i.getItemLayout(a).sign,h=o.getItemStyle();h.fill=NM(c,o),h.stroke=RM(c,o)||h.fill;var v=i.ensureUniqueItemVisual(a,"style");At(v,h)}}}}}},Jvt=["color","borderColor"],Qvt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,n,i){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,n,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,n):this._incrementalRenderNormal(e,n)},t.prototype.eachRendered=function(e){Rl(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e){var n=e.getData(),i=this._data,a=this.group,o=n.getLayout("isSimpleBox"),c=e.get("clip",!0),h=e.coordinateSystem,v=h.getArea&&h.getArea();this._data||a.removeAll(),n.diff(i).add(function(g){if(n.hasValue(g)){var y=n.getItemLayout(g);if(c&&pG(v,y))return;var m=yx(y,g,!0);hr(m,{shape:{points:y.ends}},e,g),mx(m,n,g,o),a.add(m),n.setItemGraphicEl(g,m)}}).update(function(g,y){var m=i.getItemGraphicEl(y);if(!n.hasValue(g)){a.remove(m);return}var b=n.getItemLayout(g);if(c&&pG(v,b)){a.remove(m);return}m?(Pe(m,{shape:{points:b.ends}},e,g),ca(m)):m=yx(b),mx(m,n,g,o),a.add(m),n.setItemGraphicEl(g,m)}).remove(function(g){var y=i.getItemGraphicEl(g);y&&a.remove(y)}).execute(),this._data=n},t.prototype._renderLarge=function(e){this._clear(),dG(e,this.group);var n=e.get("clip",!0)?Wv(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,n){for(var i=n.getData(),a=i.getLayout("isSimpleBox"),o;(o=e.next())!=null;){var c=i.getItemLayout(o),h=yx(c);mx(h,i,o,a),h.incremental=!0,this.group.add(h),this._progressiveEls.push(h)}},t.prototype._incrementalRenderLarge=function(e,n){dG(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t})(Ke),tgt=(function(){function r(){}return r})(),egt=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="normalCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new tgt},t.prototype.buildPath=function(e,n){var i=n.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))},t})(Ee);function yx(r,t,e){var n=r.ends;return new egt({shape:{points:e?rgt(n,r):n},z2:100})}function pG(r,t){for(var e=!0,n=0;n<t.ends.length;n++)if(r.contain(t.ends[n][0],t.ends[n][1])){e=!1;break}return e}function mx(r,t,e,n){var i=t.getItemModel(e);r.useStyle(t.getItemVisual(e,"style")),r.style.strokeNoScale=!0,r.__simpleBox=n,rn(r,i);var a=t.getItemLayout(e).sign;j(r.states,function(c,h){var v=i.getModel(h),g=NM(a,v),y=RM(a,v)||g,m=c.style||(c.style={});g&&(m.fill=g),y&&(m.stroke=y)});var o=i.getModel("emphasis");gr(r,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function rgt(r,t){return Pt(r,function(e){return e=e.slice(),e[1]=t.initBaseline,e})}var ngt=(function(){function r(){}return r})(),_x=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n.type="largeCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new ngt},t.prototype.buildPath=function(e,n){for(var i=n.points,a=0;a<i.length;)if(this.__sign===i[a++]){var o=i[a++];e.moveTo(o,i[a++]),e.lineTo(o,i[a++])}else a+=3},t})(Ee);function dG(r,t,e,n){var i=r.getData(),a=i.getLayout("largePoints"),o=new _x({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(o);var c=new _x({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(c);var h=new _x({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(h),bx(1,o,r),bx(-1,c,r),bx(0,h,r),n&&(o.incremental=!0,c.incremental=!0),e&&e.push(o,c)}function bx(r,t,e,n){var i=RM(r,e)||NM(r,e),a=e.getModel("itemStyle").getItemStyle(Jvt);t.useStyle(a),t.style.fill=null,t.style.stroke=i}var j8=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,n,i){var a=n.getItemLayout(e);return a&&i.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t})(or);Zr(j8,z8,!0);function igt(r){!r||!Rt(r.series)||j(r.series,function(t){se(t)&&t.type==="k"&&(t.type="candlestick")})}var agt={seriesType:"candlestick",plan:kh(),reset:function(r){var t=r.coordinateSystem,e=r.getData(),n=ogt(r,e),i=0,a=1,o=["x","y"],c=e.getDimensionIndex(e.mapDimension(o[i])),h=Pt(e.mapDimensionsAll(o[a]),e.getDimensionIndex,e),v=h[0],g=h[1],y=h[2],m=h[3];if(e.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),c<0||h.length<4)return;return{progress:r.pipelineContext.large?S:b};function b(E,C){for(var A,M=C.getStore();(A=E.next())!=null;){var L=M.get(c,A),R=M.get(v,A),O=M.get(g,A),P=M.get(y,A),V=M.get(m,A),k=Math.min(R,O),F=Math.max(R,O),H=it(k,L),W=it(F,L),q=it(P,L),Y=it(V,L),Z=[];rt(Z,W,0),rt(Z,H,1),Z.push(lt(Y),lt(W),lt(q),lt(H));var et=C.getItemModel(A),J=!!et.get(["itemStyle","borderColorDoji"]);C.setItemLayout(A,{sign:vG(M,A,R,O,g,J),initBaseline:R>O?W[a]:H[a],ends:Z,brushRect:st(P,V,L)})}function it(dt,pt){var xt=[];return xt[i]=pt,xt[a]=dt,isNaN(pt)||isNaN(dt)?[NaN,NaN]:t.dataToPoint(xt)}function rt(dt,pt,xt){var Ft=pt.slice(),Ut=pt.slice();Ft[i]=Um(Ft[i]+n/2,1,!1),Ut[i]=Um(Ut[i]-n/2,1,!0),xt?dt.push(Ft,Ut):dt.push(Ut,Ft)}function st(dt,pt,xt){var Ft=it(dt,xt),Ut=it(pt,xt);return Ft[i]-=n/2,Ut[i]-=n/2,{x:Ft[0],y:Ft[1],width:n,height:Ut[1]-Ft[1]}}function lt(dt){return dt[i]=Um(dt[i],1),dt}}function S(E,C){for(var A=So(E.count*4),M=0,L,R=[],O=[],P,V=C.getStore(),k=!!r.get(["itemStyle","borderColorDoji"]);(P=E.next())!=null;){var F=V.get(c,P),H=V.get(v,P),W=V.get(g,P),q=V.get(y,P),Y=V.get(m,P);if(isNaN(F)||isNaN(q)||isNaN(Y)){A[M++]=NaN,M+=3;continue}A[M++]=vG(V,P,H,W,g,k),R[i]=F,R[a]=q,L=t.dataToPoint(R,null,O),A[M++]=L?L[0]:NaN,A[M++]=L?L[1]:NaN,R[a]=Y,L=t.dataToPoint(R,null,O),A[M++]=L?L[1]:NaN}C.setLayout("largePoints",A)}}};function vG(r,t,e,n,i,a){var o;return e>n?o=-1:e<n?o=1:o=a?0:t>0?r.get(i,t-1)<=n?1:-1:1,o}function ogt(r,t){var e=r.getBaseAxis(),n,i=e.type==="category"?e.getBandWidth():(n=e.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=Yt(Jt(r.get("barMaxWidth"),i),i),o=Yt(Jt(r.get("barMinWidth"),1),i),c=r.get("barWidth");return c!=null?Yt(c,i):Math.max(Math.min(i/2,a),o)}function sgt(r){r.registerChartView(Qvt),r.registerSeriesModel(j8),r.registerPreprocessor(igt),r.registerVisual(Kvt),r.registerLayout(agt)}function gG(r,t){var e=t.rippleEffectColor||t.color;r.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var lgt=(function(r){bt(t,r);function t(e,n){var i=r.call(this)||this,a=new zv(e,n),o=new re;return i.add(a),i.add(o),i.updateData(e,n),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var n=e.symbolType,i=e.color,a=e.rippleNumber,o=this.childAt(1),c=0;c<a;c++){var h=Xr(n,-1,-1,2,2,i);h.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var v=-c/a*e.period+e.effectOffset;h.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(v).start(),h.animateStyle(!0).when(e.period,{opacity:0}).delay(v).start(),o.add(h)}gG(o,e)},t.prototype.updateEffectAnimation=function(e){for(var n=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var c=a[o];if(n[c]!==e[c]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}gG(i,e)},t.prototype.highlight=function(){ys(this)},t.prototype.downplay=function(){ms(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,n){var i=this,a=e.hostModel;this.childAt(0).updateData(e,n);var o=this.childAt(1),c=e.getItemModel(n),h=e.getItemVisual(n,"symbol"),v=Gh(e.getItemVisual(n,"symbolSize")),g=e.getItemVisual(n,"style"),y=g&&g.fill,m=c.getModel("emphasis");o.setScale(v),o.traverse(function(C){C.setStyle("fill",y)});var b=Nc(e.getItemVisual(n,"symbolOffset"),v);b&&(o.x=b[0],o.y=b[1]);var S=e.getItemVisual(n,"symbolRotate");o.rotation=(S||0)*Math.PI/180||0;var E={};E.showEffectOn=a.get("showEffectOn"),E.rippleScale=c.get(["rippleEffect","scale"]),E.brushType=c.get(["rippleEffect","brushType"]),E.period=c.get(["rippleEffect","period"])*1e3,E.effectOffset=n/e.count(),E.z=a.getShallow("z")||0,E.zlevel=a.getShallow("zlevel")||0,E.symbolType=h,E.color=y,E.rippleEffectColor=c.get(["rippleEffect","color"]),E.rippleNumber=c.get(["rippleEffect","number"]),E.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(E):this.startEffectAnimation(E),this._effectCfg=E):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(C){C==="emphasis"?E.showEffectOn!=="render"&&i.startEffectAnimation(E):C==="normal"&&E.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=E,gr(this,m.get("focus"),m.get("blurScope"),m.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t})(re),ugt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._symbolDraw=new Uv(lgt)},t.prototype.render=function(e,n,i){var a=e.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(o.group)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,i=n&&n.getArea&&n.getArea();return e.get("clip",!0)?i:null},t.prototype.updateTransform=function(e,n,i){var a=e.getData();this.group.dirty();var o=jv("").reset(e,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var n=e.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=Ntt(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t})(Ke),cgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return Cs(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,n,i){return i.point(n.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t})(or);function fgt(r){r.registerChartView(ugt),r.registerSeriesModel(cgt),r.registerLayout(jv("effectScatter"))}var Y8=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this)||this;return a.add(a.createLine(e,n,i)),a._updateEffectSymbol(e,n),a}return t.prototype.createLine=function(e,n,i){return new SM(e,n,i)},t.prototype._updateEffectSymbol=function(e,n){var i=e.getItemModel(n),a=i.getModel("effect"),o=a.get("symbolSize"),c=a.get("symbol");Rt(o)||(o=[o,o]);var h=e.getItemVisual(n,"style"),v=a.get("color")||h&&h.stroke,g=this.childAt(1);this._symbolType!==c&&(this.remove(g),g=Xr(c,-.5,-.5,1,1,v),g.z2=100,g.culling=!0,this.add(g)),g&&(g.setStyle("shadowColor",v),g.setStyle(a.getItemStyle(["color"])),g.scaleX=o[0],g.scaleY=o[1],g.setColor(v),this._symbolType=c,this._symbolScale=o,this._updateEffectAnimation(e,a,n))},t.prototype._updateEffectAnimation=function(e,n,i){var a=this.childAt(1);if(a){var o=e.getItemLayout(i),c=n.get("period")*1e3,h=n.get("loop"),v=n.get("roundTrip"),g=n.get("constantSpeed"),y=Rn(n.get("delay"),function(b){return b/e.count()*c/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),g>0&&(c=this._getLineLength(a)/g*1e3),c!==this._period||h!==this._loop||v!==this._roundTrip){a.stopAnimation();var m=void 0;ee(y)?m=y(i):m=y,a.__t>0&&(m=-c*a.__t),this._animateSymbol(a,c,m,h,v)}this._period=c,this._loop=h,this._roundTrip=v}},t.prototype._animateSymbol=function(e,n,i,a,o){if(n>0){e.__t=0;var c=this,h=e.animate("",a).when(o?n*2:n,{__t:o?2:1}).delay(i).during(function(){c._updateSymbolPosition(e)});a||h.done(function(){c.remove(e)}),h.start()}},t.prototype._getLineLength=function(e){return ol(e.__p1,e.__cp1)+ol(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,n){e.__p1=n[0],e.__p2=n[1],e.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(e,n,i){this.childAt(0).updateData(e,n,i),this._updateEffectSymbol(e,n)},t.prototype._updateSymbolPosition=function(e){var n=e.__p1,i=e.__p2,a=e.__cp1,o=e.__t<1?e.__t:2-e.__t,c=[e.x,e.y],h=c.slice(),v=mn,g=xE;c[0]=v(n[0],a[0],i[0],o),c[1]=v(n[1],a[1],i[1],o);var y=e.__t<1?g(n[0],a[0],i[0],o):g(i[0],a[0],n[0],1-o),m=e.__t<1?g(n[1],a[1],i[1],o):g(i[1],a[1],n[1],1-o);e.rotation=-Math.atan2(m,y)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=ol(h,c)*1.05,o===1&&(c[0]=h[0]+(c[0]-h[0])/2,c[1]=h[1]+(c[1]-h[1])/2)):e.__lastT===1?e.scaleY=2*ol(n,c):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=c[0],e.y=c[1]},t.prototype.updateLayout=function(e,n){this.childAt(0).updateLayout(e,n);var i=e.getItemModel(n).getModel("effect");this._updateEffectAnimation(e,i,n)},t})(re),$8=(function(r){bt(t,r);function t(e,n,i){var a=r.call(this)||this;return a._createPolyline(e,n,i),a}return t.prototype._createPolyline=function(e,n,i){var a=e.getItemLayout(n),o=new In({shape:{points:a}});this.add(o),this._updateCommonStl(e,n,i)},t.prototype.updateData=function(e,n,i){var a=e.hostModel,o=this.childAt(0),c={shape:{points:e.getItemLayout(n)}};Pe(o,c,a,n),this._updateCommonStl(e,n,i)},t.prototype._updateCommonStl=function(e,n,i){var a=this.childAt(0),o=e.getItemModel(n),c=i&&i.emphasisLineStyle,h=i&&i.focus,v=i&&i.blurScope,g=i&&i.emphasisDisabled;if(!i||e.hasItemOption){var y=o.getModel("emphasis");c=y.getModel("lineStyle").getLineStyle(),g=y.get("disabled"),h=y.get("focus"),v=y.get("blurScope")}a.useStyle(e.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var m=a.ensureState("emphasis");m.style=c,gr(this,h,v,g)},t.prototype.updateLayout=function(e,n){var i=this.childAt(0);i.setShape("points",e.getItemLayout(n))},t})(re),hgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return t.prototype.createLine=function(e,n,i){return new $8(e,n,i)},t.prototype._updateAnimationPoints=function(e,n){this._points=n;for(var i=[0],a=0,o=1;o<n.length;o++){var c=n[o-1],h=n[o];a+=ol(c,h),i.push(a)}if(a===0){this._length=0;return}for(var o=0;o<i.length;o++)i[o]/=a;this._offsets=i,this._length=a},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var n=e.__t<1?e.__t:2-e.__t,i=this._points,a=this._offsets,o=i.length;if(a){var c=this._lastFrame,h;if(n<this._lastFramePercent){var v=Math.min(c+1,o-1);for(h=v;h>=0&&!(a[h]<=n);h--);h=Math.min(h,o-2)}else{for(h=c;h<o&&!(a[h]>n);h++);h=Math.min(h-1,o-2)}var g=(n-a[h])/(a[h+1]-a[h]),y=i[h],m=i[h+1];e.x=y[0]*(1-g)+g*m[0],e.y=y[1]*(1-g)+g*m[1];var b=e.__t<1?m[0]-y[0]:y[0]-m[0],S=e.__t<1?m[1]-y[1]:y[1]-m[1];e.rotation=-Math.atan2(S,b)-Math.PI/2,this._lastFrame=h,this._lastFramePercent=n,e.ignore=!1}},t})(Y8),pgt=(function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r})(),dgt=(function(r){bt(t,r);function t(e){var n=r.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:yt.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new pgt},t.prototype.buildPath=function(e,n){var i=n.segs,a=n.curveness,o;if(n.polyline)for(o=this._off;o<i.length;){var c=i[o++];if(c>0){e.moveTo(i[o++],i[o++]);for(var h=1;h<c;h++)e.lineTo(i[o++],i[o++])}}else for(o=this._off;o<i.length;){var v=i[o++],g=i[o++],y=i[o++],m=i[o++];if(e.moveTo(v,g),a>0){var b=(v+y)/2-(g-m)*a,S=(g+m)/2-(y-v)*a;e.quadraticCurveTo(b,S,y,m)}else e.lineTo(y,m)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(e,n){var i=this.shape,a=i.segs,o=i.curveness,c=this.style.lineWidth;if(i.polyline)for(var h=0,v=0;v<a.length;){var g=a[v++];if(g>0)for(var y=a[v++],m=a[v++],b=1;b<g;b++){var S=a[v++],E=a[v++];if(nl(y,m,S,E,c,e,n))return h}h++}else for(var h=0,v=0;v<a.length;){var y=a[v++],m=a[v++],S=a[v++],E=a[v++];if(o>0){var C=(y+S)/2-(m-E)*o,A=(m+E)/2-(S-y)*o;if(XB(y,m,C,A,S,E,c,e,n))return h}else if(nl(y,m,S,E,c,e,n))return h;h++}return-1},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=i[0],n=i[1],a.contain(e,n)){var o=this.hoverDataIdx=this.findDataIndex(e,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,i=n.segs,a=1/0,o=1/0,c=-1/0,h=-1/0,v=0;v<i.length;){var g=i[v++],y=i[v++];a=Math.min(g,a),c=Math.max(g,c),o=Math.min(y,o),h=Math.max(y,h)}e=this._rect=new le(a,o,c,h)}return e},t})(Ee),vgt=(function(){function r(){this.group=new re}return r.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},r.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],i=e.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var o=a.length,c=new Float32Array(o+i.length);c.set(a),c.set(i,o),n.setShape({segs:c})}else{this._newAdded=[];var h=this._create();h.incremental=!0,h.setShape({segs:i}),this._setCommon(h,e),h.__startIndex=t.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new dgt({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},r.prototype._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var o=ce(t);o.seriesIndex=i.seriesIndex,t.on("mousemove",function(c){o.dataIndex=null;var h=t.hoverDataIdx;h>0&&(o.dataIndex=h+t.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r})(),q8={seriesType:"lines",plan:kh(),reset:function(r){var t=r.coordinateSystem;if(t){var e=r.get("polyline"),n=r.pipelineContext.large;return{progress:function(i,a){var o=[];if(n){var c=void 0,h=i.end-i.start;if(e){for(var v=0,g=i.start;g<i.end;g++)v+=r.getLineCoordsCount(g);c=new Float32Array(h+v*2)}else c=new Float32Array(h*4);for(var y=0,m=[],g=i.start;g<i.end;g++){var b=r.getLineCoords(g,o);e&&(c[y++]=b);for(var S=0;S<b;S++)m=t.dataToPoint(o[S],!1,m),c[y++]=m[0],c[y++]=m[1]}a.setLayout("linesPoints",c)}else for(var g=i.start;g<i.end;g++){var E=a.getItemModel(g),b=r.getLineCoords(g,o),C=[];if(e)for(var A=0;A<b;A++)C.push(t.dataToPoint(o[A]));else{C[0]=t.dataToPoint(o[0]),C[1]=t.dataToPoint(o[1]);var M=E.get(["lineStyle","curveness"]);+M&&(C[2]=[(C[0][0]+C[1][0])/2-(C[0][1]-C[1][1])*M,(C[0][1]+C[1][1])/2-(C[1][0]-C[0][0])*M])}a.setItemLayout(g,C)}}}}}},ggt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._updateLineDraw(a,e),c=e.get("zlevel"),h=e.get(["effect","trailLength"]),v=i.getZr(),g=v.painter.getType()==="svg";g||v.painter.getLayer(c).clear(!0),this._lastZlevel!=null&&!g&&v.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&h>0&&(g||v.configLayer(c,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(h/10+.9,1),0)})),o.updateData(a);var y=e.get("clip",!0)&&Wv(e.coordinateSystem,!1,e);y?this.group.setClipPath(y):this.group.removeClipPath(),this._lastZlevel=c,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,i){var a=e.getData(),o=this._updateLineDraw(a,e);o.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(e,n,i){this._lineDraw.incrementalUpdate(e,n.getData()),this._finished=e.end===n.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,n,i){var a=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var c=q8.reset(e,n,i);c.progress&&c.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(e,n){var i=this._lineDraw,a=this._showEffect(n),o=!!n.get("polyline"),c=n.pipelineContext,h=c.large;return(!i||a!==this._hasEffet||o!==this._isPolyline||h!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=h?new vgt:new wM(o?a?hgt:$8:a?Y8:SM),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=h),this.group.add(i.group),i},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var n=e.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.type="lines",t})(Ke),ygt=typeof Uint32Array>"u"?Array:Uint32Array,mgt=typeof Float64Array>"u"?Array:Float64Array;function yG(r){var t=r.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(r.data=Pt(t,function(e){var n=[e[0].coord,e[1].coord],i={coords:n};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),qC([i,e[0],e[1]])}))}var _gt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.init=function(e){e.data=e.data||[],yG(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),r.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(yG(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}r.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=Jd(this._flatCoords,n.flatCoords),this._flatCoordsOffset=Jd(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var n=this.getData().getItemModel(e),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[e*2],a=this._flatCoordsOffset[e*2+1],o=0;o<a;o++)n[o]=n[o]||[],n[o][0]=this._flatCoords[i+o*2],n[o][1]=this._flatCoords[i+o*2+1];return a}else{for(var c=this._getCoordsFromItemModel(e),o=0;o<c.length;o++)n[o]=n[o]||[],n[o][0]=c[o][0],n[o][1]=c[o][1];return c.length}},t.prototype._processFlatCoordsArray=function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),Re(e[0])){for(var i=e.length,a=new ygt(i),o=new mgt(i),c=0,h=0,v=0,g=0;g<i;){v++;var y=e[g++];a[h++]=c+n,a[h++]=y;for(var m=0;m<y;m++){var b=e[g++],S=e[g++];o[c++]=b,o[c++]=S}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,h),flatCoords:o,count:v}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,n){var i=new ui(["value"],this);return i.hasItemOption=!1,i.initData(e.data,[],function(a,o,c,h){if(a instanceof Array)return NaN;i.hasItemOption=!0;var v=a.value;if(v!=null)return v instanceof Array?v[h]:v}),i},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=a.getItemModel(e),c=o.get("name");if(c)return c;var h=o.get("fromName"),v=o.get("toName"),g=[];return h!=null&&g.push(h),v!=null&&g.push(v),qr("nameValue",{name:g.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),n=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t})(or);function vm(r){return r instanceof Array||(r=[r,r]),r}var bgt={seriesType:"lines",reset:function(r){var t=vm(r.get("symbol")),e=vm(r.get("symbolSize")),n=r.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",e&&e[0]),n.setVisual("toSymbolSize",e&&e[1]);function i(a,o){var c=a.getItemModel(o),h=vm(c.getShallow("symbol",!0)),v=vm(c.getShallow("symbolSize",!0));h[0]&&a.setItemVisual(o,"fromSymbol",h[0]),h[1]&&a.setItemVisual(o,"toSymbol",h[1]),v[0]&&a.setItemVisual(o,"fromSymbolSize",v[0]),v[1]&&a.setItemVisual(o,"toSymbolSize",v[1])}return{dataEach:n.hasItemOption?i:null}}};function Sgt(r){r.registerChartView(ggt),r.registerSeriesModel(_gt),r.registerLayout(q8),r.registerVisual(bgt)}var wgt=256,xgt=(function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Na.createCanvas();this.canvas=t}return r.prototype.update=function(t,e,n,i,a,o){var c=this._getBrush(),h=this._getGradient(a,"inRange"),v=this._getGradient(a,"outOfRange"),g=this.pointSize+this.blurSize,y=this.canvas,m=y.getContext("2d"),b=t.length;y.width=e,y.height=n;for(var S=0;S<b;++S){var E=t[S],C=E[0],A=E[1],M=E[2],L=i(M);m.globalAlpha=L,m.drawImage(c,C-g,A-g)}if(!y.width||!y.height)return y;for(var R=m.getImageData(0,0,y.width,y.height),O=R.data,P=0,V=O.length,k=this.minOpacity,F=this.maxOpacity,H=F-k;P<V;){var L=O[P+3]/256,W=Math.floor(L*(wgt-1))*4;if(L>0){var q=o(L)?h:v;L>0&&(L=L*H+k),O[P++]=q[W],O[P++]=q[W+1],O[P++]=q[W+2],O[P++]=q[W+3]*L*256}else P+=4}return m.putImageData(R,0,0),y},r.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Na.createCanvas()),e=this.pointSize+this.blurSize,n=e*2;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor=yt.color.neutral99,i.beginPath(),i.arc(-e,e,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},r.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],o=0,c=0;c<256;c++)t[e](c/255,!0,a),i[o++]=a[0],i[o++]=a[1],i[o++]=a[2],i[o++]=a[3];return i},r})();function Egt(r,t,e){var n=r[1]-r[0];t=Pt(t,function(o){return{interval:[(o.interval[0]-r[0])/n,(o.interval[1]-r[0])/n]}});var i=t.length,a=0;return function(o){var c;for(c=a;c<i;c++){var h=t[c].interval;if(h[0]<=o&&o<=h[1]){a=c;break}}if(c===i)for(c=a-1;c>=0;c--){var h=t[c].interval;if(h[0]<=o&&o<=h[1]){a=c;break}}return c>=0&&c<i&&e[c]}}function Tgt(r,t){var e=r[1]-r[0];return t=[(t[0]-r[0])/e,(t[1]-r[0])/e],function(n){return n>=t[0]&&n<=t[1]}}function mG(r){var t=r.dimensions;return t[0]==="lng"&&t[1]==="lat"}var Cgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a;n.eachComponent("visualMap",function(c){c.eachTargetSeries(function(h){h===e&&(a=c)})}),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"||o.type==="matrix"?this._renderOnGridLike(e,i,0,e.getData().count()):mG(o)&&this._renderOnGeo(o,e,a,i)},t.prototype.incrementalPrepareRender=function(e,n,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,n,i,a){var o=n.coordinateSystem;o&&(mG(o)?this.render(n,i,a):(this._progressiveEls=[],this._renderOnGridLike(n,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Rl(this._progressiveEls||this.group,e)},t.prototype._renderOnGridLike=function(e,n,i,a,o){var c=e.coordinateSystem,h=Al(c,"cartesian2d"),v=Al(c,"matrix"),g,y,m,b;if(h){var S=c.getAxis("x"),E=c.getAxis("y");g=S.getBandWidth()+.5,y=E.getBandWidth()+.5,m=S.scale.getExtent(),b=E.scale.getExtent()}for(var C=this.group,A=e.getData(),M=e.getModel(["emphasis","itemStyle"]).getItemStyle(),L=e.getModel(["blur","itemStyle"]).getItemStyle(),R=e.getModel(["select","itemStyle"]).getItemStyle(),O=e.get(["itemStyle","borderRadius"]),P=nn(e),V=e.getModel("emphasis"),k=V.get("focus"),F=V.get("blurScope"),H=V.get("disabled"),W=h||v?[A.mapDimension("x"),A.mapDimension("y"),A.mapDimension("value")]:[A.mapDimension("time"),A.mapDimension("value")],q=i;q<a;q++){var Y=void 0,Z=A.getItemVisual(q,"style");if(h){var et=A.get(W[0],q),J=A.get(W[1],q);if(isNaN(A.get(W[2],q))||isNaN(et)||isNaN(J)||et<m[0]||et>m[1]||J<b[0]||J>b[1])continue;var it=c.dataToPoint([et,J]);Y=new we({shape:{x:it[0]-g/2,y:it[1]-y/2,width:g,height:y},style:Z})}else if(v){var rt=c.dataToLayout([A.get(W[0],q),A.get(W[1],q)]).rect;if(Wn(rt.x))continue;Y=new we({z2:1,shape:rt,style:Z})}else{if(isNaN(A.get(W[1],q)))continue;var st=c.dataToLayout([A.get(W[0],q)]),rt=st.contentRect||st.rect;if(Wn(rt.x)||Wn(rt.y))continue;Y=new we({z2:1,shape:rt,style:Z})}if(A.hasItemOption){var lt=A.getItemModel(q),dt=lt.getModel("emphasis");M=dt.getModel("itemStyle").getItemStyle(),L=lt.getModel(["blur","itemStyle"]).getItemStyle(),R=lt.getModel(["select","itemStyle"]).getItemStyle(),O=lt.get(["itemStyle","borderRadius"]),k=dt.get("focus"),F=dt.get("blurScope"),H=dt.get("disabled"),P=nn(lt)}Y.shape.r=O;var pt=e.getRawValue(q),xt="-";pt&&pt[2]!=null&&(xt=pt[2]+""),fn(Y,P,{labelFetcher:e,labelDataIndex:q,defaultOpacity:Z.opacity,defaultText:xt}),Y.ensureState("emphasis").style=M,Y.ensureState("blur").style=L,Y.ensureState("select").style=R,gr(Y,k,F,H),Y.incremental=o,o&&(Y.states.emphasis.hoverLayer=!0),C.add(Y),A.setItemGraphicEl(q,Y),this._progressiveEls&&this._progressiveEls.push(Y)}},t.prototype._renderOnGeo=function(e,n,i,a){var o=i.targetVisuals.inRange,c=i.targetVisuals.outOfRange,h=n.getData(),v=this._hmLayer||this._hmLayer||new xgt;v.blurSize=n.get("blurSize"),v.pointSize=n.get("pointSize"),v.minOpacity=n.get("minOpacity"),v.maxOpacity=n.get("maxOpacity");var g=e.getViewRect().clone(),y=e.getRoamTransform();g.applyTransform(y);var m=Math.max(g.x,0),b=Math.max(g.y,0),S=Math.min(g.width+g.x,a.getWidth()),E=Math.min(g.height+g.y,a.getHeight()),C=S-m,A=E-b,M=[h.mapDimension("lng"),h.mapDimension("lat"),h.mapDimension("value")],L=h.mapArray(M,function(V,k,F){var H=e.dataToPoint([V,k]);return H[0]-=m,H[1]-=b,H.push(F),H}),R=i.getExtent(),O=i.type==="visualMap.continuous"?Tgt(R,i.option.range):Egt(R,i.getPieceList(),i.option.selected);v.update(L,C,A,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:c.color.getColorMapper()},O);var P=new wn({style:{width:C,height:A,x:m,y:b,image:v.canvas},silent:!0});this.group.add(P)},t.type="heatmap",t})(Ke),Agt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){return Cs(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Vv.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:yt.color.primary}}},t})(or);function Mgt(r){r.registerChartView(Cgt),r.registerSeriesModel(Agt)}var Dgt=["itemStyle","borderWidth"],_G=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Sx=new Es,Lgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group,o=e.getData(),c=this._data,h=e.coordinateSystem,v=h.getBaseAxis(),g=v.isHorizontal(),y=h.master.getRect(),m={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:h,coordSysExtent:[[y.x,y.x+y.width],[y.y,y.y+y.height]],isHorizontal:g,valueDim:_G[+g],categoryDim:_G[1-+g]};o.diff(c).add(function(S){if(o.hasValue(S)){var E=SG(o,S),C=bG(o,S,E,m),A=wG(o,m,C);o.setItemGraphicEl(S,A),a.add(A),EG(A,m,C)}}).update(function(S,E){var C=c.getItemGraphicEl(E);if(!o.hasValue(S)){a.remove(C);return}var A=SG(o,S),M=bG(o,S,A,m),L=t7(o,M);C&&L!==C.__pictorialShapeStr&&(a.remove(C),o.setItemGraphicEl(S,null),C=null),C?Vgt(C,m,M):C=wG(o,m,M,!0),o.setItemGraphicEl(S,C),C.__pictorialSymbolMeta=M,a.add(C),EG(C,m,M)}).remove(function(S){var E=c.getItemGraphicEl(S);E&&xG(c,S,E.__pictorialSymbolMeta.animationModel,E)}).execute();var b=e.get("clip",!0)?Wv(e.coordinateSystem,!1,e):null;return b?a.setClipPath(b):a.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(e,n){var i=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(o){xG(a,ce(o).dataIndex,e,o)}):i.removeAll()},t.type="pictorialBar",t})(Ke);function bG(r,t,e,n){var i=r.getItemLayout(t),a=e.get("symbolRepeat"),o=e.get("symbolClip"),c=e.get("symbolPosition")||"start",h=e.get("symbolRotate"),v=(h||0)*Math.PI/180||0,g=e.get("symbolPatternSize")||2,y=e.isAnimationEnabled(),m={dataIndex:t,layout:i,itemModel:e,symbolType:r.getItemVisual(t,"symbol")||"circle",style:r.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:g,rotation:v,animationModel:y?e:null,hoverScale:y&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};Ngt(e,a,i,n,m),Rgt(r,t,i,a,o,m.boundingLength,m.pxSign,g,n,m),Igt(e,m.symbolScale,v,n,m);var b=m.symbolSize,S=Nc(e.get("symbolOffset"),b);return Ogt(e,b,i,a,o,S,c,m.valueLineWidth,m.boundingLength,m.repeatCutLength,n,m),m}function Ngt(r,t,e,n,i){var a=n.valueDim,o=r.get("symbolBoundingData"),c=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),h=c.toGlobalCoord(c.dataToCoord(0)),v=1-+(e[a.wh]<=0),g;if(Rt(o)){var y=[xx(c,o[0])-h,xx(c,o[1])-h];y[1]<y[0]&&y.reverse(),g=y[v]}else o!=null?g=xx(c,o)-h:t?g=n.coordSysExtent[a.index][v]-h:g=e[a.wh];i.boundingLength=g,t&&(i.repeatCutLength=e[a.wh]);var m=a.xy==="x",b=c.inverse;i.pxSign=m&&!b||!m&&b?g>=0?1:-1:g>0?1:-1}function xx(r,t){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(t)))}function Rgt(r,t,e,n,i,a,o,c,h,v){var g=h.valueDim,y=h.categoryDim,m=Math.abs(e[y.wh]),b=r.getItemVisual(t,"symbolSize"),S;Rt(b)?S=b.slice():b==null?S=["100%","100%"]:S=[b,b],S[y.index]=Yt(S[y.index],m),S[g.index]=Yt(S[g.index],n?m:Math.abs(a)),v.symbolSize=S;var E=v.symbolScale=[S[0]/c,S[1]/c];E[g.index]*=(h.isHorizontal?-1:1)*o}function Igt(r,t,e,n,i){var a=r.get(Dgt)||0;a&&(Sx.attr({scaleX:t[0],scaleY:t[1],rotation:e}),Sx.updateTransform(),a/=Sx.getLineScale(),a*=t[n.valueDim.index]),i.valueLineWidth=a||0}function Ogt(r,t,e,n,i,a,o,c,h,v,g,y){var m=g.categoryDim,b=g.valueDim,S=y.pxSign,E=Math.max(t[b.index]+c,0),C=E;if(n){var A=Math.abs(h),M=Rn(r.get("symbolMargin"),"15%")+"",L=!1;M.lastIndexOf("!")===M.length-1&&(L=!0,M=M.slice(0,M.length-1));var R=Yt(M,t[b.index]),O=Math.max(E+R*2,0),P=L?0:R*2,V=OB(n),k=V?n:TG((A+P)/O),F=A-k*E;R=F/2/(L?k:Math.max(k-1,1)),O=E+R*2,P=L?0:R*2,!V&&n!=="fixed"&&(k=v?TG((Math.abs(v)+P)/O):0),C=k*O-P,y.repeatTimes=k,y.symbolMargin=R}var H=S*(C/2),W=y.pathPosition=[];W[m.index]=e[m.wh]/2,W[b.index]=o==="start"?H:o==="end"?h-H:h/2,a&&(W[0]+=a[0],W[1]+=a[1]);var q=y.bundlePosition=[];q[m.index]=e[m.xy],q[b.index]=e[b.xy];var Y=y.barRectShape=At({},e);Y[b.wh]=S*Math.max(Math.abs(e[b.wh]),Math.abs(W[b.index]+H)),Y[m.wh]=e[m.wh];var Z=y.clipShape={};Z[m.xy]=-e[m.xy],Z[m.wh]=g.ecSize[m.wh],Z[b.xy]=0,Z[b.wh]=e[b.wh]}function X8(r){var t=r.symbolPatternSize,e=Xr(r.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function Z8(r,t,e,n){var i=r.__pictorialBundle,a=e.symbolSize,o=e.valueLineWidth,c=e.pathPosition,h=t.valueDim,v=e.repeatTimes||0,g=0,y=a[t.valueDim.index]+o+e.symbolMargin*2;for(IM(r,function(E){E.__pictorialAnimationIndex=g,E.__pictorialRepeatTimes=v,g<v?sh(E,null,S(g),e,n):sh(E,null,{scaleX:0,scaleY:0},e,n,function(){i.remove(E)}),g++});g<v;g++){var m=X8(e);m.__pictorialAnimationIndex=g,m.__pictorialRepeatTimes=v,i.add(m);var b=S(g);sh(m,{x:b.x,y:b.y,scaleX:0,scaleY:0},{scaleX:b.scaleX,scaleY:b.scaleY,rotation:b.rotation},e,n)}function S(E){var C=c.slice(),A=e.pxSign,M=E;return(e.symbolRepeatDirection==="start"?A>0:A<0)&&(M=v-1-E),C[h.index]=y*(M-v/2+.5)+c[h.index],{x:C[0],y:C[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function K8(r,t,e,n){var i=r.__pictorialBundle,a=r.__pictorialMainPath;a?sh(a,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,n):(a=r.__pictorialMainPath=X8(e),i.add(a),sh(a,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,n))}function J8(r,t,e){var n=At({},t.barRectShape),i=r.__pictorialBarRect;i?sh(i,null,{shape:n},t,e):(i=r.__pictorialBarRect=new we({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,r.add(i))}function Q8(r,t,e,n){if(e.symbolClip){var i=r.__pictorialClipPath,a=At({},e.clipShape),o=t.valueDim,c=e.animationModel,h=e.dataIndex;if(i)Pe(i,{shape:a},c,h);else{a[o.wh]=0,i=new we({shape:a}),r.__pictorialBundle.setClipPath(i),r.__pictorialClipPath=i;var v={};v[o.wh]=e.clipShape[o.wh],Mc[n?"updateProps":"initProps"](i,{shape:v},c,h)}}}function SG(r,t){var e=r.getItemModel(t);return e.getAnimationDelayParams=Pgt,e.isAnimationEnabled=kgt,e}function Pgt(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function kgt(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function wG(r,t,e,n){var i=new re,a=new re;return i.add(a),i.__pictorialBundle=a,a.x=e.bundlePosition[0],a.y=e.bundlePosition[1],e.symbolRepeat?Z8(i,t,e):K8(i,t,e),J8(i,e,n),Q8(i,t,e,n),i.__pictorialShapeStr=t7(r,e),i.__pictorialSymbolMeta=e,i}function Vgt(r,t,e){var n=e.animationModel,i=e.dataIndex,a=r.__pictorialBundle;Pe(a,{x:e.bundlePosition[0],y:e.bundlePosition[1]},n,i),e.symbolRepeat?Z8(r,t,e,!0):K8(r,t,e,!0),J8(r,e,!0),Q8(r,t,e,!0)}function xG(r,t,e,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var a=[];IM(n,function(o){a.push(o)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(e=null),j(a,function(o){Tl(o,{scaleX:0,scaleY:0},e,t,function(){n.parent&&n.parent.remove(n)})}),r.setItemGraphicEl(t,null)}function t7(r,t){return[r.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function IM(r,t,e){j(r.__pictorialBundle.children(),function(n){n!==r.__pictorialBarRect&&t.call(e,n)})}function sh(r,t,e,n,i,a){t&&r.attr(t),n.symbolClip&&!i?e&&r.attr(e):e&&Mc[i?"updateProps":"initProps"](r,e,n.animationModel,n.dataIndex,a)}function EG(r,t,e){var n=e.dataIndex,i=e.itemModel,a=i.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),c=i.getModel(["blur","itemStyle"]).getItemStyle(),h=i.getModel(["select","itemStyle"]).getItemStyle(),v=i.getShallow("cursor"),g=a.get("focus"),y=a.get("blurScope"),m=a.get("scale");IM(r,function(E){if(E instanceof wn){var C=E.style;E.useStyle(At({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},e.style))}else E.useStyle(e.style);var A=E.ensureState("emphasis");A.style=o,m&&(A.scaleX=E.scaleX*1.1,A.scaleY=E.scaleY*1.1),E.ensureState("blur").style=c,E.ensureState("select").style=h,v&&(E.cursor=v),E.z2=e.z2});var b=t.valueDim.posDesc[+(e.boundingLength>0)],S=r.__pictorialBarRect;S.ignoreClip=!0,fn(S,nn(i),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:bh(t.seriesModel.getData(),n),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:b}),gr(r,g,y,a.get("disabled"))}function TG(r){var t=Math.round(r);return Math.abs(r-t)<1e-4?t:Math.ceil(r)}var Ggt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return t.prototype.getInitialData=function(e){return e.stack=null,r.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Il(mv.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:yt.color.primary}}}),t})(mv);function Fgt(r){r.registerChartView(Lgt),r.registerSeriesModel(Ggt),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,de(b6,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,S6("pictorialBar"))}var Bgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this,c=this.group,h=e.getLayerSeries(),v=a.getLayout("layoutInfo"),g=v.rect,y=v.boundaryGap;c.x=0,c.y=g.y+y[0];function m(C){return C.name}var b=new _s(this._layersSeries||[],h,m,m),S=[];b.add(qt(E,this,"add")).update(qt(E,this,"update")).remove(qt(E,this,"remove")).execute();function E(C,A,M){var L=o._layers;if(C==="remove"){c.remove(L[A]);return}for(var R=[],O=[],P,V=h[A].indices,k=0;k<V.length;k++){var F=a.getItemLayout(V[k]),H=F.x,W=F.y0,q=F.y;R.push(H,W),O.push(H,W+q),P=a.getItemVisual(V[k],"style")}var Y,Z=a.getItemLayout(V[0]),et=e.getModel("label"),J=et.get("margin"),it=e.getModel("emphasis");if(C==="add"){var rt=S[A]=new re;Y=new fz({shape:{points:R,stackedOnPoints:O,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),rt.add(Y),c.add(rt),e.isAnimationEnabled()&&Y.setClipPath(Hgt(Y.getBoundingRect(),e,function(){Y.removeClipPath()}))}else{var rt=L[M];Y=rt.childAt(0),c.add(rt),S[A]=rt,Pe(Y,{shape:{points:R,stackedOnPoints:O}},e),ca(Y)}fn(Y,nn(e),{labelDataIndex:V[k-1],defaultText:a.getName(V[k-1]),inheritColor:P.fill},{normal:{verticalAlign:"middle"}}),Y.setTextConfig({position:null,local:!0});var st=Y.getTextContent();st&&(st.x=Z.x-J,st.y=Z.y0+Z.y/2),Y.useStyle(P),a.setItemGraphicEl(A,Y),rn(Y,e),gr(Y,it.get("focus"),it.get("blurScope"),it.get("disabled"))}this._layersSeries=h,this._layers=S},t.type="themeRiver",t})(Ke);function Hgt(r,t,e){var n=new we({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return hr(n,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},t,e),n}var Ex=2,zgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new zh(qt(this.getData,this),qt(this.getRawData,this))},t.prototype.fixData=function(e){var n=e.length,i={},a=GE(e,function(m){return i.hasOwnProperty(m[0]+"")||(i[m[0]+""]=-1),m[2]}),o=[];a.buckets.each(function(m,b){o.push({name:b,dataList:m})});for(var c=o.length,h=0;h<c;++h){for(var v=o[h].name,g=0;g<o[h].dataList.length;++g){var y=o[h].dataList[g][0]+"";i[y]=h}for(var y in i)i.hasOwnProperty(y)&&i[y]!==h&&(i[y]=h,e[n]=[y,0,v],n++)}return e},t.prototype.getInitialData=function(e,n){for(var i=this.getReferringComponents("singleAxis",Cr).models[0],a=i.get("type"),o=je(e.data,function(S){return S[2]!==void 0}),c=this.fixData(o||[]),h=[],v=this.nameMap=Kt(),g=0,y=0;y<c.length;++y)h.push(c[y][Ex]),v.get(c[y][Ex])||(v.set(c[y][Ex],g),g++);var m=Bv(c,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:k0(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,b=new ui(m,this);return b.initData(c),b},t.prototype.getLayerSeries=function(){for(var e=this.getData(),n=e.count(),i=[],a=0;a<n;++a)i[a]=a;var o=e.mapDimension("single"),c=GE(i,function(v){return e.get("name",v)}),h=[];return c.buckets.each(function(v,g){v.sort(function(y,m){return e.get(o,y)-e.get(o,m)}),h.push({name:g,indices:v})}),h},t.prototype.getAxisTooltipData=function(e,n,i){Rt(e)||(e=e?[e]:[]);for(var a=this.getData(),o=this.getLayerSeries(),c=[],h=o.length,v,g=0;g<h;++g){for(var y=Number.MAX_VALUE,m=-1,b=o[g].indices.length,S=0;S<b;++S){var E=a.get(e[0],o[g].indices[S]),C=Math.abs(E-n);C<=y&&(v=E,y=C,m=o[g].indices[S])}c.push(m)}return{dataIndices:c,nestestValue:v}},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=a.getName(e),c=a.get(a.mapDimension("value"),e);return qr("nameValue",{name:o,value:c})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t})(or);function Ugt(r,t){r.eachSeriesByType("themeRiver",function(e){var n=e.getData(),i=e.coordinateSystem,a={},o=i.getRect();a.rect=o;var c=e.get("boundaryGap"),h=i.getAxis();if(a.boundaryGap=c,h.orient==="horizontal"){c[0]=Yt(c[0],o.height),c[1]=Yt(c[1],o.height);var v=o.height-c[0]-c[1];CG(n,e,v)}else{c[0]=Yt(c[0],o.width),c[1]=Yt(c[1],o.width);var g=o.width-c[0]-c[1];CG(n,e,g)}n.setLayout("layoutInfo",a)})}function CG(r,t,e){if(r.count())for(var n=t.coordinateSystem,i=t.getLayerSeries(),a=r.mapDimension("single"),o=r.mapDimension("value"),c=Pt(i,function(C){return Pt(C.indices,function(A){var M=n.dataToPoint(r.get(a,A));return M[1]=r.get(o,A),M})}),h=Wgt(c),v=h.y0,g=e/h.max,y=i.length,m=i[0].indices.length,b,S=0;S<m;++S){b=v[S]*g,r.setItemLayout(i[0].indices[S],{layerIndex:0,x:c[0][S][0],y0:b,y:c[0][S][1]*g});for(var E=1;E<y;++E)b+=c[E-1][S][1]*g,r.setItemLayout(i[E].indices[S],{layerIndex:E,x:c[E][S][0],y0:b,y:c[E][S][1]*g})}}function Wgt(r){for(var t=r.length,e=r[0].length,n=[],i=[],a=0,o=0;o<e;++o){for(var c=0,h=0;h<t;++h)c+=r[h][o][1];c>a&&(a=c),n.push(c)}for(var v=0;v<e;++v)i[v]=(a-n[v])/2;a=0;for(var g=0;g<e;++g){var y=n[g]+i[g];y>a&&(a=y)}return{y0:i,max:a}}function jgt(r){r.registerChartView(Bgt),r.registerSeriesModel(zgt),r.registerLayout(Ugt),r.registerProcessor(Bh("themeRiver"))}var Ygt=2,$gt=4,AG=(function(r){bt(t,r);function t(e,n,i,a){var o=r.call(this)||this;o.z2=Ygt,o.textConfig={inside:!0},ce(o).seriesIndex=n.seriesIndex;var c=new Oe({z2:$gt,silent:e.getModel().get(["label","silent"])});return o.setTextContent(c),o.updateData(!0,e,n,i,a),o}return t.prototype.updateData=function(e,n,i,a,o){this.node=n,n.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var c=this;ce(c).dataIndex=n.dataIndex;var h=n.getModel(),v=h.getModel("emphasis"),g=n.getLayout(),y=At({},g);y.label=null;var m=n.getVisual("style");m.lineJoin="bevel";var b=n.getVisual("decal");b&&(m.decal=gh(b,o));var S=xo(h.getModel("itemStyle"),y,!0);At(y,S),j(hi,function(M){var L=c.ensureState(M),R=h.getModel([M,"itemStyle"]);L.style=R.getItemStyle();var O=xo(R,y);O&&(L.shape=O)}),e?(c.setShape(y),c.shape.r=g.r0,hr(c,{shape:{r:g.r}},i,n.dataIndex)):(Pe(c,{shape:y},i),ca(c)),c.useStyle(m),this._updateLabel(i);var E=h.getShallow("cursor");E&&c.attr("cursor",E),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var C=v.get("focus"),A=C==="relative"?Jd(n.getAncestorsIndices(),n.getDescendantIndices()):C==="ancestor"?n.getAncestorsIndices():C==="descendant"?n.getDescendantIndices():C;gr(this,A,v.get("blurScope"),v.get("disabled"))},t.prototype._updateLabel=function(e){var n=this,i=this.node.getModel(),a=i.getModel("label"),o=this.node.getLayout(),c=o.endAngle-o.startAngle,h=(o.startAngle+o.endAngle)/2,v=Math.cos(h),g=Math.sin(h),y=this,m=y.getTextContent(),b=this.node.dataIndex,S=a.get("minAngle")/180*Math.PI,E=a.get("show")&&!(S!=null&&Math.abs(c)<S);m.ignore=!E,j(iv,function(A){var M=A==="normal"?i.getModel("label"):i.getModel([A,"label"]),L=A==="normal",R=L?m:m.ensureState(A),O=e.getFormattedLabel(b,A);L&&(O=O||n.node.name),R.style=ar(M,{},null,A!=="normal",!0),O&&(R.style.text=O);var P=M.get("show");P!=null&&!L&&(R.ignore=!P);var V=C(M,"position"),k=L?y:y.states[A],F=k.style.fill;k.textConfig={outsideFill:M.get("color")==="inherit"?F:null,inside:V!=="outside"};var H,W=C(M,"distance")||0,q=C(M,"align"),Y=C(M,"rotate"),Z=Math.PI*.5,et=Math.PI*1.5,J=Vi(Y==="tangential"?Math.PI/2-h:h),it=J>Z&&!rv(J-Z)&&J<et;V==="outside"?(H=o.r+W,q=it?"right":"left"):!q||q==="center"?(c===2*Math.PI&&o.r0===0?H=0:H=(o.r+o.r0)/2,q="center"):q==="left"?(H=o.r0+W,q=it?"right":"left"):q==="right"&&(H=o.r-W,q=it?"left":"right"),R.style.align=q,R.style.verticalAlign=C(M,"verticalAlign")||"middle",R.x=H*v+o.cx,R.y=H*g+o.cy;var rt=0;Y==="radial"?rt=Vi(-h)+(it?Math.PI:0):Y==="tangential"?rt=Vi(Math.PI/2-h)+(it?Math.PI:0):Re(Y)&&(rt=Y*Math.PI/180),R.rotation=Vi(rt)});function C(A,M){var L=A.get(M);return L??a.get(M)}m.dirtyStyle()},t})($n),QT="sunburstRootToNode",MG="sunburstHighlight",qgt="sunburstUnhighlight";function Xgt(r){r.registerAction({type:QT,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(i,a){var o=bv(t,[QT],i);if(o){var c=i.getViewRoot();c&&(t.direction=gM(c,o.node)?"rollUp":"drillDown"),i.resetViewRoot(o.node)}}}),r.registerAction({type:MG,update:"none"},function(t,e,n){t=At({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(a){var o=bv(t,[MG],a);o&&(t.dataIndex=o.node.dataIndex)}n.dispatchAction(At(t,{type:"highlight"}))}),r.registerAction({type:qgt,update:"updateView"},function(t,e,n){t=At({},t),n.dispatchAction(At(t,{type:"downplay"}))})}var Zgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){var o=this;this.seriesModel=e,this.api=i,this.ecModel=n;var c=e.getData(),h=c.tree.root,v=e.getViewRoot(),g=this.group,y=e.get("renderLabelForZeroData"),m=[];v.eachNode(function(M){m.push(M)});var b=this._oldChildren||[];S(m,b),A(h,v),this._initEvents(),this._oldChildren=m;function S(M,L){if(M.length===0&&L.length===0)return;new _s(L,M,R,R).add(O).update(O).remove(de(O,null)).execute();function R(P){return P.getId()}function O(P,V){var k=P==null?null:M[P],F=V==null?null:L[V];E(k,F)}}function E(M,L){if(!y&&M&&!M.getValue()&&(M=null),M!==h&&L!==h){if(L&&L.piece)M?(L.piece.updateData(!1,M,e,n,i),c.setItemGraphicEl(M.dataIndex,L.piece)):C(L);else if(M){var R=new AG(M,e,n,i);g.add(R),c.setItemGraphicEl(M.dataIndex,R)}}}function C(M){M&&M.piece&&(g.remove(M.piece),M.piece=null)}function A(M,L){L.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,M,e,n,i):(o.virtualPiece=new AG(M,e,n,i),g.add(o.virtualPiece)),L.piece.off("click"),o.virtualPiece.on("click",function(R){o._rootToNode(L.parentNode)})):o.virtualPiece&&(g.remove(o.virtualPiece),o.virtualPiece=null)}},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,a=e.seriesModel.getViewRoot();a.eachNode(function(o){if(!i&&o.piece&&o.piece===n.target){var c=o.getModel().get("nodeClick");if(c==="rootToNode")e._rootToNode(o);else if(c==="link"){var h=o.getModel(),v=h.get("link");if(v){var g=h.get("target",!0)||"_blank";M0(v,g)}}i=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:QT,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=e[0]-a.cx,c=e[1]-a.cy,h=Math.sqrt(o*o+c*c);return h<=a.r&&h>=a.r0}},t.type="sunburst",t})(Ke),Kgt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e,n){var i={name:e.name,children:e.data};e7(i);var a=this._levelModels=Pt(e.levels||[],function(h){return new Me(h,this,n)},this),o=vM.createTree(i,this,c);function c(h){h.wrapMethod("getItemModel",function(v,g){var y=o.getNodeByDataIndex(g),m=a[y.depth];return m&&(v.parentModel=m),v})}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=ab(i,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){a8(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t})(or);function e7(r){var t=0;j(r.children,function(n){e7(n);var i=n.value;Rt(i)&&(i=i[0]),t+=i});var e=r.value;Rt(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),Rt(r.value)?r.value[0]=e:r.value=e}var DG=Math.PI/180;function Jgt(r,t,e){t.eachSeriesByType(r,function(n){var i=n.get("center"),a=n.get("radius");Rt(a)||(a=[0,a]),Rt(i)||(i=[i,i]);var o=e.getWidth(),c=e.getHeight(),h=Math.min(o,c),v=Yt(i[0],o),g=Yt(i[1],c),y=Yt(a[0],h/2),m=Yt(a[1],h/2),b=-n.get("startAngle")*DG,S=n.get("minAngle")*DG,E=n.getData().tree.root,C=n.getViewRoot(),A=C.depth,M=n.get("sort");M!=null&&r7(C,M);var L=0;j(C.children,function(J){!isNaN(J.getValue())&&L++});var R=C.getValue(),O=Math.PI/(R||L)*2,P=C.depth>0,V=C.height-(P?-1:1),k=(m-y)/(V||1),F=n.get("clockwise"),H=n.get("stillShowZeroSum"),W=F?1:-1,q=function(J,it){if(J){var rt=it;if(J!==E){var st=J.getValue(),lt=R===0&&H?O:st*O;lt<S&&(lt=S),rt=it+W*lt;var dt=J.depth-A-(P?-1:1),pt=y+k*dt,xt=y+k*(dt+1),Ft=n.getLevelModel(J);if(Ft){var Ut=Ft.get("r0",!0),Vt=Ft.get("r",!0),Qt=Ft.get("radius",!0);Qt!=null&&(Ut=Qt[0],Vt=Qt[1]),Ut!=null&&(pt=Yt(Ut,h/2)),Vt!=null&&(xt=Yt(Vt,h/2))}J.setLayout({angle:lt,startAngle:it,endAngle:rt,clockwise:F,cx:v,cy:g,r0:pt,r:xt})}if(J.children&&J.children.length){var Ht=0;j(J.children,function(gt){Ht+=q(gt,it+Ht)})}return rt-it}};if(P){var Y=y,Z=y+k,et=Math.PI*2;E.setLayout({angle:et,startAngle:b,endAngle:b+et,clockwise:F,cx:v,cy:g,r0:Y,r:Z})}q(C,b)})}function r7(r,t){var e=r.children||[];r.children=Qgt(e,t),e.length&&j(r.children,function(n){r7(n,t)})}function Qgt(r,t){if(ee(t)){var e=Pt(r,function(i,a){var o=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return o}},index:a}});return e.sort(function(i,a){return t(i.params,a.params)}),Pt(e,function(i){return r[i.index]})}else{var n=t==="asc";return r.sort(function(i,a){var o=(i.getValue()-a.getValue())*(n?1:-1);return o===0?(i.dataIndex-a.dataIndex)*(n?-1:1):o})}}function tyt(r){var t={};function e(n,i,a){if(n.depth===0)return yt.color.neutral50;for(var o=n;o&&o.depth>1;)o=o.parentNode;var c=i.getColorFromPalette(o.name||o.dataIndex+"",t);return n.depth>1&&$t(c)&&(c=CE(c,(n.depth-1)/(a-1)*.5)),c}r.eachSeriesByType("sunburst",function(n){var i=n.getData(),a=i.tree;a.eachNode(function(o){var c=o.getModel(),h=c.getModel("itemStyle").getItemStyle();h.fill||(h.fill=e(o,n,a.root.height));var v=i.ensureUniqueItemVisual(o.dataIndex,"style");At(v,h)})})}function eyt(r){r.registerChartView(Zgt),r.registerSeriesModel(Kgt),r.registerLayout(de(Jgt,"sunburst")),r.registerProcessor(de(Bh,"sunburst")),r.registerVisual(tyt),Xgt(r)}var LG={color:"fill",borderColor:"stroke"},ryt={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},us=xe(),nyt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,n){return Cs(null,this)},t.prototype.getDataParams=function(e,n,i){var a=r.prototype.getDataParams.call(this,e,n);return i&&(a.info=us(i).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t})(or);function iyt(r,t){return t=t||[0,0],Pt(["x","y"],function(e,n){var i=this.getAxis(e),a=t[n],o=r[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-o)-i.dataToCoord(a+o))},this)}function ayt(r){var t=r.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:qt(iyt,r)}}}function oyt(r,t){return t=t||[0,0],Pt([0,1],function(e){var n=t[e],i=r[e]/2,a=[],o=[];return a[e]=n-i,o[e]=n+i,a[1-e]=o[1-e]=t[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(o)[e])},this)}function syt(r){var t=r.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:r.getZoom()},api:{coord:function(e){return r.dataToPoint(e)},size:qt(oyt,r)}}}function lyt(r,t){var e=this.getAxis(),n=t instanceof Array?t[0]:t,i=(r instanceof Array?r[0]:r)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(n-i)-e.dataToCoord(n+i))}function uyt(r){var t=r.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:qt(lyt,r)}}}function cyt(r,t){return t=t||[0,0],Pt(["Radius","Angle"],function(e,n){var i="get"+e+"Axis",a=this[i](),o=t[n],c=r[n]/2,h=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-c)-a.dataToCoord(o+c));return e==="Angle"&&(h=h*Math.PI/180),h},this)}function fyt(r){var t=r.getRadiusAxis(),e=r.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:n[1],r0:n[0]},api:{coord:function(i){var a=t.dataToRadius(i[0]),o=e.dataToAngle(i[1]),c=r.coordToPoint([a,o]);return c.push(a,o*Math.PI/180),c},size:qt(cyt,r)}}}function hyt(r){var t=r.getRect(),e=r.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(n,i){return r.dataToPoint(n,i)},layout:function(n,i){return r.dataToLayout(n,i)}}}}function pyt(r){var t=r.getRect();return{coordSys:{type:"matrix",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e,n){return r.dataToPoint(e,n)},layout:function(e,n){return r.dataToLayout(e,n)}}}}function n7(r,t,e,n){return r&&(r.legacy||r.legacy!==!1&&!e&&!n&&t!=="tspan"&&(t==="text"||Xt(r,"text")))}function i7(r,t,e){var n=r,i,a,o;if(t==="text")o=n;else{o={},Xt(n,"text")&&(o.text=n.text),Xt(n,"rich")&&(o.rich=n.rich),Xt(n,"textFill")&&(o.fill=n.textFill),Xt(n,"textStroke")&&(o.stroke=n.textStroke),Xt(n,"fontFamily")&&(o.fontFamily=n.fontFamily),Xt(n,"fontSize")&&(o.fontSize=n.fontSize),Xt(n,"fontStyle")&&(o.fontStyle=n.fontStyle),Xt(n,"fontWeight")&&(o.fontWeight=n.fontWeight),a={type:"text",style:o,silent:!0},i={};var c=Xt(n,"textPosition");e?i.position=c?n.textPosition:"inside":c&&(i.position=n.textPosition),Xt(n,"textPosition")&&(i.position=n.textPosition),Xt(n,"textOffset")&&(i.offset=n.textOffset),Xt(n,"textRotation")&&(i.rotation=n.textRotation),Xt(n,"textDistance")&&(i.distance=n.textDistance)}return NG(o,r),j(o.rich,function(h){NG(h,h)}),{textConfig:i,textContent:a}}function NG(r,t){t&&(t.font=t.textFont||t.font,Xt(t,"textStrokeWidth")&&(r.lineWidth=t.textStrokeWidth),Xt(t,"textAlign")&&(r.align=t.textAlign),Xt(t,"textVerticalAlign")&&(r.verticalAlign=t.textVerticalAlign),Xt(t,"textLineHeight")&&(r.lineHeight=t.textLineHeight),Xt(t,"textWidth")&&(r.width=t.textWidth),Xt(t,"textHeight")&&(r.height=t.textHeight),Xt(t,"textBackgroundColor")&&(r.backgroundColor=t.textBackgroundColor),Xt(t,"textPadding")&&(r.padding=t.textPadding),Xt(t,"textBorderColor")&&(r.borderColor=t.textBorderColor),Xt(t,"textBorderWidth")&&(r.borderWidth=t.textBorderWidth),Xt(t,"textBorderRadius")&&(r.borderRadius=t.textBorderRadius),Xt(t,"textBoxShadowColor")&&(r.shadowColor=t.textBoxShadowColor),Xt(t,"textBoxShadowBlur")&&(r.shadowBlur=t.textBoxShadowBlur),Xt(t,"textBoxShadowOffsetX")&&(r.shadowOffsetX=t.textBoxShadowOffsetX),Xt(t,"textBoxShadowOffsetY")&&(r.shadowOffsetY=t.textBoxShadowOffsetY))}function RG(r,t,e){var n=r;n.textPosition=n.textPosition||e.position||"inside",e.offset!=null&&(n.textOffset=e.offset),e.rotation!=null&&(n.textRotation=e.rotation),e.distance!=null&&(n.textDistance=e.distance);var i=n.textPosition.indexOf("inside")>=0,a=r.fill||yt.color.neutral99;IG(n,t);var o=n.textFill==null;return i?o&&(n.textFill=e.insideFill||yt.color.neutral00,!n.textStroke&&e.insideStroke&&(n.textStroke=e.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(o&&(n.textFill=r.fill||e.outsideFill||yt.color.neutral00),!n.textStroke&&e.outsideStroke&&(n.textStroke=e.outsideStroke)),n.text=t.text,n.rich=t.rich,j(t.rich,function(c){IG(c,c)}),n}function IG(r,t){t&&(Xt(t,"fill")&&(r.textFill=t.fill),Xt(t,"stroke")&&(r.textStroke=t.fill),Xt(t,"lineWidth")&&(r.textStrokeWidth=t.lineWidth),Xt(t,"font")&&(r.font=t.font),Xt(t,"fontStyle")&&(r.fontStyle=t.fontStyle),Xt(t,"fontWeight")&&(r.fontWeight=t.fontWeight),Xt(t,"fontSize")&&(r.fontSize=t.fontSize),Xt(t,"fontFamily")&&(r.fontFamily=t.fontFamily),Xt(t,"align")&&(r.textAlign=t.align),Xt(t,"verticalAlign")&&(r.textVerticalAlign=t.verticalAlign),Xt(t,"lineHeight")&&(r.textLineHeight=t.lineHeight),Xt(t,"width")&&(r.textWidth=t.width),Xt(t,"height")&&(r.textHeight=t.height),Xt(t,"backgroundColor")&&(r.textBackgroundColor=t.backgroundColor),Xt(t,"padding")&&(r.textPadding=t.padding),Xt(t,"borderColor")&&(r.textBorderColor=t.borderColor),Xt(t,"borderWidth")&&(r.textBorderWidth=t.borderWidth),Xt(t,"borderRadius")&&(r.textBorderRadius=t.borderRadius),Xt(t,"shadowColor")&&(r.textBoxShadowColor=t.shadowColor),Xt(t,"shadowBlur")&&(r.textBoxShadowBlur=t.shadowBlur),Xt(t,"shadowOffsetX")&&(r.textBoxShadowOffsetX=t.shadowOffsetX),Xt(t,"shadowOffsetY")&&(r.textBoxShadowOffsetY=t.shadowOffsetY),Xt(t,"textShadowColor")&&(r.textShadowColor=t.textShadowColor),Xt(t,"textShadowBlur")&&(r.textShadowBlur=t.textShadowBlur),Xt(t,"textShadowOffsetX")&&(r.textShadowOffsetX=t.textShadowOffsetX),Xt(t,"textShadowOffsetY")&&(r.textShadowOffsetY=t.textShadowOffsetY))}var a7={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},OG=De(a7);Lo(Ro,function(r,t){return r[t]=1,r},{});Ro.join(", ");var t_=["","style","shape","extra"],Eh=xe();function OM(r,t,e,n,i){var a=r+"Animation",o=Ih(r,n,i)||{},c=Eh(t).userDuring;return o.duration>0&&(o.during=c?qt(myt,{el:t,userDuring:c}):null,o.setToFinal=!0,o.scope=r),At(o,e[a]),o}function Km(r,t,e,n){n=n||{};var i=n.dataIndex,a=n.isInit,o=n.clearStyle,c=e.isAnimationEnabled(),h=Eh(r),v=t.style;h.userDuring=t.during;var g={},y={};if(byt(r,t,y),r.type==="compound")for(var m=r.shape.paths,b=t.shape.paths,S=0;S<b.length;S++){var E=b[S];Tx("shape",E,m[S])}else Tx("shape",t,y),Tx("extra",t,y);if(!a&&c&&(_yt(r,t,g),PG("shape",r,t,g),PG("extra",r,t,g),Syt(r,t,v,g)),y.style=v,dyt(r,y,o),gyt(r,t),c)if(a){var C={};j(t_,function(M){var L=M?t[M]:t;L&&L.enterFrom&&(M&&(C[M]=C[M]||{}),At(M?C[M]:C,L.enterFrom))});var A=OM("enter",r,t,e,i);A.duration>0&&r.animateFrom(C,A)}else vyt(r,t,i||0,e,g);o7(r,t),v?r.dirty():r.markRedraw()}function o7(r,t){for(var e=Eh(r).leaveToProps,n=0;n<t_.length;n++){var i=t_[n],a=i?t[i]:t;a&&a.leaveTo&&(e||(e=Eh(r).leaveToProps={}),i&&(e[i]=e[i]||{}),At(i?e[i]:e,a.leaveTo))}}function lb(r,t,e,n){if(r){var i=r.parent,a=Eh(r).leaveToProps;if(a){var o=OM("update",r,t,e,0);o.done=function(){i&&i.remove(r)},r.animateTo(a,o)}else i&&i.remove(r)}}function pc(r){return r==="all"}function dyt(r,t,e){var n=t.style;if(!r.isGroup&&n){if(e){r.useStyle({});for(var i=r.animators,a=0;a<i.length;a++){var o=i[a];o.targetName==="style"&&o.changeTarget(r.style)}}r.setStyle(n)}t&&(t.style=null,t&&r.attr(t),t.style=n)}function vyt(r,t,e,n,i){if(i){var a=OM("update",r,t,n,e);a.duration>0&&r.animateFrom(i,a)}}function gyt(r,t){Xt(t,"silent")&&(r.silent=t.silent),Xt(t,"ignore")&&(r.ignore=t.ignore),r instanceof ua&&Xt(t,"invisible")&&(r.invisible=t.invisible),r instanceof Ee&&Xt(t,"autoBatch")&&(r.autoBatch=t.autoBatch)}var so={},yyt={setTransform:function(r,t){return so.el[r]=t,this},getTransform:function(r){return so.el[r]},setShape:function(r,t){var e=so.el,n=e.shape||(e.shape={});return n[r]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(r){var t=so.el.shape;if(t)return t[r]},setStyle:function(r,t){var e=so.el,n=e.style;return n&&(n[r]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(r){var t=so.el.style;if(t)return t[r]},setExtra:function(r,t){var e=so.el.extra||(so.el.extra={});return e[r]=t,this},getExtra:function(r){var t=so.el.extra;if(t)return t[r]}};function myt(){var r=this,t=r.el;if(t){var e=Eh(t).userDuring,n=r.userDuring;if(e!==n){r.el=r.userDuring=null;return}so.el=t,n(yyt)}}function PG(r,t,e,n){var i=e[r];if(i){var a=t[r],o;if(a){var c=e.transition,h=i.transition;if(h)if(!o&&(o=n[r]={}),pc(h))At(o,a);else for(var v=Qe(h),g=0;g<v.length;g++){var y=v[g],m=a[y];o[y]=m}else if(pc(c)||ve(c,r)>=0){!o&&(o=n[r]={});for(var b=De(a),g=0;g<b.length;g++){var y=b[g],m=a[y];wyt(i[y],m)&&(o[y]=m)}}}}}function Tx(r,t,e){var n=t[r];if(n)for(var i=e[r]={},a=De(n),o=0;o<a.length;o++){var c=a[o];i[c]=Gd(n[c])}}function _yt(r,t,e){for(var n=t.transition,i=pc(n)?Ro:Qe(n||[]),a=0;a<i.length;a++){var o=i[a];if(!(o==="style"||o==="shape"||o==="extra")){var c=r[o];e[o]=c}}}function byt(r,t,e){for(var n=0;n<OG.length;n++){var i=OG[n],a=a7[i],o=t[i];o&&(e[a[0]]=o[0],e[a[1]]=o[1])}for(var n=0;n<Ro.length;n++){var c=Ro[n];t[c]!=null&&(e[c]=t[c])}}function Syt(r,t,e,n){if(e){var i=r.style,a;if(i){var o=e.transition,c=t.transition;if(o&&!pc(o)){var h=Qe(o);!a&&(a=n.style={});for(var v=0;v<h.length;v++){var g=h[v],y=i[g];a[g]=y}}else if(r.getAnimationStyleProps&&(pc(c)||pc(o)||ve(c,"style")>=0)){var m=r.getAnimationStyleProps(),b=m?m.style:null;if(b){!a&&(a=n.style={});for(var S=De(e),v=0;v<S.length;v++){var g=S[v];if(b[g]){var y=i[g];a[g]=y}}}}}}}function wyt(r,t){return jn(r)?r!==t:r!=null&&isFinite(r)}var s7=xe(),xyt=["percent","easing","shape","style","extra"];function l7(r){r.stopAnimation("keyframe"),r.attr(s7(r))}function e_(r,t,e){if(!(!e.isAnimationEnabled()||!t)){if(Rt(t)){j(t,function(c){e_(r,c,e)});return}var n=t.keyframes,i=t.duration;if(e&&i==null){var a=Ih("enter",e,0);i=a&&a.duration}if(!(!n||!i)){var o=s7(r);j(t_,function(c){if(!(c&&!r[c])){var h;n.sort(function(v,g){return v.percent-g.percent}),j(n,function(v){var g=r.animators,y=c?v[c]:v;if(y){var m=De(y);if(c||(m=je(m,function(E){return ve(xyt,E)<0})),!!m.length){h||(h=r.animate(c,t.loop,!0),h.scope="keyframe");for(var b=0;b<g.length;b++)g[b]!==h&&g[b].targetName===h.targetName&&g[b].stopTracks(m);c&&(o[c]=o[c]||{});var S=c?o[c]:o;j(m,function(E){S[E]=((c?r[c]:r)||{})[E]}),h.whenWithKeys(i*v.percent,y,m,v.easing)}}}),h&&h.delay(t.delay||0).duration(i).start(t.easing)}})}}}var cs="emphasis",pl="normal",PM="blur",kM="select",Ll=[pl,cs,PM,kM],Cx={normal:["itemStyle"],emphasis:[cs,"itemStyle"],blur:[PM,"itemStyle"],select:[kM,"itemStyle"]},Ax={normal:["label"],emphasis:[cs,"label"],blur:[PM,"label"],select:[kM,"label"]},Eyt=["x","y"],Tyt="e\0\0",Zi={normal:{},emphasis:{},blur:{},select:{}},Cyt={cartesian2d:ayt,geo:syt,single:uyt,polar:fyt,calendar:hyt,matrix:pyt};function tC(r){return r instanceof Ee}function eC(r){return r instanceof ua}function Ayt(r,t){t.copyTransform(r),eC(t)&&eC(r)&&(t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t.invisible=r.invisible,t.ignore=r.ignore,tC(t)&&tC(r)&&t.setShape(r.shape))}var Myt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this._progressiveEls=null;var o=this._data,c=e.getData(),h=this.group,v=kG(e,c,n,i);o||h.removeAll(),c.diff(o).add(function(y){Mx(i,null,y,v(y,a),e,h,c)}).remove(function(y){var m=o.getItemGraphicEl(y);m&&lb(m,us(m).option,e)}).update(function(y,m){var b=o.getItemGraphicEl(m);Mx(i,b,y,v(y,a),e,h,c)}).execute();var g=e.get("clip",!0)?Wv(e.coordinateSystem,!1,e):null;g?h.setClipPath(g):h.removeClipPath(),this._data=c},t.prototype.incrementalPrepareRender=function(e,n,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,n,i,a,o){var c=n.getData(),h=kG(n,c,i,a),v=this._progressiveEls=[];function g(b){b.isGroup||(b.incremental=!0,b.ensureState("emphasis").hoverLayer=!0)}for(var y=e.start;y<e.end;y++){var m=Mx(null,null,y,h(y,o),n,this.group,c);m&&(m.traverse(g),v.push(m))}},t.prototype.eachRendered=function(e){Rl(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,n,i,a){var o=n.element;if(o==null||i.name===o)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===o)return!0;return!1},t.type="custom",t})(Ke);function VM(r){var t=r.type,e;if(t==="path"){var n=r.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=f7(n);e=ov(a,null,i,n.layout||"center"),us(e).customPathData=a}else if(t==="image")e=new wn({}),us(e).customImagePath=r.style.image;else if(t==="text")e=new Oe({});else if(t==="group")e=new re;else if(t==="compoundPath"){var n=r.shape;if(!n||!n.paths){var o="";ze(o)}var c=Pt(n.paths,function(g){if(g.type==="path")return ov(g.shape.pathData,g,null);var y=T0(g.type);if(!y){var m="";ze(m)}return new y});e=new z_({shape:{paths:c}})}else{var h=T0(t);if(!h){var o="";ze(o)}e=new h}return us(e).customGraphicType=t,e.name=r.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function GM(r,t,e,n,i,a,o){l7(t);var c=i&&i.normal.cfg;c&&t.setTextConfig(c),n&&n.transition==null&&(n.transition=Eyt);var h=n&&n.style;if(h){if(t.type==="text"){var v=h;Xt(v,"textFill")&&(v.fill=v.textFill),Xt(v,"textStroke")&&(v.stroke=v.textStroke)}var g=void 0,y=tC(t)?h.decal:null;r&&y&&(y.dirty=!0,g=gh(y,r)),h.__decalPattern=g}if(eC(t)&&h){var g=h.__decalPattern;g&&(h.decal=g)}Km(t,n,a,{dataIndex:e,isInit:o,clearStyle:!0}),e_(t,n.keyframeAnimation,a)}function u7(r,t,e,n,i){var a=t.isGroup?null:t,o=i&&i[r].cfg;if(a){var c=a.ensureState(r);if(n===!1){var h=a.getState(r);h&&(h.style=null)}else c.style=n||null;o&&(c.textConfig=o),mc(a)}}function Dyt(r,t,e){if(!r.isGroup){var n=r,i=e.currentZ,a=e.currentZLevel;n.z=i,n.zlevel=a;var o=t.z2;o!=null&&(n.z2=o||0);for(var c=0;c<Ll.length;c++)Lyt(n,t,Ll[c])}}function Lyt(r,t,e){var n=e===pl,i=n?t:r_(t,e),a=i?i.z2:null,o;a!=null&&(o=n?r:r.ensureState(e),o.z2=a||0)}function kG(r,t,e,n){var i=r.get("renderItem");if(typeof i=="string"){var a=Uot(i);a&&(i=a)}var o=r.coordinateSystem,c={};o&&(c=o.prepareCustoms?o.prepareCustoms(o):Cyt[o.type](o));for(var h=oe({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:O,style:V,ordinalRawValue:P,styleEmphasis:k,visual:W,barLayout:q,currentSeriesIndices:Y,font:Z},c.api||{}),v={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:c.coordSys,dataInsideLength:t.count(),encode:Nyt(r.getData()),itemPayload:r.get("itemPayload")||{}},g,y,m={},b={},S={},E={},C=0;C<Ll.length;C++){var A=Ll[C];S[A]=r.getModel(Cx[A]),E[A]=r.getModel(Ax[A])}function M(et){return et===g?y||(y=t.getItemModel(et)):t.getItemModel(et)}function L(et,J){return t.hasItemOption?et===g?m[J]||(m[J]=M(et).getModel(Cx[J])):M(et).getModel(Cx[J]):S[J]}function R(et,J){return t.hasItemOption?et===g?b[J]||(b[J]=M(et).getModel(Ax[J])):M(et).getModel(Ax[J]):E[J]}return function(et,J){return g=et,y=null,m={},b={},i&&i(oe({dataIndexInside:et,dataIndex:t.getRawIndex(et),actionType:J?J.type:null},v),h)};function O(et,J){return J==null&&(J=g),t.getStore().get(t.getDimensionIndex(et||0),J)}function P(et,J){J==null&&(J=g),et=et||0;var it=t.getDimensionInfo(et);if(!it){var rt=t.getDimensionIndex(et);return rt>=0?t.getStore().get(rt,J):void 0}var st=t.get(it.name,J),lt=it&&it.ordinalMeta;return lt?lt.categories[st]:st}function V(et,J){J==null&&(J=g);var it=t.getItemVisual(J,"style"),rt=it&&it.fill,st=it&&it.opacity,lt=L(J,pl).getItemStyle();rt!=null&&(lt.fill=rt),st!=null&&(lt.opacity=st);var dt={inheritColor:$t(rt)?rt:yt.color.neutral99},pt=R(J,pl),xt=ar(pt,null,dt,!1,!0);xt.text=pt.getShallow("show")?Jt(r.getFormattedLabel(J,pl),bh(t,J)):null;var Ft=C0(pt,dt,!1);return H(et,lt),lt=RG(lt,xt,Ft),et&&F(lt,et),lt.legacy=!0,lt}function k(et,J){J==null&&(J=g);var it=L(J,cs).getItemStyle(),rt=R(J,cs),st=ar(rt,null,null,!0,!0);st.text=rt.getShallow("show")?Fi(r.getFormattedLabel(J,cs),r.getFormattedLabel(J,pl),bh(t,J)):null;var lt=C0(rt,null,!0);return H(et,it),it=RG(it,st,lt),et&&F(it,et),it.legacy=!0,it}function F(et,J){for(var it in J)Xt(J,it)&&(et[it]=J[it])}function H(et,J){et&&(et.textFill&&(J.textFill=et.textFill),et.textPosition&&(J.textPosition=et.textPosition))}function W(et,J){if(J==null&&(J=g),Xt(LG,et)){var it=t.getItemVisual(J,"style");return it?it[LG[et]]:null}if(Xt(ryt,et))return t.getItemVisual(J,et)}function q(et){if(o.type==="cartesian2d"){var J=o.getBaseAxis();return Bst(oe({axis:J},et))}}function Y(){return e.getCurrentSeriesIndices()}function Z(et){return mA(et,e)}}function Nyt(r){var t={};return j(r.dimensions,function(e){var n=r.getDimensionInfo(e);if(!n.isExtraCoord){var i=n.coordDim,a=t[i]=t[i]||[];a[n.coordDimIndex]=r.getDimensionIndex(e)}}),t}function Mx(r,t,e,n,i,a,o){if(!n){a.remove(t);return}var c=FM(r,t,e,n,i,a);return c&&o.setItemGraphicEl(e,c),c&&gr(c,n.focus,n.blurScope,n.emphasisDisabled),c}function FM(r,t,e,n,i,a){var o=-1,c=t;t&&c7(t,n,i)&&(o=ve(a.childrenRef(),t),t=null);var h=!t,v=t;v?v.clearStates():(v=VM(n),c&&Ayt(c,v)),n.morph===!1?v.disableMorphing=!0:v.disableMorphing&&(v.disableMorphing=!1),n.tooltipDisabled&&(v.tooltipDisabled=!0),Zi.normal.cfg=Zi.normal.conOpt=Zi.emphasis.cfg=Zi.emphasis.conOpt=Zi.blur.cfg=Zi.blur.conOpt=Zi.select.cfg=Zi.select.conOpt=null,Zi.isLegacy=!1,Iyt(v,e,n,i,h,Zi),Ryt(v,e,n,i,h),GM(r,v,e,n,Zi,i,h),Xt(n,"info")&&(us(v).info=n.info);for(var g=0;g<Ll.length;g++){var y=Ll[g];if(y!==pl){var m=r_(n,y),b=BM(n,m,y);u7(y,v,m,b,Zi)}}return Dyt(v,n,i),n.type==="group"&&Oyt(r,v,e,n,i),o>=0?a.replaceAt(v,o):a.add(v),v}function c7(r,t,e){var n=us(r),i=t.type,a=t.shape,o=t.style;return e.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&Gyt(a)&&f7(a)!==n.customPathData||i==="image"&&Xt(o,"image")&&o.image!==n.customImagePath}function Ryt(r,t,e,n,i){var a=e.clipPath;if(a===!1)r&&r.getClipPath()&&r.removeClipPath();else if(a){var o=r.getClipPath();o&&c7(o,a,n)&&(o=null),o||(o=VM(a),r.setClipPath(o)),GM(null,o,t,a,null,n,i)}}function Iyt(r,t,e,n,i,a){if(!(r.isGroup||r.type==="compoundPath")){VG(e,null,a),VG(e,cs,a);var o=a.normal.conOpt,c=a.emphasis.conOpt,h=a.blur.conOpt,v=a.select.conOpt;if(o!=null||c!=null||v!=null||h!=null){var g=r.getTextContent();if(o===!1)g&&r.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},g?g.clearStates():(g=VM(o),r.setTextContent(g)),GM(null,g,t,o,null,n,i);for(var y=o&&o.style,m=0;m<Ll.length;m++){var b=Ll[m];if(b!==pl){var S=a[b].conOpt;u7(b,g,S,BM(o,S,b),null)}}y?g.dirty():g.markRedraw()}}}}function VG(r,t,e){var n=t?r_(r,t):r,i=t?BM(r,n,cs):r.style,a=r.type,o=n?n.textConfig:null,c=r.textContent,h=c?t?r_(c,t):c:null;if(i&&(e.isLegacy||n7(i,a,!!o,!!h))){e.isLegacy=!0;var v=i7(i,a,!t);!o&&v.textConfig&&(o=v.textConfig),!h&&v.textContent&&(h=v.textContent)}if(!t&&h){var g=h;!g.type&&(g.type="text")}var y=t?e[t]:e.normal;y.cfg=o,y.conOpt=h}function r_(r,t){return t?r?r[t]:null:r}function BM(r,t,e){var n=t&&t.style;return n==null&&e===cs&&r&&(n=r.styleEmphasis),n}function Oyt(r,t,e,n,i){var a=n.children,o=a?a.length:0,c=n.$mergeChildren,h=c==="byName"||n.diffChildrenByName,v=c===!1;if(!(!o&&!h&&!v)){if(h){kyt({api:r,oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,seriesModel:i,group:t});return}v&&t.removeAll();for(var g=0;g<o;g++){var y=a[g],m=t.childAt(g);y?(y.ignore==null&&(y.ignore=!1),FM(r,m,e,y,i,t)):m.ignore=!0}for(var b=t.childCount()-1;b>=g;b--){var S=t.childAt(b);Pyt(t,S,i)}}}function Pyt(r,t,e){t&&lb(t,us(r).option,e)}function kyt(r){new _s(r.oldChildren,r.newChildren,GG,GG,r).add(FG).update(FG).remove(Vyt).execute()}function GG(r,t){var e=r&&r.name;return e??Tyt+t}function FG(r,t){var e=this.context,n=r!=null?e.newChildren[r]:null,i=t!=null?e.oldChildren[t]:null;FM(e.api,i,e.dataIndex,n,e.seriesModel,e.group)}function Vyt(r){var t=this.context,e=t.oldChildren[r];e&&lb(e,us(e).option,t.seriesModel)}function f7(r){return r&&(r.pathData||r.d)}function Gyt(r){return r&&(Xt(r,"pathData")||Xt(r,"d"))}function Fyt(r){r.registerChartView(Myt),r.registerSeriesModel(nyt)}var qu=xe(),BG=ne,Dx=qt,HM=(function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(t,e,n,i){var a=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var c=this._group,h=this._handle;if(!o||o==="hide"){c&&c.hide(),h&&h.hide();return}c&&c.show(),h&&h.show();var v={};this.makeElOption(v,a,t,e,n);var g=v.graphicKey;g!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=g;var y=this._moveAnimation=this.determineAnimation(t,e);if(!c)c=this._group=new re,this.createPointerEl(c,v,t,e),this.createLabelEl(c,v,t,e),n.getZr().add(c);else{var m=de(HG,e,y);this.updatePointerEl(c,v,m),this.updateLabelEl(c,v,m,e)}UG(c,e,!0),this._renderHandle(a)}},r.prototype.remove=function(t){this.clear(t)},r.prototype.dispose=function(t){this.clear(t)},r.prototype.determineAnimation=function(t,e){var n=e.get("animation"),i=t.axis,a=i.type==="category",o=e.get("snap");if(!o&&!a)return!1;if(n==="auto"||n==null){var c=this.animationThreshold;if(a&&i.getBandWidth()>c)return!0;if(o){var h=lM(t).seriesDataCount,v=i.getExtent();return Math.abs(v[0]-v[1])/h>c}return!1}return n===!0},r.prototype.makeElOption=function(t,e,n,i,a){},r.prototype.createPointerEl=function(t,e,n,i){var a=e.pointer;if(a){var o=qu(t).pointerEl=new Mc[a.type](BG(e.pointer));t.add(o)}},r.prototype.createLabelEl=function(t,e,n,i){if(e.label){var a=qu(t).labelEl=new Oe(BG(e.label));t.add(a),zG(a,i)}},r.prototype.updatePointerEl=function(t,e,n){var i=qu(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},r.prototype.updateLabelEl=function(t,e,n,i){var a=qu(t).labelEl;a&&(a.setStyle(e.label.style),n(a,{x:e.label.x,y:e.label.y}),zG(a,i))},r.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=e.getModel("handle"),o=e.get("status");if(!a.get("show")||!o||o==="hide"){i&&n.remove(i),this._handle=null;return}var c;this._handle||(c=!0,i=this._handle=Pv(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(v){vs(v.event)},onmousedown:Dx(this._onHandleDragMove,this,0,0),drift:Dx(this._onHandleDragMove,this),ondragend:Dx(this._onHandleDragEnd,this)}),n.add(i)),UG(i,e,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=a.get("size");Rt(h)||(h=[h,h]),i.scaleX=h[0]/2,i.scaleY=h[1]/2,Vh(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,c)}},r.prototype._moveHandleToValue=function(t,e){HG(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Lx(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(Lx(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(Lx(i)),qu(n).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),cv(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}},r})();function HG(r,t,e,n){h7(qu(e).lastProp,n)||(qu(e).lastProp=n,t?Pe(e,n,r):(e.stopAnimation(),e.attr(n)))}function h7(r,t){if(se(r)&&se(t)){var e=!0;return j(t,function(n,i){e=e&&h7(r[i],n)}),!!e}else return r===t}function zG(r,t){r[t.get(["label","show"])?"show":"hide"]()}function Lx(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function UG(r,t,e){var n=t.get("z"),i=t.get("zlevel");r&&r.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=e)})}function zM(r){var t=r.get("type"),e=r.getModel(t+"Style"),n;return t==="line"?(n=e.getLineStyle(),n.fill=null):t==="shadow"&&(n=e.getAreaStyle(),n.stroke=null),n}function p7(r,t,e,n,i){var a=e.get("value"),o=d7(a,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),c=e.getModel("label"),h=kv(c.get("padding")||0),v=c.getFont(),g=L_(o,v),y=i.position,m=g.width+h[1]+h[3],b=g.height+h[0]+h[2],S=i.align;S==="right"&&(y[0]-=m),S==="center"&&(y[0]-=m/2);var E=i.verticalAlign;E==="bottom"&&(y[1]-=b),E==="middle"&&(y[1]-=b/2),Byt(y,m,b,n);var C=c.get("backgroundColor");(!C||C==="auto")&&(C=t.get(["axisLine","lineStyle","color"])),r.label={x:y[0],y:y[1],style:ar(c,{text:o,font:v,fill:c.getTextColor(),padding:h,backgroundColor:C}),z2:10}}function Byt(r,t,e,n){var i=n.getWidth(),a=n.getHeight();r[0]=Math.min(r[0]+t,i)-t,r[1]=Math.min(r[1]+e,a)-e,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function d7(r,t,e,n,i){r=t.scale.parse(r);var a=t.scale.getLabel({value:r},{precision:i.precision}),o=i.formatter;if(o){var c={value:V0(t,{value:r}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};j(n,function(h){var v=e.getSeriesByIndex(h.seriesIndex),g=h.dataIndexInside,y=v&&v.getDataParams(g);y&&c.seriesData.push(y)}),$t(o)?a=o.replace("{value}",a):ee(o)&&(a=o(c))}return a}function UM(r,t,e){var n=_n();return Nl(n,n,e.rotation),No(n,n,e.position),Da([r.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],n)}function v7(r,t,e,n,i,a){var o=ci.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=i.get(["label","margin"]),p7(t,n,i,a,{position:UM(n.axis,r,e),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function WM(r,t,e){return e=e||0,{x1:r[e],y1:r[1-e],x2:t[e],y2:t[1-e]}}function g7(r,t,e){return e=e||0,{x:r[e],y:r[1-e],width:t[e],height:t[1-e]}}function WG(r,t,e,n,i,a){return{cx:r,cy:t,r0:e,r:n,startAngle:i,endAngle:a,clockwise:!0}}var Hyt=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,o){var c=i.axis,h=c.grid,v=a.get("type"),g=jG(h,c).getOtherAxis(c).getGlobalExtent(),y=c.toGlobalCoord(c.dataToCoord(n,!0));if(v&&v!=="none"){var m=zM(a),b=zyt[v](c,y,g);b.style=m,e.graphicKey=b.type,e.pointer=b}var S=$0(h.getRect(),i);v7(n,e,S,i,a,o)},t.prototype.getHandleTransform=function(e,n,i){var a=$0(n.axis.grid.getRect(),n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=UM(n.axis,e,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,i,a){var o=i.axis,c=o.grid,h=o.getGlobalExtent(!0),v=jG(c,o).getOtherAxis(o).getGlobalExtent(),g=o.dim==="x"?0:1,y=[e.x,e.y];y[g]+=n[g],y[g]=Math.min(h[1],y[g]),y[g]=Math.max(h[0],y[g]);var m=(v[1]+v[0])/2,b=[m,m];b[g]=y[g];var S=[{verticalAlign:"middle"},{align:"center"}];return{x:y[0],y:y[1],rotation:e.rotation,cursorPoint:b,tooltipOption:S[g]}},t})(HM);function jG(r,t){var e={};return e[t.dim+"AxisIndex"]=t.index,r.getCartesian(e)}var zyt={line:function(r,t,e){var n=WM([t,e[0]],[t,e[1]],YG(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,t,e){var n=Math.max(1,r.getBandWidth()),i=e[1]-e[0];return{type:"Rect",shape:g7([t-n/2,e[0]],[n,i],YG(r))}}};function YG(r){return r.dim==="x"?0:1}var Uyt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:yt.color.border,width:1,type:"dashed"},shadowStyle:{color:yt.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:yt.color.neutral00,padding:[5,7,5,7],backgroundColor:yt.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:yt.color.accent40,throttle:40}},t})(Te),os=xe(),Wyt=j;function y7(r,t,e){if(!Ae.node){var n=t.getZr();os(n).records||(os(n).records={}),jyt(n,t);var i=os(n).records[r]||(os(n).records[r]={});i.handler=e}}function jyt(r,t){if(os(r).initialized)return;os(r).initialized=!0,e("click",de($G,"click")),e("mousemove",de($G,"mousemove")),e("globalout",$yt);function e(n,i){r.on(n,function(a){var o=qyt(t);Wyt(os(r).records,function(c){c&&i(c,a,o.dispatchAction)}),Yyt(o.pendings,t)})}}function Yyt(r,t){var e=r.showTip.length,n=r.hideTip.length,i;e?i=r.showTip[e-1]:n&&(i=r.hideTip[n-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function $yt(r,t,e){r.handler("leave",null,e)}function $G(r,t,e,n){t.handler(r,e,n)}function qyt(r){var t={showTip:[],hideTip:[]},e=function(n){var i=t[n.type];i?i.push(n):(n.dispatchAction=e,r.dispatchAction(n))};return{dispatchAction:e,pendings:t}}function rC(r,t){if(!Ae.node){var e=t.getZr(),n=(os(e).records||{})[r];n&&(os(e).records[r]=null)}}var Xyt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=n.getComponent("tooltip"),o=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";y7("axisPointer",i,function(c,h,v){o!=="none"&&(c==="leave"||o.indexOf(c)>=0)&&v({type:"updateAxisPointer",currTrigger:c,x:h&&h.offsetX,y:h&&h.offsetY})})},t.prototype.remove=function(e,n){rC("axisPointer",n)},t.prototype.dispose=function(e,n){rC("axisPointer",n)},t.type="axisPointer",t})(dr);function m7(r,t){var e=[],n=r.seriesIndex,i;if(n==null||!(i=t.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),o=gc(a,r);if(o==null||o<0||Rt(o))return{point:[]};var c=a.getItemGraphicEl(o),h=i.coordinateSystem;if(i.getTooltipPosition)e=i.getTooltipPosition(o)||[];else if(h&&h.dataToPoint)if(r.isStacked){var v=h.getBaseAxis(),g=h.getOtherAxis(v),y=g.dim,m=v.dim,b=y==="x"||y==="radius"?1:0,S=a.mapDimension(m),E=[];E[b]=a.get(S,o),E[1-b]=a.get(a.getCalculationInfo("stackResultDimension"),o),e=h.dataToPoint(E)||[]}else e=h.dataToPoint(a.getValues(Pt(h.dimensions,function(A){return a.mapDimension(A)}),o))||[];else if(c){var C=c.getBoundingRect().clone();C.applyTransform(c.transform),e=[C.x+C.width/2,C.y+C.height/2]}return{point:e,el:c}}var qG=xe();function Zyt(r,t,e){var n=r.currTrigger,i=[r.x,r.y],a=r,o=r.dispatchAction||qt(e.dispatchAction,e),c=t.getComponent("axisPointer").coordSysAxesInfo;if(c){Jm(i)&&(i=m7({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var h=Jm(i),v=a.axesInfo,g=c.axesInfo,y=n==="leave"||Jm(i),m={},b={},S={list:[],map:{}},E={showPointer:de(Jyt,b),showTooltip:de(Qyt,S)};j(c.coordSysMap,function(A,M){var L=h||A.containPoint(i);j(c.coordSysAxesInfo[M],function(R,O){var P=R.axis,V=nmt(v,R);if(!y&&L&&(!v||V)){var k=V&&V.value;k==null&&!h&&(k=P.pointToData(i)),k!=null&&XG(R,k,E,!1,m)}})});var C={};return j(g,function(A,M){var L=A.linkGroup;L&&!b[M]&&j(L.axesInfo,function(R,O){var P=b[O];if(R!==A&&P){var V=P.value;L.mapper&&(V=A.axis.scale.parse(L.mapper(V,ZG(R),ZG(A)))),C[A.key]=V}})}),j(C,function(A,M){XG(g[M],A,E,!0,m)}),tmt(b,g,m),emt(S,i,r,o),rmt(g,o,e),m}}function XG(r,t,e,n,i){var a=r.axis;if(!(a.scale.isBlank()||!a.containData(t))){if(!r.involveSeries){e.showPointer(r,t);return}var o=Kyt(t,r),c=o.payloadBatch,h=o.snapToValue;c[0]&&i.seriesIndex==null&&At(i,c[0]),!n&&r.snap&&a.containData(h)&&h!=null&&(t=h),e.showPointer(r,t,c),e.showTooltip(r,o,h)}}function Kyt(r,t){var e=t.axis,n=e.dim,i=r,a=[],o=Number.MAX_VALUE,c=-1;return j(t.seriesModels,function(h,v){var g=h.getData().mapDimensionsAll(n),y,m;if(h.getAxisTooltipData){var b=h.getAxisTooltipData(g,r,e);m=b.dataIndices,y=b.nestestValue}else{if(m=h.indicesOfNearest(n,g[0],r,e.type==="category"?.5:null),!m.length)return;y=h.getData().get(g[0],m[0])}if(!(y==null||!isFinite(y))){var S=r-y,E=Math.abs(S);E<=o&&((E<o||S>=0&&c<0)&&(o=E,c=S,i=y,a.length=0),j(m,function(C){a.push({seriesIndex:h.seriesIndex,dataIndexInside:C,dataIndex:h.getData().getRawIndex(C)})}))}}),{payloadBatch:a,snapToValue:i}}function Jyt(r,t,e,n){r[t.key]={value:e,payloadBatch:n}}function Qyt(r,t,e,n){var i=e.payloadBatch,a=t.axis,o=a.model,c=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var h=t.coordSys.model,v=_v(h),g=r.map[v];g||(g=r.map[v]={coordSysId:h.id,coordSysIndex:h.componentIndex,coordSysType:h.type,coordSysMainType:h.mainType,dataByAxis:[]},r.list.push(g)),g.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:c.get(["label","precision"]),formatter:c.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function tmt(r,t,e){var n=e.axesInfo=[];j(t,function(i,a){var o=i.axisPointerModel.option,c=r[a];c?(!i.useHandle&&(o.status="show"),o.value=c.value,o.seriesDataIndices=(c.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function emt(r,t,e,n){if(Jm(t)||!r.list.length){n({type:"hideTip"});return}var i=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:r.list})}function rmt(r,t,e){var n=e.getZr(),i="axisPointerLastHighlights",a=qG(n)[i]||{},o=qG(n)[i]={};j(r,function(v,g){var y=v.axisPointerModel.option;y.status==="show"&&v.triggerEmphasis&&j(y.seriesDataIndices,function(m){var b=m.seriesIndex+" | "+m.dataIndex;o[b]=m})});var c=[],h=[];j(a,function(v,g){!o[g]&&h.push(v)}),j(o,function(v,g){!a[g]&&c.push(v)}),h.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:h}),c.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:c})}function nmt(r,t){for(var e=0;e<(r||[]).length;e++){var n=r[e];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function ZG(r){var t=r.axis.model,e={},n=e.axisDim=r.axis.dim;return e.axisIndex=e[n+"AxisIndex"]=t.componentIndex,e.axisName=e[n+"AxisName"]=t.name,e.axisId=e[n+"AxisId"]=t.id,e}function Jm(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function $v(r){Ic.registerAxisPointerClass("CartesianAxisPointer",Hyt),r.registerComponentModel(Uyt),r.registerComponentView(Xyt),r.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Rt(e)&&(t.axisPointer.link=[e])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=ift(t,e)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Zyt)}function imt(r){_e(zz),_e($v)}var amt=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,o){var c=i.axis;c.dim==="angle"&&(this.animationThreshold=Math.PI/18);var h=c.polar,v=h.getOtherAxis(c),g=v.getExtent(),y=c.dataToCoord(n),m=a.get("type");if(m&&m!=="none"){var b=zM(a),S=smt[m](c,h,y,g);S.style=b,e.graphicKey=S.type,e.pointer=S}var E=a.get(["label","margin"]),C=omt(n,i,a,h,E);p7(e,i,a,o,C)},t})(HM);function omt(r,t,e,n,i){var a=t.axis,o=a.dataToCoord(r),c=n.getAngleAxis().getExtent()[0];c=c/180*Math.PI;var h=n.getRadiusAxis().getExtent(),v,g,y;if(a.dim==="radius"){var m=_n();Nl(m,m,c),No(m,m,[n.cx,n.cy]),v=Da([o,-i],m);var b=t.getModel("axisLabel").get("rotate")||0,S=ci.innerTextLayout(c,b*Math.PI/180,-1);g=S.textAlign,y=S.textVerticalAlign}else{var E=h[1];v=n.coordToPoint([E+i,o]);var C=n.cx,A=n.cy;g=Math.abs(v[0]-C)/E<.3?"center":v[0]>C?"left":"right",y=Math.abs(v[1]-A)/E<.3?"middle":v[1]>A?"top":"bottom"}return{position:v,align:g,verticalAlign:y}}var smt={line:function(r,t,e,n){return r.dim==="angle"?{type:"Line",shape:WM(t.coordToPoint([n[0],e]),t.coordToPoint([n[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(r,t,e,n){var i=Math.max(1,r.getBandWidth()),a=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:WG(t.cx,t.cy,n[0],n[1],(-e-i/2)*a,(-e+i/2)*a)}:{type:"Sector",shape:WG(t.cx,t.cy,e-i/2,e+i/2,0,Math.PI*2)}}},lmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.findAxisModel=function(e){var n,i=this.ecModel;return i.eachComponent(e,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t})(Te),jM=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Cr).models[0]},t.type="polarAxis",t})(Te);Zr(jM,Hv);var umt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="angleAxis",t})(jM),cmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="radiusAxis",t})(jM),YM=(function(r){bt(t,r);function t(e,n){return r.call(this,"radius",e,n)||this}return t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t})(Va);YM.prototype.dataToRadius=Va.prototype.dataToCoord;YM.prototype.radiusToData=Va.prototype.coordToData;var fmt=xe(),$M=(function(r){bt(t,r);function t(e,n){return r.call(this,"angle",e,n||[0,360])||this}return t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,n=e.getLabelModel(),i=e.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var c=a[0],h=e.dataToCoord(c+1)-e.dataToCoord(c),v=Math.abs(h),g=L_(c==null?"":c+"",n.getFont(),"center","top"),y=Math.max(g.height,7),m=y/v;isNaN(m)&&(m=1/0);var b=Math.max(0,Math.floor(m)),S=fmt(e.model),E=S.lastAutoInterval,C=S.lastTickCount;return E!=null&&C!=null&&Math.abs(E-b)<=1&&Math.abs(C-o)<=1&&E>b?b=E:(S.lastTickCount=o,S.lastAutoInterval=b),b},t})(Va);$M.prototype.dataToAngle=Va.prototype.dataToCoord;$M.prototype.angleToData=Va.prototype.coordToData;var _7=["radius","angle"],hmt=(function(){function r(t){this.dimensions=_7,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new YM,this._angleAxis=new $M,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},r.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},r.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},r.prototype.dataToPoint=function(t,e,n){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)],n)},r.prototype.pointToData=function(t,e,n){n=n||[];var i=this.pointToCoord(t);return n[0]=this._radiusAxis.radiusToData(i[0],e),n[1]=this._angleAxis.angleToData(i[1],e),n},r.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),o=Math.min(a[0],a[1]),c=Math.max(a[0],a[1]);i.inverse?o=c-360:c=o+360;var h=Math.sqrt(e*e+n*n);e/=h,n/=h;for(var v=Math.atan2(-n,e)/Math.PI*180,g=v<o?1:-1;v<o||v>c;)v+=g*360;return[h,v]},r.prototype.coordToPoint=function(t,e){e=e||[];var n=t[0],i=t[1]/180*Math.PI;return e[0]=Math.cos(i)*n+this.cx,e[1]=-Math.sin(i)*n+this.cy,e},r.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),n=e.getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),a=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(c,h){var v=c-this.cx,g=h-this.cy,y=v*v+g*g,m=this.r,b=this.r0;return m!==b&&y-o<=m*m&&y+o>=b*b},x:this.cx-n[1],y:this.cy-n[1],width:n[1]*2,height:n[1]*2}},r.prototype.convertToPixel=function(t,e,n){var i=KG(e);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=KG(e);return i===this?this.pointToData(n):null},r})();function KG(r){var t=r.seriesModel,e=r.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function pmt(r,t,e){var n=t.get("center"),i=an(t,e).refContainer;r.cx=Yt(n[0],i.width)+i.x,r.cy=Yt(n[1],i.height)+i.y;var a=r.getRadiusAxis(),o=Math.min(i.width,i.height)/2,c=t.get("radius");c==null?c=[0,"100%"]:Rt(c)||(c=[0,c]);var h=[Yt(c[0],o),Yt(c[1],o)];a.inverse?a.setExtent(h[1],h[0]):a.setExtent(h[0],h[1])}function dmt(r,t){var e=this,n=e.getAngleAxis(),i=e.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),r.eachSeries(function(c){if(c.coordinateSystem===e){var h=c.getData();j(G0(h,"radius"),function(v){i.scale.unionExtentFromData(h,v)}),j(G0(h,"angle"),function(v){n.scale.unionExtentFromData(h,v)})}}),mh(n.scale,n.model),mh(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),o=360/n.scale.count();n.inverse?a[1]+=o:a[1]-=o,n.setExtent(a[0],a[1])}}function vmt(r){return r.mainType==="angleAxis"}function JG(r,t){var e;if(r.type=t.get("type"),r.scale=J_(t),r.onBand=t.get("boundaryGap")&&r.type==="category",r.inverse=t.get("inverse"),vmt(t)){r.inverse=r.inverse!==t.get("clockwise");var n=t.get("startAngle"),i=(e=t.get("endAngle"))!==null&&e!==void 0?e:n+(r.inverse?-360:360);r.setExtent(n,i)}t.axis=r,r.model=t}var gmt={dimensions:_7,create:function(r,t){var e=[];return r.eachComponent("polar",function(n,i){var a=new hmt(i+"");a.update=dmt;var o=a.getRadiusAxis(),c=a.getAngleAxis(),h=n.findAxisModel("radiusAxis"),v=n.findAxisModel("angleAxis");JG(o,h),JG(c,v),pmt(a,n,t),e.push(a),n.coordinateSystem=a,a.model=n}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",Cr).models[0];n.coordinateSystem=i.coordinateSystem}}),e}},ymt=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function gm(r,t,e){t[1]>t[0]&&(t=t.slice().reverse());var n=r.coordToPoint([t[0],e]),i=r.coordToPoint([t[1],e]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function ym(r){var t=r.getRadiusAxis();return t.inverse?0:1}function QG(r){var t=r[0],e=r[r.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&r.pop()}var mmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,n){if(this.group.removeAll(),!!e.get("show")){var i=e.axis,a=i.polar,o=a.getRadiusAxis().getExtent(),c=i.getTicksCoords({breakTicks:"none"}),h=i.getMinorTicksCoords(),v=Pt(i.getViewLabels(),function(g){g=ne(g);var y=i.scale,m=y.type==="ordinal"?y.getRawOrdinalNumber(g.tickValue):g.tickValue;return g.coord=i.dataToCoord(m),g});QG(v),QG(c),j(ymt,function(g){e.get([g,"show"])&&(!i.scale.isBlank()||g==="axisLine")&&_mt[g](this.group,e,a,c,h,o,v)},this)}},t.type="angleAxis",t})(Ic),_mt={axisLine:function(r,t,e,n,i,a){var o=t.getModel(["axisLine","lineStyle"]),c=e.getAngleAxis(),h=Math.PI/180,v=c.getExtent(),g=ym(e),y=g?0:1,m,b=Math.abs(v[1]-v[0])===360?"Circle":"Arc";a[y]===0?m=new Mc[b]({shape:{cx:e.cx,cy:e.cy,r:a[g],startAngle:-v[0]*h,endAngle:-v[1]*h,clockwise:c.inverse},style:o.getLineStyle(),z2:1,silent:!0}):m=new Rv({shape:{cx:e.cx,cy:e.cy,r:a[g],r0:a[y]},style:o.getLineStyle(),z2:1,silent:!0}),m.style.fill=null,r.add(m)},axisTick:function(r,t,e,n,i,a){var o=t.getModel("axisTick"),c=(o.get("inside")?-1:1)*o.get("length"),h=a[ym(e)],v=Pt(n,function(g){return new Wr({shape:gm(e,[h,h+c],g.coord)})});r.add(ia(v,{style:oe(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,t,e,n,i,a){if(i.length){for(var o=t.getModel("axisTick"),c=t.getModel("minorTick"),h=(o.get("inside")?-1:1)*c.get("length"),v=a[ym(e)],g=[],y=0;y<i.length;y++)for(var m=0;m<i[y].length;m++)g.push(new Wr({shape:gm(e,[v,v+h],i[y][m].coord)}));r.add(ia(g,{style:oe(c.getModel("lineStyle").getLineStyle(),oe(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,t,e,n,i,a,o){var c=t.getCategories(!0),h=t.getModel("axisLabel"),v=h.get("margin"),g=t.get("triggerEvent");j(o,function(y,m){var b=h,S=y.tickValue,E=a[ym(e)],C=e.coordToPoint([E+v,y.coord]),A=e.cx,M=e.cy,L=Math.abs(C[0]-A)/E<.3?"center":C[0]>A?"left":"right",R=Math.abs(C[1]-M)/E<.3?"middle":C[1]>M?"top":"bottom";if(c&&c[S]){var O=c[S];se(O)&&O.textStyle&&(b=new Me(O.textStyle,h,h.ecModel))}var P=new Oe({silent:ci.isLabelSilent(t),style:ar(b,{x:C[0],y:C[1],fill:b.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:y.formattedLabel,align:L,verticalAlign:R})});if(r.add(P),Ts({el:P,componentModel:t,itemName:y.formattedLabel,formatterParamsExtra:{isTruncated:function(){return P.isTruncated},value:y.rawLabel,tickIndex:m}}),g){var V=ci.makeAxisEventDataBase(t);V.targetType="axisLabel",V.value=y.rawLabel,ce(P).eventData=V}},this)},splitLine:function(r,t,e,n,i,a){var o=t.getModel("splitLine"),c=o.getModel("lineStyle"),h=c.get("color"),v=0;h=h instanceof Array?h:[h];for(var g=[],y=0;y<n.length;y++){var m=v++%h.length;g[m]=g[m]||[],g[m].push(new Wr({shape:gm(e,a,n[y].coord)}))}for(var y=0;y<g.length;y++)r.add(ia(g[y],{style:oe({stroke:h[y%h.length]},c.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(r,t,e,n,i,a){if(i.length){for(var o=t.getModel("minorSplitLine"),c=o.getModel("lineStyle"),h=[],v=0;v<i.length;v++)for(var g=0;g<i[v].length;g++)h.push(new Wr({shape:gm(e,a,i[v][g].coord)}));r.add(ia(h,{style:c.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(r,t,e,n,i,a){if(n.length){var o=t.getModel("splitArea"),c=o.getModel("areaStyle"),h=c.get("color"),v=0;h=h instanceof Array?h:[h];for(var g=[],y=Math.PI/180,m=-n[0].coord*y,b=Math.min(a[0],a[1]),S=Math.max(a[0],a[1]),E=t.get("clockwise"),C=1,A=n.length;C<=A;C++){var M=C===A?n[0].coord:n[C].coord,L=v++%h.length;g[L]=g[L]||[],g[L].push(new $n({shape:{cx:e.cx,cy:e.cy,r0:b,r:S,startAngle:m,endAngle:-M*y,clockwise:E},silent:!0})),m=-M*y}for(var C=0;C<g.length;C++)r.add(ia(g[C],{style:oe({fill:h[C%h.length]},c.getAreaStyle()),silent:!0}))}}},bmt=["splitLine","splitArea","minorSplitLine"],Smt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,n,i){if(this.group.removeAll(),!!e.get("show")){var a=this._axisGroup,o=this._axisGroup=new re;this.group.add(o);var c=e.axis,h=c.polar,v=h.getAngleAxis(),g=c.getTicksCoords(),y=c.getMinorTicksCoords(),m=v.getExtent()[0],b=c.getExtent(),S=xmt(h,e,m),E=new ci(e,i,S);E.build(),o.add(E.group),Ov(a,o,e),j(bmt,function(C){e.get([C,"show"])&&!c.scale.isBlank()&&wmt[C](this.group,e,h,m,b,g,y)},this)}},t.type="radiusAxis",t})(Ic),wmt={splitLine:function(r,t,e,n,i,a){var o=t.getModel("splitLine"),c=o.getModel("lineStyle"),h=c.get("color"),v=0,g=e.getAngleAxis(),y=Math.PI/180,m=g.getExtent(),b=Math.abs(m[1]-m[0])===360?"Circle":"Arc";h=h instanceof Array?h:[h];for(var S=[],E=0;E<a.length;E++){var C=v++%h.length;S[C]=S[C]||[],S[C].push(new Mc[b]({shape:{cx:e.cx,cy:e.cy,r:Math.max(a[E].coord,0),startAngle:-m[0]*y,endAngle:-m[1]*y,clockwise:g.inverse}}))}for(var E=0;E<S.length;E++)r.add(ia(S[E],{style:oe({stroke:h[E%h.length],fill:null},c.getLineStyle()),silent:!0}))},minorSplitLine:function(r,t,e,n,i,a,o){if(o.length){for(var c=t.getModel("minorSplitLine"),h=c.getModel("lineStyle"),v=[],g=0;g<o.length;g++)for(var y=0;y<o[g].length;y++)v.push(new Es({shape:{cx:e.cx,cy:e.cy,r:o[g][y].coord}}));r.add(ia(v,{style:oe({fill:null},h.getLineStyle()),silent:!0}))}},splitArea:function(r,t,e,n,i,a){if(a.length){var o=t.getModel("splitArea"),c=o.getModel("areaStyle"),h=c.get("color"),v=0;h=h instanceof Array?h:[h];for(var g=[],y=a[0].coord,m=1;m<a.length;m++){var b=v++%h.length;g[b]=g[b]||[],g[b].push(new $n({shape:{cx:e.cx,cy:e.cy,r0:y,r:a[m].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=a[m].coord}for(var m=0;m<g.length;m++)r.add(ia(g[m],{style:oe({fill:h[m%h.length]},c.getAreaStyle()),silent:!0}))}}};function xmt(r,t,e){return{position:[r.cx,r.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function b7(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function S7(r,t){return t.dim+r.model.componentIndex}function Emt(r,t,e){var n={},i=Tmt(je(t.getSeriesByType(r),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));t.eachSeriesByType(r,function(a){if(a.coordinateSystem.type==="polar"){var o=a.getData(),c=a.coordinateSystem,h=c.getBaseAxis(),v=S7(c,h),g=b7(a),y=i[v][g],m=y.offset,b=y.width,S=c.getOtherAxis(h),E=a.coordinateSystem.cx,C=a.coordinateSystem.cy,A=a.get("barMinHeight")||0,M=a.get("barMinAngle")||0;n[g]=n[g]||[];for(var L=o.mapDimension(S.dim),R=o.mapDimension(h.dim),O=Cl(o,L),P=h.dim!=="radius"||!a.get("roundCap",!0),V=S.model,k=V.get("startValue"),F=S.dataToCoord(k||0),H=0,W=o.count();H<W;H++){var q=o.get(L,H),Y=o.get(R,H),Z=q>=0?"p":"n",et=F;O&&(n[g][Y]||(n[g][Y]={p:F,n:F}),et=n[g][Y][Z]);var J=void 0,it=void 0,rt=void 0,st=void 0;if(S.dim==="radius"){var lt=S.dataToCoord(q)-F,dt=h.dataToCoord(Y);Math.abs(lt)<A&&(lt=(lt<0?-1:1)*A),J=et,it=et+lt,rt=dt-m,st=rt-b,O&&(n[g][Y][Z]=it)}else{var pt=S.dataToCoord(q,P)-F,xt=h.dataToCoord(Y);Math.abs(pt)<M&&(pt=(pt<0?-1:1)*M),J=xt+m,it=J+b,rt=et,st=et+pt,O&&(n[g][Y][Z]=st)}o.setItemLayout(H,{cx:E,cy:C,r0:J,r:it,startAngle:-rt*Math.PI/180,endAngle:-st*Math.PI/180,clockwise:rt>=st})}}})}function Tmt(r){var t={};j(r,function(n,i){var a=n.getData(),o=n.coordinateSystem,c=o.getBaseAxis(),h=S7(o,c),v=c.getExtent(),g=c.type==="category"?c.getBandWidth():Math.abs(v[1]-v[0])/a.count(),y=t[h]||{bandWidth:g,remainedWidth:g,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},m=y.stacks;t[h]=y;var b=b7(n);m[b]||y.autoWidthCount++,m[b]=m[b]||{width:0,maxWidth:0};var S=Yt(n.get("barWidth"),g),E=Yt(n.get("barMaxWidth"),g),C=n.get("barGap"),A=n.get("barCategoryGap");S&&!m[b].width&&(S=Math.min(y.remainedWidth,S),m[b].width=S,y.remainedWidth-=S),E&&(m[b].maxWidth=E),C!=null&&(y.gap=C),A!=null&&(y.categoryGap=A)});var e={};return j(t,function(n,i){e[i]={};var a=n.stacks,o=n.bandWidth,c=Yt(n.categoryGap,o),h=Yt(n.gap,1),v=n.remainedWidth,g=n.autoWidthCount,y=(v-c)/(g+(g-1)*h);y=Math.max(y,0),j(a,function(E,C){var A=E.maxWidth;A&&A<y&&(A=Math.min(A,v),E.width&&(A=Math.min(A,E.width)),v-=A,E.width=A,g--)}),y=(v-c)/(g+(g-1)*h),y=Math.max(y,0);var m=0,b;j(a,function(E,C){E.width||(E.width=y),b=E,m+=E.width*(1+h)}),b&&(m-=b.width*h);var S=-m/2;j(a,function(E,C){e[i][C]=e[i][C]||{offset:S,width:E.width},S+=E.width*(1+h)})}),e}var Cmt={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Amt={splitNumber:5},Mmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="polar",t})(dr);function Dmt(r){_e($v),Ic.registerAxisPointerClass("PolarAxisPointer",amt),r.registerCoordinateSystem("polar",gmt),r.registerComponentModel(lmt),r.registerComponentView(Mmt),Sh(r,"angle",umt,Cmt),Sh(r,"radius",cmt,Amt),r.registerComponentView(mmt),r.registerComponentView(Smt),r.registerLayout(de(Emt,"bar"))}function nC(r,t){t=t||{};var e=r.coordinateSystem,n=r.axis,i={},a=n.position,o=n.orient,c=e.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],v={horizontal:{top:h[2],bottom:h[3]},vertical:{left:h[0],right:h[1]}};i.position=[o==="vertical"?v.vertical[a]:h[0],o==="horizontal"?v.horizontal[a]:h[3]];var g={horizontal:0,vertical:1};i.rotation=Math.PI/2*g[o];var y={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=y[a],r.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Rn(t.labelInside,r.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var m=r.get(["axisLabel","rotate"]);return i.labelRotate=a==="top"?-m:m,i.z2=1,i}var Lmt=["splitArea","splitLine","breakArea"],Nmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return t.prototype.render=function(e,n,i,a){var o=this.group;o.removeAll();var c=this._axisGroup;this._axisGroup=new re;var h=nC(e),v=new ci(e,i,h);v.build(),o.add(this._axisGroup),o.add(v.group),j(Lmt,function(g){e.get([g,"show"])&&Rmt[g](this,this.group,this._axisGroup,e,i)},this),Ov(c,this._axisGroup,e),r.prototype.render.call(this,e,n,i,a)},t.prototype.remove=function(){Fz(this)},t.type="singleAxis",t})(Ic),Rmt={splitLine:function(r,t,e,n,i){var a=n.axis;if(!a.scale.isBlank()){var o=n.getModel("splitLine"),c=o.getModel("lineStyle"),h=c.get("color");h=h instanceof Array?h:[h];for(var v=c.get("width"),g=n.coordinateSystem.getRect(),y=a.isHorizontal(),m=[],b=0,S=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),E=[],C=[],A=0;A<S.length;++A){var M=a.toGlobalCoord(S[A].coord);y?(E[0]=M,E[1]=g.y,C[0]=M,C[1]=g.y+g.height):(E[0]=g.x,E[1]=M,C[0]=g.x+g.width,C[1]=M);var L=new Wr({shape:{x1:E[0],y1:E[1],x2:C[0],y2:C[1]},silent:!0});dh(L.shape,v);var R=b++%h.length;m[R]=m[R]||[],m[R].push(L)}for(var O=c.getLineStyle(["color"]),A=0;A<m.length;++A)t.add(ia(m[A],{style:oe({stroke:h[A%h.length]},O),silent:!0}))}},splitArea:function(r,t,e,n,i){Gz(r,e,n,n)},breakArea:function(r,t,e,n,i){var a=Yv(),o=n.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(t,r,n,n.coordinateSystem.getRect(),i)}},Qm=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},t})(Te);Zr(Qm,Hv.prototype);var Imt=(function(r){bt(t,r);function t(e,n,i,a,o){var c=r.call(this,e,n,i)||this;return c.type=a||"value",c.position=o||"bottom",c}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.pointToData=function(e,n){return this.coordinateSystem.pointToData(e)[0]},t})(Va),w7=["single"],Omt=(function(){function r(t,e,n){this.type="single",this.dimension="single",this.dimensions=w7,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return r.prototype._init=function(t,e,n){var i=this.dimension,a=new Imt(i,J_(t),[0,0],t.get("type"),t.get("position")),o=a.type==="category";a.onBand=o&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},r.prototype.update=function(t,e){t.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();j(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),mh(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(t,e){var n=an(t,e).refContainer;this._rect=yr(t.getBoxLayoutParams(),n),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],a=e.inverse?1:0;e.setExtent(i[a],i[1-a]),this._updateAxisTransform(e,n?t.x:t.y)},r.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),i=n[0]+n[1],a=t.isHorizontal();t.toGlobalCoord=a?function(o){return o+e}:function(o){return i-o+e},t.toLocalCoord=a?function(o){return o-e}:function(o){return i-o+e}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},r.prototype.pointToData=function(t,e,n){n=n||[];var i=this.getAxis();return n[0]=i.coordToData(i.toLocalCoord(t[i.orient==="horizontal"?0:1])),n},r.prototype.dataToPoint=function(t,e,n){var i=this.getAxis(),a=this.getRect();n=n||[];var o=i.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),n[o]=i.toGlobalCoord(i.dataToCoord(+t)),n[1-o]=o===0?a.y+a.height/2:a.x+a.width/2,n},r.prototype.convertToPixel=function(t,e,n){var i=t5(e);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=t5(e);return i===this?this.pointToData(n):null},r})();function t5(r){var t=r.seriesModel,e=r.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function Pmt(r,t){var e=[];return r.eachComponent("singleAxis",function(n,i){var a=new Omt(n,r,t);a.name="single_"+i,a.resize(n,t),n.coordinateSystem=a,e.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",Cr).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),e}var kmt={create:Pmt,dimensions:w7},e5=["x","y"],Vmt=["width","height"],Gmt=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,o){var c=i.axis,h=c.coordinateSystem,v=Nx(h,1-n_(c)),g=h.dataToPoint(n)[0],y=a.get("type");if(y&&y!=="none"){var m=zM(a),b=Fmt[y](c,g,v);b.style=m,e.graphicKey=b.type,e.pointer=b}var S=nC(i);v7(n,e,S,i,a,o)},t.prototype.getHandleTransform=function(e,n,i){var a=nC(n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=UM(n.axis,e,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,i,a){var o=i.axis,c=o.coordinateSystem,h=n_(o),v=Nx(c,h),g=[e.x,e.y];g[h]+=n[h],g[h]=Math.min(v[1],g[h]),g[h]=Math.max(v[0],g[h]);var y=Nx(c,1-h),m=(y[1]+y[0])/2,b=[m,m];return b[h]=g[h],{x:g[0],y:g[1],rotation:e.rotation,cursorPoint:b,tooltipOption:{verticalAlign:"middle"}}},t})(HM),Fmt={line:function(r,t,e){var n=WM([t,e[0]],[t,e[1]],n_(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,t,e){var n=r.getBandWidth(),i=e[1]-e[0];return{type:"Rect",shape:g7([t-n/2,e[0]],[n,i],n_(r))}}};function n_(r){return r.isHorizontal()?0:1}function Nx(r,t){var e=r.getRect();return[e[e5[t]],e[e5[t]]+e[Vmt[t]]]}var Bmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="single",t})(dr);function Hmt(r){_e($v),Ic.registerAxisPointerClass("SingleAxisPointer",Gmt),r.registerComponentView(Bmt),r.registerComponentView(Nmt),r.registerComponentModel(Qm),Sh(r,"single",Qm,Qm.defaultOption),r.registerCoordinateSystem("single",kmt)}var zmt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n,i){var a=Dc(e);r.prototype.init.apply(this,arguments),r5(e,a)},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),r5(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.layoutMode="box",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:yt.color.axisLine,width:1,type:"solid"}},itemStyle:{color:yt.color.neutral00,borderWidth:1,borderColor:yt.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:yt.size.s,color:yt.color.secondary},monthLabel:{show:!0,position:"start",margin:yt.size.s,align:"center",formatter:null,color:yt.color.secondary},yearLabel:{show:!0,position:null,margin:yt.size.xl,formatter:null,color:yt.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t})(Te);function r5(r,t){var e=r.cellSize,n;Rt(e)?n=e:n=r.cellSize=[e,e],n.length===1&&(n[1]=n[0]);var i=Pt([0,1],function(a){return Mit(t,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});Oo(r,t,{type:"box",ignoreSize:i})}var Umt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group;a.removeAll();var o=e.coordinateSystem,c=o.getRangeInfo(),h=o.getOrient(),v=n.getLocaleModel();this._renderDayRect(e,c,a),this._renderLines(e,c,h,a),this._renderYearText(e,c,h,a),this._renderMonthText(e,v,h,a),this._renderWeekText(e,v,c,h,a)},t.prototype._renderDayRect=function(e,n,i){for(var a=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),c=a.getCellWidth(),h=a.getCellHeight(),v=n.start.time;v<=n.end.time;v=a.getNextNDay(v,1).time){var g=a.dataToCalendarLayout([v],!1).tl,y=new we({shape:{x:g[0],y:g[1],width:c,height:h},cursor:"default",style:o});i.add(y)}},t.prototype._renderLines=function(e,n,i,a){var o=this,c=e.coordinateSystem,h=e.getModel(["splitLine","lineStyle"]).getLineStyle(),v=e.get(["splitLine","show"]),g=h.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var y=n.start,m=0;y.time<=n.end.time;m++){S(y.formatedDate),m===0&&(y=c.getDateInfo(n.start.y+"-"+n.start.m));var b=y.date;b.setMonth(b.getMonth()+1),y=c.getDateInfo(b)}S(c.getNextNDay(n.end.time,1).formatedDate);function S(E){o._firstDayOfMonth.push(c.getDateInfo(E)),o._firstDayPoints.push(c.dataToCalendarLayout([E],!1).tl);var C=o._getLinePointsOfOneWeek(e,E,i);o._tlpoints.push(C[0]),o._blpoints.push(C[C.length-1]),v&&o._drawSplitline(C,h,a)}v&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,g,i),h,a),v&&this._drawSplitline(o._getEdgesPoints(o._blpoints,g,i),h,a)},t.prototype._getEdgesPoints=function(e,n,i){var a=[e[0].slice(),e[e.length-1].slice()],o=i==="horizontal"?0:1;return a[0][o]=a[0][o]-n/2,a[1][o]=a[1][o]+n/2,a},t.prototype._drawSplitline=function(e,n,i){var a=new In({z2:20,shape:{points:e},style:n});i.add(a)},t.prototype._getLinePointsOfOneWeek=function(e,n,i){for(var a=e.coordinateSystem,o=a.getDateInfo(n),c=[],h=0;h<7;h++){var v=a.getNextNDay(o.time,h),g=a.dataToCalendarLayout([v.time],!1);c[2*v.day]=g.tl,c[2*v.day+1]=g[i==="horizontal"?"bl":"tr"]}return c},t.prototype._formatterLabel=function(e,n){return $t(e)&&e?wit(e,n):ee(e)?e(n):n.nameMap},t.prototype._yearTextPositionControl=function(e,n,i,a,o){var c=n[0],h=n[1],v=["center","bottom"];a==="bottom"?(h+=o,v=["center","top"]):a==="left"?c-=o:a==="right"?(c+=o,v=["center","top"]):h-=o;var g=0;return(a==="left"||a==="right")&&(g=Math.PI/2),{rotation:g,x:c,y:h,style:{align:v[0],verticalAlign:v[1]}}},t.prototype._renderYearText=function(e,n,i,a){var o=e.getModel("yearLabel");if(o.get("show")){var c=o.get("margin"),h=o.get("position");h||(h=i!=="horizontal"?"top":"left");var v=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(v[0][0]+v[1][0])/2,y=(v[0][1]+v[1][1])/2,m=i==="horizontal"?0:1,b={top:[g,v[m][1]],bottom:[g,v[1-m][1]],left:[v[1-m][0],y],right:[v[m][0],y]},S=n.start.y;+n.end.y>+n.start.y&&(S=S+"-"+n.end.y);var E=o.get("formatter"),C={start:n.start.y,end:n.end.y,nameMap:S},A=this._formatterLabel(E,C),M=new Oe({z2:30,style:ar(o,{text:A}),silent:o.get("silent")});M.attr(this._yearTextPositionControl(M,b[h],i,h,c)),a.add(M)}},t.prototype._monthTextPositionControl=function(e,n,i,a,o){var c="left",h="top",v=e[0],g=e[1];return i==="horizontal"?(g=g+o,n&&(c="center"),a==="start"&&(h="bottom")):(v=v+o,n&&(h="middle"),a==="start"&&(c="right")),{x:v,y:g,align:c,verticalAlign:h}},t.prototype._renderMonthText=function(e,n,i,a){var o=e.getModel("monthLabel");if(o.get("show")){var c=o.get("nameMap"),h=o.get("margin"),v=o.get("position"),g=o.get("align"),y=[this._tlpoints,this._blpoints];(!c||$t(c))&&(c&&(n=QE(c)||n),c=n.get(["time","monthAbbr"])||[]);var m=v==="start"?0:1,b=i==="horizontal"?0:1;h=v==="start"?-h:h;for(var S=g==="center",E=o.get("silent"),C=0;C<y[m].length-1;C++){var A=y[m][C].slice(),M=this._firstDayOfMonth[C];if(S){var L=this._firstDayPoints[C];A[b]=(L[b]+y[0][C+1][b])/2}var R=o.get("formatter"),O=c[+M.m-1],P={yyyy:M.y,yy:(M.y+"").slice(2),MM:M.m,M:+M.m,nameMap:O},V=this._formatterLabel(R,P),k=new Oe({z2:30,style:At(ar(o,{text:V}),this._monthTextPositionControl(A,S,i,v,h)),silent:E});a.add(k)}}},t.prototype._weekTextPositionControl=function(e,n,i,a,o){var c="center",h="middle",v=e[0],g=e[1],y=i==="start";return n==="horizontal"?(v=v+a+(y?1:-1)*o[0]/2,c=y?"right":"left"):(g=g+a+(y?1:-1)*o[1]/2,h=y?"bottom":"top"),{x:v,y:g,align:c,verticalAlign:h}},t.prototype._renderWeekText=function(e,n,i,a,o){var c=e.getModel("dayLabel");if(c.get("show")){var h=e.coordinateSystem,v=c.get("position"),g=c.get("nameMap"),y=c.get("margin"),m=h.getFirstDayOfWeek();if(!g||$t(g)){g&&(n=QE(g)||n);var b=n.get(["time","dayOfWeekShort"]);g=b||Pt(n.get(["time","dayOfWeekAbbr"]),function(P){return P[0]})}var S=h.getNextNDay(i.end.time,7-i.lweek).time,E=[h.getCellWidth(),h.getCellHeight()];y=Yt(y,Math.min(E[1],E[0])),v==="start"&&(S=h.getNextNDay(i.start.time,-(7+i.fweek)).time,y=-y);for(var C=c.get("silent"),A=0;A<7;A++){var M=h.getNextNDay(S,A),L=h.dataToCalendarLayout([M.time],!1).center,R=A;R=Math.abs((A+m)%7);var O=new Oe({z2:30,style:At(ar(c,{text:g[R]}),this._weekTextPositionControl(L,a,v,y,E)),silent:C});o.add(O)}}},t.type="calendar",t})(dr),Rx=864e5,Wmt=(function(){function r(t,e,n){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=t,this._update(e,n)}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(t){t=Ac(t);var e=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,a=t.getDate(),o=a<10?"0"+a:""+a,c=t.getDay();return c=Math.abs((c+7-this.getFirstDayOfWeek())%7),{y:e+"",m:i,d:o,day:c,time:t.getTime(),formatedDate:e+"-"+i+"-"+o,date:t}},r.prototype.getNextNDay=function(t,e){return e=e||0,e===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e),this.getDateInfo(t))},r.prototype._update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),c=this._orient==="horizontal"?[n,7]:[7,n];j([0,1],function(y){g(a,y)&&(o[i[y]]=a[y]*c[y])});var h={width:e.getWidth(),height:e.getHeight()},v=this._rect=yr(o,h);j([0,1],function(y){g(a,y)||(a[y]=v[i[y]]/c[y])});function g(y,m){return y[m]!=null&&y[m]!=="auto"}this._sw=a[0],this._sh=a[1]},r.prototype.dataToPoint=function(t,e,n){n=n||[],Rt(t)&&(t=t[0]),e==null&&(e=!0);var i=this.getDateInfo(t),a=this._rangeInfo,o=i.formatedDate;if(e&&!(i.time>=a.start.time&&i.time<a.end.time+Rx))return n[0]=n[1]=NaN,n;var c=i.day,h=this._getRangeInfo([a.start.time,o]).nthWeek;return this._orient==="vertical"?(n[0]=this._rect.x+c*this._sw+this._sw/2,n[1]=this._rect.y+h*this._sh+this._sh/2):(n[0]=this._rect.x+h*this._sw+this._sw/2,n[1]=this._rect.y+c*this._sh+this._sh/2),n},r.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},r.prototype.dataToLayout=function(t,e,n){n=n||{};var i=n.rect=n.rect||{},a=n.contentRect=n.contentRect||{},o=this.dataToPoint(t,e);return i.x=o[0]-this._sw/2,i.y=o[1]-this._sh/2,i.width=this._sw,i.height=this._sh,le.copy(a,i),_c(a,this._lineWidth/2,!0,!0),n},r.prototype.dataToCalendarLayout=function(t,e){var n=this.dataToPoint(t,e);return{center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},r.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},r.prototype.convertToPixel=function(t,e,n){var i=Ix(e);return i===this?i.dataToPoint(n):null},r.prototype.convertToLayout=function(t,e,n){var i=Ix(e);return i===this?i.dataToLayout(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=Ix(e);return i===this?i.pointToData(n):null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var t=this._model.get("range"),e;if(Rt(t)&&t.length===1&&(t=t[0]),Rt(t))e=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);e=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var c=this._getRangeInfo(e);return c.start.time>c.end.time&&e.reverse(),e},r.prototype._getRangeInfo=function(t){var e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],n;e[0].time>e[1].time&&(n=!0,e.reverse());var i=Math.floor(e[1].time/Rx)-Math.floor(e[0].time/Rx)+1,a=new Date(e[0].time),o=a.getDate(),c=e[1].date.getDate();a.setDate(o+i-1);var h=a.getDate();if(h!==c)for(var v=a.getTime()-e[1].time>0?1:-1;(h=a.getDate())!==c&&(a.getTime()-e[1].time)*v>0;)i-=v,a.setDate(h-v);var g=Math.floor((i+e[0].day+6)/7),y=n?-g+1:g-1;return n&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:g,nthWeek:y,fweek:e[0].day,lweek:e[1].day}},r.prototype._getDateByWeeksAndDay=function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||t===0&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var a=(t-1)*7-i.fweek+e,o=new Date(i.start.time);return o.setDate(+i.start.d+a),this.getDateInfo(o)},r.create=function(t,e){var n=[];return t.eachComponent("calendar",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachComponent(function(i,a){Gv({targetModel:a,coordSysType:"calendar",coordSysProvider:YH})}),n},r.dimensions=["time","value"],r})();function Ix(r){var t=r.calendarModel,e=r.seriesModel,n=t?t.coordinateSystem:e?e.coordinateSystem:null;return n}function jmt(r){r.registerComponentModel(zmt),r.registerComponentView(Umt),r.registerCoordinateSystem("calendar",Wmt)}var is={level:1,leaf:2,nonLeaf:3},fs={none:0,all:1,body:2,corner:3};function iC(r,t,e){var n=t[pe[e]].getCell(r);return!n&&Re(r)&&r<0&&(n=t[pe[1-e]].getUnitLayoutInfo(e,Math.round(r))),n}function x7(r){var t=r||[];return t[0]=t[0]||[],t[1]=t[1]||[],t[0][0]=t[0][1]=t[1][0]=t[1][1]=NaN,t}function E7(r,t,e,n,i){n5(r[0],t,i,e,n,0),n5(r[1],t,i,e,n,1)}function n5(r,t,e,n,i,a){r[0]=1/0,r[1]=-1/0;var o=n[a],c=Rt(o)?o:[o],h=c.length,v=!!e;if(h>=1?(i5(r,t,c,v,i,a,0),h>1&&i5(r,t,c,v,i,a,h-1)):r[0]=r[1]=NaN,v){var g=-i[pe[1-a]].getLocatorCount(a),y=i[pe[a]].getLocatorCount(a)-1;e===fs.body?g=Pr(0,g):e===fs.corner&&(y=Bi(-1,y)),y<g&&(g=y=NaN),Wn(r[0])&&(r[0]=g),Wn(r[1])&&(r[1]=y),r[0]=Pr(Bi(r[0],y),g),r[1]=Pr(Bi(r[1],y),g)}}function i5(r,t,e,n,i,a,o){var c=iC(e[o],i,a);if(!c){r[0]=r[1]=NaN;return}var h=c.id[pe[a]],v=h,g=Xmt(c);g&&(v+=g.span[pe[a]]-1),r[0]=Bi(r[0],h,v),r[1]=Pr(r[1],h,v)}function mm(r,t){return Wn(r[t][0])||Wn(r[t][1])}function a5(r,t,e,n){t=t||Ymt;for(var i=0;i<n;i++)t[i]=!1;for(;;){for(var a=!1,i=0;i<n;i++){var o=e[i];!t[i]&&o.cellMergeOwner&&$mt(r,o.locatorRange)&&(t[i]=!0,a=!0)}if(!a)break}}var Ymt=[];function $mt(r,t){return!o5(r[0],t[0])||!o5(r[1],t[1])?!1:(r[0][0]=Bi(r[0][0],t[0][0]),r[0][1]=Pr(r[0][1],t[0][1]),r[1][0]=Bi(r[1][0],t[1][0]),r[1][1]=Pr(r[1][1],t[1][1]),!0)}function o5(r,t){return r[1]>=t[0]&&r[0]<=t[1]}function s5(r,t){r.id.set(t[0][0],t[1][0]),r.span.set(t[0][1]-r.id.x+1,t[1][1]-r.id.y+1)}function qmt(r,t){r[0][0]=t[0][0],r[0][1]=t[0][1],r[1][0]=t[1][0],r[1][1]=t[1][1]}function l5(r,t,e,n){var i=iC(t[n][0],e,n),a=iC(t[n][1],e,n);r[pe[n]]=r[Yr[n]]=NaN,i&&a&&(r[pe[n]]=i.xy,r[Yr[n]]=a.xy+a.wh-i.xy)}function nd(r,t,e,n){return r[pe[t]]=e,r[pe[1-t]]=n,r}function Xmt(r){return r&&(r.type===is.leaf||r.type===is.nonLeaf)?r:null}function i_(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var u5=(function(){function r(t,e){this._cells=[],this._levels=[],this.dim=t,this.dimIdx=t==="x"?0:1,this._model=e,this._uniqueValueGen=Zmt(t);var n=e.get("data",!0);n!=null&&!Rt(n)&&(n=[]),n?this._initByDimModelData(n):this._initBySeriesData()}return r.prototype._initByDimModelData=function(t){var e=this,n=e._cells,i=e._levels,a=[],o=0;e._leavesCount=c(t,0,0),h();return;function c(v,g,y){var m=0;return v&&j(v,function(b,S){var E;$t(b)?E={value:b}:se(b)?(E=b,b.value!=null&&!$t(b.value)&&(E={value:null})):E={value:null};var C={type:is.nonLeaf,ordinal:NaN,level:y,firstLeafLocator:g,id:new ae,span:nd(new ae,e.dimIdx,1,1),option:E,xy:NaN,wh:NaN,dim:e,rect:i_()};o++,(a[g]||(a[g]=[])).push(C),i[y]||(i[y]={type:is.level,xy:NaN,wh:NaN,option:null,id:new ae,dim:e});var A=c(E.children,g,y+1),M=Math.max(1,A);C.span[pe[e.dimIdx]]=M,m+=M,g+=M}),m}function h(){for(var v=[];n.length<o;)for(var g=0;g<a.length;g++){var y=a[g].pop();if(y){y.ordinal=v.length;var m=y.option.value;v.push(m),n.push(y),e._uniqueValueGen.calcDupBase(m)}}e._uniqueValueGen.ensureValueUnique(v,n);var b=e._ordinalMeta=new dv({categories:v,needCollect:!1,deduplication:!1});e._scale=new yh({ordinalMeta:b});for(var S=0;S<e._leavesCount;S++){var E=e._cells[S];E.type=is.leaf,E.span[pe[1-e.dimIdx]]=e._levels.length-E.level}e._initCellsId(),e._initLevelIdOptions()}},r.prototype._initBySeriesData=function(){var t=this;t._leavesCount=0,t._levels=[{type:is.level,xy:NaN,wh:NaN,option:null,id:new ae,dim:t}],t._initLevelIdOptions();var e=t._ordinalMeta=new dv({needCollect:!0,deduplication:!0,onCollect:function(n,i){var a=t._cells[i]={type:is.leaf,ordinal:i,level:0,firstLeafLocator:i,id:new ae,span:nd(new ae,t.dimIdx,1,1),option:{value:n+""},xy:NaN,wh:NaN,dim:t,rect:i_()};t._leavesCount++,t._setCellId(a)}});t._scale=new yh({ordinalMeta:e})},r.prototype._setCellId=function(t){var e=this._levels.length,n=this.dimIdx;nd(t.id,n,t.firstLeafLocator,t.level-e)},r.prototype._initCellsId=function(){var t=this._levels.length,e=this.dimIdx;j(this._cells,function(n){nd(n.id,e,n.firstLeafLocator,n.level-t)})},r.prototype._initLevelIdOptions=function(){var t=this._levels.length,e=this.dimIdx,n=this._model.get("levels",!0);n=Rt(n)?n:[],j(this._levels,function(i,a){nd(i.id,e,0,a-t),i.option=n[a]})},r.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},r.prototype.resetLayoutIterator=function(t,e,n,i){if(t=t||new _l,e===this.dimIdx){var a=this._leavesCount,o=n!=null?Math.max(0,n):0;i=i!=null?Math.min(i,a):a,t.reset(this._cells,o,o+i)}else{var a=this._levels.length,o=n!=null?Math.max(0,n+a):0;i=i!=null?Math.min(i,a):a,t.reset(this._levels,o,o+i)}return t},r.prototype.resetCellIterator=function(t){return(t||new _l).reset(this._cells,0)},r.prototype.resetLevelIterator=function(t){return(t||new _l).reset(this._levels,0)},r.prototype.getLayout=function(t,e,n){var i=this.getUnitLayoutInfo(e,n);t[pe[e]]=i?i.xy:NaN,t[Yr[e]]=i?i.wh:NaN},r.prototype.getUnitLayoutInfo=function(t,e){return t===this.dimIdx?e<this._leavesCount?this._cells[e]:void 0:this._levels[e+this._levels.length]},r.prototype.getCell=function(t){var e=this._scale.parse(t);return Wn(e)?void 0:this._cells[e]},r.prototype.getLocatorCount=function(t){return t===this.dimIdx?this._leavesCount:this._levels.length},r.prototype.getOrdinalMeta=function(){return this._ordinalMeta},r})();function Zmt(r){var t=r.toUpperCase(),e=new RegExp("^"+t+"([0-9]+)$"),n=0;function i(c){var h;c!=null&&(h=c.match(e))&&(n=Pr(n,+h[1]+1))}function a(){return""+t+n++}function o(c,h){for(var v=Kt(),g=0;g<c.length;g++){var y=c[g];(y==null||v.get(y)!=null)&&(c[g]=y=a(),h[g].option=oe({value:y},h[g].option)),v.set(y,!0)}}return{calcDupBase:i,ensureValueUnique:o}}var c5=(function(){function r(t,e,n){this._model=e,this._dims=n,this._kind=t,this._cellMergeOwnerList=[]}return r.prototype._ensureCellMap=function(){var t=this,e=t._cellMap;return e||(e=t._cellMap=Kt(),n()),e;function n(){var a=[],o=t._model.getShallow("data");o&&!Rt(o)&&(o=null),j(o,function(S,E){if(!(!se(S)||!Rt(S.coord))){var C=x7([]),A=null;if(E7(C,A,S.coord,t._dims,S.coordClamp?fs[t._kind]:fs.none),!(mm(C,0)||mm(C,1))){var M=S&&S.mergeCells,L={id:new ae,span:new ae,locatorRange:C,option:S,cellMergeOwner:M};s5(L,C),a.push(L)}}});for(var c=[],h=0;h<a.length;h++){var v=a[h];if(v.cellMergeOwner){var g=v.locatorRange;a5(g,c,a,h);for(var y=0;y<h;y++)c[y]&&(a[y].cellMergeOwner=!1);if(g[0][0]!==v.id.x||g[1][0]!==v.id.y){v.cellMergeOwner=!1;var m=At({},v.option);m.coord=null;var b={id:new ae,span:new ae,locatorRange:g,option:m,cellMergeOwner:!0};s5(b,g),a.push(b)}}}j(a,function(S){var E=i(S.id.x,S.id.y);if(S.cellMergeOwner&&(E.cellMergeOwner=!0,E.span=S.span,E.locatorRange=S.locatorRange,E.spanRect=i_(),t._cellMergeOwnerList.push(E)),!(!S.cellMergeOwner&&!S.option))for(var C=0;C<S.span.y;C++)for(var A=0;A<S.span.x;A++){var M=i(S.id.x+A,S.id.y+C);M.option=S.option,S.cellMergeOwner&&(M.inSpanOf=E)}})}function i(a,o){var c=f5(a,o),h=e.get(c);return h||(h=e.set(c,{id:new ae(a,o),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),h}},r.prototype.getCell=function(t){return this._ensureCellMap().get(f5(t[0],t[1]))},r.prototype.travelExistingCells=function(t){this._ensureCellMap().each(t)},r.prototype.expandRangeByCellMerge=function(t){if(!mm(t,0)&&!mm(t,1)&&t[0][0]===t[0][1]&&t[1][0]===t[1][1]){Ox[0]=t[0][0],Ox[1]=t[1][0];var e=this.getCell(Ox),n=e&&e.inSpanOf;if(n){qmt(t,n.locatorRange);return}}var i=this._cellMergeOwnerList;a5(t,null,i,i.length)},r})(),Ox=[];function f5(r,t){return r+"|"+t}var qM={show:!0,color:yt.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function XM(r){return{color:"none",borderWidth:1,borderColor:r?"none":yt.color.borderTint}}var h5={show:!0,label:qM,itemStyle:XM(!1),silent:void 0,dividerLineStyle:{width:1,color:yt.color.border}},Kmt={label:qM,itemStyle:XM(!1),silent:void 0},Jmt={label:qM,itemStyle:XM(!0),silent:void 0},Qmt={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:h5,y:h5,body:Kmt,corner:Jmt,backgroundStyle:{color:"none",borderColor:yt.color.axisLine,borderWidth:1}},t0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this._dimModels={x:new p5(this.get("x",!0)||{}),y:new p5(this.get("y",!0)||{})};e.x.option.type=e.y.option.type="category";var n=e.x.dim=new u5("x",e.x),i=e.y.dim=new u5("y",e.y),a={x:n,y:i};this._body=new c5("body",new Me(this.getShallow("body")),a),this._corner=new c5("corner",new Me(this.getShallow("corner")),a)},t.prototype.getDimensionModel=function(e){return this._dimModels[e]},t.prototype.getBody=function(){return this._body},t.prototype.getCorner=function(){return this._corner},t.type="matrix",t.layoutMode="box",t.defaultOption=Qmt,t})(Te),p5=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},t})(Me),_m=Math.round,e0t=0,r0t=99,n0t={normal:25,special:100},i0t={normal:50,special:125},a0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n){this.group.removeAll();var i=this.group,a=e.coordinateSystem,o=a.getRect(),c=e.getDimensionModel("x"),h=e.getDimensionModel("y"),v=c.dim,g=h.dim;o0t(i,e,n),s0t(i,e,v,g,n);var y=e.getShallow("borderZ2",!0),m=Jt(y,r0t),b=m-1,S=e.getModel("backgroundStyle").getItemStyle(["borderWidth"]);S.lineWidth=0;var E=e.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);E.fill="none";var C=aC(o.clone(),S,e0t),A=aC(o.clone(),E,m);C.silent=!0,A.silent=!0,i.add(C),i.add(A);var M=v.getUnitLayoutInfo(0,0),L=g.getUnitLayoutInfo(1,0);M&&L&&(v.shouldShow()&&i.add(d5({x1:o.x,y1:L.xy,x2:o.x+o.width,y2:L.xy},c.getModel("dividerLineStyle").getLineStyle(),b)),g.shouldShow()&&i.add(d5({x1:M.xy,y1:o.y,x2:M.xy,y2:o.y+o.height},h.getModel("dividerLineStyle").getLineStyle(),b)))},t.type="matrix",t})(dr);function o0t(r,t,e){n(0),n(1);function n(i){var a=t.getDimensionModel(pe[i]),o=a.dim;if(o.shouldShow())for(var c=a.getModel("itemStyle"),h=a.getModel("label"),v=t.getShallow("tooltip",!0),g=[],y=o.resetCellIterator();y.next();){var m=y.item,b={};le.copy(b,m.rect),ZC(g,m.id.x,m.id.y),T7(g,t,r,e,m.option,c,h,a,b,m.option.value,i0t,v)}}}function s0t(r,t,e,n,i){a("body",t.getBody(),e,n),e.shouldShow()&&n.shouldShow()&&a("corner",t.getCorner(),n,e);function a(o,c,h,v){var g=new Me(t.getShallow(o,!0)),y=g.getModel("itemStyle"),m=g.getModel("label"),b=new _l,S=new _l,E=[],C=t.getShallow("tooltip",!0);for(v.resetLayoutIterator(S,1);S.next();)for(h.resetLayoutIterator(b,0);b.next();){var A=b.item,M=S.item;ZC(E,A.id.x,M.id.y);var L=c.getCell(E);if(!(L&&L.inSpanOf&&L.inSpanOf!==L)){var R={};L&&L.span?le.copy(R,L.spanRect):(A.dim.getLayout(R,0,E[0]),M.dim.getLayout(R,1,E[1]));var O=L?L.option:null;T7(E,t,r,i,O,y,m,g,R,O?O.value:null,n0t,C)}}}}function T7(r,t,e,n,i,a,o,c,h,v,g,y){var m;bm.option=i?i.itemStyle:null,bm.parentModel=a,Pf.option=i,Pf.parentModel=c;var b=Jt(Pf.getShallow("z2"),i&&i.itemStyle?g.special:g.normal),S=y&&y.show,E=aC(h,bm.getItemStyle(),b);e.add(E);var C=Pf.get("cursor");C!=null&&E.attr("cursor",C);var A;if(v!=null){var M=v+"";if(kf.option=i?i.label:null,kf.parentModel=o,kf.ecModel=n,fn(E,{normal:kf},{defaultText:M,autoOverflowArea:!0,layoutRect:ne(E.shape)}),A=E.getTextContent(),A){A.z2=b+1;var L=A.style;if(L&&L.overflow&&L.overflow!=="none"&&L.lineOverflow){var R={};le.copy(R,h),_c(R,(((m=E.style)===null||m===void 0?void 0:m.lineWidth)||0)/2,!0,!0),E.updateInnerText(),A.getLocalTransform(Sm),Ra(Sm,Sm),le.applyTransform(R,R,Sm),A.setClipPath(new we({shape:R}))}}Ts({el:E,componentModel:t,itemName:M,itemTooltipOption:y,formatterParamsExtra:{xyLocator:r.slice()}})}if(A){var O=kf.get("silent");O==null&&(O=!S),A.silent=O,A.ignoreHostSilent=!0}var P=Pf.get("silent");P==null&&(P=!E.style||E.style.fill==="none"||!E.style.fill),E.silent=P,$S(Pf),$S(bm),$S(kf)}var Pf=new Me,bm=new Me,kf=new Me,Sm=[];function aC(r,t,e){var n=t.lineWidth;if(n){var i=r.x+r.width,a=r.y+r.height;r.x=Gi(r.x,n,!0),r.y=Gi(r.y,n,!0),r.width=Gi(i,n,!0)-r.x,r.height=Gi(a,n,!0)-r.y}return new we({shape:r,style:t,z2:e})}function d5(r,t,e){var n=t.lineWidth;return n&&(_m(r.x1*2)===_m(r.x2*2)&&(r.x1=r.x2=Gi(r.x1,n,!0)),_m(r.y1*2)===_m(r.y2*2)&&(r.y1=r.y2=Gi(r.y1,n,!0))),new Wr({shape:r,style:t,silent:!0,z2:e})}var l0t=(function(){function r(t,e,n){this.dimensions=r.dimensions,this.type="matrix",this._model=t;var i=this._dimModels={x:t.getDimensionModel("x"),y:t.getDimensionModel("y")};this._dims={x:i.x.dim,y:i.y.dim},this._resize(t,n)}return r.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},r.create=function(t,e){var n=[];return t.eachComponent("matrix",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachComponent(function(i,a){Gv({targetModel:a,coordSysType:"matrix",coordSysProvider:YH})}),n},r.prototype.getRect=function(){return this._rect},r.prototype._resize=function(t,e){var n=this._dims,i=this._dimModels,a=this._rect=yr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});v5(i,n,a,0),v5(i,n,a,1),g5(0,n),g5(1,n),y5(this._model.getBody(),n),y5(this._model.getCorner(),n)},r.prototype.dataToPoint=function(t,e,n){return n=n||[],this.dataToLayout(t,e,id),n[0]=id.rect.x+id.rect.width/2,n[1]=id.rect.y+id.rect.height/2,n},r.prototype.dataToLayout=function(t,e,n){var i=this._dims;n=n||{};var a=n.rect=n.rect||{};a.x=a.y=a.width=a.height=NaN;var o=n.matrixXYLocatorRange=x7(n.matrixXYLocatorRange);return Rt(t)&&(E7(o,null,t,i,Jt(e&&e.clamp,fs.none)),(!e||!e.ignoreMergeCells)&&((!e||e.clamp!==fs.corner)&&this._model.getBody().expandRangeByCellMerge(o),(!e||e.clamp!==fs.body)&&this._model.getCorner().expandRangeByCellMerge(o)),l5(a,o,i,0),l5(a,o,i,1)),n},r.prototype.pointToData=function(t,e,n){var i=this._dims;return m5(io,0,i,t,e&&e.clamp),m5(io,1,i,t,e&&e.clamp),n=n||[],n[0]=n[1]=NaN,io.y===Nn.inCorner&&io.x===Nn.inBody?_5(io,n,0,i):io.x===Nn.inCorner&&io.y===Nn.inBody?_5(io,n,1,i):(b5(io,n,0,i),b5(io,n,1,i)),n},r.prototype.convertToPixel=function(t,e,n,i){var a=kx(e);return a===this?a.dataToPoint(n,i):void 0},r.prototype.convertToLayout=function(t,e,n,i){var a=kx(e);return a===this?a.dataToLayout(n,i):void 0},r.prototype.convertFromPixel=function(t,e,n,i){var a=kx(e);return a===this?a.pointToData(n,i):void 0},r.prototype.containPoint=function(t){return this._rect.contain(t[0],t[1])},r.dimensions=["x","y","value"],r})(),id={rect:i_()},wm=new _l,Px=new _l;function v5(r,t,e,n){for(var i=1-n,a=t[pe[n]],o=t[pe[i]],c=o.shouldShow(),h=a.resetCellIterator();h.next();)h.item.wh=h.item.xy=NaN;for(var v=o.resetLayoutIterator(null,n);v.next();)v.item.wh=v.item.xy=NaN;for(var g=e[Yr[n]],y=a.getLocatorCount(n)+o.getLocatorCount(n),m=new Me,b=o.resetLevelIterator();b.next();)m.option=b.item.option,m.parentModel=r[pe[i]],C(b.item,c?m.get("levelSize"):0);for(var S=new Me,E=a.resetCellIterator();E.next();)E.item.type===is.leaf&&(S.option=E.item.option,S.parentModel=void 0,C(E.item,S.get("size")));function C(V,k){var F=u0t(k,n,e);Wn(F)||(V.wh=oC(F,g),g=oC(g-V.wh),y--)}var A=y?g/y:0,M=!y&&g>=1,L=e[pe[n]],R=a.getLocatorCount(n)-1,O=new _l;for(o.resetLayoutIterator(O,n);O.next();)P(O.item);for(a.resetLayoutIterator(O,n);O.next();)P(O.item);function P(V){Wn(V.wh)&&(V.wh=A),V.xy=L,V.id[pe[n]]===R&&!M&&(V.wh=e[pe[n]]+e[Yr[n]]-V.xy),L+=V.wh}}function g5(r,t){for(var e=t[pe[r]].resetCellIterator();e.next();){var n=e.item;a_(n.rect,r,n.id,n.span,t),a_(n.rect,1-r,n.id,n.span,t),n.type===is.nonLeaf&&(n.xy=n.rect[pe[r]],n.wh=n.rect[Yr[r]])}}function y5(r,t){r.travelExistingCells(function(e){var n=e.span;if(n){var i=e.spanRect,a=e.id;a_(i,0,a,n,t),a_(i,1,a,n,t)}})}function a_(r,t,e,n,i){r[Yr[t]]=0;var a=e[pe[t]],o=a<0?i[pe[1-t]]:i[pe[t]],c=o.getUnitLayoutInfo(t,e[pe[t]]);if(r[pe[t]]=c.xy,r[Yr[t]]=c.wh,n[pe[t]]>1){var h=o.getUnitLayoutInfo(t,e[pe[t]]+n[pe[t]]-1);r[Yr[t]]=h.xy+h.wh-c.xy}}function u0t(r,t,e){var n=b0(r,e[Yr[t]]);return oC(n,e[Yr[t]])}function oC(r,t){return Math.max(Math.min(r,Jt(t,1/0)),0)}function kx(r){var t=r.matrixModel,e=r.seriesModel,n=t?t.coordinateSystem:e?e.coordinateSystem:null;return n}var Nn={inBody:1,inCorner:2,outside:3},io={x:null,y:null,point:[]};function m5(r,t,e,n,i){var a=e[pe[t]],o=e[pe[1-t]],c=a.getUnitLayoutInfo(t,a.getLocatorCount(t)-1),h=a.getUnitLayoutInfo(t,0),v=o.getUnitLayoutInfo(t,-o.getLocatorCount(t)),g=o.shouldShow()?o.getUnitLayoutInfo(t,-1):null,y=r.point[t]=n[t];if(!h&&!g){r[pe[t]]=Nn.outside;return}if(i===fs.body){h?(r[pe[t]]=Nn.inBody,y=Bi(c.xy+c.wh,Pr(h.xy,y)),r.point[t]=y):r[pe[t]]=Nn.outside;return}else if(i===fs.corner){g?(r[pe[t]]=Nn.inCorner,y=Bi(g.xy+g.wh,Pr(v.xy,y)),r.point[t]=y):r[pe[t]]=Nn.outside;return}var m=h?h.xy:g?g.xy+g.wh:NaN,b=v?v.xy:m,S=c?c.xy+c.wh:m;if(y<b){if(!i){r[pe[t]]=Nn.outside;return}y=b}else if(y>S){if(!i){r[pe[t]]=Nn.outside;return}y=S}r.point[t]=y,r[pe[t]]=m<=y&&y<=S?Nn.inBody:b<=y&&y<=m?Nn.inCorner:Nn.outside}function _5(r,t,e,n){var i=1-e;if(r[pe[e]]!==Nn.outside)for(n[pe[e]].resetCellIterator(Px);Px.next();){var a=Px.item;if(S5(r.point[e],a.rect,e)&&S5(r.point[i],a.rect,i)){t[e]=a.ordinal,t[i]=a.id[pe[i]];return}}}function b5(r,t,e,n){if(r[pe[e]]!==Nn.outside){var i=r[pe[e]]===Nn.inCorner?n[pe[1-e]]:n[pe[e]];for(i.resetLayoutIterator(wm,e);wm.next();)if(c0t(r.point[e],wm.item)){t[e]=wm.item.id[pe[e]];return}}}function c0t(r,t){return t.xy<=r&&r<=t.xy+t.wh}function S5(r,t,e){return t[pe[e]]<=r&&r<=t[pe[e]]+t[Yr[e]]}function f0t(r){r.registerComponentModel(t0t),r.registerComponentView(a0t),r.registerCoordinateSystem("matrix",l0t)}function h0t(r,t){var e=r.existing;if(t.id=r.keyInfo.id,!t.type&&e&&(t.type=e.type),t.parentId==null){var n=t.parentOption;n?t.parentId=n.id:e&&(t.parentId=e.parentId)}t.parentOption=null}function w5(r,t){var e;return j(t,function(n){r[n]!=null&&r[n]!=="auto"&&(e=!0)}),e}function p0t(r,t,e){var n=At({},e),i=r[t],a=e.$action||"merge";a==="merge"?i?(ge(i,n,!0),Oo(i,n,{ignoreSize:!0}),KH(e,i),xm(e,i),xm(e,i,"shape"),xm(e,i,"style"),xm(e,i,"extra"),e.clipPath=i.clipPath):r[t]=n:a==="replace"?r[t]=n:a==="remove"&&i&&(r[t]=null)}var C7=["transition","enterFrom","leaveTo"],d0t=C7.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function xm(r,t,e){if(e&&(!r[e]&&t[e]&&(r[e]={}),r=r[e],t=t[e]),!(!r||!t))for(var n=e?C7:d0t,i=0;i<n.length;i++){var a=n[i];r[a]==null&&t[a]!=null&&(r[a]=t[a])}}function v0t(r,t){if(r&&(r.hv=t.hv=[w5(t,["left","right"]),w5(t,["top","bottom"])],r.type==="group")){var e=r,n=t;e.width==null&&(e.width=n.width=0),e.height==null&&(e.height=n.height=0)}}var g0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,e,n),this.option.elements=i},t.prototype.optionUpdated=function(e,n){var i=this.option,a=(n?i:e).elements,o=i.elements=n?[]:i.elements,c=[];this._flatten(a,c,null);var h=BB(o,c,"normalMerge"),v=this._elOptionsToUpdate=[];j(h,function(g,y){var m=g.newOption;m&&(v.push(m),h0t(g,m),p0t(o,y,m),v0t(o[y],m))},this),i.elements=je(o,function(g){return g&&delete g.$action,g!=null})},t.prototype._flatten=function(e,n,i){j(e,function(a){if(a){i&&(a.parentOption=i),n.push(a);var o=a.children;o&&o.length&&this._flatten(o,n,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t})(Te),x5={path:null,compoundPath:null,group:re,image:wn,text:Oe},ea=xe(),y0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._elMap=Kt()},t.prototype.render=function(e,n,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},t.prototype._updateElements=function(e){var n=e.useElOptionsToUpdate();if(n){var i=this._elMap,a=this.group,o=e.get("z"),c=e.get("zlevel");j(n,function(h){var v=en(h.id,null),g=v!=null?i.get(v):null,y=en(h.parentId,null),m=y!=null?i.get(y):a,b=h.type,S=h.style;b==="text"&&S&&h.hv&&h.hv[1]&&(S.textVerticalAlign=S.textBaseline=S.verticalAlign=S.align=null);var E=h.textContent,C=h.textConfig;if(S&&n7(S,b,!!C,!!E)){var A=i7(S,b,!0);!C&&A.textConfig&&(C=h.textConfig=A.textConfig),!E&&A.textContent&&(E=A.textContent)}var M=m0t(h),L=h.$action||"merge",R=L==="merge",O=L==="replace";if(R){var P=!g,V=g;P?V=E5(v,m,h.type,i):(V&&(ea(V).isNew=!1),l7(V)),V&&(Km(V,M,e,{isInit:P}),T5(V,h,o,c))}else if(O){t0(g,h,i,e);var k=E5(v,m,h.type,i);k&&(Km(k,M,e,{isInit:!0}),T5(k,h,o,c))}else L==="remove"&&(o7(g,h),t0(g,h,i,e));var F=i.get(v);if(F&&E)if(R){var H=F.getTextContent();H?H.attr(E):F.setTextContent(new Oe(E))}else O&&F.setTextContent(new Oe(E));if(F){var W=h.clipPath;if(W){var q=W.type,Y=void 0,P=!1;if(R){var Z=F.getClipPath();P=!Z||ea(Z).type!==q,Y=P?sC(q):Z}else O&&(P=!0,Y=sC(q));F.setClipPath(Y),Km(Y,W,e,{isInit:P}),e_(Y,W.keyframeAnimation,e)}var et=ea(F);F.setTextConfig(C),et.option=h,_0t(F,e,h),Ts({el:F,componentModel:e,itemName:F.name,itemTooltipOption:h.tooltip}),e_(F,h.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,n){for(var i=e.option.elements,a=this.group,o=this._elMap,c=n.getWidth(),h=n.getHeight(),v=["x","y"],g=0;g<i.length;g++){var y=i[g],m=en(y.id,null),b=m!=null?o.get(m):null;if(!(!b||!b.isGroup)){var S=b.parent,E=S===a,C=ea(b),A=ea(S);C.width=Yt(C.option.width,E?c:A.width)||0,C.height=Yt(C.option.height,E?h:A.height)||0}}for(var g=i.length-1;g>=0;g--){var y=i[g],m=en(y.id,null),b=m!=null?o.get(m):null;if(b){var S=b.parent,A=ea(S),M=S===a?{width:c,height:h}:{width:A.width,height:A.height},L={},R=$_(b,y,M,null,{hv:y.hv,boundingMode:y.bounding},L);if(!ea(b).isNew&&R){for(var O=y.transition,P={},V=0;V<v.length;V++){var k=v[V],F=L[k];O&&(pc(O)||ve(O,k)>=0)?P[k]=F:b[k]=F}Pe(b,P,e,0)}else b.attr(L)}}},t.prototype._clear=function(){var e=this,n=this._elMap;n.each(function(i){t0(i,ea(i).option,n,e._lastGraphicModel)}),this._elMap=Kt()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t})(dr);function sC(r){var t=Xt(x5,r)?x5[r]:T0(r),e=new t({});return ea(e).type=r,e}function E5(r,t,e,n){var i=sC(e);return t.add(i),n.set(r,i),ea(i).id=r,ea(i).isNew=!0,i}function t0(r,t,e,n){var i=r&&r.parent;i&&(r.type==="group"&&r.traverse(function(a){t0(a,t,e,n)}),lb(r,t,n),e.removeKey(ea(r).id))}function T5(r,t,e,n){r.isGroup||j([["cursor",ua.prototype.cursor],["zlevel",n||0],["z",e||0],["z2",0]],function(i){var a=i[0];Xt(t,a)?r[a]=Jt(t[a],i[1]):r[a]==null&&(r[a]=i[1])}),j(De(t),function(i){if(i.indexOf("on")===0){var a=t[i];r[i]=ee(a)?a:null}}),Xt(t,"draggable")&&(r.draggable=t.draggable),t.name!=null&&(r.name=t.name),t.id!=null&&(r.id=t.id)}function m0t(r){return r=At({},r),j(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat($H),function(t){delete r[t]}),r}function _0t(r,t,e){var n=ce(r).eventData;!r.silent&&!r.ignore&&!n&&(n=ce(r).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:r.name}),n&&(n.info=e.info)}function b0t(r){r.registerComponentModel(g0t),r.registerComponentView(y0t),r.registerPreprocessor(function(t){var e=t.graphic;Rt(e)?!e[0]||!e[0].elements?t.graphic=[{elements:e}]:t.graphic=[t.graphic[0]]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}var C5=["x","y","radius","angle","single"],S0t=["cartesian2d","polar","singleAxis"];function w0t(r){var t=r.get("coordinateSystem");return ve(S0t,t)>=0}function dl(r){return r+"Axis"}function x0t(r,t){var e=Kt(),n=[],i=Kt();r.eachComponent({mainType:"dataZoom",query:t},function(g){i.get(g.uid)||c(g)});var a;do a=!1,r.eachComponent("dataZoom",o);while(a);function o(g){!i.get(g.uid)&&h(g)&&(c(g),a=!0)}function c(g){i.set(g.uid,!0),n.push(g),v(g)}function h(g){var y=!1;return g.eachTargetAxis(function(m,b){var S=e.get(m);S&&S[b]&&(y=!0)}),y}function v(g){g.eachTargetAxis(function(y,m){(e.get(y)||e.set(y,[]))[m]=!0})}return n}function A7(r){var t=r.ecModel,e={infoList:[],infoMap:Kt()};return r.eachTargetAxis(function(n,i){var a=t.getComponent(dl(n),i);if(a){var o=a.getCoordSysModel();if(o){var c=o.uid,h=e.infoMap.get(c);h||(h={model:o,axisModels:[]},e.infoList.push(h),e.infoMap.set(c,h)),h.axisModels.push(a)}}}),e}var Vx=(function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},r})(),Tv=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,n,i){var a=A5(e);this.settledOption=a,this.mergeDefaultAndTheme(e,i),this._doInit(a)},t.prototype.mergeOption=function(e){var n=A5(e);ge(this.option,e,!0),ge(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(e){var n=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;j([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),n=this._targetAxisInfoMap=Kt(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var n=!1;return j(C5,function(i){var a=this.getReferringComponents(dl(i),nrt);if(a.specified){n=!0;var o=new Vx;j(a.models,function(c){o.add(c.componentIndex)}),e.set(i,o)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(e,n){var i=this.ecModel,a=!0;if(a){var o=n==="vertical"?"y":"x",c=i.findComponents({mainType:o+"Axis"});h(c,o)}if(a){var c=i.findComponents({mainType:"singleAxis",filter:function(g){return g.get("orient",!0)===n}});h(c,"single")}function h(v,g){var y=v[0];if(y){var m=new Vx;if(m.add(y.componentIndex),e.set(g,m),a=!1,g==="x"||g==="y"){var b=y.getReferringComponents("grid",Cr).models[0];b&&j(v,function(S){y.componentIndex!==S.componentIndex&&b===S.getReferringComponents("grid",Cr).models[0]&&m.add(S.componentIndex)})}}}a&&j(C5,function(v){if(a){var g=i.findComponents({mainType:dl(v),filter:function(m){return m.get("type",!0)==="category"}});if(g[0]){var y=new Vx;y.add(g[0].componentIndex),e.set(v,y),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(n){!e&&(e=n)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var n=this._rangePropMode,i=this.get("rangeMode");j([["start","startValue"],["end","endValue"]],function(a,o){var c=e[a[0]]!=null,h=e[a[1]]!=null;c&&!h?n[o]="percent":!c&&h?n[o]="value":i?n[o]=i[o]:c&&(n[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(n,i){e==null&&(e=this.ecModel.getComponent(dl(n),i))},this),e},t.prototype.eachTargetAxis=function(e,n){this._targetAxisInfoMap.each(function(i,a){j(i.indexList,function(o){e.call(n,a,o)})})},t.prototype.getAxisProxy=function(e,n){var i=this.getAxisModel(e,n);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,n){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[n])return this.ecModel.getComponent(dl(e),n)},t.prototype.setRawRange=function(e){var n=this.option,i=this.settledOption;j([["start","startValue"],["end","endValue"]],function(a){(e[a[0]]!=null||e[a[1]]!=null)&&(n[a[0]]=i[a[0]]=e[a[0]],n[a[1]]=i[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var n=this.option;j(["start","startValue","end","endValue"],function(i){n[i]=e[i]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,n){if(e==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(e,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],c=this._targetAxisInfoMap.get(o),h=0;h<c.indexList.length;h++){var v=this.getAxisProxy(o,c.indexList[h]);if(v.hostedBy(this))return v;n||(n=v)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t})(Te);function A5(r){var t={};return j(["start","end","startValue","endValue","throttle"],function(e){r.hasOwnProperty(e)&&(t[e]=r[e])}),t}var E0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t})(Tv),ZM=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this.dataZoomModel=e,this.ecModel=n,this.api=i},t.type="dataZoom",t})(dr),T0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t})(ZM),jf=j,M5=sa,C0t=(function(){function r(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}return r.prototype.hostedBy=function(t){return this._dataZoomModel===t},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(w0t(e)){var n=dl(this._dimName),i=e.getReferringComponents(n,Cr).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}},this),t},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return ne(this._minMaxSpan)},r.prototype.calculateDataWindow=function(t){var e=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],c=[],h=[],v;jf(["start","end"],function(m,b){var S=t[m],E=t[m+"Value"];a[b]==="percent"?(S==null&&(S=o[b]),E=i.parse(We(S,o,e))):(v=!0,E=E==null?e[b]:i.parse(E),S=We(E,e,o)),h[b]=E==null||isNaN(E)?e[b]:E,c[b]=S==null||isNaN(S)?o[b]:S}),M5(h),M5(c);var g=this._minMaxSpan;v?y(h,c,e,o,!1):y(c,h,o,e,!0);function y(m,b,S,E,C){var A=C?"Span":"ValueSpan";Ml(0,m,S,"all",g["min"+A],g["max"+A]);for(var M=0;M<2;M++)b[M]=We(m[M],S,E,!0),C&&(b[M]=i.parse(b[M]))}return{valueWindow:h,percentWindow:c}},r.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=A0t(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),o=this._valueWindow;if(a==="none")return;jf(i,function(h){var v=h.getData(),g=v.mapDimensionsAll(n);if(g.length){if(a==="weakFilter"){var y=v.getStore(),m=Pt(g,function(b){return v.getDimensionIndex(b)},v);v.filterSelf(function(b){for(var S,E,C,A=0;A<g.length;A++){var M=y.get(m[A],b),L=!isNaN(M),R=M<o[0],O=M>o[1];if(L&&!R&&!O)return!0;L&&(C=!0),R&&(S=!0),O&&(E=!0)}return C&&S&&E})}else jf(g,function(b){if(a==="empty")h.setData(v=v.map(b,function(E){return c(E)?E:NaN}));else{var S={};S[b]=o,v.selectRange(S)}});jf(g,function(b){v.setApproximateExtent(o,b)})}});function c(h){return h>=o[0]&&h<=o[1]}},r.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;jf(["min","max"],function(i){var a=e.get(i+"Span"),o=e.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=We(n[0]+o,n,[0,100],!0):a!=null&&(o=We(a,[0,100],n,!0)-n[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=o},this)},r.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var i=NB(n,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;e[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),e[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},r})();function A0t(r,t,e){var n=[1/0,-1/0];jf(e,function(o){alt(n,o.getData(),t)});var i=r.getAxisModel(),a=C6(i.axis.scale,i,n).calculate();return[a.min,a.max]}var M0t={getTargetSeries:function(r){function t(i){r.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,c){var h=r.getComponent(dl(o),c);i(o,c,h,a)})})}t(function(i,a,o,c){o.__dzAxisProxy=null});var e=[];t(function(i,a,o,c){o.__dzAxisProxy||(o.__dzAxisProxy=new C0t(i,a,c,r),e.push(o.__dzAxisProxy))});var n=Kt();return j(e,function(i){j(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(r,t){r.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).reset(e)}),e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).filterData(e,t)})}),r.eachComponent("dataZoom",function(e){var n=e.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function D0t(r){r.registerAction("dataZoom",function(t,e){var n=x0t(e,t);j(n,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var D5=!1;function KM(r){D5||(D5=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,M0t),D0t(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function L0t(r){r.registerComponentModel(E0t),r.registerComponentView(T0t),KM(r)}var na=(function(){function r(){}return r})(),M7={};function Yf(r,t){M7[r]=t}function D7(r){return M7[r]}var N0t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;j(this.option.feature,function(n,i){var a=D7(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),ge(n,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:yt.color.border,borderRadius:0,borderWidth:0,padding:yt.size.m,itemSize:15,itemGap:yt.size.s,showTitle:!0,iconStyle:{borderColor:yt.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:yt.color.accent50}},tooltip:{show:!1,position:"bottom"}},t})(Te);function L7(r,t){var e=kv(t.get("padding")),n=t.getItemStyle(["color","opacity"]);n.fill=t.get("backgroundColor");var i=new we({shape:{x:r.x-e[3],y:r.y-e[0],width:r.width+e[1]+e[3],height:r.height+e[0]+e[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1});return i}var R0t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i,a){var o=this.group;if(o.removeAll(),!e.get("show"))return;var c=+e.get("itemSize"),h=e.get("orient")==="vertical",v=e.get("feature")||{},g=this._features||(this._features={}),y=[];j(v,function(M,L){y.push(L)}),new _s(this._featureNames||[],y).add(m).update(m).remove(de(m,null)).execute(),this._featureNames=y;function m(M,L){var R=y[M],O=y[L],P=v[R],V=new Me(P,e,e.ecModel),k;if(a&&a.newTitle!=null&&a.featureName===R&&(P.title=a.newTitle),R&&!O){if(I0t(R))k={onclick:V.option.onclick,featureName:R};else{var F=D7(R);if(!F)return;k=new F}g[R]=k}else if(k=g[O],!k)return;k.uid=Ph("toolbox-feature"),k.model=V,k.ecModel=n,k.api=i;var H=k instanceof na;if(!R&&O){H&&k.dispose&&k.dispose(n,i);return}if(!V.get("show")||H&&k.unusable){H&&k.remove&&k.remove(n,i);return}b(V,k,R),V.setIconStatus=function(W,q){var Y=this.option,Z=this.iconPaths;Y.iconStatus=Y.iconStatus||{},Y.iconStatus[W]=q,Z[W]&&(q==="emphasis"?ys:ms)(Z[W])},k instanceof na&&k.render&&k.render(V,n,i,a)}function b(M,L,R){var O=M.getModel("iconStyle"),P=M.getModel(["emphasis","iconStyle"]),V=L instanceof na&&L.getIcons?L.getIcons():M.get("icon"),k=M.get("title")||{},F,H;$t(V)?(F={},F[R]=V):F=V,$t(k)?(H={},H[R]=k):H=k;var W=M.iconPaths={};j(F,function(q,Y){var Z=Pv(q,{},{x:-c/2,y:-c/2,width:c,height:c});Z.setStyle(O.getItemStyle());var et=Z.ensureState("emphasis");et.style=P.getItemStyle();var J=new Oe({style:{text:H[Y],align:P.get("textAlign"),borderRadius:P.get("textBorderRadius"),padding:P.get("textPadding"),fill:null,font:mA({fontStyle:P.get("textFontStyle"),fontFamily:P.get("textFontFamily"),fontSize:P.get("textFontSize"),fontWeight:P.get("textFontWeight")},n)},ignore:!0});Z.setTextContent(J),Ts({el:Z,componentModel:e,itemName:Y,formatterParamsExtra:{title:H[Y]}}),Z.__title=H[Y],Z.on("mouseover",function(){var it=P.getItemStyle(),rt=h?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";J.setStyle({fill:P.get("textFill")||it.fill||it.stroke||yt.color.neutral99,backgroundColor:P.get("textBackgroundColor")}),Z.setTextConfig({position:P.get("textPosition")||rt}),J.ignore=!e.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){M.get(["iconStatus",Y])!=="emphasis"&&i.leaveEmphasis(this),J.hide()}),(M.get(["iconStatus",Y])==="emphasis"?ys:ms)(Z),o.add(Z),Z.on("click",qt(L.onclick,L,n,i,Y)),W[Y]=Z})}var S=an(e,i).refContainer,E=e.getBoxLayoutParams(),C=e.get("padding"),A=yr(E,S,C);fc(e.get("orient"),o,e.get("itemGap"),A.width,A.height),$_(o,E,S,C),o.add(L7(o.getBoundingRect(),e)),h||o.eachChild(function(M){var L=M.__title,R=M.ensureState("emphasis"),O=R.textConfig||(R.textConfig={}),P=M.getTextContent(),V=P&&P.ensureState("emphasis");if(V&&!ee(V)&&L){var k=V.style||(V.style={}),F=L_(L,Oe.makeFont(k)),H=M.x+o.x,W=M.y+o.y+c,q=!1;W+F.height>i.getHeight()&&(O.position="top",q=!0);var Y=q?-5-F.height:c+10;H+F.width/2>i.getWidth()?(O.position=["100%",Y],k.align="right"):H-F.width/2<0&&(O.position=[0,Y],k.align="left")}})},t.prototype.updateView=function(e,n,i,a){j(this._features,function(o){o instanceof na&&o.updateView&&o.updateView(o.model,n,i,a)})},t.prototype.remove=function(e,n){j(this._features,function(i){i instanceof na&&i.remove&&i.remove(e,n)}),this.group.removeAll()},t.prototype.dispose=function(e,n){j(this._features,function(i){i instanceof na&&i.dispose&&i.dispose(e,n)})},t.type="toolbox",t})(dr);function I0t(r){return r.indexOf("my")===0}var O0t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){var i=this.model,a=i.get("name")||e.get("title.0.text")||"echarts",o=n.getZr().painter.getType()==="svg",c=o?"svg":i.get("type",!0)||"png",h=n.getConnectedDataURL({type:c,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||yt.color.neutral00,connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),v=Ae.browser;if(typeof MouseEvent=="function"&&(v.newEdge||!v.ie&&!v.edge)){var g=document.createElement("a");g.download=a+"."+c,g.target="_blank",g.href=h;var y=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});g.dispatchEvent(y)}else if(window.navigator.msSaveOrOpenBlob||o){var m=h.split(","),b=m[0].indexOf("base64")>-1,S=o?decodeURIComponent(m[1]):m[1];b&&(S=window.atob(S));var E=a+"."+c;if(window.navigator.msSaveOrOpenBlob){for(var C=S.length,A=new Uint8Array(C);C--;)A[C]=S.charCodeAt(C);var M=new Blob([A]);window.navigator.msSaveOrOpenBlob(M,E)}else{var L=document.createElement("iframe");document.body.appendChild(L);var R=L.contentWindow,O=R.document;O.open("image/svg+xml","replace"),O.write(S),O.close(),R.focus(),O.execCommand("SaveAs",!0,E),document.body.removeChild(L)}}else{var P=i.get("lang"),V='<body style="margin:0;"><img src="'+h+'" style="max-width:100%;" title="'+(P&&P[0]||"")+'" /></body>',k=window.open();k.document.write(V),k.document.title=a}},t.getDefaultOption=function(e){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:yt.color.neutral00,name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},t})(na),L5="__ec_magicType_stack__",P0t=[["line","bar"],["stack"]],k0t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,n=e.get("icon"),i={};return j(e.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},t.getDefaultOption=function(e){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},t.prototype.onclick=function(e,n,i){var a=this.model,o=a.get(["seriesIndex",i]);if(N5[i]){var c={series:[]},h=function(y){var m=y.subType,b=y.id,S=N5[i](m,b,y,a);S&&(oe(S,y.option),c.series.push(S));var E=y.coordinateSystem;if(E&&E.type==="cartesian2d"&&(i==="line"||i==="bar")){var C=E.getAxesByScale("ordinal")[0];if(C){var A=C.dim,M=A+"Axis",L=y.getReferringComponents(M,Cr).models[0],R=L.componentIndex;c[M]=c[M]||[];for(var O=0;O<=R;O++)c[M][R]=c[M][R]||{};c[M][R].boundaryGap=i==="bar"}}};j(P0t,function(y){ve(y,i)>=0&&j(y,function(m){a.setIconStatus(m,"normal")})}),a.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},h);var v,g=i;i==="stack"&&(v=ge({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(g="tiled")),n.dispatchAction({type:"changeMagicType",currentType:g,newOption:c,newTitle:v,featureName:"magicType"})}},t})(na),N5={line:function(r,t,e,n){if(r==="bar")return ge({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(r,t,e,n){if(r==="line")return ge({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(r,t,e,n){var i=e.get("stack")===L5;if(r==="line"||r==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),ge({id:t,stack:i?"":L5},n.get(["option","stack"])||{},!0)}};Vo({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,t){t.mergeOption(r.newOption)});var ub=new Array(60).join("-"),Th="	";function V0t(r){var t={},e=[],n=[];return r.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var c=o.dim+"_"+o.index;t[c]||(t[c]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),t[c].series.push(i)}else e.push(i)}else e.push(i)}),{seriesGroupByCategoryAxis:t,other:e,meta:n}}function G0t(r){var t=[];return j(r,function(e,n){var i=e.categoryAxis,a=e.valueAxis,o=a.dim,c=[" "].concat(Pt(e.series,function(b){return b.name})),h=[i.model.getCategories()];j(e.series,function(b){var S=b.getRawData();h.push(b.getRawData().mapArray(S.mapDimension(o),function(E){return E}))});for(var v=[c.join(Th)],g=0;g<h[0].length;g++){for(var y=[],m=0;m<h.length;m++)y.push(h[m][g]);v.push(y.join(Th))}t.push(v.join(`
`))}),t.join(`

`+ub+`

`)}function F0t(r){return Pt(r,function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],c=e.getName(o),h=0;h<a-1;h++)i[h]=arguments[h];n.push((c?c+Th:"")+i.join(Th))}),n.join(`
`)}).join(`

`+ub+`

`)}function B0t(r){var t=V0t(r);return{value:je([G0t(t.seriesGroupByCategoryAxis),F0t(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+ub+`

`),meta:t.meta}}function o_(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function H0t(r){var t=r.slice(0,r.indexOf(`
`));if(t.indexOf(Th)>=0)return!0}var lC=new RegExp("["+Th+"]+","g");function z0t(r){for(var t=r.split(/\n+/g),e=o_(t.shift()).split(lC),n=[],i=Pt(e,function(h){return{name:h,data:[]}}),a=0;a<t.length;a++){var o=o_(t[a]).split(lC);n.push(o.shift());for(var c=0;c<o.length;c++)i[c]&&(i[c].data[a]=o[c])}return{series:i,categories:n}}function U0t(r){for(var t=r.split(/\n+/g),e=o_(t.shift()),n=[],i=0;i<t.length;i++){var a=o_(t[i]);if(a){var o=a.split(lC),c="",h=void 0,v=!1;isNaN(o[0])?(v=!0,c=o[0],o=o.slice(1),n[i]={name:c,value:[]},h=n[i].value):h=n[i]=[];for(var g=0;g<o.length;g++)h.push(+o[g]);h.length===1&&(v?n[i].value=h[0]:n[i]=h[0])}}return{name:e,data:n}}function W0t(r,t){var e=r.split(new RegExp(`
*`+ub+`
*`,"g")),n={series:[]};return j(e,function(i,a){if(H0t(i)){var o=z0t(i),c=t[a],h=c.axisDim+"Axis";c&&(n[h]=n[h]||[],n[h][c.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=U0t(i);n.series.push(o)}}),n}var j0t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||yt.color.neutral00;var c=document.createElement("h4"),h=a.get("lang")||[];c.innerHTML=h[0]||a.get("title"),c.style.cssText="margin:10px 20px",c.style.color=a.get("textColor");var v=document.createElement("div"),g=document.createElement("textarea");v.style.cssText="overflow:auto";var y=a.get("optionToContent"),m=a.get("contentToOption"),b=B0t(e);if(ee(y)){var S=y(n.getOption());$t(S)?v.innerHTML=S:ch(S)&&v.appendChild(S)}else{g.readOnly=a.get("readOnly");var E=g.style;E.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",E.color=a.get("textColor"),E.borderColor=a.get("textareaBorderColor"),E.backgroundColor=a.get("textareaColor"),g.value=b.value,v.appendChild(g)}var C=b.meta,A=document.createElement("div");A.style.cssText="position:absolute;bottom:5px;left:0;right:0";var M="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",L=document.createElement("div"),R=document.createElement("div");M+=";background-color:"+a.get("buttonColor"),M+=";color:"+a.get("buttonTextColor");var O=this;function P(){i.removeChild(o),O._dom=null}bE(L,"click",P),bE(R,"click",function(){if(m==null&&y!=null||m!=null&&y==null){P();return}var V;try{ee(m)?V=m(v,n.getOption()):V=W0t(g.value,C)}catch(k){throw P(),new Error("Data view format error "+k)}V&&n.dispatchAction({type:"changeDataView",newOption:V}),P()}),L.innerHTML=h[1],R.innerHTML=h[2],R.style.cssText=L.style.cssText=M,!a.get("readOnly")&&A.appendChild(R),A.appendChild(L),o.appendChild(c),o.appendChild(v),o.appendChild(A),v.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},t.prototype.remove=function(e,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.getDefaultOption=function(e){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:yt.color.background,textColor:yt.color.primary,textareaColor:yt.color.background,textareaBorderColor:yt.color.border,buttonColor:yt.color.accent50,buttonTextColor:yt.color.neutral00};return n},t})(na);function Y0t(r,t){return Pt(r,function(e,n){var i=t&&t[n];if(se(i)&&!Rt(i)){var a=se(e)&&!Rt(e);a||(e={value:e});var o=i.name!=null&&e.name==null;return e=oe(e,i),o&&delete e.name,e}else return e})}Vo({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,t){var e=[];j(r.newOption.series,function(n){var i=t.getSeriesByName(n.name)[0];if(!i)e.push(At({type:"scatter"},n));else{var a=i.get("data");e.push({name:n.name,data:Y0t(n.data,a)})}}),t.mergeOption(oe({series:e},r.newOption))});var N7=j,R7=xe();function $0t(r,t){var e=JM(r);N7(t,function(n,i){for(var a=e.length-1;a>=0;a--){var o=e[a];if(o[i])break}if(a<0){var c=r.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(c){var h=c.getPercentRange();e[0][i]={dataZoomId:i,start:h[0],end:h[1]}}}}),e.push(t)}function q0t(r){var t=JM(r),e=t[t.length-1];t.length>1&&t.pop();var n={};return N7(e,function(i,a){for(var o=t.length-1;o>=0;o--)if(i=t[o][a],i){n[a]=i;break}}),n}function X0t(r){R7(r).snapshots=null}function Z0t(r){return JM(r).length}function JM(r){var t=R7(r);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var K0t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){X0t(e),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return n},t})(na);Vo({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,t){t.resetOption("recreate")});var J0t=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],QM=(function(){function r(t,e,n){var i=this;this._targetInfoList=[];var a=R5(e,t);j(Q0t,function(o,c){(!n||!n.include||ve(n.include,c)>=0)&&o(a,i._targetInfoList)})}return r.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var o=Gx[n.brushType](0,a,i);n.__rangeOffset={offset:k5[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},r.prototype.matchOutputRanges=function(t,e,n){j(t,function(i){var a=this.findTargetInfo(i,e);a&&a!==!0&&j(a.coordSyses,function(o){var c=Gx[i.brushType](1,o,i.range,!0);n(i,c.values,o,e)})},this)},r.prototype.setInputRanges=function(t,e){j(t,function(n){var i=this.findTargetInfo(n,e);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=Gx[n.brushType](0,i.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?k5[n.brushType](a.values,o.offset,t_t(a.xyMinMax,o.xyMinMax)):a.values}},this)},r.prototype.makePanelOpts=function(t,e){return Pt(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:V8(i),isTargetByCursor:F8(i,t,n.coordSysModel),getLinearBrushOtherExtent:G8(i)}})},r.prototype.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return i===!0||i&&ve(i.coordSyses,e.coordinateSystem)>=0},r.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=R5(e,t),a=0;a<n.length;a++){var o=n[a],c=t.panelId;if(c){if(o.panelId===c)return o}else for(var h=0;h<I5.length;h++)if(I5[h](i,o))return o}return!0},r})();function uC(r){return r[0]>r[1]&&r.reverse(),r}function R5(r,t){return ih(r,t,{includeMainTypes:J0t})}var Q0t={grid:function(r,t){var e=r.xAxisModels,n=r.yAxisModels,i=r.gridModels,a=Kt(),o={},c={};!e&&!n&&!i||(j(e,function(h){var v=h.axis.grid.model;a.set(v.id,v),o[v.id]=!0}),j(n,function(h){var v=h.axis.grid.model;a.set(v.id,v),c[v.id]=!0}),j(i,function(h){a.set(h.id,h),o[h.id]=!0,c[h.id]=!0}),a.each(function(h){var v=h.coordinateSystem,g=[];j(v.getCartesians(),function(y,m){(ve(e,y.getAxis("x").model)>=0||ve(n,y.getAxis("y").model)>=0)&&g.push(y)}),t.push({panelId:"grid--"+h.id,gridModel:h,coordSysModel:h,coordSys:g[0],coordSyses:g,getPanelRect:O5.grid,xAxisDeclared:o[h.id],yAxisDeclared:c[h.id]})}))},geo:function(r,t){j(r.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:O5.geo})})}},I5=[function(r,t){var e=r.xAxisModel,n=r.yAxisModel,i=r.gridModel;return!i&&e&&(i=e.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===t.gridModel},function(r,t){var e=r.geoModel;return e&&e===t.geoModel}],O5={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,t=r.getBoundingRect().clone();return t.applyTransform(cc(r)),t}},Gx={lineX:de(P5,0),lineY:de(P5,1),rect:function(r,t,e,n){var i=r?t.pointToData([e[0][0],e[1][0]],n):t.dataToPoint([e[0][0],e[1][0]],n),a=r?t.pointToData([e[0][1],e[1][1]],n):t.dataToPoint([e[0][1],e[1][1]],n),o=[uC([i[0],a[0]]),uC([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(r,t,e,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=Pt(e,function(o){var c=r?t.pointToData(o,n):t.dataToPoint(o,n);return i[0][0]=Math.min(i[0][0],c[0]),i[1][0]=Math.min(i[1][0],c[1]),i[0][1]=Math.max(i[0][1],c[0]),i[1][1]=Math.max(i[1][1],c[1]),c});return{values:a,xyMinMax:i}}};function P5(r,t,e,n){var i=e.getAxis(["x","y"][r]),a=uC(Pt([0,1],function(c){return t?i.coordToData(i.toLocalCoord(n[c]),!0):i.toGlobalCoord(i.dataToCoord(n[c]))})),o=[];return o[r]=a,o[1-r]=[NaN,NaN],{values:a,xyMinMax:o}}var k5={lineX:de(V5,0),lineY:de(V5,1),rect:function(r,t,e){return[[r[0][0]-e[0]*t[0][0],r[0][1]-e[0]*t[0][1]],[r[1][0]-e[1]*t[1][0],r[1][1]-e[1]*t[1][1]]]},polygon:function(r,t,e){return Pt(r,function(n,i){return[n[0]-e[0]*t[i][0],n[1]-e[1]*t[i][1]]})}};function V5(r,t,e,n){return[t[0]-n[r]*e[0],t[1]-n[r]*e[1]]}function t_t(r,t){var e=G5(r),n=G5(t),i=[e[0]/n[0],e[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function G5(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var cC=j,e_t=Jet("toolbox-dataZoom_"),r_t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i,a){this._brushController||(this._brushController=new EM(i.getZr()),this._brushController.on("brush",qt(this._onBrush,this)).mount()),a_t(e,n,this,a,i),i_t(e,n)},t.prototype.onclick=function(e,n,i){n_t[i].call(this)},t.prototype.remove=function(e,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var n=e.areas;if(!e.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new QM(tD(this.model),a,{include:["grid"]});o.matchOutputRanges(n,a,function(v,g,y){if(y.type==="cartesian2d"){var m=v.brushType;m==="rect"?(c("x",y,g[0]),c("y",y,g[1])):c({lineX:"x",lineY:"y"}[m],y,g)}}),$0t(a,i),this._dispatchZoomAction(i);function c(v,g,y){var m=g.getAxis(v),b=m.model,S=h(v,b,a),E=S.findRepresentativeAxisProxy(b).getMinMaxSpan();(E.minValueSpan!=null||E.maxValueSpan!=null)&&(y=Ml(0,y.slice(),m.scale.getExtent(),0,E.minValueSpan,E.maxValueSpan)),S&&(i[S.id]={dataZoomId:S.id,startValue:y[0],endValue:y[1]})}function h(v,g,y){var m;return y.eachComponent({mainType:"dataZoom",subType:"select"},function(b){var S=b.getAxisModel(v,g.componentIndex);S&&(m=b)}),m}},t.prototype._dispatchZoomAction=function(e){var n=[];cC(e,function(i,a){n.push(ne(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(e){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:yt.color.backgroundTint}};return n},t})(na),n_t={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(q0t(this.ecModel))}};function tD(r){var t={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function i_t(r,t){r.setIconStatus("back",Z0t(t)>1?"emphasis":"normal")}function a_t(r,t,e,n,i){var a=e._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),e._isZoomActive=a,r.setIconStatus("zoom",a?"emphasis":"normal");var o=new QM(tD(r),t,{include:["grid"]}),c=o.makePanelOpts(i,function(h){return h.xAxisDeclared&&!h.yAxisDeclared?"lineX":!h.xAxisDeclared&&h.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(c).enableBrush(a&&c.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}Pit("dataZoom",function(r){var t=r.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var n=t.getModel(e),i=[],a=tD(n),o=ih(r,a);cC(o.xAxisModels,function(h){return c(h,"xAxis","xAxisIndex")}),cC(o.yAxisModels,function(h){return c(h,"yAxis","yAxisIndex")});function c(h,v,g){var y=h.componentIndex,m={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:e_t+v+y};m[g]=y,i.push(m)}return i});function o_t(r){r.registerComponentModel(N0t),r.registerComponentView(R0t),Yf("saveAsImage",O0t),Yf("magicType",k0t),Yf("dataView",j0t),Yf("dataZoom",r_t),Yf("restore",K0t),_e(L0t)}var s_t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:yt.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:yt.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:yt.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:yt.color.tertiary,fontSize:14}},t})(Te);function I7(r){var t=r.get("confine");return t!=null?!!t:r.get("renderMode")==="richText"}function O7(r){if(Ae.domSupported){for(var t=document.documentElement.style,e=0,n=r.length;e<n;e++)if(r[e]in t)return r[e]}}var P7=O7(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),l_t=O7(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function k7(r,t){if(!r)return t;t=zH(t,!0);var e=r.indexOf(t);return r=e===-1?t:"-"+r.slice(0,e)+"-"+t,r.toLowerCase()}function u_t(r,t){var e=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return e?e[t]:null}var c_t=k7(l_t,"transition"),eD=k7(P7,"transform"),f_t="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Ae.transform3dSupported?"will-change:transform;":"");function h_t(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function p_t(r,t,e){if(!$t(e)||e==="inside")return"";var n=r.get("backgroundColor"),i=r.get("borderWidth");t=Sc(t);var a=h_t(e),o=Math.max(Math.round(i)*1.5,6),c="",h=eD+":",v;ve(["left","right"],a)>-1?(c+="top:50%",h+="translateY(-50%) rotate("+(v=a==="left"?-225:-45)+"deg)"):(c+="left:50%",h+="translateX(-50%) rotate("+(v=a==="top"?225:45)+"deg)");var g=v*Math.PI/180,y=o+i,m=y*Math.abs(Math.cos(g))+y*Math.abs(Math.sin(g)),b=Math.round(((m-Math.SQRT2*i)/2+Math.SQRT2*i-(m-y)/2)*100)/100;c+=";"+a+":-"+b+"px";var S=t+" solid "+i+"px;",E=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",c+";"+h+";","border-bottom:"+S,"border-right:"+S,"background-color:"+n+";"];return'<div style="'+E.join("")+'"></div>'}function d_t(r,t,e){var n="cubic-bezier(0.23,1,0.32,1)",i="",a="";return e&&(i=" "+r/2+"s "+n,a="opacity"+i+",visibility"+i),t||(i=" "+r+"s "+n,a+=(a.length?",":"")+(Ae.transformSupported?""+eD+i:",left"+i+",top"+i)),c_t+":"+a}function F5(r,t,e){var n=r.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!Ae.transformSupported)return e?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=Ae.transform3dSupported,o="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return e?"top:0;left:0;"+eD+":"+o+";":[["top",0],["left",0],[P7,o]]}function v_t(r){var t=[],e=r.get("fontSize"),n=r.getTextColor();n&&t.push("color:"+n),t.push("font:"+r.getFont());var i=Jt(r.get("lineHeight"),Math.round(e*3/2));e&&t.push("line-height:"+i+"px");var a=r.get("textShadowColor"),o=r.get("textShadowBlur")||0,c=r.get("textShadowOffsetX")||0,h=r.get("textShadowOffsetY")||0;return a&&o&&t.push("text-shadow:"+c+"px "+h+"px "+o+"px "+a),j(["decoration","align"],function(v){var g=r.get(v);g&&t.push("text-"+v+":"+g)}),t.join(";")}function g_t(r,t,e,n){var i=[],a=r.get("transitionDuration"),o=r.get("backgroundColor"),c=r.get("shadowBlur"),h=r.get("shadowColor"),v=r.get("shadowOffsetX"),g=r.get("shadowOffsetY"),y=r.getModel("textStyle"),m=D4(r,"html"),b=v+"px "+g+"px "+c+"px "+h;return i.push("box-shadow:"+b),t&&a>0&&i.push(d_t(a,e,n)),o&&i.push("background-color:"+o),j(["width","color","radius"],function(S){var E="border-"+S,C=zH(E),A=r.get(C);A!=null&&i.push(E+":"+A+(S==="color"?"":"px"))}),i.push(v_t(y)),m!=null&&i.push("padding:"+kv(m).join("px ")+"px"),i.join(";")+";"}function B5(r,t,e,n,i){var a=t&&t.painter;if(e){var o=a&&a.getViewportRoot();o&&_tt(r,o,e,n,i)}else{r[0]=n,r[1]=i;var c=a&&a.getViewportRootOffset();c&&(r[0]+=c.offsetLeft,r[1]+=c.offsetTop)}r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var y_t=(function(){function r(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Ae.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=t.getZr(),a=e.appendTo,o=a&&($t(a)?document.querySelector(a):ch(a)?a:ee(a)&&a(t.getDom()));B5(this._styleCoord,i,o,t.getWidth()/2,t.getHeight()/2),(o||t.getDom()).appendChild(n),this._api=t,this._container=o;var c=this;n.onmouseenter=function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0},n.onmousemove=function(h){if(h=h||window.event,!c._enterable){var v=i.handler,g=i.painter.getViewportRoot();Ji(g,h,!0),v.dispatch("mousemove",h)}},n.onmouseleave=function(){c._inContent=!1,c._enterable&&c._show&&c.hideLater(c._hideDelay)}}return r.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),n=u_t(e,"position"),i=e.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=t.get("displayTransition")&&t.get("transitionDuration")>0,this.el.className=t.get("className")||""},r.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=f_t+g_t(t,!this._firstShow,this._longHide,this._enableDisplayTransition)+F5(a[0],a[1],!0)+("border-color:"+Sc(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(t,e,n,i,a){var o=this.el;if(t==null){o.innerHTML="";return}var c="";if($t(a)&&n.get("trigger")==="item"&&!I7(n)&&(c=p_t(n,i,a)),$t(t))o.innerHTML=t+c;else if(t){o.innerHTML="",Rt(t)||(t=[t]);for(var h=0;h<t.length;h++)ch(t[h])&&t[h].parentNode!==o&&o.appendChild(t[h]);if(c&&o.childNodes.length){var v=document.createElement("div");v.innerHTML=c,o.appendChild(v)}}},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},r.prototype.moveTo=function(t,e){if(this.el){var n=this._styleCoord;if(B5(n,this._zr,this._container,t,e),n[0]!=null&&n[1]!=null){var i=this.el.style,a=F5(n[0],n[1]);j(a,function(o){i[o[0]]=o[1]})}}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){var t=this,e=this.el.style;this._enableDisplayTransition?(e.visibility="hidden",e.opacity="0"):e.display="none",Ae.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(qt(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this._zr;btt(t&&t.painter&&t.painter.getViewportRoot(),this._container);var e=this.el;if(e){e.onmouseenter=e.onmousemove=e.onmouseleave=null;var n=e.parentNode;n&&n.removeChild(e)}this.el=this._container=null},r})(),m_t=(function(){function r(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),z5(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return r.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(t,e,n,i,a){var o=this;se(t)&&ze(""),this.el&&this._zr.remove(this.el);var c=n.getModel("textStyle");this.el=new Oe({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:c.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:D4(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),j(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(v){o.el.style[v]=n.get(v)}),j(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(v){o.el.style[v]=c.get(v)||0}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=H5(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},r.prototype.moveTo=function(t,e){var n=this.el;if(n){var i=this._styleCoord;z5(i,this._zr,t,e),t=i[0],e=i[1];var a=n.style,o=tl(a.borderWidth||0),c=H5(a);n.x=t+o+c.left,n.y=e+o+c.top,n.markRedraw()}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(qt(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r})();function tl(r){return Math.max(0,r)}function H5(r){var t=tl(r.shadowBlur||0),e=tl(r.shadowOffsetX||0),n=tl(r.shadowOffsetY||0);return{left:tl(t-e),right:tl(t+e),top:tl(t-n),bottom:tl(t+n)}}function z5(r,t,e,n){r[0]=e,r[1]=n,r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var __t=new we({shape:{x:-1,y:-1,width:2,height:2}}),b_t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){if(!(Ae.node||!n.getDom())){var i=e.getComponent("tooltip"),a=this._renderMode=art(i.get("renderMode"));this._tooltipContent=a==="richText"?new m_t(n):new y_t(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(e,n,i){if(!(Ae.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?Vh(this,"_updatePosition",50,"fixRate"):cv(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,n=e.get("triggerOn");y7("itemTooltip",this._api,qt(function(i,a,o){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,n=this._ecModel,i=this._api,a=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(e,n,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,n,i,a){if(!(a.from===this.uid||Ae.node||!i.getDom())){var o=U5(a,i);this._ticket="";var c=a.dataByCoordSys,h=E_t(a,n,i);if(h){var v=h.el.getBoundingRect().clone();v.applyTransform(h.el.transform),this._tryShow({offsetX:v.x+v.width/2,offsetY:v.y+v.height/2,target:h.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var g=__t;g.x=a.x,g.y=a.y,g.update(),ce(g).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:g},o)}else if(c)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:c,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(e,n,i,a))return;var y=m7(a,n),m=y.point[0],b=y.point[1];m!=null&&b!=null&&this._tryShow({offsetX:m,offsetY:b,target:y.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},t.prototype.manuallyHideTip=function(e,n,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(U5(a,i))},t.prototype._manuallyAxisShowTip=function(e,n,i,a){var o=a.seriesIndex,c=a.dataIndex,h=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||c==null||h==null)){var v=n.getSeriesByIndex(o);if(v){var g=v.getData(),y=ad([g.getItemModel(c),v,(v.coordinateSystem||{}).model],this._tooltipModel);if(y.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:c,position:a.position}),!0}}},t.prototype._tryShow=function(e,n){var i=e.target,a=this._tooltipModel;if(a){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(i){var c=ce(i);if(c.ssrType==="legend")return;this._lastDataByCoordSys=null;var h,v;tc(i,function(g){if(g.tooltipDisabled)return h=v=null,!0;h||v||(ce(g).dataIndex!=null?h=g:ce(g).tooltipConfig!=null&&(v=g))},!0),h?this._showSeriesItemTooltip(e,h,n):v?this._showComponentItemTooltip(e,v,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(e,n){var i=e.get("showDelay");n=qt(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},t.prototype._showAxisTooltip=function(e,n){var i=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],c=ad([n.tooltipOption],a),h=this._renderMode,v=[],g=qr("section",{blocks:[],noHeader:!0}),y=[],m=new _w;j(e,function(M){j(M.dataByAxis,function(L){var R=i.getComponent(L.axisDim+"Axis",L.axisIndex),O=L.value;if(!(!R||O==null)){var P=d7(O,R.axis,i,L.seriesDataIndices,L.valueLabelOpt),V=qr("section",{header:P,noHeader:!oa(P),sortBlocks:!0,blocks:[]});g.blocks.push(V),j(L.seriesDataIndices,function(k){var F=i.getSeriesByIndex(k.seriesIndex),H=k.dataIndexInside,W=F.getDataParams(H);if(!(W.dataIndex<0)){W.axisDim=L.axisDim,W.axisIndex=L.axisIndex,W.axisType=L.axisType,W.axisId=L.axisId,W.axisValue=V0(R.axis,{value:O}),W.axisValueLabel=P,W.marker=m.makeTooltipMarker("item",Sc(W.color),h);var q=aP(F.formatTooltip(H,!0,null)),Y=q.frag;if(Y){var Z=ad([F],a).get("valueFormatter");V.blocks.push(Z?At({valueFormatter:Z},Y):Y)}q.text&&y.push(q.text),v.push(W)}})}})}),g.blocks.reverse(),y.reverse();var b=n.position,S=c.get("order"),E=fP(g,m,h,S,i.get("useUTC"),c.get("textStyle"));E&&y.unshift(E);var C=h==="richText"?`

`:"<br/>",A=y.join(C);this._showOrMove(c,function(){this._updateContentNotChangedOnAxis(e,v)?this._updatePosition(c,b,o[0],o[1],this._tooltipContent,v):this._showTooltipContent(c,A,v,Math.random()+"",o[0],o[1],b,null,m)})},t.prototype._showSeriesItemTooltip=function(e,n,i){var a=this._ecModel,o=ce(n),c=o.seriesIndex,h=a.getSeriesByIndex(c),v=o.dataModel||h,g=o.dataIndex,y=o.dataType,m=v.getData(y),b=this._renderMode,S=e.positionDefault,E=ad([m.getItemModel(g),v,h&&(h.coordinateSystem||{}).model],this._tooltipModel,S?{position:S}:null),C=E.get("trigger");if(!(C!=null&&C!=="item")){var A=v.getDataParams(g,y),M=new _w;A.marker=M.makeTooltipMarker("item",Sc(A.color),b);var L=aP(v.formatTooltip(g,!1,y)),R=E.get("order"),O=E.get("valueFormatter"),P=L.frag,V=P?fP(O?At({valueFormatter:O},P):P,M,b,R,a.get("useUTC"),E.get("textStyle")):L.text,k="item_"+v.name+"_"+g;this._showOrMove(E,function(){this._showTooltipContent(E,V,A,k,e.offsetX,e.offsetY,e.position,e.target,M)}),i({type:"showTip",dataIndexInside:g,dataIndex:m.getRawIndex(g),seriesIndex:c,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,n,i){var a=this._renderMode==="html",o=ce(n),c=o.tooltipConfig,h=c.option||{},v=h.encodeHTMLContent;if($t(h)){var g=h;h={content:g,formatter:g},v=!0}v&&a&&h.content&&(h=ne(h),h.content=si(h.content));var y=[h],m=this._ecModel.getComponent(o.componentMainType,o.componentIndex);m&&y.push(m),y.push({formatter:h.content});var b=e.positionDefault,S=ad(y,this._tooltipModel,b?{position:b}:null),E=S.get("content"),C=Math.random()+"",A=new _w;this._showOrMove(S,function(){var M=ne(S.get("formatterParams")||{});this._showTooltipContent(S,E,M,C,e.offsetX,e.offsetY,e.position,n,A)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,n,i,a,o,c,h,v,g){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var y=this._tooltipContent;y.setEnterable(e.get("enterable"));var m=e.get("formatter");h=h||e.get("position");var b=n,S=this._getNearestPoint([o,c],i,e.get("trigger"),e.get("borderColor"),e.get("defaultBorderColor",!0)),E=S.color;if(m)if($t(m)){var C=e.ecModel.get("useUTC"),A=Rt(i)?i[0]:i,M=A&&A.axisType&&A.axisType.indexOf("time")>=0;b=m,M&&(b=Y_(A.axisValue,b,C)),b=UH(b,i,!0)}else if(ee(m)){var L=qt(function(R,O){R===this._ticket&&(y.setContent(O,g,e,E,h),this._updatePosition(e,h,o,c,y,i,v))},this);this._ticket=a,b=m(i,a,L)}else b=m;y.setContent(b,g,e,E,h),y.show(e,E),this._updatePosition(e,h,o,c,y,i,v)}},t.prototype._getNearestPoint=function(e,n,i,a,o){if(i==="axis"||Rt(n))return{color:a||o};if(!Rt(n))return{color:a||n.color||n.borderColor}},t.prototype._updatePosition=function(e,n,i,a,o,c,h){var v=this._api.getWidth(),g=this._api.getHeight();n=n||e.get("position");var y=o.getSize(),m=e.get("align"),b=e.get("verticalAlign"),S=h&&h.getBoundingRect().clone();if(h&&S.applyTransform(h.transform),ee(n)&&(n=n([i,a],c,o.el,S,{viewSize:[v,g],contentSize:y.slice()})),Rt(n))i=Yt(n[0],v),a=Yt(n[1],g);else if(se(n)){var E=n;E.width=y[0],E.height=y[1];var C=yr(E,{width:v,height:g});i=C.x,a=C.y,m=null,b=null}else if($t(n)&&h){var A=x_t(n,S,y,e.get("borderWidth"));i=A[0],a=A[1]}else{var A=S_t(i,a,o,v,g,m?null:20,b?null:20);i=A[0],a=A[1]}if(m&&(i-=W5(m)?y[0]/2:m==="right"?y[0]:0),b&&(a-=W5(b)?y[1]/2:b==="bottom"?y[1]:0),I7(e)){var A=w_t(i,a,o,v,g);i=A[0],a=A[1]}o.moveTo(i,a)},t.prototype._updateContentNotChangedOnAxis=function(e,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===e.length;return o&&j(i,function(c,h){var v=c.dataByAxis||[],g=e[h]||{},y=g.dataByAxis||[];o=o&&v.length===y.length,o&&j(v,function(m,b){var S=y[b]||{},E=m.seriesDataIndices||[],C=S.seriesDataIndices||[];o=o&&m.value===S.value&&m.axisType===S.axisType&&m.axisId===S.axisId&&E.length===C.length,o&&j(E,function(A,M){var L=C[M];o=o&&A.seriesIndex===L.seriesIndex&&A.dataIndex===L.dataIndex}),a&&j(m.seriesDataIndices,function(A){var M=A.seriesIndex,L=n[M],R=a[M];L&&R&&R.data!==L.data&&(o=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=n,!!o},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,n){Ae.node||!n.getDom()||(cv(this,"_updatePosition"),this._tooltipContent.dispose(),rC("itemTooltip",n))},t.type="tooltip",t})(dr);function ad(r,t,e){var n=t.ecModel,i;e?(i=new Me(e,n,n),i=new Me(t.option,i,n)):i=t;for(var a=r.length-1;a>=0;a--){var o=r[a];o&&(o instanceof Me&&(o=o.get("tooltip",!0)),$t(o)&&(o={formatter:o}),o&&(i=new Me(o,i,n)))}return i}function U5(r,t){return r.dispatchAction||qt(t.dispatchAction,t)}function S_t(r,t,e,n,i,a,o){var c=e.getSize(),h=c[0],v=c[1];return a!=null&&(r+h+a+2>n?r-=h+a:r+=a),o!=null&&(t+v+o>i?t-=v+o:t+=o),[r,t]}function w_t(r,t,e,n,i){var a=e.getSize(),o=a[0],c=a[1];return r=Math.min(r+o,n)-o,t=Math.min(t+c,i)-c,r=Math.max(r,0),t=Math.max(t,0),[r,t]}function x_t(r,t,e,n){var i=e[0],a=e[1],o=Math.ceil(Math.SQRT2*n)+8,c=0,h=0,v=t.width,g=t.height;switch(r){case"inside":c=t.x+v/2-i/2,h=t.y+g/2-a/2;break;case"top":c=t.x+v/2-i/2,h=t.y-a-o;break;case"bottom":c=t.x+v/2-i/2,h=t.y+g+o;break;case"left":c=t.x-i-o,h=t.y+g/2-a/2;break;case"right":c=t.x+v+o,h=t.y+g/2-a/2}return[c,h]}function W5(r){return r==="center"||r==="middle"}function E_t(r,t,e){var n=iA(r).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=Lh(t,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var c=e.getViewOfComponentModel(o),h;if(c.group.traverse(function(v){var g=ce(v).tooltipConfig;if(g&&g.name===r.name)return h=v,!0}),h)return{componentMainType:i,componentIndex:o.componentIndex,el:h}}}}function T_t(r){_e($v),r.registerComponentModel(s_t),r.registerComponentView(b_t),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},kr),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},kr)}var C_t=["rect","polygon","keep","clear"];function A_t(r,t){var e=Qe(r?r.brush:[]);if(e.length){var n=[];j(e,function(h){var v=h.hasOwnProperty("toolbox")?h.toolbox:[];v instanceof Array&&(n=n.concat(v))});var i=r&&r.toolbox;Rt(i)&&(i=i[0]),i||(i={feature:{}},r.toolbox=[i]);var a=i.feature||(i.feature={}),o=a.brush||(a.brush={}),c=o.type||(o.type=[]);c.push.apply(c,n),M_t(c),t&&!c.length&&c.push.apply(c,C_t)}}function M_t(r){var t={};j(r,function(e){t[e]=1}),r.length=0,j(t,function(e,n){r.push(n)})}var j5=j;function Y5(r){if(r){for(var t in r)if(r.hasOwnProperty(t))return!0}}function fC(r,t,e){var n={};return j5(t,function(a){var o=n[a]=i();j5(r[a],function(c,h){if(cn.isValidType(h)){var v={type:h,visual:c};e&&e(v,a),o[h]=new cn(v),h==="opacity"&&(v=ne(v),v.type="colorAlpha",o.__hidden.__alphaForOpacity=new cn(v))}})}),n;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var o=new a;return o}}function V7(r,t,e){var n;j(e,function(i){t.hasOwnProperty(i)&&Y5(t[i])&&(n=!0)}),n&&j(e,function(i){t.hasOwnProperty(i)&&Y5(t[i])?r[i]=ne(t[i]):delete r[i]})}function D_t(r,t,e,n,i,a){var o={};j(r,function(y){var m=cn.prepareVisualTypes(t[y]);o[y]=m});var c;function h(y){return FA(e,c,y)}function v(y,m){F4(e,c,y,m)}e.each(g);function g(y,m){c=y;var b=e.getRawDataItem(c);if(!(b&&b.visualMap===!1))for(var S=n.call(i,y),E=t[S],C=o[S],A=0,M=C.length;A<M;A++){var L=C[A];E[L]&&E[L].applyVisual(y,h,v)}}}function L_t(r,t,e,n){var i={};return j(r,function(a){var o=cn.prepareVisualTypes(t[a]);i[a]=o}),{progress:function(o,c){var h;n!=null&&(h=c.getDimensionIndex(n));function v(O){return FA(c,y,O)}function g(O,P){F4(c,y,O,P)}for(var y,m=c.getStore();(y=o.next())!=null;){var b=c.getRawDataItem(y);if(!(b&&b.visualMap===!1))for(var S=n!=null?m.get(h,y):y,E=e(S),C=t[E],A=i[E],M=0,L=A.length;M<L;M++){var R=A[M];C[R]&&C[R].applyVisual(S,v,g)}}}}}function N_t(r){var t=r.brushType,e={point:function(n){return $5[t].point(n,e,r)},rect:function(n){return $5[t].rect(n,e,r)}};return e}var $5={lineX:q5(0),lineY:q5(1),rect:{point:function(r,t,e){return r&&e.boundingRect.contain(r[0],r[1])},rect:function(r,t,e){return r&&e.boundingRect.intersect(r)}},polygon:{point:function(r,t,e){return r&&e.boundingRect.contain(r[0],r[1])&&Yu(e.range,r[0],r[1])},rect:function(r,t,e){var n=e.range;if(!r||n.length<=1)return!1;var i=r.x,a=r.y,o=r.width,c=r.height,h=n[0];if(Yu(n,i,a)||Yu(n,i+o,a)||Yu(n,i,a+c)||Yu(n,i+o,a+c)||le.create(r).contain(h[0],h[1])||gd(i,a,i+o,a,n)||gd(i,a,i,a+c,n)||gd(i+o,a,i+o,a+c,n)||gd(i,a+c,i+o,a+c,n))return!0}}};function q5(r){var t=["x","y"],e=["width","height"];return{point:function(n,i,a){if(n){var o=a.range,c=n[r];return od(c,o)}},rect:function(n,i,a){if(n){var o=a.range,c=[n[t[r]],n[t[r]]+n[e[r]]];return c[1]<c[0]&&c.reverse(),od(c[0],o)||od(c[1],o)||od(o[0],c)||od(o[1],c)}}}}function od(r,t){return t[0]<=r&&r<=t[1]}var X5=["inBrush","outOfBrush"],Fx="__ecBrushSelect",hC="__ecInBrushSelectEvent";function G7(r){r.eachComponent({mainType:"brush"},function(t){var e=t.brushTargetManager=new QM(t.option,r);e.setInputRanges(t.areas,r)})}function R_t(r,t,e){var n=[],i,a;r.eachComponent({mainType:"brush"},function(o){e&&e.type==="takeGlobalCursor"&&o.setBrushOption(e.key==="brush"?e.brushOption:{brushType:!1})}),G7(r),r.eachComponent({mainType:"brush"},function(o,c){var h={brushId:o.id,brushIndex:c,brushName:o.name,areas:ne(o.areas),selected:[]};n.push(h);var v=o.option,g=v.brushLink,y=[],m=[],b=[],S=!1;c||(i=v.throttleType,a=v.throttleDelay);var E=Pt(o.areas,function(O){var P=k_t[O.brushType],V=oe({boundingRect:P?P(O):void 0},O);return V.selectors=N_t(V),V}),C=fC(o.option,X5,function(O){O.mappingMethod="fixed"});Rt(g)&&j(g,function(O){y[O]=1});function A(O){return g==="all"||!!y[O]}function M(O){return!!O.length}r.eachSeries(function(O,P){var V=b[P]=[];O.subType==="parallel"?L(O,P):R(O,P,V)});function L(O,P){var V=O.coordinateSystem;S=S||V.hasAxisBrushed(),A(P)&&V.eachActiveState(O.getData(),function(k,F){k==="active"&&(m[F]=1)})}function R(O,P,V){if(!(!O.brushSelector||P_t(o,P))&&(j(E,function(F){o.brushTargetManager.controlSeries(F,O,r)&&V.push(F),S=S||M(V)}),A(P)&&M(V))){var k=O.getData();k.each(function(F){Z5(O,V,k,F)&&(m[F]=1)})}}r.eachSeries(function(O,P){var V={seriesId:O.id,seriesIndex:P,seriesName:O.name,dataIndex:[]};h.selected.push(V);var k=b[P],F=O.getData(),H=A(P)?function(W){return m[W]?(V.dataIndex.push(F.getRawIndex(W)),"inBrush"):"outOfBrush"}:function(W){return Z5(O,k,F,W)?(V.dataIndex.push(F.getRawIndex(W)),"inBrush"):"outOfBrush"};(A(P)?S:M(k))&&D_t(X5,C,F,H)})}),I_t(t,i,a,n,e)}function I_t(r,t,e,n,i){if(i){var a=r.getZr();if(!a[hC]){a[Fx]||(a[Fx]=O_t);var o=Vh(a,Fx,e,t);o(r,n)}}}function O_t(r,t){if(!r.isDisposed()){var e=r.getZr();e[hC]=!0,r.dispatchAction({type:"brushSelect",batch:t}),e[hC]=!1}}function Z5(r,t,e,n){for(var i=0,a=t.length;i<a;i++){var o=t[i];if(r.brushSelector(n,e,o.selectors,o))return!0}}function P_t(r,t){var e=r.option.seriesIndex;return e!=null&&e!=="all"&&(Rt(e)?ve(e,t)<0:t!==e)}var k_t={rect:function(r){return K5(r.range)},polygon:function(r){for(var t,e=r.range,n=0,i=e.length;n<i;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=e[n];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&K5(t)}};function K5(r){return new le(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var V_t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){this.ecModel=e,this.api=n,this.model,(this._brushController=new EM(n.getZr())).on("brush",qt(this._onBrush,this)).mount()},t.prototype.render=function(e,n,i,a){this.model=e,this._updateController(e,n,i,a)},t.prototype.updateTransform=function(e,n,i,a){G7(n),this._updateController(e,n,i,a)},t.prototype.updateVisual=function(e,n,i,a){this.updateTransform(e,n,i,a)},t.prototype.updateView=function(e,n,i,a){this._updateController(e,n,i,a)},t.prototype._updateController=function(e,n,i,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:ne(i),$from:n}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:ne(i),$from:n})},t.type="brush",t})(dr),G_t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return t.prototype.optionUpdated=function(e,n){var i=this.option;!n&&V7(i,e,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:this.option.defaultOutOfBrushColor},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=Pt(e,function(n){return J5(this.option,n)},this))},t.prototype.setBrushOption=function(e){this.brushOption=J5(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:yt.color.backgroundTint,borderColor:yt.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:yt.color.disabled},t})(Te);function J5(r,t){return ge({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new Me(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},t,!0)}var F_t=["rect","polygon","lineX","lineY","keep","clear"],B_t=(function(r){bt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i){var a,o,c;n.eachComponent({mainType:"brush"},function(h){a=h.brushType,o=h.brushOption.brushMode||"single",c=c||!!h.areas.length}),this._brushType=a,this._brushMode=o,j(e.get("type",!0),function(h){e.setIconStatus(h,(h==="keep"?o==="multiple":h==="clear"?c:h===a)?"emphasis":"normal")})},t.prototype.updateView=function(e,n,i){this.render(e,n,i)},t.prototype.getIcons=function(){var e=this.model,n=e.get("icon",!0),i={};return j(e.get("type",!0),function(a){n[a]&&(i[a]=n[a])}),i},t.prototype.onclick=function(e,n,i){var a=this._brushType,o=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?o==="multiple"?"single":"multiple":o}})},t.getDefaultOption=function(e){var n={show:!0,type:F_t.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return n},t})(na);function H_t(r){r.registerComponentView(V_t),r.registerComponentModel(G_t),r.registerPreprocessor(A_t),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,R_t),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},kr),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},kr),Yf("brush",B_t)}var z_t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:yt.size.m,backgroundColor:yt.color.transparent,borderColor:yt.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:yt.color.primary},subtextStyle:{fontSize:12,color:yt.color.quaternary}},t})(Te),U_t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){if(this.group.removeAll(),!!e.get("show")){var a=this.group,o=e.getModel("textStyle"),c=e.getModel("subtextStyle"),h=e.get("textAlign"),v=Jt(e.get("textBaseline"),e.get("textVerticalAlign")),g=new Oe({style:ar(o,{text:e.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),y=g.getBoundingRect(),m=e.get("subtext"),b=new Oe({style:ar(c,{text:m,fill:c.getTextColor(),y:y.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),S=e.get("link"),E=e.get("sublink"),C=e.get("triggerEvent",!0);g.silent=!S&&!C,b.silent=!E&&!C,S&&g.on("click",function(){M0(S,"_"+e.get("target"))}),E&&b.on("click",function(){M0(E,"_"+e.get("subtarget"))}),ce(g).eventData=ce(b).eventData=C?{componentType:"title",componentIndex:e.componentIndex}:null,a.add(g),m&&a.add(b);var A=a.getBoundingRect(),M=e.getBoxLayoutParams();M.width=A.width,M.height=A.height;var L=an(e,i),R=yr(M,L.refContainer,e.get("padding"));h||(h=e.get("left")||e.get("right"),h==="middle"&&(h="center"),h==="right"?R.x+=R.width:h==="center"&&(R.x+=R.width/2)),v||(v=e.get("top")||e.get("bottom"),v==="center"&&(v="middle"),v==="bottom"?R.y+=R.height:v==="middle"&&(R.y+=R.height/2),v=v||"top"),a.x=R.x,a.y=R.y,a.markRedraw();var O={align:h,verticalAlign:v};g.setStyle(O),b.setStyle(O),A=a.getBoundingRect();var P=R.margin,V=e.getItemStyle(["color","opacity"]);V.fill=e.get("backgroundColor");var k=new we({shape:{x:A.x-P[3],y:A.y-P[0],width:A.width+P[1]+P[3],height:A.height+P[0]+P[2],r:e.get("borderRadius")},style:V,subPixelOptimize:!0,silent:!0});a.add(k)}},t.type="title",t})(dr);function W_t(r){r.registerComponentModel(z_t),r.registerComponentView(U_t)}var Q5=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),this._initData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var n=this._data.count();this.option.loop?e=(e%n+n)%n:(e>=n&&(e=n-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e=this.option,n=e.data||[],i=e.axisType,a=this._names=[],o;i==="category"?(o=[],j(n,function(v,g){var y=en(Dh(v),""),m;se(v)?(m=ne(v),m.value=g):m=g,o.push(m),a.push(y)})):o=n;var c={category:"ordinal",time:"time",value:"number"}[i]||"number",h=this._data=new ui([{name:"value",type:c}],this);h.initData(o,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:yt.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:yt.color.secondary},data:[]},t})(Te),F7=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline.slider",t.defaultOption=Il(Q5.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:yt.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:yt.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:yt.color.tertiary},itemStyle:{color:yt.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:yt.color.accent50,borderColor:yt.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:yt.color.accent50,borderColor:yt.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:yt.color.accent60},itemStyle:{color:yt.color.accent60,borderColor:yt.color.accent60},controlStyle:{color:yt.color.accent70,borderColor:yt.color.accent70}},progress:{lineStyle:{color:yt.color.accent30},itemStyle:{color:yt.color.accent40}},data:[]}),t})(Q5);Zr(F7,X_.prototype);var j_t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline",t})(dr),Y_t=(function(r){bt(t,r);function t(e,n,i,a){var o=r.call(this,e,n,i)||this;return o.type=a||"value",o}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t})(Va),Bx=Math.PI,t3=xe(),$_t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){this.api=n},t.prototype.render=function(e,n,i){if(this.model=e,this.api=i,this.ecModel=n,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,i),o=this._createGroup("_mainGroup"),c=this._createGroup("_labelGroup"),h=this._axis=this._createAxis(a,e);e.formatTooltip=function(v){var g=h.scale.getLabel({value:v});return qr("nameValue",{noName:!0,value:g})},j(["AxisLine","AxisTick","Control","CurrentPointer"],function(v){this["_render"+v](a,o,h,e)},this),this._renderAxisLabel(a,c,h,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,n){var i=e.get(["label","position"]),a=e.get("orient"),o=X_t(e,n),c;i==null||i==="auto"?c=a==="horizontal"?o.y+o.height/2<n.getHeight()/2?"-":"+":o.x+o.width/2<n.getWidth()/2?"+":"-":$t(i)?c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:c=i;var h={horizontal:"center",vertical:c>=0||c==="+"?"left":"right"},v={horizontal:c>=0||c==="+"?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:Bx/2},y=a==="vertical"?o.height:o.width,m=e.getModel("controlStyle"),b=m.get("show",!0),S=b?m.get("itemSize"):0,E=b?m.get("itemGap"):0,C=S+E,A=e.get(["label","rotate"])||0;A=A*Bx/180;var M,L,R,O=m.get("position",!0),P=b&&m.get("showPlayBtn",!0),V=b&&m.get("showPrevBtn",!0),k=b&&m.get("showNextBtn",!0),F=0,H=y;O==="left"||O==="bottom"?(P&&(M=[0,0],F+=C),V&&(L=[F,0],F+=C),k&&(R=[H-S,0],H-=C)):(P&&(M=[H-S,0],H-=C),V&&(L=[0,0],F+=C),k&&(R=[H-S,0],H-=C));var W=[F,H];return e.get("inverse")&&W.reverse(),{viewRect:o,mainLength:y,orient:a,rotation:g[a],labelRotation:A,labelPosOpt:c,labelAlign:e.get(["label","align"])||h[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||v[a],playPosition:M,prevBtnPosition:L,nextBtnPosition:R,axisExtent:W,controlSize:S,controlGap:E}},t.prototype._position=function(e,n){var i=this._mainGroup,a=this._labelGroup,o=e.viewRect;if(e.orient==="vertical"){var c=_n(),h=o.x,v=o.y+o.height;No(c,c,[-h,-v]),Nl(c,c,-Bx/2),No(c,c,[h,v]),o=o.clone(),o.applyTransform(c)}var g=M(o),y=M(i.getBoundingRect()),m=M(a.getBoundingRect()),b=[i.x,i.y],S=[a.x,a.y];S[0]=b[0]=g[0][0];var E=e.labelPosOpt;if(E==null||$t(E)){var C=E==="+"?0:1;L(b,y,g,1,C),L(S,m,g,1,1-C)}else{var C=E>=0?0:1;L(b,y,g,1,C),S[1]=b[1]+E}i.setPosition(b),a.setPosition(S),i.rotation=a.rotation=e.rotation,A(i),A(a);function A(R){R.originX=g[0][0]-R.x,R.originY=g[1][0]-R.y}function M(R){return[[R.x,R.x+R.width],[R.y,R.y+R.height]]}function L(R,O,P,V,k){R[V]+=P[V][k]-O[V][k]}},t.prototype._createAxis=function(e,n){var i=n.getData(),a=n.get("axisType"),o=q_t(n,a);o.getTicks=function(){return i.mapArray(["value"],function(v){return{value:v}})};var c=i.getDataExtent("value");o.setExtent(c[0],c[1]),o.calcNiceTicks();var h=new Y_t("value",o,e.axisExtent,a);return h.model=n,h},t.prototype._createGroup=function(e){var n=this[e]=new re;return this.group.add(n),n},t.prototype._renderAxisLine=function(e,n,i,a){var o=i.getExtent();if(a.get(["lineStyle","show"])){var c=new Wr({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:At({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(c);var h=this._progressLine=new Wr({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:oe({lineCap:"round",lineWidth:c.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(h)}},t.prototype._renderAxisTick=function(e,n,i,a){var o=this,c=a.getData(),h=i.scale.getTicks();this._tickSymbols=[],j(h,function(v){var g=i.dataToCoord(v.value),y=c.getItemModel(v.value),m=y.getModel("itemStyle"),b=y.getModel(["emphasis","itemStyle"]),S=y.getModel(["progress","itemStyle"]),E={x:g,y:0,onclick:qt(o._changeTimeline,o,v.value)},C=e3(y,m,n,E);C.ensureState("emphasis").style=b.getItemStyle(),C.ensureState("progress").style=S.getItemStyle(),uc(C);var A=ce(C);y.get("tooltip")?(A.dataIndex=v.value,A.dataModel=a):A.dataIndex=A.dataModel=null,o._tickSymbols.push(C)})},t.prototype._renderAxisLabel=function(e,n,i,a){var o=this,c=i.getLabelModel();if(c.get("show")){var h=a.getData(),v=i.getViewLabels();this._tickLabels=[],j(v,function(g){var y=g.tickValue,m=h.getItemModel(y),b=m.getModel("label"),S=m.getModel(["emphasis","label"]),E=m.getModel(["progress","label"]),C=i.dataToCoord(g.tickValue),A=new Oe({x:C,y:0,rotation:e.labelRotation-e.rotation,onclick:qt(o._changeTimeline,o,y),silent:!1,style:ar(b,{text:g.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});A.ensureState("emphasis").style=ar(S),A.ensureState("progress").style=ar(E),n.add(A),uc(A),t3(A).dataIndex=y,o._tickLabels.push(A)})}},t.prototype._renderControl=function(e,n,i,a){var o=e.controlSize,c=e.rotation,h=a.getModel("controlStyle").getItemStyle(),v=a.getModel(["emphasis","controlStyle"]).getItemStyle(),g=a.getPlayState(),y=a.get("inverse",!0);m(e.nextBtnPosition,"next",qt(this._changeTimeline,this,y?"-":"+")),m(e.prevBtnPosition,"prev",qt(this._changeTimeline,this,y?"+":"-")),m(e.playPosition,g?"stop":"play",qt(this._handlePlayClick,this,!g),!0);function m(b,S,E,C){if(b){var A=Ia(Jt(a.get(["controlStyle",S+"BtnSize"]),o),o),M=[0,-A/2,A,A],L=Z_t(a,S+"Icon",M,{x:b[0],y:b[1],originX:o/2,originY:0,rotation:C?-c:0,rectHover:!0,style:h,onclick:E});L.ensureState("emphasis").style=v,n.add(L),uc(L)}}},t.prototype._renderCurrentPointer=function(e,n,i,a){var o=a.getData(),c=a.getCurrentIndex(),h=o.getItemModel(c).getModel("checkpointStyle"),v=this,g={onCreate:function(y){y.draggable=!0,y.drift=qt(v._handlePointerDrag,v),y.ondragend=qt(v._handlePointerDragend,v),r3(y,v._progressLine,c,i,a,!0)},onUpdate:function(y){r3(y,v._progressLine,c,i,a)}};this._currentPointer=e3(h,h,this._mainGroup,{},this._currentPointer,g)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,n){var i=this._toAxisCoord(e)[0],a=this._axis,o=sa(a.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var c=this._progressLine;c&&(c.shape.x2=i,c.dirty());var h=this._findNearestTick(i),v=this.model;(n||h!==v.getCurrentIndex()&&v.get("realtime"))&&this._changeTimeline(h)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=e.model;e._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var n=this._mainGroup.getLocalTransform();return Da(e,n,!0)},t.prototype._findNearestTick=function(e){var n=this.model.getData(),i=1/0,a,o=this._axis;return n.each(["value"],function(c,h){var v=o.dataToCoord(c),g=Math.abs(v-e);g<i&&(i=g,a=h)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var n=this.model.getCurrentIndex();e==="+"?e=n+1:e==="-"&&(e=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<e);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",t3(i[a]).dataIndex<=e)},t.type="timeline.slider",t})(j_t);function q_t(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new yh({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new qA({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new bs}}function X_t(r,t){return yr(r.getBoxLayoutParams(),an(r,t).refContainer,r.get("padding"))}function Z_t(r,t,e,n){var i=n.style,a=Pv(r.get(["controlStyle",t]),n||{},new le(e[0],e[1],e[2],e[3]));return i&&a.setStyle(i),a}function e3(r,t,e,n,i,a){var o=t.get("color");if(i)i.setColor(o),e.add(i),a&&a.onUpdate(i);else{var c=r.get("symbol");i=Xr(c,-1,-1,2,2,o),i.setStyle("strokeNoScale",!0),e.add(i),a&&a.onCreate(i)}var h=t.getItemStyle(["color"]);i.setStyle(h),n=ge({rectHover:!0,z2:100},n,!0);var v=Gh(r.get("symbolSize"));n.scaleX=v[0]/2,n.scaleY=v[1]/2;var g=Nc(r.get("symbolOffset"),v);g&&(n.x=(n.x||0)+g[0],n.y=(n.y||0)+g[1]);var y=r.get("symbolRotate");return n.rotation=(y||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function r3(r,t,e,n,i,a){if(!r.dragging){var o=i.getModel("checkpointStyle"),c=n.dataToCoord(i.getData().get("value",e));if(a||!o.get("animation",!0))r.attr({x:c,y:0}),t&&t.attr({shape:{x2:c}});else{var h={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:c,y:0},h),t&&t.animateTo({shape:{x2:c}},h)}}}function K_t(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,n){var i=e.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),oe({currentIndex:i.option.currentIndex},t)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&t.playState!=null&&n.setPlayState(t.playState)})}function J_t(r){var t=r&&r.timeline;Rt(t)||(t=t?[t]:[]),j(t,function(e){e&&Q_t(e)})}function Q_t(r){var t=r.type,e={number:"value",time:"time"};if(e[t]&&(r.axisType=e[t],delete r.type),n3(r),Xu(r,"controlPosition")){var n=r.controlStyle||(r.controlStyle={});Xu(n,"position")||(n.position=r.controlPosition),n.position==="none"&&!Xu(n,"show")&&(n.show=!1,delete n.position),delete r.controlPosition}j(r.data||[],function(i){se(i)&&!Rt(i)&&(!Xu(i,"value")&&Xu(i,"name")&&(i.value=i.name),n3(i))})}function n3(r){var t=r.itemStyle||(r.itemStyle={}),e=t.emphasis||(t.emphasis={}),n=r.label||r.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};j(n,function(o,c){!a[c]&&!Xu(i,c)&&(i[c]=o)}),e.label&&!Xu(n,"emphasis")&&(n.emphasis=e.label,delete e.label)}function Xu(r,t){return r.hasOwnProperty(t)}function tbt(r){r.registerComponentModel(F7),r.registerComponentView($_t),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),K_t(r),r.registerPreprocessor(J_t)}function rD(r,t){if(!r)return!1;for(var e=Rt(r)?r:[r],n=0;n<e.length;n++)if(e[n]&&e[n][t])return!0;return!1}function Em(r){vc(r,"label",["show"])}var Tm=xe(),ko=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e.preventAutoZ=!0,e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Ae.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,n){this._mergeOption(e,n,!1,!1)},t.prototype._mergeOption=function(e,n,i,a){var o=this.mainType;i||n.eachSeries(function(c){var h=c.get(this.mainType,!0),v=Tm(c)[o];if(!h||!h.data){Tm(c)[o]=null;return}v?v._mergeOption(h,n,!0):(a&&Em(h),j(h.data,function(g){g instanceof Array?(Em(g[0]),Em(g[1])):Em(g)}),v=this.createMarkerModelFromSeries(h,this,n),At(v,{mainType:this.mainType,seriesIndex:c.seriesIndex,name:c.name,createdBySelf:!0}),v.__hostSeries=c),Tm(c)[o]=v},this)},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=this.getRawValue(e),c=a.getName(e);return qr("section",{header:this.name,blocks:[qr("nameValue",{name:c,value:o,noName:!c,noValue:o==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,n){var i=X_.prototype.getDataParams.call(this,e,n),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},t.getMarkerModelFromSeries=function(e,n){return Tm(e)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t})(Te);Zr(ko,X_.prototype);var ebt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t})(ko);function pC(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function rbt(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function Cm(r,t,e,n,i,a,o){var c=[],h=Cl(t,i),v=h?t.getCalculationInfo("stackResultDimension"):i,g=s_(t,v,r),y=t.hostModel,m=y.indicesOfNearest(e,v,g)[0];c[a]=t.get(n,m),c[o]=t.get(v,m);var b=t.get(i,m),S=_o(t.get(i,m));return S=Math.min(S,20),S>=0&&(c[o]=+c[o].toFixed(S)),[c,b]}var Am={min:de(Cm,"min"),max:de(Cm,"max"),average:de(Cm,"average"),median:de(Cm,"median")};function Cv(r,t){if(t){var e=r.getData(),n=r.coordinateSystem,i=n&&n.dimensions;if(!rbt(t)&&!Rt(t.coord)&&Rt(i)){var a=B7(t,e,n,r);if(t=ne(t),t.type&&Am[t.type]&&a.baseAxis&&a.valueAxis){var o=ve(i,a.baseAxis.dim),c=ve(i,a.valueAxis.dim),h=Am[t.type](e,a.valueAxis.dim,a.baseDataDim,a.valueDataDim,o,c);t.coord=h[0],t.value=h[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!Rt(i)){t.coord=[];var v=r.getBaseAxis();if(v&&t.type&&Am[t.type]){var g=n.getOtherAxis(v);g&&(t.value=s_(e,e.mapDimension(g.dim),t.type))}}else for(var y=t.coord,m=0;m<2;m++)Am[y[m]]&&(y[m]=s_(e,e.mapDimension(i[m]),y[m]));return t}}function B7(r,t,e,n){var i={};return r.valueIndex!=null||r.valueDim!=null?(i.valueDataDim=r.valueIndex!=null?t.getDimension(r.valueIndex):r.valueDim,i.valueAxis=e.getAxis(nbt(n,i.valueDataDim)),i.baseAxis=e.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=e.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function nbt(r,t){var e=r.getData().getDimensionInfo(t);return e&&e.coordDim}function Av(r,t){return r&&r.containData&&t.coord&&!pC(t)?r.containData(t.coord):!0}function ibt(r,t,e){return r&&r.containZone&&t.coord&&e.coord&&!pC(t)&&!pC(e)?r.containZone(t.coord,e.coord):!0}function H7(r,t){return r?function(e,n,i,a){var o=a<2?e.coord&&e.coord[a]:e.value;return Sl(o,t[a])}:function(e,n,i,a){return Sl(e.value,t[a])}}function s_(r,t,e){if(e==="average"){var n=0,i=0;return r.each(t,function(a,o){isNaN(a)||(n+=a,i++)}),n/i}else return e==="median"?r.getMedian(t):r.getDataExtent(t)[e==="max"?1:0]}var Hx=xe(),nD=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this.markerGroupMap=Kt()},t.prototype.render=function(e,n,i){var a=this,o=this.markerGroupMap;o.each(function(c){Hx(c).keep=!1}),n.eachSeries(function(c){var h=ko.getMarkerModelFromSeries(c,a.type);h&&a.renderSeries(c,h,n,i)}),o.each(function(c){!Hx(c).keep&&a.group.remove(c.group)}),abt(n,o,this.type)},t.prototype.markKeep=function(e){Hx(e).keep=!0},t.prototype.toggleBlurSeries=function(e,n){var i=this;j(e,function(a){var o=ko.getMarkerModelFromSeries(a,i.type);if(o){var c=o.getData();c.eachItemGraphicEl(function(h){h&&(n?iH(h):hA(h))})}})},t.type="marker",t})(dr);function abt(r,t,e){r.eachSeries(function(n){var i=ko.getMarkerModelFromSeries(n,e),a=t.get(n.id);if(i&&a&&a.group){var o=bc(i),c=o.z,h=o.zlevel;W_(a.group,c,h)}})}function i3(r,t,e){var n=t.coordinateSystem,i=e.getWidth(),a=e.getHeight(),o=n&&n.getArea&&n.getArea();r.each(function(c){var h=r.getItemModel(c),v=h.get("relativeTo")==="coordinate",g=v?o?o.width:0:i,y=v?o?o.height:0:a,m=v&&o?o.x:0,b=v&&o?o.y:0,S,E=Yt(h.get("x"),g)+m,C=Yt(h.get("y"),y)+b;if(!isNaN(E)&&!isNaN(C))S=[E,C];else if(t.getMarkerPosition)S=t.getMarkerPosition(r.getValues(r.dimensions,c));else if(n){var A=r.get(n.dimensions[0],c),M=r.get(n.dimensions[1],c);S=n.dataToPoint([A,M])}isNaN(E)||(S[0]=E),isNaN(C)||(S[1]=C),r.setItemLayout(c,S)})}var obt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var o=ko.getMarkerModelFromSeries(a,"markPoint");o&&(i3(o.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(e,n,i,a){var o=e.coordinateSystem,c=e.id,h=e.getData(),v=this.markerGroupMap,g=v.get(c)||v.set(c,new Uv),y=sbt(o,e,n);n.setData(y),i3(n.getData(),e,a),y.each(function(m){var b=y.getItemModel(m),S=b.getShallow("symbol"),E=b.getShallow("symbolSize"),C=b.getShallow("symbolRotate"),A=b.getShallow("symbolOffset"),M=b.getShallow("symbolKeepAspect");if(ee(S)||ee(E)||ee(C)||ee(A)){var L=n.getRawValue(m),R=n.getDataParams(m);ee(S)&&(S=S(L,R)),ee(E)&&(E=E(L,R)),ee(C)&&(C=C(L,R)),ee(A)&&(A=A(L,R))}var O=b.getModel("itemStyle").getItemStyle(),P=b.get("z2"),V=Fv(h,"color");O.fill||(O.fill=V),y.setItemVisual(m,{z2:Jt(P,0),symbol:S,symbolSize:E,symbolRotate:C,symbolOffset:A,symbolKeepAspect:M,style:O})}),g.updateData(y),this.group.add(g.group),y.eachItemGraphicEl(function(m){m.traverse(function(b){ce(b).dataModel=n})}),this.markKeep(g),g.group.silent=n.get("silent")||e.get("silent")},t.type="markPoint",t})(nD);function sbt(r,t,e){var n;r?n=Pt(r&&r.dimensions,function(c){var h=t.getData().getDimensionInfo(t.getData().mapDimension(c))||{};return At(At({},h),{name:c,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new ui(n,e),a=Pt(e.get("data"),de(Cv,t));r&&(a=je(a,de(Av,r)));var o=H7(!!r,n);return i.initData(a,null,o),i}function lbt(r){r.registerComponentModel(ebt),r.registerComponentView(obt),r.registerPreprocessor(function(t){rD(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var ubt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t})(ko),Mm=xe(),cbt=function(r,t,e,n){var i=r.getData(),a;if(Rt(n))a=n;else{var o=n.type;if(o==="min"||o==="max"||o==="average"||o==="median"||n.xAxis!=null||n.yAxis!=null){var c=void 0,h=void 0;if(n.yAxis!=null||n.xAxis!=null)c=t.getAxis(n.yAxis!=null?"y":"x"),h=Rn(n.yAxis,n.xAxis);else{var v=B7(n,i,t,r);c=v.valueAxis;var g=d6(i,v.valueDataDim);h=s_(i,g,o)}var y=c.dim==="x"?0:1,m=1-y,b=ne(n),S={coord:[]};b.type=null,b.coord=[],b.coord[m]=-1/0,S.coord[m]=1/0;var E=e.get("precision");E>=0&&Re(h)&&(h=+h.toFixed(Math.min(E,20))),b.coord[y]=S.coord[y]=h,a=[b,S,{type:o,valueIndex:n.valueIndex,value:h}]}else a=[]}var C=[Cv(r,a[0]),Cv(r,a[1]),At({},a[2])];return C[2].type=C[2].type||null,ge(C[2],C[0]),ge(C[2],C[1]),C};function l_(r){return!isNaN(r)&&!isFinite(r)}function a3(r,t,e,n){var i=1-r,a=n.dimensions[r];return l_(t[i])&&l_(e[i])&&t[r]===e[r]&&n.getAxis(a).containData(t[r])}function fbt(r,t){if(r.type==="cartesian2d"){var e=t[0].coord,n=t[1].coord;if(e&&n&&(a3(1,e,n,r)||a3(0,e,n,r)))return!0}return Av(r,t[0])&&Av(r,t[1])}function zx(r,t,e,n,i){var a=n.coordinateSystem,o=r.getItemModel(t),c,h=Yt(o.get("x"),i.getWidth()),v=Yt(o.get("y"),i.getHeight());if(!isNaN(h)&&!isNaN(v))c=[h,v];else{if(n.getMarkerPosition)c=n.getMarkerPosition(r.getValues(r.dimensions,t));else{var g=a.dimensions,y=r.get(g[0],t),m=r.get(g[1],t);c=a.dataToPoint([y,m])}if(Al(a,"cartesian2d")){var b=a.getAxis("x"),S=a.getAxis("y"),g=a.dimensions;l_(r.get(g[0],t))?c[0]=b.toGlobalCoord(b.getExtent()[e?0:1]):l_(r.get(g[1],t))&&(c[1]=S.toGlobalCoord(S.getExtent()[e?0:1]))}isNaN(h)||(c[0]=h),isNaN(v)||(c[1]=v)}r.setItemLayout(t,c)}var hbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var o=ko.getMarkerModelFromSeries(a,"markLine");if(o){var c=o.getData(),h=Mm(o).from,v=Mm(o).to;h.each(function(g){zx(h,g,!0,a,i),zx(v,g,!1,a,i)}),c.each(function(g){c.setItemLayout(g,[h.getItemLayout(g),v.getItemLayout(g)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,n,i,a){var o=e.coordinateSystem,c=e.id,h=e.getData(),v=this.markerGroupMap,g=v.get(c)||v.set(c,new wM);this.group.add(g.group);var y=pbt(o,e,n),m=y.from,b=y.to,S=y.line;Mm(n).from=m,Mm(n).to=b,n.setData(S);var E=n.get("symbol"),C=n.get("symbolSize"),A=n.get("symbolRotate"),M=n.get("symbolOffset");Rt(E)||(E=[E,E]),Rt(C)||(C=[C,C]),Rt(A)||(A=[A,A]),Rt(M)||(M=[M,M]),y.from.each(function(R){L(m,R,!0),L(b,R,!1)}),S.each(function(R){var O=S.getItemModel(R),P=O.getModel("lineStyle").getLineStyle();S.setItemLayout(R,[m.getItemLayout(R),b.getItemLayout(R)]);var V=O.get("z2");P.stroke==null&&(P.stroke=m.getItemVisual(R,"style").fill),S.setItemVisual(R,{z2:Jt(V,0),fromSymbolKeepAspect:m.getItemVisual(R,"symbolKeepAspect"),fromSymbolOffset:m.getItemVisual(R,"symbolOffset"),fromSymbolRotate:m.getItemVisual(R,"symbolRotate"),fromSymbolSize:m.getItemVisual(R,"symbolSize"),fromSymbol:m.getItemVisual(R,"symbol"),toSymbolKeepAspect:b.getItemVisual(R,"symbolKeepAspect"),toSymbolOffset:b.getItemVisual(R,"symbolOffset"),toSymbolRotate:b.getItemVisual(R,"symbolRotate"),toSymbolSize:b.getItemVisual(R,"symbolSize"),toSymbol:b.getItemVisual(R,"symbol"),style:P})}),g.updateData(S),y.line.eachItemGraphicEl(function(R){ce(R).dataModel=n,R.traverse(function(O){ce(O).dataModel=n})});function L(R,O,P){var V=R.getItemModel(O);zx(R,O,P,e,a);var k=V.getModel("itemStyle").getItemStyle();k.fill==null&&(k.fill=Fv(h,"color")),R.setItemVisual(O,{symbolKeepAspect:V.get("symbolKeepAspect"),symbolOffset:Jt(V.get("symbolOffset",!0),M[P?0:1]),symbolRotate:Jt(V.get("symbolRotate",!0),A[P?0:1]),symbolSize:Jt(V.get("symbolSize"),C[P?0:1]),symbol:Jt(V.get("symbol",!0),E[P?0:1]),style:k})}this.markKeep(g),g.group.silent=n.get("silent")||e.get("silent")},t.type="markLine",t})(nD);function pbt(r,t,e){var n;r?n=Pt(r&&r.dimensions,function(v){var g=t.getData().getDimensionInfo(t.getData().mapDimension(v))||{};return At(At({},g),{name:v,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new ui(n,e),a=new ui(n,e),o=new ui([],e),c=Pt(e.get("data"),de(cbt,t,r,e));r&&(c=je(c,de(fbt,r)));var h=H7(!!r,n);return i.initData(Pt(c,function(v){return v[0]}),null,h),a.initData(Pt(c,function(v){return v[1]}),null,h),o.initData(Pt(c,function(v){return v[2]})),o.hasItemOption=!0,{from:i,to:a,line:o}}function dbt(r){r.registerComponentModel(ubt),r.registerComponentView(hbt),r.registerPreprocessor(function(t){rD(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var vbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t})(ko),Dm=xe(),gbt=function(r,t,e,n){var i=n[0],a=n[1];if(!(!i||!a)){var o=Cv(r,i),c=Cv(r,a),h=o.coord,v=c.coord;h[0]=Rn(h[0],-1/0),h[1]=Rn(h[1],-1/0),v[0]=Rn(v[0],1/0),v[1]=Rn(v[1],1/0);var g=qC([{},o,c]);return g.coord=[o.coord,c.coord],g.x0=o.x,g.y0=o.y,g.x1=c.x,g.y1=c.y,g}};function u_(r){return!isNaN(r)&&!isFinite(r)}function o3(r,t,e,n){var i=1-r;return u_(t[i])&&u_(e[i])}function ybt(r,t){var e=t.coord[0],n=t.coord[1],i={coord:e,x:t.x0,y:t.y0},a={coord:n,x:t.x1,y:t.y1};return Al(r,"cartesian2d")?e&&n&&(o3(1,e,n)||o3(0,e,n))?!0:ibt(r,i,a):Av(r,i)||Av(r,a)}function s3(r,t,e,n,i){var a=n.coordinateSystem,o=r.getItemModel(t),c,h=Yt(o.get(e[0]),i.getWidth()),v=Yt(o.get(e[1]),i.getHeight());if(!isNaN(h)&&!isNaN(v))c=[h,v];else{if(n.getMarkerPosition){var g=r.getValues(["x0","y0"],t),y=r.getValues(["x1","y1"],t),m=a.clampData(g),b=a.clampData(y),S=[];e[0]==="x0"?S[0]=m[0]>b[0]?y[0]:g[0]:S[0]=m[0]>b[0]?g[0]:y[0],e[1]==="y0"?S[1]=m[1]>b[1]?y[1]:g[1]:S[1]=m[1]>b[1]?g[1]:y[1],c=n.getMarkerPosition(S,e,!0)}else{var E=r.get(e[0],t),C=r.get(e[1],t),A=[E,C];a.clampData&&a.clampData(A,A),c=a.dataToPoint(A,!0)}if(Al(a,"cartesian2d")){var M=a.getAxis("x"),L=a.getAxis("y"),E=r.get(e[0],t),C=r.get(e[1],t);u_(E)?c[0]=M.toGlobalCoord(M.getExtent()[e[0]==="x0"?0:1]):u_(C)&&(c[1]=L.toGlobalCoord(L.getExtent()[e[1]==="y0"?0:1]))}isNaN(h)||(c[0]=h),isNaN(v)||(c[1]=v)}return c}var l3=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],mbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var o=ko.getMarkerModelFromSeries(a,"markArea");if(o){var c=o.getData();c.each(function(h){var v=Pt(l3,function(y){return s3(c,h,y,a,i)});c.setItemLayout(h,v);var g=c.getItemGraphicEl(h);g.setShape("points",v)})}},this)},t.prototype.renderSeries=function(e,n,i,a){var o=e.coordinateSystem,c=e.id,h=e.getData(),v=this.markerGroupMap,g=v.get(c)||v.set(c,{group:new re});this.group.add(g.group),this.markKeep(g);var y=_bt(o,e,n);n.setData(y),y.each(function(m){var b=Pt(l3,function(H){return s3(y,m,H,e,a)}),S=o.getAxis("x").scale,E=o.getAxis("y").scale,C=S.getExtent(),A=E.getExtent(),M=[S.parse(y.get("x0",m)),S.parse(y.get("x1",m))],L=[E.parse(y.get("y0",m)),E.parse(y.get("y1",m))];sa(M),sa(L);var R=!(C[0]>M[1]||C[1]<M[0]||A[0]>L[1]||A[1]<L[0]),O=!R;y.setItemLayout(m,{points:b,allClipped:O});var P=y.getItemModel(m),V=P.getModel("itemStyle").getItemStyle(),k=P.get("z2"),F=Fv(h,"color");V.fill||(V.fill=F,$t(V.fill)&&(V.fill=d0(V.fill,.4))),V.stroke||(V.stroke=F),y.setItemVisual(m,"style",V),y.setItemVisual(m,"z2",Jt(k,0))}),y.diff(Dm(g).data).add(function(m){var b=y.getItemLayout(m),S=y.getItemVisual(m,"z2");if(!b.allClipped){var E=new qn({z2:Jt(S,0),shape:{points:b.points}});y.setItemGraphicEl(m,E),g.group.add(E)}}).update(function(m,b){var S=Dm(g).data.getItemGraphicEl(b),E=y.getItemLayout(m),C=y.getItemVisual(m,"z2");E.allClipped?S&&g.group.remove(S):(S?Pe(S,{z2:Jt(C,0),shape:{points:E.points}},n,m):S=new qn({shape:{points:E.points}}),y.setItemGraphicEl(m,S),g.group.add(S))}).remove(function(m){var b=Dm(g).data.getItemGraphicEl(m);g.group.remove(b)}).execute(),y.eachItemGraphicEl(function(m,b){var S=y.getItemModel(b),E=y.getItemVisual(b,"style");m.useStyle(y.getItemVisual(b,"style")),fn(m,nn(S),{labelFetcher:n,labelDataIndex:b,defaultText:y.getName(b)||"",inheritColor:$t(E.fill)?d0(E.fill,1):yt.color.neutral99}),rn(m,S),gr(m,null,null,S.get(["emphasis","disabled"])),ce(m).dataModel=n}),Dm(g).data=y,g.group.silent=n.get("silent")||e.get("silent")},t.type="markArea",t})(nD);function _bt(r,t,e){var n,i,a=["x0","y0","x1","y1"];if(r){var o=Pt(r&&r.dimensions,function(v){var g=t.getData(),y=g.getDimensionInfo(g.mapDimension(v))||{};return At(At({},y),{name:v,ordinalMeta:null})});i=Pt(a,function(v,g){return{name:v,type:o[g%2].type}}),n=new ui(i,e)}else i=[{name:"value",type:"float"}],n=new ui(i,e);var c=Pt(e.get("data"),de(gbt,t,r,e));r&&(c=je(c,de(ybt,r)));var h=r?function(v,g,y,m){var b=v.coord[Math.floor(m/2)][m%2];return Sl(b,i[m])}:function(v,g,y,m){return Sl(v.value,i[m])};return n.initData(c,null,h),n.hasItemOption=!0,n}function bbt(r){r.registerComponentModel(vbt),r.registerComponentView(mbt),r.registerPreprocessor(function(t){rD(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var Sbt=function(r,t){if(t==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},dC=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},t.prototype._updateSelector=function(e){var n=e.selector,i=this.ecModel;n===!0&&(n=e.selector=["all","inverse"]),Rt(n)&&j(n,function(a,o){$t(a)&&(a={type:a}),n[o]=ge(a,Sbt(i,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<e.length;i++){var a=e[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var n=[],i=[];e.eachRawSeries(function(h){var v=h.name;i.push(v);var g;if(h.legendVisualProvider){var y=h.legendVisualProvider,m=y.getAllNames();e.isSeriesFiltered(h)||(i=i.concat(m)),m.length?n=n.concat(m):g=!0}else g=!0;g&&nA(h)&&n.push(h.name)}),this._availableNames=i;var a=this.get("data")||n,o=Kt(),c=Pt(a,function(h){return($t(h)||Re(h))&&(h={name:h}),o.get(h.name)?null:(o.set(h.name,!0),new Me(h,this,this.ecModel))},this);this._data=je(c,function(h){return!!h})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;j(a,function(o){n[o.get("name")]=!1})}n[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var n=this.option.selected;n.hasOwnProperty(e)||(n[e]=!0),this[n[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,n=this.option.selected;j(e,function(i){n[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,n=this.option.selected;j(e,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},t.prototype.isSelected=function(e){var n=this.option.selected;return!(n.hasOwnProperty(e)&&!n[e])&&ve(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:yt.size.m,align:"auto",backgroundColor:yt.color.transparent,borderColor:yt.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:yt.color.disabled,inactiveBorderColor:yt.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:yt.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:yt.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:yt.color.tertiary,borderWidth:1,borderColor:yt.color.border},emphasis:{selectorLabel:{show:!0,color:yt.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},t})(Te),Vf=de,vC=j,Lm=re,z7=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new Lm),this.group.add(this._selectorGroup=new Lm),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var o=e.get("align"),c=e.get("orient");(!o||o==="auto")&&(o=e.get("left")==="right"&&c==="vertical"?"right":"left");var h=e.get("selector",!0),v=e.get("selectorPosition",!0);h&&(!v||v==="auto")&&(v=c==="horizontal"?"end":"start"),this.renderInner(o,e,n,i,h,c,v);var g=an(e,i).refContainer,y=e.getBoxLayoutParams(),m=e.get("padding"),b=yr(y,g,m),S=this.layoutInner(e,o,b,a,h,v),E=yr(oe({width:S.width,height:S.height},y),g,m);this.group.x=E.x-S.x,this.group.y=E.y-S.y,this.group.markRedraw(),this.group.add(this._backgroundEl=L7(S,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,n,i,a,o,c,h){var v=this.getContentGroup(),g=Kt(),y=n.get("selectedMode"),m=n.get("triggerEvent"),b=[];i.eachRawSeries(function(S){!S.get("legendHoverLink")&&b.push(S.id)}),vC(n.getData(),function(S,E){var C=this,A=S.get("name");if(!this.newlineDisabled&&(A===""||A===`
`)){var M=new Lm;M.newline=!0,v.add(M);return}var L=i.getSeriesByName(A)[0];if(!g.get(A))if(L){var R=L.getData(),O=R.getVisual("legendLineStyle")||{},P=R.getVisual("legendIcon"),V=R.getVisual("style"),k=this._createItem(L,A,E,S,n,e,O,V,P,y,a);k.on("click",Vf(u3,A,null,a,b)).on("mouseover",Vf(gC,L.name,null,a,b)).on("mouseout",Vf(yC,L.name,null,a,b)),i.ssr&&k.eachChild(function(F){var H=ce(F);H.seriesIndex=L.seriesIndex,H.dataIndex=E,H.ssrType="legend"}),m&&k.eachChild(function(F){C.packEventData(F,n,L,E,A)}),g.set(A,!0)}else i.eachRawSeries(function(F){var H=this;if(!g.get(A)&&F.legendVisualProvider){var W=F.legendVisualProvider;if(!W.containName(A))return;var q=W.indexOfName(A),Y=W.getItemVisual(q,"style"),Z=W.getItemVisual(q,"legendIcon"),et=wi(Y.fill);et&&et[3]===0&&(et[3]=.2,Y=At(At({},Y),{fill:Co(et,"rgba")}));var J=this._createItem(F,A,E,S,n,e,{},Y,Z,y,a);J.on("click",Vf(u3,null,A,a,b)).on("mouseover",Vf(gC,null,A,a,b)).on("mouseout",Vf(yC,null,A,a,b)),i.ssr&&J.eachChild(function(it){var rt=ce(it);rt.seriesIndex=F.seriesIndex,rt.dataIndex=E,rt.ssrType="legend"}),m&&J.eachChild(function(it){H.packEventData(it,n,F,E,A)}),g.set(A,!0)}},this)},this),o&&this._createSelector(o,n,a,c,h)},t.prototype.packEventData=function(e,n,i,a,o){var c={componentType:"legend",componentIndex:n.componentIndex,dataIndex:a,value:o,seriesIndex:i.seriesIndex};ce(e).eventData=c},t.prototype._createSelector=function(e,n,i,a,o){var c=this.getSelectorGroup();vC(e,function(v){var g=v.type,y=new Oe({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:g==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});c.add(y);var m=n.getModel("selectorLabel"),b=n.getModel(["emphasis","selectorLabel"]);fn(y,{normal:m,emphasis:b},{defaultText:v.title}),uc(y)})},t.prototype._createItem=function(e,n,i,a,o,c,h,v,g,y,m){var b=e.visualDrawType,S=o.get("itemWidth"),E=o.get("itemHeight"),C=o.isSelected(n),A=a.get("symbolRotate"),M=a.get("symbolKeepAspect"),L=a.get("icon");g=L||g||"roundRect";var R=wbt(g,a,h,v,b,C,m),O=new Lm,P=a.getModel("textStyle");if(ee(e.getLegendIcon)&&(!L||L==="inherit"))O.add(e.getLegendIcon({itemWidth:S,itemHeight:E,icon:g,iconRotate:A,itemStyle:R.itemStyle,lineStyle:R.lineStyle,symbolKeepAspect:M}));else{var V=L==="inherit"&&e.getData().getVisual("symbol")?A==="inherit"?e.getData().getVisual("symbolRotate"):A:0;O.add(xbt({itemWidth:S,itemHeight:E,icon:g,iconRotate:V,itemStyle:R.itemStyle,symbolKeepAspect:M}))}var k=c==="left"?S+5:-5,F=c,H=o.get("formatter"),W=n;$t(H)&&H?W=H.replace("{name}",n??""):ee(H)&&(W=H(n));var q=C?P.getTextColor():a.get("inactiveColor");O.add(new Oe({style:ar(P,{text:W,x:k,y:E/2,fill:q,align:F,verticalAlign:"middle"},{inheritColor:q})}));var Y=new we({shape:O.getBoundingRect(),style:{fill:"transparent"}}),Z=a.getModel("tooltip");return Z.get("show")&&Ts({el:Y,componentModel:o,itemName:n,itemTooltipOption:Z.option}),O.add(Y),O.eachChild(function(et){et.silent=!0}),Y.silent=!y,this.getContentGroup().add(O),uc(O),O.__legendDataIndex=i,O},t.prototype.layoutInner=function(e,n,i,a,o,c){var h=this.getContentGroup(),v=this.getSelectorGroup();fc(e.get("orient"),h,e.get("itemGap"),i.width,i.height);var g=h.getBoundingRect(),y=[-g.x,-g.y];if(v.markRedraw(),h.markRedraw(),o){fc("horizontal",v,e.get("selectorItemGap",!0));var m=v.getBoundingRect(),b=[-m.x,-m.y],S=e.get("selectorButtonGap",!0),E=e.getOrient().index,C=E===0?"width":"height",A=E===0?"height":"width",M=E===0?"y":"x";c==="end"?b[E]+=g[C]+S:y[E]+=m[C]+S,b[1-E]+=g[A]/2-m[A]/2,v.x=b[0],v.y=b[1],h.x=y[0],h.y=y[1];var L={x:0,y:0};return L[C]=g[C]+S+m[C],L[A]=Math.max(g[A],m[A]),L[M]=Math.min(0,m[M]+b[1-E]),L}else return h.x=y[0],h.y=y[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t})(dr);function wbt(r,t,e,n,i,a,o){function c(C,A){C.lineWidth==="auto"&&(C.lineWidth=A.lineWidth>0?2:0),vC(C,function(M,L){C[L]==="inherit"&&(C[L]=A[L])})}var h=t.getModel("itemStyle"),v=h.getItemStyle(),g=r.lastIndexOf("empty",0)===0?"fill":"stroke",y=h.getShallow("decal");v.decal=!y||y==="inherit"?n.decal:gh(y,o),v.fill==="inherit"&&(v.fill=n[i]),v.stroke==="inherit"&&(v.stroke=n[g]),v.opacity==="inherit"&&(v.opacity=(i==="fill"?n:e).opacity),c(v,n);var m=t.getModel("lineStyle"),b=m.getLineStyle();if(c(b,e),v.fill==="auto"&&(v.fill=n.fill),v.stroke==="auto"&&(v.stroke=n.fill),b.stroke==="auto"&&(b.stroke=n.fill),!a){var S=t.get("inactiveBorderWidth"),E=v[g];v.lineWidth=S==="auto"?n.lineWidth>0&&E?2:0:v.lineWidth,v.fill=t.get("inactiveColor"),v.stroke=t.get("inactiveBorderColor"),b.stroke=m.get("inactiveColor"),b.lineWidth=m.get("inactiveWidth")}return{itemStyle:v,lineStyle:b}}function xbt(r){var t=r.icon||"roundRect",e=Xr(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return e.setStyle(r.itemStyle),e.rotation=(r.iconRotate||0)*Math.PI/180,e.setOrigin([r.itemWidth/2,r.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill=yt.color.neutral00,e.style.lineWidth=2),e}function u3(r,t,e,n){yC(r,t,e,n),e.dispatchAction({type:"legendToggleSelect",name:r??t}),gC(r,t,e,n)}function U7(r){for(var t=r.getZr().storage.getDisplayList(),e,n=0,i=t.length;n<i&&!(e=t[n].states.emphasis);)n++;return e&&e.hoverLayer}function gC(r,t,e,n){U7(e)||e.dispatchAction({type:"highlight",seriesName:r,name:t,excludeSeriesId:n})}function yC(r,t,e,n){U7(e)||e.dispatchAction({type:"downplay",seriesName:r,name:t,excludeSeriesId:n})}function Ebt(r){var t=r.findComponents({mainType:"legend"});t&&t.length&&r.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}function sd(r,t,e){var n=r==="allSelect"||r==="inverseSelect",i={},a=[];e.eachComponent({mainType:"legend",query:t},function(c){n?c[r]():c[r](t.name),c3(c,i),a.push(c.componentIndex)});var o={};return e.eachComponent("legend",function(c){j(i,function(h,v){c[h?"select":"unSelect"](v)}),c3(c,o)}),n?{selected:o,legendIndex:a}:{name:t.name,selected:o}}function c3(r,t){var e=t||{};return j(r.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=r.isSelected(i);Xt(e,i)?e[i]=e[i]&&a:e[i]=a}}),e}function Tbt(r){r.registerAction("legendToggleSelect","legendselectchanged",de(sd,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",de(sd,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",de(sd,"inverseSelect")),r.registerAction("legendSelect","legendselected",de(sd,"select")),r.registerAction("legendUnSelect","legendunselected",de(sd,"unSelect"))}function W7(r){r.registerComponentModel(dC),r.registerComponentView(z7),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,Ebt),r.registerSubTypeDefaulter("legend",function(){return"plain"}),Tbt(r)}var Cbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,n,i){var a=Dc(e);r.prototype.init.call(this,e,n,i),f3(this,e,a)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),f3(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Il(dC.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:yt.color.accent50,pageIconInactiveColor:yt.color.accent10,pageIconSize:15,pageTextStyle:{color:yt.color.tertiary},animationDurationUpdate:800}),t})(dC);function f3(r,t,e){var n=r.getOrient(),i=[1,1];i[n.index]=0,Oo(t,e,{type:"box",ignoreSize:!!i})}var h3=re,Ux=["width","height"],Wx=["x","y"],Abt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new h3),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new h3)},t.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,n,i,a,o,c,h){var v=this;r.prototype.renderInner.call(this,e,n,i,a,o,c,h);var g=this._controllerGroup,y=n.get("pageIconSize",!0),m=Rt(y)?y:[y,y];S("pagePrev",0);var b=n.getModel("pageTextStyle");g.add(new Oe({name:"pageText",style:{text:"xx/xx",fill:b.getTextColor(),font:b.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),S("pageNext",1);function S(E,C){var A=E+"DataIndex",M=Pv(n.get("pageIcons",!0)[n.getOrient().name][C],{onclick:qt(v._pageGo,v,A,n,a)},{x:-m[0]/2,y:-m[1]/2,width:m[0],height:m[1]});M.name=E,g.add(M)}},t.prototype.layoutInner=function(e,n,i,a,o,c){var h=this.getSelectorGroup(),v=e.getOrient().index,g=Ux[v],y=Wx[v],m=Ux[1-v],b=Wx[1-v];o&&fc("horizontal",h,e.get("selectorItemGap",!0));var S=e.get("selectorButtonGap",!0),E=h.getBoundingRect(),C=[-E.x,-E.y],A=ne(i);o&&(A[g]=i[g]-E[g]-S);var M=this._layoutContentAndController(e,a,A,v,g,m,b,y);if(o){if(c==="end")C[v]+=M[g]+S;else{var L=E[g]+S;C[v]-=L,M[y]-=L}M[g]+=E[g]+S,C[1-v]+=M[b]+M[m]/2-E[m]/2,M[m]=Math.max(M[m],E[m]),M[b]=Math.min(M[b],E[b]+C[1-v]),h.x=C[0],h.y=C[1],h.markRedraw()}return M},t.prototype._layoutContentAndController=function(e,n,i,a,o,c,h,v){var g=this.getContentGroup(),y=this._containerGroup,m=this._controllerGroup;fc(e.get("orient"),g,e.get("itemGap"),a?i.width:null,a?null:i.height),fc("horizontal",m,e.get("pageButtonItemGap",!0));var b=g.getBoundingRect(),S=m.getBoundingRect(),E=this._showController=b[o]>i[o],C=[-b.x,-b.y];n||(C[a]=g[v]);var A=[0,0],M=[-S.x,-S.y],L=Jt(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(E){var R=e.get("pageButtonPosition",!0);R==="end"?M[a]+=i[o]-S[o]:A[a]+=S[o]+L}M[1-a]+=b[c]/2-S[c]/2,g.setPosition(C),y.setPosition(A),m.setPosition(M);var O={x:0,y:0};if(O[o]=E?i[o]:b[o],O[c]=Math.max(b[c],S[c]),O[h]=Math.min(0,S[h]+M[1-a]),y.__rectSize=i[o],E){var P={x:0,y:0};P[o]=Math.max(i[o]-S[o]-L,0),P[c]=O[c],y.setClipPath(new we({shape:P})),y.__rectSize=P[o]}else m.eachChild(function(k){k.attr({invisible:!0,silent:!0})});var V=this._getPageInfo(e);return V.pageIndex!=null&&Pe(g,{x:V.contentPosition[0],y:V.contentPosition[1]},E?e:null),this._updatePageInfoView(e,V),O},t.prototype._pageGo=function(e,n,i){var a=this._getPageInfo(n)[e];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},t.prototype._updatePageInfoView=function(e,n){var i=this._controllerGroup;j(["pagePrev","pageNext"],function(g){var y=g+"DataIndex",m=n[y]!=null,b=i.childOfName(g);b&&(b.setStyle("fill",m?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),b.cursor=m?"pointer":"default")});var a=i.childOfName("pageText"),o=e.get("pageFormatter"),c=n.pageIndex,h=c!=null?c+1:0,v=n.pageCount;a&&o&&a.setStyle("text",$t(o)?o.replace("{current}",h==null?"":h+"").replace("{total}",v==null?"":v+""):o({current:h,total:v}))},t.prototype._getPageInfo=function(e){var n=e.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=e.getOrient().index,c=Ux[o],h=Wx[o],v=this._findTargetItemIndex(n),g=i.children(),y=g[v],m=g.length,b=m?1:0,S={contentPosition:[i.x,i.y],pageCount:b,pageIndex:b-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return S;var E=R(y);S.contentPosition[o]=-E.s;for(var C=v+1,A=E,M=E,L=null;C<=m;++C)L=R(g[C]),(!L&&M.e>A.s+a||L&&!O(L,A.s))&&(M.i>A.i?A=M:A=L,A&&(S.pageNextDataIndex==null&&(S.pageNextDataIndex=A.i),++S.pageCount)),M=L;for(var C=v-1,A=E,M=E,L=null;C>=-1;--C)L=R(g[C]),(!L||!O(M,L.s))&&A.i<M.i&&(M=A,S.pagePrevDataIndex==null&&(S.pagePrevDataIndex=A.i),++S.pageCount,++S.pageIndex),A=L;return S;function R(P){if(P){var V=P.getBoundingRect(),k=V[h]+P[h];return{s:k,e:k+V[c],i:P.__legendDataIndex}}}function O(P,V){return P.e>=V&&P.s<=V+a}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(o,c){var h=o.__legendDataIndex;a==null&&h!=null&&(a=c),h===e&&(n=c)}),n??a},t.type="legend.scroll",t})(z7);function Mbt(r){r.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;n!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(n)})})}function Dbt(r){_e(W7),r.registerComponentModel(Cbt),r.registerComponentView(Abt),Mbt(r)}function Lbt(r){_e(W7),_e(Dbt)}var Nbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=Il(Tv.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t})(Tv),iD=xe();function Rbt(r,t,e){iD(r).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(t.uid);i&&(i.getRange=e)})}function Ibt(r,t){for(var e=iD(r).coordSysRecordMap,n=e.keys(),i=0;i<n.length;i++){var a=n[i],o=e.get(a),c=o.dataZoomInfoMap;if(c){var h=t.uid,v=c.get(h);v&&(c.removeKey(h),c.keys().length||j7(e,o))}}}function j7(r,t){if(t){r.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function Obt(r,t){var e={model:t,containsPoint:de(kbt,t),dispatchAction:de(Pbt,r),dataZoomInfoMap:null,controller:null},n=e.controller=new Oc(r.getZr());return j(["pan","zoom","scrollMove"],function(i){n.on(i,function(a){var o=[];e.dataZoomInfoMap.each(function(c){if(a.isAvailableBehavior(c.model.option)){var h=(c.getRange||{})[i],v=h&&h(c.dzReferCoordSysInfo,e.model.mainType,e.controller,a);!c.model.get("disabled",!0)&&v&&o.push({dataZoomId:c.model.id,start:v[0],end:v[1]})}}),o.length&&e.dispatchAction(o)})}),e}function Pbt(r,t){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function kbt(r,t,e,n){return r.coordinateSystem.containPoint([e,n])}function Vbt(r,t,e){var n,i="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return r.each(function(c){var h=c.model,v=h.get("disabled",!0)?!1:h.get("zoomLock",!0)?"move":!0;a[i+v]>a[i+n]&&(n=v),o=o&&h.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o,api:e,zInfo:{component:t.model},triggerInfo:{roamTrigger:null,isInSelf:t.containsPoint}}}}function Gbt(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=iD(e),i=n.coordSysRecordMap||(n.coordSysRecordMap=Kt());i.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var o=A7(a);j(o.infoList,function(c){var h=c.model.uid,v=i.get(h)||i.set(h,Obt(e,c.model)),g=v.dataZoomInfoMap||(v.dataZoomInfoMap=Kt());g.set(a.uid,{dzReferCoordSysInfo:c,model:a,getRange:null})})}),i.each(function(a){var o=a.controller,c,h=a.dataZoomInfoMap;if(h){var v=h.keys()[0];v!=null&&(c=h.get(v))}if(!c){j7(i,a);return}var g=Vbt(h,a,e);o.enable(g.controlType,g.opt),Vh(a,"dispatchAction",c.model.get("throttle",!0),"fixRate")})})}var Fbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,n,i){if(r.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),Rbt(i,e,{pan:qt(jx.pan,this),zoom:qt(jx.zoom,this),scrollMove:qt(jx.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Ibt(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t})(ZM),jx={zoom:function(r,t,e,n){var i=this.range,a=i.slice(),o=r.axisModels[0];if(o){var c=Yx[t](null,[n.originX,n.originY],o,e,r),h=(c.signal>0?c.pixelStart+c.pixelLength-c.pixel:c.pixel-c.pixelStart)/c.pixelLength*(a[1]-a[0])+a[0],v=Math.max(1/n.scale,0);a[0]=(a[0]-h)*v+h,a[1]=(a[1]-h)*v+h;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Ml(0,a,[0,100],0,g.minSpan,g.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:p3(function(r,t,e,n,i,a){var o=Yx[n]([a.oldX,a.oldY],[a.newX,a.newY],t,i,e);return o.signal*(r[1]-r[0])*o.pixel/o.pixelLength}),scrollMove:p3(function(r,t,e,n,i,a){var o=Yx[n]([0,0],[a.scrollDelta,a.scrollDelta],t,i,e);return o.signal*(r[1]-r[0])*a.scrollDelta})};function p3(r){return function(t,e,n,i){var a=this.range,o=a.slice(),c=t.axisModels[0];if(c){var h=r(o,c,t,e,n,i);if(Ml(h,o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}}}var Yx={grid:function(r,t,e,n,i){var a=e.axis,o={},c=i.model.coordinateSystem.getRect();return r=r||[0,0],a.dim==="x"?(o.pixel=t[0]-r[0],o.pixelLength=c.width,o.pixelStart=c.x,o.signal=a.inverse?1:-1):(o.pixel=t[1]-r[1],o.pixelLength=c.height,o.pixelStart=c.y,o.signal=a.inverse?-1:1),o},polar:function(r,t,e,n,i){var a=e.axis,o={},c=i.model.coordinateSystem,h=c.getRadiusAxis().getExtent(),v=c.getAngleAxis().getExtent();return r=r?c.pointToCoord(r):[0,0],t=c.pointToCoord(t),e.mainType==="radiusAxis"?(o.pixel=t[0]-r[0],o.pixelLength=h[1]-h[0],o.pixelStart=h[0],o.signal=a.inverse?1:-1):(o.pixel=t[1]-r[1],o.pixelLength=v[1]-v[0],o.pixelStart=v[0],o.signal=a.inverse?-1:1),o},singleAxis:function(r,t,e,n,i){var a=e.axis,o=i.model.coordinateSystem.getRect(),c={};return r=r||[0,0],a.orient==="horizontal"?(c.pixel=t[0]-r[0],c.pixelLength=o.width,c.pixelStart=o.x,c.signal=a.inverse?1:-1):(c.pixel=t[1]-r[1],c.pixelLength=o.height,c.pixelStart=o.y,c.signal=a.inverse?-1:1),c}};function Y7(r){KM(r),r.registerComponentModel(Nbt),r.registerComponentView(Fbt),Gbt(r)}var Bbt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Il(Tv.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:yt.color.accent10,borderRadius:0,backgroundColor:yt.color.transparent,dataBackground:{lineStyle:{color:yt.color.accent30,width:.5},areaStyle:{color:yt.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:yt.color.accent40,width:.5},areaStyle:{color:yt.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:yt.color.neutral00,borderColor:yt.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:yt.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:yt.color.tertiary},brushSelect:!0,brushStyle:{color:yt.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:yt.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),t})(Tv),ld=we,Hbt=1,$x=30,zbt=7,ud="horizontal",d3="vertical",Ubt=5,Wbt=["line","bar","candlestick","scatter"],jbt={easing:"cubicOut",duration:100,delay:0},Ybt=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,n){this.api=n,this._onBrush=qt(this._onBrush,this),this._onBrushEnd=qt(this._onBrushEnd,this)},t.prototype.render=function(e,n,i,a){if(r.prototype.render.apply(this,arguments),Vh(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){cv(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new re;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,n=this.api,i=e.get("brushSelect"),a=i?zbt:0,o=an(e,n).refContainer,c=this._findCoordRect(),h=e.get("defaultLocationEdgeGap",!0)||0,v=this._orient===ud?{right:o.width-c.x-c.width,top:o.height-$x-h-a,width:c.width,height:$x}:{right:h,top:c.y,width:$x,height:c.height},g=Dc(e.option);j(["right","top","width","height"],function(m){g[m]==="ph"&&(g[m]=v[m])});var y=yr(g,o);this._location={x:y.x,y:y.y},this._size=[y.width,y.height],this._orient===d3&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,n=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),c=this._displayables.sliderGroup,h=(this._dataShadowInfo||{}).otherAxisInverse;c.attr(i===ud&&!o?{scaleY:h?1:-1,scaleX:1}:i===ud&&o?{scaleY:h?1:-1,scaleX:-1}:i===d3&&!o?{scaleY:h?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:h?-1:1,scaleX:-1,rotation:Math.PI/2});var v=e.getBoundingRect([c]);e.x=n.x-v.x,e.y=n.y-v.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,a=e.get("brushSelect");i.add(new ld({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new ld({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:qt(this._onClickPanel,this)}),c=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",c.on("mousemove",this._onBrush),c.on("mouseup",this._onBrushEnd)):(c.off("mousemove",this._onBrush),c.off("mouseup",this._onBrushEnd)),i.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var n=this._size,i=this._shadowSize||[],a=e.series,o=a.getRawData(),c=a.getShadowDim&&a.getShadowDim(),h=c&&o.getDimensionInfo(c)?a.getShadowDim():e.otherDim;if(h==null)return;var v=this._shadowPolygonPts,g=this._shadowPolylinePts;if(o!==this._shadowData||h!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var y=o.getDataExtent(e.thisDim),m=o.getDataExtent(h),b=(m[1]-m[0])*.3;m=[m[0]-b,m[1]+b];var S=[0,n[1]],E=[0,n[0]],C=[[n[0],0],[0,0]],A=[],M=E[1]/Math.max(1,o.count()-1),L=n[0]/(y[1]-y[0]),R=e.thisAxis.type==="time",O=-M,P=Math.round(o.count()/n[0]),V;o.each([e.thisDim,h],function(q,Y,Z){if(P>0&&Z%P){R||(O+=M);return}O=R?(+q-y[0])*L:O+M;var et=Y==null||isNaN(Y)||Y==="",J=et?0:We(Y,m,S,!0);et&&!V&&Z?(C.push([C[C.length-1][0],0]),A.push([A[A.length-1][0],0])):!et&&V&&(C.push([O,0]),A.push([O,0])),et||(C.push([O,J]),A.push([O,J])),V=et}),v=this._shadowPolygonPts=C,g=this._shadowPolylinePts=A}this._shadowData=o,this._shadowDim=h,this._shadowSize=[n[0],n[1]];var k=this.dataZoomModel;function F(q){var Y=k.getModel(q?"selectedDataBackground":"dataBackground"),Z=new re,et=new qn({shape:{points:v},segmentIgnoreThreshold:1,style:Y.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),J=new In({shape:{points:g},segmentIgnoreThreshold:1,style:Y.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return Z.add(et),Z.add(J),Z}for(var H=0;H<3;H++){var W=F(H===1);this._displayables.sliderGroup.add(W),this._displayables.dataShadowSegs.push(W)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,n=e.get("showDataShadow");if(n!==!1){var i,a=this.ecModel;return e.eachTargetAxis(function(o,c){var h=e.getAxisProxy(o,c).getTargetSeriesModels();j(h,function(v){if(!i&&!(n!==!0&&ve(Wbt,v.get("type"))<0)){var g=a.getComponent(dl(o),c).axis,y=$bt(o),m,b=v.coordinateSystem;y!=null&&b.getOtherAxis&&(m=b.getOtherAxis(g).inverse),y=v.getData().mapDimension(y);var S=v.getData().mapDimension(o);i={thisAxis:g,series:v,thisDim:S,otherDim:y,otherAxisInverse:m}}},this)},this),i}},t.prototype._renderHandle=function(){var e=this.group,n=this._displayables,i=n.handles=[null,null],a=n.handleLabels=[null,null],o=this._displayables.sliderGroup,c=this._size,h=this.dataZoomModel,v=this.api,g=h.get("borderRadius")||0,y=h.get("brushSelect"),m=n.filler=new ld({silent:y,style:{fill:h.get("fillerColor")},textConfig:{position:"inside"}});o.add(m),o.add(new ld({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:c[0],height:c[1],r:g},style:{stroke:h.get("dataBackgroundColor")||h.get("borderColor"),lineWidth:Hbt,fill:yt.color.transparent}})),j([0,1],function(L){var R=h.get("handleIcon");!N0[R]&&R.indexOf("path://")<0&&R.indexOf("image://")<0&&(R="path://"+R);var O=Xr(R,-1,0,2,2,null,!0);O.attr({cursor:qbt(this._orient),draggable:!0,drift:qt(this._onDragMove,this,L),ondragend:qt(this._onDragEnd,this),onmouseover:qt(this._showDataInfo,this,!0),onmouseout:qt(this._showDataInfo,this,!1),z2:5});var P=O.getBoundingRect(),V=h.get("handleSize");this._handleHeight=Yt(V,this._size[1]),this._handleWidth=P.width/P.height*this._handleHeight,O.setStyle(h.getModel("handleStyle").getItemStyle()),O.style.strokeNoScale=!0,O.rectHover=!0,O.ensureState("emphasis").style=h.getModel(["emphasis","handleStyle"]).getItemStyle(),uc(O);var k=h.get("handleColor");k!=null&&(O.style.fill=k),o.add(i[L]=O);var F=h.getModel("textStyle"),H=h.get("handleLabel")||{},W=H.show||!1;e.add(a[L]=new Oe({silent:!0,invisible:!W,style:ar(F,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:F.getTextColor(),font:F.getFont()}),z2:10}))},this);var b=m;if(y){var S=Yt(h.get("moveHandleSize"),c[1]),E=n.moveHandle=new we({style:h.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:c[1]-.5,height:S}}),C=S*.8,A=n.moveHandleIcon=Xr(h.get("moveHandleIcon"),-C/2,-C/2,C,C,yt.color.neutral00,!0);A.silent=!0,A.y=c[1]+S/2-.5,E.ensureState("emphasis").style=h.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var M=Math.min(c[1]/2,Math.max(S,10));b=n.moveZone=new we({invisible:!0,shape:{y:c[1]-M,height:S+M}}),b.on("mouseover",function(){v.enterEmphasis(E)}).on("mouseout",function(){v.leaveEmphasis(E)}),o.add(E),o.add(A),o.add(b)}b.attr({draggable:!0,cursor:"default",drift:qt(this._onDragMove,this,"all"),ondragstart:qt(this._showDataInfo,this,!0),ondragend:qt(this._onDragEnd,this),onmouseover:qt(this._showDataInfo,this,!0),onmouseout:qt(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[We(e[0],[0,100],n,!0),We(e[1],[0,100],n,!0)]},t.prototype._updateInterval=function(e,n){var i=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),c=i.findRepresentativeAxisProxy().getMinMaxSpan(),h=[0,100];Ml(n,a,o,i.get("zoomLock")?"all":e,c.minSpan!=null?We(c.minSpan,h,o,!0):null,c.maxSpan!=null?We(c.maxSpan,h,o,!0):null);var v=this._range,g=this._range=sa([We(a[0],o,h,!0),We(a[1],o,h,!0)]);return!v||v[0]!==g[0]||v[1]!==g[1]},t.prototype._updateView=function(e){var n=this._displayables,i=this._handleEnds,a=sa(i.slice()),o=this._size;j([0,1],function(b){var S=n.handles[b],E=this._handleHeight;S.attr({scaleX:E/2,scaleY:E/2,x:i[b]+(b?-1:1),y:o[1]/2-E/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var c={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(c),n.moveZone.setShape(c),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",c.x+c.width/2));for(var h=n.dataShadowSegs,v=[0,a[0],a[1],o[0]],g=0;g<h.length;g++){var y=h[g],m=y.getClipPath();m||(m=new we,y.setClipPath(m)),m.setShape({x:v[g],y:0,width:v[g+1]-v[g],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var n=this.dataZoomModel,i=this._displayables,a=i.handleLabels,o=this._orient,c=["",""];if(n.get("showDetail")){var h=n.findRepresentativeAxisProxy();if(h){var v=h.getAxisModel().axis,g=this._range,y=e?h.calculateDataWindow({start:g[0],end:g[1]}).valueWindow:h.getDataValueWindow();c=[this._formatLabel(y[0],v),this._formatLabel(y[1],v)]}}var m=sa(this._handleEnds.slice());b.call(this,0),b.call(this,1);function b(S){var E=cc(i.handles[S].parent,this.group),C=U_(S===0?"right":"left",E),A=this._handleWidth/2+Ubt,M=Da([m[S]+(S===0?-A:A),this._size[1]/2],E);a[S].setStyle({x:M[0],y:M[1],verticalAlign:o===ud?"middle":C,align:o===ud?C:"center",text:c[S]})}},t.prototype._formatLabel=function(e,n){var i=this.dataZoomModel,a=i.get("labelFormatter"),o=i.get("labelPrecision");(o==null||o==="auto")&&(o=n.getPixelPrecision());var c=e==null||isNaN(e)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return ee(a)?a(e,c):$t(a)?a.replace("{value}",c):c},t.prototype._showDataInfo=function(e){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=a.get("show")||!1,c=e||this._dragging?o:i,h=this._displayables,v=h.handleLabels;v[0].attr("invisible",!c),v[1].attr("invisible",!c),h.moveHandle&&this.api[c?"enterEmphasis":"leaveEmphasis"](h.moveHandle,1)},t.prototype._onDragMove=function(e,n,i,a){this._dragging=!0,vs(a.event);var o=this._displayables.sliderGroup.getLocalTransform(),c=Da([n,i],o,!0),h=this._updateInterval(e,c[0]),v=this.dataZoomModel.get("realtime");this._updateView(!v),h&&v&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var a=this._handleEnds,o=(a[0]+a[1])/2,c=this._updateInterval("all",i[0]-o);this._updateView(),c&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var n=e.offsetX,i=e.offsetY;this._brushStart=new ae(n,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),c=[0,100],h=this._handleEnds=[i.x,i.x+i.width],v=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();Ml(0,h,o,0,v.minSpan!=null?We(v.minSpan,c,o,!0):null,v.maxSpan!=null?We(v.maxSpan,c,o,!0):null),this._range=sa([We(h[0],o,c,!0),We(h[1],o,c,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(vs(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,n){var i=this._displayables,a=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new ld({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var c=this._brushStart,h=this._displayables.sliderGroup,v=h.transformCoordToLocal(e,n),g=h.transformCoordToLocal(c.x,c.y),y=this._size;v[0]=Math.max(Math.min(y[0],v[0]),0),o.setShape({x:g[0],y:0,width:v[0]-g[0],height:y[1]})},t.prototype._dispatchZoomAction=function(e){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?jbt:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var e,n=A7(this.dataZoomModel).infoList;if(!e&&n.length){var i=n[0].model.coordinateSystem;e=i.getRect&&i.getRect()}if(!e){var a=this.api.getWidth(),o=this.api.getHeight();e={x:a*.2,y:o*.2,width:a*.6,height:o*.6}}return e},t.type="dataZoom.slider",t})(ZM);function $bt(r){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[r]}function qbt(r){return r==="vertical"?"ns-resize":"ew-resize"}function $7(r){r.registerComponentModel(Bbt),r.registerComponentView(Ybt),KM(r)}function Xbt(r){_e(Y7),_e($7)}var q7={get:function(r,t,e){var n=ne((Zbt[r]||{})[t]);return e&&Rt(n)?n[n.length-1]:n}},Zbt={color:{active:["#006edd","#e0ffff"],inactive:[yt.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},v3=cn.mapVisual,Kbt=cn.eachVisual,Jbt=Rt,g3=j,Qbt=sa,t1t=We,c_=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,n){var i=this.option;!n&&V7(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var n=this.stateList;e=qt(e,this),this.controllerVisuals=fC(this.option.controller,n,e),this.targetVisuals=fC(this.option.target,n,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesId,n=this.option.seriesIndex;n==null&&e==null&&(n="all");var i=Lh(this.ecModel,"series",{index:n,id:e},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return Pt(i,function(a){return a.componentIndex})},t.prototype.eachTargetSeries=function(e,n){j(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&e.call(n,a)},this)},t.prototype.isTargetSeries=function(e){var n=!1;return this.eachTargetSeries(function(i){i===e&&(n=!0)}),n},t.prototype.formatValueText=function(e,n,i){var a=this.option,o=a.precision,c=this.dataBound,h=a.formatter,v;i=i||["<",">"],Rt(e)&&(e=e.slice(),v=!0);var g=n?e:v?[y(e[0]),y(e[1])]:y(e);if($t(h))return h.replace("{value}",v?g[0]:g).replace("{value2}",v?g[1]:g);if(ee(h))return v?h(e[0],e[1]):h(e);if(v)return e[0]===c[0]?i[0]+" "+g[1]:e[1]===c[1]?i[1]+" "+g[0]:g[0]+" - "+g[1];return g;function y(m){return m===c[0]?"min":m===c[1]?"max":(+m).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,n=Qbt([e.min,e.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(e){var n=this.option.dimension;if(n!=null)return e.getDimensionIndex(n);for(var i=e.dimensions,a=i.length-1;a>=0;a--){var o=i[a],c=e.getDimensionInfo(o);if(!c.isCalculationCoord)return c.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),o=n.controller||(n.controller={});ge(a,i),ge(o,i);var c=this.isCategory();h.call(this,a),h.call(this,o),v.call(this,a,"inRange","outOfRange"),g.call(this,o);function h(y){Jbt(n.color)&&!y.inRange&&(y.inRange={color:n.color.slice().reverse()}),y.inRange=y.inRange||{color:e.get("gradientColor")}}function v(y,m,b){var S=y[m],E=y[b];S&&!E&&(E=y[b]={},g3(S,function(C,A){if(cn.isValidType(A)){var M=q7.get(A,"inactive",c);M!=null&&(E[A]=M,A==="color"&&!E.hasOwnProperty("opacity")&&!E.hasOwnProperty("colorAlpha")&&(E.opacity=[0,0]))}}))}function g(y){var m=(y.inRange||{}).symbol||(y.outOfRange||{}).symbol,b=(y.inRange||{}).symbolSize||(y.outOfRange||{}).symbolSize,S=this.get("inactiveColor"),E=this.getItemSymbol(),C=E||"roundRect";g3(this.stateList,function(A){var M=this.itemSize,L=y[A];L||(L=y[A]={color:c?S:[S]}),L.symbol==null&&(L.symbol=m&&ne(m)||(c?C:[C])),L.symbolSize==null&&(L.symbolSize=b&&ne(b)||(c?M[0]:[M[0],M[0]])),L.symbol=v3(L.symbol,function(P){return P==="none"?C:P});var R=L.symbolSize;if(R!=null){var O=-1/0;Kbt(R,function(P){P>O&&(O=P)}),L.symbolSize=v3(R,function(P){return t1t(P,[0,O],[0,M[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:yt.color.transparent,borderColor:yt.color.borderTint,contentColor:yt.color.theme[0],inactiveColor:yt.color.disabled,borderWidth:0,padding:yt.size.m,textGap:10,precision:0,textStyle:{color:yt.color.secondary}},t})(Te),y3=[20,140],e1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(e,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=y3[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=y3[1])},t.prototype._resetRange=function(){var e=this.getExtent(),n=this.option.range;!n||n.auto?(e.auto=1,this.option.range=e):Rt(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],e[0]),n[1]=Math.min(n[1],e[1]))},t.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),j(this.stateList,function(e){var n=this.option.controller[e].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),n=sa((this.get("range")||[]).slice());return n[0]>e[1]&&(n[0]=e[1]),n[1]>e[1]&&(n[1]=e[1]),n[0]<e[0]&&(n[0]=e[0]),n[1]<e[0]&&(n[1]=e[0]),n},t.prototype.getValueState=function(e){var n=this.option.range,i=this.getExtent(),a=Jt(this.option.unboundedRange,!0);return(a&&n[0]<=i[0]||n[0]<=e)&&(a&&n[1]>=i[1]||e<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[];return this.eachTargetSeries(function(i){var a=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(c,h){e[0]<=c&&c<=e[1]&&a.push(h)},this),n.push({seriesId:i.id,dataIndex:a})},this),n},t.prototype.getVisualMeta=function(e){var n=m3(this,"outOfRange",this.getExtent()),i=m3(this,"inRange",this.option.range.slice()),a=[];function o(b,S){a.push({value:b,color:e(b,S)})}for(var c=0,h=0,v=i.length,g=n.length;h<g&&(!i.length||n[h]<=i[0]);h++)n[h]<i[c]&&o(n[h],"outOfRange");for(var y=1;c<v;c++,y=0)y&&a.length&&o(i[c],"outOfRange"),o(i[c],"inRange");for(var y=1;h<g;h++)(!i.length||i[i.length-1]<n[h])&&(y&&(a.length&&o(a[a.length-1].value,"outOfRange"),y=0),o(n[h],"outOfRange"));var m=a.length;return{stops:a,outerColors:[m?a[0].color:"transparent",m?a[m-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Il(c_.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:yt.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:yt.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:yt.color.shadow}}),t})(c_);function m3(r,t,e){if(e[0]===e[1])return e.slice();for(var n=200,i=(e[1]-e[0])/n,a=e[0],o=[],c=0;c<=n&&a<e[1];c++)o.push(a),a+=i;return o.push(e[1]),o}var X7=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return t.prototype.init=function(e,n){this.ecModel=e,this.api=n},t.prototype.render=function(e,n,i,a){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,n,i,a)},t.prototype.renderBackground=function(e){var n=this.visualMapModel,i=kv(n.get("padding")||0),a=e.getBoundingRect();e.add(new we({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,n,i){i=i||{};var a=i.forceState,o=this.visualMapModel,c={};if(n==="color"){var h=o.get("contentColor");c.color=h}function v(b){return c[b]}function g(b,S){c[b]=S}var y=o.controllerVisuals[a||o.getValueState(e)],m=cn.prepareVisualTypes(y);return j(m,function(b){var S=y[b];i.convertOpacityToAlpha&&b==="opacity"&&(b="colorAlpha",S=y.__alphaForOpacity),cn.dependsOn(b,n)&&S&&S.applyVisual(e,v,g)}),c[n]},t.prototype.positionGroup=function(e){var n=this.visualMapModel,i=this.api,a=an(n,i).refContainer;$_(e,n.getBoxLayoutParams(),a)},t.prototype.doRender=function(e,n,i,a){},t.type="visualMap",t})(dr),_3=[["left","right","width"],["top","bottom","height"]];function Z7(r,t,e){var n=r.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var a={width:t.getWidth(),height:t.getHeight()},o=n.orient==="horizontal"?1:0,c=_3[o],h=[0,null,10],v={},g=0;g<3;g++)v[_3[1-o][g]]=h[g],v[c[g]]=g===2?e[0]:n[c[g]];var y=[["x","width",3],["y","height",0]][o],m=yr(v,a,n.padding);return c[(m.margin[y[2]]||0)+m[y[0]]+m[y[1]]*.5<a[y[1]]*.5?0:1]}function e0(r,t){return j(r||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),r}var lo=We,r1t=j,b3=Math.min,qx=Math.max,n1t=12,i1t=6,a1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return t.prototype.init=function(e,n){r.prototype.init.call(this,e,n),this._hoverLinkFromSeriesMouseOver=qt(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=qt(this._hideIndicator,this)},t.prototype.doRender=function(e,n,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,n=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(n);var i=e.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(e,n,i){if(n){var a=n[1-i];a=a!=null?a+"":"";var o=this.visualMapModel,c=o.get("textGap"),h=o.itemSize,v=this._shapes.mainGroup,g=this._applyTransform([h[0]/2,i===0?-c:h[1]+c],v),y=this._applyTransform(i===0?"bottom":"top",v),m=this._orient,b=this.visualMapModel.textStyleModel;this.group.add(new Oe({style:ar(b,{x:g[0],y:g[1],verticalAlign:b.get("verticalAlign")||(m==="horizontal"?"middle":y),align:b.get("align")||(m==="horizontal"?y:"center"),text:a})}))}},t.prototype._renderBar=function(e){var n=this.visualMapModel,i=this._shapes,a=n.itemSize,o=this._orient,c=this._useHandle,h=Z7(n,this.api,a),v=i.mainGroup=this._createBarGroup(h),g=new re;v.add(g),g.add(i.outOfRange=S3()),g.add(i.inRange=S3(null,c?x3(this._orient):null,qt(this._dragHandle,this,"all",!1),qt(this._dragHandle,this,"all",!0))),g.setClipPath(new we({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var y=n.textStyleModel.getTextRect(""),m=qx(y.width,y.height);c&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,v,0,a,m,o),this._createHandle(n,v,1,a,m,o)),this._createIndicator(n,v,a,m,o),e.add(v)},t.prototype._createHandle=function(e,n,i,a,o,c){var h=qt(this._dragHandle,this,i,!1),v=qt(this._dragHandle,this,i,!0),g=Ia(e.get("handleSize"),a[0]),y=Xr(e.get("handleIcon"),-g/2,-g/2,g,g,null,!0),m=x3(this._orient);y.attr({cursor:m,draggable:!0,drift:h,ondragend:v,onmousemove:function(A){vs(A.event)}}),y.x=a[0]/2,y.useStyle(e.getModel("handleStyle").getItemStyle()),y.setStyle({strokeNoScale:!0,strokeFirst:!0}),y.style.lineWidth*=2,y.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Ju(y,!0),n.add(y);var b=this.visualMapModel.textStyleModel,S=new Oe({cursor:m,draggable:!0,drift:h,onmousemove:function(A){vs(A.event)},ondragend:v,style:ar(b,{x:0,y:0,text:""})});S.ensureState("blur").style={opacity:.1},S.stateTransition={duration:200},this.group.add(S);var E=[g,0],C=this._shapes;C.handleThumbs[i]=y,C.handleLabelPoints[i]=E,C.handleLabels[i]=S},t.prototype._createIndicator=function(e,n,i,a,o){var c=Ia(e.get("indicatorSize"),i[0]),h=Xr(e.get("indicatorIcon"),-c/2,-c/2,c,c,null,!0);h.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var v=e.getModel("indicatorStyle").getItemStyle();if(h instanceof wn){var g=h.style;h.useStyle(At({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},v))}else h.useStyle(v);n.add(h);var y=this.visualMapModel.textStyleModel,m=new Oe({silent:!0,invisible:!0,style:ar(y,{x:0,y:0,text:""})});this.group.add(m);var b=[(o==="horizontal"?a/2:i1t)+i[0]/2,0],S=this._shapes;S.indicator=h,S.indicatorLabel=m,S.indicatorLabelPoint=b,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,n,i,a){if(this._useHandle){if(this._dragging=!n,!n){var o=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():w3(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,n=this._dataInterval=e.getSelected(),i=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[lo(n[0],i,a,!0),lo(n[1],i,a,!0)]},t.prototype._updateInterval=function(e,n){n=n||0;var i=this.visualMapModel,a=this._handleEnds,o=[0,i.itemSize[1]];Ml(n,a,o,e,0);var c=i.getExtent();this._dataInterval=[lo(a[0],o,c,!0),lo(a[1],o,c,!0)]},t.prototype._updateView=function(e){var n=this.visualMapModel,i=n.getExtent(),a=this._shapes,o=[0,n.itemSize[1]],c=e?o:this._handleEnds,h=this._createBarVisual(this._dataInterval,i,c,"inRange"),v=this._createBarVisual(i,i,o,"outOfRange");a.inRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),a.outOfRange.setStyle({fill:v.barColor}).setShape("points",v.barPoints),this._updateHandle(c,h)},t.prototype._createBarVisual=function(e,n,i,a){var o={forceState:a,convertOpacityToAlpha:!0},c=this._makeColorGradient(e,o),h=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],v=this._createBarPoints(i,h);return{barColor:new Rh(0,0,0,1,c),barPoints:v,handlesColor:[c[0].color,c[c.length-1].color]}},t.prototype._makeColorGradient=function(e,n){var i=100,a=[],o=(e[1]-e[0])/i;a.push({color:this.getControllerVisual(e[0],"color",n),offset:0});for(var c=1;c<i;c++){var h=e[0]+o*c;if(h>e[1])break;a.push({color:this.getControllerVisual(h,"color",n),offset:c/i})}return a.push({color:this.getControllerVisual(e[1],"color",n),offset:1}),a},t.prototype._createBarPoints=function(e,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-n[1],e[1]]]},t.prototype._createBarGroup=function(e){var n=this._orient,i=this.visualMapModel.get("inverse");return new re(n==="horizontal"&&!i?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},t.prototype._updateHandle=function(e,n){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,o=i.handleThumbs,c=i.handleLabels,h=a.itemSize,v=a.getExtent(),g=this._applyTransform("left",i.mainGroup);r1t([0,1],function(y){var m=o[y];m.setStyle("fill",n.handlesColor[y]),m.y=e[y];var b=lo(e[y],[0,h[1]],v,!0),S=this.getControllerVisual(b,"symbolSize");m.scaleX=m.scaleY=S/h[0],m.x=h[0]-S/2;var E=Da(i.handleLabelPoints[y],cc(m,this.group));if(this._orient==="horizontal"){var C=g==="left"||g==="top"?(h[0]-S)/2:(h[0]-S)/-2;E[1]+=C}c[y].setStyle({x:E[0],y:E[1],text:a.formatValueText(this._dataInterval[y]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,n,i,a){var o=this.visualMapModel,c=o.getExtent(),h=o.itemSize,v=[0,h[1]],g=this._shapes,y=g.indicator;if(y){y.attr("invisible",!1);var m={convertOpacityToAlpha:!0},b=this.getControllerVisual(e,"color",m),S=this.getControllerVisual(e,"symbolSize"),E=lo(e,c,v,!0),C=h[0]-S/2,A={x:y.x,y:y.y};y.y=E,y.x=C;var M=Da(g.indicatorLabelPoint,cc(y,this.group)),L=g.indicatorLabel;L.attr("invisible",!1);var R=this._applyTransform("left",g.mainGroup),O=this._orient,P=O==="horizontal";L.setStyle({text:(i||"")+o.formatValueText(n),verticalAlign:P?R:"middle",align:P?"center":R});var V={x:C,y:E,style:{fill:b}},k={style:{x:M[0],y:M[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var F={duration:100,easing:"cubicInOut",additive:!0};y.x=A.x,y.y=A.y,y.animateTo(V,F),L.animateTo(k,F)}else y.attr(V),L.attr(k);this._firstShowIndicator=!1;var H=this._shapes.handleLabels;if(H)for(var W=0;W<H.length;W++)this.api.enterBlur(H[W])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(n){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,a=e._applyTransform([n.offsetX,n.offsetY],e._shapes.mainGroup,!0,!0);a[1]=b3(qx(0,a[1]),i[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,n){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var o=[0,a[1]],c=i.getExtent();e=b3(qx(o[0],e),o[1]);var h=o1t(i,c,o),v=[e-h,e+h],g=lo(e,o,c,!0),y=[lo(v[0],o,c,!0),lo(v[1],o,c,!0)];v[0]<o[0]&&(y[0]=-1/0),v[1]>o[1]&&(y[1]=1/0),n&&(y[0]===-1/0?this._showIndicator(g,y[1],"< ",h):y[1]===1/0?this._showIndicator(g,y[0],"> ",h):this._showIndicator(g,g," ",h));var m=this._hoverLinkDataIndices,b=[];(n||w3(i))&&(b=this._hoverLinkDataIndices=i.findTargetDataIndices(y));var S=ert(m,b);this._dispatchHighDown("downplay",e0(S[0],i)),this._dispatchHighDown("highlight",e0(S[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var n;if(tc(e.target,function(h){var v=ce(h);if(v.dataIndex!=null)return n=v,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var o=i.getData(n.dataType),c=o.getStore().get(a.getDataDimensionIndex(o),n.dataIndex);isNaN(c)||this._showIndicator(c,c)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",e0(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,n,i,a){var o=cc(n,a?null:this.group);return Rt(e)?Da(e,o,i):U_(e,o,i)},t.prototype._dispatchHighDown=function(e,n){n&&n.length&&this.api.dispatchAction({type:e,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t})(X7);function S3(r,t,e,n){return new qn({shape:{points:r},draggable:!!e,cursor:t,drift:e,onmousemove:function(i){vs(i.event)},ondragend:n})}function o1t(r,t,e){var n=n1t/2,i=r.get("hoverLinkDataSize");return i&&(n=lo(i,t,e,!0)/2),n}function w3(r){var t=r.get("hoverLinkOnHandle");return!!(t??r.get("realtime"))}function x3(r){return r==="vertical"?"ns-resize":"ew-resize"}var s1t={type:"selectDataRange",event:"dataRangeSelected",update:"update"},l1t=function(r,t){t.eachComponent({mainType:"visualMap",query:r},function(e){e.setSelected(r.selected)})},u1t=[{createOnAllSeries:!0,reset:function(r,t){var e=[];return t.eachComponent("visualMap",function(n){var i=r.pipelineContext;!n.isTargetSeries(r)||i&&i.large||e.push(L_t(n.stateList,n.targetVisuals,qt(n.getValueState,n),n.getDataDimensionIndex(r.getData())))}),e}},{createOnAllSeries:!0,reset:function(r,t){var e=r.getData(),n=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(r)){var a=i.getVisualMeta(qt(c1t,null,r,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(e);o>=0&&(a.dimension=o,n.push(a))}}),r.getData().setVisual("visualMeta",n)}}];function c1t(r,t,e,n){for(var i=t.targetVisuals[n],a=cn.prepareVisualTypes(i),o={color:Fv(r.getData(),"color")},c=0,h=a.length;c<h;c++){var v=a[c],g=i[v==="opacity"?"__alphaForOpacity":v];g&&g.applyVisual(e,y,m)}return o.color;function y(b){return o[b]}function m(b,S){o[b]=S}}var E3=j;function f1t(r){var t=r&&r.visualMap;Rt(t)||(t=t?[t]:[]),E3(t,function(e){if(e){Gf(e,"splitList")&&!Gf(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var n=e.pieces;n&&Rt(n)&&E3(n,function(i){se(i)&&(Gf(i,"start")&&!Gf(i,"min")&&(i.min=i.start),Gf(i,"end")&&!Gf(i,"max")&&(i.max=i.end))})}})}function Gf(r,t){return r&&r.hasOwnProperty&&r.hasOwnProperty(t)}var T3=!1;function K7(r){T3||(T3=!0,r.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),r.registerAction(s1t,l1t),j(u1t,function(t){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,t)}),r.registerPreprocessor(f1t))}function J7(r){r.registerComponentModel(e1t),r.registerComponentView(a1t),K7(r)}var h1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return t.prototype.optionUpdated=function(e,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],p1t[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var a=this.option.categories;this.resetVisual(function(o,c){i==="categories"?(o.mappingMethod="category",o.categories=ne(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=Pt(this._pieceList,function(h){return h=ne(h),c!=="inRange"&&(h.visual=null),h}))})},t.prototype.completeVisualOption=function(){var e=this.option,n={},i=cn.listVisualTypes(),a=this.isCategory();j(e.pieces,function(c){j(i,function(h){c.hasOwnProperty(h)&&(n[h]=1)})}),j(n,function(c,h){var v=!1;j(this.stateList,function(g){v=v||o(e,g,h)||o(e.target,g,h)},this),!v&&j(this.stateList,function(g){(e[g]||(e[g]={}))[h]=q7.get(h,g==="inRange"?"active":"inactive",a)})},this);function o(c,h,v){return c&&c[h]&&c[h].hasOwnProperty(v)}r.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,n){var i=this.option,a=this._pieceList,o=(n?i:e).selected||{};if(i.selected=o,j(a,function(h,v){var g=this.getSelectedMapKey(h);o.hasOwnProperty(g)||(o[g]=!0)},this),i.selectedMode==="single"){var c=!1;j(a,function(h,v){var g=this.getSelectedMapKey(h);o[g]&&(c?o[g]=!1:c=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=ne(e)},t.prototype.getValueState=function(e){var n=cn.findPieceIndex(e,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[],i=this._pieceList;return this.eachTargetSeries(function(a){var o=[],c=a.getData();c.each(this.getDataDimensionIndex(c),function(h,v){var g=cn.findPieceIndex(h,i);g===e&&o.push(v)},this),n.push({seriesId:a.id,dataIndex:o})},this),n},t.prototype.getRepresentValue=function(e){var n;if(this.isCategory())n=e.value;else if(e.value!=null)n=e.value;else{var i=e.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},t.prototype.getVisualMeta=function(e){if(this.isCategory())return;var n=[],i=["",""],a=this;function o(g,y){var m=a.getRepresentValue({interval:g});y||(y=a.getValueState(m));var b=e(m,y);g[0]===-1/0?i[0]=b:g[1]===1/0?i[1]=b:n.push({value:g[0],color:b},{value:g[1],color:b})}var c=this._pieceList.slice();if(!c.length)c.push({interval:[-1/0,1/0]});else{var h=c[0].interval[0];h!==-1/0&&c.unshift({interval:[-1/0,h]}),h=c[c.length-1].interval[1],h!==1/0&&c.push({interval:[h,1/0]})}var v=-1/0;return j(c,function(g){var y=g.interval;y&&(y[0]>v&&o([v,y[0]],"outOfRange"),o(y.slice()),v=y[1])},this),{stops:n,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=Il(c_.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t})(c_),p1t={splitNumber:function(r){var t=this.option,e=Math.min(t.precision,20),n=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(n[1]-n[0])/i;+a.toFixed(e)!==a&&e<5;)e++;t.precision=e,a=+a.toFixed(e),t.minOpen&&r.push({interval:[-1/0,n[0]],close:[0,0]});for(var o=0,c=n[0];o<i;c+=a,o++){var h=o===i-1?n[1]:c+a;r.push({interval:[c,h],close:[1,1]})}t.maxOpen&&r.push({interval:[n[1],1/0],close:[0,0]}),q2(r),j(r,function(v,g){v.index=g,v.text=this.formatValueText(v.interval)},this)},categories:function(r){var t=this.option;j(t.categories,function(e){r.push({text:this.formatValueText(e,!0),value:e})},this),C3(t,r)},pieces:function(r){var t=this.option;j(t.pieces,function(e,n){se(e)||(e={value:e});var i={text:"",index:n};if(e.label!=null&&(i.text=e.label),e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a],i.close=[1,1]}else{for(var o=i.interval=[],c=i.close=[0,0],h=[1,0,1],v=[-1/0,1/0],g=[],y=0;y<2;y++){for(var m=[["gte","gt","min"],["lte","lt","max"]][y],b=0;b<3&&o[y]==null;b++)o[y]=e[m[b]],c[y]=h[b],g[y]=b===2;o[y]==null&&(o[y]=v[y])}g[0]&&o[1]===1/0&&(c[0]=0),g[1]&&o[0]===-1/0&&(c[1]=0),o[0]===o[1]&&c[0]&&c[1]&&(i.value=o[0])}i.visual=cn.retrieveVisuals(e),r.push(i)},this),C3(t,r),q2(r),j(r,function(e){var n=e.close,i=[["<",""][n[1]],[">",""][n[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,i)},this)}};function C3(r,t){var e=r.inverse;(r.orient==="vertical"?!e:e)&&t.reverse()}var d1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.doRender=function(){var e=this.group;e.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,o=this._getItemAlign(),c=n.itemSize,h=this._getViewData(),v=h.endsText,g=Rn(n.get("showLabel",!0),!v),y=!n.get("selectedMode");v&&this._renderEndsText(e,v[0],c,g,o),j(h.viewPieceList,function(m){var b=m.piece,S=new re;S.onclick=qt(this._onItemClick,this,b),this._enableHoverLink(S,m.indexInModelPieceList);var E=n.getRepresentValue(b);if(this._createItemSymbol(S,E,[0,0,c[0],c[1]],y),g){var C=this.visualMapModel.getValueState(E),A=a.get("align")||o;S.add(new Oe({style:ar(a,{x:A==="right"?-i:c[0]+i,y:c[1]/2,text:b.text,verticalAlign:a.get("verticalAlign")||"middle",align:A,opacity:Jt(a.get("opacity"),C==="outOfRange"?.5:1)}),silent:y}))}e.add(S)},this),v&&this._renderEndsText(e,v[1],c,g,o),fc(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,n){var i=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var c=i.visualMapModel;c.option.hoverLink&&i.api.dispatchAction({type:o,batch:e0(c.findTargetDataIndices(n),c)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,n=e.option;if(n.orient==="vertical")return Z7(e,this.api,e.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(e,n,i,a,o){if(n){var c=new re,h=this.visualMapModel.textStyleModel;c.add(new Oe({style:ar(h,{x:a?o==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?o:"center",text:n})})),e.add(c)}},t.prototype._getViewData=function(){var e=this.visualMapModel,n=Pt(e.getPieceList(),function(c,h){return{piece:c,indexInModelPieceList:h}}),i=e.get("text"),a=e.get("orient"),o=e.get("inverse");return(a==="horizontal"?o:!o)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},t.prototype._createItemSymbol=function(e,n,i,a){var o=Xr(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));o.silent=a,e.add(o)},t.prototype._onItemClick=function(e){var n=this.visualMapModel,i=n.option,a=i.selectedMode;if(a){var o=ne(i.selected),c=n.getSelectedMapKey(e);a==="single"||a===!0?(o[c]=!0,j(o,function(h,v){o[v]=v===c})):o[c]=!o[c],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t})(X7);function Q7(r){r.registerComponentModel(h1t),r.registerComponentView(d1t),K7(r)}function v1t(r){_e(J7),_e(Q7)}var g1t=(function(){function r(t){this._thumbnailModel=t}return r.prototype.reset=function(t){this._renderVersion=t.getMainProcessVersion()},r.prototype.renderContent=function(t){var e=t.api.getViewOfComponentModel(this._thumbnailModel);e&&(t.group.silent=!0,e.renderContent({group:t.group,targetTrans:t.targetTrans,z2Range:TH(t.group),roamType:t.roamType,viewportRect:t.viewportRect,renderVersion:this._renderVersion}))},r.prototype.updateWindow=function(t,e){var n=e.getViewOfComponentModel(this._thumbnailModel);n&&n.updateWindow({targetTrans:t,renderVersion:this._renderVersion})},r})(),y1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.optionUpdated=function(e,n){this._updateBridge()},t.prototype._updateBridge=function(){var e=this._birdge=this._birdge||new g1t(this);if(this._target=null,this.ecModel.eachSeries(function(i){KV(i,null)}),this.shouldShow()){var n=this.getTarget();KV(n.baseMapProvider,e)}},t.prototype.shouldShow=function(){return this.getShallow("show",!0)},t.prototype.getBridge=function(){return this._birdge},t.prototype.getTarget=function(){if(this._target)return this._target;var e=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return e?e.subType!=="graph"&&(e=null):e=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:e},this._target},t.type="thumbnail",t.layoutMode="box",t.dependencies=["series","geo"],t.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:yt.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:yt.color.neutral30,borderColor:yt.color.neutral40,opacity:.3},z:10},t})(Te),m1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){if(this._api=i,this._model=e,this._coordSys||(this._coordSys=new Pc),!this._isEnabled()){this._clear();return}this._renderVersion=i.getMainProcessVersion();var a=this.group;a.removeAll();var o=e.getModel("itemStyle"),c=o.getItemStyle();c.fill==null&&(c.fill=n.get("backgroundColor")||yt.color.neutral00);var h=an(e,i).refContainer,v=yr(qH(e,!0),h),g=c.lineWidth||0,y=this._contentRect=_c(v.clone(),g/2,!0,!0),m=new re;a.add(m),m.setClipPath(new we({shape:y.plain()}));var b=this._targetGroup=new re;m.add(b);var S=v.plain();S.r=o.getShallow("borderRadius",!0),a.add(this._bgRect=new we({style:c,shape:S,silent:!1,cursor:"grab"}));var E=e.getModel("windowStyle"),C=E.getShallow("borderRadius",!0);m.add(this._windowRect=new we({shape:{x:0,y:0,width:0,height:0,r:C},style:E.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),M3(e,this)},t.prototype.renderContent=function(e){this._bridgeRendered=e,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),M3(this._model,this))},t.prototype._dealRenderContent=function(){var e=this._bridgeRendered;if(!(!e||e.renderVersion!==this._renderVersion)){var n=this._targetGroup,i=this._coordSys,a=this._contentRect;if(n.removeAll(),!!e){var o=e.group,c=o.getBoundingRect();n.add(o),this._bgRect.z2=e.z2Range.min-10,i.setBoundingRect(c.x,c.y,c.width,c.height);var h=yr({left:"center",top:"center",aspect:c.width/c.height},a);i.setViewRect(h.x,h.y,h.width,h.height),o.attr(i.getTransformInfo().raw),this._windowRect.z2=e.z2Range.max+10,this._resetRoamController(e.roamType)}}},t.prototype.updateWindow=function(e){var n=this._bridgeRendered;n&&n.renderVersion===e.renderVersion&&(n.targetTrans=e.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},t.prototype._dealUpdateWindow=function(){var e=this._bridgeRendered;if(!(!e||e.renderVersion!==this._renderVersion)){var n=Ra([],e.targetTrans),i=To([],this._coordSys.transform,n);this._transThisToTarget=Ra([],i);var a=e.viewportRect;a?a=a.clone():a=new le(0,0,this._api.getWidth(),this._api.getHeight()),a.applyTransform(i);var o=this._windowRect,c=o.shape.r;o.setShape(oe({r:c},a))}},t.prototype._resetRoamController=function(e){var n=this,i=this._api,a=this._roamController;if(a||(a=this._roamController=new Oc(i.getZr())),!e||!this._isEnabled()){a.disable();return}a.enable(e,{api:i,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(o,c,h){return n._contentRect.contain(c,h)}}}),a.off("pan").off("zoom").on("pan",qt(this._onPan,this)).on("zoom",qt(this._onZoom,this))},t.prototype._onPan=function(e){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var i=Vr([],[e.oldX,e.oldY],n),a=Vr([],[e.oldX-e.dx,e.oldY-e.dy],n);this._api.dispatchAction(A3(this._model.getTarget().baseMapProvider,{dx:a[0]-i[0],dy:a[1]-i[1]}))}},t.prototype._onZoom=function(e){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var i=Vr([],[e.originX,e.originY],n);this._api.dispatchAction(A3(this._model.getTarget().baseMapProvider,{zoom:1/e.scale,originX:i[0],originY:i[1]}))}},t.prototype._isEnabled=function(){var e=this._model;if(!e||!e.shouldShow())return!1;var n=e.getTarget().baseMapProvider;return!!n},t.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},t.prototype.remove=function(){this._clear()},t.prototype.dispose=function(){this._clear()},t.type="thumbnail",t})(dr);function A3(r,t){var e=r.mainType==="series"?r.subType+"Roam":r.mainType+"Roam",n={type:e};return n[r.mainType+"Id"]=r.id,At(n,t),n}function M3(r,t){var e=bc(r);W_(t.group,e.z,e.zlevel)}function _1t(r){r.registerComponentModel(y1t),r.registerComponentView(m1t)}var b1t={label:{enabled:!0},decal:{show:!1}},D3=xe(),S1t={};function w1t(r,t){var e=r.getModel("aria");if(!e.get("enabled"))return;var n=ne(b1t);ge(n.label,r.getLocaleModel().get("aria"),!1),ge(e.option,n,!1),i(),a();function i(){var v=e.getModel("decal"),g=v.get("show");if(g){var y=Kt();r.eachSeries(function(m){if(!m.isColorBySeries()){var b=y.get(m.type);b||(b={},y.set(m.type,b)),D3(m).scope=b}}),r.eachRawSeries(function(m){if(r.isSeriesFiltered(m))return;if(ee(m.enableAriaDecal)){m.enableAriaDecal();return}var b=m.getData();if(m.isColorBySeries()){var M=aT(m.ecModel,m.name,S1t,r.getSeriesCount()),L=b.getVisual("decal");b.setVisual("decal",R(L,M))}else{var S=m.getRawData(),E={},C=D3(m).scope;b.each(function(O){var P=b.getRawIndex(O);E[P]=O});var A=S.count();S.each(function(O){var P=E[O],V=S.getName(O)||O+"",k=aT(m.ecModel,V,C,A),F=b.getItemVisual(P,"decal");b.setItemVisual(P,"decal",R(F,k))})}function R(O,P){var V=O?At(At({},P),O):P;return V.dirty=!0,V}})}}function a(){var v=t.getZr().dom;if(v){var g=r.getLocaleModel().get("aria"),y=e.getModel("label");if(y.option=oe(y.option,g),!!y.get("enabled")){if(v.setAttribute("role","img"),y.get("description")){v.setAttribute("aria-label",y.get("description"));return}var m=r.getSeriesCount(),b=y.get(["data","maxCount"])||10,S=y.get(["series","maxCount"])||10,E=Math.min(m,S),C;if(!(m<1)){var A=c();if(A){var M=y.get(["general","withTitle"]);C=o(M,{title:A})}else C=y.get(["general","withoutTitle"]);var L=[],R=m>1?y.get(["series","multiple","prefix"]):y.get(["series","single","prefix"]);C+=o(R,{seriesCount:m}),r.eachSeries(function(k,F){if(F<E){var H=void 0,W=k.get("name"),q=W?"withName":"withoutName";H=m>1?y.get(["series","multiple",q]):y.get(["series","single",q]),H=o(H,{seriesId:k.seriesIndex,seriesName:k.get("name"),seriesType:h(k.subType)});var Y=k.getData();if(Y.count()>b){var Z=y.get(["data","partialData"]);H+=o(Z,{displayCnt:b})}else H+=y.get(["data","allData"]);for(var et=y.get(["data","separator","middle"]),J=y.get(["data","separator","end"]),it=y.get(["data","excludeDimensionId"]),rt=[],st=0;st<Y.count();st++)if(st<b){var lt=Y.getName(st),dt=it?je(Y.getValues(st),function(xt,Ft){return ve(it,Ft)===-1}):Y.getValues(st),pt=y.get(["data",lt?"withName":"withoutName"]);rt.push(o(pt,{name:lt,value:dt.join(et)}))}H+=rt.join(et)+J,L.push(H)}});var O=y.getModel(["series","multiple","separator"]),P=O.get("middle"),V=O.get("end");C+=L.join(P)+V,v.setAttribute("aria-label",C)}}}}function o(v,g){if(!$t(v))return v;var y=v;return j(g,function(m,b){y=y.replace(new RegExp("\\{\\s*"+b+"\\s*\\}","g"),m)}),y}function c(){var v=r.get("title");return v&&v.length&&(v=v[0]),v&&v.text}function h(v){var g=r.getLocaleModel().get(["series","typeNames"]);return g[v]||g.chart}}function x1t(r){if(!(!r||!r.aria)){var t=r.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},j(["description","general","series","data"],function(e){t[e]!=null&&(t.label[e]=t[e])})}}function E1t(r){r.registerPreprocessor(x1t),r.registerVisual(r.PRIORITY.VISUAL.ARIA,w1t)}var L3={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},T1t=(function(){function r(t){var e=this._condVal=$t(t)?new RegExp(t):ftt(t)?t:null;if(e==null){var n="";ze(n)}}return r.prototype.evaluate=function(t){var e=typeof t;return $t(e)?this._condVal.test(t):Re(e)?this._condVal.test(t+""):!1},r})(),C1t=(function(){function r(){}return r.prototype.evaluate=function(){return this.value},r})(),A1t=(function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},r})(),M1t=(function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},r})(),D1t=(function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r})(),L1t=(function(){function r(){}return r.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,n=e(this.valueGetterParam),i=t?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?i:n))return!1;return!0},r})();function aD(r,t){if(r===!0||r===!1){var e=new C1t;return e.value=r,e}var n="";return t9(r)||ze(n),r.and?N3("and",r,t):r.or?N3("or",r,t):r.not?N1t(r,t):R1t(r,t)}function N3(r,t,e){var n=t[r],i="";Rt(n)||ze(i),n.length||ze(i);var a=r==="and"?new A1t:new M1t;return a.children=Pt(n,function(o){return aD(o,e)}),a.children.length||ze(i),a}function N1t(r,t){var e=r.not,n="";t9(e)||ze(n);var i=new D1t;return i.child=aD(e,t),i.child||ze(n),i}function R1t(r,t){for(var e="",n=t.prepareGetValue(r),i=[],a=De(r),o=r.parser,c=o?g4(o):null,h=0;h<a.length;h++){var v=a[h];if(!(v==="parser"||t.valueGetterAttrMap.get(v))){var g=Xt(L3,v)?L3[v]:v,y=r[v],m=c?c(y):y,b=gat(g,m)||g==="reg"&&new T1t(m);b||ze(e),i.push(b)}}i.length||ze(e);var S=new L1t;return S.valueGetterParam=n,S.valueParser=c,S.getValue=t.getValue,S.subCondList=i,S}function t9(r){return se(r)&&!jn(r)}var I1t=(function(){function r(t,e){this._cond=aD(t,e)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r})();function O1t(r,t){return new I1t(r,t)}var P1t={type:"echarts:filter",transform:function(r){for(var t=r.upstream,e,n=O1t(r.config,{valueGetterAttrMap:Kt({dimension:!0}),prepareGetValue:function(c){var h="",v=c.dimension;Xt(c,"dimension")||ze(h);var g=t.getDimensionInfo(v);return g||ze(h),{dimIdx:g.index}},getValue:function(c){return t.retrieveValueFromItem(e,c.dimIdx)}}),i=[],a=0,o=t.count();a<o;a++)e=t.getRawDataItem(a),n.evaluate()&&i.push(e);return{data:i}}},k1t={type:"echarts:sort",transform:function(r){var t=r.upstream,e=r.config,n="",i=Qe(e);i.length||ze(n);var a=[];j(i,function(g){var y=g.dimension,m=g.order,b=g.parser,S=g.incomparable;if(y==null&&ze(n),m!=="asc"&&m!=="desc"&&ze(n),S&&S!=="min"&&S!=="max"){var E="";ze(E)}if(m!=="asc"&&m!=="desc"){var C="";ze(C)}var A=t.getDimensionInfo(y);A||ze(n);var M=b?g4(b):null;b&&!M&&ze(n),a.push({dimIdx:A.index,parser:M,comparator:new m4(m,S)})});var o=t.sourceFormat;o!==Sn&&o!==zi&&ze(n);for(var c=[],h=0,v=t.count();h<v;h++)c.push(t.getRawDataItem(h));return c.sort(function(g,y){for(var m=0;m<a.length;m++){var b=a[m],S=t.retrieveValueFromItem(g,b.dimIdx),E=t.retrieveValueFromItem(y,b.dimIdx);b.parser&&(S=b.parser(S),E=b.parser(E));var C=b.comparator.evaluate(S,E);if(C!==0)return C}return 0}),{data:c}}};function V1t(r){r.registerTransform(P1t),r.registerTransform(k1t)}var G1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataset",e}return t.prototype.init=function(e,n,i){r.prototype.init.call(this,e,n,i),this._sourceManager=new w4(this),uP(this)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),uP(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:La},t})(Te),F1t=(function(r){bt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataset",e}return t.type="dataset",t})(dr);function B1t(r){r.registerComponentModel(G1t),r.registerComponentView(F1t)}var ao=Io.CMD;function Qf(r,t){return Math.abs(r-t)<1e-5}function mC(r){var t=r.data,e=r.len(),n=[],i,a=0,o=0,c=0,h=0;function v(Y,Z){i&&i.length>2&&n.push(i),i=[Y,Z]}function g(Y,Z,et,J){Qf(Y,et)&&Qf(Z,J)||i.push(Y,Z,et,J,et,J)}function y(Y,Z,et,J,it,rt){var st=Math.abs(Z-Y),lt=Math.tan(st/4)*4/3,dt=Z<Y?-1:1,pt=Math.cos(Y),xt=Math.sin(Y),Ft=Math.cos(Z),Ut=Math.sin(Z),Vt=pt*it+et,Qt=xt*rt+J,Ht=Ft*it+et,gt=Ut*rt+J,Mt=it*lt*dt,Et=rt*lt*dt;i.push(Vt-Mt*xt,Qt+Et*pt,Ht+Mt*Ut,gt-Et*Ft,Ht,gt)}for(var m,b,S,E,C=0;C<e;){var A=t[C++],M=C===1;switch(M&&(a=t[C],o=t[C+1],c=a,h=o,(A===ao.L||A===ao.C||A===ao.Q)&&(i=[c,h])),A){case ao.M:a=c=t[C++],o=h=t[C++],v(c,h);break;case ao.L:m=t[C++],b=t[C++],g(a,o,m,b),a=m,o=b;break;case ao.C:i.push(t[C++],t[C++],t[C++],t[C++],a=t[C++],o=t[C++]);break;case ao.Q:m=t[C++],b=t[C++],S=t[C++],E=t[C++],i.push(a+2/3*(m-a),o+2/3*(b-o),S+2/3*(m-S),E+2/3*(b-E),S,E),a=S,o=E;break;case ao.A:var L=t[C++],R=t[C++],O=t[C++],P=t[C++],V=t[C++],k=t[C++]+V;C+=1;var F=!t[C++];m=Math.cos(V)*O+L,b=Math.sin(V)*P+R,M?(c=m,h=b,v(c,h)):g(a,o,m,b),a=Math.cos(k)*O+L,o=Math.sin(k)*P+R;for(var H=(F?-1:1)*Math.PI/2,W=V;F?W>k:W<k;W+=H){var q=F?Math.max(W+H,k):Math.min(W+H,k);y(W,q,L,R,O,P)}break;case ao.R:c=a=t[C++],h=o=t[C++],m=c+t[C++],b=h+t[C++],v(m,h),g(m,h,m,b),g(m,b,c,b),g(c,b,c,h),g(c,h,m,h);break;case ao.Z:i&&g(a,o,c,h),a=c,o=h;break}}return i&&i.length>2&&n.push(i),n}function _C(r,t,e,n,i,a,o,c,h,v){if(Qf(r,e)&&Qf(t,n)&&Qf(i,o)&&Qf(a,c)){h.push(o,c);return}var g=2/v,y=g*g,m=o-r,b=c-t,S=Math.sqrt(m*m+b*b);m/=S,b/=S;var E=e-r,C=n-t,A=i-o,M=a-c,L=E*E+C*C,R=A*A+M*M;if(L<y&&R<y){h.push(o,c);return}var O=m*E+b*C,P=-m*A-b*M,V=L-O*O,k=R-P*P;if(V<y&&O>=0&&k<y&&P>=0){h.push(o,c);return}var F=[],H=[];El(r,e,i,o,.5,F),El(t,n,a,c,.5,H),_C(F[0],H[0],F[1],H[1],F[2],H[2],F[3],H[3],h,v),_C(F[4],H[4],F[5],H[5],F[6],H[6],F[7],H[7],h,v)}function H1t(r,t){var e=mC(r),n=[];t=t||1;for(var i=0;i<e.length;i++){var a=e[i],o=[],c=a[0],h=a[1];o.push(c,h);for(var v=2;v<a.length;){var g=a[v++],y=a[v++],m=a[v++],b=a[v++],S=a[v++],E=a[v++];_C(c,h,g,y,m,b,S,E,o,t),c=S,h=E}n.push(o)}return n}function e9(r,t,e){var n=r[t],i=r[1-t],a=Math.abs(n/i),o=Math.ceil(Math.sqrt(a*e)),c=Math.floor(e/o);c===0&&(c=1,o=e);for(var h=[],v=0;v<o;v++)h.push(c);var g=o*c,y=e-g;if(y>0)for(var v=0;v<y;v++)h[v%o]+=1;return h}function R3(r,t,e){for(var n=r.r0,i=r.r,a=r.startAngle,o=r.endAngle,c=Math.abs(o-a),h=c*i,v=i-n,g=h>Math.abs(v),y=e9([h,v],g?0:1,t),m=(g?c:v)/y.length,b=0;b<y.length;b++)for(var S=(g?v:c)/y[b],E=0;E<y[b];E++){var C={};g?(C.startAngle=a+m*b,C.endAngle=a+m*(b+1),C.r0=n+S*E,C.r=n+S*(E+1)):(C.startAngle=a+S*E,C.endAngle=a+S*(E+1),C.r0=n+m*b,C.r=n+m*(b+1)),C.clockwise=r.clockwise,C.cx=r.cx,C.cy=r.cy,e.push(C)}}function z1t(r,t,e){for(var n=r.width,i=r.height,a=n>i,o=e9([n,i],a?0:1,t),c=a?"width":"height",h=a?"height":"width",v=a?"x":"y",g=a?"y":"x",y=r[c]/o.length,m=0;m<o.length;m++)for(var b=r[h]/o[m],S=0;S<o[m];S++){var E={};E[v]=m*y,E[g]=S*b,E[c]=y,E[h]=b,E.x+=r.x,E.y+=r.y,e.push(E)}}function I3(r,t,e,n){return r*n-e*t}function U1t(r,t,e,n,i,a,o,c){var h=e-r,v=n-t,g=o-i,y=c-a,m=I3(g,y,h,v);if(Math.abs(m)<1e-6)return null;var b=r-i,S=t-a,E=I3(b,S,g,y)/m;return E<0||E>1?null:new ae(E*h+r,E*v+t)}function W1t(r,t,e){var n=new ae;ae.sub(n,e,t),n.normalize();var i=new ae;ae.sub(i,r,t);var a=i.dot(n);return a}function Ff(r,t){var e=r[r.length-1];e&&e[0]===t[0]&&e[1]===t[1]||r.push(t)}function j1t(r,t,e){for(var n=r.length,i=[],a=0;a<n;a++){var o=r[a],c=r[(a+1)%n],h=U1t(o[0],o[1],c[0],c[1],t.x,t.y,e.x,e.y);h&&i.push({projPt:W1t(h,t,e),pt:h,idx:a})}if(i.length<2)return[{points:r},{points:r}];i.sort(function(C,A){return C.projPt-A.projPt});var v=i[0],g=i[i.length-1];if(g.idx<v.idx){var y=v;v=g,g=y}for(var m=[v.pt.x,v.pt.y],b=[g.pt.x,g.pt.y],S=[m],E=[b],a=v.idx+1;a<=g.idx;a++)Ff(S,r[a].slice());Ff(S,b),Ff(S,m);for(var a=g.idx+1;a<=v.idx+n;a++)Ff(E,r[a%n].slice());return Ff(E,m),Ff(E,b),[{points:S},{points:E}]}function O3(r){var t=r.points,e=[],n=[];P_(t,e,n);var i=new le(e[0],e[1],n[0]-e[0],n[1]-e[1]),a=i.width,o=i.height,c=i.x,h=i.y,v=new ae,g=new ae;return a>o?(v.x=g.x=c+a/2,v.y=h,g.y=h+o):(v.y=g.y=h+o/2,v.x=c,g.x=c+a),j1t(t,v,g)}function f_(r,t,e,n){if(e===1)n.push(t);else{var i=Math.floor(e/2),a=r(t);f_(r,a[0],i,n),f_(r,a[1],e-i,n)}return n}function Y1t(r,t){for(var e=[],n=0;n<t;n++)e.push(dA(r));return e}function $1t(r,t){t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel}function q1t(r){for(var t=[],e=0;e<r.length;)t.push([r[e++],r[e++]]);return t}function X1t(r,t){var e=[],n=r.shape,i;switch(r.type){case"rect":z1t(n,t,e),i=we;break;case"sector":R3(n,t,e),i=$n;break;case"circle":R3({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,e),i=$n;break;default:var a=r.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,c=Pt(H1t(r.getUpdatedPathProxy(),o),function(A){return q1t(A)}),h=c.length;if(h===0)f_(O3,{points:c[0]},t,e);else if(h===t)for(var v=0;v<h;v++)e.push({points:c[v]});else{var g=0,y=Pt(c,function(A){var M=[],L=[];P_(A,M,L);var R=(L[1]-M[1])*(L[0]-M[0]);return g+=R,{poly:A,area:R}});y.sort(function(A,M){return M.area-A.area});for(var m=t,v=0;v<h;v++){var b=y[v];if(m<=0)break;var S=v===h-1?m:Math.ceil(b.area/g*t);S<0||(f_(O3,{points:b.poly},S,e),m-=S)}}i=qn;break}if(!i)return Y1t(r,t);for(var E=[],v=0;v<e.length;v++){var C=new i;C.setShape(e[v]),$1t(r,C),E.push(C)}return E}function Z1t(r,t){var e=r.length,n=t.length;if(e===n)return[r,t];for(var i=[],a=[],o=e<n?r:t,c=Math.min(e,n),h=Math.abs(n-e)/6,v=(c-2)/6,g=Math.ceil(h/v)+1,y=[o[0],o[1]],m=h,b=2;b<c;){var S=o[b-2],E=o[b-1],C=o[b++],A=o[b++],M=o[b++],L=o[b++],R=o[b++],O=o[b++];if(m<=0){y.push(C,A,M,L,R,O);continue}for(var P=Math.min(m,g-1)+1,V=1;V<=P;V++){var k=V/P;El(S,C,M,R,k,i),El(E,A,L,O,k,a),S=i[3],E=a[3],y.push(i[1],a[1],i[2],a[2],S,E),C=i[5],A=a[5],M=i[6],L=a[6]}m-=P-1}return o===r?[y,t]:[r,y]}function P3(r,t){for(var e=r.length,n=r[e-2],i=r[e-1],a=[],o=0;o<t.length;)a[o++]=n,a[o++]=i;return a}function K1t(r,t){for(var e,n,i,a=[],o=[],c=0;c<Math.max(r.length,t.length);c++){var h=r[c],v=t[c],g=void 0,y=void 0;h?v?(e=Z1t(h,v),g=e[0],y=e[1],n=g,i=y):(y=P3(i||h,h),g=h):(g=P3(n||v,v),y=v),a.push(g),o.push(y)}return[a,o]}function k3(r){for(var t=0,e=0,n=0,i=r.length,a=0,o=i-2;a<i;o=a,a+=2){var c=r[o],h=r[o+1],v=r[a],g=r[a+1],y=c*g-v*h;t+=y,e+=(c+v)*y,n+=(h+g)*y}return t===0?[r[0]||0,r[1]||0]:[e/t/3,n/t/3,t]}function J1t(r,t,e,n){for(var i=(r.length-2)/6,a=1/0,o=0,c=r.length,h=c-2,v=0;v<i;v++){for(var g=v*6,y=0,m=0;m<c;m+=2){var b=m===0?g:(g+m-2)%h+2,S=r[b]-e[0],E=r[b+1]-e[1],C=t[m]-n[0],A=t[m+1]-n[1],M=C-S,L=A-E;y+=M*M+L*L}y<a&&(a=y,o=v)}return o}function Q1t(r){for(var t=[],e=r.length,n=0;n<e;n+=2)t[n]=r[e-n-2],t[n+1]=r[e-n-1];return t}function tSt(r,t,e,n){for(var i=[],a,o=0;o<r.length;o++){var c=r[o],h=t[o],v=k3(c),g=k3(h);a==null&&(a=v[2]<0!=g[2]<0);var y=[],m=[],b=0,S=1/0,E=[],C=c.length;a&&(c=Q1t(c));for(var A=J1t(c,h,v,g)*6,M=C-2,L=0;L<M;L+=2){var R=(A+L)%M+2;y[L+2]=c[R]-v[0],y[L+3]=c[R+1]-v[1]}y[0]=c[A]-v[0],y[1]=c[A+1]-v[1];for(var O=n/e,P=-n/2;P<=n/2;P+=O){for(var V=Math.sin(P),k=Math.cos(P),F=0,L=0;L<c.length;L+=2){var H=y[L],W=y[L+1],q=h[L]-g[0],Y=h[L+1]-g[1],Z=q*k-Y*V,et=q*V+Y*k;E[L]=Z,E[L+1]=et;var J=Z-H,it=et-W;F+=J*J+it*it}if(F<S){S=F,b=P;for(var rt=0;rt<E.length;rt++)m[rt]=E[rt]}}i.push({from:y,to:m,fromCp:v,toCp:g,rotation:-b})}return i}function h_(r){return r.__isCombineMorphing}var r9="__mOriginal_";function p_(r,t,e){var n=r9+t,i=r[n]||r[t];r[n]||(r[n]=r[t]);var a=e.replace,o=e.after,c=e.before;r[t]=function(){var h=arguments,v;return c&&c.apply(this,h),a?v=a.apply(this,h):v=i.apply(this,h),o&&o.apply(this,h),v}}function Yd(r,t){var e=r9+t;r[e]&&(r[t]=r[e],r[e]=null)}function V3(r,t){for(var e=0;e<r.length;e++)for(var n=r[e],i=0;i<n.length;){var a=n[i],o=n[i+1];n[i++]=t[0]*a+t[2]*o+t[4],n[i++]=t[1]*a+t[3]*o+t[5]}}function n9(r,t){var e=r.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),i=K1t(mC(e),mC(n)),a=i[0],o=i[1],c=r.getComputedTransform(),h=t.getComputedTransform();function v(){this.transform=null}c&&V3(a,c),h&&V3(o,h),p_(t,"updateTransform",{replace:v}),t.transform=null;var g=tSt(a,o,10,Math.PI),y=[];p_(t,"buildPath",{replace:function(m){for(var b=t.__morphT,S=1-b,E=[],C=0;C<g.length;C++){var A=g[C],M=A.from,L=A.to,R=A.rotation*b,O=A.fromCp,P=A.toCp,V=Math.sin(R),k=Math.cos(R);km(E,O,P,b);for(var F=0;F<M.length;F+=2){var H=M[F],W=M[F+1],q=L[F],Y=L[F+1],Z=H*S+q*b,et=W*S+Y*b;y[F]=Z*k-et*V+E[0],y[F+1]=Z*V+et*k+E[1]}var J=y[0],it=y[1];m.moveTo(J,it);for(var F=2;F<M.length;){var q=y[F++],Y=y[F++],rt=y[F++],st=y[F++],lt=y[F++],dt=y[F++];J===q&&it===Y&&rt===lt&&st===dt?m.lineTo(lt,dt):m.bezierCurveTo(q,Y,rt,st,lt,dt),J=lt,it=dt}}}})}function oD(r,t,e){if(!r||!t)return t;var n=e.done,i=e.during;n9(r,t),t.__morphT=0;function a(){Yd(t,"buildPath"),Yd(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},oe({during:function(o){t.dirtyShape(),i&&i(o)},done:function(){a(),n&&n()}},e)),t}function eSt(r,t,e,n,i,a){var o=16;r=i===e?0:Math.round(32767*(r-e)/(i-e)),t=a===n?0:Math.round(32767*(t-n)/(a-n));for(var c=0,h,v=(1<<o)/2;v>0;v/=2){var g=0,y=0;(r&v)>0&&(g=1),(t&v)>0&&(y=1),c+=v*v*(3*g^y),y===0&&(g===1&&(r=v-1-r,t=v-1-t),h=r,r=t,t=h)}return c}function d_(r){var t=1/0,e=1/0,n=-1/0,i=-1/0,a=Pt(r,function(c){var h=c.getBoundingRect(),v=c.getComputedTransform(),g=h.x+h.width/2+(v?v[4]:0),y=h.y+h.height/2+(v?v[5]:0);return t=Math.min(g,t),e=Math.min(y,e),n=Math.max(g,n),i=Math.max(y,i),[g,y]}),o=Pt(a,function(c,h){return{cp:c,z:eSt(c[0],c[1],t,e,n,i),path:r[h]}});return o.sort(function(c,h){return c.z-h.z}).map(function(c){return c.path})}function i9(r){return X1t(r.path,r.count)}function bC(){return{fromIndividuals:[],toIndividuals:[],count:0}}function rSt(r,t,e){var n=[];function i(O){for(var P=0;P<O.length;P++){var V=O[P];h_(V)?i(V.childrenRef()):V instanceof Ee&&n.push(V)}}i(r);var a=n.length;if(!a)return bC();var o=e.dividePath||i9,c=o({path:t,count:a});if(c.length!==a)return console.error("Invalid morphing: unmatched splitted path"),bC();n=d_(n),c=d_(c);for(var h=e.done,v=e.during,g=e.individualDelay,y=new as,m=0;m<a;m++){var b=n[m],S=c[m];S.parent=t,S.copyTransform(y),g||n9(b,S)}t.__isCombineMorphing=!0,t.childrenRef=function(){return c};function E(O){for(var P=0;P<c.length;P++)c[P].addSelfToZr(O)}p_(t,"addSelfToZr",{after:function(O){E(O)}}),p_(t,"removeSelfFromZr",{after:function(O){for(var P=0;P<c.length;P++)c[P].removeSelfFromZr(O)}});function C(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,Yd(t,"addSelfToZr"),Yd(t,"removeSelfFromZr")}var A=c.length;if(g)for(var M=A,L=function(){M--,M===0&&(C(),h&&h())},m=0;m<A;m++){var R=g?oe({delay:(e.delay||0)+g(m,A,n[m],c[m]),done:L},e):e;oD(n[m],c[m],R)}else t.__morphT=0,t.animateTo({__morphT:1},oe({during:function(O){for(var P=0;P<A;P++){var V=c[P];V.__morphT=t.__morphT,V.dirtyShape()}v&&v(O)},done:function(){C();for(var O=0;O<r.length;O++)Yd(r[O],"updateTransform");h&&h()}},e));return t.__zr&&E(t.__zr),{fromIndividuals:n,toIndividuals:c,count:A}}function nSt(r,t,e){var n=t.length,i=[],a=e.dividePath||i9;function o(b){for(var S=0;S<b.length;S++){var E=b[S];h_(E)?o(E.childrenRef()):E instanceof Ee&&i.push(E)}}if(h_(r)){o(r.childrenRef());var c=i.length;if(c<n)for(var h=0,v=c;v<n;v++)i.push(dA(i[h++%c]));i.length=n}else{i=a({path:r,count:n});for(var g=r.getComputedTransform(),v=0;v<i.length;v++)i[v].setLocalTransform(g);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),bC()}i=d_(i),t=d_(t);for(var y=e.individualDelay,v=0;v<n;v++){var m=y?oe({delay:(e.delay||0)+y(v,n,i[v],t[v])},e):e;oD(i[v],t[v],m)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function G3(r){return Rt(r[0])}function F3(r,t){for(var e=[],n=r.length,i=0;i<n;i++)e.push({one:r[i],many:[]});for(var i=0;i<t.length;i++){var a=t[i].length,o=void 0;for(o=0;o<a;o++)e[o%n].many.push(t[i][o])}for(var c=0,i=n-1;i>=0;i--)if(!e[i].many.length){var h=e[c].many;if(h.length<=1)if(c)c=0;else return e;var a=h.length,v=Math.ceil(a/2);e[i].many=h.slice(v,a),e[c].many=h.slice(0,v),c++}return e}var iSt={clone:function(r){for(var t=[],e=1-Math.pow(1-r.path.style.opacity,1/r.count),n=0;n<r.count;n++){var i=dA(r.path);i.setStyle("opacity",e),t.push(i)}return t},split:null};function Xx(r,t,e,n,i,a){if(!r.length||!t.length)return;var o=Ih("update",n,i);if(!(o&&o.duration>0))return;var c=n.getModel("universalTransition").get("delay"),h=Object.assign({setToFinal:!0},o),v,g;G3(r)&&(v=r,g=t),G3(t)&&(v=t,g=r);function y(A,M,L,R,O){var P=A.many,V=A.one;if(P.length===1&&!O){var k=M?P[0]:V,F=M?V:P[0];if(h_(k))y({many:[k],one:F},!0,L,R,!0);else{var H=c?oe({delay:c(L,R)},h):h;oD(k,F,H),a(k,F,k,F,H)}}else for(var W=oe({dividePath:iSt[e],individualDelay:c&&function(it,rt,st,lt){return c(it+L,R)}},h),q=M?rSt(P,V,W):nSt(V,P,W),Y=q.fromIndividuals,Z=q.toIndividuals,et=Y.length,J=0;J<et;J++){var H=c?oe({delay:c(J,et)},h):h;a(Y[J],Z[J],M?P[J]:A.one,M?A.one:P[J],H)}}for(var m=v?v===r:r.length>t.length,b=v?F3(g,v):F3(m?t:r,[m?r:t]),S=0,E=0;E<b.length;E++)S+=b[E].many.length;for(var C=0,E=0;E<b.length;E++)y(b[E],m,C,S),C+=b[E].many.length}function ju(r){if(!r)return[];if(Rt(r)){for(var t=[],e=0;e<r.length;e++)t.push(ju(r[e]));return t}var n=[];return r.traverse(function(i){i instanceof Ee&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var a9=1e4,aSt=0,B3=1,H3=2,oSt=xe();function sSt(r,t){for(var e=r.dimensions,n=0;n<e.length;n++){var i=r.getDimensionInfo(e[n]);if(i&&i.otherDims[t]===0)return e[n]}}function lSt(r,t,e){var n=r.getDimensionInfo(e),i=n&&n.ordinalMeta;if(n){var a=r.get(n.name,t);return i&&i.categories[a]||a+""}}function z3(r,t,e,n){var i=n?"itemChildGroupId":"itemGroupId",a=sSt(r,i);if(a){var o=lSt(r,t,a);return o}var c=r.getRawDataItem(t),h=n?"childGroupId":"groupId";if(c&&c[h])return c[h]+"";if(!n)return e||r.getId(t)}function U3(r){var t=[];return j(r,function(e){var n=e.data,i=e.dataGroupId;if(!(n.count()>a9))for(var a=n.getIndices(),o=0;o<a.length;o++)t.push({data:n,groupId:z3(n,o,i,!1),childGroupId:z3(n,o,i,!0),divide:e.divide,dataIndex:o})}),t}function Zx(r,t,e){r.traverse(function(n){n instanceof Ee&&hr(n,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function Kx(r){if(r.parent){var t=r.getComputedTransform();r.setLocalTransform(t),r.parent.remove(r)}}function Bf(r){r.stopAnimation(),r.isGroup&&r.traverse(function(t){t.stopAnimation()})}function uSt(r,t,e){var n=Ih("update",e,t);n&&r.traverse(function(i){if(i instanceof ua){var a=Unt(i);a&&i.animateFrom({style:a},n)}})}function cSt(r,t){var e=r.length;if(e!==t.length)return!1;for(var n=0;n<e;n++){var i=r[n],a=t[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function o9(r,t,e){var n=U3(r),i=U3(t);function a(L,R,O,P,V){(O||L)&&R.animateFrom({style:O&&O!==L?At(At({},O.style),L.style):L.style},V)}var o=!1,c=aSt,h=Kt(),v=Kt();n.forEach(function(L){L.groupId&&h.set(L.groupId,!0),L.childGroupId&&v.set(L.childGroupId,!0)});for(var g=0;g<i.length;g++){var y=i[g].groupId;if(v.get(y)){c=B3;break}var m=i[g].childGroupId;if(m&&h.get(m)){c=H3;break}}function b(L,R){return function(O){var P=O.data,V=O.dataIndex;return R?P.getId(V):L?c===B3?O.childGroupId:O.groupId:c===H3?O.childGroupId:O.groupId}}var S=cSt(n,i),E={};if(!S)for(var g=0;g<i.length;g++){var C=i[g],A=C.data.getItemGraphicEl(C.dataIndex);A&&(E[A.id]=!0)}function M(L,R){var O=n[R],P=i[L],V=P.data.hostModel,k=O.data.getItemGraphicEl(O.dataIndex),F=P.data.getItemGraphicEl(P.dataIndex);if(k===F){F&&uSt(F,P.dataIndex,V);return}k&&E[k.id]||F&&(Bf(F),k?(Bf(k),Kx(k),o=!0,Xx(ju(k),ju(F),P.divide,V,L,a)):Zx(F,V,L))}new _s(n,i,b(!0,S),b(!1,S),null,"multiple").update(M).updateManyToOne(function(L,R){var O=i[L],P=O.data,V=P.hostModel,k=P.getItemGraphicEl(O.dataIndex),F=je(Pt(R,function(H){return n[H].data.getItemGraphicEl(n[H].dataIndex)}),function(H){return H&&H!==k&&!E[H.id]});k&&(Bf(k),F.length?(j(F,function(H){Bf(H),Kx(H)}),o=!0,Xx(ju(F),ju(k),O.divide,V,L,a)):Zx(k,V,O.dataIndex))}).updateOneToMany(function(L,R){var O=n[R],P=O.data.getItemGraphicEl(O.dataIndex);if(!(P&&E[P.id])){var V=je(Pt(L,function(F){return i[F].data.getItemGraphicEl(i[F].dataIndex)}),function(F){return F&&F!==P}),k=i[L[0]].data.hostModel;V.length&&(j(V,function(F){return Bf(F)}),P?(Bf(P),Kx(P),o=!0,Xx(ju(P),ju(V),O.divide,k,L[0],a)):j(V,function(F){return Zx(F,k,L[0])}))}}).updateManyToMany(function(L,R){new _s(R,L,function(O){return n[O].data.getId(n[O].dataIndex)},function(O){return i[O].data.getId(i[O].dataIndex)}).update(function(O,P){M(L[O],R[P])}).execute()}).execute(),o&&j(t,function(L){var R=L.data,O=R.hostModel,P=O&&e.getViewOfSeriesModel(O),V=Ih("update",O,0);P&&O.isAnimationEnabled()&&V&&V.duration>0&&P.group.traverse(function(k){k instanceof Ee&&!k.animators.length&&k.animateFrom({style:{opacity:0}},V)})})}function W3(r){var t=r.getModel("universalTransition").get("seriesKey");return t||r.id}function j3(r){return Rt(r)?r.sort().join(","):r}function il(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function fSt(r,t){var e=Kt(),n=Kt(),i=Kt();return j(r.oldSeries,function(a,o){var c=r.oldDataGroupIds[o],h=r.oldData[o],v=W3(a),g=j3(v);n.set(g,{dataGroupId:c,data:h}),Rt(v)&&j(v,function(y){i.set(y,{key:g,dataGroupId:c,data:h})})}),j(t.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),c=a.getData(),h=W3(a),v=j3(h),g=n.get(v);if(g)e.set(v,{oldSeries:[{dataGroupId:g.dataGroupId,divide:il(g.data),data:g.data}],newSeries:[{dataGroupId:o,divide:il(c),data:c}]});else if(Rt(h)){var y=[];j(h,function(S){var E=n.get(S);E.data&&y.push({dataGroupId:E.dataGroupId,divide:il(E.data),data:E.data})}),y.length&&e.set(v,{oldSeries:y,newSeries:[{dataGroupId:o,data:c,divide:il(c)}]})}else{var m=i.get(h);if(m){var b=e.get(m.key);b||(b={oldSeries:[{dataGroupId:m.dataGroupId,data:m.data,divide:il(m.data)}],newSeries:[]},e.set(m.key,b)),b.newSeries.push({dataGroupId:o,data:c,divide:il(c)})}}}}),e}function Y3(r,t){for(var e=0;e<r.length;e++){var n=t.seriesIndex!=null&&t.seriesIndex===r[e].seriesIndex||t.seriesId!=null&&t.seriesId===r[e].id;if(n)return e}}function hSt(r,t,e,n){var i=[],a=[];j(Qe(r.from),function(o){var c=Y3(t.oldSeries,o);c>=0&&i.push({dataGroupId:t.oldDataGroupIds[c],data:t.oldData[c],divide:il(t.oldData[c]),groupIdDim:o.dimension})}),j(Qe(r.to),function(o){var c=Y3(e.updatedSeries,o);if(c>=0){var h=e.updatedSeries[c].getData();a.push({dataGroupId:t.oldDataGroupIds[c],data:h,divide:il(h),groupIdDim:o.dimension})}}),i.length>0&&a.length>0&&o9(i,a,n)}function pSt(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){j(Qe(n.seriesTransition),function(i){j(Qe(i.to),function(a){for(var o=n.updatedSeries,c=0;c<o.length;c++)(a.seriesIndex!=null&&a.seriesIndex===o[c].seriesIndex||a.seriesId!=null&&a.seriesId===o[c].id)&&(o[c][qm]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(t,e,n){var i=oSt(e);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)j(Qe(a),function(b){hSt(b,i,n,e)});else{var o=fSt(i,n);j(o.keys(),function(b){var S=o.get(b);o9(S.oldSeries,S.newSeries,e)})}j(n.updatedSeries,function(b){b[qm]&&(b[qm]=!1)})}for(var c=t.getSeries(),h=i.oldSeries=[],v=i.oldDataGroupIds=[],g=i.oldData=[],y=0;y<c.length;y++){var m=c[y].getData();m.count()<a9&&(h.push(c[y]),v.push(c[y].get("dataGroupId")),g.push(m))}})}var dSt=(function(){function r(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return r.prototype.setBreaks=function(t){this.breaks=t.breaks},r.prototype.update=function(t){gSt(this,t);var e=this._elapsedExtent;e[0]=this.elapse(t[0]),e[1]=this.elapse(t[1])},r.prototype.hasBreaks=function(){return!!this.breaks.length},r.prototype.calcNiceTickMultiple=function(t,e){for(var n=0;n<this.breaks.length;n++){var i=this.breaks[n];if(i.vmin<t&&t<i.vmax){var a=e(t,i.vmax);return a}}return 0},r.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},r.prototype.normalize=function(t){var e=this._elapsedExtent[1]-this._elapsedExtent[0];return e===0?.5:(this.elapse(t)-this._elapsedExtent[0])/e},r.prototype.scale=function(t){return this.unelapse(t*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},r.prototype.elapse=function(t){for(var e=$3,n=q3,i=!0,a=0;a<this.breaks.length;a++){var o=this.breaks[a];if(t<=o.vmax){t>o.vmin?e+=o.vmin-n+(t-o.vmin)/(o.vmax-o.vmin)*o.gapReal:e+=t-n,n=o.vmax,i=!1;break}e+=o.vmin-n+o.gapReal,n=o.vmax}return i&&(e+=t-n),e},r.prototype.unelapse=function(t){for(var e=$3,n=q3,i=!0,a=0,o=0;o<this.breaks.length;o++){var c=this.breaks[o],h=e+c.vmin-n,v=h+c.gapReal;if(t<=v){t>h?a=c.vmin+(t-h)/(v-h)*(c.vmax-c.vmin):a=n+t-e,n=c.vmax,i=!1;break}e=v,n=c.vmax}return i&&(a=n+t-e),a},r})();function vSt(){return new dSt}var $3=0,q3=0;function gSt(r,t){var e=0,n={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},i=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},a={S:{tpAbs:i(),tpPrct:i()},E:{tpAbs:i(),tpPrct:i()}};j(r.breaks,function(c){var h=c.gapParsed;h.type==="tpPrct"&&(e+=h.val);var v=sD(c,t);if(v){var g=v.vmin!==c.vmin,y=v.vmax!==c.vmax,m=v.vmax-v.vmin;if(!(g&&y))if(g||y){var b=g?"S":"E";a[b][h.type].has=!0,a[b][h.type].span=m,a[b][h.type].inExtFrac=m/(c.vmax-c.vmin),a[b][h.type].val=h.val}else n[h.type].span+=m,n[h.type].val+=h.val}});var o=e*(0+(t[1]-t[0])+(n.tpAbs.val-n.tpAbs.span)+(a.S.tpAbs.has?(a.S.tpAbs.val-a.S.tpAbs.span)*a.S.tpAbs.inExtFrac:0)+(a.E.tpAbs.has?(a.E.tpAbs.val-a.E.tpAbs.span)*a.E.tpAbs.inExtFrac:0)-n.tpPrct.span-(a.S.tpPrct.has?a.S.tpPrct.span*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.span*a.E.tpPrct.inExtFrac:0))/(1-n.tpPrct.val-(a.S.tpPrct.has?a.S.tpPrct.val*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.val*a.E.tpPrct.inExtFrac:0));j(r.breaks,function(c){var h=c.gapParsed;h.type==="tpPrct"&&(c.gapReal=e!==0?Math.max(o,0)*h.val/e:0),h.type==="tpAbs"&&(c.gapReal=h.val),c.gapReal==null&&(c.gapReal=0)})}function ySt(r,t,e,n,i,a){r!=="no"&&j(e,function(o){var c=sD(o,a);if(c)for(var h=t.length-1;h>=0;h--){var v=t[h],g=n(v),y=i*3/4;g>c.vmin-y&&g<c.vmax+y&&(r!=="preserve_extent_bound"||g!==a[0]&&g!==a[1])&&t.splice(h,1)}})}function mSt(r,t,e,n){j(t,function(i){var a=sD(i,e);a&&(r.push({value:a.vmin,break:{type:"vmin",parsedBreak:a},time:n?n(a):void 0}),r.push({value:a.vmax,break:{type:"vmax",parsedBreak:a},time:n?n(a):void 0}))}),t.length&&r.sort(function(i,a){return i.value-a.value})}function sD(r,t){var e=Math.max(r.vmin,t[0]),n=Math.min(r.vmax,t[1]);return e<n||e===n&&e>t[0]&&e<t[1]?{vmin:e,vmax:n,breakOption:r.breakOption,gapParsed:r.gapParsed,gapReal:r.gapReal}:null}function SC(r,t,e){var n=[];if(!r)return{breaks:n};function i(o,c){return o>=0&&o<1-1e-5}j(r,function(o){if(!(!o||o.start==null||o.end==null)&&!o.isExpanded){var c={breakOption:ne(o),vmin:t(o.start),vmax:t(o.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(o.gap!=null){var h=!1;if($t(o.gap)){var v=oa(o.gap);if(v.match(/%$/)){var g=parseFloat(v)/100;i(g)||(g=0),c.gapParsed.type="tpPrct",c.gapParsed.val=g,h=!0}}if(!h){var y=t(o.gap);(!isFinite(y)||y<0)&&(y=0),c.gapParsed.type="tpAbs",c.gapParsed.val=y}}if(c.vmin===c.vmax&&(c.gapParsed.type="tpAbs",c.gapParsed.val=0),e&&e.noNegative&&j(["vmin","vmax"],function(b){c[b]<0&&(c[b]=0)}),c.vmin>c.vmax){var m=c.vmax;c.vmax=c.vmin,c.vmin=m}n.push(c)}}),n.sort(function(o,c){return o.vmin-c.vmin});var a=-1/0;return j(n,function(o,c){a>o.vmin&&(n[c]=null),a=o.vmax}),{breaks:n.filter(function(o){return!!o})}}function lD(r,t){return wC(t)===wC(r)}function wC(r){return r.start+"_\0_"+r.end}function _St(r,t,e){var n=[];j(r,function(a,o){var c=t(a);c&&c.type==="vmin"&&n.push([o])}),j(r,function(a,o){var c=t(a);if(c&&c.type==="vmax"){var h=Tc(n,function(v){return lD(t(r[v[0]]).parsedBreak.breakOption,c.parsedBreak.breakOption)});h&&h.push(o)}});var i=[];return j(n,function(a){a.length===2&&i.push(e?a:[r[a[0]],r[a[1]]])}),i}function bSt(r,t,e,n){var i,a;if(r.break){var o=r.break.parsedBreak,c=Tc(e,function(y){return lD(y.breakOption,r.break.parsedBreak.breakOption)}),h=n(Math.pow(t,o.vmin),c.vmin),v=n(Math.pow(t,o.vmax),c.vmax),g={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?Ur(Math.pow(t,o.vmin+o.gapParsed.val))-h:o.gapParsed.val};i={type:r.break.type,parsedBreak:{breakOption:o.breakOption,vmin:h,vmax:v,gapParsed:g,gapReal:o.gapReal}},a=c[r.break.type]}return{brkRoundingCriterion:a,vBreak:i}}function SSt(r,t,e){var n={noNegative:!0},i=SC(r,e,n),a=SC(r,e,n),o=Math.log(t);return a.breaks=Pt(a.breaks,function(c){var h=Math.log(c.vmin)/o,v=Math.log(c.vmax)/o,g={type:c.gapParsed.type,val:c.gapParsed.type==="tpAbs"?Math.log(c.vmin+c.gapParsed.val)/o-h:c.gapParsed.val};return{vmin:h,vmax:v,gapParsed:g,gapReal:c.gapReal,breakOption:c.breakOption}}),{parsedOriginal:i,parsedLogged:a}}var wSt={vmin:"start",vmax:"end"};function xSt(r,t){return t&&(r=r||{},r.break={type:wSt[t.type],start:t.parsedBreak.vmin,end:t.parsedBreak.vmax}),r}function ESt(){hit({createScaleBreakContext:vSt,pruneTicksByBreak:ySt,addBreaksToTicks:mSt,parseAxisBreakOption:SC,identifyAxisBreak:lD,serializeAxisBreakIdentifier:wC,retrieveAxisBreakPairs:_St,getTicksLogTransformBreak:bSt,logarithmicParseBreaksFromOption:SSt,makeAxisLabelFormatterParamBreak:xSt})}var X3=xe();function TSt(r,t){var e=Tc(r,function(n){return jr().identifyAxisBreak(n.parsedBreak.breakOption,t.breakOption)});return e||r.push(e={zigzagRandomList:[],parsedBreak:t,shouldRemove:!1}),e}function CSt(r){j(r,function(t){return t.shouldRemove=!0})}function ASt(r){for(var t=r.length-1;t>=0;t--)r[t].shouldRemove&&r.splice(t,1)}function MSt(r,t,e,n,i){var a=e.axis;if(a.scale.isBlank()||!jr())return;var o=jr().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(F){return F.break},!1);if(!o.length)return;var c=e.getModel("breakArea"),h=c.get("zigzagAmplitude"),v=c.get("zigzagMinSpan"),g=c.get("zigzagMaxSpan");v=Math.max(2,v||0),g=Math.max(v,g||0);var y=c.get("expandOnClick"),m=c.get("zigzagZ"),b=c.getModel("itemStyle"),S=b.getItemStyle(),E=S.stroke,C=S.lineWidth,A=S.lineDash,M=S.fill,L=new re({ignoreModelZ:!0}),R=a.isHorizontal(),O=X3(t).visualList||(X3(t).visualList=[]);CSt(O);for(var P=function(F){var H=o[F][0].break.parsedBreak,W=[];W[0]=a.toGlobalCoord(a.dataToCoord(H.vmin,!0)),W[1]=a.toGlobalCoord(a.dataToCoord(H.vmax,!0)),W[1]<W[0]&&W.reverse();var q=TSt(O,H);q.shouldRemove=!1;var Y=new re;k(q.zigzagRandomList,Y,W[0],W[1],R,H),y&&Y.on("click",function(){var Z={type:eb,breaks:[{start:H.breakOption.start,end:H.breakOption.end}]};Z[a.dim+"AxisIndex"]=e.componentIndex,i.dispatchAction(Z)}),Y.silent=!y,L.add(Y)},V=0;V<o.length;V++)P(V);r.add(L),ASt(O);function k(F,H,W,q,Y,Z){var et={stroke:E,lineWidth:C,lineDash:A,fill:"none"},J=Y?0:1,it=1-J,rt=n[pe[it]]+n[Yr[it]];function st(ot){var ht=[],_t=[];ht[J]=_t[J]=ot,ht[it]=n[pe[it]],_t[it]=rt;var mt={x1:ht[0],y1:ht[1],x2:_t[0],y2:_t[1]};return V_(mt,mt,{lineWidth:1}),ht[0]=mt.x1,ht[1]=mt.y1,ht[J]}W=st(W),q=st(q);for(var lt=[],dt=[],pt=!0,xt=n[pe[it]],Ft=0;;Ft++){var Ut=xt===n[pe[it]],Vt=xt>=rt;Vt&&(xt=rt);var Qt=[],Ht=[];Qt[J]=W,Ht[J]=q,!Ut&&!Vt&&(Qt[J]+=pt?-h:h,Ht[J]-=pt?h:-h),Qt[it]=xt,Ht[it]=xt,lt.push(Qt),dt.push(Ht);var gt=void 0;if(Ft<F.length?gt=F[Ft]:(gt=Math.random(),F.push(gt)),xt+=gt*(g-v)+v,pt=!pt,Vt)break}var Mt=jr().serializeAxisBreakIdentifier(Z.breakOption);if(H.add(new In({anid:"break_a_"+Mt,shape:{points:lt},style:et,z:m})),Z.gapReal!==0){H.add(new In({anid:"break_b_"+Mt,shape:{points:dt},style:et,z:m}));var Et=dt.slice();Et.reverse();var X=lt.concat(Et);H.add(new qn({anid:"break_c_"+Mt,shape:{points:X},style:{fill:M,opacity:S.opacity},z:m}))}}}function DSt(r,t,e,n){var i=r.axis,a=e.transform;Yn(n.style);var o=i.getExtent();i.inverse&&(o=o.slice(),o.reverse());var c=jr().retrieveAxisBreakPairs(i.scale.getTicks({breakTicks:"only_break"}),function(C){return C.break},!1),h=Pt(c,function(C){var A=C[0].break.parsedBreak,M=[i.dataToCoord(A.vmin,!0),i.dataToCoord(A.vmax,!0)];return M[0]>M[1]&&M.reverse(),{coordPair:M,brkId:jr().serializeAxisBreakIdentifier(A.breakOption)}});h.sort(function(C,A){return C.coordPair[0]-A.coordPair[0]});for(var v=o[0],g=null,y=0;y<h.length;y++){var m=h[y],b=Math.max(m.coordPair[0],o[0]),S=Math.min(m.coordPair[1],o[1]);v<=b&&E(v,b,g,m),v=S,g=m}v<=o[1]&&E(v,o[1],g,null);function E(C,A,M,L){function R(W,q){a&&(Vr(W,W,a),Vr(q,q,a))}function O(W,q){var Y={x1:W[0],y1:W[1],x2:q[0],y2:q[1]};V_(Y,Y,n.style),W[0]=Y.x1,W[1]=Y.y1,q[0]=Y.x2,q[1]=Y.y2}var P=[C,0],V=[A,0],k=[C,5],F=[A,5];R(P,k),O(P,k),R(V,F),O(V,F),O(P,V);var H=new Wr(At({shape:{x1:P[0],y1:P[1],x2:V[0],y2:V[1]}},n));t.add(H),H.anid="breakLine_"+(M?M.brkId:"\0")+"_\0_"+(L?L.brkId:"\0")}}function LSt(r,t,e){if(Tc(e,function(M){return!M}))return;var n=new ae;if(!Q_(e[0],e[1],n,{direction:-(r?t+Math.PI:t),touchThreshold:0,bidirectional:!1}))return;var i=_n();Nl(i,i,-t);var a=Pt(e,function(M){return M.transform?To(_n(),i,M.transform):i});function o(M){var L=e[0].localRect,R=new ae(L[Yr[M]]*a[0][0],L[Yr[M]]*a[0][1]);return Math.abs(R.y)<1e-5}var c=.5;if(o(0)||o(1)){var h=Pt(e,function(M,L){var R=M.localRect.clone();return R.applyTransform(a[L]),R}),v=new ae;v.copy(e[0].label).add(e[1].label).scale(.5),v.transform(i);var g=n.clone().transform(i),y=h[0].x+h[1].x+(g.x>=0?h[0].width:h[1].width),m=(y+g.x)/2-v.x,b=Math.min(m,m-g.x),S=Math.max(m,m-g.x),E=S<0?S:b>0?b:0;c=(m-E)/g.x}var C=new ae,A=new ae;ae.scale(C,n,-c),ae.scale(A,n,1-c),xT(e[0],C),xT(e[1],A)}function NSt(r,t){var e={breaks:[]};return j(t.breaks,function(n){if(n){var i=Tc(r.get("breaks",!0),function(c){return jr().identifyAxisBreak(c,n)});if(i){var a=t.type,o={isExpanded:!!i.isExpanded};i.isExpanded=a===eb?!0:a===Az?!1:a===Mz?!i.isExpanded:i.isExpanded,e.breaks.push({start:i.start,end:i.end,isExpanded:!!i.isExpanded,old:o})}}}),e}function RSt(){Act({adjustBreakLabelPair:LSt,buildAxisBreakLine:DSt,rectCoordBuildBreakAxis:MSt,updateModelAxisBreak:NSt})}function ISt(r){Ict(r),ESt(),RSt()}function OSt(){tft(PSt)}function PSt(r,t){j(r,function(e){if(!e.model.get(["axisLabel","inside"])){var n=kSt(e);if(n){var i=e.isHorizontal()?"height":"width",a=e.model.get(["axisLabel","margin"]);t[i]-=n[i]+a,e.position==="top"?t.y+=n.height+a:e.position==="left"&&(t.x+=n.width+a)}}})}function kSt(r){var t=r.model,e=r.scale;if(!t.get(["axisLabel","show"])||e.isBlank())return;var n,i,a=e.getExtent();e instanceof yh?i=e.count():(n=e.getTicks(),i=n.length);var o=r.getLabelModel(),c=Fh(r),h,v=1;i>40&&(v=Math.ceil(i/40));for(var g=0;g<i;g+=v){var y=n?n[g]:{value:a[0]+g},m=c(y,g),b=o.getTextRect(m),S=E(b,o.get("rotate")||0);h?h.union(S):h=S}return h;function E(C,A){var M=A*Math.PI/180,L=C.width,R=C.height,O=L*Math.abs(Math.cos(M))+Math.abs(R*Math.sin(M)),P=L*Math.abs(Math.sin(M))+Math.abs(R*Math.cos(M)),V=new le(C.x,C.y,O,P);return V}}_e([Tut]);_e([but]);_e([jut,oct,gct,_ft,Lft,_ht,Yht,Dpt,Zpt,ndt,udt,ydt,cvt,Ovt,jvt,sgt,fgt,Sgt,Mgt,Fgt,jgt,eyt,Fyt]);_e(imt);_e(Dmt);_e(t8);_e(Hmt);_e(B8);_e(jmt);_e(f0t);_e(b0t);_e(o_t);_e(T_t);_e($v);_e(H_t);_e(W_t);_e(tbt);_e(lbt);_e(dbt);_e(bbt);_e(Lbt);_e(Xbt);_e(Y7);_e($7);_e(v1t);_e(J7);_e(Q7);_e(_1t);_e(E1t);_e(V1t);_e(B1t);_e(pSt);_e(Blt);_e(ISt);_e(OSt);_e(bft);var Hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VSt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jx={exports:{}};var Z3;function GSt(){return Z3||(Z3=1,(function(r,t){(function(e,n){r.exports=n()})(globalThis,(()=>(()=>{var e={866:o=>{o.exports=function c(h,v){if(h===v)return!0;if(h&&v&&typeof h=="object"&&typeof v=="object"){if(h.constructor!==v.constructor)return!1;var g,y,m;if(Array.isArray(h)){if((g=h.length)!=v.length)return!1;for(y=g;y--!=0;)if(!c(h[y],v[y]))return!1;return!0}if(h.constructor===RegExp)return h.source===v.source&&h.flags===v.flags;if(h.valueOf!==Object.prototype.valueOf)return h.valueOf()===v.valueOf();if(h.toString!==Object.prototype.toString)return h.toString()===v.toString();if((g=(m=Object.keys(h)).length)!==Object.keys(v).length)return!1;for(y=g;y--!=0;)if(!Object.prototype.hasOwnProperty.call(v,m[y]))return!1;for(y=g;y--!=0;){var b=m[y];if(!c(h[b],v[b]))return!1}return!0}return h!=h&&v!=v}},693:o=>{var c,h="__lodash_hash_undefined__",v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/,y=/^\./,m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/\\(\\)?/g,S=/^\[object .+?Constructor\]$/,E=typeof Hf=="object"&&Hf&&Hf.Object===Object&&Hf,C=typeof self=="object"&&self&&self.Object===Object&&self,A=E||C||Function("return this")(),M=Array.prototype,L=Function.prototype,R=Object.prototype,O=A["__core-js_shared__"],P=(c=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",V=L.toString,k=R.hasOwnProperty,F=R.toString,H=RegExp("^"+V.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=A.Symbol,q=M.splice,Y=pt(A,"Map"),Z=pt(Object,"create"),et=W?W.prototype:void 0,J=et?et.toString:void 0;function it(gt){var Mt=-1,Et=gt?gt.length:0;for(this.clear();++Mt<Et;){var X=gt[Mt];this.set(X[0],X[1])}}function rt(gt){var Mt=-1,Et=gt?gt.length:0;for(this.clear();++Mt<Et;){var X=gt[Mt];this.set(X[0],X[1])}}function st(gt){var Mt=-1,Et=gt?gt.length:0;for(this.clear();++Mt<Et;){var X=gt[Mt];this.set(X[0],X[1])}}function lt(gt,Mt){for(var Et,X,ot=gt.length;ot--;)if((Et=gt[ot][0])===(X=Mt)||Et!=Et&&X!=X)return ot;return-1}function dt(gt,Mt){var Et,X,ot=gt.__data__;return((X=typeof(Et=Mt))=="string"||X=="number"||X=="symbol"||X=="boolean"?Et!=="__proto__":Et===null)?ot[typeof Mt=="string"?"string":"hash"]:ot.map}function pt(gt,Mt){var Et=(function(X,ot){return X?.[ot]})(gt,Mt);return(function(X){if(!Qt(X)||P&&P in X)return!1;var ot=(function(ht){var _t=Qt(ht)?F.call(ht):"";return _t=="[object Function]"||_t=="[object GeneratorFunction]"})(X)||(function(ht){var _t=!1;if(ht!=null&&typeof ht.toString!="function")try{_t=!!(ht+"")}catch{}return _t})(X)?H:S;return ot.test((function(ht){if(ht!=null){try{return V.call(ht)}catch{}try{return ht+""}catch{}}return""})(X))})(Et)?Et:void 0}it.prototype.clear=function(){this.__data__=Z?Z(null):{}},it.prototype.delete=function(gt){return this.has(gt)&&delete this.__data__[gt]},it.prototype.get=function(gt){var Mt=this.__data__;if(Z){var Et=Mt[gt];return Et===h?void 0:Et}return k.call(Mt,gt)?Mt[gt]:void 0},it.prototype.has=function(gt){var Mt=this.__data__;return Z?Mt[gt]!==void 0:k.call(Mt,gt)},it.prototype.set=function(gt,Mt){return this.__data__[gt]=Z&&Mt===void 0?h:Mt,this},rt.prototype.clear=function(){this.__data__=[]},rt.prototype.delete=function(gt){var Mt=this.__data__,Et=lt(Mt,gt);return!(Et<0||(Et==Mt.length-1?Mt.pop():q.call(Mt,Et,1),0))},rt.prototype.get=function(gt){var Mt=this.__data__,Et=lt(Mt,gt);return Et<0?void 0:Mt[Et][1]},rt.prototype.has=function(gt){return lt(this.__data__,gt)>-1},rt.prototype.set=function(gt,Mt){var Et=this.__data__,X=lt(Et,gt);return X<0?Et.push([gt,Mt]):Et[X][1]=Mt,this},st.prototype.clear=function(){this.__data__={hash:new it,map:new(Y||rt),string:new it}},st.prototype.delete=function(gt){return dt(this,gt).delete(gt)},st.prototype.get=function(gt){return dt(this,gt).get(gt)},st.prototype.has=function(gt){return dt(this,gt).has(gt)},st.prototype.set=function(gt,Mt){return dt(this,gt).set(gt,Mt),this};var xt=Ut((function(gt){var Mt;gt=(Mt=gt)==null?"":(function(X){if(typeof X=="string")return X;if(Ht(X))return J?J.call(X):"";var ot=X+"";return ot=="0"&&1/X==-1/0?"-0":ot})(Mt);var Et=[];return y.test(gt)&&Et.push(""),gt.replace(m,(function(X,ot,ht,_t){Et.push(ht?_t.replace(b,"$1"):ot||X)})),Et}));function Ft(gt){if(typeof gt=="string"||Ht(gt))return gt;var Mt=gt+"";return Mt=="0"&&1/gt==-1/0?"-0":Mt}function Ut(gt,Mt){if(typeof gt!="function"||Mt&&typeof Mt!="function")throw new TypeError("Expected a function");var Et=function(){var X=arguments,ot=Mt?Mt.apply(this,X):X[0],ht=Et.cache;if(ht.has(ot))return ht.get(ot);var _t=gt.apply(this,X);return Et.cache=ht.set(ot,_t),_t};return Et.cache=new(Ut.Cache||st),Et}Ut.Cache=st;var Vt=Array.isArray;function Qt(gt){var Mt=typeof gt;return!!gt&&(Mt=="object"||Mt=="function")}function Ht(gt){return typeof gt=="symbol"||(function(Mt){return!!Mt&&typeof Mt=="object"})(gt)&&F.call(gt)=="[object Symbol]"}o.exports=function(gt,Mt,Et){var X=gt==null?void 0:(function(ot,ht){var _t;ht=(function(tt,Q){if(Vt(tt))return!1;var ft=typeof tt;return!(ft!="number"&&ft!="symbol"&&ft!="boolean"&&tt!=null&&!Ht(tt))||g.test(tt)||!v.test(tt)||Q!=null&&tt in Object(Q)})(ht,ot)?[ht]:Vt(_t=ht)?_t:xt(_t);for(var mt=0,Lt=ht.length;ot!=null&&mt<Lt;)ot=ot[Ft(ht[mt++])];return mt&&mt==Lt?ot:void 0})(gt,Mt);return X===void 0?Et:X}},732:()=>{var o;(function(c){(function(){var h=typeof globalThis=="object"?globalThis:typeof Hf=="object"?Hf:typeof self=="object"?self:typeof this=="object"?this:(function(){try{return Function("return this;")()}catch{}})()||(function(){try{return(0,eval)("(function() { return this; })()")}catch{}})(),v=g(c);function g(y,m){return function(b,S){Object.defineProperty(y,b,{configurable:!0,writable:!0,value:S}),m&&m(b,S)}}h.Reflect!==void 0&&(v=g(h.Reflect,v)),(function(y,m){var b=Object.prototype.hasOwnProperty,S=typeof Symbol=="function",E=S&&Symbol.toPrimitive!==void 0?Symbol.toPrimitive:"@@toPrimitive",C=S&&Symbol.iterator!==void 0?Symbol.iterator:"@@iterator",A=typeof Object.create=="function",M={__proto__:[]}instanceof Array,L=!A&&!M,R={create:A?function(){return Lt(Object.create(null))}:M?function(){return Lt({__proto__:null})}:function(){return Lt({})},has:L?function(tt,Q){return b.call(tt,Q)}:function(tt,Q){return Q in tt},get:L?function(tt,Q){return b.call(tt,Q)?tt[Q]:void 0}:function(tt,Q){return tt[Q]}},O=Object.getPrototypeOf(Function),P=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:(function(){var tt={},Q=[],ft=(function(){function Ct(Dt,Bt,Zt){this._index=0,this._keys=Dt,this._values=Bt,this._selector=Zt}return Ct.prototype["@@iterator"]=function(){return this},Ct.prototype[C]=function(){return this},Ct.prototype.next=function(){var Dt=this._index;if(Dt>=0&&Dt<this._keys.length){var Bt=this._selector(this._keys[Dt],this._values[Dt]);return Dt+1>=this._keys.length?(this._index=-1,this._keys=Q,this._values=Q):this._index++,{value:Bt,done:!1}}return{value:void 0,done:!0}},Ct.prototype.throw=function(Dt){throw this._index>=0&&(this._index=-1,this._keys=Q,this._values=Q),Dt},Ct.prototype.return=function(Dt){return this._index>=0&&(this._index=-1,this._keys=Q,this._values=Q),{value:Dt,done:!0}},Ct})();return(function(){function Ct(){this._keys=[],this._values=[],this._cacheKey=tt,this._cacheIndex=-2}return Object.defineProperty(Ct.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Ct.prototype.has=function(Dt){return this._find(Dt,!1)>=0},Ct.prototype.get=function(Dt){var Bt=this._find(Dt,!1);return Bt>=0?this._values[Bt]:void 0},Ct.prototype.set=function(Dt,Bt){var Zt=this._find(Dt,!0);return this._values[Zt]=Bt,this},Ct.prototype.delete=function(Dt){var Bt=this._find(Dt,!1);if(Bt>=0){for(var Zt=this._keys.length,he=Bt+1;he<Zt;he++)this._keys[he-1]=this._keys[he],this._values[he-1]=this._values[he];return this._keys.length--,this._values.length--,gt(Dt,this._cacheKey)&&(this._cacheKey=tt,this._cacheIndex=-2),!0}return!1},Ct.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=tt,this._cacheIndex=-2},Ct.prototype.keys=function(){return new ft(this._keys,this._values,St)},Ct.prototype.values=function(){return new ft(this._keys,this._values,It)},Ct.prototype.entries=function(){return new ft(this._keys,this._values,Gt)},Ct.prototype["@@iterator"]=function(){return this.entries()},Ct.prototype[C]=function(){return this.entries()},Ct.prototype._find=function(Dt,Bt){if(!gt(this._cacheKey,Dt)){this._cacheIndex=-1;for(var Zt=0;Zt<this._keys.length;Zt++)if(gt(this._keys[Zt],Dt)){this._cacheIndex=Zt;break}}return this._cacheIndex<0&&Bt&&(this._cacheIndex=this._keys.length,this._keys.push(Dt),this._values.push(void 0)),this._cacheIndex},Ct})();function St(Ct,Dt){return Ct}function It(Ct,Dt){return Dt}function Gt(Ct,Dt){return[Ct,Dt]}})(),V=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:(function(){function tt(){this._map=new P}return Object.defineProperty(tt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),tt.prototype.has=function(Q){return this._map.has(Q)},tt.prototype.add=function(Q){return this._map.set(Q,Q),this},tt.prototype.delete=function(Q){return this._map.delete(Q)},tt.prototype.clear=function(){this._map.clear()},tt.prototype.keys=function(){return this._map.keys()},tt.prototype.values=function(){return this._map.keys()},tt.prototype.entries=function(){return this._map.entries()},tt.prototype["@@iterator"]=function(){return this.keys()},tt.prototype[C]=function(){return this.keys()},tt})(),k=typeof WeakMap=="function"?WeakMap:(function(){var tt=R.create(),Q=ft();return(function(){function Ct(){this._key=ft()}return Ct.prototype.has=function(Dt){var Bt=St(Dt,!1);return Bt!==void 0&&R.has(Bt,this._key)},Ct.prototype.get=function(Dt){var Bt=St(Dt,!1);return Bt!==void 0?R.get(Bt,this._key):void 0},Ct.prototype.set=function(Dt,Bt){return St(Dt,!0)[this._key]=Bt,this},Ct.prototype.delete=function(Dt){var Bt=St(Dt,!1);return Bt!==void 0&&delete Bt[this._key]},Ct.prototype.clear=function(){this._key=ft()},Ct})();function ft(){var Ct;do Ct="@@WeakMap@@"+Gt();while(R.has(tt,Ct));return tt[Ct]=!0,Ct}function St(Ct,Dt){if(!b.call(Ct,Q)){if(!Dt)return;Object.defineProperty(Ct,Q,{value:R.create()})}return Ct[Q]}function It(Ct,Dt){for(var Bt=0;Bt<Dt;++Bt)Ct[Bt]=255*Math.random()|0;return Ct}function Gt(){var Ct=(function(he){if(typeof Uint8Array=="function"){var ke=new Uint8Array(he);return typeof crypto<"u"?crypto.getRandomValues(ke):typeof msCrypto<"u"?msCrypto.getRandomValues(ke):It(ke,he),ke}return It(new Array(he),he)})(16);Ct[6]=79&Ct[6]|64,Ct[8]=191&Ct[8]|128;for(var Dt="",Bt=0;Bt<16;++Bt){var Zt=Ct[Bt];Bt!==4&&Bt!==6&&Bt!==8||(Dt+="-"),Zt<16&&(Dt+="0"),Dt+=Zt.toString(16).toLowerCase()}return Dt}})(),F=S?Symbol.for("@reflect-metadata:registry"):void 0,H=(function(){var tt;return!lt(F)&&pt(m.Reflect)&&Object.isExtensible(m.Reflect)&&(tt=m.Reflect[F]),lt(tt)&&(tt=(function(){var Q,ft,St,It;lt(F)||m.Reflect===void 0||F in m.Reflect||typeof m.Reflect.defineMetadata!="function"||(Q=(function(ye){var Ye=ye.defineMetadata,me=ye.hasOwnMetadata,tr=ye.getOwnMetadata,Kr=ye.getOwnMetadataKeys,xn=ye.deleteMetadata,On=new k;return{isProviderFor:function(ha,As){var Go=On.get(ha);return!(lt(Go)||!Go.has(As))||!!Kr(ha,As).length&&(lt(Go)&&(Go=new V,On.set(ha,Go)),Go.add(As),!0)},OrdinaryDefineOwnMetadata:Ye,OrdinaryHasOwnMetadata:me,OrdinaryGetOwnMetadata:tr,OrdinaryOwnMetadataKeys:Kr,OrdinaryDeleteMetadata:xn}})(m.Reflect));var Gt=new k,Ct={registerProvider:Dt,getProvider:Zt,setProvider:ke};return Ct;function Dt(ye){if(!Object.isExtensible(Ct))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case Q===ye:break;case lt(ft):ft=ye;break;case ft===ye:break;case lt(St):St=ye;break;case St===ye:break;default:It===void 0&&(It=new V),It.add(ye)}}function Bt(ye,Ye){if(!lt(ft)){if(ft.isProviderFor(ye,Ye))return ft;if(!lt(St)){if(St.isProviderFor(ye,Ye))return ft;if(!lt(It))for(var me=Et(It);;){var tr=ot(me);if(!tr)return;var Kr=X(tr);if(Kr.isProviderFor(ye,Ye))return ht(me),Kr}}}if(!lt(Q)&&Q.isProviderFor(ye,Ye))return Q}function Zt(ye,Ye){var me,tr=Gt.get(ye);return lt(tr)||(me=tr.get(Ye)),lt(me)&&(lt(me=Bt(ye,Ye))||(lt(tr)&&(tr=new P,Gt.set(ye,tr)),tr.set(Ye,me))),me}function he(ye){if(lt(ye))throw new TypeError;return ft===ye||St===ye||!lt(It)&&It.has(ye)}function ke(ye,Ye,me){if(!he(me))throw new Error("Metadata provider not registered.");var tr=Zt(ye,Ye);if(tr!==me){if(!lt(tr))return!1;var Kr=Gt.get(ye);lt(Kr)&&(Kr=new P,Gt.set(ye,Kr)),Kr.set(Ye,me)}return!0}})()),!lt(F)&&pt(m.Reflect)&&Object.isExtensible(m.Reflect)&&Object.defineProperty(m.Reflect,F,{enumerable:!1,configurable:!1,writable:!1,value:tt}),tt})(),W=(function(tt){var Q=new k,ft={isProviderFor:function(It,Gt){var Ct=Q.get(It);return!lt(Ct)&&Ct.has(Gt)},OrdinaryDefineOwnMetadata:function(It,Gt,Ct,Dt){St(Ct,Dt,!0).set(It,Gt)},OrdinaryHasOwnMetadata:function(It,Gt,Ct){var Dt=St(Gt,Ct,!1);return!lt(Dt)&&Ft(Dt.has(It))},OrdinaryGetOwnMetadata:function(It,Gt,Ct){var Dt=St(Gt,Ct,!1);if(!lt(Dt))return Dt.get(It)},OrdinaryOwnMetadataKeys:function(It,Gt){var Ct=[],Dt=St(It,Gt,!1);if(lt(Dt))return Ct;for(var Bt=Et(Dt.keys()),Zt=0;;){var he=ot(Bt);if(!he)return Ct.length=Zt,Ct;var ke=X(he);try{Ct[Zt]=ke}catch(ye){try{ht(Bt)}finally{throw ye}}Zt++}},OrdinaryDeleteMetadata:function(It,Gt,Ct){var Dt=St(Gt,Ct,!1);if(lt(Dt)||!Dt.delete(It))return!1;if(Dt.size===0){var Bt=Q.get(Gt);lt(Bt)||(Bt.delete(Ct),Bt.size===0&&Q.delete(Bt))}return!0}};return H.registerProvider(ft),ft;function St(It,Gt,Ct){var Dt=Q.get(It),Bt=!1;if(lt(Dt)){if(!Ct)return;Dt=new P,Q.set(It,Dt),Bt=!0}var Zt=Dt.get(Gt);if(lt(Zt)){if(!Ct)return;if(Zt=new P,Dt.set(Gt,Zt),!tt.setProvider(It,Gt,ft))throw Dt.delete(Gt),Bt&&Q.delete(It),new Error("Wrong provider for target.")}return Zt}})(H);function q(tt,Q,ft){if(Y(tt,Q,ft))return!0;var St=_t(Q);return!dt(St)&&q(tt,St,ft)}function Y(tt,Q,ft){var St=mt(Q,ft,!1);return!lt(St)&&Ft(St.OrdinaryHasOwnMetadata(tt,Q,ft))}function Z(tt,Q,ft){if(Y(tt,Q,ft))return et(tt,Q,ft);var St=_t(Q);return dt(St)?void 0:Z(tt,St,ft)}function et(tt,Q,ft){var St=mt(Q,ft,!1);if(!lt(St))return St.OrdinaryGetOwnMetadata(tt,Q,ft)}function J(tt,Q,ft,St){mt(ft,St,!0).OrdinaryDefineOwnMetadata(tt,Q,ft,St)}function it(tt,Q){var ft=rt(tt,Q),St=_t(tt);if(St===null)return ft;var It=it(St,Q);if(It.length<=0)return ft;if(ft.length<=0)return It;for(var Gt=new V,Ct=[],Dt=0,Bt=ft;Dt<Bt.length;Dt++){var Zt=Bt[Dt];Gt.has(Zt)||(Gt.add(Zt),Ct.push(Zt))}for(var he=0,ke=It;he<ke.length;he++)Zt=ke[he],Gt.has(Zt)||(Gt.add(Zt),Ct.push(Zt));return Ct}function rt(tt,Q){var ft=mt(tt,Q,!1);return ft?ft.OrdinaryOwnMetadataKeys(tt,Q):[]}function st(tt){if(tt===null)return 1;switch(typeof tt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return tt===null?1:6;default:return 6}}function lt(tt){return tt===void 0}function dt(tt){return tt===null}function pt(tt){return typeof tt=="object"?tt!==null:typeof tt=="function"}function xt(tt,Q){switch(st(tt)){case 0:case 1:case 2:case 3:case 4:case 5:return tt}var ft="string",St=Mt(tt,E);if(St!==void 0){var It=St.call(tt,ft);if(pt(It))throw new TypeError;return It}return(function(Gt,Ct){var Dt,Bt;{var Zt=Gt.toString;if(Qt(Zt)&&!pt(Bt=Zt.call(Gt))||Qt(Dt=Gt.valueOf)&&!pt(Bt=Dt.call(Gt)))return Bt}throw new TypeError})(tt)}function Ft(tt){return!!tt}function Ut(tt){var Q=xt(tt);return typeof Q=="symbol"?Q:(function(ft){return""+ft})(Q)}function Vt(tt){return Array.isArray?Array.isArray(tt):tt instanceof Object?tt instanceof Array:Object.prototype.toString.call(tt)==="[object Array]"}function Qt(tt){return typeof tt=="function"}function Ht(tt){return typeof tt=="function"}function gt(tt,Q){return tt===Q||tt!=tt&&Q!=Q}function Mt(tt,Q){var ft=tt[Q];if(ft!=null){if(!Qt(ft))throw new TypeError;return ft}}function Et(tt){var Q=Mt(tt,C);if(!Qt(Q))throw new TypeError;var ft=Q.call(tt);if(!pt(ft))throw new TypeError;return ft}function X(tt){return tt.value}function ot(tt){var Q=tt.next();return!Q.done&&Q}function ht(tt){var Q=tt.return;Q&&Q.call(tt)}function _t(tt){var Q=Object.getPrototypeOf(tt);if(typeof tt!="function"||tt===O||Q!==O)return Q;var ft=tt.prototype,St=ft&&Object.getPrototypeOf(ft);if(St==null||St===Object.prototype)return Q;var It=St.constructor;return typeof It!="function"||It===tt?Q:It}function mt(tt,Q,ft){var St=H.getProvider(tt,Q);if(!lt(St))return St;if(ft){if(H.setProvider(tt,Q,W))return W;throw new Error("Illegal state.")}}function Lt(tt){return tt.__=void 0,delete tt.__,tt}y("decorate",(function(tt,Q,ft,St){if(lt(ft)){if(!Vt(tt))throw new TypeError;if(!Ht(Q))throw new TypeError;return(function(It,Gt){for(var Ct=It.length-1;Ct>=0;--Ct){var Dt=(0,It[Ct])(Gt);if(!lt(Dt)&&!dt(Dt)){if(!Ht(Dt))throw new TypeError;Gt=Dt}}return Gt})(tt,Q)}if(!Vt(tt))throw new TypeError;if(!pt(Q))throw new TypeError;if(!pt(St)&&!lt(St)&&!dt(St))throw new TypeError;return dt(St)&&(St=void 0),(function(It,Gt,Ct,Dt){for(var Bt=It.length-1;Bt>=0;--Bt){var Zt=(0,It[Bt])(Gt,Ct,Dt);if(!lt(Zt)&&!dt(Zt)){if(!pt(Zt))throw new TypeError;Dt=Zt}}return Dt})(tt,Q,ft=Ut(ft),St)})),y("metadata",(function(tt,Q){return function(ft,St){if(!pt(ft))throw new TypeError;if(!lt(St)&&!(function(It){switch(st(It)){case 3:case 4:return!0;default:return!1}})(St))throw new TypeError;J(tt,Q,ft,St)}})),y("defineMetadata",(function(tt,Q,ft,St){if(!pt(ft))throw new TypeError;return lt(St)||(St=Ut(St)),J(tt,Q,ft,St)})),y("hasMetadata",(function(tt,Q,ft){if(!pt(Q))throw new TypeError;return lt(ft)||(ft=Ut(ft)),q(tt,Q,ft)})),y("hasOwnMetadata",(function(tt,Q,ft){if(!pt(Q))throw new TypeError;return lt(ft)||(ft=Ut(ft)),Y(tt,Q,ft)})),y("getMetadata",(function(tt,Q,ft){if(!pt(Q))throw new TypeError;return lt(ft)||(ft=Ut(ft)),Z(tt,Q,ft)})),y("getOwnMetadata",(function(tt,Q,ft){if(!pt(Q))throw new TypeError;return lt(ft)||(ft=Ut(ft)),et(tt,Q,ft)})),y("getMetadataKeys",(function(tt,Q){if(!pt(tt))throw new TypeError;return lt(Q)||(Q=Ut(Q)),it(tt,Q)})),y("getOwnMetadataKeys",(function(tt,Q){if(!pt(tt))throw new TypeError;return lt(Q)||(Q=Ut(Q)),rt(tt,Q)})),y("deleteMetadata",(function(tt,Q,ft){if(!pt(Q))throw new TypeError;if(lt(ft)||(ft=Ut(ft)),!pt(Q))throw new TypeError;lt(ft)||(ft=Ut(ft));var St=mt(Q,ft,!1);return!lt(St)&&St.OrdinaryDeleteMetadata(tt,Q,ft)}))})(v,h),h.Reflect===void 0&&(h.Reflect=c)})()})(o||(o={}))}},n={};function i(o){var c=n[o];if(c!==void 0)return c.exports;var h=n[o]={exports:{}};return e[o](h,h.exports,i),h.exports}i.n=o=>{var c=o&&o.__esModule?()=>o.default:()=>o;return i.d(c,{a:c}),c},i.d=(o,c)=>{for(var h in c)i.o(c,h)&&!i.o(o,h)&&Object.defineProperty(o,h,{enumerable:!0,get:c[h]})},i.o=(o,c)=>Object.prototype.hasOwnProperty.call(o,c),i.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var a={};return(()=>{i.r(a),i.d(a,{ABORTED:()=>Zn,ADialog:()=>xr,AEventDispatcher:()=>pa,ALineUp:()=>fX,ActionColumn:()=>xb,ActionsColumnBuilder:()=>OZ,AggregateGroupColumn:()=>Xh,AnnotateColumn:()=>Eb,ArrayColumn:()=>Fl,BooleanColumn:()=>rg,BooleanColumnBuilder:()=>VZ,BooleansColumn:()=>DD,BoxPlotColumn:()=>Ti,CategoricalColumn:()=>Se,CategoricalColumnBuilder:()=>_Z,CategoricalMapColumn:()=>uL,CategoricalsColumn:()=>cL,Categories:()=>hD,Category:()=>on,Column:()=>vt,ColumnBuilder:()=>$o,CompositeColumn:()=>hn,CompositeNumberColumn:()=>up,CustomColorMappingFunction:()=>Ns,DEFAULT_CATEGORICAL_COLOR_FUNCTION:()=>di,DEFAULT_COLOR:()=>Ie,DEFAULT_COLOR_FUNCTION:()=>lp,DataBuilder:()=>kI,DataProvider:()=>Ce,DateColumn:()=>Hr,DateColumnBuilder:()=>MZ,DatesColumn:()=>op,DatesMapColumn:()=>OL,DialogManager:()=>pf,DivergentColorFunction:()=>$a,EAdvancedSortMethod:()=>Jr,EAggregationState:()=>er,EAlignment:()=>Ho,ECompareValueType:()=>tt,EDateSort:()=>zo,EDirtyReason:()=>Ar,EGroupSortMethod:()=>_g,EMode:()=>Gn,ERenderMode:()=>Ne,ESortMethod:()=>Vc,EStringFilterType:()=>Q,EStringGroupCriteriaType:()=>Tn,EngineRanking:()=>uu,EngineRenderer:()=>$i,FIRST_IS_MISSING:()=>_b,FIRST_IS_NAN:()=>mb,GroupColumn:()=>$b,HierarchyColumn:()=>PL,HierarchyColumnBuilder:()=>NZ,ImpositionBoxPlotColumn:()=>UL,ImpositionCompositeColumn:()=>Qb,ImpositionCompositesColumn:()=>WL,LineUp:()=>Bs,LinkColumn:()=>Uo,LinkMapColumn:()=>o1,LinksColumn:()=>QL,LocalDataProvider:()=>tu,MapColumn:()=>Zc,MultiLevelCompositeColumn:()=>YL,NestedColumn:()=>$L,NumberColumn:()=>ue,NumberColumnBuilder:()=>wZ,NumberMapColumn:()=>qL,NumbersColumn:()=>An,OrdinalColumn:()=>Zl,QuantizedColorFunction:()=>qa,RankColumn:()=>tg,Ranking:()=>fe,RankingBuilder:()=>cS,ReduceColumn:()=>jL,RemoteDataProvider:()=>cK,RenderColumn:()=>oS,ReplacementColorMappingFunction:()=>yb,SCHEMA_REF:()=>eN,ScaleMappingFunction:()=>Fr,ScriptColumn:()=>a1,ScriptMappingFunction:()=>qc,SearchBox:()=>cu,SelectionColumn:()=>wb,SelectionIndicator:()=>EI,SequentialColorFunction:()=>Ya,SetColumn:()=>Gl,SidePanel:()=>lS,SlopeGraph:()=>xI,SolidColorFunction:()=>va,SortByDefault:()=>Ga,StackColumn:()=>ji,StringColumn:()=>Dr,StringColumnBuilder:()=>TZ,StringMapColumn:()=>KL,StringsColumn:()=>JL,SupportType:()=>kc,Taggle:()=>uS,TaggleRenderer:()=>Dp,UnknownColorFunction:()=>zL,ValueColumn:()=>Er,asLineUp:()=>HZ,asTaggle:()=>BZ,buildActionsColumn:()=>PZ,buildBooleanColumn:()=>GZ,buildCategoricalColumn:()=>bZ,buildColumn:()=>gZ,buildDateColumn:()=>DZ,buildHierarchicalColumn:()=>RZ,buildId:()=>vK,buildNumberColumn:()=>xZ,buildRanking:()=>MI,buildStringColumn:()=>CZ,builder:()=>fS,builderAdapter:()=>o,categories:()=>Pl,categoryOf:()=>Uh,categoryOfDesc:()=>pD,colorOf:()=>wr,createActionDesc:()=>I9,createAggregateDesc:()=>Qv,createGroupDesc:()=>Yb,createImpositionBoxPlotDesc:()=>t1,createImpositionDesc:()=>Eg,createImpositionsDesc:()=>e1,createLineUp:()=>hK,createLocalDataProvider:()=>fK,createNestedDesc:()=>n1,createRankDesc:()=>zc,createReduceDesc:()=>r1,createScriptDesc:()=>i1,createSelectionDesc:()=>eg,createStackDesc:()=>Ag,createTaggle:()=>pK,default:()=>Bs,defaultGroup:()=>ft,defaultOptions:()=>rS,defineColumn:()=>sK,deriveColors:()=>c1,deriveColumnDescriptions:()=>u1,deriveHierarchy:()=>rj,dialogAddons:()=>pi,dialogContext:()=>Li,exportRanking:()=>f1,exportTable:()=>h1,getSortType:()=>cb,isArrayColumn:()=>vp,isBoxPlotColumn:()=>Fo,isCategoricalColumn:()=>Jl,isCategoricalLikeColumn:()=>Yo,isCategoricalsColumn:()=>wN,isCategory:()=>VY,isDateColumn:()=>Ql,isDatesColumn:()=>xN,isGroup:()=>It,isHierarchical:()=>ej,isMapAbleColumn:()=>Xe,isMapColumn:()=>dp,isMissingValue:()=>Gr,isMultiLevelColumn:()=>Gt,isNumberColumn:()=>Je,isNumbersColumn:()=>En,isSetColumn:()=>Lg,isSortingAscByDefault:()=>Ms,isSupportType:()=>kl,isUnknown:()=>Zh,license:()=>gK,mappingFunctions:()=>aL,missingGroup:()=>Bo,othersGroup:()=>St,renderMissingCanvas:()=>Ai,renderMissingDOM:()=>lr,rendererClasses:()=>c,rendererUtils:()=>h,resolveInnerNodes:()=>kL,spaceFillingRule:()=>TI,tasksAll:()=>tf,toCategories:()=>Fa,toolbar:()=>$e,updateLodRules:()=>CI,version:()=>dK});var o={};i.r(o),i.d(o,{Adapter:()=>iK,build:()=>Hs,buildActions:()=>qZ,buildAllColumnsRanking:()=>rK,buildBoolean:()=>$Z,buildCategorical:()=>zZ,buildDate:()=>UZ,buildGeneric:()=>XZ,buildHierarchy:()=>WZ,buildImposeRanking:()=>ZZ,buildNestedRanking:()=>KZ,buildNumber:()=>jZ,buildRanking:()=>VI,buildReduceRanking:()=>QZ,buildScriptRanking:()=>tK,buildString:()=>YZ,buildSupportRanking:()=>eK,buildWeightedSumRanking:()=>JZ,equal:()=>ke,isSame:()=>hS,isTypeInstance:()=>nK,pick:()=>py});var c={};i.r(c),i.d(c,{AAggregatedGroupRenderer:()=>SR,ANumbersCellRenderer:()=>O1,ActionRenderer:()=>LN,AggregateGroupRenderer:()=>ON,AnnotationRenderer:()=>VN,BarCellRenderer:()=>GN,BooleanCellRenderer:()=>FN,BoxplotCellRenderer:()=>HN,BrightnessCellRenderer:()=>zN,CategoricalCellRenderer:()=>UN,CategoricalHeatmapCellRenderer:()=>jN,CategoricalStackedDistributionlCellRenderer:()=>YN,CategoricalTickCellRenderer:()=>YR,CircleCellRenderer:()=>$N,DateCellRenderer:()=>VR,DateHistogramCellRenderer:()=>GR,DefaultCellRenderer:()=>D1,DotCellRenderer:()=>XN,GroupCellRenderer:()=>KN,HeatmapCellRenderer:()=>JN,HistogramCellRenderer:()=>mR,ImageCellRenderer:()=>bR,InterleavingCellRenderer:()=>wR,LinkCellRenderer:()=>xR,LinkMapCellRenderer:()=>MR,LoadingCellRenderer:()=>DR,MapBarCellRenderer:()=>TR,MultiLevelCellRenderer:()=>W1,RankCellRenderer:()=>LR,SelectionRenderer:()=>NR,SetCellRenderer:()=>RR,SparklineCellRenderer:()=>OR,StringCellRenderer:()=>Pg,StringHistogramCellRenderer:()=>BR,TableCellRenderer:()=>CR,TickCellRenderer:()=>jR,UpSetCellRenderer:()=>PR,VerticalBarCellRenderer:()=>kR,ViolinPlotCellRenderer:()=>zR});var h={};i.r(h),i.d(h,{adaptDynamicColorToBgColor:()=>AN,adaptTextColorToBgColor:()=>w1,noRenderer:()=>fr,toHeatMapColor:()=>Os,wideEnough:()=>Rg,wideEnoughCat:()=>TN});var v,g=(v=function(p,s){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(u[f]=l[f])},v(p,s)},function(p,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=p}v(p,s),p.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});function y(p){return p.every((function(){return!1}))}function m(p){return Array.isArray(p)||p instanceof Uint8Array||p instanceof Uint16Array||p instanceof Uint32Array||p instanceof Float32Array||p instanceof Int8Array||p instanceof Int16Array||p instanceof Int32Array||p instanceof Float64Array}var b=(function(){function p(s,u){this.it=s,this.filters=u,this._length=-1}return Object.defineProperty(p.prototype,"length",{get:function(){if(this._length>=0)return this._length;var s=0;return this.forEach((function(){return s++})),this._length=s,s},enumerable:!1,configurable:!0}),p.prototype.filter=function(s){return new p(this.it,this.filters.concat(s))},p.prototype.map=function(s){return new E(this,s)},p.prototype.forEach=function(s){if(m(this.it))t:for(var u=0;u<this.it.length;++u){for(var l=this.it[u],f=0,d=this.filters;f<d.length;f++)if(!(0,d[f])(l,u))continue t;s(l,u)}else{var _=0,w=this.it[Symbol.iterator](),x=w.next(),T=0;t:for(;!x.done;){for(var D=0,N=this.filters;D<N.length;D++)if(!(0,N[D])(x.value,T)){x=w.next(),T++;continue t}s(x.value,_++),x=w.next(),T++}}},p.prototype[Symbol.iterator]=function(){var s=this,u=this.it[Symbol.iterator]();return{next:function(){var l=u.next(),f=-1;t:for(;!l.done;){f++;for(var d=0,_=s.filters;d<_.length;d++)if(!(0,_[d])(l.value,f)){l=u.next();continue t}return l}return l}}},p.prototype.some=function(s){if(m(this.it)){t:for(var u=0;u<this.it.length;++u){for(var l=this.it[u],f=0,d=this.filters;f<d.length;f++)if(!(0,d[f])(l,u))continue t;if(s(l,u))return!0}return!1}var _=0,w=this.it[Symbol.iterator](),x=w.next(),T=0;t:for(;!x.done;){for(var D=0,N=this.filters;D<N.length;D++)if(!(0,N[D])(x.value,T)){x=w.next(),T++;continue t}if(s(x.value,_++))return!0;x=w.next(),T++}return!1},p.prototype.every=function(s){if(m(this.it)){t:for(var u=0;u<this.it.length;++u){for(var l=this.it[u],f=0,d=this.filters;f<d.length;f++)if(!(0,d[f])(l,u))continue t;if(!s(l,u))return!1}return!0}var _=0,w=this.it[Symbol.iterator](),x=w.next(),T=0;t:for(;!x.done;){for(var D=0,N=this.filters;D<N.length;D++)if(!(0,N[D])(x.value,T)){x=w.next(),T++;continue t}if(!s(x.value,_++))return!1;x=w.next(),T++}return!0},p.prototype.reduce=function(s,u){if(m(this.it)){var l=u,f=0;t:for(var d=0;d<this.it.length;++d){for(var _=this.it[d],w=0,x=this.filters;w<x.length;w++)if(!(0,x[w])(_,d))continue t;l=s(l,_,f++)}return l}var T=0,D=this.it[Symbol.iterator](),N=D.next(),I=0,G=u;t:for(;!N.done;){for(var B=0,U=this.filters;B<U.length;B++)if(!(0,U[B])(N.value,I)){N=D.next(),I++;continue t}G=s(G,N.value,T++),N=D.next(),I++}return G},p})(),S=(function(){function p(s){this.it=s}return Object.defineProperty(p.prototype,"length",{get:function(){return this.it.length},enumerable:!1,configurable:!0}),p.prototype.filter=function(s){return new b(this,[s])},p.prototype.forEach=function(s){if(m(this.it))for(var u=0;u<this.it.length;++u)s(this.mapV(this.it[u],u),u);else{var l=this.it[Symbol.iterator](),f=l.next();for(u=0;!f.done;f=l.next(),u++)s(this.mapV(f.value,u),u)}},p.prototype[Symbol.iterator]=function(){var s=this,u=this.it[Symbol.iterator](),l=0;return{next:function(){var f=u.next();if(f.done)return{value:void 0,done:!0};var d=s.mapV(f.value,l);return l++,{value:d,done:!1}}}},p.prototype.some=function(s){if(m(this.it)){for(var u=0;u<this.it.length;++u)if(s(this.mapV(this.it[u],u),u))return!0;return!1}var l=this.it[Symbol.iterator](),f=l.next();for(u=0;!f.done;f=l.next(),u++)if(s(this.mapV(f.value,u),u))return!0;return!1},p.prototype.every=function(s){if(m(this.it)){for(var u=0;u<this.it.length;++u)if(!s(this.mapV(this.it[u],u),u))return!1;return!0}var l=this.it[Symbol.iterator](),f=l.next();for(u=0;!f.done;f=l.next(),u++)if(!s(this.mapV(f.value,u),u))return!1;return!0},p.prototype.reduce=function(s,u){if(m(this.it)){for(var l=u,f=0;f<this.it.length;++f)l=s(l,this.mapV(this.it[f],f),f);return l}var d=this.it[Symbol.iterator](),_=u,w=d.next();for(f=0;!w.done;w=d.next(),f++)_=s(_,this.mapV(w.value,f),f);return _},p})(),E=(function(p){function s(u,l){var f=p.call(this,u)||this;return f.map12=l,f}return g(s,p),s.prototype.mapV=function(u,l){return this.map12(u,l)},s.prototype.map=function(u){return new C(this.it,this.map12,u)},s})(S),C=(function(p){function s(u,l,f){var d=p.call(this,u)||this;return d.map12=l,d.map23=f,d}return g(s,p),s.prototype.map=function(u){return new A(this.it,this.map12,this.map23,u)},s.prototype.mapV=function(u,l){return this.map23(this.map12(u,l),l)},s})(S),A=(function(p){function s(u,l,f,d){var _=p.call(this,u)||this;return _.map12=l,_.map23=f,_.map34=d,_}return g(s,p),s.prototype.map=function(u){var l=this;return new E(this.it,(function(f,d){return u(l.map34(l.map23(l.map12(f,d),d),d),d)}))},s.prototype.mapV=function(u,l){return this.map34(this.map23(this.map12(u,l),l),l)},s})(S),M=(function(){function p(s){this.iterable=s,this._arr=null}return Object.defineProperty(p.prototype,"arr",{get:function(){return this._arr||(m(this.iterable)?this._arr=this.iterable:this._arr=Array.from(this.iterable)),this._arr},enumerable:!1,configurable:!0}),p.prototype[Symbol.iterator]=function(){return this.iterable[Symbol.iterator]()},p.prototype.filter=function(s){return new b(this.arr,[s])},p.prototype.map=function(s){return new E(this.arr,s)},p.prototype.forEach=function(s){if(m(this.iterable))for(var u=0;u<this.iterable.length;++u)s(this.iterable[u],u);else{var l=this[Symbol.iterator](),f=l.next();for(u=0;!f.done;f=l.next(),u++)s(f.value,u)}},p.prototype.some=function(s){if(m(this.iterable)){for(var u=0;u<this.iterable.length;++u)if(s(this.iterable[u],u))return!0;return!1}var l=this[Symbol.iterator](),f=l.next();for(u=0;!f.done;f=l.next(),u++)if(s(f.value,u))return!0;return!1},p.prototype.every=function(s){if(m(this.iterable)){for(var u=0;u<this.iterable.length;++u)if(!s(this.iterable[u],u))return!1;return!0}var l=this[Symbol.iterator](),f=l.next();for(u=0;!f.done;f=l.next(),u++)if(!s(f.value,u))return!1;return!0},p.prototype.reduce=function(s,u){if(m(this.iterable)){for(var l=u,f=0;f<this.iterable.length;++f)l=s(l,this.iterable[f],f);return l}var d=this[Symbol.iterator](),_=u,w=d.next();for(f=0;!w.done;w=d.next(),f++)_=s(_,w.value,f);return _},Object.defineProperty(p.prototype,"length",{get:function(){var s=this.iterable;return m(s)?s.length:s instanceof Set||s instanceof Map?s.size:this.arr.length},enumerable:!1,configurable:!0}),p})();function L(p){return new M(p)}var R=(function(){function p(s){this.seqs=s}return p.prototype[Symbol.iterator]=function(){var s=Array.from(this.seqs),u=s.shift()[Symbol.iterator](),l=function(){var f=u.next();return f.done?s.length===0?f:(u=s.shift()[Symbol.iterator](),l()):f};return{next:l}},p.prototype.filter=function(s){return new b(this,[s])},p.prototype.map=function(s){return new E(this,s)},p.prototype.forEach=function(s){this.seqs.forEach((function(u){return u.forEach(s)}))},p.prototype.some=function(s){return this.seqs.some((function(u){return u.some(s)}))},p.prototype.every=function(s){return this.seqs.every((function(u){return u.every(s)}))},p.prototype.reduce=function(s,u){return this.seqs.reduce((function(l,f){return f.reduce(s,l)}),u)},Object.defineProperty(p.prototype,"length",{get:function(){return this.seqs.reduce((function(s,u){return s+u.length}),0)},enumerable:!1,configurable:!0}),p})(),O=Math.max(navigator.hardwareConcurrency-1,1),P=(function(){function p(s){var u=this;this.blob=s,this.workers=[],this.cleanUpWorkerTimer=-1,this.workerTaskCounter=0,this.cleanUpWorker=function(){for(;u.workers.length>1;){var d=u.workers.findIndex((function(_){return _.tasks.size===0}));if(d<0)break;u.workers.splice(d,1)[0].worker.terminate()}u.finishedTask()};for(var l=0;l<1;++l){var f=new Worker(s);this.workers.push({worker:f,tasks:new Set,refs:new Set,index:l})}}return p.prototype.terminate=function(){this.workers.splice(0,this.workers.length).forEach((function(s){return s.worker.terminate()}))},p.prototype.checkOutWorker=function(){this.cleanUpWorkerTimer>=0&&(clearTimeout(this.cleanUpWorkerTimer),this.cleanUpWorkerTimer=-1);var s=this.workers.find((function(l){return l.tasks.size===0}));if(s)return s;if(this.workers.length>=O)return this.workers.reduce((function(l,f){return l==null||l.tasks.size>f.tasks.size?f:l}),null);var u={worker:new Worker(this.blob),tasks:new Set,refs:new Set,index:this.workers.length};return this.workers.push(u),u},p.prototype.finishedTask=function(){this.cleanUpWorkerTimer===-1&&this.workers.length>1&&(this.cleanUpWorkerTimer=setTimeout(this.cleanUpWorker,1e4))},p.prototype.pushStats=function(s,u,l,f,d,_){var w=this;return new Promise((function(x){var T=w.workerTaskCounter++,D=w.checkOutWorker(),N=D.worker,I=D.tasks,G=D.refs,B=function($){var K=$.data;K.uid===T&&K.type===s&&(N.removeEventListener("message",B),I.delete(T),w.finishedTask(),x(K.stats))};N.addEventListener("message",B),I.add(T);var U=Object.assign({type:s,uid:T,refData:l,refIndices:d||null},u);l&&G.has(l)||(U.data=f,l&&G.add(l)),!_||d&&G.has(d)||(U.indices=_,d&&G.add(d)),N.postMessage(U)}))},p.prototype.push=function(s,u,l,f){var d=this;return new Promise((function(_){var w=d.workerTaskCounter++,x=d.checkOutWorker(),T=x.worker,D=x.tasks,N=function(G){var B=G.data;B.uid===w&&B.type===s&&(T.removeEventListener("message",N),D.delete(w),d.finishedTask(),_(f?f(B):B))};T.addEventListener("message",N),D.add(w);var I=Object.assign({type:s,uid:w},u);T.postMessage(I,l)}))},p.prototype.setRef=function(s,u){for(var l=0,f=this.workers;l<f.length;l++)f[l].refs.add(s);this.broadCast("setRef",{ref:s,data:u})},p.prototype.deleteRef=function(s,u){u===void 0&&(u=!1);for(var l={type:"deleteRef",uid:this.workerTaskCounter++,ref:s,startsWith:u},f=0,d=this.workers;f<d.length;f++){var _=d[f];if(_.worker.postMessage(l),u)for(var w=0,x=Array.from(_.refs);w<x.length;w++){var T=x[w];T.startsWith(s)&&_.refs.delete(T)}else _.refs.delete(s)}},p.prototype.deleteRefs=function(){for(var s={type:"deleteRef",uid:this.workerTaskCounter++,ref:"",startsWith:!0},u=0,l=this.workers;u<l.length;u++){var f=l[u];f.worker.postMessage(s),f.refs.clear()}},p.prototype.broadCast=function(s,u){for(var l=this.workerTaskCounter++,f=Object.assign({type:s,uid:l},u),d=0,_=this.workers;d<_.length;d++)_[d].worker.postMessage(f)},p})();function V(p){return p===0?1:Math.ceil(Math.log(p)/Math.LN2)+1}function k(p,s){for(var u=Number.POSITIVE_INFINITY,l=0,f=p;l<f.length;l++){var d=f[l],_=s?s(d):d;_<u&&(u=_)}return u}function F(p,s){for(var u=Number.NEGATIVE_INFINITY,l=0,f=p;l<f.length;l++){var d=f[l],_=s?s(d):d;_>u&&(u=_)}return u}function H(p,s){for(var u=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,f=0,d=p;f<d.length;f++){var _=d[f],w=s?s(_):_;w<l&&(l=w),w>u&&(u=w)}return[l,u]}function W(p){var s=new Array(p);return s.fill(null),s}function q(p,s,u){if(u===void 0&&(u=p.length),u===0)return NaN;var l=(u-1)*s,f=Math.floor(l);if(f===l)return p[f];var d=p[f];return d+(p[f+1]-d)*(l-f)}function Y(p,s){var u=s?p.map(s):p.slice();return u.sort((function(l,f){return l<f?-1:l>f?1:0})),q(u,.5)}function Z(p){return function(s){if(m(s))for(var u=0;u<s.length;++u)p(s[u]);else s.forEach(p)}}function et(p){var s=Math.sqrt(2*Math.PI);return Math.exp(-.5*p*p)/s}function J(p,s){return p*s/(s-1)}function it(p,s,u){var l=Math.sqrt(J(s,u));return typeof p=="number"&&(l=Math.min(l,p/1.34)),1.06*l*Math.pow(u,-.2)}function rt(p,s,u){for(var l=0,f=0;f<s;f++){var d=p[f];l+=(d-u)*(d-u)}return l/s}function st(p,s,u,l,f,d,_){var w=it(_,d,s),x=function(D){var N=0,I=0;for(N=0;N<s;N++)I+=et((D-p[N])/w);return I/w/s},T=(f-l)/(u-1);return Array.from({length:u},(function(D,N){var I=N===u-1?f:l+N*T;return{v:I,p:x(I)}}))}function lt(p,s){var u=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,f=0,d=0,_=0,w=s??100,x=[],T=p!=null?new Float64Array(p):null,D=function(B){d+=1,B==null||Number.isNaN(B)?_+=1:(B<u&&(u=B),B>l&&(l=B),f+=B)},N=function(B){D(B),T?T[d]=B:x.push(B)},I={min:NaN,max:NaN,mean:NaN,missing:_,count:d,whiskerHigh:NaN,whiskerLow:NaN,outlier:[],median:NaN,q1:NaN,q3:NaN,kdePoints:[]},G=function(B){for(var U=d-_,$=q(B,.5,U),K=q(B,.25,U),nt=q(B,.75,U),at=nt-K,ct=K-1.5*at,wt=nt+1.5*at,Tt=rt(B,U,f/U),Ot=[],Wt=ct,ut=0;ut<U;++ut){if(ct<(Nt=B[ut])){Wt=Nt;break}Ot.push(Nt)}var kt=wt,jt=[];for(ut=U-1;ut>=0;--ut){var Nt;if((Nt=B[ut])<wt){kt=Nt;break}jt.push(Nt)}Ot=Ot.concat(jt.reverse());var te=st(B,U,w,u,l,Tt,at);return{min:u,max:l,count:d,missing:_,mean:f/U,whiskerHigh:kt,whiskerLow:Wt,outlier:Ot,median:$,q1:K,q3:nt,kdePoints:te}};return{push:N,build:function(){if(d-_==0)return I;var B=T?T.sort():Float64Array.from(x).sort();return G(B)},buildArr:function(B){for(var U=B.slice().sort(),$=0;$<B.length;++$)D(B[$]);return G(U)},pushAll:Z(N)}}function dt(p,s){for(var u=[],l=p[0],f=(p[1]-p[0])/s,d=0;d<s;++d,l+=f)u.push({x0:l,x1:l+f,count:0});var _=p[0]+f,w=p[1]-f,x=Number.POSITIVE_INFINITY,T=Number.NEGATIVE_INFINITY,D=0,N=0,I=0,G=function(B){N+=1,B==null||Number.isNaN(B)?I+=1:(B<x&&(x=B),B>T&&(T=B),D+=B,u[(function(U){if(U<_)return 0;if(U>=w)return s-1;if(s===3)return 1;for(var $=1,K=s-1;$<K;){var nt=Math.floor((K+$)/2);U<u[nt].x1?K=nt:$=nt+1}return $})(B)].count++)};return{push:G,build:function(){var B=N-I;return B===0?{count:I,missing:I,min:NaN,max:NaN,mean:NaN,hist:u,maxBin:0}:{count:N,min:x,max:T,mean:D/B,missing:I,hist:u,maxBin:u.reduce((function(U,$){return Math.max(U,$.count)}),0)}},pushAll:Z(G)}}function pt(p,s,u){if(u===void 0&&(u=1),s<p[0].x1)p[0].count+=u;else{var l=p.length-1;if(s>p[l].x0)p[l].count+=u;else if(l!==2){for(var f=1,d=l;f<d;){var _=Math.floor((d+f)/2);s<p[_].x1?d=_:f=_+1}p[f].count+=u}else p[1].count+=u}}function xt(p){var s=null,u=null,l=0,f=0,d=new Map,_=p?p.hist.map((function(x){return{x0:x.x0,x1:x.x1,count:0}})):null,w=function(x){if(l+=1,x&&x!=null)if((s==null||x<s)&&(s=x),(u==null||x>u)&&(u=x),_)pt(_,x,1);else{var T=1e4*x.getFullYear()+100*x.getMonth()+x.getDate();d.has(T)?d.get(T).count++:d.set(T,{count:1,x})}else f+=1};return{push:w,build:function(){if(_)return{min:s,max:u,missing:f,count:l,maxBin:_.reduce((function(N,I){return Math.max(N,I.count)}),0),hist:_,histGranularity:p.histGranularity};var x=(function(N,I){if(N==null||I==null)return{histGranularity:"year",hist:[]};var G=[];if(I.getFullYear()-N.getFullYear()>=2){for(var B=N.getFullYear(),U=I.getFullYear(),$=B;$<=U;++$)G.push({x0:new Date($,0,1),x1:new Date($+1,0,1),count:0});return{hist:G,histGranularity:"year"}}if(I.getTime()-N.getTime()<=26784e5){for(var K=new Date(N.getFullYear(),N.getMonth(),N.getDate());K<=I;)(at=new Date(K)).setDate(at.getDate()+1),G.push({x0:K,x1:at,count:0}),K=at;return{hist:G,histGranularity:"day"}}for(var nt=new Date(N.getFullYear(),N.getMonth(),1);nt<=I;){var at;(at=new Date(nt)).setMonth(at.getMonth()+1),G.push({x0:nt,x1:at,count:0}),nt=at}return{hist:G,histGranularity:"month"}})(s,u),T=x.histGranularity,D=x.hist;return d.forEach((function(N){return pt(D,N.x,N.count)})),{min:s,max:u,missing:f,count:l,maxBin:D.reduce((function(N,I){return Math.max(N,I.count)}),0),hist:D,histGranularity:T}},pushAll:Z(w)}}function Ft(p){var s=new Map;p.forEach((function(d){return s.set(d.name,{cat:d.name,count:0})}));var u=0,l=0,f=function(d){if(l+=1,d==null)u+=1;else{var _=s.get(d.name);_?_.count++:s.set(d.name,{cat:d.name,count:1})}};return{push:f,build:function(){var d=p.map((function(_){return s.get(_.name)}));return{maxBin:d.reduce((function(_,w){return Math.max(_,w.count)}),Number.NEGATIVE_INFINITY),hist:d,count:l,missing:u}},pushAll:Z(f)}}function Ut(p){var s=0,u=0,l=new Map;if(Array.isArray(p))for(var f=0,d=p;f<d.length;f++){var _=d[f];l.set(_,{value:_,count:0})}var w=function(x){if(u+=1,x==null)s+=1;else{var T=l.get(x);T?T.count++:l.set(x,{value:x,count:1})}};return{push:w,build:function(){var x=Array.isArray(p)?p.map((function(T){return l.get(T)})):Array.from(l.values()).sort((function(T,D){return T.count===D.count?T.value.localeCompare(D.value):D.count-T.count}));return{count:u,missing:s,topN:x.slice(0,Math.min(x.length,Array.isArray(p)?p.length:p)),unique:l.size}},pushAll:Z(w)}}function Vt(p,s){if(s===void 0&&(s=0),s===0)return Math.round(p);var u=Math.pow(10,s);return Math.round(p*u)/u}function Qt(p,s,u){return u===void 0&&(u=.5),p===s||Math.abs(p-s)<u}function Ht(p){return p instanceof Promise||typeof p.then=="function"}function gt(p,s){return s===void 0&&(s=p),s<=255?new Uint8Array(p):s<=65535?new Uint16Array(p):new Uint32Array(p)}function Mt(p,s){if(p instanceof Uint8Array||p instanceof Uint16Array||p instanceof Uint32Array)return p.slice();var u=s??p.length;return u<=255?Uint8Array.from(p):u<=65535?Uint16Array.from(p):Uint32Array.from(p)}function Et(p,s){switch(p.length){case 0:return[];case 1:return p[0];default:for(var u=p.reduce((function(x,T){return x+T.length}),0),l=(function(x,T,D){return x instanceof Uint8Array?new Uint8Array(T):x instanceof Uint16Array?new Uint16Array(T):x instanceof Uint32Array?new Uint32Array(T):gt(T,D)})(p[0],u,s),f=0,d=0,_=p;d<_.length;d++){var w=_[d];l.set(w,f),f+=w.length}return l}}function X(p,s){return p<s?-1:p>s?1:0}function ot(p,s){return p<s?1:p>s?-1:0}function ht(p,s){if(p.length<2)return p;switch(s.length){case 0:return p.sort();case 1:var u=s[0].asc?X:ot,l=s[0].lookup;return p.sort((function(D,N){var I=u(l[D],l[N]);return I!==0?I:D-N}));case 2:var f=s[0].asc?X:ot,d=s[0].lookup,_=s[1].asc?X:ot,w=s[1].lookup;return p.sort((function(D,N){var I=f(d[D],d[N]);return(I=I!==0?I:_(w[D],w[N]))!==0?I:D-N}));default:var x=s.length,T=s.map((function(D){return D.asc?X:ot}));return p.sort((function(D,N){for(var I=0;I<x;++I){var G=s[I].lookup,B=T[I](G[D],G[N]);if(B!==0)return B}return D-N}))}}function _t(p){return Number.isNaN(p)?null:new Date(p)}function mt(p,s){return p===0?null:s[p-1]}function Lt(){var p=self,s=new Map,u=function(f){var d=f.data?f.data:s.get(f.refData),_=f.indices?f.indices:f.refIndices?s.get(f.refIndices):void 0;return f.refData&&s.set(f.refData,d),f.refIndices&&s.set(f.refIndices,_),{data:d,indices:_}},l={sort:function(f){f.sortOrders&&ht(f.indices,f.sortOrders);var d=f.indices;p.postMessage({type:f.type,uid:f.uid,ref:f.ref,order:d},[f.indices.buffer])},setRef:function(f){f.data?s.set(f.ref,f.data):s.delete(f.ref)},deleteRef:function(f){if(f.startsWith)for(var d=0,_=Array.from(s.keys());d<_.length;d++){var w=_[d];w.startsWith(f.ref)&&s.delete(w)}else s.delete(f.ref)},dateStats:function(f){var d=u(f),_=d.data,w=d.indices,x=xt(f.template);if(w)for(var T=0;T<w.length;++T){var D=_[w[T]];x.push(_t(D))}else for(var N=0;N<_.length;++N)x.push(_t(_[N]));p.postMessage({type:f.type,uid:f.uid,stats:x.build()})},categoricalStats:function(f){var d=u(f),_=d.data,w=d.indices,x=f.categories.map((function(I){return{name:I}})),T=Ft(x);if(w)for(var D=0;D<w.length;++D)T.push(mt(_[w[D]],x));else for(var N=0;N<_.length;++N)T.push(mt(_[N],x));p.postMessage({type:f.type,uid:f.uid,stats:T.build()})},numberStats:function(f){var d,_=u(f),w=_.data,x=_.indices,T=dt((d=f.domain)!==null&&d!==void 0?d:[0,1],f.numberOfBins);if(x)for(var D=0;D<x.length;++D)T.push(w[x[D]]);else for(var N=0;N<w.length;++N)T.push(w[N]);p.postMessage({type:f.type,uid:f.uid,stats:T.build()})},boxplotStats:function(f){var d,_=u(f),w=_.data,x=_.indices,T=lt(x?x.length:void 0);if(x){for(var D=0;D<x.length;++D)T.push(w[x[D]]);d=T.build()}else d=T.buildArr(w);p.postMessage({type:f.type,uid:f.uid,stats:d})},stringStats:function(f){var d,_=u(f),w=_.data,x=_.indices,T=Ut((d=f.topN)!==null&&d!==void 0?d:10);if(x)for(var D=0;D<x.length;++D)T.push(w[x[D]]);else for(var N=0;N<w.length;++N)T.push(w[N]);p.postMessage({type:f.type,uid:f.uid,stats:T.build()})}};p.addEventListener("message",(function(f){var d=f.data;if(typeof d.uid=="number"&&typeof d.type=="string"){var _=l[d.type];_&&_(d)}}))}var tt,Q,ft={name:"Default",color:"gray"},St={name:"Others",color:"gray"};function It(p){return p&&p.group==null}function Gt(p){return typeof p.getCollapsed=="function"}function Ct(p){var s=[],u=p.trim();if(!u)return s;for(var l="",f=!1,d=0;d<u.length;){var _=u[d];_==='"'?f?(l.trim()&&s.push(l.trim()),l="",f=!1):(l.trim()&&l.split(/[\s,]+/).forEach((function(w){w.trim()&&s.push(w.trim())})),l="",f=!0):f?l+=_:_===" "||_===","?(l.trim()&&s.push(l.trim()),l=""):l+=_,d++}return l.trim()&&(f?s.push(l.trim()):l.split(/[\s,]+/).forEach((function(w){w.trim()&&s.push(w.trim())}))),s}function Dt(p,s,u){u===void 0&&(u=Q.contains);var l=p.toLowerCase();return s.some((function(f){var d=f.toLowerCase();switch(u){case Q.exact:return l===d;case Q.startsWith:return l.startsWith(d);case Q.contains:default:return l.includes(d)}}))}function Bt(p,s,u){if(u===void 0&&(u=Q.contains),!p)return!1;if(s instanceof RegExp)return s.test(p);var l=s.toString();if(!l||l.trim()==="")return!0;if(u===Q.exact)return p.toLowerCase()===l.toLowerCase();var f=Ct(l);if(f.length>1)return Dt(p,f,u);if(f.length===1){var d=p.toLowerCase(),_=f[0].toLowerCase();switch(u){case Q.startsWith:return d.startsWith(_);case Q.contains:default:return d.includes(_)}}var w=p.toLowerCase(),x=l.toLowerCase();switch(u){case Q.startsWith:return w.startsWith(x);case Q.contains:default:return w.includes(x)}}(function(p){p[p.BINARY=0]="BINARY",p[p.COUNT=1]="COUNT",p[p.UINT8=2]="UINT8",p[p.UINT16=3]="UINT16",p[p.UINT32=4]="UINT32",p[p.INT8=5]="INT8",p[p.INT16=6]="INT16",p[p.INT32=7]="INT32",p[p.FLOAT=8]="FLOAT",p[p.FLOAT_ASC=9]="FLOAT_ASC",p[p.DOUBLE=10]="DOUBLE",p[p.DOUBLE_ASC=11]="DOUBLE_ASC",p[p.STRING=12]="STRING"})(tt||(tt={})),(function(p){p.contains="contains",p.exact="exact",p.startsWith="startsWith",p.regex="regex"})(Q||(Q={}));var Zt=i(866),he=i.n(Zt);function ke(p,s){return(typeof Zt=="function"?Zt:he())(p,s)}function ye(p,s){return p.length===s.length&&p.every((function(u,l){return u===s[l]}))}function Ye(p){return p.replace(/[\s!#$%&'()*+,./:;<=>?@[\\\]^`{|}~]+/g,"_")}function me(p){for(;p.lastChild;)p.removeChild(p.lastChild);return p}function tr(p){for(var s=[],u=0,l=p;u<l.length;u++){var f=l[u];if(Array.isArray(f))for(var d=0,_=f;d<_.length;d++){var w=_[d];s.push(w)}else s.push(f)}return s}function Kr(p){switch(p){case"min":return"Minimum";case"max":return"Maximum";case"median":return"Median";case"mean":return"Mean";case"q1":return"25% Quantile";case"q3":return"75% Quantile";default:return String(p)}}var xn={value:()=>{}};function On(){for(var p,s=0,u=arguments.length,l={};s<u;++s){if(!(p=arguments[s]+"")||p in l||/[\s.]/.test(p))throw new Error("illegal type: "+p);l[p]=[]}return new ha(l)}function ha(p){this._=p}function As(p,s){for(var u,l=0,f=p.length;l<f;++l)if((u=p[l]).name===s)return u.value}function Go(p,s,u){for(var l=0,f=p.length;l<f;++l)if(p[l].name===s){p[l]=xn,p=p.slice(0,l).concat(p.slice(l+1));break}return u!=null&&p.push({name:s,value:u}),p}ha.prototype=On.prototype={constructor:ha,on:function(p,s){var u,l,f=this._,d=(l=f,(p+"").trim().split(/^|\s+/).map((function(x){var T="",D=x.indexOf(".");if(D>=0&&(T=x.slice(D+1),x=x.slice(0,D)),x&&!l.hasOwnProperty(x))throw new Error("unknown type: "+x);return{type:x,name:T}}))),_=-1,w=d.length;if(!(arguments.length<2)){if(s!=null&&typeof s!="function")throw new Error("invalid callback: "+s);for(;++_<w;)if(u=(p=d[_]).type)f[u]=Go(f[u],p.name,s);else if(s==null)for(u in f)f[u]=Go(f[u],p.name,null);return this}for(;++_<w;)if((u=(p=d[_]).type)&&(u=As(f[u],p.name)))return u},copy:function(){var p={},s=this._;for(var u in s)p[u]=s[u].slice();return new ha(p)},call:function(p,s){if((u=arguments.length-2)>0)for(var u,l,f=new Array(u),d=0;d<u;++d)f[d]=arguments[d+2];if(!this._.hasOwnProperty(p))throw new Error("unknown type: "+p);for(d=0,u=(l=this._[p]).length;d<u;++d)l[d].value.apply(s,f)},apply:function(p,s,u){if(!this._.hasOwnProperty(p))throw new Error("unknown type: "+p);for(var l=this._[p],f=0,d=l.length;f<d;++f)l[f].value.apply(s,u)}};const s9=On;var uD=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function Ve(p){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];return s.map((function(l){return"".concat(l).concat(p)}))}const pa=(function(){function p(){var s=this.createEventList();this.listenerEvents=new Set(s),this.listeners=s9.apply(void 0,s);var u=this;this.forwarder=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];u.fireImpl.apply(u,uD([this.type,this.primaryType,this.origin],l,!1))}}return p.prototype.on=function(s,u){var l=this;return Array.isArray(s)?s.forEach((function(f){l.listenerEvents.has(f.split(".")[0])&&(l.listenersChanged(f,!!u),l.listeners.on(f,u))})):this.listenerEvents.has(s.split(".")[0])&&(this.listenersChanged(s,!!u),this.listeners.on(s,u)),this},p.prototype.listenersChanged=function(s,u){},p.prototype.createEventList=function(){return[]},p.prototype.fire=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];var f=Array.isArray(s)?s[0]:s;this.fireImpl.apply(this,uD([s,f,this],u,!1))},p.prototype.fireImpl=function(s,u,l){for(var f=this,d=[],_=3;_<arguments.length;_++)d[_-3]=arguments[_];var w=function(x){if(f.listenerEvents.has(x)){var T={source:f,origin:l,type:x,primaryType:u,args:d};f.listeners.apply(x,T,d)}};Array.isArray(s)?s.forEach(w):w(s)},p.prototype.forward=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];s.on(u,this.forwarder)},p.prototype.unforward=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];s.on(u,null)},p})();i(732);var cD=Symbol.for("SupportType"),fD=Symbol.for("Category");function kc(){return Reflect.metadata(cD,!0)}function Ga(p){return p===void 0&&(p="ascending"),p==="descending"?Reflect.metadata(Symbol.for("sortDescendingByDefault"),!0):function(s){return s}}function Ms(p){var s=p.constructor;return!Reflect.hasMetadata(Symbol.for("sortDescendingByDefault"),s)}var hD=function(){this.string={label:"label",order:1,name:"string",featureLevel:"basic"},this.categorical={label:"categorical",order:2,name:"categorical",featureLevel:"basic"},this.number={label:"numerical",order:3,name:"number",featureLevel:"basic"},this.date={label:"date",order:4,name:"date",featureLevel:"basic"},this.array={label:"matrix",order:5,name:"array",featureLevel:"advanced"},this.map={label:"map",order:6,name:"map",featureLevel:"advanced"},this.composite={label:"combined",order:7,name:"composite",featureLevel:"advanced"},this.support={label:"support",order:8,name:"support",featureLevel:"advanced"},this.other={label:"others",order:9,name:"other",featureLevel:"advanced"}},Pl=new hD;function on(p){return Reflect.metadata(fD,p)}function cb(p){var s=Uh(p),u=p.desc.type;return s===Pl.string||s===Pl.categorical?"abc":s===Pl.number||u==="rank"||Ms(p)||new Set(["rank","number","numbers","ordinal","boxplot","script","reduce","stack"]).has(u)?"num":void 0}function $e(){for(var p=[],s=0;s<arguments.length;s++)p[s]=arguments[s];return Reflect.metadata(Symbol.for("toolbarIcon"),p)}function pi(p){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];return Reflect.metadata(Symbol.for("toolbarDialogAddon".concat(p)),s)}function kl(p){var s=p.constructor;return Reflect.hasMetadata(cD,s)}function Uh(p){var s,u,l=(s=Reflect.getMetadata(fD,typeof p=="function"?p:Object.getPrototypeOf(p).constructor))!==null&&s!==void 0?s:"other";return(u=Pl[l])!==null&&u!==void 0?u:Pl.other}function pD(p,s){var u=s[typeof p=="string"?p:p.type];return u?Uh(u):Pl.other}var l9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Ie="#a0a0a0",u9=(function(p){function s(u,l){var f=p.call(this)||this;return f.desc=l,f.width=100,f.parent=null,f.uid=Ye(u),f.renderer=f.desc.renderer||f.desc.type,f.groupRenderer=f.desc.groupRenderer||f.desc.type,f.summaryRenderer=f.desc.summaryRenderer||f.desc.type,f.width=f.desc.width!=null&&f.desc.width>0?f.desc.width:100,f.visible=f.desc.visible!==!1,f.metadata={label:l.label||f.id,summary:l.summary||"",description:l.description||""},f}return l9(s,p),Object.defineProperty(s.prototype,"fixed",{get:function(){return!!this.desc.fixed},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"frozen",{get:function(){return!!this.desc.frozen},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this.uid},enumerable:!1,configurable:!0}),s.prototype.assignNewId=function(u){this.uid=Ye(u())},Object.defineProperty(s.prototype,"label",{get:function(){return this.metadata.label},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"description",{get:function(){return this.metadata.description},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fqid",{get:function(){return this.parent?"".concat(this.parent.fqid,"_").concat(this.id):this.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fqpath",{get:function(){return this.parent?"".concat(this.parent.fqpath,"@").concat(this.parent.indexOf(this)):""},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_WIDTH_CHANGED,s.EVENT_LABEL_CHANGED,s.EVENT_METADATA_CHANGED,s.EVENT_VISIBILITY_CHANGED,s.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,s.EVENT_RENDERER_TYPE_CHANGED,s.EVENT_GROUP_RENDERER_TYPE_CHANGED,s.EVENT_DIRTY,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.getWidth=function(){return this.width},s.prototype.hide=function(){this.setVisible(!1)},s.prototype.show=function(){this.setVisible(!0)},s.prototype.isVisible=function(){return this.visible},s.prototype.getVisible=function(){return this.isVisible()},s.prototype.setVisible=function(u){this.visible!==u&&this.fire([s.EVENT_VISIBILITY_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.visible,this.visible=u)},s.prototype.flatten=function(u,l,f,d){var _=this.getWidth();return u.push({col:this,offset:l,width:_}),_},s.prototype.setWidth=function(u){Qt(this.width,u,.5)||this.fire([s.EVENT_WIDTH_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.width,this.width=u)},s.prototype.setWidthImpl=function(u){this.width=u},s.prototype.setMetaData=function(u){if(u.label!==this.label||this.description!==u.description||this.metadata.summary!==u.summary){var l=this.getMetaData();this.metadata={label:u.label,summary:u.summary,description:u.description},this.fire([s.EVENT_LABEL_CHANGED,s.EVENT_METADATA_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY],l,this.getMetaData())}},s.prototype.getMetaData=function(){return Object.assign({},this.metadata)},s.prototype.sortByMe=function(u,l){u===void 0&&(u=Ms(this)),l===void 0&&(l=0);var f=this.findMyRanker();return!!f&&f.sortBy(this,u,l)},s.prototype.groupByMe=function(){var u=this.findMyRanker();return!!u&&u.toggleGrouping(this)},s.prototype.isGroupedBy=function(){var u=this.findMyRanker();return u?u.getGroupCriteria().indexOf(this):-1},s.prototype.toggleMySorting=function(){var u=this.findMyRanker();return!!u&&u.toggleSorting(this)},s.prototype.isSortedByMeImpl=function(u){var l=this,f=this.findMyRanker();if(!f)return{asc:void 0,priority:void 0};var d=u(f),_=d.findIndex((function(w){return w.col===l}));return _<0?{asc:void 0,priority:void 0}:{asc:d[_].asc?"asc":"desc",priority:_}},s.prototype.isSortedByMe=function(){return this.isSortedByMeImpl((function(u){return u.getSortCriteria()}))},s.prototype.groupSortByMe=function(u,l){u===void 0&&(u=Ms(this)),l===void 0&&(l=0);var f=this.findMyRanker();return!!f&&f.groupSortBy(this,u,l)},s.prototype.toggleMyGroupSorting=function(){var u=this.findMyRanker();return!!u&&u.toggleGroupSorting(this)},s.prototype.isGroupSortedByMe=function(){return this.isSortedByMeImpl((function(u){return u.getGroupSortCriteria()}))},s.prototype.removeMe=function(){return!this.fixed&&!!this.parent&&this.parent.remove(this)},s.prototype.attach=function(u){this.parent=u},s.prototype.detach=function(){this.parent=null},s.prototype.insertAfterMe=function(u){return!!this.parent&&this.parent.insertAfter(u,this)!=null},s.prototype.insertBeforeMe=function(u){return!!this.parent&&this.parent.insertBefore(u,this)!=null},s.prototype.nextSibling=function(){var u;if(this.parent){var l=this.parent.indexOf(this);return l<0?null:(u=this.parent.at(l+1))!==null&&u!==void 0?u:null}return null},s.prototype.previousSibling=function(){var u;if(this.parent){var l=this.parent.indexOf(this);return l<1?null:(u=this.parent.at(l-1))!==null&&u!==void 0?u:null}return null},s.prototype.findMyRanker=function(){return this.parent?this.parent.findMyRanker():null},s.prototype.dump=function(u){var l={id:this.id,desc:u(this.desc),width:this.width};return this.label!==(this.desc.label||this.id)&&(l.label=this.label),this.metadata.summary&&(l.summary=this.metadata.summary),this.getRenderer()!==this.desc.type&&(l.renderer=this.getRenderer()),this.getGroupRenderer()!==this.desc.type&&(l.groupRenderer=this.getGroupRenderer()),this.getSummaryRenderer()!==this.desc.type&&(l.summaryRenderer=this.getSummaryRenderer()),l},s.prototype.restore=function(u,l){this.uid=u.id,this.width=u.width||this.width,this.metadata={label:u.label||this.label,summary:u.summary||"",description:this.description},(u.renderer||u.rendererType)&&(this.renderer=u.renderer||u.rendererType||this.renderer),u.groupRenderer&&(this.groupRenderer=u.groupRenderer),u.summaryRenderer&&(this.summaryRenderer=u.summaryRenderer)},s.prototype.getLabel=function(u){var l=this.getValue(u);return l==null?"":String(l)},s.prototype.getValue=function(u){return""},s.prototype.getExportValue=function(u,l){return l==="text"?this.getLabel(u):this.getValue(u)},s.prototype.getColor=function(u){return Ie},s.prototype.toCompareValue=function(u,l){return 0},s.prototype.toCompareValueType=function(){return tt.UINT8},s.prototype.group=function(u,l){return Object.assign({},ft)},s.prototype.toCompareGroupValue=function(u,l,f){return l.name.toLowerCase()},s.prototype.toCompareGroupValueType=function(){return tt.STRING},s.prototype.isFiltered=function(){return!1},s.prototype.clearFilter=function(){return!1},s.prototype.filter=function(u,l){return u!=null},s.prototype.getRenderer=function(){return this.renderer},s.prototype.getGroupRenderer=function(){return this.groupRenderer},s.prototype.getSummaryRenderer=function(){return this.summaryRenderer},s.prototype.setRenderer=function(u){u!==this.renderer&&this.fire([s.EVENT_RENDERER_TYPE_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.renderer,this.renderer=u)},s.prototype.setGroupRenderer=function(u){u!==this.groupRenderer&&this.fire([s.EVENT_GROUP_RENDERER_TYPE_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.groupRenderer,this.groupRenderer=u)},s.prototype.setSummaryRenderer=function(u){u!==this.summaryRenderer&&this.fire([s.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY],this.summaryRenderer,this.summaryRenderer=u)},s.prototype.markDirty=function(u){switch(u===void 0&&(u="all"),u){case"header":return this.fire([s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY]);case"values":return this.fire([s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES,s.EVENT_DIRTY]);default:return this.fire([s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES,s.EVENT_DIRTY])}},s.prototype.getHeaderLabel=function(u){return this.desc.labelAsHTML===!0?{content:this.label,asHTML:!0}:typeof this.desc.labelAsHTML=="function"?{content:this.desc.labelAsHTML(this,u),asHTML:!0}:{content:this.label,asHTML:!1}},s.prototype.getSummaryLabel=function(u,l){l===void 0&&(l=!1);var f=this.metadata.summary;return!f&&l&&(f=this.description),this.desc.summaryAsHTML===!0?{content:f,asHTML:!0}:typeof this.desc.summaryAsHTML=="function"?{content:this.desc.summaryAsHTML(this,u),asHTML:!0}:{content:f,asHTML:!1}},s.FLAT_ALL_COLUMNS=-1,s.EVENT_WIDTH_CHANGED="widthChanged",s.EVENT_LABEL_CHANGED="labelChanged",s.EVENT_METADATA_CHANGED="metaDataChanged",s.EVENT_DIRTY="dirty",s.EVENT_DIRTY_HEADER="dirtyHeader",s.EVENT_DIRTY_VALUES="dirtyValues",s.EVENT_DIRTY_CACHES="dirtyCaches",s.EVENT_RENDERER_TYPE_CHANGED="rendererTypeChanged",s.EVENT_GROUP_RENDERER_TYPE_CHANGED="groupRendererChanged",s.EVENT_SUMMARY_RENDERER_TYPE_CHANGED="summaryRendererChanged",s.EVENT_VISIBILITY_CHANGED="visibilityChanged",s})(pa);const vt=u9;var c9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),f9=(function(p){function s(u,l){var f=p.call(this,u,l)||this;return f.accessor=l.accessor||function(){return null},f.loaded=l.lazyLoaded!==!0,f}return c9(s,p),s.prototype.onDataUpdate=function(u){},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_DATA_LOADED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.getLabel=function(u){if(!this.isLoaded())return"";var l=this.getValue(u);return l==null?"":String(l)},s.prototype.getRaw=function(u){return this.isLoaded()?this.accessor(u,this.desc):null},s.prototype.getValue=function(u){return this.getRaw(u)},s.prototype.isLoaded=function(){return this.loaded},s.prototype.setLoaded=function(u){this.loaded!==u&&this.fire([s.EVENT_DATA_LOADED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.loaded,this.loaded=u)},s.prototype.getRenderer=function(){return this.isLoaded()?p.prototype.getRenderer.call(this):s.RENDERER_LOADING},s.prototype.dump=function(u){var l=p.prototype.dump.call(this,u);return l.loaded=this.loaded,this.loaded||l.renderer!==s.RENDERER_LOADING||delete l.renderer,l},s.prototype.restore=function(u,l){u.loaded!==void 0&&(this.loaded=u.loaded),p.prototype.restore.call(this,u,l)},s.EVENT_DATA_LOADED="dataLoaded",s.RENDERER_LOADING="loading",s})(vt);const Er=f9;function Xe(p){return p instanceof vt&&typeof p.getMapping=="function"||!(p instanceof vt)&&Je(p)&&(p.type.startsWith("number")||p.type.startsWith("boxplot"))}function Je(p){return p instanceof vt&&typeof p.getNumber=="function"||!(p instanceof vt)&&p.type.match(/(number|stack|ordinal)/)!=null}var Vc,Jr;function Fo(p){return typeof p.getBoxPlotData=="function"}function En(p){return Fo(p)&&typeof p.getNumbers=="function"}(function(p){p.min="min",p.max="max",p.median="median",p.q1="q1",p.q3="q3"})(Vc||(Vc={})),(function(p){p.min="min",p.max="max",p.median="median",p.q1="q1",p.q3="q3",p.mean="mean"})(Jr||(Jr={}));var h9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),dD=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))},p9=(function(p){function s(){var l=p!==null&&p.apply(this,arguments)||this;return l._children=[],l}var u;return h9(s,p),u=s,s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_FILTER_CHANGED,u.EVENT_ADD_COLUMN,u.EVENT_MOVE_COLUMN,u.EVENT_REMOVE_COLUMN])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.assignNewId=function(l){p.prototype.assignNewId.call(this,l),this._children.forEach((function(f){return f.assignNewId(l)}))},Object.defineProperty(s.prototype,"children",{get:function(){return this._children.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"length",{get:function(){return this._children.length},enumerable:!1,configurable:!0}),s.prototype.flatten=function(l,f,d,_){d===void 0&&(d=0),_===void 0&&(_=0);var w=0;return(d===0||d<=vt.FLAT_ALL_COLUMNS)&&(w=this.getWidth(),l.push({col:this,offset:f,width:w}),d===0)||this._children.forEach((function(x){x.isVisible()&&d<=vt.FLAT_ALL_COLUMNS&&x.flatten(l,f,d-1,_)})),w},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.children=this._children.map((function(d){return d.dump(l)})),f},s.prototype.restore=function(l,f){var d=this;l.children.forEach((function(_){var w=f(_);w&&d.push(w)})),p.prototype.restore.call(this,l,f)},s.prototype.insert=function(l,f){return!Je(l)&&this.canJustAddNumbers?null:(this._children.splice(f,0,l),this.insertImpl(l,f))},s.prototype.move=function(l,f){if(l.parent!==this)return null;var d=this._children.indexOf(l);return f===d?l:(this._children.splice(d,1),this._children.splice(d<f?f-1:f,0,l),this.moveImpl(l,f,d))},s.prototype.insertImpl=function(l,f){return l.attach(this),this.forward.apply(this,dD([l],Ve(".combine",vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY,u.EVENT_FILTER_CHANGED,vt.EVENT_RENDERER_TYPE_CHANGED,vt.EVENT_GROUP_RENDERER_TYPE_CHANGED),!1)),this.fire([u.EVENT_ADD_COLUMN,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],l,f),l},s.prototype.moveImpl=function(l,f,d){return this.fire([u.EVENT_MOVE_COLUMN,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY,vt.EVENT_RENDERER_TYPE_CHANGED,vt.EVENT_GROUP_RENDERER_TYPE_CHANGED],l,f,d),l},s.prototype.push=function(l){return this.insert(l,this._children.length)},s.prototype.at=function(l){return this._children[l]},s.prototype.indexOf=function(l){return this._children.indexOf(l)},s.prototype.insertAfter=function(l,f){var d=this.indexOf(f);return d<0?null:this.insert(l,d+1)},s.prototype.moveAfter=function(l,f){var d=this.indexOf(f);return d<0?null:this.move(l,d+1)},s.prototype.insertBefore=function(l,f){var d=this.indexOf(f);return d<0?null:this.insert(l,d)},s.prototype.moveBefore=function(l,f){var d=this.indexOf(f);return d<0?null:this.move(l,d)},s.prototype.remove=function(l){var f=this._children.indexOf(l);return!(f<0)&&(this._children.splice(f,1),this.removeImpl(l,f))},s.prototype.removeImpl=function(l,f){return l.detach(),this.unforward.apply(this,dD([l],Ve(".combine",vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY,u.EVENT_FILTER_CHANGED),!1)),this.fire([u.EVENT_REMOVE_COLUMN,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],l,f),!0},s.prototype.isFiltered=function(){return this._children.some((function(l){return l.isFiltered()}))},s.prototype.clearFilter=function(){return this._children.map((function(l){return l.clearFilter()})).some((function(l){return l}))},s.prototype.filter=function(l){return this._children.every((function(f){return f.filter(l)}))},s.prototype.isLoaded=function(){return this._children.every((function(l){return!(l instanceof Er||l instanceof u)||l.isLoaded()}))},Object.defineProperty(s.prototype,"canJustAddNumbers",{get:function(){return!1},enumerable:!1,configurable:!0}),s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_ADD_COLUMN="addColumn",s.EVENT_MOVE_COLUMN="moveColumn",s.EVENT_REMOVE_COLUMN="removeColumn",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("compositeContained","splitCombined"),on("composite")],s)})(vt);const hn=p9;function Be(p){for(var s=p.length/6|0,u=new Array(s),l=0;l<s;)u[l]="#"+p.slice(6*l,6*++l);return u}const Gc=Be("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),qv=Be("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var vD,d9=(function(){function p(s){s===void 0&&(s=[]),this[vD]=Symbol("OrderedSet"),this.set=new Set,this.list=[],this.addAll(Array.isArray(s)?s:Array.from(s))}return Object.defineProperty(p.prototype,"size",{get:function(){return this.set.size},enumerable:!1,configurable:!0}),p.prototype.clear=function(){this.set.clear(),this.list.splice(0,this.list.length)},p.prototype.addAll=function(s){var u=this;return s.forEach((function(l){return u.add(l)})),this},p.prototype.add=function(s){return this.set.has(s)||(this.set.add(s),this.list.push(s)),this},p.prototype.has=function(s){return this.set.has(s)},p.prototype.delete=function(s){if(!this.set.delete(s))return!1;var u=this.list.indexOf(s);return console.assert(u>=0),this.list.splice(u,1),!0},p.prototype.deleteAll=function(s){var u=this;return s.reduce((function(l,f){return u.delete(f)&&l}),!0)},p.prototype.forEach=function(s,u){this.list.forEach((function(l){s.call(this,l,l,this)}),u)},p.prototype[vD=Symbol.toStringTag,Symbol.iterator]=function(){return this.list[Symbol.iterator]()},p})();const Wh=d9;var jh=function(){return jh=Object.assign||function(p){for(var s,u=1,l=arguments.length;u<l;u++)for(var f in s=arguments[u])Object.prototype.hasOwnProperty.call(s,f)&&(p[f]=s[f]);return p},jh.apply(this,arguments)},gD=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function cr(p,s){return s===void 0&&(s={}),Object.keys(s).forEach((function(u){var l=u;p[l]===void 0&&(p[l]=s[l])})),p}function fb(p){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];return new(Function.bind.apply(Function,gD(gD([void 0,"value"],s,!1),[`
  const escapedValue = encodeURIComponent(String(value));
  return \``.concat(p,"`;\n ")],!1)))}function yD(p){if(p.length===0)return jh({},ft);if(p.length===1&&!p[0].parent)return jh({},p[0]);for(var s=[],u=0,l=p;u<l.length;u++){for(var f=l[u],d=[],_=f;_.parent;)d.unshift(_.parent),_=_.parent;s.push.apply(s,d),s.push(Object.assign({subGroups:[]},f))}return s.slice(1).forEach((function(w,x){w.parent=s[x],w.name="".concat(s[x].name,"  ").concat(w.name),w.color=w.color!==Ie?w.color:w.parent.color,s[x].subGroups=[w]})),s[s.length-1]}function mD(p){var s=Object.assign({},p);return delete s.order,Xv(s)&&(s.subGroups=[]),s.parent&&(s.parent=mD(s.parent),s.parent.subGroups.push(s)),s}function Yh(p){return p.name}function Xv(p){return p.subGroups!=null}function hb(p){for(var s=new Wh,u=0,l=p;u<l.length;u++){for(var f=l[u];f.parent;)f=f.parent;s.add(f)}return Array.from(s)}var pb=Gc.concat(qv),v9=pb.length;function db(){var p=0;return function(){return pb[p++%pb.length]}}function _D(p,s){for(var u=[],l=0;l<p.length;++l)u.push(s(p[l],l));return u}function Zv(p,s){for(var u=0;u<p.length;++u)if(!s(p[u],u))return!1;return!0}function Fc(p,s){for(var u=0;u<p.length;++u)s(p[u],u)}function vb(p){return p==null||typeof p!="number"&&!Number.isNaN(p)?tt.UINT32:p<=255?tt.UINT8:p<=65535?tt.UINT16:tt.UINT32}var bD=new Map;function sr(p,s){return s===void 0&&(s=""),p[0]==="$"&&(p=p.slice(1)),bD.has(p)?bD.get(p):s}var g9=sr("lu_selected_color","#ffcf76"),Ui=Number.parseInt(sr("lu_engine_grip_gap","5px"),10),$h=Number.parseFloat(sr("lu_filtered_opacity","0.2")),qh={width:Number.parseInt(sr("lu_missing_dash_width","2px"),10),height:Number.parseInt(sr("lu_missing_dash_height","10px"),10),color:sr("lu_missing_dash_color","#a0a0a0")},gb={color:sr("lu_renderer_upset_color"),inactive:Number.parseFloat(sr("lu_renderer_upset_inactive_opacity","0.1"))},Pn={color:sr("lu_renderer_dot_color","gray"),size:Number.parseInt(sr("lu_renderer_dot_size","5px"),10),opacity:Number.parseFloat(sr("lu_renderer_dot_opacity","0.5")),opacitySingle:Number.parseFloat(sr("lu_renderer_dot_opacity","1"))},Bc={color:sr("lu_renderer_tick_color","gray"),size:Number.parseInt(sr("lu_renderer_tick_size","3px"),10),opacity:Number.parseFloat(sr("lu_renderer_tick_opacity","1"))},Kv={box:sr("lu_renderer_boxplot_box","#e0e0e0"),stroke:sr("lu_renderer_boxplot_stroke","black"),sort:sr("lu_renderer_boxplot_sort_indicator","#ffa500"),outlier:sr("lu_renderer_boxplot_outlier","#e0e0e0")},Jv={width:Number.parseInt(sr("lu_aggregate_square_bracket_width","4px"),10),strokeWidth:Number.parseInt(sr("lu_aggregate_square_bracket_stroke_width","2px"),10),color:sr("lu_aggregate_square_bracket_stroke_color","#000"),levelOffset:Number.parseInt(sr("lu_aggregate_level_offset","2px"),10),levelWidth:Number.parseInt(sr("lu_aggregate_level_width","22px"),10)},y9=Number.parseInt(sr("lu_slope_width","200px"),10),sn=4,SD=sr("lu_css_prefix","lu"),wD="le",xD=Number.parseInt(sr("lu_engine_resize_space","50px"),10),m9=Number.parseInt(sr("lu_engine_resize_animation_duration","1000ms"),10),ED=Number.parseInt(sr("lu_aggregate_level_width","22px"),10);function z(p){return p?"".concat(SD,"-").concat(p):SD}function be(p){return p?"".concat(wD,"-").concat(p):wD}function Xn(p){return'<span class="'.concat(z("aria"),'" aria-hidden="true">').concat(p,"</span>")}var er,_9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function Qv(p){return p===void 0&&(p="Aggregate Groups"),{type:"aggregate",label:p,fixed:!0}}(function(p){p.COLLAPSE="collapse",p.EXPAND="expand",p.EXPAND_TOP_N="expand_top"})(er||(er={}));var b9=(function(p){function s(l,f){return p.call(this,l,cr(f,{width:2*ED}))||this}var u;return _9(s,p),u=s,Object.defineProperty(s.prototype,"frozen",{get:function(){return this.desc.frozen!==!1},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_AGGREGATE])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.isAggregated=function(l){var f=this.findMyRanker();return!!this.desc.isAggregated&&this.desc.isAggregated(f,l)},s.prototype.setAggregated=function(l,f){var d=typeof f=="boolean"?f?er.EXPAND:er.COLLAPSE:f,_=this.findMyRanker();return(this.desc.isAggregated&&this.desc.isAggregated(_,l))===d||(this.desc.setAggregated&&this.desc.setAggregated(_,l,d),this.fire(u.EVENT_AGGREGATE,_,l,d!==er.COLLAPSE,d),!1)},s.EVENT_AGGREGATE="aggregate",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("setShowTopN","rename"),kc(),on("support")],s)})(vt);const Xh=b9;var di={apply:function(p){return p?p.color:Ie},toJSON:function(){return null},clone:function(){return di},eq:function(p){return p===di}},yb=(function(){function p(s){this.map=new Map(Array.from(s.entries()).map((function(u){var l=u[0],f=u[1];return[typeof l=="string"?l:l.name,f]})))}return p.prototype.apply=function(s){return this.map.has(s.name)?this.map.get(s.name):di.apply(s)},p.prototype.toJSON=function(){var s={};return this.map.forEach((function(u,l){return s[l]=u})),{type:"replace",map:s}},p.prototype.clone=function(){return new p(new Map(this.map.entries()))},p.prototype.eq=function(s){var u=this;return s instanceof p&&s.map.size===this.map.size&&Array.from(this.map.keys()).every((function(l){return u.map.get(l)===s.map.get(l)}))},p.restore=function(s,u){s.type==="replace"&&(s=s.map);for(var l=new Map(u.map((function(x){return[x.name,x]}))),f=new Map,d=0,_=Object.keys(s);d<_.length;d++){var w=_[d];l.has(w)&&f.set(l.get(w),s[w])}return new p(f)},p})();function S9(p,s){return p?yb.restore(p,s):di}function Gr(p){if(p==null||p===void 0||p===""||p==="NA"||p==="na"||p==="Na"||p==="nA"||p==="NaN"||typeof p=="number"&&Number.isNaN(p))return!0;if(!Array.isArray(p))return!1;for(var s=0,u=p;s<u.length;s++)if(!Gr(u[s]))return!1;return!0}function Zh(p){return p==null||p===void 0||Number.isNaN(p)}var mb=-1,_b=1,Bo={name:"Missing values",color:"gray"};function TD(p,s,u){if(u===void 0&&(u=function(){return Ie}),typeof p=="string")return{name:p,label:p,color:u(),value:s};var l=p.name==null?String(p.value):p.name;return{name:l,label:p.label||l,color:p.color||u(),value:p.value!=null?p.value:s}}function bb(p,s){var u=p==null||Number.isNaN(p.value),l=s==null||Number.isNaN(s.value);return u||p==null?l?0:_b:l||s==null?-_b:p.value===s.value?p.label.toLowerCase().localeCompare(s.label.toLowerCase()):p.value-s.value}function Fa(p){if(!p.categories)return[];var s=db(),u=p.categories.length-1;return p.categories.map((function(l,f){return TD(l,f/u,s)})).sort(bb)}function CD(p){return p==null||!p.filterMissing&&(p.filter==null||p.filter==="")}function Sb(p,s){return p===s||(p==null||s==null?CD(p)===CD(s):p.filterMissing===s.filterMissing&&typeof p.filter==typeof s.filter&&Array.isArray(p.filter)===Array.isArray(s.filter)&&(Array.isArray(p.filter)?(function(u,l){var f=u!=null?u.length:0;return f===(l!=null?l.length:0)&&(f===0||u.every((function(d,_){return d===l[_]})))})(p.filter,s.filter):String(p.filter)===String(s.filter)))}function Vl(p,s){if(p==null)return!0;if(s==null||Number.isNaN(s.value))return!p.filterMissing;var u=p.filter;return Array.isArray(u)?u.includes(s.name):typeof u=="string"&&u.length>0?s.name.toLowerCase().includes(u.toLowerCase()):!(u instanceof RegExp)||u.test(s.name)}var w9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),AD=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))},x9=(function(p){function s(l,f){var d=p.call(this,l,f)||this;return d.lookup=new Map,d.currentFilter=null,d.categories=Fa(f),d.categories.forEach((function(_){return d.lookup.set(_.name,_)})),d.categoryOrder=f.categoryOrder||"given",d.colorMapping=di,d}var u;return w9(s,p),u=s,s.prototype.onDataUpdate=function(l){var f,d=this;if(p.prototype.onDataUpdate.call(this,l),!Array.isArray(this.desc.categories)||this.categoryOrder!=="given"){var _=new Map;if(l.forEach((function(x){var T=p.prototype.getValue.call(d,x);if(T){var D=String(T),N=_.get(D);N?N.count++:_.set(D,{name:D,count:1})}})),!Array.isArray(this.desc.categories)){var w=Array.from(_.keys());w.sort(),(f=this.categories).splice.apply(f,AD([0,this.categories.length],Fa({categories:w}),!1)),this.categories.forEach((function(x){return d.lookup.set(x.name,x)}))}this.sortCategories(_)}},s.prototype.sortCategories=function(l){for(var f,d,_,w=this,x=0,T=this.categories;x<T.length;x++)(I=T[x]).value=(_=(d=l.get(I.name))===null||d===void 0?void 0:d.count)!==null&&_!==void 0?_:0;if(typeof this.categoryOrder=="function")(f=this.categories).splice.apply(f,AD([0,this.categories.length],this.categoryOrder(this.categories),!1));else if(this.categoryOrder==="large-to-small"){for(var D=0,N=this.categories;D<N.length;D++){var I;(I=N[D]).value=-1*I.value}this.categories.sort(bb)}else this.categoryOrder==="small-to-large"&&this.categories.sort(bb);this.categories.forEach((function(G,B){G.value=B/w.categories.length}))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_FILTER_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getValue=function(l){var f=this.getCategory(l);return f?f.name:null},s.prototype.getCategory=function(l){var f=p.prototype.getValue.call(this,l);if(!f)return null;var d=String(f);return this.lookup.has(d)?this.lookup.get(d):null},Object.defineProperty(s.prototype,"dataLength",{get:function(){return this.categories.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"labels",{get:function(){return this.categories.map((function(l){return l.label}))},enumerable:!1,configurable:!0}),s.prototype.getLabel=function(l){var f=this.getCategory(l);return f?f.label:""},s.prototype.getCategories=function(l){return[this.getCategory(l)]},s.prototype.getValues=function(l){var f=this.getCategory(l);return this.categories.map((function(d){return d===f}))},s.prototype.getLabels=function(l){return this.getValues(l).map(String)},s.prototype.getMap=function(l){var f=this.categories;return this.getValues(l).map((function(d,_){return{key:f[_].label,value:d}}))},s.prototype.getMapLabel=function(l){var f=this.categories;return this.getLabels(l).map((function(d,_){return{key:f[_].label,value:d}}))},s.prototype.getSet=function(l){var f=this.getCategory(l),d=new Set;return f&&d.add(f),d},s.prototype.iterCategory=function(l){return[this.getCategory(l)]},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.filter=this.currentFilter,f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){if(p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories),l.filter!==void 0){var d=l.filter;typeof d=="string"||Array.isArray(d)?this.currentFilter={filter:d,filterMissing:!1}:this.currentFilter=d}else this.currentFilter=null},s.prototype.getColor=function(l){var f=this.getCategory(l);return f?this.colorMapping.apply(f):Ie},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([u.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l,f){return Vl(this.currentFilter,f!==void 0?f:this.getCategory(l))},s.prototype.getFilter=function(){return this.currentFilter==null?null:Object.assign({},this.currentFilter)},s.prototype.setFilter=function(l){Sb(this.currentFilter,l)||this.fire([u.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.currentFilter,this.currentFilter=l)},s.prototype.clearFilter=function(){var l=this.isFiltered();return this.setFilter(null),l},s.prototype.toCompareValue=function(l,f){return(d=f!==void 0?f:this.getCategory(l))==null?NaN:d.value;var d},s.prototype.toCompareValueType=function(){return tt.FLOAT_ASC},s.prototype.group=function(l,f){var d=f!==void 0?f:this.getCategory(l);return d?{name:d.label,color:d.color}:Object.assign({},Bo)},s.prototype.toCompareGroupValue=function(l,f,d){return(function(_,w,x){if(y(_))return[NaN,null];var T=(function(D,N){var I=new Map;if(N?N.forEach((function(U){I.set(U,(I.get(U)||0)+1)})):D.forEach((function(U){I.set(U,(I.get(U)||0)+1)})),I.size===0)return{cat:null,count:0};var G=null,B=0;return I.forEach((function(U,$){U>B&&(G=$,B=U)})),{cat:G,count:B}})(_.map((function(D){return w.getCategory(D)})),x);return T.cat==null?[NaN,null]:[T.cat.value,T.cat.name.toLowerCase()]})(l,this,d)},s.prototype.toCompareGroupValueType=function(){return[tt.FLOAT,tt.STRING]},s.prototype.getGroupRenderer=function(){var l=p.prototype.getGroupRenderer.call(this);return l===this.desc.type&&this.isGroupedBy()>=0?"catdistributionbar":l},s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_COLOR_MAPPING_CHANGED="colorMappingChanged",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","group","groupBy","sortGroupBy","filterCategorical","colorMappedCategorical"),on("categorical")],s)})(Er);const Se=x9;var E9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),T9=(function(p){function s(l,f){var d=p.call(this,l,cr(f,{renderer:"upset",groupRenderer:"upset",summaryRenderer:"categorical"}))||this;return d.lookup=new Map,d.currentFilter=null,d.separator=new RegExp(f.separator||";"),d.categories=Fa(f),d.categories.forEach((function(_){return d.lookup.set(_.name,_)})),d.colorMapping=di,d}var u;return E9(s,p),u=s,s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},Object.defineProperty(s.prototype,"labels",{get:function(){return this.categories.map((function(l){return l.label}))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dataLength",{get:function(){return this.categories.length},enumerable:!1,configurable:!0}),s.prototype.getValue=function(l){var f=this.getSortedSet(l);return f.length===0?null:f.map((function(d){return d.name}))},s.prototype.getLabel=function(l){return"(".concat(this.getSortedSet(l).map((function(f){return f.label})).join(","),")")},s.prototype.normalize=function(l){return typeof l=="string"?l.split(this.separator).map((function(f){return f.trim()})):Array.isArray(l)?l.map((function(f){return String(f).trim()})):l instanceof Set?Array.from(l).map(String):[]},s.prototype.getSet=function(l){var f=this,d=this.normalize(p.prototype.getValue.call(this,l)),_=new Set;return d.forEach((function(w){var x=f.lookup.get(w);x&&_.add(x)})),_},s.prototype.getSortedSet=function(l){return Array.from(this.getSet(l)).sort((function(f,d){return f.value===d.value?f.label.localeCompare(d.label):f.value-d.value}))},s.prototype.getCategories=function(l){return this.getSortedSet(l)},s.prototype.getColors=function(l){var f=this;return this.getSortedSet(l).map((function(d){return f.colorMapping.apply(d)}))},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){return Se.prototype.setColorMapping.call(this,l)},s.prototype.getValues=function(l){var f=this.getSet(l);return this.categories.map((function(d){return f.has(d)}))},s.prototype.getLabels=function(l){return this.getValues(l).map(String)},s.prototype.getMap=function(l){return this.getSortedSet(l).map((function(f){return{key:f.label,value:!0}}))},s.prototype.getMapLabel=function(l){return this.getSortedSet(l).map((function(f){return{key:f.label,value:"true"}}))},s.prototype.iterCategory=function(l){var f=this.getSet(l);return f.size>0?Array.from(f):[null]},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.filter=this.currentFilter,f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){if(p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories),"filter"in l){var d=l.filter;typeof d=="string"||Array.isArray(d)?this.currentFilter={filter:d,filterMissing:!1,mode:"some"}:this.currentFilter=d}else this.currentFilter=null},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l){var f=this;if(!this.currentFilter)return!0;var d=Array.from(this.getSet(l));return d.length===0?Vl(this.currentFilter,null):this.currentFilter.mode==="every"?d.every((function(_){return Vl(f.currentFilter,_)})):d.some((function(_){return Vl(f.currentFilter,_)}))},s.prototype.getFilter=function(){return this.currentFilter==null?null:Object.assign({},this.currentFilter)},s.prototype.setFilter=function(l){var f,d;Sb(f=this.currentFilter,d=l)&&(f&&f.mode?f.mode:"every")===(d&&d.mode?d.mode:"every")||this.fire([Se.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.currentFilter,this.currentFilter=l)},s.prototype.clearFilter=function(){return Se.prototype.clearFilter.call(this)},s.prototype.toCompareValue=function(l){for(var f=this.getSet(l),d=[f.size],_=0,w=this.categories;_<w.length;_++){var x=w[_];d.push(f.has(x)?1:0)}return d},s.prototype.toCompareValueType=function(){return[vb(this.categories.length)].concat(this.categories.map((function(){return tt.BINARY})))},s.prototype.group=function(l){var f=this.getSet(l),d=f.size,_=this.categories.filter((function(x){return f.has(x)})),w={name:_.length===0?"None":_.map((function(x){return x.name})).join(", "),color:_.length===1?_[0].color:Ie};return w.parent={name:"#".concat(d),color:Ie,subGroups:[w]},w},s.EVENT_FILTER_CHANGED=Se.EVENT_FILTER_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=Se.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","filterCategorical","colorMappedCategorical","group","groupBy"),on("categorical")],s)})(Er);const Gl=T9;var Ar,C9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Hc=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};(function(p){p.UNKNOWN="unknown",p.FILTER_CHANGED="filter",p.SORT_CRITERIA_CHANGED="sort_changed",p.SORT_CRITERIA_DIRTY="sort_dirty",p.GROUP_CRITERIA_CHANGED="group_changed",p.GROUP_CRITERIA_DIRTY="group_dirty",p.GROUP_SORT_CRITERIA_CHANGED="group_sort_changed",p.GROUP_SORT_CRITERIA_DIRTY="group_sort_dirty"})(Ar||(Ar={}));var A9=(function(p){function s(u){var l=p.call(this)||this;return l.id=u,l.sortCriteria=[],l.groupColumns=[],l.groupSortCriteria=[],l.columns=[],l.dirtyOrder=function(f){l.fire([s.EVENT_DIRTY_ORDER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],f)},l.dirtyOrderSortDirty=function(){return l.dirtyOrder([Ar.SORT_CRITERIA_DIRTY])},l.dirtyOrderGroupDirty=function(){return l.dirtyOrder([Ar.GROUP_CRITERIA_DIRTY])},l.dirtyOrderGroupSortDirty=function(){return l.dirtyOrder([Ar.GROUP_SORT_CRITERIA_DIRTY])},l.dirtyOrderFiltering=function(){return l.dirtyOrder([Ar.FILTER_CHANGED])},l.groups=[Object.assign({order:[]},ft)],l.order=[],l.index2pos=[],l.id=Ye(u),l.label="Ranking ".concat(u.startsWith("rank")?u.slice(4):u),l}return C9(s,p),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_WIDTH_CHANGED,s.EVENT_FILTER_CHANGED,s.EVENT_LABEL_CHANGED,s.EVENT_GROUPS_CHANGED,s.EVENT_ADD_COLUMN,s.EVENT_REMOVE_COLUMN,s.EVENT_GROUP_CRITERIA_CHANGED,s.EVENT_MOVE_COLUMN,s.EVENT_DIRTY,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES,s.EVENT_GROUP_SORT_CRITERIA_CHANGED,s.EVENT_COLUMN_VISIBILITY_CHANGED,s.EVENT_SORT_CRITERIA_CHANGED,s.EVENT_DIRTY_ORDER,s.EVENT_ORDER_CHANGED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.assignNewId=function(u){this.id=Ye(u()),this.columns.forEach((function(l){return l.assignNewId(u)}))},s.prototype.getLabel=function(){return this.label},s.prototype.setLabel=function(u){u!==this.label&&this.fire(s.EVENT_LABEL_CHANGED,this.label,this.label=u)},s.prototype.setGroups=function(u,l,f){var d=this.order,_=this.groups;if(this.groups=u,this.index2pos=l,this.order=Et(u.map((function(x){return x.order}))),u.length>1)this.unifyGroups(u);else if(u.length===1)for(var w=u[0].parent;w;)w.order=this.order,w=w.parent;this.fire([s.EVENT_ORDER_CHANGED,s.EVENT_GROUPS_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],d,this.order,_,u,f)},s.prototype.unifyGroups=function(u){for(var l=0,f=this.order,d=new Map,_=0,w=u;_<w.length;_++){var x=w[_],T=x.order.length;x.order=f.subarray(l,l+T),d.set(x,{offset:l,size:T}),l+=T}for(var D=hb(u),N=function(U){if(d.has(U))return d.get(U);var $=U.subGroups.map((function(ct){return N(ct)})),K=$.length>0?$[0].offset:0,nt=$.reduce((function(ct,wt){return ct+wt.size}),0),at={offset:K,size:nt};return d.set(U,at),U.order=f.subarray(K,K+nt),at},I=0,G=D;I<G.length;I++){var B=G[I];N(B)}},s.prototype.getRank=function(u){if(u<0||u>this.index2pos.length)return-1;var l=this.index2pos[u];return l!=null&&!Number.isNaN(l)&&l>0?l:-1},s.prototype.getOrder=function(){return this.order},s.prototype.getOrderLength=function(){return this.order.length},s.prototype.getGroups=function(){return this.groups.slice()},s.prototype.getFlatGroups=function(){var u,l,f,d=[];return u=this.groups,l=function(_){d.push(_)},f=function(_){l(_)!==!1&&Xv(_)&&_.subGroups.forEach(f)},hb(u).forEach(f),d},s.prototype.dump=function(u){var l={};return l.columns=this.columns.map((function(f){return f.dump(u)})),l.sortCriteria=this.sortCriteria.map((function(f){return{asc:f.asc,sortBy:f.col.id}})),l.groupSortCriteria=this.groupSortCriteria.map((function(f){return{asc:f.asc,sortBy:f.col.id}})),l.groupColumns=this.groupColumns.map((function(f){return f.id})),l},s.prototype.restore=function(u,l){var f=this;if(this.clear(),(u.columns||[]).forEach((function(x){var T=l(x);T&&f.push(T)})),u.sortColumn&&u.sortColumn.sortBy){var d=this.columns.find((function(x){return x.id===u.sortColumn.sortBy}));d&&this.sortBy(d,u.sortColumn.asc)}if(u.groupColumns){var _=u.groupColumns.map((function(x){return f.columns.find((function(T){return T.id===x}))})).filter((function(x){return x!=null}));this.setGroupCriteria(_)}var w=function(x){return x.map((function(T){return{asc:T.asc,col:f.columns.find((function(D){return D.id===T.sortBy}))||null}})).filter((function(T){return T.col}))};u.sortCriteria&&this.setSortCriteria(w(u.sortCriteria)),u.groupSortCriteria&&this.setGroupSortCriteria(w(u.groupSortCriteria))},s.prototype.flatten=function(u,l,f,d){f===void 0&&(f=0),d===void 0&&(d=0);var _=l;return(f>0||f<=vt.FLAT_ALL_COLUMNS)&&this.columns.forEach((function(w){w.getVisible()&&f<=vt.FLAT_ALL_COLUMNS&&(_+=w.flatten(u,_,f-1,d)+d)})),_-l},s.prototype.getPrimarySortCriteria=function(){return this.sortCriteria.length===0?null:this.sortCriteria[0]},s.prototype.getSortCriteria=function(){return this.sortCriteria.map((function(u){return Object.assign({},u)}))},s.prototype.getGroupSortCriteria=function(){return this.groupSortCriteria.map((function(u){return Object.assign({},u)}))},s.prototype.toggleSorting=function(u){return this.setSortCriteria(this.toggleSortingLogic(u,this.sortCriteria))},s.prototype.toggleSortingLogic=function(u,l){var f=l.slice(),d=f.findIndex((function(w){return w.col===u})),_=Ms(u);return d<0?f.splice(0,f.length,{col:u,asc:_}):f[d].asc===_?f.splice(d,1,{col:u,asc:!_}):f.splice(d,1),f},s.prototype.toggleGrouping=function(u){var l=this.groupColumns.indexOf(u);if(l>=0){var f=this.groupColumns.slice();return f.splice(l,1),this.setGroupCriteria(f)}return this.setGroupCriteria([u])},s.prototype.getGroupCriteria=function(){return this.groupColumns.slice()},s.prototype.sortBy=function(u,l,f){return l===void 0&&(l=!1),f===void 0&&(f=0),u.findMyRanker()===this&&this.setSortCriteria(this.hierarchyLogic(this.sortCriteria,this.sortCriteria.findIndex((function(d){return d.col===u})),{col:u,asc:l},f))},s.prototype.groupSortBy=function(u,l,f){return l===void 0&&(l=!1),f===void 0&&(f=0),u.findMyRanker()===this&&this.setGroupSortCriteria(this.hierarchyLogic(this.groupSortCriteria,this.groupSortCriteria.findIndex((function(d){return d.col===u})),{col:u,asc:l},f))},s.prototype.hierarchyLogic=function(u,l,f,d){return u=u.slice(),l>=0?(u.splice(l,1),d>=0&&u.splice(Math.min(d,u.length),0,f)):d>=0&&(u[Math.min(d,u.length)]=f),u},s.prototype.groupBy=function(u,l){return l===void 0&&(l=0),u.findMyRanker()===this&&this.setGroupCriteria(this.hierarchyLogic(this.groupColumns,this.groupColumns.indexOf(u),u,l))},s.prototype.setSortCriteria=function(u){var l,f=this,d=Array.isArray(u)?u.slice():[u],_=this.sortCriteria.slice();return!MD(d,_)&&(_.forEach((function(w){w.col.on(s.COLUMN_SORT_DIRTY,null)})),d.forEach((function(w){w.col.on(s.COLUMN_SORT_DIRTY,f.dirtyOrderSortDirty)})),(l=this.sortCriteria).splice.apply(l,Hc([0,this.sortCriteria.length],d.slice(),!1)),this.triggerResort(_),!0)},s.prototype.setGroupCriteria=function(u){var l,f=this,d=Array.isArray(u)?u:[u];if(ye(this.groupColumns,d))return!0;this.groupColumns.forEach((function(w){w.on(s.COLUMN_GROUP_DIRTY,null)}));var _=this.groupColumns.slice();return(l=this.groupColumns).splice.apply(l,Hc([0,this.groupColumns.length],d,!1)),this.groupColumns.forEach((function(w){w.on(s.COLUMN_GROUP_DIRTY,f.dirtyOrderGroupDirty)})),this.fire([s.EVENT_GROUP_CRITERIA_CHANGED,s.EVENT_DIRTY_ORDER,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES,s.EVENT_DIRTY],_,this.getGroupCriteria()),this.autoAdaptAggregationColumn(),!0},s.prototype.autoAdaptAggregationColumn=function(){var u=this.groupColumns.reduce((function(d,_){return d+(_ instanceof Gl?2:1)}),0),l=this.children.find((function(d){return d instanceof Xh}));if(l){var f=u*ED;f>l.getWidth()&&l.setWidth(f)}},s.prototype.toggleGroupSorting=function(u){return this.setGroupSortCriteria(this.toggleSortingLogic(u,this.groupSortCriteria))},s.prototype.setGroupSortCriteria=function(u){var l,f=this,d=Array.isArray(u)?u.slice():[u],_=this.groupSortCriteria.slice();return!MD(d,_)&&(_.forEach((function(w){w.col.on(s.COLUMN_GROUP_SORT_DIRTY,null)})),d.forEach((function(w){w.col.on(s.COLUMN_GROUP_SORT_DIRTY,f.dirtyOrderGroupSortDirty)})),(l=this.groupSortCriteria).splice.apply(l,Hc([0,this.groupSortCriteria.length],d.slice(),!1)),this.triggerGroupResort(_),!0)},s.prototype.triggerGroupResort=function(u){var l=this.getGroupSortCriteria(),f=Array.isArray(u)?u:l;this.fire([s.EVENT_GROUP_SORT_CRITERIA_CHANGED,s.EVENT_DIRTY_ORDER,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],f,l)},s.prototype.triggerResort=function(u){var l=this.getSortCriteria(),f=Array.isArray(u)?u:l;this.fire([s.EVENT_SORT_CRITERIA_CHANGED,s.EVENT_DIRTY_ORDER,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],f,l)},Object.defineProperty(s.prototype,"children",{get:function(){return this.columns.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"length",{get:function(){return this.columns.length},enumerable:!1,configurable:!0}),s.prototype.insert=function(u,l){var f=this;return l===void 0&&(l=this.columns.length),this.columns.splice(l,0,u),u.attach(this),this.forward.apply(this,Hc([u],s.FORWARD_COLUMN_EVENTS,!1)),u.on("".concat(s.EVENT_FILTER_CHANGED,".order"),this.dirtyOrderFiltering),u.on("".concat(vt.EVENT_VISIBILITY_CHANGED,".ranking"),(function(d,_){return f.fire([s.EVENT_COLUMN_VISIBILITY_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,d,_)})),this.fire([s.EVENT_ADD_COLUMN,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l),u.isFiltered()&&this.dirtyOrderFiltering(),u},s.prototype.move=function(u,l){if(l===void 0&&(l=this.columns.length),u.parent!==this)return console.error("invalid move operation: ",u),null;var f=this.columns.indexOf(u);return l===f||(this.columns.splice(f,1),this.columns.splice(f<l?l-1:l,0,u),this.fire([s.EVENT_MOVE_COLUMN,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l,f)),u},s.prototype.moveAfter=function(u,l){var f=this.columns.indexOf(l);return f<0?null:this.move(u,f+1)},s.prototype.moveBefore=function(u,l){var f=this.columns.indexOf(l);return f<0?null:this.move(u,f)},Object.defineProperty(s.prototype,"fqpath",{get:function(){return""},enumerable:!1,configurable:!0}),s.prototype.findByPath=function(u){for(var l=this,f=u.split("@").map(Number).slice(1);f.length>0;){var d=f.shift();l=l.at(d)}return l},s.prototype.indexOf=function(u){return this.columns.indexOf(u)},s.prototype.at=function(u){return this.columns[u]},s.prototype.insertAfter=function(u,l){var f=this.columns.indexOf(l);return f<0?null:this.insert(u,f+1)},s.prototype.insertBefore=function(u,l){var f=this.columns.indexOf(l);return f<0?null:this.insert(u,f)},s.prototype.push=function(u){return this.insert(u)},s.prototype.remove=function(u){var l=this.columns.indexOf(u);if(l<0)return!1;this.unforward.apply(this,Hc([u],s.FORWARD_COLUMN_EVENTS,!1));var f=this.sortCriteria.findIndex((function(D){return D.col===u})),d=f>=0;d&&this.sortCriteria.splice(f,1);var _=this.groupSortCriteria.findIndex((function(D){return D.col===u})),w=_>=0;w&&this.groupSortCriteria.splice(_,1);var x=null,T=this.groupColumns.indexOf(u);return T>=0&&(x=this.groupColumns.slice()).splice(T,1),u.detach(),this.columns.splice(l,1),this.fire([s.EVENT_REMOVE_COLUMN,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l),x?this.setGroupCriteria(x):d?this.triggerResort(null):w?this.triggerGroupResort(null):u.isFiltered()&&this.dirtyOrderFiltering(),!0},s.prototype.clear=function(){var u=this;if(this.columns.length!==0){this.sortCriteria.forEach((function(f){f.col.on("".concat(vt.EVENT_DIRTY_CACHES,".order"),null)})),this.sortCriteria.splice(0,this.sortCriteria.length),this.groupSortCriteria.forEach((function(f){f.col.on(s.COLUMN_GROUP_SORT_DIRTY,null)})),this.groupSortCriteria.splice(0,this.groupSortCriteria.length),this.groupColumns.forEach((function(f){f.on(s.COLUMN_GROUP_DIRTY,null)})),this.groupColumns.splice(0,this.groupColumns.length),this.columns.forEach((function(f){u.unforward.apply(u,Hc([f],s.FORWARD_COLUMN_EVENTS,!1)),f.detach()}));var l=this.columns.splice(0,this.columns.length);this.fire([s.EVENT_REMOVE_COLUMN,s.EVENT_DIRTY_ORDER,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],l)}},Object.defineProperty(s.prototype,"flatColumns",{get:function(){var u=[];return this.flatten(u,0,vt.FLAT_ALL_COLUMNS),u.map((function(l){return l.col}))},enumerable:!1,configurable:!0}),s.prototype.find=function(u){for(var l=typeof u=="string"?function(w){return w.id===u}:u,f=0,d=this.flatColumns;f<d.length;f++){var _=d[f];if(l(_))return _}return null},s.prototype.isFiltered=function(){return this.columns.some((function(u){return u.isFiltered()}))},s.prototype.filter=function(u){return this.columns.every((function(l){return l.filter(u)}))},s.prototype.clearFilters=function(){return this.columns.map((function(u){return u.clearFilter()})).some((function(u){return u}))},s.prototype.findMyRanker=function(){return this},Object.defineProperty(s.prototype,"fqid",{get:function(){return this.id},enumerable:!1,configurable:!0}),s.prototype.markDirty=function(u){switch(u===void 0&&(u="all"),u){case"header":return this.fire([vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY]);case"values":return this.fire([vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY]);default:return this.fire([vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY])}},s.EVENT_WIDTH_CHANGED=vt.EVENT_WIDTH_CHANGED,s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_LABEL_CHANGED=vt.EVENT_LABEL_CHANGED,s.EVENT_ADD_COLUMN=hn.EVENT_ADD_COLUMN,s.EVENT_MOVE_COLUMN=hn.EVENT_MOVE_COLUMN,s.EVENT_REMOVE_COLUMN=hn.EVENT_REMOVE_COLUMN,s.EVENT_DIRTY=vt.EVENT_DIRTY,s.EVENT_DIRTY_HEADER=vt.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES=vt.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES=vt.EVENT_DIRTY_CACHES,s.EVENT_COLUMN_VISIBILITY_CHANGED=vt.EVENT_VISIBILITY_CHANGED,s.EVENT_SORT_CRITERIA_CHANGED="sortCriteriaChanged",s.EVENT_GROUP_CRITERIA_CHANGED="groupCriteriaChanged",s.EVENT_GROUP_SORT_CRITERIA_CHANGED="groupSortCriteriaChanged",s.EVENT_DIRTY_ORDER="dirtyOrder",s.EVENT_ORDER_CHANGED="orderChanged",s.EVENT_GROUPS_CHANGED="groupsChanged",s.FORWARD_COLUMN_EVENTS=Ve(".ranking",vt.EVENT_VISIBILITY_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY,vt.EVENT_VISIBILITY_CHANGED,s.EVENT_FILTER_CHANGED),s.COLUMN_GROUP_SORT_DIRTY=Ve(".groupOrder",vt.EVENT_DIRTY_CACHES,"sortMethodChanged"),s.COLUMN_SORT_DIRTY=Ve(".order",vt.EVENT_DIRTY_CACHES),s.COLUMN_GROUP_DIRTY=Ve(".group",vt.EVENT_DIRTY_CACHES,"groupingChanged"),s})(pa);const fe=A9;function MD(p,s){return p.length===s.length&&p.every((function(u,l){var f=s[l];return u.col===f.col&&u.asc===f.asc}))}function Ba(p,s,u){s===void 0&&(s=100);var l=-1,f=null;return function(){for(var d=[],_=0;_<arguments.length;_++)d[_]=arguments[_];l>=0&&(clearTimeout(l),l=-1);var w={self:this,args:d};f=f&&u?u(f,w):w,l=setTimeout((function(){console.assert(f!=null),p.apply(f.self,f.args),f=null}),s)}}var M9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function zc(p){return p===void 0&&(p="Rank"),{type:"rank",label:p}}var D9=(function(p){function s(u,l){return p.call(this,u,cr(l,{width:50}))||this}return M9(s,p),s.prototype.getLabel=function(u){return String(this.getValue(u))},s.prototype.getRaw=function(u){var l=this.findMyRanker();return l?l.getRank(u.i):-1},s.prototype.getValue=function(u){var l=this.getRaw(u);return l===-1?null:l},Object.defineProperty(s.prototype,"frozen",{get:function(){return this.desc.frozen!==!1},enumerable:!1,configurable:!0}),(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([kc(),on("support")],s)})(vt);const tg=D9;var L9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function eg(p){return p===void 0&&(p="Selections"),{type:"selection",label:p}}var N9=(function(p){function s(l,f){var d=p.call(this,l,cr(f,{width:50}))||this;return d.currentFilter=null,d}var u;return L9(s,p),u=s,Object.defineProperty(s.prototype,"frozen",{get:function(){return this.desc.frozen!==!1},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_SELECT,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.setValue=function(l,f){return this.getValue(l)===f||this.setImpl(l,f)},s.prototype.setValues=function(l,f){return l.length!==0&&(this.desc.setterAll&&this.desc.setterAll(l,f),this.fire(u.EVENT_SELECT,l[0],f,l),!0)},s.prototype.setImpl=function(l,f){return this.desc.setter&&this.desc.setter(l.i,f),this.fire(u.EVENT_SELECT,l.i,f),!0},s.prototype.toggleValue=function(l){var f=this.getValue(l);return this.setImpl(l,!f),!f},s.prototype.toCompareValue=function(l){return this.getValue(l)===!0?1:0},s.prototype.toCompareValueType=function(){return tt.BINARY},s.prototype.group=function(l){var f=this.getValue(l);return Object.assign({},f?u.SELECTED_GROUP:u.NOT_SELECTED_GROUP)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.filter=this.currentFilter?Array.from(this.currentFilter).sort((function(d,_){return d-_})):null,f},s.prototype.restore=function(l,f){if(p.prototype.restore.call(this,l,f),l.filter){var d=l.filter;this.currentFilter=new Set(d)}else this.currentFilter=null},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l){return!this.isFiltered()||this.currentFilter.has(l.i)},s.prototype.getFilter=function(){return this.currentFilter==null?null:Array.from(this.currentFilter)},s.prototype.setFilter=function(l){var f,d,_,w,x=l?new Set(l):null;f=x,d=this.currentFilter,_=f!=null?f.size:0,w=d!=null?d.size:0,_===w&&(_===0||w===0||Array.from(f).every((function(T){return d.has(T)})))||this.fire([u.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.currentFilter,this.currentFilter=x)},s.prototype.clearFilter=function(){var l=this.isFiltered();return this.setFilter(null),l},s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_SELECT="select",s.SELECTED_GROUP={name:"Selected",color:"orange"},s.NOT_SELECTED_GROUP={name:"Unselected",color:"gray"},u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([kc(),$e("sort","sortBy","group","groupBy","clearSelection","invertSelection","filterSelection"),on("support")],s)})(Er);const wb=N9;var R9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function I9(p,s,u){return p===void 0&&(p="actions"),s===void 0&&(s=[]),u===void 0&&(u=[]),{type:"actions",label:p,actions:s,groupActions:u,fixed:!0}}var O9=(function(p){function s(u,l){var f=p.call(this,u,l)||this;return f.actions=l.actions||[],f.groupActions=l.groupActions||[],f}return R9(s,p),s.prototype.getLabel=function(){return""},s.prototype.getValue=function(){return""},s.prototype.compare=function(){return 0},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([kc(),on("support")],s)})(vt);const xb=O9;var Ho,Tn,P9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();(function(p){p.left="left",p.center="center",p.right="right"})(Ho||(Ho={})),(function(p){p.value="value",p.startsWith="startsWith",p.regex="regex"})(Tn||(Tn={}));var k9=(function(p){function s(l,f){var d,_=p.call(this,l,cr(f,{width:200}))||this;return _.currentFilter=null,_.currentGroupCriteria={type:Tn.startsWith,values:[]},_.alignment=(d=f.alignment)!==null&&d!==void 0?d:Ho.left,_.escape=f.escape!==!1,_}var u;return P9(s,p),u=s,s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_GROUPING_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getValue=function(l){var f=p.prototype.getValue.call(this,l);return Gr(f)?null:String(f)},s.prototype.getLabel=function(l){return this.getValue(l)||""},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);if(this.currentFilter?this.currentFilter.filter instanceof RegExp?f.filter={filter:"REGEX:".concat(this.currentFilter.filter.source),filterMissing:this.currentFilter.filterMissing,filterType:Q.regex}:f.filter={filter:this.currentFilter.filter,filterMissing:this.currentFilter.filterMissing,filterType:this.currentFilter.filterType}:f.filter=this.currentFilter,this.currentGroupCriteria){var d=this.currentGroupCriteria,_=d.type,w=d.values;f.groupCriteria={type:_,values:w.map((function(x){return x instanceof RegExp&&_===Tn.regex?x.source:x}))}}return f},s.prototype.restore=function(l,f){if(p.prototype.restore.call(this,l,f),l.filter){var d=l.filter;typeof d=="string"?d.startsWith("REGEX:")?this.currentFilter={filter:new RegExp(d.slice(6),"mi"),filterMissing:!1,filterType:Q.regex}:d===u.FILTER_MISSING?this.currentFilter={filter:null,filterMissing:!0,filterType:Q.contains}:this.currentFilter={filter:d,filterMissing:!1,filterType:Q.contains}:this.currentFilter={filter:d.filter&&d.filter.startsWith("REGEX:")?new RegExp(d.filter.slice(6),"mi"):d.filter||"",filterMissing:d.filterMissing===!0,filterType:d.filterType||Q.contains}}else this.currentFilter=null;if(l.groupCriteria){var _=l.groupCriteria,w=_.type,x=_.values;this.currentGroupCriteria={type:w,values:x.map((function(T){return w===Tn.regex?new RegExp(T,"mi"):T}))}}},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l){if(!this.isFiltered())return!0;var f=this.getLabel(l),d=this.currentFilter,_=d.filter,w=d.filterType||Q.contains;if(f==null||f.trim()==="")return!d.filterMissing;if(!_)return!0;if(_ instanceof RegExp)return f!==""&&f.match(_)!=null;if(w===Q.exact)return f!==""&&f.toLowerCase()===_.toLowerCase();var x=Ct(_);if(x.length>1)return f!==""&&Dt(f,x,w);if(x.length===1){var T=f.toLowerCase(),D=x[0].toLowerCase();switch(w){case Q.startsWith:return f!==""&&T.startsWith(D);case Q.contains:default:return f!==""&&T.includes(D)}}var N=f.toLowerCase(),I=_.toLowerCase();switch(w){case Q.startsWith:return f!==""&&N.startsWith(I);case Q.contains:default:return f!==""&&N.includes(I)}},s.prototype.getFilter=function(){return this.currentFilter},s.prototype.setFilter=function(l){if(l!==this.currentFilter){var f=this.currentFilter||{filter:null,filterMissing:!1,filterType:Q.contains},d=l||{filter:null,filterMissing:!1,filterType:Q.contains};l&&l.filterType===void 0&&(l.filterType=Q.contains),f.filterMissing===d.filterMissing&&f.filterType===d.filterType&&(f.filter===d.filter||f.filter instanceof RegExp&&d.filter instanceof RegExp&&f.filter.source===d.filter.source)||this.fire([u.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.currentFilter,this.currentFilter=l)}},s.prototype.clearFilter=function(){var l=this.isFiltered();return this.setFilter(null),l},s.prototype.getGroupCriteria=function(){return this.currentGroupCriteria},s.prototype.setGroupCriteria=function(l){if(!ke(this.currentGroupCriteria,l)&&l!=null){var f=this.getGroupCriteria();this.currentGroupCriteria=l,this.fire([u.EVENT_GROUPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],f,l)}},s.prototype.group=function(l){if(this.getValue(l)==null)return Object.assign({},Bo);if(!this.currentGroupCriteria)return Object.assign({},St);var f=this.getLabel(l);if(!f)return Object.assign({},Bo);var d=this.currentGroupCriteria,_=d.type,w=d.values;if(_===Tn.value)return{name:f,color:ft.color};if(_===Tn.startsWith){for(var x=0,T=w;x<T.length;x++)if(typeof(I=T[x])=="string"&&f.startsWith(I))return{name:I,color:ft.color};return Object.assign({},St)}for(var D=0,N=w;D<N.length;D++){var I;if((I=N[D])instanceof RegExp&&I.test(f))return{name:I.source,color:ft.color}}return Object.assign({},St)},s.prototype.toCompareValue=function(l){var f=this.getValue(l);return f===""||f==null?null:f.toLowerCase()},s.prototype.toCompareValueType=function(){return tt.STRING},s.prototype.toCompareGroupValue=function(l,f,d){var _=this;return y(l)?null:d?d.reduce((function(w,x){return w==null||x<w?x:w}),null):l.reduce((function(w,x){var T=_.getValue(x);return w==null||T!=null&&T<w?T:w}),null)},s.prototype.toCompareGroupValueType=function(){return tt.STRING},s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_GROUPING_CHANGED="groupingChanged",s.FILTER_MISSING="__FILTER_MISSING",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","search","groupBy","sortGroupBy","filterString"),pi("group","groupString"),on("string")],s)})(Er);const Dr=k9;var V9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),G9=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.annotations=new Map,u}return V9(s,p),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_VALUE_CHANGED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.getValue=function(u){return this.annotations.has(u.i)?this.annotations.get(u.i):p.prototype.getValue.call(this,u)},s.prototype.dump=function(u){var l=p.prototype.dump.call(this,u);return l.annotations={},this.annotations.forEach((function(f,d){l.annotations[d]=f})),l},s.prototype.restore=function(u,l){var f=this;p.prototype.restore.call(this,u,l),u.annotations&&Object.keys(u.annotations).forEach((function(d){f.annotations.set(Number(d),u.annotations[d])}))},s.prototype.setValue=function(u,l){var f=this.getValue(u);return f===l||(l===""||l==null?this.annotations.delete(u.i):this.annotations.set(u.i,l),this.fire([s.EVENT_VALUE_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],u.i,f,l)),!0},s.EVENT_VALUE_CHANGED="valueChanged",s})(Dr);const Eb=G9;var F9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),B9=(function(p){function s(l,f){var d,_,w=p.call(this,l,cr(f,{width:30,renderer:"categorical",groupRenderer:"categorical",summaryRenderer:"categorical"}))||this;return w.currentFilter=null,w.categories=[{name:(d=f.trueMarker)!==null&&d!==void 0?d:"",color:u.GROUP_TRUE.color,label:u.GROUP_TRUE.name,value:0},{name:(_=f.falseMarker)!==null&&_!==void 0?_:"",color:u.GROUP_FALSE.color,label:u.GROUP_FALSE.name,value:1}],w.colorMapping=di,w}var u;return F9(s,p),u=s,s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},Object.defineProperty(s.prototype,"dataLength",{get:function(){return this.categories.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"labels",{get:function(){return this.categories.map((function(l){return l.label}))},enumerable:!1,configurable:!0}),s.prototype.getValue=function(l){var f,d=p.prototype.getValue.call(this,l);if(d===void 0||d==null)return null;var _=(f=this.desc.trueValues)!==null&&f!==void 0?f:u.DEFAULT_TRUE_VALUES,w=String(d).toLowerCase();return _.some((function(x){return x===d||x===w}))},s.prototype.getCategoryOfBoolean=function(l){return l==null?null:this.categories[l?0:1]},s.prototype.getCategory=function(l){var f=this.getValue(l);return f==null?null:this.categories[f?0:1]},s.prototype.getCategories=function(l){return[this.getCategory(l)]},s.prototype.iterCategory=function(l){return[this.getCategory(l)]},s.prototype.getColor=function(l){return Se.prototype.getColor.call(this,l)},s.prototype.getLabel=function(l){return Se.prototype.getLabel.call(this,l)},s.prototype.getLabels=function(l){return Se.prototype.getLabels.call(this,l)},s.prototype.getValues=function(l){return Se.prototype.getValues.call(this,l)},s.prototype.getMap=function(l){return Se.prototype.getMap.call(this,l)},s.prototype.getMapLabel=function(l){return Se.prototype.getMapLabel.call(this,l)},s.prototype.getSet=function(l){var f=this.getValue(l),d=new Set;return f!=null&&d.add(this.categories[f?0:1]),d},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.colorMapping=this.colorMapping.toJSON(),this.currentFilter!=null&&(f.filter=this.currentFilter),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories),typeof l.filter=="boolean"?this.currentFilter={filter:[this.getCategoryOfBoolean(l.filter).name],filterMissing:!1}:l.filter!==void 0&&(this.currentFilter=l.filter)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([Se.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l){return Vl(this.currentFilter,this.getCategory(l))},s.prototype.getFilter=function(){return this.currentFilter==null?null:Object.assign({},this.currentFilter)},s.prototype.setFilter=function(l){var f=typeof l=="boolean"?{filter:[this.getCategoryOfBoolean(l).name],filterMissing:!1}:l;Sb(this.currentFilter,f)||this.fire([u.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.currentFilter,this.currentFilter=f)},s.prototype.clearFilter=function(){var l=this.isFiltered();return this.setFilter(null),l},s.prototype.toCompareValue=function(l){var f=this.getValue(l);return f==null?NaN:f?1:0},s.prototype.toCompareValueType=function(){return tt.BINARY},s.prototype.group=function(l){var f=this.getValue(l);return f==null?Object.assign({},Bo):Object.assign({},f?u.GROUP_TRUE:u.GROUP_FALSE)},s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_COLOR_MAPPING_CHANGED="colorMappingChanged",s.GROUP_TRUE={name:"True",color:"#444444"},s.GROUP_FALSE={name:"False",color:"#dddddd"},s.DEFAULT_TRUE_VALUES=["y","yes","true",!0,"1","1.0",1,1,"on"],u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","group","groupBy","filterCategorical","colorMappedCategorical"),on("categorical")],s)})(Er);const rg=B9;var H9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),z9=(function(p){function s(u,l){var f=p.call(this,u,l)||this;return f._dataLength=l.dataLength==null||Number.isNaN(l.dataLength)?null:l.dataLength,f.originalLabels=l.labels||W(f._dataLength==null?0:f._dataLength).map((function(d,_){return"Column ".concat(_)})),f}return H9(s,p),Object.defineProperty(s.prototype,"labels",{get:function(){return this.originalLabels},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dataLength",{get:function(){return this._dataLength},enumerable:!1,configurable:!0}),s.prototype.getValue=function(u){var l=this.getValues(u);return l.every((function(f){return f===null}))?null:l},s.prototype.getValues=function(u){var l=p.prototype.getValue.call(this,u);return l??[]},s.prototype.getLabels=function(u){return this.getValues(u).map(String)},s.prototype.getLabel=function(u){var l=this.getLabels(u);return l.length===0?"":l.toString()},s.prototype.getMap=function(u){var l=this.labels;return this.getValues(u).map((function(f,d){return{key:l[d],value:f}}))},s.prototype.getMapLabel=function(u){var l=this.labels;return this.getLabels(u).map((function(f,d){return{key:l[d],value:f}}))},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([on("array")],s)})(Er);const Fl=z9;var U9=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),W9=(function(p){function s(l,f){var d=p.call(this,l,cr(f,{renderer:"upset"}))||this;return d.colorMapping=di,d}var u;return U9(s,p),u=s,Object.defineProperty(s.prototype,"categories",{get:function(){return this.labels.map((function(l,f){return TD(l,f)}))},enumerable:!1,configurable:!0}),s.prototype.getSet=function(l){var f=this.getValues(l);return new Set(this.categories.filter((function(d,_){return f[_]})))},s.prototype.toCompareValue=function(l){var f=this.getValue(l);return f==null?NaN:f.reduce((function(d,_){return d+(_?1:0)}),0)},s.prototype.toCompareValueType=function(){return vb(this.dataLength)},s.prototype.getCategories=function(l){var f=this.categories;return p.prototype.getValues.call(this,l).map((function(d,_){return d?f[_]:null}))},s.prototype.iterCategory=function(l){return this.getCategories(l)},s.prototype.getColors=function(l){var f=this;return this.getCategories(l).map((function(d){return d?f.colorMapping.apply(d):Ie}))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){return Se.prototype.setColorMapping.call(this,l)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories)},s.EVENT_COLOR_MAPPING_CHANGED=Se.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy")],s)})(Fl);const DD=W9;function ng(p,s){if((u=(p=s?p.toExponential(s-1):p.toExponential()).indexOf("e"))<0)return null;var u,l=p.slice(0,u);return[l.length>1?l[0]+l.slice(2):l,+p.slice(u+1)]}function Uc(p){return(p=ng(Math.abs(p)))?p[1]:NaN}var LD,j9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kh(p){if(!(s=j9.exec(p)))throw new Error("invalid format: "+p);var s;return new Tb({fill:s[1],align:s[2],sign:s[3],symbol:s[4],zero:s[5],width:s[6],comma:s[7],precision:s[8]&&s[8].slice(1),trim:s[9],type:s[10]})}function Tb(p){this.fill=p.fill===void 0?" ":p.fill+"",this.align=p.align===void 0?">":p.align+"",this.sign=p.sign===void 0?"-":p.sign+"",this.symbol=p.symbol===void 0?"":p.symbol+"",this.zero=!!p.zero,this.width=p.width===void 0?void 0:+p.width,this.comma=!!p.comma,this.precision=p.precision===void 0?void 0:+p.precision,this.trim=!!p.trim,this.type=p.type===void 0?"":p.type+""}function ND(p,s){var u=ng(p,s);if(!u)return p+"";var l=u[0],f=u[1];return f<0?"0."+new Array(-f).join("0")+l:l.length>f+1?l.slice(0,f+1)+"."+l.slice(f+1):l+new Array(f-l.length+2).join("0")}Kh.prototype=Tb.prototype,Tb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const RD={"%":(p,s)=>(100*p).toFixed(s),b:p=>Math.round(p).toString(2),c:p=>p+"",d:function(p){return Math.abs(p=Math.round(p))>=1e21?p.toLocaleString("en").replace(/,/g,""):p.toString(10)},e:(p,s)=>p.toExponential(s),f:(p,s)=>p.toFixed(s),g:(p,s)=>p.toPrecision(s),o:p=>Math.round(p).toString(8),p:(p,s)=>ND(100*p,s),r:ND,s:function(p,s){var u=ng(p,s);if(!u)return p+"";var l=u[0],f=u[1],d=f-(LD=3*Math.max(-8,Math.min(8,Math.floor(f/3))))+1,_=l.length;return d===_?l:d>_?l+new Array(d-_+1).join("0"):d>0?l.slice(0,d)+"."+l.slice(d):"0."+new Array(1-d).join("0")+ng(p,Math.max(0,s+d-1))[0]},X:p=>Math.round(p).toString(16).toUpperCase(),x:p=>Math.round(p).toString(16)};function ID(p){return p}var Cb,Wi,OD,PD=Array.prototype.map,kD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];Cb=(function(p){var s,u,l=p.grouping===void 0||p.thousands===void 0?ID:(s=PD.call(p.grouping,Number),u=p.thousands+"",function(I,G){for(var B=I.length,U=[],$=0,K=s[0],nt=0;B>0&&K>0&&(nt+K+1>G&&(K=Math.max(1,G-nt)),U.push(I.substring(B-=K,B+K)),!((nt+=K+1)>G));)K=s[$=($+1)%s.length];return U.reverse().join(u)}),f=p.currency===void 0?"":p.currency[0]+"",d=p.currency===void 0?"":p.currency[1]+"",_=p.decimal===void 0?".":p.decimal+"",w=p.numerals===void 0?ID:(function(I){return function(G){return G.replace(/[0-9]/g,(function(B){return I[+B]}))}})(PD.call(p.numerals,String)),x=p.percent===void 0?"%":p.percent+"",T=p.minus===void 0?"":p.minus+"",D=p.nan===void 0?"NaN":p.nan+"";function N(I){var G=(I=Kh(I)).fill,B=I.align,U=I.sign,$=I.symbol,K=I.zero,nt=I.width,at=I.comma,ct=I.precision,wt=I.trim,Tt=I.type;Tt==="n"?(at=!0,Tt="g"):RD[Tt]||(ct===void 0&&(ct=12),wt=!0,Tt="g"),(K||G==="0"&&B==="=")&&(K=!0,G="0",B="=");var Ot=$==="$"?f:$==="#"&&/[boxX]/.test(Tt)?"0"+Tt.toLowerCase():"",Wt=$==="$"?d:/[%p]/.test(Tt)?x:"",ut=RD[Tt],kt=/[defgprs%]/.test(Tt);function jt(Nt){var te,zt,Le,Ge=Ot,qe=Wt;if(Tt==="c")qe=ut(Nt)+qe,Nt="";else{var gi=(Nt=+Nt)<0||1/Nt<0;if(Nt=isNaN(Nt)?D:ut(Math.abs(Nt),ct),wt&&(Nt=(function(Mr){t:for(var Dn,Qn=Mr.length,Tr=1,Rr=-1;Tr<Qn;++Tr)switch(Mr[Tr]){case".":Rr=Dn=Tr;break;case"0":Rr===0&&(Rr=Tr),Dn=Tr;break;default:if(!+Mr[Tr])break t;Rr>0&&(Rr=0)}return Rr>0?Mr.slice(0,Rr)+Mr.slice(Dn+1):Mr})(Nt)),gi&&+Nt==0&&U!=="+"&&(gi=!1),Ge=(gi?U==="("?U:T:U==="-"||U==="("?"":U)+Ge,qe=(Tt==="s"?kD[8+LD/3]:"")+qe+(gi&&U==="("?")":""),kt){for(te=-1,zt=Nt.length;++te<zt;)if(48>(Le=Nt.charCodeAt(te))||Le>57){qe=(Le===46?_+Nt.slice(te+1):Nt.slice(te))+qe,Nt=Nt.slice(0,te);break}}}at&&!K&&(Nt=l(Nt,1/0));var dn=Ge.length+Nt.length+qe.length,Jn=dn<nt?new Array(nt-dn+1).join(G):"";switch(at&&K&&(Nt=l(Jn+Nt,Jn.length?nt-qe.length:1/0),Jn=""),B){case"<":Nt=Ge+Nt+qe+Jn;break;case"=":Nt=Ge+Jn+Nt+qe;break;case"^":Nt=Jn.slice(0,dn=Jn.length>>1)+Ge+Nt+qe+Jn.slice(dn);break;default:Nt=Jn+Ge+Nt+qe}return w(Nt)}return ct=ct===void 0?6:/[gprs]/.test(Tt)?Math.max(1,Math.min(21,ct)):Math.max(0,Math.min(20,ct)),jt.toString=function(){return I+""},jt}return{format:N,formatPrefix:function(I,G){var B=N(((I=Kh(I)).type="f",I)),U=3*Math.max(-8,Math.min(8,Math.floor(Uc(G)/3))),$=Math.pow(10,-U),K=kD[8+U/3];return function(nt){return B($*nt)+K}}}})({thousands:",",grouping:[3],currency:["$",""]}),Wi=Cb.format,OD=Cb.formatPrefix;const Y9=Math.sqrt(50),$9=Math.sqrt(10),q9=Math.sqrt(2);function ig(p,s,u){const l=(s-p)/Math.max(0,u),f=Math.floor(Math.log10(l)),d=l/Math.pow(10,f),_=d>=Y9?10:d>=$9?5:d>=q9?2:1;let w,x,T;return f<0?(T=Math.pow(10,-f)/_,w=Math.round(p*T),x=Math.round(s*T),w/T<p&&++w,x/T>s&&--x,T=-T):(T=Math.pow(10,f)*_,w=Math.round(p/T),x=Math.round(s/T),w*T<p&&++w,x*T>s&&--x),x<w&&.5<=u&&u<2?ig(p,s,2*u):[w,x,T]}function Ab(p,s,u){if(!((u=+u)>0))return[];if((p=+p)==(s=+s))return[p];const l=s<p,[f,d,_]=l?ig(s,p,u):ig(p,s,u);if(!(d>=f))return[];const w=d-f+1,x=new Array(w);if(l)if(_<0)for(let T=0;T<w;++T)x[T]=(d-T)/-_;else for(let T=0;T<w;++T)x[T]=(d-T)*_;else if(_<0)for(let T=0;T<w;++T)x[T]=(f+T)/-_;else for(let T=0;T<w;++T)x[T]=(f+T)*_;return x}function Mb(p,s,u){return ig(p=+p,s=+s,u=+u)[2]}function ag(p,s){return p==null||s==null?NaN:p<s?-1:p>s?1:p>=s?0:NaN}function X9(p,s){return p==null||s==null?NaN:s<p?-1:s>p?1:s>=p?0:NaN}function VD(p){let s,u,l;function f(d,_,w=0,x=d.length){if(w<x){if(s(_,_)!==0)return x;do{const T=w+x>>>1;u(d[T],_)<0?w=T+1:x=T}while(w<x)}return w}return p.length!==2?(s=ag,u=(d,_)=>ag(p(d),_),l=(d,_)=>p(d)-_):(s=p===ag||p===X9?p:Z9,u=p,l=p),{left:f,center:function(d,_,w=0,x=d.length){const T=f(d,_,w,x-1);return T>w&&l(d[T-1],_)>-l(d[T],_)?T-1:T},right:function(d,_,w=0,x=d.length){if(w<x){if(s(_,_)!==0)return x;do{const T=w+x>>>1;u(d[T],_)<=0?w=T+1:x=T}while(w<x)}return w}}}function Z9(){return 0}const K9=VD(ag),J9=K9.right,Q9=(VD((function(p){return p===null?NaN:+p})).center,J9);function og(p,s,u){p.prototype=s.prototype=u,u.constructor=p}function Db(p,s){var u=Object.create(p.prototype);for(var l in s)u[l]=s[l];return u}function Wc(){}var Bl=.7,jc=1/Bl,Yc="\\s*([+-]?\\d+)\\s*",Jh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tU=/^#([0-9a-f]{3,8})$/,eU=new RegExp(`^rgb\\(${Yc},${Yc},${Yc}\\)$`),rU=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),nU=new RegExp(`^rgba\\(${Yc},${Yc},${Yc},${Jh}\\)$`),iU=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${Jh}\\)$`),aU=new RegExp(`^hsl\\(${Jh},${Ha},${Ha}\\)$`),oU=new RegExp(`^hsla\\(${Jh},${Ha},${Ha},${Jh}\\)$`),GD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function FD(){return this.rgb().formatHex()}function BD(){return this.rgb().formatRgb()}function Ei(p){var s,u;return p=(p+"").trim().toLowerCase(),(s=tU.exec(p))?(u=s[1].length,s=parseInt(s[1],16),u===6?HD(s):u===3?new kn(s>>8&15|s>>4&240,s>>4&15|240&s,(15&s)<<4|15&s,1):u===8?sg(s>>24&255,s>>16&255,s>>8&255,(255&s)/255):u===4?sg(s>>12&15|s>>8&240,s>>8&15|s>>4&240,s>>4&15|240&s,((15&s)<<4|15&s)/255):null):(s=eU.exec(p))?new kn(s[1],s[2],s[3],1):(s=rU.exec(p))?new kn(255*s[1]/100,255*s[2]/100,255*s[3]/100,1):(s=nU.exec(p))?sg(s[1],s[2],s[3],s[4]):(s=iU.exec(p))?sg(255*s[1]/100,255*s[2]/100,255*s[3]/100,s[4]):(s=aU.exec(p))?jD(s[1],s[2]/100,s[3]/100,1):(s=oU.exec(p))?jD(s[1],s[2]/100,s[3]/100,s[4]):GD.hasOwnProperty(p)?HD(GD[p]):p==="transparent"?new kn(NaN,NaN,NaN,0):null}function HD(p){return new kn(p>>16&255,p>>8&255,255&p,1)}function sg(p,s,u,l){return l<=0&&(p=s=u=NaN),new kn(p,s,u,l)}function zD(p){return p instanceof Wc||(p=Ei(p)),p?new kn((p=p.rgb()).r,p.g,p.b,p.opacity):new kn}function lg(p,s,u,l){return arguments.length===1?zD(p):new kn(p,s,u,l??1)}function kn(p,s,u,l){this.r=+p,this.g=+s,this.b=+u,this.opacity=+l}function UD(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}`}function WD(){const p=ug(this.opacity);return`${p===1?"rgb(":"rgba("}${Hl(this.r)}, ${Hl(this.g)}, ${Hl(this.b)}${p===1?")":`, ${p})`}`}function ug(p){return isNaN(p)?1:Math.max(0,Math.min(1,p))}function Hl(p){return Math.max(0,Math.min(255,Math.round(p)||0))}function zl(p){return((p=Hl(p))<16?"0":"")+p.toString(16)}function jD(p,s,u,l){return l<=0?p=s=u=NaN:u<=0||u>=1?p=s=NaN:s<=0&&(p=NaN),new da(p,s,u,l)}function YD(p){if(p instanceof da)return new da(p.h,p.s,p.l,p.opacity);if(p instanceof Wc||(p=Ei(p)),!p)return new da;if(p instanceof da)return p;var s=(p=p.rgb()).r/255,u=p.g/255,l=p.b/255,f=Math.min(s,u,l),d=Math.max(s,u,l),_=NaN,w=d-f,x=(d+f)/2;return w?(_=s===d?(u-l)/w+6*(u<l):u===d?(l-s)/w+2:(s-u)/w+4,w/=x<.5?d+f:2-d-f,_*=60):w=x>0&&x<1?0:_,new da(_,w,x,p.opacity)}function Qh(p,s,u,l){return arguments.length===1?YD(p):new da(p,s,u,l??1)}function da(p,s,u,l){this.h=+p,this.s=+s,this.l=+u,this.opacity=+l}function $D(p){return(p=(p||0)%360)<0?p+360:p}function cg(p){return Math.max(0,Math.min(1,p||0))}function Lb(p,s,u){return 255*(p<60?s+(u-s)*p/60:p<180?u:p<240?s+(u-s)*(240-p)/60:s)}function sU(p,s,u,l,f){var d=p*p,_=d*p;return((1-3*p+3*d-_)*s+(4-6*d+3*_)*u+(1+3*p+3*d-3*_)*l+_*f)/6}og(Wc,Ei,{copy(p){return Object.assign(new this.constructor,this,p)},displayable(){return this.rgb().displayable()},hex:FD,formatHex:FD,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return YD(this).formatHsl()},formatRgb:BD,toString:BD}),og(kn,lg,Db(Wc,{brighter(p){return p=p==null?jc:Math.pow(jc,p),new kn(this.r*p,this.g*p,this.b*p,this.opacity)},darker(p){return p=p==null?Bl:Math.pow(Bl,p),new kn(this.r*p,this.g*p,this.b*p,this.opacity)},rgb(){return this},clamp(){return new kn(Hl(this.r),Hl(this.g),Hl(this.b),ug(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UD,formatHex:UD,formatHex8:function(){return`#${zl(this.r)}${zl(this.g)}${zl(this.b)}${zl(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:WD,toString:WD})),og(da,Qh,Db(Wc,{brighter(p){return p=p==null?jc:Math.pow(jc,p),new da(this.h,this.s,this.l*p,this.opacity)},darker(p){return p=p==null?Bl:Math.pow(Bl,p),new da(this.h,this.s,this.l*p,this.opacity)},rgb(){var p=this.h%360+360*(this.h<0),s=isNaN(p)||isNaN(this.s)?0:this.s,u=this.l,l=u+(u<.5?u:1-u)*s,f=2*u-l;return new kn(Lb(p>=240?p-240:p+120,f,l),Lb(p,f,l),Lb(p<120?p+240:p-120,f,l),this.opacity)},clamp(){return new da($D(this.h),cg(this.s),cg(this.l),ug(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const p=ug(this.opacity);return`${p===1?"hsl(":"hsla("}${$D(this.h)}, ${100*cg(this.s)}%, ${100*cg(this.l)}%${p===1?")":`, ${p})`}`}}));const fg=p=>()=>p;function qD(p,s){return function(u){return p+u*s}}function $c(p,s){var u=s-p;return u?qD(p,u):fg(isNaN(p)?s:p)}const XD=(function p(s){var u=(function(f){return(f=+f)==1?$c:function(d,_){return _-d?(function(w,x,T){return w=Math.pow(w,T),x=Math.pow(x,T)-w,T=1/T,function(D){return Math.pow(w+D*x,T)}})(d,_,f):fg(isNaN(d)?_:d)}})(s);function l(f,d){var _=u((f=lg(f)).r,(d=lg(d)).r),w=u(f.g,d.g),x=u(f.b,d.b),T=$c(f.opacity,d.opacity);return function(D){return f.r=_(D),f.g=w(D),f.b=x(D),f.opacity=T(D),f+""}}return l.gamma=p,l})(1);function lU(p){return function(s){var u,l,f=s.length,d=new Array(f),_=new Array(f),w=new Array(f);for(u=0;u<f;++u)l=lg(s[u]),d[u]=l.r||0,_[u]=l.g||0,w[u]=l.b||0;return d=p(d),_=p(_),w=p(w),l.opacity=1,function(x){return l.r=d(x),l.g=_(x),l.b=w(x),l+""}}}var uU=lU((function(p){var s=p.length-1;return function(u){var l=u<=0?u=0:u>=1?(u=1,s-1):Math.floor(u*s),f=p[l],d=p[l+1],_=l>0?p[l-1]:2*f-d,w=l<s-1?p[l+2]:2*d-f;return sU((u-l/s)*s,_,f,d,w)}}));function cU(p,s){var u,l=s?s.length:0,f=p?Math.min(l,p.length):0,d=new Array(f),_=new Array(l);for(u=0;u<f;++u)d[u]=Ib(p[u],s[u]);for(;u<l;++u)_[u]=s[u];return function(w){for(u=0;u<f;++u)_[u]=d[u](w);return _}}function fU(p,s){var u=new Date;return p=+p,s=+s,function(l){return u.setTime(p*(1-l)+s*l),u}}function hg(p,s){return p=+p,s=+s,function(u){return p*(1-u)+s*u}}function hU(p,s){var u,l={},f={};for(u in p!==null&&typeof p=="object"||(p={}),s!==null&&typeof s=="object"||(s={}),s)u in p?l[u]=Ib(p[u],s[u]):f[u]=s[u];return function(d){for(u in l)f[u]=l[u](d);return f}}var Nb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rb=new RegExp(Nb.source,"g");function pU(p,s){var u,l,f,d=Nb.lastIndex=Rb.lastIndex=0,_=-1,w=[],x=[];for(p+="",s+="";(u=Nb.exec(p))&&(l=Rb.exec(s));)(f=l.index)>d&&(f=s.slice(d,f),w[_]?w[_]+=f:w[++_]=f),(u=u[0])===(l=l[0])?w[_]?w[_]+=l:w[++_]=l:(w[++_]=null,x.push({i:_,x:hg(u,l)})),d=Rb.lastIndex;return d<s.length&&(f=s.slice(d),w[_]?w[_]+=f:w[++_]=f),w.length<2?x[0]?(function(T){return function(D){return T(D)+""}})(x[0].x):(function(T){return function(){return T}})(s):(s=x.length,function(T){for(var D,N=0;N<s;++N)w[(D=x[N]).i]=D.x(T);return w.join("")})}function dU(p,s){s||(s=[]);var u,l=p?Math.min(s.length,p.length):0,f=s.slice();return function(d){for(u=0;u<l;++u)f[u]=p[u]*(1-d)+s[u]*d;return f}}function Ib(p,s){var u,l,f=typeof s;return s==null||f==="boolean"?fg(s):(f==="number"?hg:f==="string"?(u=Ei(s))?(s=u,XD):pU:s instanceof Ei?XD:s instanceof Date?fU:(l=s,!ArrayBuffer.isView(l)||l instanceof DataView?Array.isArray(s)?cU:typeof s.valueOf!="function"&&typeof s.toString!="function"||isNaN(s)?hU:hg:dU))(p,s)}function vU(p,s){return p=+p,s=+s,function(u){return Math.round(p*(1-u)+s*u)}}function gU(p){return+p}var ZD=[0,1];function za(p){return p}function Ob(p,s){return(s-=p=+p)?function(l){return(l-p)/s}:(u=isNaN(s)?NaN:.5,function(){return u});var u}function yU(p,s,u){var l=p[0],f=p[1],d=s[0],_=s[1];return f<l?(l=Ob(f,l),d=u(_,d)):(l=Ob(l,f),d=u(d,_)),function(w){return d(l(w))}}function mU(p,s,u){var l=Math.min(p.length,s.length)-1,f=new Array(l),d=new Array(l),_=-1;for(p[l]<p[0]&&(p=p.slice().reverse(),s=s.slice().reverse());++_<l;)f[_]=Ob(p[_],p[_+1]),d[_]=u(s[_],s[_+1]);return function(w){var x=Q9(p,w,1,l)-1;return d[x](f[x](w))}}function Pb(p,s){return s.domain(p.domain()).range(p.range()).interpolate(p.interpolate()).clamp(p.clamp()).unknown(p.unknown())}function kb(){var p,s,u,l,f,d,_=ZD,w=ZD,x=Ib,T=za;function D(){var I,G,B,U=Math.min(_.length,w.length);return T!==za&&(I=_[0],G=_[U-1],I>G&&(B=I,I=G,G=B),T=function($){return Math.max(I,Math.min(G,$))}),l=U>2?mU:yU,f=d=null,N}function N(I){return I==null||isNaN(I=+I)?u:(f||(f=l(_.map(p),w,x)))(p(T(I)))}return N.invert=function(I){return T(s((d||(d=l(w,_.map(p),hg)))(I)))},N.domain=function(I){return arguments.length?(_=Array.from(I,gU),D()):_.slice()},N.range=function(I){return arguments.length?(w=Array.from(I),D()):w.slice()},N.rangeRound=function(I){return w=Array.from(I),x=vU,D()},N.clamp=function(I){return arguments.length?(T=!!I||za,D()):T!==za},N.interpolate=function(I){return arguments.length?(x=I,D()):x},N.unknown=function(I){return arguments.length?(u=I,N):u},function(I,G){return p=I,s=G,D()}}function Vb(p,s){switch(arguments.length){case 0:break;case 1:this.range(p);break;default:this.range(s).domain(p)}return this}function KD(p){return Math.log(p)}function JD(p){return Math.exp(p)}function _U(p){return-Math.log(-p)}function bU(p){return-Math.exp(-p)}function SU(p){return isFinite(p)?+("1e"+p):p<0?0:p}function QD(p){return(s,u)=>-p(-s,u)}function tL(){const p=(function(s){const u=s(KD,JD),l=u.domain;let f,d,_=10;function w(){return f=(function(x){return x===Math.E?Math.log:x===10&&Math.log10||x===2&&Math.log2||(x=Math.log(x),T=>Math.log(T)/x)})(_),d=(function(x){return x===10?SU:x===Math.E?Math.exp:T=>Math.pow(x,T)})(_),l()[0]<0?(f=QD(f),d=QD(d),s(_U,bU)):s(KD,JD),u}return u.base=function(x){return arguments.length?(_=+x,w()):_},u.domain=function(x){return arguments.length?(l(x),w()):l()},u.ticks=x=>{const T=l();let D=T[0],N=T[T.length-1];const I=N<D;I&&([D,N]=[N,D]);let G,B,U=f(D),$=f(N);const K=x==null?10:+x;let nt=[];if(!(_%1)&&$-U<K){if(U=Math.floor(U),$=Math.ceil($),D>0){for(;U<=$;++U)for(G=1;G<_;++G)if(B=U<0?G/d(-U):G*d(U),!(B<D)){if(B>N)break;nt.push(B)}}else for(;U<=$;++U)for(G=_-1;G>=1;--G)if(B=U>0?G/d(-U):G*d(U),!(B<D)){if(B>N)break;nt.push(B)}2*nt.length<K&&(nt=Ab(D,N,K))}else nt=Ab(U,$,Math.min($-U,K)).map(d);return I?nt.reverse():nt},u.tickFormat=(x,T)=>{if(x==null&&(x=10),T==null&&(T=_===10?"s":","),typeof T!="function"&&(_%1||(T=Kh(T)).precision!=null||(T.trim=!0),T=Wi(T)),x===1/0)return T;const D=Math.max(1,_*x/u.ticks().length);return N=>{let I=N/d(Math.round(f(N)));return I*_<_-.5&&(I*=_),I<=D?T(N):""}},u.nice=()=>l((function(x,T){var D,N=0,I=(x=x.slice()).length-1,G=x[N],B=x[I];return B<G&&(D=N,N=I,I=D,D=G,G=B,B=D),x[N]=T.floor(G),x[I]=T.ceil(B),x})(l(),{floor:x=>d(Math.floor(f(x))),ceil:x=>d(Math.ceil(f(x)))})),u})(kb()).domain([1,10]);return p.copy=()=>Pb(p,tL()).base(p.base()),Vb.apply(p,arguments),p}function eL(p){var s=p.domain;return p.ticks=function(u){var l=s();return Ab(l[0],l[l.length-1],u??10)},p.tickFormat=function(u,l){var f=s();return(function(d,_,w,x){var T,D=(function(I,G,B){B=+B;const U=(G=+G)<(I=+I),$=U?Mb(G,I,B):Mb(I,G,B);return(U?-1:1)*($<0?1/-$:$)})(d,_,w);switch((x=Kh(x??",f")).type){case"s":var N=Math.max(Math.abs(d),Math.abs(_));return x.precision!=null||isNaN(T=(function(I,G){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Uc(G)/3)))-Uc(Math.abs(I)))})(D,N))||(x.precision=T),OD(x,N);case"":case"e":case"g":case"p":case"r":x.precision!=null||isNaN(T=(function(I,G){return I=Math.abs(I),G=Math.abs(G)-I,Math.max(0,Uc(G)-Uc(I))+1})(D,Math.max(Math.abs(d),Math.abs(_))))||(x.precision=T-(x.type==="e"));break;case"f":case"%":x.precision!=null||isNaN(T=(function(I){return Math.max(0,-Uc(Math.abs(I)))})(D))||(x.precision=T-2*(x.type==="%"))}return Wi(x)})(f[0],f[f.length-1],u??10,l)},p.nice=function(u){u==null&&(u=10);var l,f,d=s(),_=0,w=d.length-1,x=d[_],T=d[w],D=10;for(T<x&&(f=x,x=T,T=f,f=_,_=w,w=f);D-- >0;){if((f=Mb(x,T,u))===l)return d[_]=x,d[w]=T,s(d);if(f>0)x=Math.floor(x/f)*f,T=Math.ceil(T/f)*f;else{if(!(f<0))break;x=Math.ceil(x*f)/f,T=Math.floor(T*f)/f}l=f}return p},p}function tp(){var p=kb()(za,za);return p.copy=function(){return Pb(p,tp())},Vb.apply(p,arguments),eL(p)}function rL(p){return function(s){return s<0?-Math.pow(-s,p):Math.pow(s,p)}}function wU(p){return p<0?-Math.sqrt(-p):Math.sqrt(p)}function xU(p){return p<0?-p*p:p*p}function ep(){var p=(function(s){var u=s(za,za),l=1;return u.exponent=function(f){return arguments.length?(l=+f)==1?s(za,za):l===.5?s(wU,xU):s(rL(l),rL(1/l)):l},eL(u)})(kb());return p.copy=function(){return Pb(p,ep()).exponent(p.exponent())},Vb.apply(p,arguments),p}function nL(p){switch(p===void 0&&(p="linear"),p){case"log":return tL().clamp(!0);case"sqrt":return(function(){return ep.apply(null,arguments).exponent(.5)})().clamp(!0);case"pow1.1":return ep().exponent(1.1).clamp(!0);case"pow2":return ep().exponent(2).clamp(!0);case"pow3":return ep().exponent(3).clamp(!0);default:return tp().clamp(!0)}}function iL(p,s){return p.length===s.length&&p.every((function(u,l){return Qt(u,s[l],1e-4)}))}function pg(p,s){return s==="log"&&p[0]===0&&(p[0]=1e-7),p[0]==null&&(p[0]=Number.NaN),p[1]==null&&(p[1]=Number.NaN),p}var Fr=(function(){function p(s,u,l){var f;if(s===void 0&&(s=[0,1]),u===void 0&&(u="linear"),l===void 0&&(l=[0,1]),!s||Array.isArray(s))this.type=u,this.s=nL(u).domain(pg((f=s)!==null&&f!==void 0?f:[0,1],this.type)).range(l);else{var d=s;this.type=d.type,this.s=nL(d.type).domain(pg(d.domain,d.type)).range(d.range)}}return Object.defineProperty(p.prototype,"domain",{get:function(){return this.s.domain()},set:function(s){this.s.domain(pg(s,this.type))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"range",{get:function(){return this.s.range()},set:function(s){this.s.range(s)},enumerable:!1,configurable:!0}),p.prototype.getRange=function(s){return[s(this.invert(0)),s(this.invert(1))]},p.prototype.apply=function(s){return this.s(s)},p.prototype.invert=function(s){return this.s.invert(s)},Object.defineProperty(p.prototype,"scaleType",{get:function(){return this.type},enumerable:!1,configurable:!0}),p.prototype.toJSON=function(){return{type:this.type,domain:this.domain,range:this.range}},p.prototype.eq=function(s){if(!(s instanceof p))return!1;var u=s;return u.type===this.type&&iL(this.domain,u.domain)&&iL(this.range,u.range)},p.prototype.clone=function(){return new p(this.domain,this.type,this.range)},p})(),qc=(function(){function p(s,u){var l;if(s===void 0&&(s=[0,1]),u===void 0&&(u="return this.linear(value,this.value_min,this.value_max);"),!s||Array.isArray(s))this.domain=(l=s)!==null&&l!==void 0?l:[0,1];else{var f=s;this.domain=f.domain,u=f.code}this.code=typeof u=="string"?u:u.toString(),this.f=typeof u=="function"?u:new Function("value",u)}return p.prototype.getRange=function(){return["?","?"]},p.prototype.apply=function(s){var u=this.domain[0],l=this.domain[this.domain.length-1],f=this.f.call({value_min:u,value_max:l,value_range:l-u,value_domain:this.domain.slice(),linear:function(d,_,w){return(d-_)/(w-_)}},s);return typeof f=="number"?Math.max(Math.min(f,1),0):NaN},p.prototype.toJSON=function(){return{type:"script",code:this.code,domain:this.domain}},p.prototype.eq=function(s){if(!(s instanceof p))return!1;var u=s;return u.code===this.code||u.f===this.f},p.prototype.clone=function(){return new p(this.domain,this.f)},p})();function Ua(p,s){return p.map?s.mappingFunction(p.map):new Fr(pg(p.domain||[0,1],"linear"),"linear",p.range||[0,1])}function aL(){return{script:qc,linear:Fr,log:Fr,"pow1.1":Fr,pow2:Fr,pow3:Fr}}var Ul=Wi(".3n");function Gb(p,s){var u=p.getBoxPlotData(s),l=p.getSortMethod();return u==null?NaN:u[l]}function Xc(p,s,u){var l=u==="normalized"?p.getBoxPlotData(s):p.getRawBoxPlotData(s);return l==null?NaN:l[p.getSortMethod()]}function vi(){return{min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY,filterMissing:!1}}function oL(p,s,u){return u===void 0&&(u=.001),Qt(p.min,s.min,u)&&Qt(p.max,s.max,u)&&p.filterMissing===s.filterMissing}function sL(p,s){return!(p&&(Number.isNaN(s)?p.filterMissing:isFinite(p.min)&&s<p.min||isFinite(p.max)&&s>p.max))}function Wa(p){return!p.filterMissing&&!isFinite(p.min)&&!isFinite(p.max)}function Ds(p){return{min:p.min!=null&&isFinite(p.min)?p.min:Number.NEGATIVE_INFINITY,max:p.max!=null&&isFinite(p.max)?p.max:Number.POSITIVE_INFINITY,filterMissing:p.filterMissing}}var EU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),TU=(function(p){function s(l,f,d){var _=p.call(this,l,cr(f,{groupRenderer:"boxplot",summaryRenderer:"histogram"}))||this;return _.currentFilter=vi(),_.filterAccuracy=.001,_.numberFormat=Wi(".2f"),_.currentGroupThresholds=[],_.groupSortMethod=Jr.median,_.mapping=Ua(f,d),_.original=_.mapping.clone(),_.deriveMapping=_.mapping.domain.map((function(w){return w==null||Number.isNaN(w)})),_.colorMapping=d.colorMappingFunction(f.colorMapping||f.color),f.numberFormat&&(_.numberFormat=Wi(f.numberFormat)),f.filterAccuracy&&(_.filterAccuracy=f.filterAccuracy),_}var u;return EU(s,p),u=s,s.prototype.getNumberFormat=function(){return this.numberFormat},s.prototype.onDataUpdate=function(l){var f=this;if(p.prototype.onDataUpdate.call(this,l),this.deriveMapping.some(Boolean)){var d=l.map((function(w){return f.getRawValue(w)})).reduce((function(w,x){return x==null||Number.isNaN(x)||(x<w.min&&(w.min=x),x>w.max&&(w.max=x)),w}),{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}),_=this.mapping.domain.slice();this.deriveMapping[0]&&(_[0]=d.min),this.deriveMapping[this.deriveMapping.length-1]&&(_[_.length-1]=d.max),this.mapping.domain=_,this.original.domain=_}},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.map=this.mapping.toJSON(),f.colorMapping=this.colorMapping.toJSON(),f.filter=Wa(this.currentFilter)?null:this.currentFilter,f.groupSortMethod=this.groupSortMethod,this.currentGroupThresholds&&(f.stratifyThresholds=this.currentGroupThresholds),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),(l.map||l.domain)&&(this.mapping=Ua(l,f)),l.colorMapping&&(this.colorMapping=f.colorMappingFunction(l.colorMapping)),l.groupSortMethod&&(this.groupSortMethod=l.groupSortMethod),l.filter&&(this.currentFilter=Ds(l.filter)),l.stratifyThresholds&&(this.currentGroupThresholds=l.stratifyThresholds),l.stratifyThreshholds&&(this.currentGroupThresholds=l.stratifyThreshholds)},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_MAPPING_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_FILTER_CHANGED,u.EVENT_SORTMETHOD_CHANGED,u.EVENT_GROUPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getLabel=function(l){if(this.desc.numberFormat){var f=this.getRawValue(l);return Number.isNaN(f)?"NaN":isFinite(f)?this.numberFormat(f):f.toString()}var d=p.prototype.getValue.call(this,l);return typeof d=="number"?this.numberFormat(+d):String(d)},s.prototype.getRange=function(){return this.mapping.getRange(this.numberFormat)},s.prototype.getRawValue=function(l){var f=p.prototype.getValue.call(this,l);return Gr(f)?NaN:+f},s.prototype.getExportValue=function(l,f){return f==="json"?this.getRawValue(l):p.prototype.getExportValue.call(this,l,f)},s.prototype.getValue=function(l){var f=this.getNumber(l);return Number.isNaN(f)?null:f},s.prototype.getNumber=function(l){var f=this.getRawValue(l);return Number.isNaN(f)?NaN:this.mapping.apply(f)},s.prototype.iterNumber=function(l){return[this.getNumber(l)]},s.prototype.iterRawNumber=function(l){return[this.getRawNumber(l)]},s.prototype.getRawNumber=function(l){return this.getRawValue(l)},s.prototype.toCompareValue=function(l,f){return f??this.getNumber(l)},s.prototype.toCompareValueType=function(){return tt.FLOAT},s.prototype.toCompareGroupValue=function(l,f,d){return(function(_,w,x,T){var D=lt();return T?D.pushAll(T):D.pushAll(_.map((function(N){return w.getNumber(N)}))),D.build()[x]})(l,this,this.groupSortMethod,d)},s.prototype.toCompareGroupValueType=function(){return tt.FLOAT},s.prototype.getOriginalMapping=function(){return this.original.clone()},s.prototype.getMapping=function(){return this.mapping.clone()},s.prototype.setMapping=function(l){this.mapping.eq(l)||(this.deriveMapping=[],this.fire([u.EVENT_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],this.mapping.clone(),this.mapping=l))},s.prototype.getColor=function(l){var f=this.getNumber(l);return Number.isNaN(f)?Ie:this.colorMapping.apply(f)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([u.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return!Wa(this.currentFilter)},s.prototype.getFilter=function(){return Object.assign({},this.currentFilter)},s.prototype.setFilter=function(l){if(!oL(l=l||{min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY,filterMissing:!1},this.currentFilter,this.filterAccuracy)){var f=this.getFilter();this.currentFilter.min=Zh(l.min)?Number.NEGATIVE_INFINITY:l.min,this.currentFilter.max=Zh(l.max)?Number.POSITIVE_INFINITY:l.max,this.currentFilter.filterMissing=l.filterMissing,this.fire([u.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],f,this.getFilter())}},s.prototype.filter=function(l){return sL(this.currentFilter,this.getRawNumber(l))},s.prototype.clearFilter=function(){var l=this.isFiltered();return this.setFilter(null),l},s.prototype.getGroupThresholds=function(){return this.currentGroupThresholds.slice()},s.prototype.setGroupThresholds=function(l){if(!ye(this.currentGroupThresholds,l)){var f=this.getGroupThresholds();this.currentGroupThresholds=l.slice(),this.fire([u.EVENT_GROUPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],f,l)}},s.prototype.group=function(l){var f=this.getRawNumber(l);if(Number.isNaN(f))return Object.assign({},Bo);var d=this.currentGroupThresholds;if(d.length===0){var _=this.mapping.domain;d=[(_[1]-_[0])/2]}var w=d.findIndex((function(x){return f<=x}));switch(w){case-1:return{name:"".concat(this.label," > ").concat(this.numberFormat(d[d.length-1])),color:this.colorMapping.apply(1)};case 0:return{name:"".concat(this.label," <= ").concat(this.numberFormat(d[0])),color:this.colorMapping.apply(0)};default:return{name:"".concat(this.numberFormat(d[w-1])," <= ").concat(this.label," <= ").concat(this.numberFormat(d[w])),color:this.colorMapping.apply(this.mapping.apply((d[w-1]+d[w])/2))}}},s.prototype.getSortMethod=function(){return this.groupSortMethod},s.prototype.setSortMethod=function(l){this.groupSortMethod!==l&&(this.fire([u.EVENT_SORTMETHOD_CHANGED],this.groupSortMethod,this.groupSortMethod=l),this.isGroupSortedByMe().asc||this.toggleMyGroupSorting())},s.EVENT_MAPPING_CHANGED="mappingChanged",s.EVENT_COLOR_MAPPING_CHANGED="colorMappingChanged",s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_SORTMETHOD_CHANGED="sortMethodChanged",s.EVENT_GROUPING_CHANGED="groupingChanged",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","groupBy","sortGroupBy","filterNumber","colorMapped","editMapping"),pi("sortGroup","sortNumber"),pi("group","groupNumber"),on("number"),Ga("descending")],s)})(Er);const ue=TU;var CU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),AU=(function(p){function s(l,f,d){var _=p.call(this,l,f)||this;return _.numberFormat=Ul,_.currentFilter=vi(),_.mapping=Ua(f,d),_.original=_.mapping.clone(),_.deriveMapping=_.mapping.domain.map((function(w){return w==null||Number.isNaN(w)})),_.colorMapping=d.colorMappingFunction(f.colorMapping),f.numberFormat&&(_.numberFormat=Wi(f.numberFormat)),_.sort=f.sort||Vc.min,_}var u;return CU(s,p),u=s,s.prototype.onDataUpdate=function(l){var f=this;if(p.prototype.onDataUpdate.call(this,l),this.deriveMapping.some(Boolean)){var d=l.map((function(w){return f.getRawValue(w)})).reduce((function(w,x){return x==null||(x.min<w.min&&(w.min=x.min),x.max>w.max&&(w.max=x.max)),w}),{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}),_=this.mapping.domain.slice();this.deriveMapping[0]&&(_[0]=d.min),this.deriveMapping[this.deriveMapping.length-1]&&(_[_.length-1]=d.max),this.mapping.domain=_,this.original.domain=_}},s.prototype.getNumberFormat=function(){return this.numberFormat},s.prototype.toCompareValue=function(l){return Gb(this,l)},s.prototype.toCompareValueType=function(){return tt.FLOAT},s.prototype.getBoxPlotData=function(l){return this.getValue(l)},s.prototype.getRange=function(){return this.mapping.getRange(this.numberFormat)},s.prototype.getRawBoxPlotData=function(l){return this.getRawValue(l)},s.prototype.getRawValue=function(l){return p.prototype.getValue.call(this,l)},s.prototype.getExportValue=function(l,f){return f==="json"?this.getRawValue(l):p.prototype.getExportValue.call(this,l,f)},s.prototype.getValue=function(l){var f=this,d=this.getRawValue(l);if(d==null)return null;var _={min:this.mapping.apply(d.min),max:this.mapping.apply(d.max),median:this.mapping.apply(d.median),q1:this.mapping.apply(d.q1),q3:this.mapping.apply(d.q3)};return d.outlier&&Object.assign(_,{outlier:d.outlier.map((function(w){return f.mapping.apply(w)}))}),d.whiskerLow!=null&&Object.assign(_,{whiskerLow:this.mapping.apply(d.whiskerLow)}),d.whiskerHigh!=null&&Object.assign(_,{whiskerHigh:this.mapping.apply(d.whiskerHigh)}),_},s.prototype.getNumber=function(l){return Xc(this,l,"normalized")},s.prototype.getRawNumber=function(l){return Xc(this,l,"raw")},s.prototype.iterNumber=function(l){return[this.getNumber(l)]},s.prototype.iterRawNumber=function(l){return[this.getRawNumber(l)]},s.prototype.getLabel=function(l){var f=this.getRawValue(l);if(f==null)return"";var d=this.numberFormat;return"BoxPlot(min = ".concat(d(f.min),", q1 = ").concat(d(f.q1),", median = ").concat(d(f.median),", q3 = ").concat(d(f.q3),", max = ").concat(d(f.max),")")},s.prototype.getSortMethod=function(){return this.sort},s.prototype.setSortMethod=function(l){this.sort!==l&&(this.fire(u.EVENT_SORTMETHOD_CHANGED,this.sort,this.sort=l),this.isSortedByMe().asc||this.sortByMe())},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.sortMethod=this.getSortMethod(),f.filter=Wa(this.currentFilter)?null:this.currentFilter,f.map=this.mapping.toJSON(),f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),l.sortMethod&&(this.sort=l.sortMethod),l.filter&&(this.currentFilter=Ds(l.filter)),(l.map||l.domain)&&(this.mapping=Ua(l,f)),l.colorMapping&&(this.colorMapping=f.colorMappingFunction(l.colorMapping))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_SORTMETHOD_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_MAPPING_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getOriginalMapping=function(){return this.original.clone()},s.prototype.getMapping=function(){return this.mapping.clone()},s.prototype.setMapping=function(l){this.mapping.eq(l)||(this.deriveMapping=[],this.fire([u.EVENT_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.mapping.clone(),this.mapping=l))},s.prototype.getColor=function(l){return ue.prototype.getColor.call(this,l)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([u.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return ue.prototype.isFiltered.call(this)},s.prototype.getFilter=function(){return ue.prototype.getFilter.call(this)},s.prototype.setFilter=function(l){ue.prototype.setFilter.call(this,l)},s.prototype.filter=function(l){return ue.prototype.filter.call(this,l)},s.prototype.clearFilter=function(){return ue.prototype.clearFilter.call(this)},s.EVENT_MAPPING_CHANGED=ue.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=ue.EVENT_COLOR_MAPPING_CHANGED,s.EVENT_SORTMETHOD_CHANGED=ue.EVENT_SORTMETHOD_CHANGED,s.EVENT_FILTER_CHANGED=ue.EVENT_FILTER_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","filterNumber","colorMapped","editMapping"),pi("sort","sortBoxPlot"),on("array"),Ga("descending")],s)})(Er);const Ti=AU;var MU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),DU=(function(p){function s(u,l){return p.call(this,u,cr(l,{width:200}))||this}return MU(s,p),s.prototype.getValue=function(u){var l=this.getMap(u);return l.length===0?null:l},s.prototype.getLabels=function(u){return this.getMap(u).map((function(l){var f=l.key,d=l.value;return{key:f,value:String(d)}}))},s.prototype.getMap=function(u){return(l=p.prototype.getValue.call(this,u))?l instanceof Map?Array.from(l.entries()).map((function(f){return{key:f[0],value:f[1]}})).sort(lL):Array.isArray(l)?l:Object.keys(l).map((function(f){return{key:f,value:l[f]}})).sort(lL):[];var l},s.prototype.getMapLabel=function(u){return this.getLabels(u)},s.prototype.getLabel=function(u){var l=this.getLabels(u);return"{".concat(l.map((function(f){var d=f.key,_=f.value;return"".concat(d,": ").concat(_)})).join(", "),"}")},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([on("map")],s)})(Er);const Zc=DU;function lL(p,s){return p===s?0:p.key.localeCompare(s.key)}var LU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),NU=(function(p){function s(l,f){var d=p.call(this,l,f)||this;return d.lookup=new Map,d.categories=Fa(f),d.categories.forEach((function(_){return d.lookup.set(_.name,_)})),d.colorMapping=di,d}var u;return LU(s,p),u=s,s.prototype.onDataUpdate=function(l){var f,d=this;if(p.prototype.onDataUpdate.call(this,l),!this.desc.categories){var _=new Set;l.forEach((function(w){var x=p.prototype.getValue.call(d,w);if(x&&Array.isArray(x)&&x.length!==0)for(var T=0,D=x;T<D.length;T++){var N=D[T];N&&N.value&&_.add(String(N.value))}})),(f=this.categories).splice.apply(f,(function(w,x,T){if(arguments.length===2)for(var D,N=0,I=x.length;N<I;N++)!D&&N in x||(D||(D=Array.prototype.slice.call(x,0,N)),D[N]=x[N]);return w.concat(D||Array.prototype.slice.call(x))})([0,this.categories.length],Fa({categories:Array.from(_)}),!1)),this.categories.forEach((function(w){return d.lookup.set(w.name,w)}))}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.parseValue=function(l){if(!l)return null;var f=String(l);return this.lookup.has(f)?this.lookup.get(f):null},s.prototype.getCategoryMap=function(l){var f=this;return p.prototype.getMap.call(this,l).map((function(d){var _=d.key,w=d.value;return{key:_,value:f.parseValue(w)}}))},s.prototype.getCategories=function(l){return this.getCategoryMap(l).map((function(f){return f.value}))},s.prototype.getColors=function(l){var f=this;return this.getCategoryMap(l).map((function(d){var _=d.key,w=d.value;return{key:_,value:w?f.colorMapping.apply(w):Ie}}))},s.prototype.getValue=function(l){var f=this.getCategoryMap(l);return f.length===0?null:f.map((function(d){var _=d.key,w=d.value;return{key:_,value:w?w.name:null}}))},s.prototype.getLabels=function(l){return this.getCategoryMap(l).map((function(f){var d=f.key,_=f.value;return{key:d,value:_?_.label:""}}))},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){return Se.prototype.setColorMapping.call(this,l)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories)},s.prototype.iterCategory=function(l){return this.getCategories(l)},s.EVENT_COLOR_MAPPING_CHANGED=Se.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","colorMappedCategorical")],s)})(Zc);const uL=NU;var RU=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),IU=(function(p){function s(l,f){var d=p.call(this,l,f)||this;return d.lookup=new Map,d.categories=Fa(f),d.categories.forEach((function(_){return d.lookup.set(_.name,_)})),d.colorMapping=di,d}var u;return RU(s,p),u=s,s.prototype.onDataUpdate=function(l){var f,d=this;if(p.prototype.onDataUpdate.call(this,l),!this.desc.categories){var _=new Set;l.forEach((function(w){var x=p.prototype.getValue.call(d,w);if(x&&Array.isArray(x)&&x.length!==0)for(var T=0,D=x;T<D.length;T++){var N=D[T];N&&_.add(String(N))}})),(f=this.categories).splice.apply(f,(function(w,x,T){if(arguments.length===2)for(var D,N=0,I=x.length;N<I;N++)!D&&N in x||(D||(D=Array.prototype.slice.call(x,0,N)),D[N]=x[N]);return w.concat(D||Array.prototype.slice.call(x))})([0,this.categories.length],Fa({categories:Array.from(_)}),!1)),this.categories.forEach((function(w){return d.lookup.set(w.name,w)}))}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getCategories=function(l){var f=this;return p.prototype.getValues.call(this,l).map((function(d){if(!d)return null;var _=String(d);return f.lookup.has(_)?f.lookup.get(_):null}))},s.prototype.getColors=function(l){var f=this;return this.getCategories(l).map((function(d){return d?f.colorMapping.apply(d):Ie}))},s.prototype.iterCategory=function(l){return this.getCategories(l)},s.prototype.getValues=function(l){return this.getCategories(l).map((function(f){return f?f.name:null}))},s.prototype.getLabels=function(l){return this.getCategories(l).map((function(f){return f?f.label:""}))},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){return Se.prototype.setColorMapping.call(this,l)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories)},s.EVENT_COLOR_MAPPING_CHANGED=Se.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","colorMappedCategorical")],s)})(Fl);const cL=IU,Fb=new Date,Bb=new Date;function Cn(p,s,u,l){function f(d){return p(d=arguments.length===0?new Date:new Date(+d)),d}return f.floor=d=>(p(d=new Date(+d)),d),f.ceil=d=>(p(d=new Date(d-1)),s(d,1),p(d),d),f.round=d=>{const _=f(d),w=f.ceil(d);return d-_<w-d?_:w},f.offset=(d,_)=>(s(d=new Date(+d),_==null?1:Math.floor(_)),d),f.range=(d,_,w)=>{const x=[];if(d=f.ceil(d),w=w==null?1:Math.floor(w),!(d<_&&w>0))return x;let T;do x.push(T=new Date(+d)),s(d,w),p(d);while(T<d&&d<_);return x},f.filter=d=>Cn((_=>{if(_>=_)for(;p(_),!d(_);)_.setTime(_-1)}),((_,w)=>{if(_>=_)if(w<0)for(;++w<=0;)for(;s(_,-1),!d(_););else for(;--w>=0;)for(;s(_,1),!d(_););})),u&&(f.count=(d,_)=>(Fb.setTime(+d),Bb.setTime(+_),p(Fb),p(Bb),Math.floor(u(Fb,Bb))),f.every=d=>(d=Math.floor(d),isFinite(d)&&d>0?d>1?f.filter(l?_=>l(_)%d==0:_=>f.count(0,_)%d==0):f:null)),f}const dg=1e3,Wl=6e4,vg=36e5,gg=864e5,fL=6048e5;function jl(p){return Cn((s=>{s.setDate(s.getDate()-(s.getDay()+7-p)%7),s.setHours(0,0,0,0)}),((s,u)=>{s.setDate(s.getDate()+7*u)}),((s,u)=>(u-s-(u.getTimezoneOffset()-s.getTimezoneOffset())*Wl)/fL))}const Hb=jl(0),yg=jl(1),OU=jl(2),PU=jl(3),Kc=jl(4),kU=jl(5),VU=jl(6);function Yl(p){return Cn((s=>{s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-p)%7),s.setUTCHours(0,0,0,0)}),((s,u)=>{s.setUTCDate(s.getUTCDate()+7*u)}),((s,u)=>(u-s)/fL))}Hb.range,yg.range,OU.range,PU.range,Kc.range,kU.range,VU.range;const hL=Yl(0),mg=Yl(1),GU=Yl(2),FU=Yl(3),Jc=Yl(4),BU=Yl(5),HU=Yl(6),Qc=(hL.range,mg.range,GU.range,FU.range,Jc.range,BU.range,HU.range,Cn((p=>p.setHours(0,0,0,0)),((p,s)=>p.setDate(p.getDate()+s)),((p,s)=>(s-p-(s.getTimezoneOffset()-p.getTimezoneOffset())*Wl)/gg),(p=>p.getDate()-1))),zb=(Qc.range,Cn((p=>{p.setUTCHours(0,0,0,0)}),((p,s)=>{p.setUTCDate(p.getUTCDate()+s)}),((p,s)=>(s-p)/gg),(p=>p.getUTCDate()-1))),zU=(zb.range,Cn((p=>{p.setUTCHours(0,0,0,0)}),((p,s)=>{p.setUTCDate(p.getUTCDate()+s)}),((p,s)=>(s-p)/gg),(p=>Math.floor(p/gg)))),$l=(zU.range,Cn((p=>{p.setMonth(0,1),p.setHours(0,0,0,0)}),((p,s)=>{p.setFullYear(p.getFullYear()+s)}),((p,s)=>s.getFullYear()-p.getFullYear()),(p=>p.getFullYear())));$l.every=p=>isFinite(p=Math.floor(p))&&p>0?Cn((s=>{s.setFullYear(Math.floor(s.getFullYear()/p)*p),s.setMonth(0,1),s.setHours(0,0,0,0)}),((s,u)=>{s.setFullYear(s.getFullYear()+u*p)})):null,$l.range;const ql=Cn((p=>{p.setUTCMonth(0,1),p.setUTCHours(0,0,0,0)}),((p,s)=>{p.setUTCFullYear(p.getUTCFullYear()+s)}),((p,s)=>s.getUTCFullYear()-p.getUTCFullYear()),(p=>p.getUTCFullYear()));function Ub(p){if(0<=p.y&&p.y<100){var s=new Date(-1,p.m,p.d,p.H,p.M,p.S,p.L);return s.setFullYear(p.y),s}return new Date(p.y,p.m,p.d,p.H,p.M,p.S,p.L)}function Wb(p){if(0<=p.y&&p.y<100){var s=new Date(Date.UTC(-1,p.m,p.d,p.H,p.M,p.S,p.L));return s.setUTCFullYear(p.y),s}return new Date(Date.UTC(p.y,p.m,p.d,p.H,p.M,p.S,p.L))}function rp(p,s,u){return{y:p,m:s,d:u,H:0,M:0,S:0,L:0}}ql.every=p=>isFinite(p=Math.floor(p))&&p>0?Cn((s=>{s.setUTCFullYear(Math.floor(s.getUTCFullYear()/p)*p),s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0)}),((s,u)=>{s.setUTCFullYear(s.getUTCFullYear()+u*p)})):null,ql.range;var np,Br,Ls,pL={"-":"",_:" ",0:"0"},pn=/^\s*\d+/,UU=/^%/,WU=/[\\^$*+?|[\]().{}]/g;function Ze(p,s,u){var l=p<0?"-":"",f=(l?-p:p)+"",d=f.length;return l+(d<u?new Array(u-d+1).join(s)+f:f)}function jU(p){return p.replace(WU,"\\$&")}function ip(p){return new RegExp("^(?:"+p.map(jU).join("|")+")","i")}function ap(p){return new Map(p.map(((s,u)=>[s.toLowerCase(),u])))}function YU(p,s,u){var l=pn.exec(s.slice(u,u+1));return l?(p.w=+l[0],u+l[0].length):-1}function $U(p,s,u){var l=pn.exec(s.slice(u,u+1));return l?(p.u=+l[0],u+l[0].length):-1}function qU(p,s,u){var l=pn.exec(s.slice(u,u+2));return l?(p.U=+l[0],u+l[0].length):-1}function XU(p,s,u){var l=pn.exec(s.slice(u,u+2));return l?(p.V=+l[0],u+l[0].length):-1}function ZU(p,s,u){var l=pn.exec(s.slice(u,u+2));return l?(p.W=+l[0],u+l[0].length):-1}function dL(p,s,u){var l=pn.exec(s.slice(u,u+4));return l?(p.y=+l[0],u+l[0].length):-1}function vL(p,s,u){var l=pn.exec(s.slice(u,u+2));return l?(p.y=+l[0]+(+l[0]>68?1900:2e3),u+l[0].length):-1}function KU(p,s,u){var l=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(s.slice(u,u+6));return l?(p.Z=l[1]?0:-(l[2]+(l[3]||"00")),u+l[0].length):-1}function JU(p,s,u){var l=pn.exec(s.slice(u,u+1));return l?(p.q=3*l[0]-3,u+l[0].length):-1}function QU(p,s,u){var l=pn.exec(s.slice(u,u+2));return l?(p.m=l[0]-1,u+l[0].length):-1}function gL(p,s,u){var l=pn.exec(s.slice(u,u+2));return l?(p.d=+l[0],u+l[0].length):-1}function tW(p,s,u){var l=pn.exec(s.slice(u,u+3));return l?(p.m=0,p.d=+l[0],u+l[0].length):-1}function yL(p,s,u){var l=pn.exec(s.slice(u,u+2));return l?(p.H=+l[0],u+l[0].length):-1}function eW(p,s,u){var l=pn.exec(s.slice(u,u+2));return l?(p.M=+l[0],u+l[0].length):-1}function rW(p,s,u){var l=pn.exec(s.slice(u,u+2));return l?(p.S=+l[0],u+l[0].length):-1}function nW(p,s,u){var l=pn.exec(s.slice(u,u+3));return l?(p.L=+l[0],u+l[0].length):-1}function iW(p,s,u){var l=pn.exec(s.slice(u,u+6));return l?(p.L=Math.floor(l[0]/1e3),u+l[0].length):-1}function aW(p,s,u){var l=UU.exec(s.slice(u,u+1));return l?u+l[0].length:-1}function oW(p,s,u){var l=pn.exec(s.slice(u));return l?(p.Q=+l[0],u+l[0].length):-1}function sW(p,s,u){var l=pn.exec(s.slice(u));return l?(p.s=+l[0],u+l[0].length):-1}function mL(p,s){return Ze(p.getDate(),s,2)}function lW(p,s){return Ze(p.getHours(),s,2)}function uW(p,s){return Ze(p.getHours()%12||12,s,2)}function cW(p,s){return Ze(1+Qc.count($l(p),p),s,3)}function _L(p,s){return Ze(p.getMilliseconds(),s,3)}function fW(p,s){return _L(p,s)+"000"}function hW(p,s){return Ze(p.getMonth()+1,s,2)}function pW(p,s){return Ze(p.getMinutes(),s,2)}function dW(p,s){return Ze(p.getSeconds(),s,2)}function vW(p){var s=p.getDay();return s===0?7:s}function gW(p,s){return Ze(Hb.count($l(p)-1,p),s,2)}function bL(p){var s=p.getDay();return s>=4||s===0?Kc(p):Kc.ceil(p)}function yW(p,s){return p=bL(p),Ze(Kc.count($l(p),p)+($l(p).getDay()===4),s,2)}function mW(p){return p.getDay()}function _W(p,s){return Ze(yg.count($l(p)-1,p),s,2)}function bW(p,s){return Ze(p.getFullYear()%100,s,2)}function SW(p,s){return Ze((p=bL(p)).getFullYear()%100,s,2)}function wW(p,s){return Ze(p.getFullYear()%1e4,s,4)}function xW(p,s){var u=p.getDay();return Ze((p=u>=4||u===0?Kc(p):Kc.ceil(p)).getFullYear()%1e4,s,4)}function EW(p){var s=p.getTimezoneOffset();return(s>0?"-":(s*=-1,"+"))+Ze(s/60|0,"0",2)+Ze(s%60,"0",2)}function SL(p,s){return Ze(p.getUTCDate(),s,2)}function TW(p,s){return Ze(p.getUTCHours(),s,2)}function CW(p,s){return Ze(p.getUTCHours()%12||12,s,2)}function AW(p,s){return Ze(1+zb.count(ql(p),p),s,3)}function wL(p,s){return Ze(p.getUTCMilliseconds(),s,3)}function MW(p,s){return wL(p,s)+"000"}function DW(p,s){return Ze(p.getUTCMonth()+1,s,2)}function LW(p,s){return Ze(p.getUTCMinutes(),s,2)}function NW(p,s){return Ze(p.getUTCSeconds(),s,2)}function RW(p){var s=p.getUTCDay();return s===0?7:s}function IW(p,s){return Ze(hL.count(ql(p)-1,p),s,2)}function xL(p){var s=p.getUTCDay();return s>=4||s===0?Jc(p):Jc.ceil(p)}function OW(p,s){return p=xL(p),Ze(Jc.count(ql(p),p)+(ql(p).getUTCDay()===4),s,2)}function PW(p){return p.getUTCDay()}function kW(p,s){return Ze(mg.count(ql(p)-1,p),s,2)}function VW(p,s){return Ze(p.getUTCFullYear()%100,s,2)}function GW(p,s){return Ze((p=xL(p)).getUTCFullYear()%100,s,2)}function FW(p,s){return Ze(p.getUTCFullYear()%1e4,s,4)}function BW(p,s){var u=p.getUTCDay();return Ze((p=u>=4||u===0?Jc(p):Jc.ceil(p)).getUTCFullYear()%1e4,s,4)}function HW(){return"+0000"}function EL(){return"%"}function TL(p){return+p}function CL(p){return Math.floor(+p/1e3)}np=(function(p){var s=p.dateTime,u=p.date,l=p.time,f=p.periods,d=p.days,_=p.shortDays,w=p.months,x=p.shortMonths,T=ip(f),D=ap(f),N=ip(d),I=ap(d),G=ip(_),B=ap(_),U=ip(w),$=ap(w),K=ip(x),nt=ap(x),at={a:function(ut){return _[ut.getDay()]},A:function(ut){return d[ut.getDay()]},b:function(ut){return x[ut.getMonth()]},B:function(ut){return w[ut.getMonth()]},c:null,d:mL,e:mL,f:fW,g:SW,G:xW,H:lW,I:uW,j:cW,L:_L,m:hW,M:pW,p:function(ut){return f[+(ut.getHours()>=12)]},q:function(ut){return 1+~~(ut.getMonth()/3)},Q:TL,s:CL,S:dW,u:vW,U:gW,V:yW,w:mW,W:_W,x:null,X:null,y:bW,Y:wW,Z:EW,"%":EL},ct={a:function(ut){return _[ut.getUTCDay()]},A:function(ut){return d[ut.getUTCDay()]},b:function(ut){return x[ut.getUTCMonth()]},B:function(ut){return w[ut.getUTCMonth()]},c:null,d:SL,e:SL,f:MW,g:GW,G:BW,H:TW,I:CW,j:AW,L:wL,m:DW,M:LW,p:function(ut){return f[+(ut.getUTCHours()>=12)]},q:function(ut){return 1+~~(ut.getUTCMonth()/3)},Q:TL,s:CL,S:NW,u:RW,U:IW,V:OW,w:PW,W:kW,x:null,X:null,y:VW,Y:FW,Z:HW,"%":EL},wt={a:function(ut,kt,jt){var Nt=G.exec(kt.slice(jt));return Nt?(ut.w=B.get(Nt[0].toLowerCase()),jt+Nt[0].length):-1},A:function(ut,kt,jt){var Nt=N.exec(kt.slice(jt));return Nt?(ut.w=I.get(Nt[0].toLowerCase()),jt+Nt[0].length):-1},b:function(ut,kt,jt){var Nt=K.exec(kt.slice(jt));return Nt?(ut.m=nt.get(Nt[0].toLowerCase()),jt+Nt[0].length):-1},B:function(ut,kt,jt){var Nt=U.exec(kt.slice(jt));return Nt?(ut.m=$.get(Nt[0].toLowerCase()),jt+Nt[0].length):-1},c:function(ut,kt,jt){return Wt(ut,s,kt,jt)},d:gL,e:gL,f:iW,g:vL,G:dL,H:yL,I:yL,j:tW,L:nW,m:QU,M:eW,p:function(ut,kt,jt){var Nt=T.exec(kt.slice(jt));return Nt?(ut.p=D.get(Nt[0].toLowerCase()),jt+Nt[0].length):-1},q:JU,Q:oW,s:sW,S:rW,u:$U,U:qU,V:XU,w:YU,W:ZU,x:function(ut,kt,jt){return Wt(ut,u,kt,jt)},X:function(ut,kt,jt){return Wt(ut,l,kt,jt)},y:vL,Y:dL,Z:KU,"%":aW};function Tt(ut,kt){return function(jt){var Nt,te,zt,Le=[],Ge=-1,qe=0,gi=ut.length;for(jt instanceof Date||(jt=new Date(+jt));++Ge<gi;)ut.charCodeAt(Ge)===37&&(Le.push(ut.slice(qe,Ge)),(te=pL[Nt=ut.charAt(++Ge)])!=null?Nt=ut.charAt(++Ge):te=Nt==="e"?" ":"0",(zt=kt[Nt])&&(Nt=zt(jt,te)),Le.push(Nt),qe=Ge+1);return Le.push(ut.slice(qe,Ge)),Le.join("")}}function Ot(ut,kt){return function(jt){var Nt,te,zt=rp(1900,void 0,1);if(Wt(zt,ut,jt+="",0)!=jt.length)return null;if("Q"in zt)return new Date(zt.Q);if("s"in zt)return new Date(1e3*zt.s+("L"in zt?zt.L:0));if(kt&&!("Z"in zt)&&(zt.Z=0),"p"in zt&&(zt.H=zt.H%12+12*zt.p),zt.m===void 0&&(zt.m="q"in zt?zt.q:0),"V"in zt){if(zt.V<1||zt.V>53)return null;"w"in zt||(zt.w=1),"Z"in zt?(te=(Nt=Wb(rp(zt.y,0,1))).getUTCDay(),Nt=te>4||te===0?mg.ceil(Nt):mg(Nt),Nt=zb.offset(Nt,7*(zt.V-1)),zt.y=Nt.getUTCFullYear(),zt.m=Nt.getUTCMonth(),zt.d=Nt.getUTCDate()+(zt.w+6)%7):(te=(Nt=Ub(rp(zt.y,0,1))).getDay(),Nt=te>4||te===0?yg.ceil(Nt):yg(Nt),Nt=Qc.offset(Nt,7*(zt.V-1)),zt.y=Nt.getFullYear(),zt.m=Nt.getMonth(),zt.d=Nt.getDate()+(zt.w+6)%7)}else("W"in zt||"U"in zt)&&("w"in zt||(zt.w="u"in zt?zt.u%7:"W"in zt?1:0),te="Z"in zt?Wb(rp(zt.y,0,1)).getUTCDay():Ub(rp(zt.y,0,1)).getDay(),zt.m=0,zt.d="W"in zt?(zt.w+6)%7+7*zt.W-(te+5)%7:zt.w+7*zt.U-(te+6)%7);return"Z"in zt?(zt.H+=zt.Z/100|0,zt.M+=zt.Z%100,Wb(zt)):Ub(zt)}}function Wt(ut,kt,jt,Nt){for(var te,zt,Le=0,Ge=kt.length,qe=jt.length;Le<Ge;){if(Nt>=qe)return-1;if((te=kt.charCodeAt(Le++))===37){if(te=kt.charAt(Le++),!(zt=wt[te in pL?kt.charAt(Le++):te])||(Nt=zt(ut,jt,Nt))<0)return-1}else if(te!=jt.charCodeAt(Nt++))return-1}return Nt}return at.x=Tt(u,at),at.X=Tt(l,at),at.c=Tt(s,at),ct.x=Tt(u,ct),ct.X=Tt(l,ct),ct.c=Tt(s,ct),{format:function(ut){var kt=Tt(ut+="",at);return kt.toString=function(){return ut},kt},parse:function(ut){var kt=Ot(ut+="",!1);return kt.toString=function(){return ut},kt},utcFormat:function(ut){var kt=Tt(ut+="",ct);return kt.toString=function(){return ut},kt},utcParse:function(ut){var kt=Ot(ut+="",!0);return kt.toString=function(){return ut},kt}}})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Br=np.format,Ls=np.parse,np.utcFormat,np.utcParse;const AL=Cn((p=>{p.setDate(1),p.setHours(0,0,0,0)}),((p,s)=>{p.setMonth(p.getMonth()+s)}),((p,s)=>s.getMonth()-p.getMonth()+12*(s.getFullYear()-p.getFullYear())),(p=>p.getMonth())),zW=(AL.range,Cn((p=>{p.setUTCDate(1),p.setUTCHours(0,0,0,0)}),((p,s)=>{p.setUTCMonth(p.getUTCMonth()+s)}),((p,s)=>s.getUTCMonth()-p.getUTCMonth()+12*(s.getUTCFullYear()-p.getUTCFullYear())),(p=>p.getUTCMonth()))),ML=(zW.range,Cn((p=>{p.setTime(p-p.getMilliseconds()-p.getSeconds()*dg-p.getMinutes()*Wl)}),((p,s)=>{p.setTime(+p+s*vg)}),((p,s)=>(s-p)/vg),(p=>p.getHours()))),UW=(ML.range,Cn((p=>{p.setUTCMinutes(0,0,0)}),((p,s)=>{p.setTime(+p+s*vg)}),((p,s)=>(s-p)/vg),(p=>p.getUTCHours()))),DL=(UW.range,Cn((p=>{p.setTime(p-p.getMilliseconds()-p.getSeconds()*dg)}),((p,s)=>{p.setTime(+p+s*Wl)}),((p,s)=>(s-p)/Wl),(p=>p.getMinutes()))),WW=(DL.range,Cn((p=>{p.setUTCSeconds(0,0)}),((p,s)=>{p.setTime(+p+s*Wl)}),((p,s)=>(s-p)/Wl),(p=>p.getUTCMinutes()))),LL=(WW.range,Cn((p=>{p.setTime(p-p.getMilliseconds())}),((p,s)=>{p.setTime(+p+s*dg)}),((p,s)=>(s-p)/dg),(p=>p.getUTCSeconds())));function jb(p,s){var u=new Date(p);return s==="max"?(u.setHours(23),u.setMinutes(59),u.setSeconds(59),u.setMilliseconds(999)):(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),u.getTime()}function NL(p,s){switch(p.granularity){case"century":var u=Math.floor(s.getFullYear()/100);if(p.circular){var l=u%10;return{value:l,name:"*".concat(l,"00")}}return{value:u,name:"".concat(u,"00")};case"decade":var f=Math.floor(s.getFullYear()/10);if(p.circular){var d=f%10;return{value:d,name:"**".concat(d,"0")}}return{value:f,name:"".concat(f,"0")};case"year":if(p.circular){var _=s.getFullYear()%10;return{value:_,name:"***".concat(_)}}return{value:s.getFullYear(),name:String(s.getFullYear())};case"month":return p.circular?{value:s.getMonth(),name:Br("%B")(s)}:{value:AL(s).getTime(),name:Br("%B %Y")(s)};case"week":return p.circular?{value:s.getMonth(),name:Br("%W")(s)}:{value:Hb(s).getTime(),name:Br("%W %Y")(s)};case"day_of_week":return p.circular?{value:s.getDay(),name:Br("%A")(s)}:{value:Qc(s).getTime(),name:Br("%x")(s)};case"day_of_month":return p.circular?{value:s.getDate(),name:Br("%d")(s)}:{value:Qc(s).getTime(),name:Br("%x")(s)};case"day_of_year":if(p.circular){var w=Br("%j")(s);return{value:Number.parseInt(w,10),name:w}}return{value:Qc(s).getTime(),name:Br("%x")(s)};case"hour":return p.circular?{value:s.getHours(),name:Br("%A")(s)}:{value:ML(s).getTime(),name:Br("%x")(s)};case"minute":return p.circular?{value:s.getMinutes(),name:Br("%A")(s)}:{value:DL(s).getTime(),name:Br("%x")(s)};case"second":return p.circular?{value:s.getSeconds(),name:Br("%A")(s)}:{value:LL(s).getTime(),name:Br("%x")(s)}}}function RL(p,s,u,l){var f=(l||p.map((function(x){return u.getDate(x)}))).filter((function(x){return x instanceof Date}));if(y(f))return{value:null,name:""};var d,_,w=(d=f.map((function(x){return x.getTime()})),(_=Float64Array.from(d)).length===1?_[0]:(_.sort(),_[Math.floor(_.length/2)]));return s?NL(s,new Date(w)):{value:w,name:new Date(w).toString()}}LL.range;var jW=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),YW=(function(p){function s(l,f){var d=p.call(this,l,cr(f,{groupRenderer:"datehistogram",summaryRenderer:"datehistogram"}))||this;d.currentFilter=vi(),d.currentGrouper={granularity:"month",circular:!1};var _=Br(f.dateFormat||u.DEFAULT_DATE_FORMAT);return d.format=function(w){return w instanceof Date?_(w):""},d.parse=f.dateParse?Ls(f.dateParse):Ls(f.dateFormat||u.DEFAULT_DATE_FORMAT),d}var u;return jW(s,p),u=s,s.prototype.getFormatter=function(){return this.format},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.filter=Wa(this.currentFilter)?null:this.currentFilter,this.currentGrouper&&!ke({granularity:"month",circular:!1},this.currentGrouper)&&(f.grouper=this.currentGrouper),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),l.filter&&(this.currentFilter=Ds(l.filter)),l.grouper&&(this.currentGrouper=l.grouper)},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_FILTER_CHANGED,u.EVENT_GROUPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getValue=function(l){return this.getDate(l)},s.prototype.getDate=function(l){var f=p.prototype.getValue.call(this,l);return Gr(f)?null:f instanceof Date?f:this.parse(String(f))},s.prototype.iterDate=function(l){return[this.getDate(l)]},s.prototype.getLabel=function(l){var f=this.getValue(l);return this.format(f)},s.prototype.isFiltered=function(){return!Wa(this.currentFilter)},s.prototype.clearFilter=function(){var l=this.isFiltered();return this.setFilter(null),l},s.prototype.getFilter=function(){return Object.assign({},this.currentFilter)},s.prototype.setFilter=function(l){if(!oL(l=l||{min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY,filterMissing:!1},this.currentFilter)){var f=this.getFilter();this.currentFilter.min=Zh(l.min)?Number.NEGATIVE_INFINITY:l.min,this.currentFilter.max=Zh(l.max)?Number.POSITIVE_INFINITY:l.max,this.currentFilter.filterMissing=l.filterMissing,this.fire([u.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],f,this.getFilter())}},s.prototype.filter=function(l,f){return(function(d,_){return!d||(_!=null&&_ instanceof Date?sL(d,_.getTime()):!d.filterMissing)})(this.currentFilter,f!==void 0?f:this.getDate(l))},s.prototype.toCompareValue=function(l,f){var d=f!==void 0?f:this.getValue(l);return d instanceof Date?d.getTime():NaN},s.prototype.toCompareValueType=function(){return tt.DOUBLE_ASC},s.prototype.getDateGrouper=function(){return Object.assign({},this.currentGrouper)},s.prototype.setDateGrouper=function(l){if(!ke(this.currentGrouper,l)){var f=this.getDateGrouper();this.currentGrouper=Object.assign({},l),this.fire([u.EVENT_GROUPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],f,l)}},s.prototype.group=function(l,f){var d=f!==void 0?f:this.getDate(l);return d&&d instanceof Date?this.currentGrouper?{name:NL(this.currentGrouper,d).name,color:Ie}:Object.assign({},ft):Object.assign({},Bo)},s.prototype.toCompareGroupValue=function(l,f,d){var _=RL(l,this.currentGrouper,this,d).value;return _??NaN},s.prototype.toCompareGroupValueType=function(){return tt.DOUBLE_ASC},s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_GROUPING_CHANGED="groupingChanged",s.DEFAULT_DATE_FORMAT="%x",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","groupBy","sortGroupBy","filterDate"),pi("group","groupDate"),on("date")],s)})(Er);const Hr=YW;var zo,$W=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();(function(p){p.min="min",p.max="max",p.median="median"})(zo||(zo={}));var qW=(function(p){function s(l,f){var d=p.call(this,l,cr(f,{renderer:"datehistogram",groupRenderer:"datehistogram",summaryRenderer:"datehistogram"}))||this;d.currentFilter=vi();var _=Br(f.dateFormat||Hr.DEFAULT_DATE_FORMAT);return d.format=function(w){return w instanceof Date?_(w):""},d.parse=f.dateParse?Ls(f.dateParse):Ls(f.dateFormat||Hr.DEFAULT_DATE_FORMAT),d.sort=f.sort||zo.median,d}var u;return $W(s,p),u=s,s.prototype.getFormatter=function(){return this.format},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_SORTMETHOD_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getValue=function(l){var f=this.getDates(l);return f.every((function(d){return d==null}))?null:f},s.prototype.getLabels=function(l){var f=this;return this.getDates(l).map((function(d){return d instanceof Date?f.format(d):""}))},s.prototype.getDates=function(l){var f=this;return p.prototype.getValues.call(this,l).map((function(d){return Gr(d)?null:d instanceof Date?d:f.parse(String(d))}))},s.prototype.getDate=function(l){var f=this.getDates(l).filter(Boolean);return f.length===0?null:new Date(IL(f,this.sort))},s.prototype.iterDate=function(l){return this.getDates(l)},s.prototype.getSortMethod=function(){return this.sort},s.prototype.setSortMethod=function(l){this.sort!==l&&(this.fire([u.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=l),this.isSortedByMe().asc||this.sortByMe())},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.sortMethod=this.getSortMethod(),f.filter=Wa(this.currentFilter)?null:this.currentFilter,f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),l.sortMethod&&(this.sort=l.sortMethod),l.filter&&(this.currentFilter=Ds(l.filter))},s.prototype.toCompareValue=function(l){var f=this.getDates(l).filter(Boolean);return f?[f.length,IL(f,this.sort)]:[0,0]},s.prototype.toCompareValueType=function(){return[vb(this.dataLength),tt.DOUBLE_ASC]},s.prototype.isFiltered=function(){return Hr.prototype.isFiltered.call(this)},s.prototype.getFilter=function(){return Hr.prototype.getFilter.call(this)},s.prototype.setFilter=function(l){Hr.prototype.setFilter.call(this,l)},s.prototype.filter=function(l){return Hr.prototype.filter.call(this,l)},s.prototype.clearFilter=function(){return Hr.prototype.clearFilter.call(this)},s.EVENT_SORTMETHOD_CHANGED="sortMethodChanged",s.EVENT_FILTER_CHANGED=Hr.EVENT_FILTER_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","filterDate"),pi("sort","sortDates")],s)})(Fl);const op=qW;function IL(p,s){switch(s){case zo.min:return k(p,(function(u){return u.getTime()}));case zo.max:return F(p,(function(u){return u.getTime()}));case zo.median:return Y(p,(function(u){return u.getTime()}))}}var XW=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),ZW=(function(p){function s(l,f){var d=p.call(this,l,cr(f,{renderer:"default"}))||this;d.currentFilter=vi();var _=Br(f.dateFormat||Hr.DEFAULT_DATE_FORMAT);return d.format=function(w){return w instanceof Date?_(w):""},d.parse=f.dateParse?Ls(f.dateParse):Ls(f.dateFormat||Hr.DEFAULT_DATE_FORMAT),d.sort=f.sort||zo.median,d}var u;return XW(s,p),u=s,s.prototype.getFormatter=function(){return this.format},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_SORTMETHOD_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.parseValue=function(l){return Gr(l)?null:l instanceof Date?l:this.parse(String(l))},s.prototype.getDateMap=function(l){var f=this;return p.prototype.getMap.call(this,l).map((function(d){var _=d.key,w=d.value;return{key:_,value:f.parseValue(w)}}))},s.prototype.iterDate=function(l){return this.getDates(l)},s.prototype.getValue=function(l){var f=this.getDateMap(l);return f.every((function(d){return d==null}))?null:f},s.prototype.getLabels=function(l){var f=this;return this.getDateMap(l).map((function(d){var _=d.key,w=d.value;return{key:_,value:w instanceof Date?f.format(w):""}}))},s.prototype.getDates=function(l){return this.getDateMap(l).map((function(f){return f.value}))},s.prototype.getDate=function(l){return op.prototype.getDate.call(this,l)},s.prototype.getSortMethod=function(){return this.sort},s.prototype.setSortMethod=function(l){return op.prototype.setSortMethod.call(this,l)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.sortMethod=this.getSortMethod(),f.filter=Wa(this.currentFilter)?null:this.currentFilter,f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),l.sortMethod&&(this.sort=l.sortMethod),l.filter&&(this.currentFilter=Ds(l.filter))},s.prototype.isFiltered=function(){return Hr.prototype.isFiltered.call(this)},s.prototype.getFilter=function(){return Hr.prototype.getFilter.call(this)},s.prototype.setFilter=function(l){Hr.prototype.setFilter.call(this,l)},s.prototype.filter=function(l){return Hr.prototype.filter.call(this,l)},s.prototype.clearFilter=function(){return Hr.prototype.clearFilter.call(this)},s.EVENT_SORTMETHOD_CHANGED=op.EVENT_SORTMETHOD_CHANGED,s.EVENT_FILTER_CHANGED=Hr.EVENT_FILTER_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","filterDate"),pi("sort","sortDates")],s)})(Zc);const OL=ZW;var _g,KW=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function Yb(p){return p===void 0&&(p="Group Name"),{type:"group",label:p}}(function(p){p.name="name",p.count="count"})(_g||(_g={}));var JW=(function(p){function s(){var l=p!==null&&p.apply(this,arguments)||this;return l.groupSortMethod=_g.name,l}var u;return KW(s,p),u=s,Object.defineProperty(s.prototype,"frozen",{get:function(){return this.desc.frozen!==!1},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_SORTMETHOD_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getLabel=function(){return""},s.prototype.getValue=function(){return""},s.prototype.getSortMethod=function(){return this.groupSortMethod},s.prototype.setSortMethod=function(l){this.groupSortMethod!==l&&(this.fire(u.EVENT_SORTMETHOD_CHANGED,this.groupSortMethod,this.groupSortMethod=l),this.isGroupSortedByMe().asc||this.toggleMyGroupSorting())},s.prototype.toCompareGroupValue=function(l,f){return this.groupSortMethod==="count"?l.length:f.name===Bo.name?null:f.name.toLowerCase()},s.prototype.toCompareGroupValueType=function(){return this.groupSortMethod==="count"?tt.COUNT:tt.STRING},s.EVENT_SORTMETHOD_CHANGED="sortMethodChanged",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([kc(),$e("rename","sortGroupBy"),pi("sortGroup","sortGroups"),on("support")],s)})(vt);const $b=JW;var QW=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),tj=(function(p){function s(l,f){var d=p.call(this,l,cr(f,{renderer:"categorical"}))||this;return d.currentMaxDepth=Number.POSITIVE_INFINITY,d.currentLeaves=[],d.currentLeavesNameCache=new Map,d.currentLeavesPathCache=new Map,d.hierarchySeparator=f.hierarchySeparator||".",d.hierarchy=d.initHierarchy(f.hierarchy),d.currentNode=d.hierarchy,d.currentLeaves=qb(d.currentNode,d.currentMaxDepth),d.updateCaches(),d.colorMapping=di,d}var u;return QW(s,p),u=s,s.prototype.initHierarchy=function(l){var f=db(),d=this.hierarchySeparator,_=function(w,x){var T=x.name==null?String(x.value):x.name,D=(x.children||[]).map((function(G){if(typeof G=="string"){var B=w+G;return{path:B,name:G,label:B,color:f(),value:0,children:[]}}var U=_("".concat(w).concat(T).concat(d),G);return U.color||(U.color=f()),U})),N=w+T,I=x.label?x.label:N;return{path:N,name:T,children:D,label:I,color:x.color,value:0}};return _("",l)},Object.defineProperty(s.prototype,"categories",{get:function(){return this.currentLeaves},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_CUTOFF_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.colorMapping=this.colorMapping.toJSON(),isFinite(this.currentMaxDepth)&&(f.maxDepth=this.currentMaxDepth),this.currentNode!==this.hierarchy&&(f.cutOffNode=this.currentNode.path),f},s.prototype.restore=function(l,f){if(p.prototype.restore.call(this,l,f),this.colorMapping=f.categoricalColorMappingFunction(l.colorMapping,this.categories),l.maxDepth!==void 0&&(this.currentMaxDepth=l.maxDepth),l.cutOffNode!==void 0){for(var d=l.cutOffNode.split(this.hierarchySeparator),_=this.hierarchy,w=function(D){return function(N){return N.name===D}},x=d.shift();x&&_;){if(_.name!==x){_=null;break}var T=d.shift();if(!T)break;x=T,_=_.children.find(w(x))||null}this.currentNode=_||this.hierarchy}l.maxDepth===void 0&&l.cutOffNode===void 0||(this.currentLeaves=qb(this.currentNode,this.currentMaxDepth),this.updateCaches())},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([Se.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.getCutOff=function(){return{node:this.currentNode,maxDepth:this.currentMaxDepth}},s.prototype.setCutOff=function(l){var f=l.maxDepth==null?Number.POSITIVE_INFINITY:l.maxDepth;if(this.currentNode!==l.node||this.currentMaxDepth!==f){var d=this.getCutOff();this.currentNode=l.node,this.currentMaxDepth=f,this.currentLeaves=qb(l.node,f),this.updateCaches(),this.fire([u.EVENT_CUTOFF_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],d,this.getCutOff())}},s.prototype.getCategory=function(l){var f=this,d=p.prototype.getValue.call(this,l);return d==null||d===""?null:(d=d.trim(),this.currentLeavesNameCache.has(d)?this.currentLeavesNameCache.get(d):this.currentLeavesPathCache.has(d)?this.currentLeavesPathCache.get(d):this.currentLeaves.find((function(_){return _.path===d||_.name===d||d.startsWith(_.path+f.hierarchySeparator)}))||null)},Object.defineProperty(s.prototype,"dataLength",{get:function(){return this.currentLeaves.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"labels",{get:function(){return this.currentLeaves.map((function(l){return l.label}))},enumerable:!1,configurable:!0}),s.prototype.getValue=function(l){var f=this.getCategory(l);return f?f.name:null},s.prototype.getCategories=function(l){return[this.getCategory(l)]},s.prototype.iterCategory=function(l){return[this.getCategory(l)]},s.prototype.getLabel=function(l){return Se.prototype.getLabel.call(this,l)},s.prototype.getColor=function(l){return Se.prototype.getColor.call(this,l)},s.prototype.getLabels=function(l){return Se.prototype.getLabels.call(this,l)},s.prototype.getValues=function(l){return Se.prototype.getValues.call(this,l)},s.prototype.getMap=function(l){return Se.prototype.getMap.call(this,l)},s.prototype.getMapLabel=function(l){return Se.prototype.getMapLabel.call(this,l)},s.prototype.getSet=function(l){return Se.prototype.getSet.call(this,l)},s.prototype.toCompareValue=function(l){return Se.prototype.toCompareValue.call(this,l)},s.prototype.toCompareValueType=function(){return Se.prototype.toCompareValueType.call(this)},s.prototype.group=function(l){var f=this.getCategory(l);return f?{name:f.label,color:f.color}:Object.assign({},Bo)},s.prototype.updateCaches=function(){var l=this;this.currentLeavesPathCache.clear(),this.currentLeavesNameCache.clear(),this.currentLeaves.forEach((function(f){l.currentLeavesPathCache.set(f.path,f),l.currentLeavesNameCache.set(f.name,f)}))},s.EVENT_CUTOFF_CHANGED="cutOffChanged",s.EVENT_COLOR_MAPPING_CHANGED="colorMappingChanged",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","cutoff","group","groupBy","colorMappedCategorical"),on("categorical")],s)})(Er);const PL=tj;function qb(p,s){s===void 0&&(s=Number.POSITIVE_INFINITY);var u=[],l=function(f,d){d>=s||f.children.length===0?u.push(f):f.children.forEach((function(_){return l(_,d+1)}))};return l(p,0),u}function kL(p){for(var s=[p],u=0;u<s.length;)for(var l=0,f=s[u++].children;l<f.length;l++){var d=f[l];s.push(d)}return s}function ej(p){return p.length!==0&&typeof p[0]!="string"&&p.some((function(s){return s.parent!=null}))}function rj(p){var s=new Map;p.forEach((function(l){var f=l.parent||"",d=Object.assign({children:[],label:l.name,name:l.name,color:Ie,value:0},s.get(l.name)||{},l);s.set(l.name,d),s.has(f)||s.set(f,{name:f,children:[],label:f,value:0,color:Ie}),s.get(f).children.push(d)}));var u=s.get("");return console.assert(u!==void 0,"hierarchy with no root"),u.children.length===1?u.children[0]:u}const vr=p=>uU(p[p.length-1]),Xb=vr(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Be)),nj=vr(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Be)),ij=vr(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Be)),aj=vr(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Be)),oj=vr(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Be)),sj=vr(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Be)),lj=Math.PI/180,uj=180/Math.PI;var VL=-.14861,Zb=1.78277,Kb=-.29227,bg=-.90649,sp=1.97294,GL=sp*bg,FL=sp*Zb,BL=Zb*Kb-bg*VL;function ja(p,s,u,l){return arguments.length===1?(function(f){if(f instanceof Xl)return new Xl(f.h,f.s,f.l,f.opacity);f instanceof kn||(f=zD(f));var d=f.r/255,_=f.g/255,w=f.b/255,x=(BL*w+GL*d-FL*_)/(BL+GL-FL),T=w-x,D=(sp*(_-x)-Kb*T)/bg,N=Math.sqrt(D*D+T*T)/(sp*x*(1-x)),I=N?Math.atan2(D,T)*uj-120:NaN;return new Xl(I<0?I+360:I,N,x,f.opacity)})(p):new Xl(p,s,u,l??1)}function Xl(p,s,u,l){this.h=+p,this.s=+s,this.l=+u,this.opacity=+l}function HL(p){return(function s(u){function l(f,d){var _=p((f=ja(f)).h,(d=ja(d)).h),w=$c(f.s,d.s),x=$c(f.l,d.l),T=$c(f.opacity,d.opacity);return function(D){return f.h=_(D),f.s=w(D),f.l=x(Math.pow(D,u)),f.opacity=T(D),f+""}}return u=+u,l.gamma=s,l})(1)}og(Xl,ja,Db(Wc,{brighter(p){return p=p==null?jc:Math.pow(jc,p),new Xl(this.h,this.s,this.l*p,this.opacity)},darker(p){return p=p==null?Bl:Math.pow(Bl,p),new Xl(this.h,this.s,this.l*p,this.opacity)},rgb(){var p=isNaN(this.h)?0:(this.h+120)*lj,s=+this.l,u=isNaN(this.s)?0:this.s*s*(1-s),l=Math.cos(p),f=Math.sin(p);return new kn(255*(s+u*(VL*l+Zb*f)),255*(s+u*(Kb*l+bg*f)),255*(s+u*(sp*l)),this.opacity)}})),HL((function(p,s){var u=s-p;return u?qD(p,u>180||u<-180?u-360*Math.round(u/360):u):fg(isNaN(p)?s:p)}));var Jb=HL($c),cj=Jb(ja(-100,.75,.35),ja(80,1.5,.8)),fj=Jb(ja(260,.75,.35),ja(80,1.5,.8)),Sg=ja();function hj(p){(p<0||p>1)&&(p-=Math.floor(p));var s=Math.abs(p-.5);return Sg.h=360*p-100,Sg.s=1.5-1.5*s,Sg.l=.8-.9*s,Sg+""}const pj=Jb(ja(300,.5,0),ja(-240,.5,1));function wg(p){var s=p.length;return function(u){return p[Math.max(0,Math.min(s-1,Math.floor(u*s)))]}}const dj=wg(Be("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var vj=wg(Be("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),gj=wg(Be("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),yj=wg(Be("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const mj=vr(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Be)),_j=vr(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Be)),bj=vr(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Be)),Sj=vr(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Be)),wj=vr(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Be)),xj=vr(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Be)),Ej=vr(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Be)),Tj=vr(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Be)),Cj=vr(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Be)),Aj=vr(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Be)),Mj=vr(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Be)),Dj=vr(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Be)),Lj=vr(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Be)),Nj=vr(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Be)),Rj=vr(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Be)),Ij=vr(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Be)),Oj=vr(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Be)),Pj=vr(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Be)),kj=vr(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Be)),Vj=vr(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Be)),Gj=vr(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Be));var Ya=(function(){function p(s){this.name=s,this.apply=p.FUNCTIONS[s]||Xb}return p.prototype.toJSON=function(){return this.name},p.prototype.clone=function(){return this},p.prototype.eq=function(s){return s instanceof p&&s.name===this.name},p.FUNCTIONS={interpolateBlues:Xb,interpolateGreens:nj,interpolateGreys:ij,interpolateOranges:aj,interpolatePurples:oj,interpolateReds:sj,interpolateCool:fj,interpolateCubehelixDefault:pj,interpolateWarm:cj,interpolatePlasma:yj,interpolateMagma:vj,interpolateViridis:dj,interpolateInferno:gj,interpolateYlOrRd:mj,interpolateYlOrBr:_j,interpolateBuGn:bj,interpolateBuPu:Sj,interpolateGnBu:wj,interpolateOrRd:xj,interpolatePuBuGn:Ej,interpolatePuBu:Tj,interpolatePuRd:Cj,interpolateRdPu:Aj,interpolateYlGnBu:Mj,interpolateYlGn:Dj,interpolateRainbow:hj},p})(),$a=(function(){function p(s){this.name=s,this.apply=p.FUNCTIONS[s]||Xb}return p.prototype.toJSON=function(){return this.name},p.prototype.clone=function(){return this},p.prototype.eq=function(s){return s instanceof p&&s.name===this.name},p.FUNCTIONS={interpolateBrBG:Lj,interpolatePRGn:Nj,interpolatePiYG:Rj,interpolatePuOr:Ij,interpolateRdBu:Oj,interpolateRdGy:Pj,interpolateRdYlBu:kj,interpolateRdYlGn:Vj,interpolateSpectral:Gj},p})(),zL=(function(){function p(s){this.apply=s}return p.prototype.toJSON=function(){return this.apply.toString()},p.prototype.clone=function(){return this},p.prototype.eq=function(s){return s instanceof p&&s.apply===this.apply},p})(),va=(function(){function p(s){this.color=s}return p.prototype.apply=function(){return this.color},p.prototype.toJSON=function(){return this.color},p.prototype.clone=function(){return this},p.prototype.eq=function(s){return s instanceof p&&s.color===this.color},p})(),qa=(function(){function p(s,u){if(typeof s.apply=="function")this.base=s,this.steps=u??5;else{var l=s;this.base=u.colorMappingFunction(l.base),this.steps=l.steps}}return p.prototype.apply=function(s){return this.base.apply((function(u,l){var f=1/l;if(u<=f)return 0;if(u>=1-f)return 1;for(var d=0;d<1;d+=f)if(u<d)return d-f/2;return u})(s,this.steps))},p.prototype.toJSON=function(){return{type:"quantized",base:this.base.toJSON(),steps:this.steps}},p.prototype.clone=function(){return new p(this.base.clone(),this.steps)},p.prototype.eq=function(s){return s instanceof p&&s.base.eq(this.base)&&s.steps===this.steps},p})(),Ns=(function(){function p(s){this.scale=tp(),this.entries=Array.isArray(s)?s:s.entries,this.scale.domain(this.entries.map((function(u){return u.value}))).range(this.entries.map((function(u){return u.color}))).clamp(!0)}return p.prototype.apply=function(s){return this.scale(s)},p.prototype.toJSON=function(){return{type:"custom",entries:this.entries}},p.prototype.clone=function(){return new p(this.entries.slice())},p.prototype.eq=function(s){return s instanceof p&&ke(this.entries,s.entries)},p})(),lp=new va(Ie),Fj=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),xg=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function Eg(p){return p===void 0&&(p="Imposition"),{type:"imposition",label:p}}var Bj=(function(p){function s(l,f){return p.call(this,l,cr(f,{renderer:"number",groupRenderer:"boxplot",summaryRenderer:"histogram"}))||this}var u;return Fj(s,p),u=s,Object.defineProperty(s.prototype,"label",{get:function(){var l=p.prototype.getMetaData.call(this).label,f=this._children;if(l!=="Imposition"||f.length===0)return l;if(f.length===1)return f[0].label;var d=this.wrapper,_=this.rest;return"".concat(d?d.label:"?"," (").concat(_.map((function(w){return w.label})).join(", "),")")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"wrapper",{get:function(){var l;return(l=this._children.find(Je))!==null&&l!==void 0?l:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"rest",{get:function(){var l=this.wrapper;return this._children.filter((function(f){return f!==l}))},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_MAPPING_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getLabel=function(l){var f=this._children;if(f.length===0)return"";if(f.length===1)return f[0].getLabel(l);var d=this.wrapper,_=this.rest;return"".concat(d?d.getLabel(l):"?"," (").concat(_.map((function(w){return"".concat(w.label," = ").concat(w.getLabel(l))})).join(", "),")")},s.prototype.getColor=function(l){var f=this._children;switch(f.length){case 0:return Ie;case 1:return f[0].getColor(l);default:return this.rest[0].getColor(l)}},s.prototype.getNumberFormat=function(){var l=this.wrapper;return l?l.getNumberFormat():Ul},s.prototype.getValue=function(l){var f=this.wrapper;return f?f.getValue(l):NaN},s.prototype.getNumber=function(l){var f=this.wrapper;return f?f.getNumber(l):NaN},s.prototype.getRawNumber=function(l){var f=this.wrapper;return f?f.getRawNumber(l):NaN},s.prototype.iterNumber=function(l){return[this.getNumber(l)]},s.prototype.iterRawNumber=function(l){return[this.getRawNumber(l)]},s.prototype.getExportValue=function(l,f){if(f==="json"){var d=this.getRawNumber(l);return Number.isNaN(d)?null:{label:this.getLabel(l),color:this.getColor(l),value:d}}return p.prototype.getExportValue.call(this,l,f)},s.prototype.getMapping=function(){var l=this.wrapper;return l&&Xe(l)?l.getMapping():new Fr},s.prototype.getOriginalMapping=function(){var l=this.wrapper;return l&&Xe(l)?l.getOriginalMapping():new Fr},s.prototype.setMapping=function(l){var f=this.wrapper;return f&&Xe(f)?f.setMapping(l):void 0},s.prototype.getColorMapping=function(){var l=this.wrapper;return l&&Xe(l)?l.getColorMapping():lp},s.prototype.setColorMapping=function(l){var f=this.wrapper;return f&&Xe(f)?f.setColorMapping(l):void 0},s.prototype.getFilter=function(){var l=this.wrapper;return l&&Xe(l)?l.getFilter():vi()},s.prototype.setFilter=function(l){var f=this.wrapper;return f&&Xe(f)?f.setFilter(l):void 0},s.prototype.getRange=function(){var l=this.wrapper;return l&&Xe(l)?l.getRange():["0","1"]},s.prototype.toCompareValue=function(l){return ue.prototype.toCompareValue.call(this,l)},s.prototype.toCompareValueType=function(){return ue.prototype.toCompareValueType.call(this)},s.prototype.toCompareGroupValue=function(l,f){return ue.prototype.toCompareGroupValue.call(this,l,f)},s.prototype.toCompareGroupValueType=function(){return ue.prototype.toCompareGroupValueType.call(this)},s.prototype.insert=function(l,f){return this._children.length!==1||this.wrapper||Je(l)?this._children.length>=2?null:p.prototype.insert.call(this,l,f):null},s.prototype.insertImpl=function(l,f){return Je(l)&&this.forward.apply(this,xg([l],Ve(".impose",ue.EVENT_MAPPING_CHANGED),!1)),Xe(l)&&this.forward.apply(this,xg([l],Ve(".impose",ue.EVENT_COLOR_MAPPING_CHANGED),!1)),p.prototype.insertImpl.call(this,l,f)},s.prototype.removeImpl=function(l,f){return Je(l)&&this.unforward.apply(this,xg([l],Ve(".impose",ue.EVENT_MAPPING_CHANGED),!1)),Xe(l)&&this.unforward.apply(this,xg([l],Ve(".impose",ue.EVENT_COLOR_MAPPING_CHANGED),!1)),p.prototype.removeImpl.call(this,l,f)},s.EVENT_MAPPING_CHANGED=ue.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=ue.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","filterNumber","colorMapped","editMapping"),Ga("descending")],s)})(hn);const Qb=Bj;var Hj=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),zj=(function(p){function s(l,f,d){var _=p.call(this,l,cr(f,Object.assign({renderer:"heatmap",groupRenderer:"heatmap",summaryRenderer:"histogram"},f.dataLength==null||Number.isNaN(f.dataLength)?{}:{width:Math.min(Math.max(100,10*f.dataLength),500)})))||this;return _.numberFormat=Ul,_.currentFilter=vi(),_.mapping=Ua(f,d),_.original=_.mapping.clone(),_.deriveMapping=_.mapping.domain.map((function(w){return w==null||Number.isNaN(w)})),_.colorMapping=d.colorMappingFunction(f.colorMapping||f.color),f.numberFormat&&(_.numberFormat=Wi(f.numberFormat)),_.sort=f.sort||Jr.median,_}var u;return Hj(s,p),u=s,s.prototype.onDataUpdate=function(l){var f=this;if(p.prototype.onDataUpdate.call(this,l),this.deriveMapping.some(Boolean)){var d=l.map((function(w){return f.getRawValue(w)})).reduce((function(w,x){if(x==null||!Array.isArray(x))return w;for(var T=0,D=x;T<D.length;T++){var N=D[T];N==null||Number.isNaN(N)||(N<w.min&&(w.min=N),N>w.max&&(w.max=N))}return w}),{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}),_=this.mapping.domain.slice();this.deriveMapping[0]&&(_[0]=d.min),this.deriveMapping[this.deriveMapping.length-1]&&(_[_.length-1]=d.max),this.mapping.domain=_,this.original.domain=_}},s.prototype.getNumberFormat=function(){return this.numberFormat},s.prototype.toCompareValue=function(l){return Gb(this,l)},s.prototype.toCompareValueType=function(){return tt.FLOAT},s.prototype.getRawNumbers=function(l){return this.getRawValue(l)},s.prototype.getBoxPlotData=function(l){var f=this.getRawValue(l);if(f==null)return null;for(var d=lt(),_=0,w=f;_<w.length;_++){var x=w[_];d.push(Gr(x)?NaN:this.mapping.apply(x))}return d.build()},s.prototype.getRange=function(){return this.mapping.getRange(this.numberFormat)},s.prototype.getRawBoxPlotData=function(l){var f=this.getRawValue(l);if(f==null)return null;for(var d=lt(),_=0,w=f;_<w.length;_++){var x=w[_];d.push(Gr(x)?NaN:x)}return d.build()},s.prototype.getNumbers=function(l){return this.getValues(l)},s.prototype.getNumber=function(l){return Xc(this,l,"normalized")},s.prototype.getRawNumber=function(l){return Xc(this,l,"raw")},s.prototype.getValue=function(l){var f=this.getValues(l);return f.every(Number.isNaN)?null:f},s.prototype.getValues=function(l){var f=this;return this.getRawValue(l).map((function(d){return Number.isNaN(d)?NaN:f.mapping.apply(d)}))},s.prototype.iterNumber=function(l){var f=this.getNumbers(l);return f.every(Number.isNaN)?[NaN]:f},s.prototype.iterRawNumber=function(l){var f=this.getRawNumbers(l);return f.every(Number.isNaN)?[NaN]:f},s.prototype.getRawValue=function(l){var f=p.prototype.getRaw.call(this,l);return f==null?[]:f.map((function(d){return Gr(d)?NaN:+d}))},s.prototype.getExportValue=function(l,f){return f==="json"?this.getRawValue(l):p.prototype.getExportValue.call(this,l,f)},s.prototype.getLabels=function(l){return this.getRawValue(l).map(this.numberFormat)},s.prototype.getSortMethod=function(){return this.sort},s.prototype.setSortMethod=function(l){this.sort!==l&&(this.fire([u.EVENT_SORTMETHOD_CHANGED,ue.EVENT_DIRTY_HEADER,ue.EVENT_DIRTY_VALUES,u.EVENT_DIRTY_CACHES,ue.EVENT_DIRTY],this.sort,this.sort=l),this.isSortedByMe().asc||this.sortByMe())},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.sortMethod=this.getSortMethod(),f.filter=Wa(this.currentFilter)?null:this.currentFilter,f.map=this.mapping.toJSON(),f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),l.sortMethod&&(this.sort=l.sortMethod),l.filter&&(this.currentFilter=Ds(l.filter)),(l.map||l.domain)&&(this.mapping=Ua(l,f)),l.colorMapping&&(this.colorMapping=f.colorMappingFunction(l.colorMapping))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_MAPPING_CHANGED,u.EVENT_SORTMETHOD_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getOriginalMapping=function(){return this.original.clone()},s.prototype.getMapping=function(){return this.mapping.clone()},s.prototype.setMapping=function(l){this.mapping.eq(l)||(this.deriveMapping=[],this.fire([u.EVENT_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.mapping.clone(),this.mapping=l))},s.prototype.getColor=function(l){return ue.prototype.getColor.call(this,l)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([u.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return ue.prototype.isFiltered.call(this)},s.prototype.getFilter=function(){return ue.prototype.getFilter.call(this)},s.prototype.setFilter=function(l){ue.prototype.setFilter.call(this,l)},s.prototype.filter=function(l){return ue.prototype.filter.call(this,l)},s.prototype.clearFilter=function(){return ue.prototype.clearFilter.call(this)},s.EVENT_MAPPING_CHANGED=ue.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=ue.EVENT_COLOR_MAPPING_CHANGED,s.EVENT_SORTMETHOD_CHANGED=ue.EVENT_SORTMETHOD_CHANGED,s.EVENT_FILTER_CHANGED=ue.EVENT_FILTER_CHANGED,s.CENTER=0,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","filterNumber","colorMapped","editMapping"),pi("sort","sortNumbers"),Ga("descending")],s)})(Fl);const An=zj;var Uj=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Tg=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function t1(p){return p===void 0&&(p="Imposition"),{type:"impositions",label:p}}var Wj=(function(p){function s(l,f){return p.call(this,l,cr(f,{renderer:"boxplot",groupRenderer:"boxplot",summaryRenderer:"boxplot"}))||this}var u;return Uj(s,p),u=s,Object.defineProperty(s.prototype,"label",{get:function(){var l=p.prototype.getMetaData.call(this).label,f=this._children;if(l!=="Imposition"||f.length===0)return l;if(f.length===1)return f[0].label;var d=this.wrapper,_=this.rest;return"".concat(d?d.label:"?"," (").concat(_.map((function(w){return w.label})).join(", "),")")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"wrapper",{get:function(){var l;return(l=this._children.find(Fo))!==null&&l!==void 0?l:null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"rest",{get:function(){var l=this.wrapper;return this._children.filter((function(f){return f!==l}))},enumerable:!1,configurable:!0}),s.prototype.getLabel=function(l){var f=this._children;if(f.length===0)return"";if(f.length===1)return f[0].getLabel(l);var d=this.wrapper,_=this.rest;return"".concat(d?d.getLabel(l):"?"," (").concat(_.map((function(w){return"".concat(w.label," = ").concat(w.getLabel(l))})),")")},s.prototype.getColor=function(l){var f=this._children;switch(f.length){case 0:return Ie;case 1:return f[0].getColor(l);default:return this.rest[0].getColor(l)}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_MAPPING_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getNumberFormat=function(){var l=this.wrapper;return l?l.getNumberFormat():Ul},s.prototype.getValue=function(l){var f=this.wrapper;return f?f.getValue(l):null},s.prototype.getNumber=function(l){var f=this.wrapper;return f?f.getNumber(l):NaN},s.prototype.getRawNumber=function(l){var f=this.wrapper;return f?f.getRawNumber(l):NaN},s.prototype.iterNumber=function(l){return[this.getNumber(l)]},s.prototype.iterRawNumber=function(l){return[this.getRawNumber(l)]},s.prototype.getExportValue=function(l,f){if(f==="json"){var d=this.getRawNumber(l);return Number.isNaN(d)?null:{label:this.getLabel(l),color:this.getColor(l),value:d}}return p.prototype.getExportValue.call(this,l,f)},s.prototype.getBoxPlotData=function(l){var f=this.wrapper;return f?f.getBoxPlotData(l):null},s.prototype.getRawBoxPlotData=function(l){var f=this.wrapper;return f?f.getRawBoxPlotData(l):null},s.prototype.getMapping=function(){var l=this.wrapper;return l?l.getMapping():new Fr},s.prototype.getOriginalMapping=function(){var l=this.wrapper;return l?l.getOriginalMapping():new Fr},s.prototype.getSortMethod=function(){var l=this.wrapper;return l?l.getSortMethod():Vc.min},s.prototype.setSortMethod=function(l){var f=this.wrapper;return f?f.setSortMethod(l):void 0},s.prototype.setMapping=function(l){var f=this.wrapper;return f?f.setMapping(l):void 0},s.prototype.getColorMapping=function(){var l=this.wrapper;return l?l.getColorMapping():lp},s.prototype.setColorMapping=function(l){var f=this.wrapper;return f?f.setColorMapping(l):void 0},s.prototype.getFilter=function(){var l=this.wrapper;return l?l.getFilter():vi()},s.prototype.setFilter=function(l){var f=this.wrapper;return f?f.setFilter(l):void 0},s.prototype.getRange=function(){var l=this.wrapper;return l?l.getRange():["0","1"]},s.prototype.toCompareValue=function(l){return Ti.prototype.toCompareValue.call(this,l)},s.prototype.toCompareValueType=function(){return Ti.prototype.toCompareValueType.call(this)},s.prototype.group=function(l){return Ti.prototype.group.call(this,l)},s.prototype.toCompareGroupValue=function(l,f){return Ti.prototype.toCompareGroupValue.call(this,l,f)},s.prototype.toCompareGroupValueType=function(){return Ti.prototype.toCompareGroupValueType.call(this)},s.prototype.insert=function(l,f){return this._children.length!==1||this.wrapper||Fo(l)?this._children.length>=2?null:p.prototype.insert.call(this,l,f):null},s.prototype.insertImpl=function(l,f){return Fo(l)?this.forward.apply(this,Tg([l],Ve(".impose",Ti.EVENT_MAPPING_CHANGED,Ti.EVENT_COLOR_MAPPING_CHANGED),!1)):Xe(l)&&this.forward.apply(this,Tg([l],Ve(".impose",Ti.EVENT_COLOR_MAPPING_CHANGED),!1)),p.prototype.insertImpl.call(this,l,f)},s.prototype.removeImpl=function(l,f){return Fo(l)?this.unforward.apply(this,Tg([l],Ve(".impose",Ti.EVENT_MAPPING_CHANGED,Ti.EVENT_COLOR_MAPPING_CHANGED),!1)):Xe(l)&&this.unforward.apply(this,Tg([l],Ve(".impose",Ti.EVENT_COLOR_MAPPING_CHANGED),!1)),p.prototype.removeImpl.call(this,l,f)},s.EVENT_MAPPING_CHANGED=An.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=An.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","filterNumber","colorMapped","editMapping"),pi("sort","sortBoxPlot"),Ga("descending")],s)})(hn);const UL=Wj;var jj=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Cg=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function e1(p){return p===void 0&&(p="Imposition"),{type:"impositions",label:p}}var Yj=(function(p){function s(l,f){return p.call(this,l,cr(f,{renderer:"numbers",groupRenderer:"numbers",summaryRenderer:"histogram"}))||this}var u;return jj(s,p),u=s,Object.defineProperty(s.prototype,"label",{get:function(){var l=p.prototype.getMetaData.call(this).label,f=this._children;if(l!=="Imposition"||f.length===0)return l;if(f.length===1)return f[0].label;var d=this.wrapper,_=this.rest;return"".concat(d?d.label:"?"," (").concat(_.map((function(w){return w.label})).join(", "),")")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"wrapper",{get:function(){return this._children.find(En)||null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"rest",{get:function(){var l=this.wrapper;return this._children.filter((function(f){return f!==l}))},enumerable:!1,configurable:!0}),s.prototype.getLabel=function(l){var f=this._children;if(f.length===0)return"";if(f.length===1)return f[0].getLabel(l);var d=this.wrapper,_=this.rest;return"".concat(d?d.getLabel(l):"?"," (").concat(_.map((function(w){return"".concat(w.label," = ").concat(w.getLabel(l))})),")")},s.prototype.getColor=function(l){var f=this._children;switch(f.length){case 0:return Ie;case 1:return f[0].getColor(l);default:return this.rest[0].getColor(l)}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_MAPPING_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},Object.defineProperty(s.prototype,"labels",{get:function(){var l=this.wrapper;return l?l.labels:[]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dataLength",{get:function(){var l=this.wrapper;return l?l.dataLength:null},enumerable:!1,configurable:!0}),s.prototype.getNumberFormat=function(){var l=this.wrapper;return l?l.getNumberFormat():Ul},s.prototype.getValue=function(l){var f=this.wrapper;return f?f.getValue(l):[]},s.prototype.getNumber=function(l){var f=this.wrapper;return f?f.getNumber(l):NaN},s.prototype.getRawNumber=function(l){var f=this.wrapper;return f?f.getRawNumber(l):NaN},s.prototype.getExportValue=function(l,f){if(f==="json"){var d=this.getRawNumber(l);return Number.isNaN(d)?null:{label:this.getLabels(l),color:this.getColor(l)}}return p.prototype.getExportValue.call(this,l,f)},s.prototype.getNumbers=function(l){var f=this.wrapper;return f?f.getNumbers(l):[]},s.prototype.getRawNumbers=function(l){var f=this.wrapper;return f?f.getRawNumbers(l):[]},s.prototype.iterNumber=function(l){return this.getNumbers(l)},s.prototype.iterRawNumber=function(l){return this.getRawNumbers(l)},s.prototype.getBoxPlotData=function(l){var f=this.wrapper;return f?f.getBoxPlotData(l):null},s.prototype.getRawBoxPlotData=function(l){var f=this.wrapper;return f?f.getRawBoxPlotData(l):null},s.prototype.getMapping=function(){var l=this.wrapper;return l?l.getMapping():new Fr},s.prototype.getOriginalMapping=function(){var l=this.wrapper;return l?l.getOriginalMapping():new Fr},s.prototype.getSortMethod=function(){var l=this.wrapper;return l?l.getSortMethod():Jr.min},s.prototype.setSortMethod=function(l){var f=this.wrapper;return f?f.setSortMethod(l):void 0},s.prototype.setMapping=function(l){var f=this.wrapper;return f?f.setMapping(l):void 0},s.prototype.getColorMapping=function(){var l=this.wrapper;return l?l.getColorMapping():lp},s.prototype.setColorMapping=function(l){var f=this.wrapper;return f?f.setColorMapping(l):void 0},s.prototype.getFilter=function(){var l=this.wrapper;return l?l.getFilter():vi()},s.prototype.setFilter=function(l){var f=this.wrapper;return f?f.setFilter(l):void 0},s.prototype.getRange=function(){var l=this.wrapper;return l?l.getRange():["0","1"]},s.prototype.getMap=function(l){var f=this.wrapper;return f?f.getMap(l):[]},s.prototype.getMapLabel=function(l){var f=this.wrapper;return f?f.getMapLabel(l):[]},s.prototype.getLabels=function(l){var f=this.wrapper;return f?f.getLabels(l):[]},s.prototype.getValues=function(l){var f=this.wrapper;return f?f.getValues(l):[]},s.prototype.toCompareValue=function(l){return An.prototype.toCompareValue.call(this,l)},s.prototype.toCompareValueType=function(){return An.prototype.toCompareValueType.call(this)},s.prototype.toCompareGroupValue=function(l,f){return An.prototype.toCompareGroupValue.call(this,l,f)},s.prototype.toCompareGroupValueType=function(){return An.prototype.toCompareGroupValueType.call(this)},s.prototype.insert=function(l,f){return this._children.length!==1||this.wrapper||En(l)?this._children.length>=2?null:p.prototype.insert.call(this,l,f):null},s.prototype.insertImpl=function(l,f){return En(l)&&this.forward.apply(this,Cg([l],Ve(".impose",An.EVENT_MAPPING_CHANGED),!1)),Xe(l)&&this.forward.apply(this,Cg([l],Ve(".impose",An.EVENT_COLOR_MAPPING_CHANGED),!1)),p.prototype.insertImpl.call(this,l,f)},s.prototype.removeImpl=function(l,f){return En(l)&&this.unforward.apply(this,Cg([l],Ve(".impose",An.EVENT_MAPPING_CHANGED),!1)),Xe(l)&&this.unforward.apply(this,Cg([l],Ve(".impose",An.EVENT_COLOR_MAPPING_CHANGED),!1)),p.prototype.removeImpl.call(this,l,f)},s.EVENT_MAPPING_CHANGED=An.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=An.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","filterNumber","colorMapped","editMapping"),pi("sort","sortNumbers"),Ga("descending")],s)})(hn);const WL=Yj;var $j=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),qj=(function(p){function s(u,l){var f=p.call(this,u,l)||this;return f.numberFormat=Wi(".3n"),l.numberFormat&&(f.numberFormat=Wi(l.numberFormat)),f}return $j(s,p),s.prototype.getNumberFormat=function(){return this.numberFormat},s.prototype.getLabel=function(u){if(!this.isLoaded())return"";var l=this.getValue(u);return String(typeof l=="number"&&!Number.isNaN(l)&&isFinite(l)?this.numberFormat(l):l)},s.prototype.getValue=function(u){if(!this.isLoaded())return null;var l=this.compute(u);return Gr(l)?null:l},s.prototype.compute=function(u){return NaN},s.prototype.getNumber=function(u){var l=this.getValue(u);return l??NaN},s.prototype.getRawNumber=function(u){return this.getNumber(u)},s.prototype.iterNumber=function(u){return[this.getNumber(u)]},s.prototype.iterRawNumber=function(u){return[this.getRawNumber(u)]},s.prototype.getExportValue=function(u,l){return l==="json"?{value:this.getRawNumber(u),children:this.children.map((function(f){return f.getExportValue(u,l)}))}:p.prototype.getExportValue.call(this,u,l)},s.prototype.toCompareValue=function(u){return ue.prototype.toCompareValue.call(this,u)},s.prototype.toCompareValueType=function(){return ue.prototype.toCompareValueType.call(this)},s.prototype.toCompareGroupValue=function(u,l){return ue.prototype.toCompareGroupValue.call(this,u,l)},s.prototype.toCompareGroupValueType=function(){return ue.prototype.toCompareGroupValueType.call(this)},s.prototype.getRenderer=function(){return ue.prototype.getRenderer.call(this)},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([$e("rename","clone","sort","sortBy","group","groupBy"),Ga("descending")],s)})(hn);const up=qj;var Xj=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function r1(p){return p===void 0&&(p="Reduce"),{type:"reduce",label:p}}var Zj=(function(p){function s(l,f){var d=p.call(this,l,cr(f,{renderer:"interleaving",groupRenderer:"interleaving",summaryRenderer:"interleaving"}))||this;return d.reduce=f.reduce||Jr.max,d}var u;return Xj(s,p),u=s,Object.defineProperty(s.prototype,"label",{get:function(){var l=p.prototype.getMetaData.call(this).label;return l!=="Reduce"?l:"".concat(this.reduce[0].toUpperCase()).concat(this.reduce.slice(1),"(").concat(this.children.map((function(f){return f.label})).join(", "),")")},enumerable:!1,configurable:!0}),s.prototype.getColor=function(l){var f=this._children;if(f.length===0||this.reduce===Jr.q1||this.reduce===Jr.q3||this.reduce===Jr.mean)return Ie;var d=this.compute(l),_=f.find((function(w){return w.getValue(l)===d}));return _?_.getColor(l):Ie},s.prototype.compute=function(l){var f=this._children.map((function(d){return d.getValue(l)})).filter((function(d){return!Number.isNaN(d)}));if(f.length===0)return NaN;switch(this.reduce){case Jr.mean:return f.reduce((function(d,_){return d+_}),0)/f.length;case Jr.max:return f.reduce((function(d,_){return Math.max(d,_)}),Number.NEGATIVE_INFINITY);case Jr.min:return f.reduce((function(d,_){return Math.min(d,_)}),Number.POSITIVE_INFINITY);case Jr.median:return Y(f);case Jr.q1:return q(f.sort((function(d,_){return d-_})),.25);case Jr.q3:return q(f.sort((function(d,_){return d-_})),.75)}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_REDUCE_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getReduce=function(){return this.reduce},s.prototype.setReduce=function(l){this.reduce!==l&&this.fire([u.EVENT_REDUCE_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.reduce,this.reduce=l)},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.reduce=this.reduce,f},s.prototype.restore=function(l,f){this.reduce=l.reduce||this.reduce,p.prototype.restore.call(this,l,f)},Object.defineProperty(s.prototype,"canJustAddNumbers",{get:function(){return!0},enumerable:!1,configurable:!0}),s.prototype.getExportValue=function(l,f){return f==="json"?{value:this.getRawNumber(l),children:this.children.map((function(d){return d.getExportValue(l,f)}))}:p.prototype.getExportValue.call(this,l,f)},s.EVENT_REDUCE_CHANGED="reduceChanged",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("reduce")],s)})(up);const jL=Zj;var Kj=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function Ag(p,s){return p===void 0&&(p="Weighted Sum"),s===void 0&&(s=!0),{type:"stack",label:p,showNestedSummaries:s}}var Jj=(function(p){function s(l,f){var d=p.call(this,l,cr(f,{renderer:"stack",groupRenderer:"stack",summaryRenderer:"stack"}))||this;d.collapsed=!1;var _=d;return d.adaptChange=function(w,x){_.adaptWidthChange(this.source,w,x)},d}var u;return Kj(s,p),u=s,Object.defineProperty(s.prototype,"label",{get:function(){var l=p.prototype.getMetaData.call(this).label,f=this._children;if(l!=="Weighted Sum"||f.length===0)return l;var d=this.getWeights();return f.map((function(_,w){return"".concat(_.label," (").concat(Vt(100*d[w],1),"%)")})).join(" + ")},enumerable:!1,configurable:!0}),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLLAPSE_CHANGED,u.EVENT_WEIGHTS_CHANGED,u.EVENT_MULTI_LEVEL_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.setCollapsed=function(l){this.collapsed!==l&&this.fire([u.EVENT_COLLAPSE_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.collapsed,this.collapsed=l)},s.prototype.getCollapsed=function(){return this.collapsed},s.prototype.isShowNestedSummaries=function(){return this.desc.showNestedSummaries!==!1},Object.defineProperty(s.prototype,"canJustAddNumbers",{get:function(){return!0},enumerable:!1,configurable:!0}),s.prototype.flatten=function(l,f,d,_){d===void 0&&(d=0),_===void 0&&(_=0);var w=null,x=d<=vt.FLAT_ALL_COLUMNS?this._children:this._children.filter((function(N){return N.isVisible()}));if(d===0||d<=vt.FLAT_ALL_COLUMNS){var T=this.getWidth();if(this.collapsed||(T+=(x.length-1)*_),l.push(w={col:this,offset:f,width:T}),d===0)return T}var D=f;return x.forEach((function(N){D+=N.flatten(l,D,d-1,_)+_})),w&&(w.width=D-f-_),D-f-_},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.collapsed=this.collapsed,f},s.prototype.restore=function(l,f){this.collapsed=l.collapsed===!0,p.prototype.restore.call(this,l,f)},s.prototype.insert=function(l,f,d){return d===void 0&&(d=NaN),Number.isNaN(d)||l.setWidth(d/(1-d)*this.getWidth()),l.on("".concat(vt.EVENT_WIDTH_CHANGED,".stack"),this.adaptChange),p.prototype.setWidth.call(this,this.length===0?l.getWidth():this.getWidth()+l.getWidth()),p.prototype.insert.call(this,l,f)},s.prototype.push=function(l,f){return f===void 0&&(f=NaN),this.insert(l,this.length,f)},s.prototype.insertAfter=function(l,f,d){d===void 0&&(d=NaN);var _=this.indexOf(f);return _<0?null:this.insert(l,_+1,d)},s.prototype.adaptWidthChange=function(l,f,d){if(!Qt(f,d,.5)){var _=this.getWeights(),w=this.getWidth(),x=f/w,T=(1-x-(d-f)/w)/(1-x),D=this._children.map((function(N){if(N===l)return d;var I=N.getWidth()*T,G=Number.isNaN(I)||I<1?0:I;return N.setWidthImpl(G),G}));p.prototype.setWidth.call(this,D.reduce((function(N,I){return N+I}),0)),this.fire([u.EVENT_WEIGHTS_CHANGED,u.EVENT_MULTI_LEVEL_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],_,this.getWeights())}},s.prototype.getWeights=function(){var l=this.getWidth();return this._children.map((function(f){return f.getWidth()/l}))},s.prototype.setWeights=function(l){var f,d=this.getWeights(),_=l.length-this.length;if(_<0){if((f=l.reduce((function(x,T){return x+T}),0))<=1)for(var w=0;w<-_;++w)l.push(1/-_*(1-f));else if(f<=100)for(w=0;w<-_;++w)l.push(1/-_*(100-f))}l=l.slice(0,this.length),f=l.reduce((function(x,T){return x+T}),0)/this.getWidth(),l=l.map((function(x){return x/f})),this._children.forEach((function(x,T){x.setWidthImpl(l[T])})),this.fire([u.EVENT_WEIGHTS_CHANGED,u.EVENT_MULTI_LEVEL_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],d,l)},s.prototype.removeImpl=function(l,f){return l.on("".concat(vt.EVENT_WIDTH_CHANGED,".stack"),null),p.prototype.setWidth.call(this,this.length===0?100:this.getWidth()-l.getWidth()),p.prototype.removeImpl.call(this,l,f)},s.prototype.setWidth=function(l){var f=l/this.getWidth();this._children.forEach((function(d){d.setWidthImpl(d.getWidth()*f)})),p.prototype.setWidth.call(this,l)},s.prototype.compute=function(l){var f=this.getWidth();return this._children.some((function(d){return d.getValue(l)===null}))?null:this._children.reduce((function(d,_){return d+_.getValue(l)*(_.getWidth()/f)}),0)},s.prototype.getRenderer=function(){return this.getCollapsed()&&this.isLoaded()?u.COLLAPSED_RENDERER:p.prototype.getRenderer.call(this)},s.prototype.getExportValue=function(l,f){return f==="json"?{value:this.getRawNumber(l),children:this.children.map((function(d){return d.getExportValue(l,f)}))}:p.prototype.getExportValue.call(this,l,f)},s.EVENT_COLLAPSE_CHANGED="collapseChanged",s.EVENT_WEIGHTS_CHANGED="weightsChanged",s.EVENT_MULTI_LEVEL_CHANGED="nestedChildRatio",s.COLLAPSED_RENDERER="number",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("editWeights","compress","expand")],s)})(up);const ji=Jj;var Qj=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),tY=(function(p){function s(l,f){var d=p.call(this,l,cr(f,{summaryRenderer:"nested"}))||this;d.collapsed=!1;var _=d;return d.adaptChange=function(w,x){_.adaptWidthChange(w,x)},d}var u;return Qj(s,p),u=s,s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLLAPSE_CHANGED,u.EVENT_MULTI_LEVEL_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.setCollapsed=function(l){this.collapsed!==l&&this.fire([ji.EVENT_COLLAPSE_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.collapsed,this.collapsed=l)},s.prototype.getCollapsed=function(){return this.collapsed},s.prototype.isShowNestedSummaries=function(){return this.desc.showNestedSummaries!==!1},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.collapsed=this.collapsed,f},s.prototype.restore=function(l,f){this.collapsed=l.collapsed===!0,p.prototype.restore.call(this,l,f)},s.prototype.flatten=function(l,f,d,_){return d===void 0&&(d=0),_===void 0&&(_=0),ji.prototype.flatten.call(this,l,f,d,_)},s.prototype.insert=function(l,f){return l.on("".concat(vt.EVENT_WIDTH_CHANGED,".stack"),this.adaptChange),p.prototype.setWidth.call(this,this.length===0?l.getWidth():this.getWidth()+l.getWidth()),p.prototype.insert.call(this,l,f)},s.prototype.adaptWidthChange=function(l,f){if(!Qt(l,f,.5)){var d=this.getWidth(),_=d+(f-l);this.fire([u.EVENT_MULTI_LEVEL_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],d,_),p.prototype.setWidth.call(this,_)}},s.prototype.removeImpl=function(l,f){return l.on("".concat(vt.EVENT_WIDTH_CHANGED,".stack"),null),p.prototype.setWidth.call(this,this.length===0?100:this.getWidth()-l.getWidth()),p.prototype.removeImpl.call(this,l,f)},s.prototype.setWidth=function(l){var f=this.getWidth(),d=l/f;this._children.forEach((function(_){_.setWidthImpl(_.getWidth()*d)})),Qt(f,l,.5)||this.fire([u.EVENT_MULTI_LEVEL_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY],f,l),p.prototype.setWidth.call(this,l)},s.prototype.getRenderer=function(){return this.getCollapsed()?u.COLLAPSED_RENDERER:p.prototype.getRenderer.call(this)},s.prototype.getExportValue=function(l,f){return f==="json"?{children:this.children.map((function(d){return d.getExportValue(l,f)}))}:p.prototype.getExportValue.call(this,l,f)},s.EVENT_COLLAPSE_CHANGED=ji.EVENT_COLLAPSE_CHANGED,s.EVENT_MULTI_LEVEL_CHANGED=ji.EVENT_MULTI_LEVEL_CHANGED,s.COLLAPSED_RENDERER="default",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("compress","expand")],s)})(hn);const YL=tY;var eY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function n1(p,s){return p===void 0&&(p="Nested"),s===void 0&&(s=!0),{type:"nested",label:p,showNestedSummaries:s}}const $L=(function(p){function s(){return p!==null&&p.apply(this,arguments)||this}return eY(s,p),s.prototype.toCompareValue=function(u){return tr(this.children.map((function(l){return l.toCompareValue(u)})))},s.prototype.toCompareValueType=function(){return tr(this.children.map((function(u){return u.toCompareValueType()})))},s.prototype.getLabel=function(u){return this.children.map((function(l){return l.getLabel(u)})).join(";")},s.prototype.getValue=function(u){return this.children.map((function(l){return l.getValue(u)})).join(";")},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([$e("rename","clone","sort","sortBy")],s)})(YL);var rY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),nY=(function(p){function s(l,f,d){var _=p.call(this,l,cr(f,{renderer:"mapbars"}))||this;return _.numberFormat=Ul,_.currentFilter=vi(),_.mapping=Ua(f,d),_.original=_.mapping.clone(),_.colorMapping=d.colorMappingFunction(f.colorMapping||f.color),_.sort=f.sort||Jr.median,f.numberFormat&&(_.numberFormat=Wi(f.numberFormat)),_}var u;return rY(s,p),u=s,s.prototype.getNumberFormat=function(){return this.numberFormat},s.prototype.toCompareValue=function(l){return Gb(this,l)},s.prototype.toCompareValueType=function(){return tt.FLOAT},s.prototype.getBoxPlotData=function(l){var f=this.getRawValue(l);if(f==null)return null;for(var d=lt(),_=0,w=f;_<w.length;_++){var x=w[_];d.push(Gr(x.value)?NaN:this.mapping.apply(x.value))}return d.build()},s.prototype.getRange=function(){return this.mapping.getRange(this.numberFormat)},s.prototype.getRawBoxPlotData=function(l){var f=this.getRawValue(l);if(f==null)return null;for(var d=lt(),_=0,w=f;_<w.length;_++){var x=w[_];d.push(Gr(x.value)?NaN:x.value)}return d.build()},s.prototype.getNumber=function(l){return Xc(this,l,"normalized")},s.prototype.getRawNumber=function(l){return Xc(this,l,"raw")},s.prototype.iterNumber=function(l){var f=this.getValue(l);return f?f.map((function(d){return d.value})):[NaN]},s.prototype.iterRawNumber=function(l){var f=this.getRawValue(l);return f?f.map((function(d){return d.value})):[NaN]},s.prototype.getValue=function(l){var f=this,d=this.getRawValue(l);return d.length===0?null:d.map((function(_){var w=_.key,x=_.value;return{key:w,value:Gr(x)?NaN:f.mapping.apply(x)}}))},s.prototype.getRawValue=function(l){var f=p.prototype.getValue.call(this,l);return f??[]},s.prototype.getExportValue=function(l,f){return f==="json"?this.getRawValue(l):p.prototype.getExportValue.call(this,l,f)},s.prototype.getLabels=function(l){var f=this;return this.getRawValue(l).map((function(d){var _=d.key,w=d.value;return{key:_,value:f.numberFormat(w)}}))},s.prototype.getSortMethod=function(){return this.sort},s.prototype.setSortMethod=function(l){this.sort!==l&&(this.fire([u.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=l),this.isSortedByMe().asc||this.sortByMe())},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.sortMethod=this.getSortMethod(),f.filter=Wa(this.currentFilter)?null:this.currentFilter,f.map=this.mapping.toJSON(),f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),l.sortMethod&&(this.sort=l.sortMethod),l.filter&&(this.currentFilter=Ds(l.filter)),(l.map||l.domain)&&(this.mapping=Ua(l,f)),l.colorMapping&&(this.colorMapping=f.colorMappingFunction(l.colorMapping))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_MAPPING_CHANGED,u.EVENT_SORTMETHOD_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getOriginalMapping=function(){return this.original.clone()},s.prototype.getMapping=function(){return this.mapping.clone()},s.prototype.setMapping=function(l){this.mapping.eq(l)||this.fire([u.EVENT_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.mapping.clone(),this.mapping=l)},s.prototype.getColor=function(l){return ue.prototype.getColor.call(this,l)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([u.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return ue.prototype.isFiltered.call(this)},s.prototype.getFilter=function(){return ue.prototype.getFilter.call(this)},s.prototype.setFilter=function(l){ue.prototype.setFilter.call(this,l)},s.prototype.filter=function(l){return ue.prototype.filter.call(this,l)},s.prototype.clearFilter=function(){return ue.prototype.clearFilter.call(this)},s.EVENT_MAPPING_CHANGED=ue.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=ue.EVENT_COLOR_MAPPING_CHANGED,s.EVENT_SORTMETHOD_CHANGED=ue.EVENT_SORTMETHOD_CHANGED,s.EVENT_FILTER_CHANGED=ue.EVENT_FILTER_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","filterNumber","colorMapped","editMapping"),pi("sort","sortNumbers"),Ga("descending")],s)})(Zc);const qL=nY;var iY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),aY=(function(p){function s(l,f){var d=p.call(this,l,cr(f,{renderer:"number",groupRenderer:"boxplot"}))||this;return d.lookup=new Map,d.currentFilter=null,d.categories=Fa(f),d.categories.forEach((function(_){return d.lookup.set(_.name,_)})),d.colorMapping=di,d}var u;return iY(s,p),u=s,s.prototype.onDataUpdate=function(l){var f,d=this;if(p.prototype.onDataUpdate.call(this,l),!this.desc.categories){var _=new Set;l.forEach((function(w){var x=p.prototype.getValue.call(d,w);x&&_.add(String(x))})),(f=this.categories).splice.apply(f,(function(w,x,T){if(arguments.length===2)for(var D,N=0,I=x.length;N<I;N++)!D&&N in x||(D||(D=Array.prototype.slice.call(x,0,N)),D[N]=x[N]);return w.concat(D||Array.prototype.slice.call(x))})([0,this.categories.length],Fa({categories:Array.from(_)}),!1)),this.categories.forEach((function(w){return d.lookup.set(w.name,w)}))}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_MAPPING_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getNumberFormat=function(){return Ul},Object.defineProperty(s.prototype,"dataLength",{get:function(){return this.categories.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"labels",{get:function(){return this.categories.map((function(l){return l.label}))},enumerable:!1,configurable:!0}),s.prototype.getValue=function(l){var f=this.getNumber(l);return Number.isNaN(f)?null:f},s.prototype.getCategory=function(l){var f=p.prototype.getValue.call(this,l);if(!f)return null;var d=String(f);return this.lookup.has(d)?this.lookup.get(d):null},s.prototype.getCategories=function(l){return[this.getCategory(l)]},s.prototype.iterCategory=function(l){return[this.getCategory(l)]},s.prototype.iterNumber=function(l){return[this.getNumber(l)]},s.prototype.iterRawNumber=function(l){return[this.getRawNumber(l)]},s.prototype.getColor=function(l){return Se.prototype.getColor.call(this,l)},s.prototype.getLabel=function(l){return Se.prototype.getLabel.call(this,l)},s.prototype.getLabels=function(l){return Se.prototype.getLabels.call(this,l)},s.prototype.getValues=function(l){return Se.prototype.getValues.call(this,l)},s.prototype.getMap=function(l){return Se.prototype.getMap.call(this,l)},s.prototype.getMapLabel=function(l){return Se.prototype.getMapLabel.call(this,l)},s.prototype.getSet=function(l){return Se.prototype.getSet.call(this,l)},s.prototype.getNumber=function(l){var f=this.getCategory(l);return f?f.value:NaN},s.prototype.getRawNumber=function(l){return this.getNumber(l)},s.prototype.getExportValue=function(l,f){if(f==="json"){var d=this.getNumber(l);return Number.isNaN(d)?null:{name:this.getLabel(l),value:d}}return p.prototype.getExportValue.call(this,l,f)},s.prototype.dump=function(l){var f=Se.prototype.dump.call(this,l);return f.mapping=this.getMapping(),f},s.prototype.restore=function(l,f){Se.prototype.restore.call(this,l,f),l.mapping&&this.setMapping(l.mapping)},s.prototype.getMapping=function(){return this.categories.map((function(l){return l.value}))},s.prototype.setMapping=function(l){var f=H(l);l=l.map((function(_){return(_-f[0])/(f[1]-f[0])}));var d=this.getMapping();ye(d,l)||(this.categories.forEach((function(_,w){return _.value=l[w]||0})),this.fire([u.EVENT_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],d,this.getMapping()))},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){return Se.prototype.setColorMapping.call(this,l)},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l){return Se.prototype.filter.call(this,l)},s.prototype.group=function(l){return Se.prototype.group.call(this,l)},s.prototype.getFilter=function(){return this.currentFilter},s.prototype.setFilter=function(l){return Se.prototype.setFilter.call(this,l)},s.prototype.clearFilter=function(){return Se.prototype.clearFilter.call(this)},s.prototype.toCompareValue=function(l){return Se.prototype.toCompareValue.call(this,l)},s.prototype.toCompareValueType=function(){return Se.prototype.toCompareValueType.call(this)},s.prototype.getRenderer=function(){return ue.prototype.getRenderer.call(this)},s.EVENT_MAPPING_CHANGED=ue.EVENT_MAPPING_CHANGED,s.EVENT_FILTER_CHANGED=Se.EVENT_FILTER_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=Se.EVENT_COLOR_MAPPING_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","group","filterOrdinal","colorMappedCategorical"),on("categorical")],s)})(Er);const Zl=aY;var oY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),XL=`let s = 0;
col.forEach((c) => s += c.v);
return s / col.length`;function i1(p){return p===void 0&&(p="script"),{type:"script",label:p,script:XL}}var sY=(function(){function p(s,u,l){this.c=s,this.v=u,this.raw=l}return Object.defineProperty(p.prototype,"type",{get:function(){return this.c.desc.type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"name",{get:function(){return this.c.getMetaData().label},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"id",{get:function(){return this.c.id},enumerable:!1,configurable:!0}),p})(),lY=(function(){function p(s,u){this.c=s,this.row=u}return Object.defineProperty(p.prototype,"type",{get:function(){return this.c.desc.type},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"name",{get:function(){return this.c.getMetaData().label},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"id",{get:function(){return this.c.id},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"v",{get:function(){return this.c.getValue(this.row)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"raw",{get:function(){return Je(this.c)?this.c.getRawNumber(this.row):null},enumerable:!1,configurable:!0}),p})(),ZL=(function(){function p(s,u){var l=this;this.children=s,this.allFactory=u,this.lookup=new Map,this._all=null,s.forEach((function(f){l.lookup.set("ID@".concat(f.id),f),l.lookup.set("ID@".concat(f.id.toLowerCase()),f),l.lookup.set("NAME@".concat(f.name),f),l.lookup.set("NAME@".concat(f.name.toLowerCase()),f)}))}return p.prototype.byName=function(s){return this.lookup.get("NAME@".concat(s))},p.prototype.byID=function(s){return this.lookup.get("ID@".concat(s))},p.prototype.byIndex=function(s){return this.children[s]},p.prototype.forEach=function(s){return this.children.forEach(s)},Object.defineProperty(p.prototype,"length",{get:function(){return this.children.length},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"all",{get:function(){return this._all==null&&(this._all=this.allFactory?this.allFactory():null),this._all},enumerable:!1,configurable:!0}),p})(),uY=(function(p){function s(l,f,d){var _=p.call(this,l,cr(f,{renderer:"number",groupRenderer:"boxplot",summaryRenderer:"histogram"}))||this;return _.script=u.DEFAULT_SCRIPT,_.f=null,_.currentFilter=vi(),_.script=f.script||_.script,_.mapping=Ua(f,d),_.original=_.mapping.clone(),_.colorMapping=d.colorMappingFunction(f.colorMapping||f.color),_}var u;return oY(s,p),u=s,s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_SCRIPT_CHANGED,u.EVENT_COLOR_MAPPING_CHANGED,u.EVENT_MAPPING_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.setScript=function(l){this.script!==l&&(this.f=null,this.fire([u.EVENT_SCRIPT_CHANGED,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.script,this.script=l))},s.prototype.getScript=function(){return this.script},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return f.script=this.script,f.filter=Wa(this.currentFilter)?null:this.currentFilter,f.map=this.mapping.toJSON(),f.colorMapping=this.colorMapping.toJSON(),f},s.prototype.restore=function(l,f){p.prototype.restore.call(this,l,f),this.script=l.script||this.script,l.filter&&(this.currentFilter=Ds(l.filter)),(l.map||l.domain)&&(this.mapping=Ua(l.map,f)),l.colorMapping&&(this.colorMapping=f.colorMappingFunction(l.colorMapping))},s.prototype.compute=function(l){var f,d=this;this.f==null&&(this.f=new Function("children","values","raws","col","row","index",((f=this.script.trim()).includes("return")||(f="return (".concat(f,");")),`
  const max = function(arr) { return Math.max.apply(Math, arr); };
  const min = function(arr) { return Math.min.apply(Math, arr); };
  const extent = function(arr) { return [min(arr), max(arr)]; };
  const clamp = function(v, minValue, maxValue) { return v < minValue ? minValue : (v > maxValue ? maxValue : v); };
  const normalize = function(v, minMax, max) {
    if (Array.isArray(minMax)) {
      minMax = minMax[0];
      max = minMax[1];
    }
    return (v - minMax) / (max - minMax);
  };
  const denormalize = function(v, minMax, max) {
    if (Array.isArray(minMax)) {
      minMax = minMax[0];
      max = minMax[1];
    }
    return v * (max - minMax) + minMax;
  };
  const linear = function(v, source, target) {
    target = target || [0, 1];
    return denormalize(normalize(v, source), target);
  };
  const v = (function custom() {
    `.concat(f,`
  })();

  return typeof v === 'number' ? v : NaN`))));var _=this._children,w=this._children.map((function(D){return D.getValue(l)})),x=this._children.map((function(D){return Je(D)?D.getRawNumber(l):null})),T=new ZL(_.map((function(D,N){return new sY(D,w[N],x[N])})),(function(){var D=d.findMyRanker().flatColumns;return new ZL(D.map((function(N){return new lY(N,l)})))}));return this.f.call(this,_,w,x,T,l.v,l.i)},s.prototype.getExportValue=function(l,f){return f==="json"?{value:this.getRawNumber(l),children:this.children.map((function(d){return d.getExportValue(l,f)}))}:p.prototype.getExportValue.call(this,l,f)},s.prototype.getRange=function(){return this.mapping.getRange(this.getNumberFormat())},s.prototype.getOriginalMapping=function(){return this.original.clone()},s.prototype.getMapping=function(){return this.mapping.clone()},s.prototype.setMapping=function(l){this.mapping.eq(l)||this.fire([u.EVENT_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.mapping.clone(),this.mapping=l)},s.prototype.getColor=function(l){return ue.prototype.getColor.call(this,l)},s.prototype.getColorMapping=function(){return this.colorMapping.clone()},s.prototype.setColorMapping=function(l){this.colorMapping.eq(l)||this.fire([u.EVENT_COLOR_MAPPING_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.colorMapping.clone(),this.colorMapping=l)},s.prototype.isFiltered=function(){return ue.prototype.isFiltered.call(this)},s.prototype.getFilter=function(){return ue.prototype.getFilter.call(this)},s.prototype.setFilter=function(l){ue.prototype.setFilter.call(this,l)},s.prototype.filter=function(l){return ue.prototype.filter.call(this,l)},s.prototype.clearFilter=function(){return ue.prototype.clearFilter.call(this)},s.EVENT_MAPPING_CHANGED=ue.EVENT_MAPPING_CHANGED,s.EVENT_COLOR_MAPPING_CHANGED=ue.EVENT_COLOR_MAPPING_CHANGED,s.EVENT_SCRIPT_CHANGED="scriptChanged",s.DEFAULT_SCRIPT=XL,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("script","filterNumber","colorMapped","editMapping"),Ga("descending")],s)})(up);const a1=uY;var cY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),fY=(function(p){function s(u,l){var f,d=p.call(this,u,cr(l,{width:200,renderer:"map"}))||this;return d.alignment=(f=l.alignment)!==null&&f!==void 0?f:Ho.left,d.escape=l.escape!==!1,d}return cY(s,p),s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.getValue=function(u){var l=this.getMapValue(u);return l.every((function(f){return f.value===""}))?null:l},s.prototype.getMapValue=function(u){return p.prototype.getMap.call(this,u).map((function(l){var f=l.key,d=l.value;return{key:f,value:Gr(d)?"":String(d)}}))},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([$e("rename","search")],s)})(Zc);const KL=fY;var hY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),pY=(function(p){function s(u,l){var f,d=p.call(this,u,cr(l,{width:200}))||this;return d.alignment=(f=l.alignment)!==null&&f!==void 0?f:Ho.left,d.escape=l.escape!==!1,d}return hY(s,p),s.prototype.getValues=function(u){return p.prototype.getValues.call(this,u).map((function(l){return Gr(l)?"":String(l)}))},(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([$e("rename","search")],s)})(Fl);const JL=pY;var dY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),vY=(function(p){function s(l,f){var d,_=p.call(this,l,cr(f,Object.assign({width:200},f.pattern?{renderer:"link",groupRenderer:"link"}:{})))||this;return _.patternFunction=null,_.currentFilter=null,_.currentGroupCriteria={type:Tn.startsWith,values:[]},_.alignment=(d=f.alignment)!==null&&d!==void 0?d:Ho.left,_.escape=f.escape!==!1,_.pattern=f.pattern||"",_.patternTemplates=f.patternTemplates||[],_}var u;return dY(s,p),u=s,s.prototype.setPattern=function(l){l!==this.pattern&&(this.patternFunction=null,this.fire([u.EVENT_PATTERN_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_DIRTY_VALUES,vt.EVENT_DIRTY_CACHES,vt.EVENT_DIRTY],this.pattern,this.pattern=l))},s.prototype.getPattern=function(){return this.pattern},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_PATTERN_CHANGED,u.EVENT_GROUPING_CHANGED,u.EVENT_FILTER_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getValue=function(l){var f=this.getLink(l);return f==null?null:f.href},s.prototype.getLink=function(l){var f=p.prototype.getValue.call(this,l);return this.transformValue(f,l)},s.prototype.transformValue=function(l,f){return l==null||l===""?null:typeof l=="string"?this.pattern?(this.patternFunction||(this.patternFunction=fb(this.pattern,"item")),{alt:l,href:this.patternFunction.call(this,l,f.v)}):{alt:l,href:l}:l},s.prototype.getLabel=function(l){var f=this.getLink(l);return f==null?"":f.alt},s.prototype.dump=function(l){var f=Dr.prototype.dump.call(this,l);return this.pattern!==this.desc.pattern&&(f.pattern=this.pattern),f},s.prototype.restore=function(l,f){Dr.prototype.restore.call(this,l,f),l.pattern&&(this.pattern=l.pattern)},s.prototype.isFiltered=function(){return this.currentFilter!=null},s.prototype.filter=function(l){return Dr.prototype.filter.call(this,l)},s.prototype.getFilter=function(){return this.currentFilter},s.prototype.setFilter=function(l){return Dr.prototype.setFilter.call(this,l)},s.prototype.clearFilter=function(){return Dr.prototype.clearFilter.call(this)},s.prototype.getGroupCriteria=function(){return this.currentGroupCriteria},s.prototype.setGroupCriteria=function(l){return Dr.prototype.setGroupCriteria.call(this,l)},s.prototype.toCompareValue=function(l){return Dr.prototype.toCompareValue.call(this,l)},s.prototype.toCompareValueType=function(){return Dr.prototype.toCompareValueType.call(this)},s.prototype.toCompareGroupValue=function(l,f){return Dr.prototype.toCompareGroupValue.call(this,l,f)},s.prototype.toCompareGroupValueType=function(){return Dr.prototype.toCompareGroupValueType.call(this)},s.prototype.group=function(l){return Dr.prototype.group.call(this,l)},s.EVENT_FILTER_CHANGED=Dr.EVENT_FILTER_CHANGED,s.EVENT_GROUPING_CHANGED=Dr.EVENT_GROUPING_CHANGED,s.EVENT_PATTERN_CHANGED="patternChanged",u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","clone","sort","sortBy","search","groupBy","filterString","editPattern"),pi("group","groupString"),on("string")],s)})(Er);const Uo=vY;var gY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),yY=(function(p){function s(u,l){var f,d,_,w=p.call(this,u,cr(l,{width:200,renderer:"map"}))||this;return w.patternFunction=null,w.alignment=(f=l.alignment)!==null&&f!==void 0?f:Ho.left,w.escape=l.escape!==!1,w.pattern=(d=l.pattern)!==null&&d!==void 0?d:"",w.patternTemplates=(_=l.patternTemplates)!==null&&_!==void 0?_:[],w}return gY(s,p),s.prototype.setPattern=function(u){Uo.prototype.setPattern.call(this,u)},s.prototype.getPattern=function(){return this.pattern},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([Uo.EVENT_PATTERN_CHANGED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.getValue=function(u){var l=this.getLinkMap(u);return l.every((function(f){return f.value==null}))?null:l.map((function(f){var d=f.key,_=f.value;return{key:d,value:_?_.href:""}}))},s.prototype.getLabels=function(u){return this.getLinkMap(u).map((function(l){var f=l.key,d=l.value;return{key:f,value:d?d.alt:""}}))},s.prototype.getLinkMap=function(u){var l=this;return p.prototype.getMap.call(this,u).map((function(f){var d=f.key,_=f.value;return{key:d,value:l.transformValue(_,u,d)}}))},s.prototype.transformValue=function(u,l,f){return u==null||u===""?null:typeof u=="string"?this.pattern?(this.patternFunction||(this.patternFunction=fb(this.pattern,"item","key")),{alt:u,href:this.patternFunction.call(this,u,l.v,f)}):{alt:u,href:u}:u},s.prototype.dump=function(u){var l=p.prototype.dump.call(this,u);return this.pattern!==this.desc.pattern&&(l.pattern=this.pattern),l},s.prototype.restore=function(u,l){u.pattern&&(this.pattern=u.pattern),p.prototype.restore.call(this,u,l)},s.EVENT_PATTERN_CHANGED=Uo.EVENT_PATTERN_CHANGED,(function(u,l,f,d){var _,w=arguments.length,x=w<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,f):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,l,f,d);else for(var T=u.length-1;T>=0;T--)(_=u[T])&&(x=(w<3?_(x):w>3?_(l,f,x):_(l,f))||x);return w>3&&x&&Object.defineProperty(l,f,x),x})([$e("rename","search","editPattern")],s)})(Zc);const o1=yY;var mY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),_Y=(function(p){function s(l,f){var d,_,w,x=p.call(this,l,cr(f,{width:200}))||this;return x.patternFunction=null,x.alignment=(d=f.alignment)!==null&&d!==void 0?d:Ho.left,x.escape=f.escape!==!1,x.pattern=(_=f.pattern)!==null&&_!==void 0?_:"",x.patternTemplates=(w=f.patternTemplates)!==null&&w!==void 0?w:[],x}var u;return mY(s,p),u=s,s.prototype.setPattern=function(l){return Uo.prototype.setPattern.call(this,l)},s.prototype.getPattern=function(){return this.pattern},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([u.EVENT_PATTERN_CHANGED])},s.prototype.on=function(l,f){return p.prototype.on.call(this,l,f)},s.prototype.getValues=function(l){return this.getLinks(l).map((function(f){return f?f.href:""}))},s.prototype.getLabels=function(l){return this.getLinks(l).map((function(f){return f?f.alt:""}))},s.prototype.transformValue=function(l,f,d){return l==null||l===""?null:typeof l=="string"?this.pattern?(this.patternFunction||(this.patternFunction=fb(this.pattern,"item","index")),{alt:l,href:this.patternFunction.call(this,l,f.v,d)}):{alt:l,href:l}:l},s.prototype.getLinks=function(l){var f=this;return p.prototype.getValues.call(this,l).map((function(d,_){return f.transformValue(d,l,_)}))},s.prototype.dump=function(l){var f=p.prototype.dump.call(this,l);return this.pattern!==this.desc.pattern&&(f.pattern=this.pattern),f},s.prototype.restore=function(l,f){l.pattern&&(this.pattern=l.pattern),p.prototype.restore.call(this,l,f)},s.EVENT_PATTERN_CHANGED=Uo.EVENT_PATTERN_CHANGED,u=(function(l,f,d,_){var w,x=arguments.length,T=x<3?f:_===null?_=Object.getOwnPropertyDescriptor(f,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,f,d,_);else for(var D=l.length-1;D>=0;D--)(w=l[D])&&(T=(x<3?w(T):x>3?w(f,d,T):w(f,d))||T);return x>3&&T&&Object.defineProperty(f,d,T),T})([$e("rename","search","editPattern")],s)})(Fl);const QL=_Y;var Zn=Symbol("aborted");function s1(p,s,u){return function(l,f){return{then:s1(p.then((function(d){var _,w=s()?Zn:d,x=l?l(w):w;return(_=x)!=null&&typeof _.then=="function"?x.then((function(T){return s()?Zn:T})):s()?Zn:x})),s,u),abort:u,isAborted:s}}}function tN(p){var s=null,u=function(){return s===null},l=new Promise((function(d){s=d})),f=function(){s!=null&&(s(Zn),s=null)};return{then:s1(Promise.race([l,p]),u,f),abort:f,isAborted:u}}function cp(p){var s=Promise.all(p),u=null,l=function(){return u===null},f=new Promise((function(_){u=_})),d=function(){if(u!=null){u(Zn);for(var _=0,w=p;_<w.length;_++){var x=w[_];Kl(x)&&x.abort()}u=null}};return{then:s1(Promise.race([f,s]),l,d),abort:d,isAborted:l}}function Kl(p){return p!=null&&p&&typeof p.then=="function"&&typeof p.abort=="function"}function Wo(p){return p!=null&&p&&Kl(p.ready)}var eN="https://lineup.js.org/develop/schema.4.0.0.json",bY=i(693),SY=i.n(bY);function rN(p){return typeof p=="string"&&(p.includes(".")||p.includes("["))}function jo(p,s){return p!=null&&p[s]!=null?p[s]:SY()(p,s)}function nN(p,s){return jo(p.v,s.column)}function iN(p,s){return p.v[s.column]}function wY(p,s){return rN(s.column)?nN(p,s):iN(p,s)}function l1(p){return p.delete(null),p.delete(void 0),p.delete(""),p.delete("NA"),p.delete("NaN"),p.delete("na"),Array.from(p).map(String).sort()}function ga(p){return p==null||Array.isArray(p)&&p.length===0||p instanceof Set&&p.size===0||p instanceof Map&&p.size===0||ke({},p)}function fp(p,s,u,l){if(p==null)return console.warn("cannot derive from null value for column: ",u),null;if(typeof p=="number")return{type:"number",domain:H(s())};if(typeof p=="boolean")return{type:"boolean"};if(p instanceof Date)return{type:"date"};if(typeof p=="object"&&p.alt!=null&&p.href!=null||typeof p=="string"&&(function(D){var N=D.indexOf("://");if(N<0)return!1;var I=D.slice(0,N);return["http","https","ftp"].includes(I)})(p))return{type:"link"};for(var f=0,d=Array.isArray(l.datePattern)?l.datePattern:[l.datePattern];f<d.length;f++){var _=d[f];if(Ls(_)(p)!=null)return{type:"date",dateParse:_}}var w=typeof l.categoricalThreshold=="function"?l.categoricalThreshold:function(D,N){return D<N*l.categoricalThreshold};if(typeof p=="string"){var x=s(),T=new Set(x);return w(T.size,x.length)?{type:"categorical",categories:l1(T)}:{type:"string"}}return null}function u1(p,s){s===void 0&&(s={});var u=Object.assign({categoricalThreshold:function(f,d){return f<=v9&&f<.7*d},columns:[],datePattern:["%x","%Y-%m-%d","%Y-%m-%dT%H:%M:%S.%LZ"]},s);if(p.length===0)return[];var l=p[0];return(Array.isArray(l)?(function(f){for(var d=new Array(f),_=0;_<f;++_)d[_]=_;return d})(l.length):u.columns.length>0?(function(f,d){if(!d.every((function(w){return w.startsWith("-")})))return d;var _=new Set(d);return f.filter((function(w){return!_.has("-".concat(w))}))})(Object.keys(l),u.columns):Object.keys(l)).map((function(f){var d=jo(l,f);if(ga(d)){var _=p.find((function(w){return!ga(jo(w,f))}));d=_?_[f]:null}return(function(w,x,T,D,N){var I,G={type:"string",label:w,column:T},B=fp(x,D,T,N);if(B!=null)return Object.assign(G,B);if(x instanceof Set){for(var U=new Set,$=0,K=D();$<K.length;$++){var nt=K[$];nt instanceof Set&&nt.forEach((function(ut){U.add(String(ut))}))}return Object.assign(G,{type:"set",categories:l1(U)})}if(x instanceof Map){var at=function(){for(var ut=[],kt=0,jt=D();kt<jt.length;kt++){var Nt=jt[kt];Nt instanceof Map&&Nt.forEach((function(te){ga(te)||ut.push(te)}))}return ut},ct=fp(I=Array.from(x.values()).find((function(ut){return!ga(ut)})),at,T,N);return Object.assign(G,ct||{},{type:ct?"".concat(ct.type,"Map"):"stringMap"})}if(Array.isArray(x)){var wt=D(),Tt=!(function(ut){if(ut.length===0)return!1;var kt=ut[0].length;return ut.some((function(jt){return jt!=null&&kt!==(Array.isArray(jt)?jt.length:-1)}))})(wt);if(Tt&&(G.dataLength=x.length),(ct=fp(I=x.find((function(ut){return!ga(ut)})),(function(){return tr(wt).filter((function(ut){return!ga(ut)}))}),T,N))&&ct.type==="categorical"&&!Tt)return Object.assign(G,ct,{type:"set"});if(ct||ga(I))return Object.assign(G,ct||{},{type:ct?"".concat(ct.type,"s"):"strings"});if(typeof I=="object"&&I.key!=null&&I.value!=null){at=function(){for(var ut=[],kt=0,jt=wt;kt<jt.length;kt++){var Nt=jt[kt];if(Array.isArray(Nt))for(var te=0,zt=Nt;te<zt.length;te++){var Le=zt[te];ga(Le)||ut.push(Le)}}return ut};var Ot=fp(I.value,at,T,N);return Object.assign(G,Ot||{},{type:Ot?"".concat(Ot.type,"Map"):"stringMap"})}}if(x!==null&&typeof x=="object"&&["min","max","median","q1","q3"].every((function(ut){return typeof x[ut]=="number"}))){var Wt=D();return Object.assign(G,{type:"boxplot",domain:[Wt.reduce((function(ut,kt){return Math.min(ut,kt.min)}),Number.POSITIVE_INFINITY),Wt.reduce((function(ut,kt){return Math.max(ut,kt.max)}),Number.NEGATIVE_INFINITY)]})}return x!==null&&typeof x=="object"?(at=function(){for(var ut=[],kt=function(te){if(te==null)return"continue";Object.keys(te).forEach((function(zt){var Le=te[zt];ga(Le)||ut.push(Le)}))},jt=0,Nt=D();jt<Nt.length;jt++)kt(Nt[jt]);return ut},ct=fp(I=Object.keys(x).map((function(ut){return x[ut]})).filter((function(ut){return!ga(ut)})),at,T,N),Object.assign(G,ct||{},{type:ct?"".concat(ct.type,"Map"):"stringMap"})):(console.log("cannot infer type of column:",T),G)})((function(w){return typeof w=="number"?"Col ".concat(w+1):(w=w.trim()).length===0?"Unknown":w.split(/[\s]+/gm).map((function(x){return x.length===0?x:"".concat(x[0].toUpperCase()).concat(x.slice(1))})).join(" ")})(f),d,f,(function(){return p.map((function(w){return jo(w,f)})).filter((function(w){return!ga(w)}))}),u)}))}function c1(p){var s=db();return p.forEach((function(u){Xe(u)&&(u.colorMapping=u.colorMapping||u.color||s()||Ie)})),p}var aN={separator:"	",newline:`
`,header:!0,quote:!1,quoteChar:'"',filter:function(p){return!kl(p)},verboseColumnHeaders:!1};function oN(p,s){var u=new RegExp("[".concat(s.quoteChar,"]"),"g");function l(f,d){var _=String(f);return!(s.quote||_.indexOf(`
`)>=0)||d&&Je(d)?_:"".concat(s.quoteChar).concat(_.replace(u,s.quoteChar+s.quoteChar)).concat(s.quoteChar)}return{addHeader:function(){return p.map((function(f){return l("".concat(f.label).concat(s.verboseColumnHeaders&&f.description?`
`.concat(f.description):""))})).join(s.separator)},addRow:function(f){return p.map((function(d){return l(d.getExportValue(f,"text"),d)})).join(s.separator)}}}function f1(p,s,u){u===void 0&&(u={});var l=Object.assign({},aN,u),f=p.flatColumns.filter((function(x){return l.filter(x)})),d=p.getOrder(),_=oN(f,l),w=[];return l.header&&w.push(_.addHeader()),s.forEach((function(x,T){w.push(_.addRow({v:x,i:d[T]}))})),w.join(l.newline)}function h1(p,s,u){u===void 0&&(u={});var l=Object.assign({},aN,u),f=p instanceof fe?p.flatColumns.filter((function(w){return l.filter(w)})):p,d=oN(f,l),_=[];return l.header&&_.push(d.addHeader()),s.forEach((function(w){_.push(d.addRow(w))})),_.join(l.newline)}function xY(p){var s={};return p.forEach((function(u,l){return s[l]=u})),s}function sN(p,s,u,l,f){var d=p.getRankings().find((function(N){return N.id===s}));if(!d)return!1;var _=p.getSelection();if(_.length===0||_.includes(u))return!1;var w=d.getOrder(),x=new Map(Array.from(w).map((function(N,I){return[N,I]}))),T=_.map((function(N){var I=x.has(N)?x.get(N):Number.POSITIVE_INFINITY;return{s:N,index:I,distance:Math.abs(l-I)}})).sort((function(N,I){return N.distance-I.distance}))[0];if(!isFinite(T.distance))return!1;if(f||(_.splice(0,_.length),_.push(T.s)),T.index<l)for(var D=T.index+1;D<=l;++D)_.push(w[D]);else for(D=l;D<=T.index;++D)_.push(w[D]);return p.setSelection(_),!0}function p1(p){return p!=null&&typeof p.then=="function"}function d1(p){return p==="group+item"||p==="group+item+top"||p==="group+top+item"}function Mg(p,s,u){return p===0?s.order.length===1?"first last":"first":p===s.order.length-1||u>0&&p===u-1?"last":null}function v1(p,s){for(var u=[{group:p,meta:s}],l=p,f=s,d=p.parent;d;)s=d.subGroups.length===1&&f==="first last"?"first last":d.subGroups[0]!==l||f!=="first last"&&f!=="first"?d.subGroups[d.subGroups.length-1]!==l||f!=="last"&&f!=="first last"?null:"last":"first",u.unshift({group:d,meta:s}),l=d,f=s,d=d.parent;return u}function Dg(p,s){var u=It(p)?p:p.group,l=It(p)?"first last":Mg(p.relativeIndex,p.group,s(u));if(l!=="last"&&l!=="first last")return 0;for(var f=u,d=u.parent,_=1;d;){if(d.subGroups.length!==1&&d.subGroups[d.subGroups.length-1]!==f)return _;++_,f=d,d=d.parent}return _}function g1(p,s,u){var l=u(p);return d1(s)&&l!==0}var EY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),y1=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function m1(p){switch(p.primaryType||""){case fe.EVENT_DIRTY_ORDER:return p.args[0]||[Ar.UNKNOWN];case fe.EVENT_SORT_CRITERIA_CHANGED:return[Ar.SORT_CRITERIA_CHANGED];case fe.EVENT_GROUP_CRITERIA_CHANGED:return[Ar.GROUP_CRITERIA_CHANGED];case fe.EVENT_GROUP_SORT_CRITERIA_CHANGED:return[Ar.GROUP_SORT_CRITERIA_CHANGED];default:return[Ar.UNKNOWN]}}function TY(p,s){for(var u=m1(p.self),l=m1(s.self),f=new Set(u),d=0,_=l;d<_.length;d++){var w=_[d];f.add(w)}var x=[Array.from(f)];return{self:{primaryType:fe.EVENT_DIRTY_ORDER,args:x},args:x}}var CY=(function(p){function s(u){u===void 0&&(u={});var l=p.call(this)||this;return l.rankings=[],l.selection=new Wh,l.aggregations=new Map,l.uid=0,l.options={columnTypes:{},colorMappingFunctionTypes:{},mappingFunctionTypes:{},singleSelection:!1,showTopN:10,aggregationStrategy:"item",propagateAggregationState:!0},Object.assign(l.options,u),l.columnTypes=Object.assign({actions:xb,aggregate:Xh,annotate:Eb,boolean:rg,booleans:DD,boxplot:Ti,categorical:Se,categoricalMap:uL,categoricals:cL,date:Hr,dateMap:OL,dates:op,group:$b,hierarchy:PL,imposition:Qb,impositionBoxPlot:UL,impositions:WL,reduce:jL,nested:$L,number:ue,numbers:An,numberMap:qL,ordinal:Zl,rank:tg,script:a1,selection:wb,set:Gl,stack:ji,string:Dr,stringMap:KL,strings:JL,link:Uo,linkMap:o1,links:QL},l.options.columnTypes),l.colorMappingFunctionTypes=Object.assign((function(){for(var f,d=((f={})[Ie]=va,f.quantized=qa,f.custom=Ns,f),_=0,w=Object.keys(Ya.FUNCTIONS);_<w.length;_++)d[w[_]]=Ya;for(var x=0,T=Object.keys($a.FUNCTIONS);x<T.length;x++)d[T[x]]=$a;return d})(),l.options.colorMappingFunctionTypes),l.mappingFunctionTypes=Object.assign(aL(),l.options.mappingFunctionTypes),l.showTopN=l.options.showTopN,l.typeFactory=l.createTypeFactory(),l}return EY(s,p),s.prototype.createTypeFactory=function(){var u,l=this,f=function(d){var _=l.fromDescRef(d.desc);if(!_||!_.type)return console.warn("cannot restore column dump",d),new vt(d.id||"",d.desc||{});l.fixDesc(_);var w=l.columnTypes[_.type];if(w==null)return console.warn("invalid column type in column dump using column",d),new vt(d.id||"",_);var x=l.instantiateColumn(w,"",_,l.typeFactory);return x.restore(d,f),l.patchColumn(x)};return f.colorMappingFunction=(function(d,_){return function(w){if(!w)return lp;if(typeof w=="function")return new zL(w);var x=typeof w=="string"?w:w.type,T=d[x];return T?new T(w,_):Array.isArray(w)?new Ns(w):new va(w.toString())}})(this.colorMappingFunctionTypes,f),f.mappingFunction=(u=this.mappingFunctionTypes,function(d){if(typeof d=="function")return new qc([0,1],d);if(!d||!d.type)return new Fr;var _=u[d.type];return _?new _(d):(console.warn("invalid mapping type dump",d),new Fr(d.domain||[0,1],"linear",d.range||[0,1]))}),f.categoricalColorMappingFunction=S9,f},s.prototype.getTypeFactory=function(){return this.typeFactory},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_DATA_CHANGED,s.EVENT_BUSY,s.EVENT_SHOWTOPN_CHANGED,s.EVENT_ADD_COLUMN,s.EVENT_REMOVE_COLUMN,s.EVENT_MOVE_COLUMN,s.EVENT_ADD_RANKING,s.EVENT_REMOVE_RANKING,s.EVENT_DIRTY,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES,s.EVENT_ORDER_CHANGED,s.EVENT_SELECTION_CHANGED,s.EVENT_ADD_DESC,s.EVENT_CLEAR_DESC,s.EVENT_JUMP_TO_NEAREST,s.EVENT_GROUP_AGGREGATION_CHANGED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.pushRanking=function(u){var l=this.cloneRanking(u);return this.insertRanking(l),l},s.prototype.fireBusy=function(u){this.fire(s.EVENT_BUSY,u)},s.prototype.takeSnapshot=function(u){var l=this;this.fireBusy(!0);var f=this.cloneRanking(),d=u.findMyRanker(),_=u.desc.type==="string",w=!1,x=d?d.children.filter((function(T){return T===u?(w=!0,!0):_||T.desc.type!=="string"?kl(T):(_=!0,!0)})):[u];return w||x.push(u),x.forEach((function(T){var D=l.clone(T);f.push(D),T===u&&D.sortByMe()})),this.insertRanking(f),this.fireBusy(!1),f},s.prototype.insertRanking=function(u,l){l===void 0&&(l=this.rankings.length),this.rankings.splice(l,0,u),this.forward.apply(this,y1([u],s.FORWARD_RANKING_EVENTS,!1));var f=this;u.on("".concat(fe.EVENT_DIRTY_ORDER,".provider"),Ba((function(){f.triggerReorder(u,m1(this))}),100,TY)),this.fire([s.EVENT_ADD_RANKING,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l),this.triggerReorder(u)},s.prototype.triggerReorder=function(u,l){var f=this;this.fireBusy(!0);var d=l||[Ar.UNKNOWN];Promise.resolve(this.sort(u,d)).then((function(_){var w=_.groups,x=_.index2pos;u.getGroupSortCriteria().length===0&&(w=(function(T){if(T.length<=1)return T;var D=T.map((function(I){for(var G=[I],B=I.parent;B;)G.unshift(B),B=B.parent;return G})),N=function(I,G){for(var B,U,$,K=[];I.length>0;){var nt=I.shift();if(Xv(nt)&&nt.subGroups.length!==0){var at=jh({},nt);for(K.push(at);I.length>0&&(U=at,($=I[0]).name===U.name&&$.parent===U.parent&&Xv($)&&$.subGroups.length>0);)(B=at.subGroups).push.apply(B,I.shift().subGroups);for(var ct=0,wt=at.subGroups;ct<wt.length;ct++)wt[ct].parent=at;at.subGroups=N(at.subGroups)}else K.push(nt)}return K};return N(D.map((function(I){return I[0]}))),T})(w)),f.initAggregateState(u,w),u.setGroups(w,x,d),f.fireBusy(!1)}))},s.prototype.removeRanking=function(u){var l=this.rankings.indexOf(u);return!(l<0||(this.unforward.apply(this,y1([u],s.FORWARD_RANKING_EVENTS,!1)),this.rankings.splice(l,1),u.on("".concat(fe.EVENT_DIRTY_ORDER,".provider"),null),this.cleanUpRanking(u),this.fire([s.EVENT_REMOVE_RANKING,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l),0))},s.prototype.clearRankings=function(){var u=this;this.rankings.forEach((function(l){u.unforward.apply(u,y1([l],s.FORWARD_RANKING_EVENTS,!1)),l.on("".concat(fe.EVENT_DIRTY_ORDER,".provider"),null),u.cleanUpRanking(l)})),this.rankings.splice(0,this.rankings.length),this.fire([s.EVENT_REMOVE_RANKING,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],null,-1)},s.prototype.clearFilters=function(){this.rankings.forEach((function(u){return u.clearFilters()}))},s.prototype.getRankings=function(){return this.rankings.slice()},s.prototype.getFirstRanking=function(){return this.rankings[0]||null},s.prototype.getLastRanking=function(){return this.rankings[this.rankings.length-1]},s.prototype.ensureOneRanking=function(){if(this.rankings.length===0){var u=this.pushRanking();this.push(u,zc())}},s.prototype.destroy=function(){},s.prototype.cleanUpRanking=function(u){},s.prototype.push=function(u,l){var f=this.create(l);return f?(u.push(f),f):null},s.prototype.insert=function(u,l,f){var d=this.create(f);return d?(u.insert(d,l),d):null},s.prototype.nextId=function(){return"col".concat(this.uid++)},s.prototype.fixDesc=function(u){var l=this;return u.type==="selection"?(u.accessor=function(f){return l.isSelected(f.i)},u.setter=function(f,d){return d?l.select(f):l.deselect(f)},u.setterAll=function(f,d){return d?l.selectAll(f):l.deselectAll(f)}):u.type==="aggregate"&&(u.isAggregated=function(f,d){return l.getAggregationState(f,d)},u.setAggregated=function(f,d,_){return l.setAggregationState(f,d,_)}),u},s.prototype.cleanDesc=function(u){return u.type==="selection"?(delete u.accessor,delete u.setter,delete u.setterAll):u.type==="aggregate"&&(delete u.isAggregated,delete u.setAggregated),u},s.prototype.create=function(u){this.fixDesc(u);var l=this.columnTypes[u.type];return l?this.patchColumn(this.instantiateColumn(l,this.nextId(),u,this.typeFactory)):null},s.prototype.patchColumn=function(u){return u},s.prototype.instantiateColumn=function(u,l,f,d){return new u(l,f,d)},s.prototype.clone=function(u){var l=this.dumpColumn(u);return this.restoreColumn(l)},s.prototype.restoreColumn=function(u){var l=this.typeFactory(u);return l.assignNewId(this.nextId.bind(this)),l},s.prototype.find=function(u){for(var l=typeof u=="string"?function(w){return w.id===u}:u,f=0,d=this.rankings;f<d.length;f++){var _=d[f].find(l);if(_)return _}return null},s.prototype.dump=function(){var u=this;return{$schema:eN,uid:this.uid,selection:this.getSelection(),aggregations:xY(this.aggregations),rankings:this.rankings.map((function(l){return l.dump(u.toDescRef.bind(u))})),showTopN:this.showTopN}},s.prototype.dumpColumn=function(u){return u.dump(this.toDescRef.bind(this))},s.prototype.toDescRef=function(u){return u},s.prototype.fromDescRef=function(u){return u},s.prototype.restoreRanking=function(u){var l=this.cloneRanking();l.restore(u,this.typeFactory);var f=this.nextId.bind(this);return l.children.forEach((function(d){return d.assignNewId(f)})),l},s.prototype.restore=function(u){var l=this;this.clearRankings(),this.uid=u.uid||0,u.selection&&u.selection.forEach((function(d){return l.selection.add(d)})),u.showTopN!=null&&(this.showTopN=u.showTopN),u.aggregations&&(this.aggregations.clear(),Array.isArray(u.aggregations)?u.aggregations.forEach((function(d){return l.aggregations.set(d,0)})):(function(d){for(var _=new Map,w=0,x=Object.keys(d);w<x.length;w++){var T=x[w];_.set(T,d[T])}return _})(u.aggregations).forEach((function(d,_){return l.aggregations.set(_,d)}))),u.rankings&&u.rankings.forEach((function(d){var _=l.cloneRanking();_.restore(d,l.typeFactory),_.children.some((function(w){return w instanceof tg}))||_.insert(l.create(zc()),0),l.insertRanking(_)}));var f=this.nextId.bind(this);this.rankings.forEach((function(d){d.children.forEach((function(_){return _.assignNewId(f)}))}))},s.prototype.deriveDefault=function(u){var l=this;u===void 0&&(u=!0);var f=this.pushRanking();return u&&(f.push(this.create(Qv())),f.push(this.create(zc())),this.options.singleSelection!==!0&&f.push(this.create(eg()))),this.getColumns().forEach((function(d){var _=l.create(d);_&&!kl(_)&&f.push(_)})),f},s.prototype.isAggregated=function(u,l){return this.getTopNAggregated(u,l)>=0},s.prototype.getAggregationState=function(u,l){var f=this.getTopNAggregated(u,l);return f<0?er.EXPAND:f===0?er.COLLAPSE:er.EXPAND_TOP_N},s.prototype.setAggregated=function(u,l,f){return this.setAggregationState(u,l,f?er.COLLAPSE:er.EXPAND)},s.prototype.setAggregationState=function(u,l,f){this.setTopNAggregated(u,l,f===er.COLLAPSE?0:f===er.EXPAND_TOP_N?this.showTopN:-1)},s.prototype.getTopNAggregated=function(u,l){for(var f=l;f;){var d="".concat(u.id,"@").concat(Yh(f));if(this.aggregations.has(d)){var _=this.aggregations.get(d);return this.options.propagateAggregationState&&l!==f&&this.aggregations.set("".concat(u.id,"@").concat(Yh(l)),_),_}f=f.parent}return-1},s.prototype.unaggregateParents=function(u,l){for(var f=l.parent,d=!1;f;)d=this.aggregations.delete("".concat(u.id,"@").concat(Yh(f)))||d,f=f.parent;return d},s.prototype.getAggregationStrategy=function(){return this.options.aggregationStrategy},s.prototype.initAggregateState=function(u,l){var f=-1;switch(this.getAggregationStrategy()){case"group":f=0;break;case"item":case"group+item":case"group+item+top":f=-1;break;case"group+top+item":f=this.showTopN}for(var d=0,_=l;d<_.length;d++){var w=_[d],x="".concat(u.id,"@").concat(Yh(w));!this.aggregations.has(x)&&f>=0&&this.aggregations.set(x,f)}},s.prototype.setTopNAggregated=function(u,l,f){for(var d=Array.isArray(l)?l:[l],_=[],w=[],x=!1,T=0;T<d.length;T++){var D=d[T],N=typeof f=="number"?f:f[T];x=this.unaggregateParents(u,D)||x;var I=this.getTopNAggregated(u,D);if(I!==N){_.push(D),w.push(I);var G="".concat(u.id,"@").concat(Yh(D));N>=0?this.aggregations.set(G,N):this.aggregations.delete(G)}}(x||_.length!==0)&&(Array.isArray(l)?this.fire([s.EVENT_GROUP_AGGREGATION_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l,w,f):this.fire([s.EVENT_GROUP_AGGREGATION_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],u,l,w.length===0?f:w[0],f))},s.prototype.aggregateAllOf=function(u,l,f){f===void 0&&(f=u.getGroups());var d,_,w=(d=l,_=this.showTopN,typeof d=="boolean"?d?0:-1:d===er.COLLAPSE?0:d===er.EXPAND?-1:d===er.EXPAND_TOP_N?_:d);this.setTopNAggregated(u,f,w)},s.prototype.getShowTopN=function(){return this.showTopN},s.prototype.setShowTopN=function(u){if(this.showTopN!==u){for(var l=0,f=Array.from(this.aggregations.entries());l<f.length;l++){var d=f[l],_=d[0];d[1]===this.showTopN&&this.aggregations.set(_,u)}this.fire([s.EVENT_SHOWTOPN_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.showTopN,this.showTopN=u)}},s.prototype.isSelected=function(u){return this.selection.has(u)},s.prototype.select=function(u){this.selection.has(u)||(this.options.singleSelection===!0&&this.selection.size>0&&this.selection.clear(),this.selection.add(u),this.fire(s.EVENT_SELECTION_CHANGED,this.getSelection()))},s.prototype.jumpToNearest=function(u){u.length!==0&&this.fire(s.EVENT_JUMP_TO_NEAREST,u)},s.prototype.selectAll=function(u){var l=this;Zv(u,(function(f){return l.selection.has(f)}))||(this.options.singleSelection===!0?(this.selection.clear(),u.length>0&&this.selection.add(u[0])):Fc(u,(function(f){l.selection.add(f)})),this.fire(s.EVENT_SELECTION_CHANGED,this.getSelection()))},s.prototype.selectAllOf=function(u){this.setSelection(Array.from(u.getOrder()))},s.prototype.setSelection=function(u){var l=this;if(u.length===0)return this.clearSelection();this.selection.size===u.length&&u.every((function(f){return l.selection.has(f)}))||(this.selection.clear(),this.selectAll(u))},s.prototype.toggleSelection=function(u,l){return l===void 0&&(l=!1),this.isSelected(u)?(l?this.deselect(u):this.clearSelection(),!1):(l?this.select(u):this.setSelection([u]),!0)},s.prototype.deselect=function(u){this.selection.has(u)&&(this.selection.delete(u),this.fire(s.EVENT_SELECTION_CHANGED,this.getSelection()))},s.prototype.deselectAll=function(u){var l=this;Zv(u,(function(f){return!l.selection.has(f)}))||(Fc(u,(function(f){l.selection.delete(f)})),this.fire(s.EVENT_SELECTION_CHANGED,this.getSelection()))},s.prototype.selectedRows=function(){return this.selection.size===0?[]:this.view(this.getSelection())},s.prototype.getSelection=function(){return Array.from(this.selection)},s.prototype.clearSelection=function(){this.selection.size!==0&&(this.selection.clear(),this.fire(s.EVENT_SELECTION_CHANGED,[],!1))},s.prototype.exportTable=function(u,l){l===void 0&&(l={});var f=this.view(u.getOrder());return p1(f)?f.then((function(d){return f1(u,d,l)})):f1(u,f,l)},s.prototype.exportSelection=function(u){var l=this;u===void 0&&(u={});var f=this.getSelection(),d=u.ranking||this.getFirstRanking();if(!d)return"";var _=f.map((function(w){return l.getRow(w)}));return _.some((function(w){return p1(w)}))?Promise.all(_).then((function(w){return h1(d,w,u)})):h1(d,_,u)},s.EVENT_SELECTION_CHANGED="selectionChanged",s.EVENT_DATA_CHANGED="dataChanged",s.EVENT_ADD_COLUMN=fe.EVENT_ADD_COLUMN,s.EVENT_MOVE_COLUMN=fe.EVENT_MOVE_COLUMN,s.EVENT_REMOVE_COLUMN=fe.EVENT_REMOVE_COLUMN,s.EVENT_ADD_RANKING="addRanking",s.EVENT_REMOVE_RANKING="removeRanking",s.EVENT_DIRTY=fe.EVENT_DIRTY,s.EVENT_DIRTY_HEADER=fe.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES=fe.EVENT_DIRTY_VALUES,s.EVENT_DIRTY_CACHES=fe.EVENT_DIRTY_CACHES,s.EVENT_ORDER_CHANGED=fe.EVENT_ORDER_CHANGED,s.EVENT_SHOWTOPN_CHANGED="showTopNChanged",s.EVENT_ADD_DESC="addDesc",s.EVENT_CLEAR_DESC="clearDesc",s.EVENT_REMOVE_DESC="removeDesc",s.EVENT_JUMP_TO_NEAREST="jumpToNearest",s.EVENT_GROUP_AGGREGATION_CHANGED=Xh.EVENT_AGGREGATE,s.EVENT_BUSY="busy",s.FORWARD_RANKING_EVENTS=Ve(".provider",fe.EVENT_ADD_COLUMN,fe.EVENT_REMOVE_COLUMN,fe.EVENT_DIRTY,fe.EVENT_DIRTY_HEADER,fe.EVENT_MOVE_COLUMN,fe.EVENT_ORDER_CHANGED,fe.EVENT_DIRTY_VALUES,fe.EVENT_DIRTY_CACHES),s})(pa);const Ce=CY;var AY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function lN(p){return p.accessor=p.accessor||(p.column?rN(p.column)?nN:iN:wY),p.label=p.label||p.column,p}var MY=(function(p){function s(u,l){u===void 0&&(u=[]),l===void 0&&(l={});var f=p.call(this,l)||this;return f.columns=u,f.rankingIndex=0,u.forEach(lN),f}return AY(s,p),s.prototype.cloneRanking=function(u){var l=this,f=this.nextRankingId(),d=new fe(f);return u&&u.children.forEach((function(_){l.push(d,_.desc)})),d},s.prototype.pushDesc=function(u){lN(u),this.columns.push(u),this.fire(Ce.EVENT_ADD_DESC,u)},s.prototype.clearColumns=function(){this.clearRankings(),this.columns.splice(0,this.columns.length),this.fire(Ce.EVENT_CLEAR_DESC)},s.prototype.removeDesc=function(u,l){l===void 0&&(l=!1);var f=this.columns.indexOf(u);if(f<0)return!1;var d=!l&&this.getRankings().some((function(_){return _.flatColumns.some((function(w){return w.desc===u}))}));return!d&&(this.columns.splice(f,1),this.fire(Ce.EVENT_REMOVE_DESC,u),!0)},s.prototype.getColumns=function(){return this.columns.slice()},s.prototype.findDesc=function(u){return this.columns.filter((function(l){return l.column===u}))[0]},s.prototype.toDescRef=function(u){return u.column!==void 0?"".concat(u.type,"@").concat(u.column):this.cleanDesc(Object.assign({},u))},s.prototype.fromDescRef=function(u){return typeof u=="string"?this.columns.find((function(l){return"".concat(l.type,"@").concat(l.column)===u||l.type===u})):this.columns.find((function(l){return u.column===l.column&&u.label===l.label&&u.type===l.type}))||u},s.prototype.restore=function(u){p.prototype.restore.call(this,u),this.rankingIndex=1+Math.max.apply(Math,this.getRankings().map((function(l){return+l.id.substring(4)})))},s.prototype.nextRankingId=function(){return"rank".concat(this.rankingIndex++)},s})(Ce);const uN=MY;var cN=255,DY=65535,LY=4294967295,fN=127,hN=32767,pN=2147483647,NY=Number.NEGATIVE_INFINITY,RY=Number.POSITIVE_INFINITY,IY="";function _1(p,s){switch(s){case tt.COUNT:return gt(p+1);case tt.BINARY:case tt.UINT8:return new Uint8Array(p);case tt.UINT16:return new Uint16Array(p);case tt.UINT32:return new Uint32Array(p);case tt.INT8:return new Int8Array(p);case tt.INT16:return new Int16Array(p);case tt.INT32:return new Int32Array(p);case tt.STRING:return[];case tt.FLOAT_ASC:case tt.FLOAT:case tt.DOUBLE_ASC:case tt.DOUBLE:return new Float64Array(p)}}function b1(p,s,u){switch(p){case tt.BINARY:return function(l,f){return s[l]=f==null||Number.isNaN(f)?cN:f+1};case tt.COUNT:return function(l,f){return s[l]=f==null||Number.isNaN(f)?u:f+1};case tt.UINT8:return function(l,f){return s[l]=f==null||Number.isNaN(f)?fN:f+1};case tt.UINT16:return function(l,f){return s[l]=f==null||Number.isNaN(f)?hN:f+1};case tt.UINT32:return function(l,f){return s[l]=f==null||Number.isNaN(f)?pN:f+1};case tt.INT8:return function(l,f){return s[l]=f==null||Number.isNaN(f)?fN:f};case tt.INT16:return function(l,f){return s[l]=f==null||Number.isNaN(f)?hN:f};case tt.INT32:return function(l,f){return s[l]=f==null||Number.isNaN(f)?pN:f};case tt.STRING:return function(l,f){return s[l]=f==null||f===""?IY:f};case tt.FLOAT:case tt.DOUBLE:return function(l,f){return s[l]=f==null||Number.isNaN(f)?NY:f};case tt.FLOAT_ASC:case tt.DOUBLE_ASC:return function(l,f){return s[l]=f==null||Number.isNaN(f)?RY:f}}}var dN=(function(){function p(s,u,l,f){this.criteria=[],this.data=[];for(var d,_=(d=s+1)<=255?cN:d<=65535?DY:LY,w=0,x=u?l.getSortCriteria():l.getGroupSortCriteria();w<x.length;w++){var T=x[w],D=u?T.col.toCompareValueType():T.col.toCompareGroupValueType(),N=f?f(T.col):void 0;if(this.criteria.push({col:T.col,valueCache:N}),Array.isArray(D))for(var I=0,G=D;I<G.length;I++){var B=G[I];U=_1(s,B),this.data.push({asc:T.asc,v:B,lookup:U,setter:b1(B,U,_)})}else{var U=_1(s,D);this.data.push({asc:T.asc,v:D,lookup:U,setter:b1(D,U,_)})}}u||(U=_1(s,D=tt.STRING),this.data.push({asc:!0,v:D,lookup:U,setter:b1(D,U,_)}))}return Object.defineProperty(p.prototype,"sortOrders",{get:function(){return this.data.map((function(s){return{asc:s.asc,lookup:s.lookup}}))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"transferAbles",{get:function(){return this.data.map((function(s){return s.lookup})).filter((function(s){return!Array.isArray(s)})).map((function(s){return s.buffer}))},enumerable:!1,configurable:!0}),p.prototype.push=function(s){for(var u=0,l=0,f=this.criteria;l<f.length;l++){var d=f[l],_=d.col.toCompareValue(s,d.valueCache?d.valueCache(s.i):void 0);if(Array.isArray(_))for(var w=0,x=_;w<x.length;w++){var T=x[w];this.data[u++].setter(s.i,T)}else this.data[u++].setter(s.i,_)}},p.prototype.pushValues=function(s,u){for(var l=0;l<u.length;++l)this.data[l].setter(s,u[l])},p.prototype.free=function(){this.data.splice(0,this.data.length)},p})(),vN={value:null,done:!1};function gN(p){return{next:function(){return{done:!0,value:p()}}}}function yN(p,s,u){return function(l,f){return{then:yN(p.then(l,f),s,u),abort:s,isAborted:u}}}var OY=(function(){function p(){var s=this;this.tasks=[],this.taskId=-1,this.runTasks=function(u){for(var l=function(){for(var f=s.tasks.shift(),d=f.it.next();!d.done&&(u.didTimeout||u.timeRemaining()>0);)d=f.it.next();d.done?requestAnimationFrame((function(){return f.resolve(d.value)})):s.tasks.unshift(f)};s.tasks.length>0&&(u.didTimeout||u.timeRemaining()>0);)l();s.taskId=-1,s.reSchedule()}}return p.prototype.reSchedule=function(){if(!(this.tasks.length===0||this.taskId>-1)){var s=self;s.requestIdleCallback?this.taskId=s.requestIdleCallback(this.runTasks):this.taskId=setTimeout(this.runTasks,1)}},p.prototype.pushMulti=function(s,u,l){var f=this;l===void 0&&(l=!0);var d,_=function(){var I=f.tasks.findIndex((function(B){return B.id===s}));if(!(I<0)){var G=f.tasks[I];f.tasks.splice(I,1),G.isAborted=!0,G.resolve(Zn)}},w=this.tasks.findIndex((function(I){return I.id===s}));w>=0&&this.tasks[w].abort();var x=new Promise((function(I){d=I})),T={id:s,it:u,result:x,abort:_,isAborted:!1,resolve:d};this.tasks.push(T),this.reSchedule();var D=l?_:function(){},N=l?function(){return T.isAborted}:function(){return!1};return{then:yN(x,D,N),abort:D,isAborted:N}},p.prototype.push=function(s,u){return this.pushMulti(s,gN(u))},p.prototype.abort=function(s){var u=this.tasks.findIndex((function(l){return l.id===s}));return!(u<0||(this.tasks[u].abort(),0))},p.prototype.abortAll=function(s){var u=this.tasks.filter(s);if(u.length!==0){this.tasks=this.tasks.filter((function(_){return!s(_)}));for(var l=0,f=u;l<f.length;l++){var d=f[l];d.resolve(Zn),d.abort()}}},p.prototype.clear=function(){if(this.taskId!==-1){var s=self;s.requestIdleCallback&&s.clearIdleCallback?s.clearIdleCallback(this.taskId):clearTimeout(this.taskId),this.taskId=-1,this.tasks.splice(0,this.tasks.length).forEach((function(u){u.resolve(Zn),u.abort()}))}},p})();const PY=OY;var hp=(function(){function p(s){this.v=s}return p.prototype.then=function(s){return s(this.v)},p})();function Lr(p){return new hp(p)}var mN=(function(){function p(s){this.v=s}return p.prototype.then=function(s){return this.v.then(s)},p})();function pp(p){return new mN(p)}function tf(p){return p.every((function(s){return s instanceof hp}))?Lr(p.map((function(s){return s.v}))):pp(cp(p.map((function(s){return s.v}))))}var S1=(function(){function p(s,u){this.indices=s,this.maxDataIndex=u,this._joined=null}return Object.defineProperty(p.prototype,"joined",{get:function(){return this.indices.length===1?this.indices[0]:this.indices.length===0?new Uint8Array(0):this._joined?this._joined:this._joined=Et(this.indices,this.maxDataIndex)},enumerable:!1,configurable:!0}),p})(),_N=(function(){function p(s){s===void 0&&(s={});var u=this;this.valueCacheData=new Map,this.byIndex=function(l){return u.data[l]},this.data=[],this.options=Object.assign({stringTopNCount:10},s)}return p.prototype.byOrder=function(s){return L(s).map(this.byIndex)},p.prototype.byOrderAcc=function(s,u){var l=this;return L(s).map((function(f){return u(l.data[f])}))},p.prototype.builder=function(s,u,l,f){var d=this,_=0,w=0,x=u instanceof S1?u.indices:[u];return{next:u==null?function(T){T===void 0&&(T=100);for(var D=T,N=d.data;_<N.length&&D>0;++_,--D)s.push(l(_));return _<N.length?vN:{done:!0,value:f?f(s.build()):s.build()}}:function(T){T===void 0&&(T=100);for(var D=T;w<x.length;){for(var N=x[w];_<N.length&&D>0;++_,--D)s.push(l(N[_]));if(_<N.length)return vN;w++,_=0}return{done:!0,value:f?f(s.build()):s.build()}}}},p.prototype.builderForEach=function(s,u,l,f){return this.builder({push:s.pushAll,build:s.build},u,l,f)},p.prototype.boxplotBuilder=function(s,u,l,f){var d=lt();return this.numberStatsBuilder(d,s,u,l,f)},p.prototype.resolveDomain=function(s,u){var l=u&&Xe(s)?s.getMapping().domain:[0,1];return[l[0],l[l.length-1]]},p.prototype.statsBuilder=function(s,u,l,f,d){var _=dt(this.resolveDomain(u,f!=null&&f),l);return this.numberStatsBuilder(_,s,u,f,d)},p.prototype.numberStatsBuilder=function(s,u,l,f,d){var _=this;if(l instanceof ue||l instanceof Zl||l instanceof Qb){var w=f?"".concat(l.id,":r"):l.id,x=f?function(B){return l.getRawNumber(_.data[B])}:function(B){return l.getNumber(_.data[B])};if(u==null&&!this.valueCacheData.has(w)){var T=new Float64Array(this.data.length),D=0;return this.builder({push:function(B){s.push(B),T[D++]=B},build:function(){return _.setValueCacheData(w,T),s.build()}},null,x,d)}var N=this.valueCacheData.get(w),I=N?function(B){return N[B]}:x;return this.builder(s,u,I,d)}var G=f?function(B){return l.iterRawNumber(_.data[B])}:function(B){return l.iterNumber(_.data[B])};return this.builderForEach(s,u,G,d)},p.prototype.dateStatsBuilder=function(s,u,l,f){var d,_,w,x=this,T=xt(l);if(u instanceof Hr){if(s==null){var D=(d=this.data.length,_=new Float64Array(d),w=0,{push:function(G){return _[w++]=G==null?NaN:G.getTime()},cache:_});return this.builder({push:function(G){T.push(G),D.push(G)},build:function(){return x.setValueCacheData(u.id,D.cache),T.build()}},null,(function(G){return u.getDate(x.data[G])}),f)}var N=this.valueCacheData.get(u.id),I=N?function(G){return _t(N[G])}:function(G){return u.getDate(x.data[G])};return this.builder(T,s,I,f)}return this.builderForEach(T,s,(function(G){return u.iterDate(x.data[G])}),f)},p.prototype.categoricalStatsBuilder=function(s,u,l){var f=this,d=Ft(u.categories);if(u instanceof Se||u instanceof Zl){if(s==null){var _=(function(T,D){for(var N=gt(T,D.length+1),I=new Map,G=0;G<D.length;++G)I.set(D[G].name,G+1);var B=0;return{push:function(U){return N[B++]=U==null?0:I.get(U.name)||0},cache:N}})(this.data.length,u.categories);return this.builder({push:function(T){d.push(T),_.push(T)},build:function(){return f.setValueCacheData(u.id,_.cache),d.build()}},null,(function(T){return u.getCategory(f.data[T])}),l)}var w=this.valueCacheData.get(u.id),x=w?function(T){return mt(w[T],u.categories)}:function(T){return u.getCategory(f.data[T])};return this.builder(d,s,x,l)}return this.builderForEach(d,s,(function(T){return u.iterCategory(f.data[T])}),l)},p.prototype.stringStatsBuilder=function(s,u,l,f){var d=this,_=Ut(l??this.options.stringTopNCount);if(s==null){var w=0,x=Array(this.data.length).fill(null);return this.builder({push:function(T){_.push(T),x[w++]=T},build:function(){return d.setValueCacheData(u.id,x),_.build()}},null,(function(T){return u.getValue(d.data[T])}),f)}return this.builder(_,s,(function(T){return u.getValue(d.data[T])}),f)},p.prototype.dirtyColumn=function(s,u){u==="data"&&(this.valueCacheData.delete(s.id),this.valueCacheData.delete("".concat(s.id,":r")))},p.prototype.setValueCacheData=function(s,u){u==null?this.valueCacheData.delete(s):this.valueCacheData.set(s,u)},p.prototype.valueCache=function(s){var u=this.valueCacheData.get(s.id);if(u)return s instanceof Hr?function(l){return _t(u[l])}:s instanceof Se||s instanceof Zl?function(l){return mt(u[l],s.categories)}:function(l){return u[l]}},p})(),kY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function bN(p,s,u){var l=Mt(p,s);return u&&ht(l,u.sortOrders),l}var SN=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.cache=new Map,u}return kY(s,p),s.prototype.setData=function(u){this.data=u,this.cache.clear(),this.valueCacheData.clear()},s.prototype.dirtyColumn=function(u,l){p.prototype.dirtyColumn.call(this,u,l),l!=="group"&&(this.cache.delete("".concat(u.id,":summary")),this.cache.delete("".concat(u.id,":summary:raw")),this.cache.delete("".concat(u.id,":summary:b")),this.cache.delete("".concat(u.id,":summary:braw")),l!=="summary"&&(this.cache.delete("".concat(u.id,":data")),this.cache.delete("".concat(u.id,":data:raw")),this.cache.delete("".concat(u.id,":data:b")),this.cache.delete("".concat(u.id,":data:braw"))))},s.prototype.dirtyRanking=function(u,l){for(var f=0,d=u.flatColumns;f<d.length;f++){var _=d[f];this.dirtyColumn(_,l)}},s.prototype.preCompute=function(){},s.prototype.preComputeData=function(){},s.prototype.preComputeCol=function(){},s.prototype.copyData2Summary=function(){},s.prototype.copyCache=function(u,l){for(var f="".concat(l.id,":"),d=0,_=Array.from(this.cache.keys()).sort();d<_.length;d++){var w=_[d];if(w.startsWith(f)){var x="".concat(u.id,":").concat(w.slice(f.length));this.cache.set(x,this.cache.get(w))}}},s.prototype.sort=function(u,l,f,d,_,w){return Promise.resolve(bN(f,_,w))},s.prototype.groupCompare=function(u,l,f){var d=u.getGroupSortCriteria();if(d.length===0)return Lr([l.name.toLowerCase()]);for(var _=this.byOrder(f),w=[],x=0,T=d;x<T.length;x++){var D=T[x].col.toCompareGroupValue(_,l);Array.isArray(D)?w.push.apply(w,D):w.push(D)}return w.push(l.name.toLowerCase()),Lr(w)},s.prototype.groupRows=function(u,l,f,d){return Lr(d(this.byOrder(l.order)))},s.prototype.groupExampleRows=function(u,l,f,d){return Lr(d(this.byOrder(l.order.slice(0,5))))},s.prototype.groupBoxPlotStats=function(u,l,f){var d=this.summaryBoxPlotStatsD(u,f),_=d.summary,w=d.data;return Lr({group:this.boxplotBuilder(l.order,u,f).next(Number.POSITIVE_INFINITY).value,summary:_,data:w})},s.prototype.groupNumberStats=function(u,l,f){var d=this.summaryNumberStatsD(u,f),_=d.summary,w=d.data;return Lr({group:this.statsBuilder(l.order,u,_.hist.length,f).next(Number.POSITIVE_INFINITY).value,summary:_,data:w})},s.prototype.groupCategoricalStats=function(u,l){var f=this.summaryCategoricalStatsD(u),d=f.summary,_=f.data;return Lr({group:this.categoricalStatsBuilder(l.order,u).next(Number.POSITIVE_INFINITY).value,summary:d,data:_})},s.prototype.groupDateStats=function(u,l){var f=this.summaryDateStatsD(u),d=f.summary,_=f.data;return Lr({group:this.dateStatsBuilder(l.order,u,d).next(Number.POSITIVE_INFINITY).value,summary:d,data:_})},s.prototype.groupStringStats=function(u,l){var f=this.summaryStringStatsD(u),d=f.summary,_=f.data;return Lr({group:this.stringStatsBuilder(l.order,u,d.topN.map((function(w){return w.value}))).next(Number.POSITIVE_INFINITY).value,summary:d,data:_})},s.prototype.summaryBoxPlotStats=function(u,l){return Lr(this.summaryBoxPlotStatsD(u,l))},s.prototype.summaryNumberStats=function(u,l){return Lr(this.summaryNumberStatsD(u,l))},s.prototype.summaryCategoricalStats=function(u){return Lr(this.summaryCategoricalStatsD(u))},s.prototype.summaryDateStats=function(u){return Lr(this.summaryDateStatsD(u))},s.prototype.summaryStringStats=function(u){return Lr(this.summaryStringStatsD(u))},s.prototype.summaryNumberStatsD=function(u,l){var f=this,d=u.findMyRanker();return this.cached("summary",u,(function(){var _=d?d.getOrder():[],w=f.dataNumberStats(u,l);return{summary:f.statsBuilder(_,u,w.hist.length,l).next(Number.POSITIVE_INFINITY).value,data:w}}),l?":raw":"",d&&d.getOrderLength()===0)},s.prototype.summaryBoxPlotStatsD=function(u,l){var f=this,d=u.findMyRanker();return this.cached("summary",u,(function(){var _=d?d.getOrder():[],w=f.dataBoxPlotStats(u,l);return{summary:f.boxplotBuilder(_,u,l).next(Number.POSITIVE_INFINITY).value,data:w}}),l?":braw":":b",d&&d.getOrderLength()===0)},s.prototype.summaryCategoricalStatsD=function(u){var l=this,f=u.findMyRanker();return this.cached("summary",u,(function(){var d=f?f.getOrder():[],_=l.dataCategoricalStats(u);return{summary:l.categoricalStatsBuilder(d,u).next(Number.POSITIVE_INFINITY).value,data:_}}),"",f&&f.getOrderLength()===0)},s.prototype.summaryDateStatsD=function(u){var l=this,f=u.findMyRanker();return this.cached("summary",u,(function(){var d=f?f.getOrder():[],_=l.dataDateStats(u);return{summary:l.dateStatsBuilder(d,u,_).next(Number.POSITIVE_INFINITY).value,data:_}}),"",f&&f.getOrderLength()===0)},s.prototype.summaryStringStatsD=function(u){var l=this;return this.cached("summary",u,(function(){var f=u.findMyRanker().getOrder(),d=l.dataStringStats(u);return{summary:l.stringStatsBuilder(f,u,void 0).next(Number.POSITIVE_INFINITY).value,data:d}}),"",u.findMyRanker().getOrderLength()===0)},s.prototype.cached=function(u,l,f,d,_){d===void 0&&(d=""),_===void 0&&(_=!1);var w="".concat(l.id,":").concat(u).concat(d);if(this.cache.has(w))return this.cache.get(w);var x=f();return _||this.cache.set(w,x),x},s.prototype.dataBoxPlotStats=function(u,l){var f=this;return this.cached("data",u,(function(){return f.boxplotBuilder(null,u,l).next(Number.POSITIVE_INFINITY).value}),l?":braw":":b")},s.prototype.dataNumberStats=function(u,l){var f=this;return this.cached("data",u,(function(){return f.statsBuilder(null,u,V(f.data.length),l).next(Number.POSITIVE_INFINITY).value}),l?":raw":"")},s.prototype.dataCategoricalStats=function(u){var l=this;return this.cached("data",u,(function(){return l.categoricalStatsBuilder(null,u).next(Number.POSITIVE_INFINITY).value}))},s.prototype.dataDateStats=function(u){var l=this;return this.cached("data",u,(function(){return l.dateStatsBuilder(null,u).next(Number.POSITIVE_INFINITY).value}))},s.prototype.dataStringStats=function(u){var l=this;return this.cached("data",u,(function(){return l.stringStatsBuilder(null,u).next(Number.POSITIVE_INFINITY).value}))},s.prototype.terminate=function(){this.cache.clear()},s})(_N);function dp(p){return p instanceof vt&&typeof p.getMap=="function"&&typeof p.getMapLabel=="function"||!(p instanceof vt)&&p.type.endsWith("Map")}function vp(p){return p instanceof vt&&typeof p.getLabels=="function"&&typeof p.getValues=="function"&&dp(p)||!(p instanceof vt)&&p.type.endsWith("s")&&p.type!=="actions"}function Yo(p){return p.categories!==void 0&&typeof p.iterCategory=="function"}function Lg(p){return Yo(p)&&typeof p.getSet=="function"}function Jl(p){return p instanceof vt&&typeof p.getCategory=="function"||!(p instanceof vt)&&p.type.match(/(categorical|ordinal|hierarchy)/)!=null}function wN(p){return Yo(p)&&vp(p)&&!Lg(p)}function VY(p){return typeof p.name=="string"&&typeof p.label=="string"&&typeof p.color=="string"&&typeof p.value=="number"}function Ql(p){return p instanceof vt&&typeof p.getDate=="function"||!(p instanceof vt)&&p.type.startsWith("date")}function xN(p){return typeof p.getDates=="function"}var GY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),FY=(function(p){function s(){var u,l,f,d,_=p!==null&&p.apply(this,arguments)||this;return _.cache=new Map,_.tasks=new PY,_.workers=new P((u=[Z.toString(),q.toString(),dt.toString(),lt.toString(),pt.toString(),xt.toString(),Ft.toString(),Ut.toString(),gt.toString(),X.toString(),ot.toString(),ht.toString(),_t.toString(),mt.toString(),rt.toString(),J.toString(),it.toString(),et.toString(),st.toString(),(f=Lt,d=f.toString(),d.slice(d.indexOf("{")+1,d.lastIndexOf("}")))].map((function(w){return w.toString()})).join(`

`),l=new Blob([u],{type:"application/javascript"}),URL.createObjectURL(l))),_}return GY(s,p),s.prototype.setData=function(u){this.data=u,this.cache.clear(),this.tasks.clear(),this.valueCacheData.clear(),this.workers.deleteRefs()},s.prototype.dirtyColumn=function(u,l){p.prototype.dirtyColumn.call(this,u,l);for(var f=0,d=Array.from(this.cache.keys()).sort();f<d.length;f++){var _=d[f];(l==="data"&&_.startsWith("".concat(u.id,":"))||l==="summary"&&_.startsWith("".concat(u.id,":b:summary:"))||_.startsWith("".concat(u.id,":a:group")))&&(this.cache.delete(_),this.tasks.abort(_))}l==="data"&&(this.valueCacheData.delete(u.id),this.workers.deleteRef(u.id))},s.prototype.dirtyRanking=function(u,l){var f,d=u.flatColumns;switch(l){case"group":f=d.map((function(G){return function(B){return B.startsWith("".concat(G.id,":a:group"))}}));break;case"summary":f=d.map((function(G){return function(B){return B.startsWith("".concat(G.id,":b:summary"))||B.startsWith("".concat(G.id,":a:group"))}}));break;default:f=d.map((function(G){return function(B){return B.startsWith("".concat(G.id,":"))}}))}for(var _=function(G){f.some((function(B){return B(G)}))&&(w.cache.delete(G),w.tasks.abort(G))},w=this,x=0,T=Array.from(this.cache.keys()).sort();x<T.length;x++)_(T[x]);if(this.tasks.abortAll((function(G){return G.id.startsWith("r".concat(u.id,":"))})),this.workers.deleteRef(u.id,!0),l==="data")for(var D=0,N=d;D<N.length;D++){var I=N[D];p.prototype.dirtyColumn.call(this,I,l),this.workers.deleteRef(I.id)}},s.prototype.preCompute=function(u,l,f){if(l.length!==0){var d=u.flatColumns;if(l.length!==1){for(var _=l.map((function(kt){var jt=kt.rows,Nt=kt.group;return Object.assign({order:jt},Nt)})),w=new S1(l.map((function(kt){return kt.rows})),f),x=0,T=d;x<T.length;x++)if(Yo(ut=T[x])){this.summaryCategoricalStats(ut,w);for(var D=0,N=_;D<N.length;D++){var I=N[D];this.groupCategoricalStats(ut,I)}}else if(Ql(ut)){this.summaryDateStats(ut,w);for(var G=0,B=_;G<B.length;G++)I=B[G],this.groupDateStats(ut,I)}else if(Je(ut)){this.summaryNumberStats(ut,!1,w),this.summaryNumberStats(ut,!0,w);for(var U=0,$=_;U<$.length;U++)I=$[U],this.groupNumberStats(ut,I,!1),this.groupNumberStats(ut,I,!0)}else if(ut instanceof Dr){this.summaryStringStats(ut,w);for(var K=0,nt=_;K<nt.length;K++)I=nt[K],this.groupStringStats(ut,I)}}else for(var at=l[0],ct=at.group,wt=at.rows,Tt=new S1([wt],f),Ot=0,Wt=d;Ot<Wt.length;Ot++){var ut;if(Yo(ut=Wt[Ot]))this.summaryCategoricalStats(ut,Tt);else if(Je(ut))this.summaryNumberStats(ut,!1,Tt),this.summaryNumberStats(ut,!0,Tt);else if(Ql(ut))this.summaryDateStats(ut,Tt);else{if(!(ut instanceof Dr))continue;this.summaryStringStats(ut,Tt)}this.chainCopy("".concat(ut.id,":a:group:").concat(ct.name),this.cache.get("".concat(ut.id,":b:summary")),(function(kt){return{group:kt.summary,summary:kt.summary,data:kt.data}})),Je(ut)&&this.chainCopy("".concat(ut.id,":a:group:").concat(ct.name,":raw"),this.cache.get("".concat(ut.id,":b:summary:raw")),(function(kt){return{group:kt.summary,summary:kt.summary,data:kt.data}}))}}},s.prototype.preComputeData=function(u){for(var l=0,f=u.flatColumns;l<f.length;l++){var d=f[l];Yo(d)?this.dataCategoricalStats(d):Je(d)?(this.dataNumberStats(d,!1),this.dataNumberStats(d,!0)):Ql(d)?this.dataDateStats(d):d instanceof Dr&&this.dataStringStats(d)}},s.prototype.preComputeCol=function(u){var l=u.findMyRanker();if(u instanceof Dr){if(this.dataStringStats(u),!l)return;this.summaryStringStats(u);for(var f=0,d=l.getGroups();f<d.length;f++){var _=d[f];this.groupStringStats(u,_)}}else if(Yo(u)){if(this.dataCategoricalStats(u),!l)return;this.summaryCategoricalStats(u);for(var w=0,x=l.getGroups();w<x.length;w++)_=x[w],this.groupCategoricalStats(u,_)}else if(Je(u)){if(this.dataNumberStats(u,!1),this.dataNumberStats(u,!0),!l)return;this.summaryNumberStats(u,!1),this.summaryNumberStats(u,!0);for(var T=0,D=l.getGroups();T<D.length;T++)_=D[T],this.groupNumberStats(u,_,!1),this.groupNumberStats(u,_,!0)}else if(Ql(u)&&(this.dataDateStats(u),l)){this.summaryDateStats(u);for(var N=0,I=l.getGroups();N<I.length;N++)_=I[N],this.groupDateStats(u,_)}},s.prototype.copyData2Summary=function(u){for(var l=0,f=u.flatColumns;l<f.length;l++){var d=f[l];if(Yo(d))this.dataCategoricalStats(d);else if(Je(d))this.dataNumberStats(d,!1),this.dataNumberStats(d,!0);else if(Ql(d))this.dataDateStats(d);else{if(!(d instanceof Dr))continue;this.dataStringStats(d)}this.chainCopy("".concat(d.id,":b:summary"),this.cache.get("".concat(d.id,":c:data")),(function(_){return{summary:_,data:_}})),Je(d)&&this.chainCopy("".concat(d.id,":b:summary:raw"),this.cache.get("".concat(d.id,":c:data:raw")),(function(_){return{summary:_,data:_}}))}},s.prototype.copyCache=function(u,l){for(var f="".concat(l.id,":"),d=0,_=Array.from(this.cache.keys()).sort();d<_.length;d++){var w=_[d];if(w.startsWith(f)){var x="".concat(u.id,":").concat(w.slice(f.length));this.chainCopy(x,this.cache.get(w),(function(T){return T}))}}},s.prototype.groupCompare=function(u,l,f){var d=this;return pp(this.tasks.push("r".concat(u.id,":").concat(l.name),(function(){var _=u.getGroupSortCriteria();if(_.length===0)return[l.name.toLowerCase()];for(var w=d.byOrder(f),x=[],T=function(I){var G=d.valueCache(I.col),B=I.col.toCompareGroupValue(w,l,G?L(f).map((function(U){return G(U)})):void 0);Array.isArray(B)?x.push.apply(x,B):x.push(B)},D=0,N=_;D<N.length;D++)T(N[D]);return x.push(l.name.toLowerCase()),x})))},s.prototype.groupRows=function(u,l,f,d){var _=this;return this.cached("".concat(u.id,":a:group:").concat(l.name,":").concat(f),!0,gN((function(){return d(_.byOrder(l.order))})))},s.prototype.groupExampleRows=function(u,l,f,d){return Lr(d(this.byOrder(l.order.slice(0,5))))},s.prototype.groupBoxPlotStats=function(u,l,f){var d=this;return this.chain("".concat(u.id,":a:group:").concat(l.name).concat(f?":braw":":b"),this.summaryBoxPlotStats(u,f),(function(_){var w=_.summary,x=_.data,T=u.findMyRanker(),D=f?"".concat(u.id,":r"):u.id;return d.valueCacheData.has(D)&&l.order.length>0?function(){return d.workers.pushStats("boxplotStats",{},D,d.valueCacheData.get(D),"".concat(T.id,":").concat(l.name),l.order).then((function(N){return{group:N,summary:w,data:x}}))}:d.boxplotBuilder(l.order,u,f,(function(N){return{group:N,summary:w,data:x}}))}))},s.prototype.groupNumberStats=function(u,l,f){var d=this;return this.chain("".concat(u.id,":a:group:").concat(l.name).concat(f?":raw":""),this.summaryNumberStats(u,f),(function(_){var w=_.summary,x=_.data,T=u.findMyRanker(),D=f?"".concat(u.id,":r"):u.id;return d.valueCacheData.has(D)&&l.order.length>0?function(){return d.workers.pushStats("numberStats",{numberOfBins:w.hist.length,domain:d.resolveDomain(u,f)},D,d.valueCacheData.get(D),"".concat(T.id,":").concat(l.name),l.order).then((function(N){return{group:N,summary:w,data:x}}))}:d.statsBuilder(l.order,u,w.hist.length,f,(function(N){return{group:N,summary:w,data:x}}))}))},s.prototype.groupCategoricalStats=function(u,l){var f=this;return this.chain("".concat(u.id,":a:group:").concat(l.name),this.summaryCategoricalStats(u),(function(d){var _=d.summary,w=d.data,x=u.findMyRanker();return f.valueCacheData.has(u.id)&&l.order.length>0?function(){return f.workers.pushStats("categoricalStats",{categories:u.categories.map((function(T){return T.name}))},u.id,f.valueCacheData.get(u.id),"".concat(x.id,":").concat(l.name),l.order).then((function(T){return{group:T,summary:_,data:w}}))}:f.categoricalStatsBuilder(l.order,u,(function(T){return{group:T,summary:_,data:w}}))}))},s.prototype.groupDateStats=function(u,l){var f=this,d="".concat(u.id,":a:group:").concat(l.name);return this.chain(d,this.summaryDateStats(u),(function(_){var w=_.summary,x=_.data,T=u.findMyRanker();return f.valueCacheData.has(u.id)&&l.order.length>0?function(){return f.workers.pushStats("dateStats",{template:w},u.id,f.valueCacheData.get(u.id),"".concat(T.id,":").concat(l.name),l.order).then((function(D){return{group:D,summary:w,data:x}}))}:f.dateStatsBuilder(l.order,u,w,(function(D){return{group:D,summary:w,data:x}}))}))},s.prototype.groupStringStats=function(u,l){var f=this,d="".concat(u.id,":a:group:").concat(l.name);return this.chain(d,this.summaryStringStats(u),(function(_){var w=_.summary,x=_.data,T=u.findMyRanker(),D=w.topN.map((function(N){return N.value}));return f.valueCacheData.has(u.id)&&l.order.length>0?function(){return f.workers.pushStats("stringStats",{topN:f.options.stringTopNCount},u.id,f.valueCacheData.get(u.id),"".concat(T.id,":").concat(l.name),l.order).then((function(N){return{group:N,summary:w,data:x}}))}:f.stringStatsBuilder(l.order,u,D,(function(N){return{group:N,summary:w,data:x}}))}))},s.prototype.summaryBoxPlotStats=function(u,l,f){var d=this;return this.chain("".concat(u.id,":b:summary").concat(l?":braw":":b"),this.dataBoxPlotStats(u,l),(function(_){var w=u.findMyRanker(),x=l?"".concat(u.id,":r"):u.id;return d.valueCacheData.has(x)?function(){return d.workers.pushStats("boxplotStats",{},x,d.valueCacheData.get(x),w.id,f?f.joined:w.getOrder()).then((function(T){return{summary:T,data:_}}))}:d.boxplotBuilder(f||w.getOrder(),u,l,(function(T){return{summary:T,data:_}}))}))},s.prototype.summaryNumberStats=function(u,l,f){var d=this;return this.chain("".concat(u.id,":b:summary").concat(l?":raw":""),this.dataNumberStats(u,l),(function(_){var w=u.findMyRanker(),x=l?"".concat(u.id,":r"):u.id;return d.valueCacheData.has(x)?function(){return d.workers.pushStats("numberStats",{numberOfBins:_.hist.length,domain:d.resolveDomain(u,l)},x,d.valueCacheData.get(x),w.id,f?f.joined:w.getOrder()).then((function(T){return{summary:T,data:_}}))}:d.statsBuilder(f||w.getOrder(),u,_.hist.length,l,(function(T){return{summary:T,data:_}}))}))},s.prototype.summaryCategoricalStats=function(u,l){var f=this;return this.chain("".concat(u.id,":b:summary"),this.dataCategoricalStats(u),(function(d){var _=u.findMyRanker();return f.valueCacheData.has(u.id)?function(){return f.workers.pushStats("categoricalStats",{categories:u.categories.map((function(w){return w.name}))},u.id,f.valueCacheData.get(u.id),_.id,l?l.joined:_.getOrder()).then((function(w){return{summary:w,data:d}}))}:f.categoricalStatsBuilder(l||_.getOrder(),u,(function(w){return{summary:w,data:d}}))}))},s.prototype.summaryDateStats=function(u,l){var f=this;return this.chain("".concat(u.id,":b:summary"),this.dataDateStats(u),(function(d){var _=u.findMyRanker();return f.valueCacheData.has(u.id)?function(){return f.workers.pushStats("dateStats",{template:d},u.id,f.valueCacheData.get(u.id),_.id,l?l.joined:_.getOrder()).then((function(w){return{summary:w,data:d}}))}:f.dateStatsBuilder(l||_.getOrder(),u,d,(function(w){return{summary:w,data:d}}))}))},s.prototype.summaryStringStats=function(u,l){var f=this;return this.chain("".concat(u.id,":b:summary"),this.dataStringStats(u),(function(d){var _=u.findMyRanker();return f.valueCacheData.has(u.id)?function(){return f.workers.pushStats("stringStats",{topN:f.options.stringTopNCount},u.id,f.valueCacheData.get(u.id),_.id,l?l.joined:_.getOrder()).then((function(w){return{summary:w,data:d}}))}:f.stringStatsBuilder(l||_.getOrder(),u,void 0,(function(w){return{summary:w,data:d}}))}))},s.prototype.cached=function(u,l,f){var d=this,_=this.data.length===0;if(this.isValidCacheEntry(u)&&!_)return this.cache.get(u);var w=typeof f=="function"?tN(f()):this.tasks.pushMulti(u,f,l),x=pp(w);return _||this.cache.set(u,x),w.then((function(T){d.cache.get(u)===x&&(typeof T=="symbol"?d.cache.delete(u):d.cache.set(u,Lr(T)))})),x},s.prototype.chain=function(u,l,f){var d=this;if(this.isValidCacheEntry(u))return this.cache.get(u);if(l instanceof hp)return typeof l.v=="symbol"?Lr(Zn):this.cached(u,!0,f(l.v));var _=l.v.then((function(x){if(typeof x=="symbol")return Zn;var T=f(x);return typeof T=="function"?T():d.tasks.pushMulti(u,T)})),w=pp(_);return this.cache.set(u,w),_.then((function(x){d.cache.get(u)===w&&(typeof x=="symbol"?d.cache.delete(u):d.cache.set(u,Lr(x)))})),w},s.prototype.isValidCacheEntry=function(u){if(!this.cache.has(u))return!1;var l=this.cache.get(u);return!(l instanceof hp&&typeof l.v=="symbol"||l instanceof mN&&l.v.isAborted())},s.prototype.chainCopy=function(u,l,f){var d=this;if(this.isValidCacheEntry(u))return this.cache.get(u);if(l instanceof hp){if(typeof l.v=="symbol")return Lr(Zn);var _=Lr(f(l.v));return this.cache.set(u,_),_}var w=l.v.then((function(T){return typeof T=="symbol"?Zn:f(T)})),x=pp(w);return this.cache.set(u,x),w.then((function(T){d.cache.get(u)===x&&(typeof T=="symbol"?d.cache.delete(u):d.cache.set(u,Lr(T)))})),x},s.prototype.dataBoxPlotStats=function(u,l){var f=this,d="".concat(u.id,":c:data").concat(l?":braw":":b"),_=l?"".concat(u.id,":r"):u.id;return this.valueCacheData.has(_)&&this.data.length>0?this.cached(d,!1,(function(){return f.workers.pushStats("boxplotStats",{},_,f.valueCacheData.get(_))})):this.cached(d,!1,this.boxplotBuilder(null,u,l))},s.prototype.dataNumberStats=function(u,l){return this.cached("".concat(u.id,":c:data").concat(l?":raw":""),!1,this.statsBuilder(null,u,V(this.data.length),l))},s.prototype.dataCategoricalStats=function(u){return this.cached("".concat(u.id,":c:data"),!1,this.categoricalStatsBuilder(null,u))},s.prototype.dataStringStats=function(u){return this.cached("".concat(u.id,":c:data"),!1,this.stringStatsBuilder(null,u))},s.prototype.dataDateStats=function(u){return this.cached("".concat(u.id,":c:data"),!1,this.dateStatsBuilder(null,u))},s.prototype.sort=function(u,l,f,d,_,w){if(!w||f.length<1e3){var x=bN(f,_,w);return Promise.resolve(x)}var T=Mt(f,_),D=[T.buffer];return d&&D.push.apply(D,w.transferAbles),this.workers.push("sort",{ref:"".concat(u.id,":").concat(l.name),indices:T,sortOrders:w.sortOrders},D,(function(N){return N.order}))},s.prototype.terminate=function(){this.workers.terminate(),this.cache.clear(),this.valueCacheData.clear()},s})(_N),BY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),HY=(function(p){function s(u,l,f){l===void 0&&(l=[]),f===void 0&&(f={});var d=p.call(this,l,f)||this;d._data=u,d.ooptions={filterGlobally:!1,jumpToSearchResult:!1,taskExecutor:"direct",stringTopNCount:10},d.filter=null,d.mapToDataRow=function(I){return I<0||I>=d._dataRows.length?{i:I,v:{}}:d._dataRows[I]},Object.assign(d.ooptions,f),d._dataRows=EN(u),d.tasks=d.ooptions.taskExecutor==="direct"?new SN(d.ooptions):new FY(d.ooptions),d.tasks.setData(d._dataRows);for(var _=0,w=d.getRankings();_<w.length;_++)for(var x=0,T=w[_].flatColumns;x<T.length;x++){var D=T[x];D instanceof Er&&D.onDataUpdate(d._dataRows)}var N=d;return d.reorderAll=function(){for(var I=this.source,G=this.type,B=0,U=N.getRankings();B<U.length;B++){var $=U[B];$!==I&&$.dirtyOrder(G===fe.EVENT_FILTER_CHANGED?[Ar.FILTER_CHANGED]:[Ar.UNKNOWN])}},d}return BY(s,p),s.prototype.setFilter=function(u){this.filter=u,this.reorderAll.call({type:fe.EVENT_FILTER_CHANGED})},s.prototype.getFilter=function(){return this.filter},s.prototype.getTotalNumberOfRows=function(){return this.data.length},s.prototype.getTaskExecutor=function(){return this.tasks},Object.defineProperty(s.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),s.prototype.destroy=function(){p.prototype.destroy.call(this),this.tasks.terminate()},s.prototype.setData=function(u){this._data=u,this._dataRows=EN(u),this.dataChanged()},s.prototype.dataChanged=function(){this.tasks.setData(this._dataRows);for(var u=0,l=this.getRankings();u<l.length;u++){for(var f=l[u],d=0,_=f.flatColumns;d<_.length;d++){var w=_[d];w instanceof Er&&w.isLoaded()&&w.onDataUpdate(this._dataRows)}this.tasks.preComputeData(f)}this.fire(Ce.EVENT_DATA_CHANGED,this._dataRows),this.reorderAll.call({type:"data"})},s.prototype.clearData=function(){this.setData([])},s.prototype.appendData=function(u){for(var l=0,f=u;l<f.length;l++){var d=f[l];this._data.push(d),this._dataRows.push({v:d,i:this._dataRows.length})}this.dataChanged()},s.prototype.cloneRanking=function(u){var l=p.prototype.cloneRanking.call(this,u);return this.ooptions.filterGlobally&&l.on("".concat(fe.EVENT_FILTER_CHANGED,".reorderAll"),this.reorderAll),this.trackRanking(l,u),l},s.prototype.trackRanking=function(u,l){var f=this,d=this;u.on("".concat(vt.EVENT_DIRTY_CACHES,".cache"),(function(){for(var nt=this.origin;nt instanceof vt;)d.tasks.dirtyColumn(nt,"data"),d.tasks.preComputeCol(nt),nt=nt.parent}));var _=u.flatColumns,w="".concat(fe.EVENT_ADD_COLUMN,".cache"),x="".concat(fe.EVENT_REMOVE_COLUMN,".cache"),T="".concat(Er.EVENT_DATA_LOADED,".cache"),D=function(nt){f.tasks.dirtyColumn(nt,"data"),nt instanceof hn&&(nt.on(w,null),nt.on(x,null)),nt instanceof Er&&nt.on(T,null)},N=function(nt){f.tasks.preComputeCol(nt),nt instanceof hn&&(nt.on(w,N),nt.on(x,D)),nt instanceof Er&&nt.on(T,I)};function I(nt,at){at&&this.origin instanceof Er&&this.origin.onDataUpdate(d._dataRows)}u.on(w,N),u.on(x,D);for(var G=0,B=_;G<B.length;G++){var U=B[G];U instanceof hn&&(U.on(w,N),U.on(x,D)),U instanceof Er&&U.on(T,I)}if(l)for(var $=l.flatColumns,K=0;K<_.length;++K)this.tasks.copyCache(_[K],$[K]);this.tasks.preComputeData(u)},s.prototype.patchColumn=function(u){var l=p.prototype.patchColumn.call(this,u);return l instanceof Er&&l.isLoaded()&&l.onDataUpdate(this._dataRows),l},s.prototype.cleanUpRanking=function(u){this.ooptions.filterGlobally&&u.on("".concat(fe.EVENT_FILTER_CHANGED,".reorderAll"),null);var l=u.flatColumns,f="".concat(fe.EVENT_ADD_COLUMN,".cache"),d="".concat(fe.EVENT_REMOVE_COLUMN,".cache");u.on(f,null),u.on(d,null);for(var _=0,w=l;_<w.length;_++){var x=w[_];x instanceof hn&&(x.on(f,null),x.on(d,null))}this.tasks.dirtyRanking(u,"data"),p.prototype.cleanUpRanking.call(this,u)},s.prototype.resolveFilter=function(u){var l=[];if(this.ooptions.filterGlobally)for(var f=0,d=this.getRankings();f<d.length;f++){var _=d[f];_.isFiltered()&&l.push.apply(l,_.flatColumns.filter((function(w){return w.isFiltered()})))}else u.isFiltered()&&l.push.apply(l,u.flatColumns.filter((function(w){return w.isFiltered()})));return this.filter&&l.push(this.filter),l},s.prototype.noSorting=function(u){for(var l=this._data.length,f=gt(l,l-1),d=f.slice(),_=0;_<l;++_)f[_]=_,d[_]=_+1;return this.tasks.preCompute(u,[{rows:f,group:ft}],l-1),{groups:[Object.assign({order:f},ft)],index2pos:d}},s.prototype.createSorter=function(u,l,f,d,_){var w=this,x=new Map,T=[],D=-1,N=u.getGroupCriteria(),I=_?new dN(this._data.length,!0,u,this.tasks.valueCache.bind(this.tasks)):void 0,G=function(zt,Le){var Ge=zt.name.toLowerCase();if(x.has(Ge))x.get(Ge).rows.push(Le.i);else{var qe={group:zt,rows:[Le.i]};x.set(Ge,qe),T.push(qe)}},B=N.map((function(zt){return w.tasks.valueCache(zt)})),U=l.map((function(zt){return typeof zt=="function"?void 0:w.tasks.valueCache(zt)})),$=N.length===1?function(zt){return yD([N[0].group(zt,B[0]?B[0](zt.i):void 0)])}:function(zt){return yD(N.map((function(Le,Ge){return Le.group(zt,B[Ge]?B[Ge](zt.i):void 0)})))};if(f){t:for(var K=0,nt=this._dataRows;K<nt.length;K++){for(var at=nt[K],ct=0;ct<l.length;++ct){var wt=l[ct],Tt=U[ct];if(typeof wt=="function"&&!wt(at)||wt instanceof vt&&!wt.filter(at,Tt?Tt(at.i):void 0))continue t}D<at.i&&(D=at.i),I&&I.push(at),G($(at),at)}return T.sort((function(zt,Le){return zt.group.name.toLowerCase().localeCompare(Le.group.name.toLowerCase())})),{maxDataIndex:D,lookups:I,groupOrder:T}}for(var Ot=0,Wt=u.getGroups();Ot<Wt.length;Ot++){var ut=Wt[Ot],kt=ut.order;if(d)for(Nt=0;Nt<kt.length;++Nt)D<(te=kt[Nt])&&(D=te),at=this._dataRows[te],I&&I.push(at),G($(at),at);else{var jt=mD(ut);if(T.push({group:jt,rows:kt}),!I){D=kt.reduce((function(zt,Le){return Math.max(zt,Le)}),D);continue}for(var Nt=0;Nt<kt.length;++Nt){var te;D<(te=kt[Nt])&&(D=te),I.push(this._dataRows[te])}}}return d&&T.sort((function(zt,Le){return zt.group.name.toLowerCase().localeCompare(Le.group.name.toLowerCase())})),{maxDataIndex:D,lookups:I,groupOrder:T}},s.prototype.sortGroup=function(u,l,f,d,_,w,x){var T=u.group,D=this.tasks.sort(f,T,u.rows,w,x,d),N=_?this.tasks.groupCompare(f,T,u.rows).then((function(I){return I})):[];return Promise.all([D,N]).then((function(I){var G=I[0],B=I[1];return _&&Array.isArray(B)&&_.pushValues(l,B),Object.assign(T,{order:G})}))},s.prototype.sortGroups=function(u,l,f){if(l){var d=u.map((function(_,w){return w}));return ht(d,l.sortOrders),d.map((function(_){return u[_]}))}return f?u.sort((function(_,w){return _.name.localeCompare(w.name)})):u},s.prototype.index2pos=function(u,l){for(var f=gt(l+1,u.reduce((function(D,N){return D+N.order.length}),1)),d=1,_=0,w=u;_<w.length;_++)for(var x=w[_],T=0;T<x.order.length;T++,d++)f[x.order[T]]=d;return{groups:u,index2pos:f}},s.prototype.sort=function(u,l){var f=this,d=new Set(l);if(this._data.length===0)return{groups:[],index2pos:[]};var _=this.resolveFilter(u),w=d.has(Ar.UNKNOWN)||d.has(Ar.FILTER_CHANGED),x=w||d.has(Ar.GROUP_CRITERIA_CHANGED)||d.has(Ar.GROUP_CRITERIA_DIRTY),T=x||d.has(Ar.SORT_CRITERIA_CHANGED)||d.has(Ar.SORT_CRITERIA_DIRTY),D=x||d.has(Ar.GROUP_SORT_CRITERIA_CHANGED)||d.has(Ar.GROUP_SORT_CRITERIA_DIRTY);w?this.tasks.dirtyRanking(u,"summary"):x&&this.tasks.dirtyRanking(u,"group"),_.length===0&&this.tasks.copyData2Summary(u);var N=u.getGroupCriteria().length>0,I=u.getSortCriteria().length>0,G=u.getGroupSortCriteria().length>0;if(!N&&!I&&_.length===0)return this.noSorting(u);var B=this.createSorter(u,_,w,x,T),U=B.maxDataIndex,$=B.lookups,K=B.groupOrder;if(K.length===0)return{groups:[],index2pos:[]};if(this.tasks.preCompute(u,K,U),K.length===1){var nt=K[0];return this.sortGroup(nt,0,u,$,void 0,!0,U).then((function(ct){return f.index2pos([ct],U)}))}var at=G&&D?new dN(Math.max.apply(Math,K.map((function(ct){return ct.rows.length}))),!1,u):void 0;return Promise.all(K.map((function(ct,wt){return f.sortGroup(ct,wt,u,$,at,!1,U)}))).then((function(ct){var wt=f.sortGroups(ct,at,D);return f.index2pos(wt,U)}))},s.prototype.viewRaw=function(u){var l=this;return _D(u,(function(f){return l._data[f]||{}}))},s.prototype.viewRawRows=function(u){return _D(u,this.mapToDataRow)},s.prototype.getRow=function(u){return this._dataRows[u]},s.prototype.seq=function(u){return L(u).map(this.mapToDataRow)},s.prototype.view=function(u){return this.viewRaw(u)},s.prototype.mappingSample=function(u){var l=this,f=this._dataRows.length;if(f<=120)return L(this._dataRows).map((function(x){return u.getRawNumber(x)}));for(var d=new Set,_=0;_<120;++_){for(var w=Math.floor(Math.random()*(f-1));d.has(w);)w=Math.floor(Math.random()*(f-1));d.add(w)}return L(Array.from(d)).map((function(x){return u.getRawNumber(l._dataRows[x])}))},s.prototype.searchAndJump=function(u,l,f,d){d===void 0&&(d=Q.contains);var _=this.search(u,l,d);return f&&_.length>0?this.jumpToNearest(_.slice(0,1)):this.jumpToNearest(_),_},s.prototype.search=function(u,l,f){f===void 0&&(f=Q.contains);var d=[],_=l.findMyRanker()||this.getRankings()[0];if(!_)return d;for(var w=_.getOrder(),x=0;x<w.length;++x){var T=w[x];Bt(l.getLabel(this._dataRows[T]),u,f)&&d.push(T)}return d},s})(uN);const tu=HY;function EN(p){return p.map((function(s,u){return{v:s,i:u}}))}var Ne;(function(p){p[p.CELL=0]="CELL",p[p.GROUP=1]="GROUP",p[p.SUMMARY=2]="SUMMARY"})(Ne||(Ne={}));var ef=19,rf=30,eu=18;function Rs(){}var fr={template:"<div></div>",update:Rs};function Mn(p,s){return s===void 0||p.textContent!==s&&(p.textContent=s),p}function Yi(p,s,u){Array.from(p.querySelectorAll(s)).forEach(u)}function Is(p,s){Array.from(p.children).forEach(s)}function Ng(p,s,u){if(p.childElementCount!==0){if(!s.every((function(d,_){var w=p.children[_];return w!=null&&w.dataset.columnId===d.column.id&&w.dataset.renderer===d.rendererId}))){var l=new Set(s.map((function(d){return"".concat(d.column.id,"@").concat(d.rendererId)})));Is(p,(function(d){var _=d.dataset.columnId,w=d.dataset.renderer,x="".concat(_,"@").concat(w);l.has(x)||p.removeChild(d)})),s.forEach((function(d){var _=p.querySelector('[data-column-id="'.concat(d.column.id,'"]'));_||((_=u.asElement(d.template)).dataset.columnId=d.column.id,_.dataset.renderer=d.rendererId,_.classList.add(z("renderer-".concat(d.rendererId)))),p.appendChild(_)}))}}else{p.innerHTML=s.map((function(d){return d.template})).join("");var f=Array.from(p.children);s.forEach((function(d,_){var w=f[_];w.dataset.columnId=d.column.id,w.dataset.renderer=d.rendererId,w.classList.add(z("renderer-".concat(d.rendererId)))}))}}function Rg(p,s){return s===void 0&&(s=p.labels.length),p.getWidth()/s>rf}function TN(p){return p.getWidth()/p.categories.length>rf}var CN={};function w1(p){return CN[p]||(CN[p]=Qh(p).l>.5?"black":"white")}function AN(p,s,u,l){var f=w1(s);if(l<=.05||f==="black"||l>.9)p.style.color=f==="black"||l<=.05?null:f;else{p.style.color=null,p.innerText=u;var d=p.ownerDocument.createElement("span");d.classList.add(z("gradient-text")),d.style.color=f,d.innerText=u,p.appendChild(d)}}var Ig=(function(){var p=0;return function(s){return"".concat(s).concat((p++).toString(36))}})();function MN(p,s){var u=[],l=!1;return s.every((function(f){if(p.getValue(f)==null)return!0;var d=p.getLabel(f);return!(!u.includes(d)&&(u.push(d),u.length>=5)&&(l=!0,1))})),u.length===0?"":"".concat(u.join(", ")).concat(l?", ...":"")}function Og(p,s){return z("stacked-".concat(p,"-").concat(s.id))}function x1(p){return Xe(p)?p.getColorMapping().apply(0):Ie}var DN={},ru=1.1,Ci=.9;function Qr(p,s,u){s===void 0&&(s=1),u===void 0&&(u=1);var l="".concat(p,"-").concat(u,"-").concat(s),f=DN[l];if(f)return f;var d=Qh(p);d.s=Math.max(Math.min(d.s*u,1),0),d.l=Math.max(Math.min(d.l*s,1),0);var _=d.formatHex();return DN[l]=_,_}const LN=(function(){function p(){this.title="Default"}return p.prototype.canRender=function(s,u){return s instanceof xb&&u!==Ne.SUMMARY},p.prototype.create=function(s,u){var l=s.actions;return{template:'<div class="'.concat(z("actions")," ").concat(z("hover-only"),'">').concat(l.map((function(f){return"<span title='".concat(u.sanitize(f.name),"' class='").concat(u.sanitize(f.className||""),"'>").concat(u.sanitize(f.icon||""),"</span>")})).join(""),"</div>"),update:function(f,d){Is(f,(function(_,w){_.onclick=function(x){x.preventDefault(),x.stopPropagation(),setTimeout((function(){return l[w].action(d)}),1)}}))}}},p.prototype.createGroup=function(s,u){var l=s.groupActions;return{template:'<div class="'.concat(z("actions")," ").concat(z("hover-only"),'">').concat(l.map((function(f){return"<span title='".concat(u.sanitize(f.name),"' class='").concat(u.sanitize(f.className||""),"'>").concat(u.sanitize(f.icon||""),"</span>")})).join(""),"</div>"),update:function(f,d){Is(f,(function(_,w){_.onclick=function(x){x.preventDefault(),x.stopPropagation(),u.tasks.groupRows(s,d,"identity",(function(T){return T})).then((function(T){typeof T!="symbol"&&setTimeout((function(){return l[w].action(d,Array.from(T))}),1)}))}}))}}},p.prototype.createSummary=function(){return fr},p})();function E1(p){p.preventDefault(),p.stopPropagation()}function NN(p,s,u,l){u===void 0&&(u="agg-level"),l===void 0&&(l=!1);var f=p.ownerDocument,d=Array.from(p.children);l&&(s+=1);for(var _=d.length;_<s;++_){var w=f.createElement("div");w.classList.add(z(u)),d.push(w),p.appendChild(w)}for(var x=0,T=d.splice(s,d.length-s);x<T.length;x++)T[x].remove();if(l){var D=d[d.length-1];D.classList.remove(z(u)),D.classList.add(z("agg-all"))}return d}function RN(p,s,u,l,f){for(var d=f.getAggregationStrategy(),_=l.findMyRanker(),w=u>=0,x=!s.subGroups||s.subGroups.length===0,T=d1(d),D=!w&&g1(s,d,(function(K){return f.getTopNAggregated(_,K)})),N=D&&x&&(function(K){return K==="group+item+top"||K==="group+top+item"})(d),I=v1(s,u>=0?Mg(u,s,f.getTopNAggregated(_,s)):"first last"),G=NN(p,I.length,"agg-level",N),B=I.length-1,U=function(K){var nt=I[K],at=G[K],ct=f.getAggregationState(_,nt.group),wt=K===B;if(at.dataset.level=String(I.length-1-K),T&&(w||K<B))return D||nt.meta!=="last"&&nt.meta!=="first last"?delete at.dataset.meta:at.dataset.meta="last",at.classList.toggle(z("agg-inner"),w&&wt),at.classList.remove(z("agg-expand"),z("agg-collapse")),at.title="",delete at.onclick,"continue";var Tt=ct===er.COLLAPSE,Ot=nt.meta==="first"||nt.meta==="first last",Wt=ct===er.EXPAND,ut=N&&wt?G[I.length]:null,kt=nt.meta;if(D&&nt.meta==="first last"&&(kt="first"),kt?at.dataset.meta=kt:delete at.dataset.meta,at.classList.toggle(z("agg-expand"),Ot),at.classList.toggle(z("agg-collapse"),Tt),at.title=Ot?Tt?"Expand Group":"Collapse Group":"",Ot?at.onclick=function(jt){var Nt;E1(jt),Nt=d==="group+top+item"?ct===er.COLLAPSE?er.EXPAND_TOP_N:er.COLLAPSE:ct===er.COLLAPSE?er.EXPAND:er.COLLAPSE,l.setAggregated(nt.group,Nt)}:delete at.onclick,!ut)return"continue";ut.dataset.level=String(K),ut.classList.toggle(z("agg-compress"),Wt),ut.title=Wt?"Show Top ".concat(f.getShowTopN()," Only"):"Show All",ut.onclick=function(jt){E1(jt),l.setAggregated(nt.group,ct===er.EXPAND?er.EXPAND_TOP_N:er.EXPAND)}},$=0;$<I.length;++$)U($)}function IN(p){return p.parent==null&&p.name===ft.name}const ON=(function(){function p(){this.title="Default"}return p.prototype.canRender=function(s){return s instanceof Xh},p.prototype.create=function(s,u){return{template:"<div></div>",update:function(l,f,d,_){IN(_)?me(l):RN(l,_,d,s,u.provider)},render:function(l,f,d,_){if(!IN(_)){var w=v1(_,Mg(d,_,u.provider.getTopNAggregated(s.findMyRanker(),_)));l.fillStyle=Jv.color;for(var x=0;x<w.length;++x)l.fillRect(Jv.levelWidth*x+Jv.levelOffset,0,Jv.strokeWidth,sn);return w.some((function(T){return T.meta!=null}))}}}},p.prototype.createGroup=function(s,u){return{template:'<div><div class="'.concat(z("agg-level"),'"></div></div>'),update:function(l,f){RN(l,f,-1,s,u.provider)}}},p.prototype.createSummary=function(s,u){return{template:"<div></div>",update:function(l){var f=s.findMyRanker(),d=f.getGroups();if(d.length!==1||d[0].name!==ft.name)for(var _=d.map((function(N){return v1(N,"first last")})),w=_.reduce((function(N,I){return Math.max(N,I.length)}),Number.NEGATIVE_INFINITY),x=NN(l,w,"agg-expand"),T=function(N){var I=x[N],G=_.map((function(U){return U[N]?U[N].group:null})).filter((function(U){return U!=null})),B=G.every((function(U){return u.provider.getAggregationState(f,U)===er.COLLAPSE}));I.classList.toggle(z("agg-collapse"),B),I.title=B?"Expand All Groups":"Collapse All Groups",I.onclick=function(U){E1(U),u.provider.aggregateAllOf(f,B?er.EXPAND:er.COLLAPSE,G)}},D=0;D<w;++D)T(D);else me(l)}}},p})();function T1(p){return'<label class="'.concat(z("checkbox"),`">
    <input type="checkbox" `).concat(p?'checked="checked"':"",`>
    <span class="`).concat(z("filter-missing"),'">').concat("Filter rows containing missing values",`</span>
  </label>`)}function C1(p,s){return'<label class="'.concat(z("checkbox"),`">
    <input type="checkbox" `).concat(p?'checked="checked"':""," ").concat("disabled",`>
    <span class="`).concat(z("filter-missing")," ").concat(z("disabled"),'">Filter ').concat(s,` missing value rows</span>
  </label>`)}function gp(p){return p.getElementsByClassName(z("filter-missing"))[0].previousElementSibling}function PN(p,s){p.getElementsByTagName("input")[0].disabled=s===0,p.lastElementChild.classList.toggle(z("disabled"),s===0),p.lastElementChild.textContent="Filter ".concat(s," missing value rows")}function A1(p,s,u,l,f){l===void 0&&(l=0),f===void 0&&(f=0);var d=Math.max(0,l+(s-qh.width)/2),_=Math.max(0,f+(u-qh.height)/2);p.fillStyle=qh.color,p.fillRect(d,_,Math.min(s,qh.width),Math.min(u,qh.height))}function lr(p,s,u){var l=Gr(s.getValue(u));return p.classList.toggle(z("missing"),l),l}function Ai(p,s,u,l,f,d){f===void 0&&(f=0),d===void 0&&(d=0);var _=Gr(s.getValue(u));return _&&A1(p,l,sn,f,d),_}const Pg=(function(){function p(){this.title="Default"}return p.prototype.canRender=function(s){return s instanceof Dr},p.prototype.create=function(s,u){var l=u.sanitize(s.alignment||"left");return{template:"<div".concat(l!=="left"?' class="'.concat(z(l),'"'):"","> </div>"),update:function(f,d){lr(f,s,d),s.escape?Mn(f,s.getLabel(d)):f.innerHTML=s.getLabel(d),f.title=f.textContent}}},p.prototype.createGroup=function(s,u){return{template:"<div> </div>",update:function(l,f){return u.tasks.groupExampleRows(s,f,"string",(function(d){return MN(s,d)})).then((function(d){typeof d!="symbol"&&(l.classList.toggle(z("missing"),!d),s.escape?Mn(l,d):(l.innerHTML=d,l.title=d))}))}}},p.interactiveSummary=function(s,u){var l=u,f=gp(u),d=u.querySelector('input[type="text"]'),_=u.querySelectorAll('input[name="searchOptions"]'),w=!1,x=function(D,N){var I=D.trim();return I===""?null:N===Q.regex?new RegExp(I,"mi"):I},T=function(){var D=d.value.trim(),N=u.querySelector('input[name="searchOptions"]:checked'),I=N?.value||Q.contains;if(D.length<=0){var G=f.checked?{filter:null,filterMissing:f.checked,filterType:I}:null;s.setFilter(G)}else s.setFilter({filter:x(d.value,I),filterMissing:f.checked,filterType:I})};return f.onchange=T,d.onchange=T,d.oninput=Ba(T,100),d.onfocus=function(){w=!0},d.onblur=function(){w=!1},_.forEach((function(D){D.onchange=T})),l.onsubmit=function(D){return D.preventDefault(),D.stopPropagation(),T(),!1},function(D){if(!w){var N=(s=D).getFilter()||{filter:null,filterMissing:!1,filterType:Q.contains},I=N.filterType||Q.contains,G=N.filter instanceof RegExp?Q.regex:I,B=N.filter;f.checked=N.filterMissing,d.value=B instanceof RegExp?B.source:B||"";var U=u.querySelector('input[name="searchOptions"][value="'.concat(G,'"]'));U&&(U.checked=!0)}}},p.prototype.createSummary=function(s,u,l){if(!l)return{template:"<div></div>",update:function(x){var T=s.getFilter();x.textContent=M1(T)}};var f,d=s.getFilter()||{filter:null,filterMissing:!1,filterType:Q.contains},_=d.filterType||Q.contains,w=d.filter instanceof RegExp?Q.regex:_;return{template:'<form><input type="text" placeholder="Filter '.concat(u.sanitize(s.desc.label),`..." autofocus
      list="`).concat(u.idPrefix).concat(s.id,'_dl" value="').concat(u.sanitize(M1(d)),`">
          `).concat(T1(d.filterMissing),`
          <datalist id="`).concat(u.idPrefix).concat(s.id,`_dl"></datalist>
          <details class="`).concat(z("string-advanced-options"),`">
            <summary>Advanced options</summary>
            <span class="`).concat(z("search-options-title"),`">Find rows that &hellip;</span>
            <label class="`).concat(z("checkbox"),`">
              <input type="radio" name="searchOptions" value="`).concat(Q.contains,'" ').concat(w===Q.contains?'checked="checked"':"",`>
              <span>Contain the search terms</span>
            </label>
            <label class="`).concat(z("checkbox"),`">
              <input type="radio" name="searchOptions" value="`).concat(Q.exact,'" ').concat(w===Q.exact?'checked="checked"':"",`>
              <span>Exactly match the search terms</span>
            </label>
            <label class="`).concat(z("checkbox"),`">
              <input type="radio" name="searchOptions" value="`).concat(Q.startsWith,'" ').concat(w===Q.startsWith?'checked="checked"':"",`>
              <span>Start with the search terms</span>
            </label>
            <label class="`).concat(z("checkbox"),`">
              <input type="radio" name="searchOptions" value="`).concat(Q.regex,'" ').concat(w===Q.regex?'checked="checked"':"",`>
              <span>Match as regular expression</span>
            </label>
          </details>
          </form>`),update:function(x){f||(f=p.interactiveSummary(s,x)),f(s);var T=x.querySelector("datalist");u.tasks.summaryStringStats(s).then((function(D){if(typeof D!="symbol"){var N=D.summary;kN(T,N.topN)}}))}}},p})();function M1(p){return p!=null&&p.filter?p.filter instanceof RegExp?p.filter.source:p.filter:""}function kN(p,s){for(var u=Array.from(p.options),l=0;l<s.length;l++){var f=s[l],d=u[l];d||(d=p.ownerDocument.createElement("option"),p.appendChild(d)),d.value=f.value,Mn(d,f.count>1?"".concat(f.value," (").concat(f.count.toLocaleString(),")"):f.value)}for(l=u.length-1;l>=s.length;l--)u[l].remove()}var zY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const VN=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.title="Default",u}return zY(s,p),s.prototype.canRender=function(u){return p.prototype.canRender.call(this,u)&&u instanceof Eb},s.prototype.create=function(u){return{template:`<div>
        <span></span>
        <input class="`.concat(z("hover-only")," ").concat(z("annotate-input"),`">
       </div>`),update:function(l,f){var d=l.firstElementChild,_=l.lastElementChild;_.onchange=function(){d.textContent=_.value,u.setValue(f,_.value)},_.onclick=function(w){w.stopPropagation()},d.textContent=_.value=u.getLabel(f)}}},s})(Pg);function wr(p,s,u,l){return u&&u.color?u.color(s,l):s?p.getColor(s):Xe(p)?p.getColorMapping().apply(l??0):Ie}var UY=(function(){function p(s){s===void 0&&(s=!1),this.renderValue=s,this.title="Bar"}return p.prototype.canRender=function(s,u){return u===Ne.CELL&&Je(s)&&!En(s)},p.prototype.create=function(s,u,l){var f=u.colWidth(s),d=s.desc.showMinimumRepresentation;return{template:`<div title="">
          <div class="`.concat(z("bar-label"),`" style='background-color: `).concat(Ie,`'>
            <span `).concat(this.renderValue?"":'class="'.concat(z("hover-only"),'"'),`></span>
          </div>
        </div>`),update:function(_,w){var x=s.getNumber(w),T=lr(_,s,w),D=Number.isNaN(x)?0:Vt(100*x,2),N=s.getLabel(w);_.title=N;var I=_.firstElementChild;I.style.width=T?"100%":d?"max(1px, ".concat(D,"%)"):"".concat(D,"%");var G=Qr(wr(s,w,l,x),ru);I.style.backgroundColor=T?null:G,Mn(I.firstElementChild,N);var B=I.firstElementChild;Mn(B,N),AN(B,G||Ie,N,D/100)},render:function(_,w){if(!Ai(_,s,w,f)){var x=s.getNumber(w);_.fillStyle=Qr(wr(s,w,l,x)||Ie,ru);var T=f*x;_.fillRect(0,0,Number.isNaN(T)?0:Math.max(T,d?1:0),sn)}}}},p.prototype.createGroup=function(){return fr},p.prototype.createSummary=function(){return fr},p})();const GN=UY;var D1=(function(){function p(){this.title="String",this.groupTitle="None",this.summaryTitle="None"}return p.prototype.canRender=function(s,u){return!0},p.prototype.create=function(s){return{template:"<div> </div>",update:function(u,l){lr(u,s,l);var f=s.getLabel(l);Mn(u,f),u.title=f}}},p.prototype.createGroup=function(s){return fr},p.prototype.createSummary=function(){return fr},p})(),WY=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const FN=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.title="Default",u}return WY(s,p),s.prototype.canRender=function(u,l){return u instanceof rg&&l===Ne.CELL},s.prototype.create=function(u){var l=p.prototype.create.call(this,u);return l.template='<div class="'.concat(z("center"),'"> </div>'),l},s})(D1);var L1=`<div title="">
  <div class="`.concat(z("boxplot-whisker"),`">
    <div class="`).concat(z("boxplot-box"),`"></div>
    <div class="`).concat(z("boxplot-median"),`"></div>
    <div class="`).concat(z("boxplot-mean"),`"></div>
  </div>
</div>`),jY=`<div title="">
  <div class="`.concat(z("boxplot-whisker"),`">
    <div class="`).concat(z("boxplot-box"),`"></div>
    <div class="`).concat(z("boxplot-median"),`"></div>
    <div class="`).concat(z("boxplot-mean"),`"></div>
  </div>
  <span class="`).concat(z("mapping-hint"),'"></span><span class="').concat(z("mapping-hint"),`"></span>
</div>`);function BN(p,s){if(s==null)return"";var u=p.getNumberFormat(),l=s.mean!=null?"mean = ".concat(u(s.mean),` (dashed line)
`):"";return"min = ".concat(u(s.min),`
q1 = `).concat(u(s.q1),`
median = `).concat(u(s.median),`
`).concat(l,"q3 = ").concat(u(s.q3),`
max = `).concat(u(s.max))}var YY=(function(){function p(){this.title="Box Plot"}return p.prototype.canRender=function(s,u){return Fo(s)&&u===Ne.CELL||Je(s)&&u!==Ne.CELL},p.prototype.create=function(s,u,l){var f=s.getSortMethod(),d=s.isSortedByMe().asc!==void 0,_=u.colWidth(s);return{template:L1,update:function(w,x){var T=s.getBoxPlotData(x);if(w.classList.toggle(z("missing"),!T),T){var D=s.getRawBoxPlotData(x);N1(s,w,T,D,d?f:"",wr(s,x,l))}},render:function(w,x){if(!Ai(w,s,x,_)){var T=s.getBoxPlotData(x);if(T){var D={min:T.min*_,median:T.median*_,mean:T.mean!=null?T.mean*_:void 0,q1:T.q1*_,q3:T.q3*_,max:T.max*_,outlier:T.outlier?T.outlier.map((function(N){return N*_})):void 0,whiskerLow:T.whiskerLow!=null?T.whiskerLow*_:void 0,whiskerHigh:T.whiskerHigh!=null?T.whiskerHigh*_:void 0};(function(N,I,G,B,U){var $=I.whiskerLow!=null?I.whiskerLow:Math.max(I.q1-1.5*(I.q3-I.q1),I.min),K=I.whiskerHigh!=null?I.whiskerHigh:Math.min(I.q3+1.5*(I.q3-I.q1),I.max);N.fillStyle=Qr(B||Kv.box,ru),N.strokeStyle=Qr(Kv.stroke,Ci),N.beginPath(),N.rect(I.q1,0,I.q3-I.q1,U),N.fill(),N.stroke();var nt=U-0,at=U/2;N.beginPath(),N.moveTo($,at),N.lineTo(I.q1,at),N.moveTo($,0),N.lineTo($,nt),N.moveTo(I.median,0),N.lineTo(I.median,U),N.moveTo(I.q3,at),N.lineTo(K,at),N.moveTo(K,0),N.lineTo(K,nt),N.stroke(),N.fill(),G!==""&&(N.strokeStyle=Kv.sort,N.beginPath(),N.moveTo(I[G],0),N.lineTo(I[G],U-0),N.stroke(),N.fill()),I.outlier&&(N.fillStyle=Kv.outlier,I.outlier.forEach((function(ct){N.fillRect(Math.max(ct-Pn.size/2,0),at-Pn.size/2,Pn.size,Pn.size)})))})(w,D,d?f:"",wr(s,x,l),sn)}}}}},p.prototype.createGroup=function(s,u,l){var f=s instanceof ue&&s.isGroupSortedByMe().asc!==void 0?s.getSortMethod():"";return{template:L1,update:function(d,_){return tf([u.tasks.groupBoxPlotStats(s,_,!1),u.tasks.groupBoxPlotStats(s,_,!0)]).then((function(w){if(typeof w!="symbol"){var x=w==null||w[0]==null||w[0].group.count===0||w[0].group.count===w[0].group.missing;d.classList.toggle(z("missing"),x),x||N1(s,d,w[0].group,w[1].group,f,wr(s,null,l))}}))}}},p.prototype.createSummary=function(s,u,l,f){return{template:Xe(s)?jY:L1,update:function(d){return tf([u.tasks.summaryBoxPlotStats(s,!1),u.tasks.summaryBoxPlotStats(s,!0)]).then((function(_){if(typeof _!="symbol"){var w=_==null||_[0]==null||_[0].summary.count===0||_[0].summary.count===_[0].summary.missing;if(d.classList.toggle(z("missing"),w),!w){var x=_[0].summary,T=_[1].summary,D=s instanceof ue&&s.isGroupSortedByMe().asc!==void 0?s.getSortMethod():"";if(Xe(s)){var N=s.getRange();Array.from(d.getElementsByTagName("span")).forEach((function(I,G){return I.textContent=N[G]}))}N1(s,d,x,T,D,wr(s,null,f),Xe(s))}}}))}}},p})();const HN=YY;function N1(p,s,u,l,f,d,_){_===void 0&&(_=!1),s.title=BN(p,l);var w=s.firstElementChild,x=w.firstElementChild,T=x.nextElementSibling,D=w.lastElementChild,N=u.whiskerLow!=null?u.whiskerLow:Math.max(u.q1-1.5*(u.q3-u.q1),u.min),I=u.whiskerHigh!=null?u.whiskerHigh:Math.min(u.q3+1.5*(u.q3-u.q1),u.max);w.style.left="".concat(Vt(100*N,2),"%");var G=I-N;w.style.width="".concat(Vt(100*G,2),"%"),x.style.left="".concat(Vt((u.q1-N)/G*100,2),"%"),x.style.width="".concat(Vt((u.q3-u.q1)/G*100,2),"%"),x.style.backgroundColor=Qr(d,ru),T.style.left="".concat(Vt((u.median-N)/G*100,2),"%"),u.mean!=null?(D.style.left="".concat(Vt((u.mean-N)/G*100,2),"%"),D.style.display=null):D.style.display="none";var B=Array.from(s.children).slice(1,_?-2:void 0),U=u.outlier?u.outlier.length:0;if(B.splice(U,B.length-U).forEach((function(nt){return nt.remove()})),w.dataset.sort=f,u.outlier&&U!==0){for(var $=B.length;$<U;++$){var K=s.ownerDocument.createElement("div");K.classList.add(z("boxplot-outlier")),B.unshift(K),w.insertAdjacentElement("afterend",K)}u.outlier.forEach((function(nt,at){delete B[at].dataset.sort,B[at].style.left="".concat(Vt(100*nt,2),"%")})),f==="min"&&u.outlier[0]<=N?(w.dataset.sort="",B[0].dataset.sort="min",B.length>1&&B[B.length-1].insertAdjacentElement("afterend",B[0])):f==="max"&&u.outlier[B.length-1]>=I&&(w.dataset.sort="",B[B.length-1].dataset.sort="max")}}function Os(p,s,u,l){if((p==null||Number.isNaN(p))&&(p=1),l||!Xe(u))return(f=Qh(wr(u,s,l,p)||Ie)).l=1-p,f.toString();var f,d=u.getColorMapping(),_=d.apply(p);return d instanceof va?((f=Qh(_)).l=1-p,f.toString()):_}const zN=(function(){function p(){this.title="Brightness"}return p.prototype.canRender=function(s,u){return Je(s)&&u===Ne.CELL&&!En(s)},p.prototype.create=function(s,u,l){var f=u.colWidth(s);return{template:`<div title="">
        <div class="`.concat(z("cat-color"),'" style="background-color: ').concat(Ie,'"></div><div class="').concat(z("cat-label"),`"> </div>
      </div>`),update:function(d,_){var w=lr(d,s,_);d.title=s.getLabel(_),d.firstElementChild.style.backgroundColor=w?null:Os(s.getNumber(_),_,s,l),Mn(d.lastElementChild,d.title)},render:function(d,_){Ai(d,s,_,f)||(d.fillStyle=Os(s.getNumber(_),_,s,l),d.fillRect(0,0,f,sn))}}},p.prototype.createGroup=function(){return fr},p.prototype.createSummary=function(){return fr},p})();var $Y=(function(){function p(){this.title="Color & Label",this.groupTitle="Histogram"}return p.prototype.canRender=function(s,u){return Yo(s)&&(u!==Ne.CELL||Jl(s))},p.prototype.create=function(s,u){var l=u.colWidth(s);return{template:`<div>
        <div class="`.concat(z("cat-color"),'"></div><div class="').concat(z("cat-label"),`"></div>
      </div>`),update:function(f,d){lr(f,s,d);var _=s.getCategory(d);f.firstElementChild.style.backgroundColor=_?s.getColor(d):null,Mn(f.lastElementChild,s.getLabel(d))},render:function(f,d){if(!Ai(f,s,d,l)){var _=s.getCategory(d);f.fillStyle=_?s.getColor(d):"",f.fillRect(0,0,l,sn)}}}},p.prototype.createGroup=function(s,u){var l=R1(s,!1,u.sanitize),f=l.template,d=l.update,_=l.matchBins;return{template:"".concat(f,"</div>"),update:function(w,x){return _(w),u.tasks.groupCategoricalStats(s,x).then((function(T){if(typeof T!="symbol"){var D=!T||T.group==null||T.group.count===0||T.group.count===T.group.missing;w.classList.toggle(z("missing"),D),D||d(w,T.group)}}))}}},p.prototype.createSummary=function(s,u,l){return s instanceof Se||s instanceof Zl||s instanceof Gl||s instanceof rg?(function(f,d,_){var w,x=R1(f,_||Rg(f),d.sanitize),T=x.template,D=x.update,N=x.matchBins;return{template:"".concat(T).concat(_?C1(!1,0):"","</div>"),update:function(I){I.classList.toggle(z("histogram-i"),_);var G=N(I);return w&&!G||(w=WN(f,I)),d.tasks.summaryCategoricalStats(f).then((function(B){if(typeof B!="symbol"){var U=B.summary,$=B.data;w(_&&$?$.missing:U?U.missing:0,f);var K=!B||B.summary==null||B.summary.count===0||B.summary.count===B.summary.missing;I.classList.toggle(z("missing"),K),K||D(I,U,_?$:void 0)}}))}}})(s,u,l):(function(f,d,_){var w=R1(f,_,d.sanitize),x=w.template,T=w.update;return{template:"".concat(x,"</div>"),update:function(D){return d.tasks.summaryCategoricalStats(f).then((function(N){if(typeof N!="symbol"){var I=!N||N.summary==null||N.summary.count===0||N.summary.count===N.summary.missing;D.classList.toggle(z("missing"),I),I||T(D,N.summary)}}))}}})(s,u,l)},p})();const UN=$Y;function R1(p,s,u){var l,f,d=function(_,w){return'<div class="'.concat(z("histogram-bin"),'" title="').concat(u(_.label),': 0" data-cat="').concat(u(_.name),'" ').concat(s?'data-title="'.concat(u(_.label),'"'):"",'><div style="height: 0; background-color: ').concat(w,'"></div></div>')};return{template:(l=p.getColorMapping(),f=p.categories.map((function(_){return d(_,l.apply(_))})).join(""),'<div class="'.concat(z("histogram")," ").concat(p.categories.length>ef?z("dense"):"",'">').concat(f)),matchBins:function(_){var w=p.categories,x=p.getColorMapping();_.classList.toggle(z("dense"),w.length>ef);for(var T=Array.from(_.querySelectorAll("[data-cat]")),D=null,N=!1,I=0,G=w;I<G.length;I++){var B=G[I],U=T[0];U&&U.dataset.cat===B.name?(D=U,T.shift()):(N=!0,D?(D.insertAdjacentHTML("afterend",d(B,x.apply(B))),U=D.nextElementSibling):(_.insertAdjacentHTML("afterbegin",d(B,x.apply(B))),U=_.firstElementChild),D=U)}for(var $=0,K=T;$<K.length;$++)N=!0,K[$].remove();return N},update:function(_,w,x){var T=p.getColorMapping(),D=p.categories.map((function(I){var G=Ei(T.apply(I));return G.opacity=$h,G.toString()})),N=x?x.maxBin:w.maxBin;Yi(_,"[data-cat]",(function(I,G){var B=p.categories[G],U=w.hist[G].count,$=I.firstElementChild;if(x){var K=x.hist[G].count;I.title="".concat(B.label,": ").concat(U," of ").concat(K),$.style.height="".concat(Vt(100*K/N,2),"%");var nt=100-Vt(100*U/K,2);$.style.background=nt===0?T.apply(B):nt===100?D[G]:"linear-gradient(".concat(D[G]," ").concat(nt,"%, ").concat(T.apply(B)," ").concat(nt,"%, ").concat(T.apply(B)," 100%)")}else{I.title="".concat(p.categories[G].label,": ").concat(U);var at=I.firstElementChild;at.style.height="".concat(Math.round(100*U/N),"%"),at.style.background=T.apply(B)}}))}}}function kg(p,s,u){if(p instanceof Gl){var l=p.getFilter(),f=l?l.mode:void 0;p.setFilter({filter:s,filterMissing:u,mode:f})}else p.setFilter({filter:s,filterMissing:u})}function WN(p,s){var u=Array.from(s.querySelectorAll("[data-cat]")),l=function(d,_,w){var x=d.firstElementChild,T=p.getColorMapping().apply(_);if(w)x.style.background=T;else{var D=Ei(T);D.opacity=$h,x.style.background=D.toString()}};u.forEach((function(d,_){var w=p.categories[_];d.onclick=function(x){x.preventDefault(),x.stopPropagation();var T=p.getFilter();if(T==null||!Array.isArray(T.filter)){l(d,w,!1);var D=p.categories.slice();return D.splice(_,1),void kg(p,D.map((function(G){return G.name})),!!T&&T.filterMissing)}var N=T.filter.slice(),I=N.indexOf(w.name);I>=0?(N.splice(I,1),l(d,w,!1)):(N.push(w.name),l(d,w,!0)),T.filterMissing||N.length!==p.categories.length?kg(p,N,T.filterMissing):p.setFilter(null)}}));var f=s.getElementsByTagName("input")[0];return f&&(f.onchange=function(){var d=f.checked,_=p.getFilter();_==null?d?kg(p,p.categories.map((function(w){return w.name})),d):p.setFilter(null):!d&&Array.isArray(_.filter)&&_.filter.length===p.categories.length?p.setFilter(null):kg(p,_.filter,d)}),function(d,_){var w=(p=_).getFilter();f&&(f.checked=w!=null&&w.filterMissing,PN(f.parentElement,d))}}var qY=(function(){function p(){this.title="Heatmap"}return p.prototype.canRender=function(s){return wN(s)&&!!s.dataLength},p.prototype.createContext=function(s,u){var l=u.colWidth(s),f=l/s.dataLength,d=s.labels;return{template:'<canvas height="'.concat(eu,'" title=""></canvas>'),render:function(_,w,x){w.forEach((function(T,D){var N=D*f;T!=null?(_.fillStyle=T.color,_.fillRect(N,0,f,x)):A1(_,f,x,N,0)}))},width:l,mover:function(_,w){return function(x){var T=x.offsetX/l,D=Math.max(0,Math.min(s.dataLength-1,Math.floor(T*(s.dataLength-1)+.5)));_.title="".concat(d[D],": ").concat(w[D])}}}},p.prototype.create=function(s,u){var l=this.createContext(s,u),f=l.template,d=l.render,_=l.mover,w=l.width;return{template:f,update:function(x,T){var D=x.getContext("2d");D.canvas.width=w,D.clearRect(0,0,D.canvas.width,D.canvas.height),lr(x,s,T)||(x.onmousemove=_(x,s.getLabels(T)),x.onmouseleave=function(){return x.title=""},d(D,s.getCategories(T),eu))},render:function(x,T){d(x,s.getCategories(T),sn)}}},p.prototype.createGroup=function(s,u){var l=this,f=this.createContext(s,u),d=f.template,_=f.render,w=f.mover,x=f.width;return{template:d,update:function(T,D){return u.tasks.groupRows(s,D,l.title,(function(N){return(function(I,G){if(y(I))return W(G.dataLength);var B=W(G.dataLength).map((function(){return new Map}));return I.forEach((function(U){var $=G.getCategories(U);if($)for(var K=0;K<B.length;++K){var nt=B[K],at=$[K]||null;nt.set(at,(nt.get(at)||0)+1)}})),B.map((function(U){if(U.size===0)return null;var $=null,K=0;return U.forEach((function(nt,at){nt>K&&($=at,K=nt)})),$}))})(N,s)})).then((function(N){if(typeof N!="symbol"){var I=T.getContext("2d");I.canvas.width=x,I.clearRect(0,0,I.canvas.width,I.canvas.height);var G=!N||N.length===0||N.every((function(B){return B==null}));T.classList.toggle(z("missing"),G),G||(T.onmousemove=w(T,N.map((function(B){return B?B.label:"missing"}))),T.onmouseleave=function(){return T.title=""},_(I,N,eu))}}))}}},p.prototype.createSummary=function(s,u){for(var l=s.labels.slice();l.length>0&&!Rg(s,l.length);)l=l.filter((function(x,T){return T%2==0}));for(var f='<div class="'.concat(z("heatmap"),'">'),d=0,_=l;d<_.length;d++){var w=_[d];f+='<div class="'.concat(z("heatmap-cell"),'"  title="').concat(u.sanitize(w),'" data-title="').concat(u.sanitize(w),'"></div>')}return{template:f+="</div>",update:Rs}},p})();const jN=qY;var XY=(function(){function p(){this.title="Distribution Bar"}return p.prototype.canRender=function(s,u){return Jl(s)&&u!==Ne.CELL},p.prototype.create=function(){return fr},p.prototype.createGroup=function(s,u){var l=I1(s,u.sanitize),f=l.template,d=l.update;return{template:"".concat(f,"</div>"),update:function(_,w){return u.tasks.groupCategoricalStats(s,w).then((function(x){if(typeof x!="symbol"){var T=!x||x.group==null||x.group.count===0||x.group.count===x.group.missing;_.classList.toggle(z("missing"),T),T||d(_,x.group)}}))}}},p.prototype.createSummary=function(s,u,l){return s instanceof Se||s instanceof Zl?(function(f,d,_){var w,x=I1(f,d.sanitize),T=x.template,D=x.update;return{template:"".concat(T).concat(_?C1(!1,0):"","</div>"),update:function(N){return w||(w=WN(f,N)),d.tasks.summaryCategoricalStats(f).then((function(I){if(typeof I!="symbol"){var G=I.summary,B=I.data,U=_&&B?B.missing:G?G.missing:0;w(U,f);var $=!I||I.summary==null||I.summary.count===0||I.summary.count===I.summary.missing;N.classList.toggle(z("missing"),$),$||D(N,G,B)}}))}}})(s,u,l):(function(f,d){var _=I1(f,d.sanitize),w=_.template,x=_.update;return{template:"".concat(w,"</div>"),update:function(T){return d.tasks.summaryCategoricalStats(f).then((function(D){if(typeof D!="symbol"){var N=!D||D.summary==null||D.summary.count===0||D.summary.count===D.summary.missing;T.classList.toggle(z("missing"),N),N||x(T,D.summary,D.data)}}))}}})(s,u)},p})();const YN=XY;function ZY(p){var s=Ei(p);return s.opacity=$h,s.toString()}function I1(p,s){var u=s,l=p.getColorMapping(),f=p.categories.map((function(_){return{label:_.label,name:_.name,color:l.apply(_),selected:ZY(l.apply(_))}}));f.push({label:"Missing Values",name:"missing",color:Ie,selected:"transparent"});var d=f.map((function(_){return'<div class="'.concat(z("distribution-bar"),'" style="background-color: ').concat(u(_.color),"; color: ").concat(w1(_.color),'" title="').concat(u(_.label),': 0" data-cat="').concat(u(_.name),'"><span>').concat(u(_.label),"</span></div>")})).join("");return{template:"<div>".concat(d),update:function(_,w,x){var T=w.hist.slice();T.push({count:w.missing});var D=Array.from(_.children);if(x){var N=x.hist.slice();N.push({count:x.missing});var I=N.reduce((function(ct,wt){return ct+wt.count}),9);for($=0;$<f.length;++$){K=D[$],nt=T[$].count,at=f[$].label;var G=N[$].count;K.style.flexGrow="".concat(Vt(I===0?0:G,2)),K.title="".concat(at,": ").concat(nt," of ").concat(G);var B=100-Vt(100*nt/G,2);K.style.background=B===0?f[$].color:B===100?f[$].selected:"linear-gradient(".concat(f[$].selected," ").concat(B,"%, ").concat(f[$].color," ").concat(B,"%, ").concat(f[$].color," 100%)")}}else for(var U=T.reduce((function(ct,wt){return ct+wt.count}),0),$=0;$<f.length;++$){var K=D[$],nt=T[$].count,at=f[$].label;K.style.flexGrow="".concat(Vt(U===0?0:nt,2)),K.title="".concat(at,": ").concat(nt)}}}}const $N=(function(){function p(s){s===void 0&&(s=!1),this.renderValue=s,this.title="Proportional Symbol"}return p.prototype.canRender=function(s,u){return Je(s)&&u===Ne.CELL&&!En(s)},p.prototype.create=function(s,u,l){return{template:`<div style="background: radial-gradient(circle closest-side, red 100%, transparent 100%)" title="">
              <div class="`.concat(this.renderValue?"":z("hover-only")," ").concat(z("bar-label"),`"></div>
          </div>`),update:function(f,d){var _=s.getNumber(d),w=Math.round(100*_),x=lr(f,s,d);f.style.background=x?null:"radial-gradient(circle closest-side, ".concat(Qr(wr(s,d,l),Ci)," ").concat(w,"%, transparent ").concat(w,"%)"),Mn(f.firstElementChild,s.getLabel(d))}}},p.prototype.createGroup=function(){return fr},p.prototype.createSummary=function(){return fr},p})();var qN=Pn.size/2*100/eu,KY=80-2*qN,JY=9.999999999999998+qN,QY=(function(){function p(s){s===void 0&&(s=!1),this.renderValue=s,this.title="Dot",this.groupTitle="Dots"}return p.prototype.canRender=function(s,u){return Je(s)&&u!==Ne.SUMMARY},p.getCanvasRenderer=function(s,u){var l=u.colWidth(s),f=2*Math.PI,d=Pn.size/2,_=32-2*d,w=3.999999999999999+d;return{template:'<canvas height="'.concat(40,'"></canvas>'),render:function(x,T,D){x.save(),x.globalAlpha=Pn.opacity;for(var N=0,I=T;N<I.length;N++){var G=I[N];x.fillStyle=G.color||Pn.color;var B=Math.min(D-d,Math.max(d,G.value*D)),U=Vt(Math.random()*_+w,2);x.beginPath(),x.moveTo(B+d,U),x.arc(B,U,d,0,f,!0),x.fill()}x.restore()},width:l}},p.getDOMRenderer=function(s,u){for(var l=En(s)?s.dataLength:1,f="",d=0;d<l;++d)f+="<div style='background-color: ".concat(Ie,"' title=''></div>");return{template:"<div>".concat(f,"</div>"),update:function(_,w){var x=w.length;_.children.length!==x&&(_.innerHTML=w.reduce((function(D,N){return"".concat(D,"<div style='background-color: ").concat(u(N.color),"' title='").concat(u(N.label),"'></div>")}),""));var T=_.children;w.forEach((function(D,N){var I=T[N];I.title=D.label,I.style.display=Number.isNaN(D.value)?"none":null,I.style.left="".concat(Vt(100*D.value,2),"%"),I.style.top=x>1?"".concat(Vt(Math.random()*KY+JY,2),"%"):null,I.style.backgroundColor=D.color}))},render:function(_,w,x,T){_.save(),_.globalAlpha=Pn.opacity,w.forEach((function(D,N){_.fillStyle=x[N]||Pn.color,_.fillRect(Math.max(0,D*T-Pn.size/2),0,Pn.size,sn)})),_.restore()}}},p.getSingleDOMRenderer=function(s,u){return{template:'<div class="'.concat(z("dot-single"),`"><div style='background-color: `).concat(Ie,"' title=''></div><span ").concat(u?"":'class="'.concat(z("hover-only"),'"'),"></span></div>"),update:function(l,f,d,_){var w=s(d);l.title=w;var x=l.firstElementChild;x.style.display=Number.isNaN(f)?"none":null,x.style.left="".concat(Vt(100*f,2),"%"),x.style.backgroundColor=s(_),l.lastElementChild.textContent=w},render:function(l,f,d,_){l.save(),l.globalAlpha=Pn.opacitySingle,l.fillStyle=d||Pn.color,l.fillRect(Math.max(0,f*_-Pn.size/2),0,Pn.size,sn),l.restore()}}},p.prototype.create=function(s,u,l){var f=u.colWidth(s),d=s.getNumberFormat();if(!En(s)){var _=p.getSingleDOMRenderer(u.sanitize,this.renderValue),w=_.template,x=_.render,T=_.update;return{template:w,update:function(B,U){if(!lr(B,s,U)){var $=Qr(wr(s,U,l),Ci);return T(B,s.getNumber(U),s.getLabel(U),$)}},render:function(B,U){var $=Qr(wr(s,U,l),Ci);return x(B,s.getNumber(U),$,f)}}}var D=p.getDOMRenderer(s,u.sanitize),N=D.template,I=D.render,G=D.update;return{template:N,update:function(B,U){if(!lr(B,s,U)){var $=Qr(wr(s,U,l),Ci),K=s.getNumbers(U).filter((function(nt){return!Number.isNaN(nt)})).map((function(nt){return{value:nt,label:d(nt),color:$}}));return G(B,K)}},render:function(B,U){if(!Ai(B,s,U,f)){var $=Qr(wr(s,U,l),Ci),K=s.getNumbers(U).filter((function(nt){return!Number.isNaN(nt)}));return I(B,K,K.map((function(nt){return $})),f)}}}},p.prototype.createGroup=function(s,u,l){var f=p.getCanvasRenderer(s,u),d=f.template,_=f.render,w=f.width;return{template:d,update:function(x,T){return u.tasks.groupRows(s,T,"dot",(function(D){if(!En(s))return Array.from(D.map((function(I){return{value:s.getNumber(I),color:wr(s,I,l)}})));var N=D.map((function(I){var G=Qr(wr(s,I,l),Ci);return s.getNumbers(I).filter((function(B){return!Number.isNaN(B)})).map((function(B){return{value:B,color:G}}))}));return Array.from((function(I,G){for(var B=[],U=2;U<arguments.length;U++)B[U-2]=arguments[U];return new R(I)})(N))})).then((function(D){if(typeof D!="symbol"){var N=!D||D.length===0||D.every((function(G){return Number.isNaN(G.value)}));if(x.classList.toggle(z("missing"),N),!N){var I=x.getContext("2d");I.canvas.width=w,I.clearRect(0,0,I.canvas.width,I.canvas.height),_(I,D,w)}}}))}}},p.prototype.createSummary=function(){return fr},p})();const XN=QY;function ZN(p){return p.parent==null&&p.name===ft.name}const KN=(function(){function p(){this.title="Default"}return p.prototype.canRender=function(s){return s instanceof $b},p.prototype.create=function(){return{template:"<div><div></div></div>",update:function(s,u,l,f){var d=ZN(f)||l>0?"":"".concat(f.name," (").concat(f.order.length,")");s.firstElementChild.textContent=d,s.title=d},render:function(s,u,l){return l===0}}},p.prototype.createGroup=function(){return{template:"<div><div></div></div>",update:function(s,u){var l=ZN(u)?"":"".concat(u.name," (").concat(u.order.length,")");s.firstElementChild.textContent=l,s.title=l}}},p.prototype.createSummary=function(){return fr},p})();var O1=(function(){function p(){}return p.choose=function(s,u){for(var l=null,f=u.map((function(D,N){return N===0&&(l=D),{n:s.getNumbers(D),raw:s.getRawNumbers(D)}})),d=s.dataLength,_=[],w=[],x=function(D){var N=f.map((function(U){return{n:U.n[D],raw:U.raw[D]}})).filter((function(U){return!Number.isNaN(U.n)}));if(N.length===0)_.push(NaN),w.push(NaN);else{var I=lt(),G=lt(),B=s.getSortMethod();N.forEach((function(U){I.push(U.n),G.push(U.raw)})),_.push(I.build()[B]),w.push(G.build()[B])}},T=0;T<d;++T)x(T);return{normalized:_,raw:w,row:l}},p.prototype.create=function(s,u,l){var f=u.colWidth(s),d=this.createContext(s,u,l),_=d.templateRow,w=d.render,x=d.update,T=d.clazz;return{template:'<div class="'.concat(T,'">').concat(_,"</div>"),update:function(D,N){lr(D,s,N)||x(D,s.getNumbers(N),s.getRawNumbers(N),N)},render:function(D,N){Ai(D,s,N,f)||w(D,s.getNumbers(N),N)}}},p.prototype.createGroup=function(s,u,l){var f=this,d=this.createContext(s,u,l),_=d.templateRow,w=d.update,x=d.clazz;return{template:'<div class="'.concat(x,'">').concat(_,"</div>"),update:function(T,D){return u.tasks.groupRows(s,D,f.title,(function(N){return p.choose(s,N)})).then((function(N){typeof N!="symbol"&&w(T,N.normalized,N.raw,N.row,"".concat(Kr(s.getSortMethod())," "))}))}}},p})(),t$=(function(){function p(){this.title="Heatmap"}return p.prototype.canRender=function(s){return En(s)&&!!s.dataLength},p.prototype.createContext=function(s,u,l){var f=u.colWidth(s),d=f/s.dataLength,_=s.labels;return{template:'<canvas height="'.concat(eu,'" title=""></canvas>'),render:function(w,x,T,D){x.forEach((function(N,I){var G=I*d;Number.isNaN(N)?A1(w,d,D,G,0):(w.fillStyle=Os(N,T,s,l),w.fillRect(G,0,d,D))}))},width:f,mover:function(w,x,T){return function(D){var N=D.offsetX/f,I=Math.max(0,Math.min(s.dataLength-1,Math.floor(N*(s.dataLength-1)+.5)));w.title="".concat(T||"").concat(_[I],": ").concat(x[I])}}}},p.prototype.create=function(s,u,l,f){var d=this.createContext(s,u,f),_=d.template,w=d.render,x=d.mover,T=d.width;return{template:_,update:function(D,N){var I=D.getContext("2d");I.canvas.width=T,I.clearRect(0,0,I.canvas.width,I.canvas.height),lr(D,s,N)||(D.onmousemove=x(D,s.getLabels(N)),D.onmouseleave=function(){return D.title=""},w(I,s.getNumbers(N),N,eu))},render:function(D,N){w(D,s.getNumbers(N),N,sn)}}},p.prototype.createGroup=function(s,u,l){var f=this,d=this.createContext(s,u,l),_=d.template,w=d.render,x=d.mover,T=d.width,D=s.getNumberFormat();return{template:_,update:function(N,I){return u.tasks.groupRows(s,I,f.title,(function(G){return O1.choose(s,G)})).then((function(G){if(typeof G!="symbol"){var B=N.getContext("2d");B.canvas.width=T,B.clearRect(0,0,B.canvas.width,B.canvas.height);var U=!G||G.normalized.length===0||G.normalized.every((function($){return Number.isNaN($)}));N.classList.toggle(z("missing"),U),U||(N.onmousemove=x(N,G.raw.map(D),"".concat(Kr(s.getSortMethod())," ")),N.onmouseleave=function(){return N.title=""},w(B,G.normalized,G.row,eu))}}))}}},p.prototype.createSummary=function(s,u){for(var l=s.labels.slice();l.length>0&&!Rg(s,l.length);)l=l.filter((function(x,T){return T%2==0}));for(var f='<div class="'.concat(z("heatmap"),'">'),d=0,_=l;d<_.length;d++){var w=_[d];f+='<div class="'.concat(z("heatmap-cell"),'"  title="').concat(u.sanitize(w),'" data-title="').concat(u.sanitize(w),'"></div>')}return{template:f+="</div>",update:Rs}},p})();const JN=t$,nf=Math.min,Mi=Math.max,Vg=Math.round,Gg=Math.floor,Xa=p=>({x:p,y:p}),e$={left:"right",right:"left",bottom:"top",top:"bottom"},r$={start:"end",end:"start"};function QN(p,s,u){return Mi(p,nf(s,u))}function af(p,s){return typeof p=="function"?p(s):p}function Ps(p){return p.split("-")[0]}function Fg(p){return p.split("-")[1]}function P1(p){return p==="x"?"y":"x"}function tR(p){return p==="y"?"height":"width"}function nu(p){return["top","bottom"].includes(Ps(p))?"y":"x"}function eR(p){return P1(nu(p))}function k1(p){return p.replace(/start|end/g,(s=>r$[s]))}function Bg(p){return p.replace(/left|right|bottom|top/g,(s=>e$[s]))}function Hg(p){const{x:s,y:u,width:l,height:f}=p;return{width:l,height:f,top:u,left:s,right:s+l,bottom:u+f,x:s,y:u}}function rR(p,s,u){let{reference:l,floating:f}=p;const d=nu(s),_=eR(s),w=tR(_),x=Ps(s),T=d==="y",D=l.x+l.width/2-f.width/2,N=l.y+l.height/2-f.height/2,I=l[w]/2-f[w]/2;let G;switch(x){case"top":G={x:D,y:l.y-f.height};break;case"bottom":G={x:D,y:l.y+l.height};break;case"right":G={x:l.x+l.width,y:N};break;case"left":G={x:l.x-f.width,y:N};break;default:G={x:l.x,y:l.y}}switch(Fg(s)){case"start":G[_]-=I*(u&&T?-1:1);break;case"end":G[_]+=I*(u&&T?-1:1)}return G}async function V1(p,s){var u;s===void 0&&(s={});const{x:l,y:f,platform:d,rects:_,elements:w,strategy:x}=p,{boundary:T="clippingAncestors",rootBoundary:D="viewport",elementContext:N="floating",altBoundary:I=!1,padding:G=0}=af(s,p),B=(function(wt){return typeof wt!="number"?(function(Tt){return{top:0,right:0,bottom:0,left:0,...Tt}})(wt):{top:wt,right:wt,bottom:wt,left:wt}})(G),U=w[I?N==="floating"?"reference":"floating":N],$=Hg(await d.getClippingRect({element:(u=await(d.isElement==null?void 0:d.isElement(U)))==null||u?U:U.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(w.floating)),boundary:T,rootBoundary:D,strategy:x})),K=N==="floating"?{x:l,y:f,width:_.floating.width,height:_.floating.height}:_.reference,nt=await(d.getOffsetParent==null?void 0:d.getOffsetParent(w.floating)),at=await(d.isElement==null?void 0:d.isElement(nt))&&await(d.getScale==null?void 0:d.getScale(nt))||{x:1,y:1},ct=Hg(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:w,rect:K,offsetParent:nt,strategy:x}):K);return{top:($.top-ct.top+B.top)/at.y,bottom:(ct.bottom-$.bottom+B.bottom)/at.y,left:($.left-ct.left+B.left)/at.x,right:(ct.right-$.right+B.right)/at.x}}function zg(){return typeof window<"u"}function of(p){return nR(p)?(p.nodeName||"").toLowerCase():"#document"}function Di(p){var s;return(p==null||(s=p.ownerDocument)==null?void 0:s.defaultView)||window}function Za(p){var s;return(s=(nR(p)?p.ownerDocument:p.document)||window.document)==null?void 0:s.documentElement}function nR(p){return!!zg()&&(p instanceof Node||p instanceof Di(p).Node)}function ya(p){return!!zg()&&(p instanceof Element||p instanceof Di(p).Element)}function Ka(p){return!!zg()&&(p instanceof HTMLElement||p instanceof Di(p).HTMLElement)}function iR(p){return!(!zg()||typeof ShadowRoot>"u")&&(p instanceof ShadowRoot||p instanceof Di(p).ShadowRoot)}function yp(p){const{overflow:s,overflowX:u,overflowY:l,display:f}=ma(p);return/auto|scroll|overlay|hidden|clip/.test(s+l+u)&&!["inline","contents"].includes(f)}function n$(p){return["table","td","th"].includes(of(p))}function Ug(p){return[":popover-open",":modal"].some((s=>{try{return p.matches(s)}catch{return!1}}))}function G1(p){const s=F1(),u=ya(p)?ma(p):p;return u.transform!=="none"||u.perspective!=="none"||!!u.containerType&&u.containerType!=="normal"||!s&&!!u.backdropFilter&&u.backdropFilter!=="none"||!s&&!!u.filter&&u.filter!=="none"||["transform","perspective","filter"].some((l=>(u.willChange||"").includes(l)))||["paint","layout","strict","content"].some((l=>(u.contain||"").includes(l)))}function F1(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function sf(p){return["html","body","#document"].includes(of(p))}function ma(p){return Di(p).getComputedStyle(p)}function Wg(p){return ya(p)?{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}:{scrollLeft:p.scrollX,scrollTop:p.scrollY}}function ks(p){if(of(p)==="html")return p;const s=p.assignedSlot||p.parentNode||iR(p)&&p.host||Za(p);return iR(s)?s.host:s}function aR(p){const s=ks(p);return sf(s)?p.ownerDocument?p.ownerDocument.body:p.body:Ka(s)&&yp(s)?s:aR(s)}function mp(p,s,u){var l;s===void 0&&(s=[]),u===void 0&&(u=!0);const f=aR(p),d=f===((l=p.ownerDocument)==null?void 0:l.body),_=Di(f);if(d){const w=B1(_);return s.concat(_,_.visualViewport||[],yp(f)?f:[],w&&u?mp(w):[])}return s.concat(f,mp(f,[],u))}function B1(p){return p.parent&&Object.getPrototypeOf(p.parent)?p.frameElement:null}function oR(p){const s=ma(p);let u=parseFloat(s.width)||0,l=parseFloat(s.height)||0;const f=Ka(p),d=f?p.offsetWidth:u,_=f?p.offsetHeight:l,w=Vg(u)!==d||Vg(l)!==_;return w&&(u=d,l=_),{width:u,height:l,$:w}}function H1(p){return ya(p)?p:p.contextElement}function lf(p){const s=H1(p);if(!Ka(s))return Xa(1);const u=s.getBoundingClientRect(),{width:l,height:f,$:d}=oR(s);let _=(d?Vg(u.width):u.width)/l,w=(d?Vg(u.height):u.height)/f;return _&&Number.isFinite(_)||(_=1),w&&Number.isFinite(w)||(w=1),{x:_,y:w}}const i$=Xa(0);function sR(p){const s=Di(p);return F1()&&s.visualViewport?{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}:i$}function iu(p,s,u,l){s===void 0&&(s=!1),u===void 0&&(u=!1);const f=p.getBoundingClientRect(),d=H1(p);let _=Xa(1);s&&(l?ya(l)&&(_=lf(l)):_=lf(p));const w=(function(I,G,B){return G===void 0&&(G=!1),!(!B||G&&B!==Di(I))&&G})(d,u,l)?sR(d):Xa(0);let x=(f.left+w.x)/_.x,T=(f.top+w.y)/_.y,D=f.width/_.x,N=f.height/_.y;if(d){const I=Di(d),G=l&&ya(l)?Di(l):l;let B=I,U=B1(B);for(;U&&l&&G!==B;){const $=lf(U),K=U.getBoundingClientRect(),nt=ma(U),at=K.left+(U.clientLeft+parseFloat(nt.paddingLeft))*$.x,ct=K.top+(U.clientTop+parseFloat(nt.paddingTop))*$.y;x*=$.x,T*=$.y,D*=$.x,N*=$.y,x+=at,T+=ct,B=Di(U),U=B1(B)}}return Hg({width:D,height:N,x,y:T})}function z1(p,s){const u=Wg(p).scrollLeft;return s?s.left+u:iu(Za(p)).left+u}function lR(p,s,u){u===void 0&&(u=!1);const l=p.getBoundingClientRect();return{x:l.left+s.scrollLeft-(u?0:z1(p,l)),y:l.top+s.scrollTop}}function uR(p,s,u){let l;if(s==="viewport")l=(function(f,d){const _=Di(f),w=Za(f),x=_.visualViewport;let T=w.clientWidth,D=w.clientHeight,N=0,I=0;if(x){T=x.width,D=x.height;const G=F1();(!G||G&&d==="fixed")&&(N=x.offsetLeft,I=x.offsetTop)}return{width:T,height:D,x:N,y:I}})(p,u);else if(s==="document")l=(function(f){const d=Za(f),_=Wg(f),w=f.ownerDocument.body,x=Mi(d.scrollWidth,d.clientWidth,w.scrollWidth,w.clientWidth),T=Mi(d.scrollHeight,d.clientHeight,w.scrollHeight,w.clientHeight);let D=-_.scrollLeft+z1(f);const N=-_.scrollTop;return ma(w).direction==="rtl"&&(D+=Mi(d.clientWidth,w.clientWidth)-x),{width:x,height:T,x:D,y:N}})(Za(p));else if(ya(s))l=(function(f,d){const _=iu(f,!0,d==="fixed"),w=_.top+f.clientTop,x=_.left+f.clientLeft,T=Ka(f)?lf(f):Xa(1);return{width:f.clientWidth*T.x,height:f.clientHeight*T.y,x:x*T.x,y:w*T.y}})(s,u);else{const f=sR(p);l={x:s.x-f.x,y:s.y-f.y,width:s.width,height:s.height}}return Hg(l)}function cR(p,s){const u=ks(p);return!(u===s||!ya(u)||sf(u))&&(ma(u).position==="fixed"||cR(u,s))}function a$(p,s,u){const l=Ka(s),f=Za(s),d=u==="fixed",_=iu(p,!0,d,s);let w={scrollLeft:0,scrollTop:0};const x=Xa(0);if(l||!l&&!d)if((of(s)!=="body"||yp(f))&&(w=Wg(s)),l){const D=iu(s,!0,d,s);x.x=D.x+s.clientLeft,x.y=D.y+s.clientTop}else f&&(x.x=z1(f));const T=!f||l||d?Xa(0):lR(f,w);return{x:_.left+w.scrollLeft-x.x-T.x,y:_.top+w.scrollTop-x.y-T.y,width:_.width,height:_.height}}function U1(p){return ma(p).position==="static"}function fR(p,s){if(!Ka(p)||ma(p).position==="fixed")return null;if(s)return s(p);let u=p.offsetParent;return Za(p)===u&&(u=u.ownerDocument.body),u}function hR(p,s){const u=Di(p);if(Ug(p))return u;if(!Ka(p)){let f=ks(p);for(;f&&!sf(f);){if(ya(f)&&!U1(f))return f;f=ks(f)}return u}let l=fR(p,s);for(;l&&n$(l)&&U1(l);)l=fR(l,s);return l&&sf(l)&&U1(l)&&!G1(l)?u:l||(function(f){let d=ks(f);for(;Ka(d)&&!sf(d);){if(G1(d))return d;if(Ug(d))return null;d=ks(d)}return null})(p)||u}const o$={convertOffsetParentRelativeRectToViewportRelativeRect:function(p){let{elements:s,rect:u,offsetParent:l,strategy:f}=p;const d=f==="fixed",_=Za(l),w=!!s&&Ug(s.floating);if(l===_||w&&d)return u;let x={scrollLeft:0,scrollTop:0},T=Xa(1);const D=Xa(0),N=Ka(l);if((N||!N&&!d)&&((of(l)!=="body"||yp(_))&&(x=Wg(l)),Ka(l))){const G=iu(l);T=lf(l),D.x=G.x+l.clientLeft,D.y=G.y+l.clientTop}const I=!_||N||d?Xa(0):lR(_,x,!0);return{width:u.width*T.x,height:u.height*T.y,x:u.x*T.x-x.scrollLeft*T.x+D.x+I.x,y:u.y*T.y-x.scrollTop*T.y+D.y+I.y}},getDocumentElement:Za,getClippingRect:function(p){let{element:s,boundary:u,rootBoundary:l,strategy:f}=p;const d=[...u==="clippingAncestors"?Ug(s)?[]:(function(x,T){const D=T.get(x);if(D)return D;let N=mp(x,[],!1).filter((U=>ya(U)&&of(U)!=="body")),I=null;const G=ma(x).position==="fixed";let B=G?ks(x):x;for(;ya(B)&&!sf(B);){const U=ma(B),$=G1(B);$||U.position!=="fixed"||(I=null),(G?!$&&!I:!$&&U.position==="static"&&I&&["absolute","fixed"].includes(I.position)||yp(B)&&!$&&cR(x,B))?N=N.filter((K=>K!==B)):I=U,B=ks(B)}return T.set(x,N),N})(s,this._c):[].concat(u),l],_=d[0],w=d.reduce(((x,T)=>{const D=uR(s,T,f);return x.top=Mi(D.top,x.top),x.right=nf(D.right,x.right),x.bottom=nf(D.bottom,x.bottom),x.left=Mi(D.left,x.left),x}),uR(s,_,f));return{width:w.right-w.left,height:w.bottom-w.top,x:w.left,y:w.top}},getOffsetParent:hR,getElementRects:async function(p){const s=this.getOffsetParent||hR,u=this.getDimensions,l=await u(p.floating);return{reference:a$(p.reference,await s(p.floating),p.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}},getClientRects:function(p){return Array.from(p.getClientRects())},getDimensions:function(p){const{width:s,height:u}=oR(p);return{width:s,height:u}},getScale:lf,isElement:ya,isRTL:function(p){return ma(p).direction==="rtl"}},s$=function(p){return p===void 0&&(p={}),{name:"shift",options:p,async fn(s){const{x:u,y:l,placement:f}=s,{mainAxis:d=!0,crossAxis:_=!1,limiter:w={fn:$=>{let{x:K,y:nt}=$;return{x:K,y:nt}}},...x}=af(p,s),T={x:u,y:l},D=await V1(s,x),N=nu(Ps(f)),I=P1(N);let G=T[I],B=T[N];if(d){const $=I==="y"?"bottom":"right";G=QN(G+D[I==="y"?"top":"left"],G,G-D[$])}if(_){const $=N==="y"?"bottom":"right";B=QN(B+D[N==="y"?"top":"left"],B,B-D[$])}const U=w.fn({...s,[I]:G,[N]:B});return{...U,data:{x:U.x-u,y:U.y-l,enabled:{[I]:d,[N]:_}}}}}},l$=function(p){return p===void 0&&(p={}),{name:"size",options:p,async fn(s){var u,l;const{placement:f,rects:d,platform:_,elements:w}=s,{apply:x=()=>{},...T}=af(p,s),D=await V1(s,T),N=Ps(f),I=Fg(f),G=nu(f)==="y",{width:B,height:U}=d.floating;let $,K;N==="top"||N==="bottom"?($=N,K=I===(await(_.isRTL==null?void 0:_.isRTL(w.floating))?"start":"end")?"left":"right"):(K=N,$=I==="end"?"top":"bottom");const nt=U-D.top-D.bottom,at=B-D.left-D.right,ct=nf(U-D[$],nt),wt=nf(B-D[K],at),Tt=!s.middlewareData.shift;let Ot=ct,Wt=wt;if((u=s.middlewareData.shift)!=null&&u.enabled.x&&(Wt=at),(l=s.middlewareData.shift)!=null&&l.enabled.y&&(Ot=nt),Tt&&!I){const kt=Mi(D.left,0),jt=Mi(D.right,0),Nt=Mi(D.top,0),te=Mi(D.bottom,0);G?Wt=B-2*(kt!==0||jt!==0?kt+jt:Mi(D.left,D.right)):Ot=U-2*(Nt!==0||te!==0?Nt+te:Mi(D.top,D.bottom))}await x({...s,availableWidth:Wt,availableHeight:Ot});const ut=await _.getDimensions(w.floating);return B!==ut.width||U!==ut.height?{reset:{rects:!0}}:{}}}},u$=function(p){return p===void 0&&(p={}),{options:p,fn(s){const{x:u,y:l,placement:f,rects:d,middlewareData:_}=s,{offset:w=0,mainAxis:x=!0,crossAxis:T=!0}=af(p,s),D={x:u,y:l},N=nu(f),I=P1(N);let G=D[I],B=D[N];const U=af(w,s),$=typeof U=="number"?{mainAxis:U,crossAxis:0}:{mainAxis:0,crossAxis:0,...U};if(x){const at=I==="y"?"height":"width",ct=d.reference[I]-d.floating[at]+$.mainAxis,wt=d.reference[I]+d.reference[at]-$.mainAxis;G<ct?G=ct:G>wt&&(G=wt)}if(T){var K,nt;const at=I==="y"?"width":"height",ct=["top","left"].includes(Ps(f)),wt=d.reference[N]-d.floating[at]+(ct&&((K=_.offset)==null?void 0:K[N])||0)+(ct?0:$.crossAxis),Tt=d.reference[N]+d.reference[at]+(ct?0:((nt=_.offset)==null?void 0:nt[N])||0)-(ct?$.crossAxis:0);B<wt?B=wt:B>Tt&&(B=Tt)}return{[I]:G,[N]:B}}}};function Li(p,s,u){return{attachment:u.currentTarget!=null?u.currentTarget:u,level:s,manager:p.dialogManager,idPrefix:p.idPrefix,sanitize:p.sanitize}}var c$=(function(){function p(s,u){u===void 0&&(u={}),this.dialog=s,this.options={title:"",livePreview:!1,popup:!1,toggleDialog:!0,cancelSubDialogs:!1,autoClose:!1},this.floatingUiCleanup=null,Object.assign(this.options,u),this.node=s.attachment.ownerDocument.createElement("form"),this.node.classList.add(z("dialog"))}return Object.defineProperty(p.prototype,"autoClose",{get:function(){return this.options.autoClose},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"attachment",{get:function(){return this.dialog.attachment},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"level",{get:function(){return this.dialog.level},enumerable:!1,configurable:!0}),p.prototype.showLivePreviews=function(){return this.options.livePreview===!0||typeof this.options.livePreview=="string"&&this.dialog.manager.livePreviews[this.options.livePreview]===!0},p.prototype.enableLivePreviews=function(s){var u=this;if(this.showLivePreviews()){var l=function(){u.submit()};typeof s=="string"?this.forEach(s,(function(f){f.addEventListener("change",l,{passive:!0})})):s.forEach((function(f){f.addEventListener("change",l,{passive:!0})}))}},p.prototype.equals=function(s){return this.dialog.level===s.dialog.level&&this.dialog.attachment===s.dialog.attachment},p.prototype.appendDialogButtons=function(){this.node.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-buttons"),`">
      <button class="`).concat(z("dialog-button"),`" type="submit" title="Apply"></button>
      <button class="`).concat(z("dialog-button"),`" type="button" title="Cancel"></button>
      <button class="`).concat(z("dialog-button"),`" type="reset" title="Reset to default values"></button>
    </div>`))},p.prototype.open=function(){var s=this;if(!(this.options.toggleDialog&&this.dialog.manager.removeLike(this)||this.build(this.node)===!1)){var u=this.attachment.closest(".".concat(z()));if(this.options.title){var l=this.node.ownerDocument.createElement("strong");l.textContent=this.options.title,this.node.insertAdjacentElement("afterbegin",l)}this.options.popup||this.appendDialogButtons(),u.appendChild(this.node),this.floatingUiCleanup=(function(w,x,T,D){D===void 0&&(D={});const{ancestorScroll:N=!0,ancestorResize:I=!0,elementResize:G=typeof ResizeObserver=="function",layoutShift:B=typeof IntersectionObserver=="function",animationFrame:U=!1}=D,$=H1(w),K=N||I?[...$?mp($):[],...mp(x)]:[];K.forEach((Ot=>{N&&Ot.addEventListener("scroll",T,{passive:!0}),I&&Ot.addEventListener("resize",T)}));const nt=$&&B?(function(Ot,Wt){let ut,kt=null;const jt=Za(Ot);function Nt(){var te;clearTimeout(ut),(te=kt)==null||te.disconnect(),kt=null}return(function te(zt,Le){zt===void 0&&(zt=!1),Le===void 0&&(Le=1),Nt();const{left:Ge,top:qe,width:gi,height:dn}=Ot.getBoundingClientRect();if(zt||Wt(),!gi||!dn)return;const Jn={rootMargin:-Gg(qe)+"px "+-Gg(jt.clientWidth-(Ge+gi))+"px "+-Gg(jt.clientHeight-(qe+dn))+"px "+-Gg(Ge)+"px",threshold:Mi(0,nf(1,Le))||1};let Mr=!0;function Dn(Qn){const Tr=Qn[0].intersectionRatio;if(Tr!==Le){if(!Mr)return te();Tr?te(!1,Tr):ut=setTimeout((()=>{te(!1,1e-7)}),1e3)}Mr=!1}try{kt=new IntersectionObserver(Dn,{...Jn,root:jt.ownerDocument})}catch{kt=new IntersectionObserver(Dn,Jn)}kt.observe(Ot)})(!0),Nt})($,T):null;let at,ct=-1,wt=null;G&&(wt=new ResizeObserver((Ot=>{let[Wt]=Ot;Wt&&Wt.target===$&&wt&&(wt.unobserve(x),cancelAnimationFrame(ct),ct=requestAnimationFrame((()=>{var ut;(ut=wt)==null||ut.observe(x)}))),T()})),$&&!U&&wt.observe($),wt.observe(x));let Tt=U?iu(w):null;return U&&(function Ot(){const Wt=iu(w);!Tt||Wt.x===Tt.x&&Wt.y===Tt.y&&Wt.width===Tt.width&&Wt.height===Tt.height||T(),Tt=Wt,at=requestAnimationFrame(Ot)})(),T(),()=>{var Ot;K.forEach((Wt=>{N&&Wt.removeEventListener("scroll",T),I&&Wt.removeEventListener("resize",T)})),nt?.(),(Ot=wt)==null||Ot.disconnect(),wt=null,U&&cancelAnimationFrame(at)}})(this.attachment,this.node,(function(){var w;((x,T,D)=>{const N=new Map,I={platform:o$,...D},G={...I.platform,_c:N};return(async(B,U,$)=>{const{placement:K="bottom",strategy:nt="absolute",middleware:at=[],platform:ct}=$,wt=at.filter(Boolean),Tt=await(ct.isRTL==null?void 0:ct.isRTL(U));let Ot=await ct.getElementRects({reference:B,floating:U,strategy:nt}),{x:Wt,y:ut}=rR(Ot,K,Tt),kt=K,jt={},Nt=0;for(let te=0;te<wt.length;te++){const{name:zt,fn:Le}=wt[te],{x:Ge,y:qe,data:gi,reset:dn}=await Le({x:Wt,y:ut,initialPlacement:K,placement:kt,strategy:nt,middlewareData:jt,rects:Ot,platform:ct,elements:{reference:B,floating:U}});Wt=Ge??Wt,ut=qe??ut,jt={...jt,[zt]:{...jt[zt],...gi}},dn&&Nt<=50&&(Nt++,typeof dn=="object"&&(dn.placement&&(kt=dn.placement),dn.rects&&(Ot=dn.rects===!0?await ct.getElementRects({reference:B,floating:U,strategy:nt}):dn.rects),{x:Wt,y:ut}=rR(Ot,kt,Tt)),te=-1)}return{x:Wt,y:ut,placement:kt,strategy:nt,middlewareData:jt}})(x,T,{...I,platform:G})})(s.attachment,s.node,{placement:s.dialog.level===0?"bottom-start":"right-start",middleware:[(w===void 0&&(w={}),{name:"flip",options:w,async fn(x){var T,D;const{placement:N,middlewareData:I,rects:G,initialPlacement:B,platform:U,elements:$}=x,{mainAxis:K=!0,crossAxis:nt=!0,fallbackPlacements:at,fallbackStrategy:ct="bestFit",fallbackAxisSideDirection:wt="none",flipAlignment:Tt=!0,...Ot}=af(w,x);if((T=I.arrow)!=null&&T.alignmentOffset)return{};const Wt=Ps(N),ut=nu(B),kt=Ps(B)===B,jt=await(U.isRTL==null?void 0:U.isRTL($.floating)),Nt=at||(kt||!Tt?[Bg(B)]:(function(Mr){const Dn=Bg(Mr);return[k1(Mr),Dn,k1(Dn)]})(B)),te=wt!=="none";!at&&te&&Nt.push(...(function(Mr,Dn,Qn,Tr){const Rr=Fg(Mr);let vn=(function(zs,Us,yK){const BI=["left","right"],HI=["right","left"],mK=["top","bottom"],_K=["bottom","top"];switch(zs){case"top":case"bottom":return yK?Us?HI:BI:Us?BI:HI;case"left":case"right":return Us?mK:_K;default:return[]}})(Ps(Mr),Qn==="start",Tr);return Rr&&(vn=vn.map((zs=>zs+"-"+Rr)),Dn&&(vn=vn.concat(vn.map(k1)))),vn})(B,Tt,wt,jt));const zt=[B,...Nt],Le=await V1(x,Ot),Ge=[];let qe=((D=I.flip)==null?void 0:D.overflows)||[];if(K&&Ge.push(Le[Wt]),nt){const Mr=(function(Dn,Qn,Tr){Tr===void 0&&(Tr=!1);const Rr=Fg(Dn),vn=eR(Dn),zs=tR(vn);let Us=vn==="x"?Rr===(Tr?"end":"start")?"right":"left":Rr==="start"?"bottom":"top";return Qn.reference[zs]>Qn.floating[zs]&&(Us=Bg(Us)),[Us,Bg(Us)]})(N,G,jt);Ge.push(Le[Mr[0]],Le[Mr[1]])}if(qe=[...qe,{placement:N,overflows:Ge}],!Ge.every((Mr=>Mr<=0))){var gi,dn;const Mr=(((gi=I.flip)==null?void 0:gi.index)||0)+1,Dn=zt[Mr];if(Dn)return{data:{index:Mr,overflows:qe},reset:{placement:Dn}};let Qn=(dn=qe.filter((Tr=>Tr.overflows[0]<=0)).sort(((Tr,Rr)=>Tr.overflows[1]-Rr.overflows[1]))[0])==null?void 0:dn.placement;if(!Qn)switch(ct){case"bestFit":{var Jn;const Tr=(Jn=qe.filter((Rr=>{if(te){const vn=nu(Rr.placement);return vn===ut||vn==="y"}return!0})).map((Rr=>[Rr.placement,Rr.overflows.filter((vn=>vn>0)).reduce(((vn,zs)=>vn+zs),0)])).sort(((Rr,vn)=>Rr[1]-vn[1]))[0])==null?void 0:Jn[0];Tr&&(Qn=Tr);break}case"initialPlacement":Qn=B}if(N!==Qn)return{reset:{placement:Qn}}}return{}}}),s$({limiter:u$()}),l$({apply:function(x){var T=x.availableWidth,D=x.availableHeight,N=x.elements;Object.assign(N.floating.style,{maxWidth:"".concat(T,"px"),maxHeight:"".concat(D-12,"px"),overflowY:"auto"})}})]}).then((function(x){var T=x.x,D=x.y;function N(I){var G=window.devicePixelRatio||1;return Math.round(I*G)/G}Object.assign(s.node.style,{top:"0",left:"0",transform:"translate(".concat(N(T),"px,").concat(N(D),"px)")})}))}));var f=this.find("input[autofocus]");f&&setTimeout((function(){return f.focus()}));var d=this.find("button[type=reset]");d&&(d.onclick=function(w){w.stopPropagation(),w.preventDefault(),s.reset(),s.showLivePreviews()&&s.submit()}),this.node.onsubmit=function(w){return w.stopPropagation(),w.preventDefault(),s.triggerSubmit()};var _=this.find("button[title=Cancel]");_&&(_.onclick=function(w){w.stopPropagation(),w.preventDefault(),s.cancel(),s.destroy("cancel")}),this.options.cancelSubDialogs&&this.node.addEventListener("click",(function(){s.dialog.manager.removeAboveLevel(s.dialog.level+1)})),this.dialog.manager.push(this)}},p.prototype.triggerSubmit=function(){return!!this.node.checkValidity()&&(this.submit()!==!1&&this.destroy("confirm"),!1)},p.prototype.find=function(s){return this.node.querySelector(s)},p.prototype.findInput=function(s){return this.find(s)},p.prototype.forEach=function(s,u){return Array.from(this.node.querySelectorAll(s)).map(u)},p.prototype.cleanUp=function(s){s==="confirm"?this.submit():s==="cancel"&&this.cancel(),s!=="handled"&&this.dialog.manager.triggerDialogClosed(this,s),this.floatingUiCleanup&&this.floatingUiCleanup(),this.node.remove()},p.prototype.destroy=function(s){s===void 0&&(s="cancel"),this.dialog.manager.triggerDialogClosed(this,s),this.dialog.manager.remove(this,!0)},p})();const xr=c$;var f$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const uf=(function(p){function s(u,l){return l===void 0&&(l={}),p.call(this,u,Object.assign({popup:!0},l))||this}return f$(s,p),s.prototype.submit=function(){return!0},s.prototype.reset=function(){},s.prototype.cancel=function(){},s})(xr);var h$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const p$=(function(p){function s(u,l,f){f===void 0&&(f={});var d=p.call(this,u)||this;return d.callback=l,d.ioptions={min:NaN,max:NaN,step:"any",value:NaN,label:null},Object.assign(d.ioptions,f),d}return h$(s,p),s.prototype.build=function(u){var l=this.ioptions;u.insertAdjacentHTML("beforeend",`
     <input type="number" value="`.concat(Number.isNaN(l.value)?"":String(l.value),'" required autofocus placeholder="').concat(this.dialog.sanitize(l.label?l.label:"enter number"),'" ').concat(Number.isNaN(l.min)?"":' min="'.concat(l.min,'"')," ").concat(Number.isNaN(l.max)?"":' max="'.concat(l.max,'"'),' step="').concat(l.step,`">
    `)),this.enableLivePreviews("input")},s.prototype.submit=function(){return this.callback(this.findInput("input[type=number]").valueAsNumber),!0},s})(uf);function _p(p,s){s===void 0&&(s={});var u=Object.assign({container:p.parentElement,filter:function(){return!0},onStart:function(){},onDrag:function(){},onEnd:function(){},minDelta:2},s),l=null,f=function(D,N){return D-N.getBoundingClientRect().left-N.clientLeft},d=0,_=0,w=0,x=function(D){if(u.filter(D)){D.stopPropagation(),D.preventDefault();var N=f(D.clientX,u.container)-w;Math.abs(_-N)<u.minDelta||(_=N,u.onDrag(p,N,_-N,D))}},T=function(D){if(u.filter(D)){D.stopPropagation(),D.preventDefault();var N=f(D.clientX,u.container)-w;l.removeEventListener("mousemove",x),l.removeEventListener("mouseup",T),l.removeEventListener("mouseleave",T),l.classList.remove(z("dragging")),Math.abs(d-N)<2||u.onEnd(p,N,d-N,D)}};p.onmousedown=function(D){u.filter(D)&&(D.stopPropagation(),D.preventDefault(),w=f(D.clientX,p),d=_=f(D.clientX,u.container)-w,(l=p.closest("body")||p.closest(".".concat(z()))).addEventListener("mousemove",x),l.addEventListener("mouseup",T),l.addEventListener("mouseleave",T),l.classList.add(z("dragging")),u.onStart(p,d,0,D))}}function pR(p){var s=Ei(p);return s.opacity=$h,s.toString()}function dR(p){for(var s="",u=0;u<p;++u)s+='<div class="'.concat(z("histogram-bin"),'" title="Bin ').concat(u,': 0" data-x=""><div style="height: 0" ></div></div>');return'<div class="'.concat(z("histogram")," ").concat(p>ef?z("dense"):"",'">').concat(s)}function vR(p,s,u,l,f){var d=s.hist,_=(function(w,x){var T=Array.from(w.querySelectorAll("[data-x]"));if(T.length>x)T.splice(x,T.length-x).forEach((function(N){return N.remove()}));else if(T.length<x){for(var D=T.length;D<x;++D)w.insertAdjacentHTML("afterbegin",'<div class="'.concat(z("histogram-bin"),'" title="Bin ').concat(D,': 0" data-x=""><div style="height: 0" ></div></div>'));T=Array.from(w.querySelectorAll("[data-x]"))}return w.classList.toggle(z("dense"),x>ef),T})(p,d.length);_.forEach((function(w,x){var T=d[x],D=w.firstElementChild;if(T){var N=T.x0,I=T.x1,G=T.count,B=f(T);if(w.dataset.x=l(N),u){var U=(u.hist[x]||{count:G}).count;w.title="".concat(l(N)," - ").concat(l(I)," (").concat(G," of ").concat(U,")"),D.style.height="".concat(Vt(100*U/u.maxBin,2),"%");var $=100-Vt(100*G/U,2);D.style.background=$===0?B:$===100?pR(B):"linear-gradient(".concat(pR(B)," ").concat($,"%, ").concat(B," ").concat($,"%, ").concat(B," 100%)")}else w.title="".concat(l(N)," - ").concat(l(I)," (").concat(G,")"),D.style.height="".concat(Vt(100*G/s.maxBin,2),"%"),D.style.backgroundColor=B}else D.style.height="0%"}))}function gR(p){return'<span class="'.concat(z("mapping-hint"),'" title="').concat(p[0],'">').concat(p[0],'</span><span class="').concat(z("mapping-hint"),'" title="').concat(p[1],'">').concat(p[1],"</span>")}function yR(p,s){Array.from(p.getElementsByTagName("span")).forEach((function(u,l){return u.textContent=s[l]}))}function jg(p,s){return`
    <div class="`.concat(z("histogram-min-hint"),'" style="width: ').concat(p.percent(s.filterMin),`%"></div>
    <div class="`).concat(z("histogram-max-hint"),'" style="width: ').concat(100-p.percent(s.filterMax),`%"></div>
    <div class="`).concat(z("histogram-min"),'" data-value="').concat(p.format(s.filterMin),'" data-raw="').concat(p.formatRaw(s.filterMin),'" style="left: ').concat(p.percent(s.filterMin),`%" title="min filter, drag or double click to change"></div>
    <div class="`).concat(z("histogram-max"),'" data-value="').concat(p.format(s.filterMax),'" data-raw="').concat(p.formatRaw(s.filterMax),'" style="right: ').concat(100-p.percent(s.filterMax),`%" title="max filter, drag or double click to change"></div>
    `).concat(C1(s.filterMissing,0),`
  `)}function Yg(p,s){var u=p.getElementsByClassName(z("histogram-min"))[0],l=p.getElementsByClassName(z("histogram-max"))[0],f=p.getElementsByClassName(z("histogram-min-hint"))[0],d=p.getElementsByClassName(z("histogram-max-hint"))[0],_=p.getElementsByTagName("input")[0],w=function(){var N=s.parseRaw(u.dataset.raw),I=s.parseRaw(l.dataset.raw);s.setFilter(_.checked,N,I)},x=function(N){N.preventDefault(),N.stopPropagation();var I=s.parseRaw(u.dataset.raw),G=s.parseRaw(l.dataset.raw);s.edit(I,u,"min",G).then((function(B){f.style.width="".concat(s.percent(B),"%"),u.dataset.value=s.format(B),u.dataset.raw=s.formatRaw(B),u.style.left="".concat(s.percent(B),"%"),u.classList.toggle(z("swap-hint"),s.percent(B)>15),w()}))};u.onclick=function(N){(N.shiftKey||N.ctrlKey)&&x(N)},u.ondblclick=x;var T=function(N){N.preventDefault(),N.stopPropagation();var I=s.parseRaw(l.dataset.raw),G=s.parseRaw(u.dataset.raw);s.edit(I,l,"max",G).then((function(B){d.style.width="".concat(100-s.percent(B),"%"),l.dataset.value=s.format(B),l.dataset.raw=s.formatRaw(B),l.style.right="".concat(100-s.percent(B),"%"),l.classList.toggle(z("swap-hint"),s.percent(B)<85),w()}))};l.onclick=function(N){(N.shiftKey||N.ctrlKey)&&T(N)},l.ondblclick=T,_.onchange=function(){return w()};var D={minDelta:0,filter:function(N){return N.button===0&&!N.shiftKey&&!N.ctrlKey},onStart:function(N){return N.classList.add(z("hist-dragging"))},onDrag:function(N,I){var G=N.classList.contains(z("histogram-min")),B=p.clientWidth,U=Math.max(0,Math.min(I,B)),$=Math.round(100*U/B),K=s.unpercent($),nt=s.parseRaw((G?l:u).dataset.raw);(G&&K>nt||!G&&K<nt)&&(K=nt,$=s.percent(K)),N.dataset.value=s.format(K),N.dataset.raw=s.formatRaw(K),G?(N.style.left="".concat($,"%"),N.classList.toggle(z("swap-hint"),$>15),f.style.width="".concat($,"%")):(N.style.right="".concat(100-$,"%"),N.classList.toggle(z("swap-hint"),$<85),d.style.width="".concat(100-$,"%"))},onEnd:function(N){N.classList.remove(z("hist-dragging")),w()}};return _p(u,D),_p(l,D),function(N,I){f.style.width="".concat(s.percent(I.filterMin),"%"),d.style.width="".concat(100-s.percent(I.filterMax),"%"),u.dataset.value=s.format(I.filterMin),l.dataset.value=s.format(I.filterMax),u.dataset.raw=s.formatRaw(I.filterMin),l.dataset.raw=s.formatRaw(I.filterMax),u.style.left="".concat(s.percent(I.filterMin),"%"),l.style.right="".concat(100-s.percent(I.filterMax),"%"),u.classList.toggle(z("swap-hint"),s.percent(I.filterMin)>15),l.classList.toggle(z("swap-hint"),s.percent(I.filterMax)<85),_.checked=I.filterMissing,PN(_.parentElement,N)}}var d$=(function(){function p(){this.title="Histogram"}return p.prototype.canRender=function(s,u){return Je(s)&&u!==Ne.CELL||En(s)&&u===Ne.CELL},p.prototype.create=function(s,u,l){var f=bp(s,l),d=f.template,_=f.render,w=f.guessedBins;return{template:"".concat(d,"</div>"),update:function(x,T){if(!lr(x,s,T)){for(var D=dt([0,1],w),N=0,I=s.getNumbers(T);N<I.length;N++){var G=I[N];D.push(G)}var B=D.build();_(x,B)}}}},p.prototype.createGroup=function(s,u,l){var f=bp(s,l),d=f.template,_=f.render;return{template:"".concat(d,"</div>"),update:function(w,x){return u.tasks.groupNumberStats(s,x).then((function(T){if(typeof T!="symbol"){var D=!T||T.group==null||T.group.count===0||T.group.count===T.group.missing;if(w.classList.toggle(z("missing"),D),!D){var N=T.summary,I=T.group;_(w,I,N)}}}))}}},p.prototype.createSummary=function(s,u,l,f){var d=bp(s,f);return l&&Xe(s)?(function(_,w,x,T){var D,N=_R(_,w);return x+=jg(N,Sp(_)),{template:"".concat(x,"</div>"),update:function(I){return D||(D=Yg(I,N)),w.tasks.summaryNumberStats(_,!0).then((function(G){if(typeof G!="symbol"){var B=G.summary,U=G.data;D(U?U.missing:B?B.missing:0,Sp(_)),I.classList.add(z("histogram-i")),I.classList.toggle(z("missing"),!B),B&&T(I,B,U)}}))}}})(s,u,d.template,d.render):(function(_,w,x,T){return Xe(_)&&(x+=gR(_.getRange())),{template:"".concat(x,"</div>"),update:function(D){return Xe(_)&&yR(D,_.getRange()),w.tasks.summaryNumberStats(_).then((function(N){if(typeof N!="symbol"){var I=!N||N.summary==null||N.summary.count===0||N.summary.count===N.summary.missing;D.classList.toggle(z("missing"),I),I||T(D,N.summary)}}))}}})(s,u,d.template,d.render)},p})();const mR=d$;function bp(p,s){var u=p.findMyRanker(),l=u?V(u.getOrderLength()):10,f=p.getNumberFormat();return{template:dR(l),render:function(d,_,w){return vR(d,_,w||null,f,(function(x){return wr(p,null,s,(x.x1+x.x0)/2)}))},guessedBins:l}}function Sp(p,s){s===void 0&&(s=p.getFilter());var u=p.getMapping().domain,l=isFinite(s.min)?s.min:u[0],f=isFinite(s.max)?s.max:u[1];return{filterMissing:s.filterMissing,filterMin:l,filterMax:f}}function _R(p,s){var u=p.getMapping().domain,l=p.getNumberFormat();return{percent:function(f){return(function(d){return Math.max(0,Math.min(100,d))})(Math.round(100*(f-u[0])/(u[1]-u[0])))},unpercent:function(f){return f/100*(u[1]-u[0])+u[0]},domain:u,format:l,formatRaw:String,parseRaw:Number.parseFloat,setFilter:function(f,d,_){return p.setFilter({filterMissing:f,min:d===u[0]?Number.NEGATIVE_INFINITY:d,max:_===u[1]?Number.POSITIVE_INFINITY:_})},edit:function(f,d,_,w){return new Promise((function(x){var T={attachment:d,manager:s.dialogManager,level:s.dialogManager.maxLevel+1,idPrefix:s.idPrefix,sanitize:s.sanitize};new p$(T,x,{value:f,min:_!=="max"||Number.isNaN(w)?u[0]:Math.min(u[0],w),max:_!=="min"||Number.isNaN(w)?u[1]:Math.max(u[1],w)}).open()}))}}}const bR=(function(){function p(){this.title="Image"}return p.prototype.canRender=function(s,u){return s instanceof Uo&&u===Ne.CELL},p.prototype.create=function(s){return{template:"<div></div>",update:function(u,l){var f=lr(u,s,l);if(u.style.backgroundImage=null,f)u.title="";else{var d,_=s.getLink(l);if(u.title=_?_.alt:"",_)return tN((d=_.href,new Promise((function(w){var x=new Image;x.onload=function(){return w(x)},x.src=d})))).then((function(w){typeof w!="symbol"&&(u.style.backgroundImage=f||!_?null:"url('".concat(w.src,"')"))}))}}}},p.prototype.createGroup=function(){return fr},p.prototype.createSummary=function(){return fr},p})();var SR=(function(){function p(){}return p.prototype.createGroup=function(s,u,l){var f=this,d=this.create(s,u,l);return{template:d.template,update:function(_,w){return u.tasks.groupRows(s,w,"aggregated",(function(x){return f.aggregatedIndex(x,s)})).then((function(x){typeof x!="symbol"&&d.update(_,x.row,x.index,w)}))}}},p.prototype.createSummary=function(){return fr},p})(),v$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function $g(p,s,u,l,f){var d=Ui,_=0,w=p.children.map((function(x){var T=_,D=x.getWidth();_+=D,_+=u?0:d;var N=l===Ne.CELL?s.renderer(x,f):null,I=l===Ne.GROUP?s.groupRenderer(x,f):null,G=l===Ne.GROUP?s.summaryRenderer(x,!1,f):null,B="",U="";switch(l){case Ne.CELL:B=N.template,U=x.getRenderer();break;case Ne.GROUP:B=I.template,U=x.getGroupRenderer();break;case Ne.SUMMARY:B=G.template,U=x.getSummaryRenderer()}return B=B.replace(/^<([^ >]+)([ >])/,'<$1 data-column-id="'.concat(x.id,'" data-renderer="').concat(U,'"$2')),{column:x,shift:T,width:D,template:B=/^<([^>]+) class="([ >]*)/.test(B)?B.replace(/^<([^>]+) class="([ >]*)/,'<$1 class="'.concat(z("renderer-".concat(U))," $2")):B.replace(/^<([^ >]+)([ >])/,'<$1 class="'.concat(z("renderer-".concat(U)),'"$2')),rendererId:U,renderer:N,groupRenderer:I,summaryRenderer:G}}));return{cols:w,stacked:u,padding:d}}var g$=(function(p){function s(u){u===void 0&&(u=!0);var l=p.call(this)||this;return l.stacked=u,l.title=l.stacked?"Stacked Bar":"Nested",l}return v$(s,p),s.prototype.canRender=function(u){return Gt(u)},s.prototype.create=function(u,l,f){var d=this,_=$g(u,l,this.stacked,Ne.CELL,f),w=_.cols,x=_.stacked,T=l.colWidth(u);return{template:"<div class='".concat(Og(l.idPrefix,u)," ").concat(x?"":z("grid-space"),"'>").concat(w.map((function(D){return D.template})).join(""),"</div>"),update:function(D,N,I,G){if(lr(D,u,N))return null;Ng(D,w,l);var B=[],U=Array.from(D.children),$=u.getWidth(),K=0;return w.forEach((function(nt,at){var ct=nt.column.getWidth()/$,wt=U[at];wt.classList.add(z(d.stacked?"stack-sub":"nested-sub"),z("detail")),wt.dataset.group="d",wt.style.transform=x?"translate(-".concat(Vt(K/ct*100,4),"%,0)"):null,wt.style.gridColumnStart=(at+1).toString();var Tt=nt.renderer.update(wt,N,I,G);if(x&&(K+=(1-nt.column.getNumber(N))*ct,at<w.length-1)){var Ot=wt.querySelector("span");Ot&&(Ot.style.overflow="hidden")}Tt&&B.push(Tt)})),B.length>0?cp(B):null},render:function(D,N,I,G){if(Ai(D,u,N,T))return null;for(var B=[],U=0,$=0,K=w;$<K.length;$++){var nt=K[$],at=nt.renderer;if(at.render){var ct=nt.shift-U;D.translate(ct,0);var wt=at.render(D,N,I,G);typeof wt!="boolean"&&wt&&B.push({shift:ct,r:wt}),D.translate(-ct,0)}x&&(U+=nt.width*(1-nt.column.getNumber(N)))}return B.length===0?null:cp(B.map((function(Tt){return Tt.r}))).then((function(Tt){return function(Ot){if(typeof Tt!="symbol")for(var Wt=0;Wt<Tt.length;++Wt){var ut=Tt[Wt];if(typeof ut=="function"){var kt=B[Wt].shift;Ot.translate(kt,0),ut(Ot),Ot.translate(-kt,0)}}}}))}}},s.prototype.createGroup=function(u,l,f){var d=this;if(this.stacked&&Je(u))return p.prototype.createGroup.call(this,u,l,f);var _=$g(u,l,!1,Ne.GROUP,f).cols;return{template:"<div class='".concat(Og(l.idPrefix,u)," ").concat(z("grid-space"),"'>").concat(_.map((function(w){return w.template})).join(""),"</div>"),update:function(w,x){Ng(w,_,l);var T=[],D=Array.from(w.children);return _.forEach((function(N,I){var G=D[I];G.classList.add(z(d.stacked?"stack-sub":"nested-sub"),z("group")),G.dataset.group="g",G.style.gridColumnStart=(I+1).toString();var B=N.groupRenderer.update(G,x);B&&T.push(B)})),T.length>0?cp(T):null}}},s.prototype.aggregatedIndex=function(u,l){return console.assert(Je(l)),(function(f,d){var _=f.map((function(T,D){return{r:T,i:D,v:d.getNumber(T)}})),w=Array.from(_.filter((function(T){return!Number.isNaN(T.v)}))).sort((function(T,D){return(function(N,I,G,B){return G===void 0&&(G=!1),B===void 0&&(B=!1),G=G||N==null||Number.isNaN(N),B=B||I==null||Number.isNaN(I),G?B?0:mb:B?-1*mb:N-I})(T.v,D.v)})),x=w[Math.floor(w.length/2)];return x===void 0?{index:0,row:w[0].r}:{index:x.i,row:x.r}})(u,l)},s})(SR);const W1=g$;var y$=(function(){function p(){this.title="Interleaved"}return p.prototype.canRender=function(s){return s instanceof up},p.prototype.create=function(s,u){var l=$g(s,u,!1,Ne.CELL).cols,f=u.colWidth(s);return{template:"<div>".concat(l.map((function(d){return d.template})).join(""),"</div>"),update:function(d,_,w,x){lr(d,s,_)||(Ng(d,l,u),Is(d,(function(T,D){l[D].renderer.update(T,_,w,x)})))},render:function(d,_,w,x){Ai(d,s,_,f)||(d.save(),d.scale(1,1/l.length),l.forEach((function(T,D){var N=T.renderer;N.render&&N.render(d,_,D,x),d.translate(0,sn)})),d.restore())}}},p.prototype.createGroup=function(s,u){var l=$g(s,u,!1,Ne.GROUP).cols;return{template:"<div>".concat(l.map((function(f){return f.template})).join(""),"</div>"),update:function(f,d){Ng(f,l,u),Is(f,(function(_,w){l[w].groupRenderer.update(_,d)}))}}},p.prototype.createSummary=function(s,u,l){var f=s.children,d=0,_=bp(s,{color:function(){return x1(f[d++%f.length])}}),w=_.template,x=_.render;return{template:w,update:function(T){var D=f.map((function(N){return u.tasks.summaryNumberStats(N)}));return tf(D).then((function(N){if(typeof N!="symbol"){var I=N.map((function(B){return B.summary}));if(I.some(Boolean)){T.classList.remove(z("missing"));var G=(function(B){var U=B.find(Boolean);if(!U)return null;for(var $=U.hist.length,K=[],nt=0,at=0;at<$;++at)for(var ct=0,wt=B;ct<wt.length;ct++){var Tt=wt[ct],Ot=Tt?Tt.hist[at]:null;Ot?(Ot.count>nt&&(nt=Ot.count),K.push(Ot)):K.push(m$)}return{maxBin:nt,hist:K}})(I);x(T,G)}else T.classList.add(z("missing"))}}))}}},p})();const wR=y$;var m$={count:0,x0:0,x1:0};const xR=(function(){function p(){this.title="Link"}return p.prototype.canRender=function(s,u){return s instanceof Uo&&u!==Ne.SUMMARY},p.prototype.create=function(s,u){var l=u.sanitize(s.alignment||"left");return{template:"<a".concat(l!=="left"?' class="'.concat(z(l),'"'):"",' target="_blank" rel="noopener" href=""></a>'),update:function(f,d){lr(f,s,d);var _=s.getLink(d);f.href=_?_.href:"",s.escape?Mn(f,_?_.alt:""):f.innerHTML=_?_.alt:""}}},p.exampleText=function(s,u){var l=[];return u.every((function(f){var d=s.getLink(f);return!d||(l.push(d),l.length<5)})),l.length===0?[[],!1]:[l,l.length<u.length]},p.prototype.createGroup=function(s,u){return{template:"<div> </div>",update:function(l,f){return u.tasks.groupExampleRows(s,f,"link",(function(d){return p.exampleText(s,d)})).then((function(d){if(typeof d!="symbol"){var _=d[0],w=d[1];ER(l,_,w)}}))}}},p.prototype.createSummary=function(){return fr},p})();function ER(p,s,u){p.classList.toggle(z("missing"),s.length===0),me(p),s.forEach((function(l,f){f>0&&p.appendChild(p.ownerDocument.createTextNode(", "));var d=p.ownerDocument.createElement("a");d.href=l.href,d.textContent=l.alt,d.target="_blank",d.rel="noopener",p.appendChild(d)})),u&&p.insertAdjacentText("beforeend",", ")}var _$=(function(){function p(){this.title="Bar Table"}return p.prototype.canRender=function(s,u){return dp(s)&&Je(s)&&(u===Ne.CELL||u===Ne.SUMMARY&&Xe(s))},p.prototype.create=function(s,u,l){var f=s.getNumberFormat();return{template:'<div class="'.concat(z("rtable"),'"></div>'),update:function(d,_){lr(d,s,_)||qg(d,s.getMap(_),(function(w,x){var T=x.value;if(Number.isNaN(T))w.classList.add(z("missing"));else{var D=Vt(100*T,2);w.title=f(T);var N=w.ownerDocument.createElement("div");N.style.width="".concat(D,"%"),N.style.backgroundColor=Qr(wr(s,_,l),ru),w.appendChild(N);var I=w.ownerDocument.createElement("span");I.classList.add(z("hover-only")),I.textContent=f(T),N.appendChild(I)}}))}}},p.prototype.createGroup=function(){return fr},p.prototype.createSummary=function(s){return{template:'<div class="'.concat(z("rtable"),'"><div>Key</div><div><span></span><span></span>Value</div></div>'),update:function(u){var l=s.getRange(),f=u.lastElementChild;f.firstElementChild.textContent=l[0],f.children[1].textContent=l[1]}}},p})();const TR=_$;function qg(p,s,u){me(p);for(var l=p.ownerDocument,f=0,d=s;f<d.length;f++){var _=d[f],w=l.createElement("div");w.textContent=_.key,p.appendChild(w);var x=l.createElement("div");u(x,_),p.appendChild(x)}}var b$=(function(){function p(){this.title="Table"}return p.prototype.canRender=function(s){return dp(s)},p.prototype.create=function(s){return vp(s)&&s.dataLength?this.createFixed(s):{template:'<div class="'.concat(z("rtable"),'"></div>'),update:function(u,l){lr(u,s,l)||qg(u,s.getMapLabel(l),(function(f,d){var _=d.value;f.textContent=_}))}}},p.template=function(s){var u=s.labels;return"<div>".concat(u.map((function(l){return'<div class="'.concat(z("table-cell"),'">').concat(l,'</div><div  class="').concat(z("table-cell"),'" data-v></div>')})).join(`
`),"</div>")},p.prototype.createFixed=function(s){return{template:p.template(s),update:function(u,l){if(!lr(u,s,l)){var f=s.getLabels(l);Yi(u,"[data-v]",(function(d,_){d.textContent=f[_]}))}}}},p.prototype.createGroup=function(s,u){return vp(s)&&s.dataLength?this.createFixedGroup(s,u):{template:'<div class="'.concat(z("rtable"),'"></div>'),update:function(l,f){return u.tasks.groupRows(s,f,"table",(function(d){return AR(d.map((function(_){return s.getMapLabel(_)})))})).then((function(d){typeof d!="symbol"&&qg(l,d,(function(_,w){var x=w.values,T="".concat(x.slice(0,5).map((function(D){return D.value})).join(", "));5<x.length?_.textContent="".concat(T,", "):_.textContent=T}))}))}}},p.prototype.createFixedGroup=function(s,u){return{template:p.template(s),update:function(l,f){return u.tasks.groupExampleRows(s,f,"table",(function(d){var _=s.labels.map((function(){return[]}));return d.forEach((function(w){for(var x=s.getLabels(w),T=0;T<Math.min(_.length,x.length);++T)Gr(x[T])||_[T].push(x[T])})),_})).then((function(d){typeof d!="symbol"&&Yi(l,"[data-v]",(function(_,w){_.textContent="".concat(d[w].join(", "),", ")}))}))}}},p.prototype.createSummary=function(){return{template:'<div class="'.concat(z("rtable"),'"><div>Key</div><div>Value</div></div>'),update:Rs}},p})();const CR=b$;function AR(p){var s=new Map;return p.forEach((function(u){return u.forEach((function(l){s.has(l.key)?s.get(l.key).push(l):s.set(l.key,[l])}))})),Array.from(s).sort((function(u,l){return u[0].localeCompare(l[0])})).map((function(u){return{key:u[0],values:u[1]}}))}var S$=(function(){function p(){this.title="Table with Links"}return p.prototype.canRender=function(s,u){return s instanceof o1&&u!==Ne.SUMMARY},p.prototype.create=function(s,u){var l=u.sanitize(s.alignment||"left");return{template:'<div class="'.concat(z("rtable"),'"></div>'),update:function(f,d){if(!lr(f,s,d)){me(f);for(var _=f.ownerDocument,w=0,x=s.getLinkMap(d);w<x.length;w++){var T=x[w],D=T.key,N=T.value,I=_.createElement("div");I.classList.add(z("table-cell")),I.textContent=D,f.appendChild(I);var G=_.createElement("div");G.classList.add(z("table-cell")),l!=="left"&&G.classList.add(z(l));var B=_.createElement("a");B.href=N.href,B.textContent=N.alt,B.target="_blank",B.rel="noopener",G.appendChild(B),f.appendChild(G)}}},render:Rs}},p.example=function(s){for(var u=[],l=0,f=s;l<f.length;l++){var d=f[l];if(d&&d.value.href&&(u.push(d.value),u.length>=5))break}return u.length===0?[[],!1]:[u,u.length<s.length]},p.prototype.createGroup=function(s,u){var l=s.alignment||"left";return{template:'<div class="'.concat(z("rtable"),'"></div>'),update:function(f,d){return u.tasks.groupRows(s,d,"linkmap",(function(_){return AR(_.map((function(w){return s.getLinkMap(w)})))})).then((function(_){typeof _!="symbol"&&qg(f,_,(function(w,x){var T=x.values;l!=="left"&&w.classList.add(z(l));var D=p.example(T),N=D[0],I=D[1];N.length===0?w.classList.add(z("missing")):ER(w,N,I)}))}))}}},p.prototype.createSummary=function(){return fr},p})();const MR=S$,DR=(function(){function p(){this.title="Loading"}return p.prototype.canRender=function(){return!1},p.prototype.create=function(){return{template:"<div>Loading </div>",update:Rs}},p.prototype.createGroup=function(){return this.create()},p.prototype.createSummary=function(){return this.create()},p})(),LR=(function(){function p(){this.title="Default"}return p.prototype.canRender=function(s){return s instanceof tg},p.prototype.create=function(s){return{template:'<div class="'.concat(z("right"),'"> </div>'),update:function(u,l){lr(u,s,l),Mn(u,s.getLabel(l))}}},p.prototype.createGroup=function(s){var u=s.findMyRanker();return{template:"<div><div></div><div></div></div>",update:function(l,f){var d=l.firstElementChild,_=l.lastElementChild;if(f.order.length===0)return d.textContent="",void(_.textContent="");d.textContent=u.getRank(f.order[0]).toString(),_.textContent=u.getRank(f.order[f.order.length-1]).toString()}}},p.prototype.createSummary=function(){return fr},p})();var w$=(function(){function p(){this.title="Default"}return p.prototype.canRender=function(s){return s instanceof wb},p.prototype.create=function(s,u){return{template:"<div></div>",update:function(l,f,d){l.onclick=function(_){if(_.preventDefault(),_.stopPropagation(),_.shiftKey){var w=s.findMyRanker().id;if(sN(u.provider,w,f.i,d,_.ctrlKey))return}s.toggleValue(f)}}}},p.prototype.createGroup=function(s,u){return{template:"<div></div>",update:function(l,f){var d=0,_=0,w=f.order.length;Zv(f.order,(function(x){return u.provider.isSelected(x)?d++:_++,!(2*d>w||2*_>w)})),l.classList.toggle(z("group-selected"),2*d>w),l.onclick=function(x){x.preventDefault(),x.stopPropagation();var T=l.classList.toggle(z("group-selected"));s.setValues(f.order,T)}}}},p.prototype.createSummary=function(s,u){var l=z("icon-unchecked"),f=z("icon-checked");return{template:'<div title="(Un)Select All" class="'.concat(l,'"></div>'),update:function(d){d.onclick=function(_){_.stopPropagation(),u.provider.getSelection().length===0?(u.provider.selectAllOf(s.findMyRanker()),d.classList.remove(l),d.classList.add(f)):(u.provider.setSelection([]),d.classList.remove(f),d.classList.add(l))}}}},p})();const NR=w$;var x$=(function(){function p(){this.title="Matrix"}return p.prototype.canRender=function(s){return Lg(s)},p.createDOMContext=function(s,u){for(var l=s.categories,f=s.getColorMapping(),d="",_=0,w=l;_<w.length;_++){var x=w[_];d+='<div class="'.concat(z("heatmap-cell"),'" title="').concat(u(x.label),'" style="background-color: ').concat(f.apply(x),'"></div>')}return{templateRow:d,render:function(T,D){Is(T,(function(N,I){var G=D[I];N.style.backgroundColor=f.apply(l[I]),N.style.opacity=typeof G=="boolean"?G?"1":"0":Vt(G,2).toString()}))}}},p.prototype.create=function(s,u){var l=p.createDOMContext(s,u.sanitize),f=l.templateRow,d=l.render,_=u.colWidth(s),w=_/s.dataLength,x=s.categories,T=s.getColorMapping();return{template:'<div class="'.concat(z("heatmap"),'">').concat(f,"</div>"),update:function(D,N){lr(D,s,N)||d(D,s.getValues(N))},render:function(D,N){if(!Ai(D,s,N,_)){var I=s.getValues(N);D.save(),x.forEach((function(G,B){if(I[B]){var U=B*w;D.fillStyle=T.apply(G),D.fillRect(U,0,w,sn)}})),D.restore()}}}},p.prototype.createGroup=function(s,u){var l=p.createDOMContext(s,u.sanitize),f=l.templateRow,d=l.render;return{template:'<div class="'.concat(z("heatmap"),'">').concat(f,"</div>"),update:function(_,w){return u.tasks.groupCategoricalStats(s,w).then((function(x){if(typeof x!="symbol"){var T=!x||!x.group||x.group.count===0||x.group.count===x.group.missing;_.classList.toggle(z("missing"),T),T||d(_,x.group.hist.map((function(D){return D.count/x.group.maxBin})))}}))}}},p.prototype.createSummary=function(s,u){for(var l=s.categories,f=s.getColorMapping(),d='<div class="'.concat(z("heatmap"),'">'),_=TN(s),w=0,x=l;w<x.length;w++){var T=x[w];d+='<div class="'.concat(z("heatmap-cell"),'" title="').concat(u.sanitize(T.label),'"').concat(_?' data-title="'.concat(u.sanitize(T.label),'"'):"",' style="background-color: ').concat(f.apply(T),'"></div>')}return{template:d+="</div>",update:Rs}},p})();const RR=x$;function IR(p){if(p.length===0)return"";var s="",u=!0;return p.forEach((function(l,f){Number.isNaN(l)?u=!0:u?(s+="M".concat(f,",").concat(1-l," "),u=!1):s+="L".concat(f,",").concat(1-l," ")})),s}var E$=(function(){function p(){this.title="Sparkline"}return p.prototype.canRender=function(s,u){return En(s)&&u!==Ne.SUMMARY},p.prototype.create=function(s){var u=s.dataLength,l=1-s.getMapping().apply(An.CENTER);return{template:'<svg viewBox="0 0 '.concat(u-1,' 1" preserveAspectRatio="none meet"><line x1="0" x2="').concat(u-1,'" y1="').concat(l,'" y2="').concat(l,'"></line><path></path></svg>'),update:function(f,d){if(!lr(f,s,d)){var _=s.getNumbers(d);f.lastElementChild.setAttribute("d",IR(_))}}}},p.prototype.createGroup=function(s,u){var l=s.dataLength,f=1-s.getMapping().apply(An.CENTER);return{template:'<svg viewBox="0 0 '.concat(l-1,' 1" preserveAspectRatio="none meet"><line x1="0" x2="').concat(l-1,'" y1="').concat(f,'" y2="').concat(f,'"></line><path></path></svg>'),update:function(d,_){return(function(w,x){var T=Array.from(w.children);T.length>x?T.slice(x).forEach((function(D){return D.remove()})):x>T.length&&w.insertAdjacentHTML("beforeend","<path></path>".repeat(x-T.length))})(d,_.order.length),u.tasks.groupRows(s,_,"numbers",(function(w){return Array.from(w.map((function(x){return s.getNumbers(x)})))})).then((function(w){if(typeof w!="symbol"){var x=w.length===0||w.every((function(T){return T.every(Gr)}));d.classList.toggle(z("missing"),x),x||Is(d,(function(T,D){T.setAttribute("d",IR(w[D]))}))}}))}}},p.prototype.createSummary=function(){return fr},p})();const OR=E$;var T$=(function(){function p(){this.title="UpSet"}return p.prototype.canRender=function(s){return Lg(s)&&!Jl(s)},p.calculateSetPath=function(s,u){var l=[];return s.forEach((function(f,d){return f?l.push(d):-1})),{left:l[0]*u+u/2,right:l[l.length-1]*u+u/2}},p.createDOMContext=function(s,u){for(var l="",f=0,d=s.categories;f<d.length;f++){var _=d[f];l+='<div class="'.concat(z("upset-dot"),'" title="').concat(u(_.label),'"></div>')}return{template:'<div><div class="'.concat(z("upset-line"),'"></div>').concat(l,"</div>"),render:function(w,x){Array.from(w.children).slice(1).forEach((function(I,G){var B=x[G];I.classList.toggle(z("enabled"),B)}));var T=w.firstElementChild,D=x.findIndex((function(I){return I})),N=x.length-1-x.reverse().findIndex((function(I){return I}));D<0||D===N?T.style.display="none":(T.style.display=null,T.style.left="".concat(Math.round(100*(D+.5)/x.length),"%"),T.style.width="".concat(Math.round(100*(N-D)/x.length),"%"))}}},p.prototype.create=function(s,u){var l=p.createDOMContext(s,u.sanitize),f=l.template,d=l.render,_=u.colWidth(s),w=_/s.categories.length;return{template:f,update:function(x,T){lr(x,s,T)||d(x,s.getValues(T))},render:function(x,T){if(!Ai(x,s,T,_)){var D=s.getValues(T),N=D.some((function(U){return U}));if(x.save(),x.fillStyle=gb.color,x.strokeStyle=gb.color,N){var I=p.calculateSetPath(D,w),G=I.left,B=I.right;x.beginPath(),x.moveTo(G,sn/2),x.lineTo(B,sn/2),x.stroke()}D.forEach((function(U,$){var K=$*w;x.beginPath(),x.globalAlpha=U?1:gb.inactive,x.fillRect(K,0,w,sn),x.fill()})),x.restore()}}}},p.prototype.createGroup=function(s,u){var l=p.createDOMContext(s,u.sanitize),f=l.template,d=l.render;return{template:f,update:function(_,w){return u.tasks.groupCategoricalStats(s,w).then((function(x){typeof x!="symbol"&&d(_,x.group.hist.map((function(T){return T.count>0})))}))}}},p.prototype.createSummary=function(s,u){var l=p.createDOMContext(s,u.sanitize),f=l.template,d=l.render;return{template:f,update:function(_){return u.tasks.summaryCategoricalStats(s).then((function(w){typeof w!="symbol"&&d(_,w.summary.hist.map((function(x){return x.count>0})))}))}}},p})();const PR=T$;var C$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),A$=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.title="Bar Chart",u}return C$(s,p),s.prototype.canRender=function(u,l){return En(u)&&!!u.dataLength&&l===Ne.CELL},s.compute=function(u,l,f){return u<l?{height:l-u,bottom:u-f[0]}:{height:u-l,bottom:l-f[0]}},s.prototype.createContext=function(u,l,f){for(var d=l.colWidth(u)/u.dataLength,_=u.getMapping().apply(An.CENTER),w="",x=0;x<u.dataLength;++x)w+='<div class="'.concat(z("heatmap-cell"),'" style="background-color: white" title=""></div>');var T=u.getNumberFormat();return{clazz:z("heatmap"),templateRow:w,update:function(D,N,I,G,B){var U=Os(0,G,u,f),$=Os(1,G,u,f);Is(D,(function(K,nt){var at=N[nt],ct=s.compute(at,_,[0,1]),wt=ct.bottom,Tt=ct.height;K.title="".concat(B||"").concat(T(I[nt])),K.style.backgroundColor=at<_?U:$,K.style.bottom="".concat(Math.round(100*wt/1),"%"),K.style.height="".concat(Math.round(100*Tt/1),"%")}))},render:function(D,N,I){var G=Os(0,I,u,f),B=Os(1,I,u,f),U=sn/1;N.forEach((function($,K){D.fillStyle=$<_?G:B;var nt=K*d,at=s.compute($,_,[0,1]),ct=at.bottom,wt=at.height;D.fillRect(nt,(1-wt-ct)*U,d,wt*U)}))}}},s.prototype.createSummary=function(){return fr},s})(O1);const kR=A$,VR=(function(){function p(){this.title="Date",this.groupTitle="Date",this.summaryTitle="Date"}return p.prototype.canRender=function(s){return s instanceof Hr},p.prototype.create=function(s){return{template:"<div> </div>",update:function(u,l){lr(u,s,l),Mn(u,s.getLabel(l))},render:Rs}},p.prototype.createGroup=function(s,u){return{template:"<div> </div>",update:function(l,f){return s.isGroupedBy()>=0?u.tasks.groupRows(s,f,"date",(function(d){return RL(d,s.getDateGrouper(),s)})).then((function(d){typeof d!="symbol"&&(l.classList.toggle(z("missing"),!d),Mn(l,d?d.name:""))})):u.tasks.groupExampleRows(s,f,"date",(function(d){return MN(s,d)})).then((function(d){typeof d!="symbol"&&(l.classList.toggle(z("missing"),!d),Mn(l,d))}))}}},p.prototype.createSummary=function(){return fr},p})();var M$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const D$=(function(p){function s(u,l,f){f===void 0&&(f={});var d=p.call(this,u)||this;return d.callback=l,d.ioptions={value:null,label:null},Object.assign(d.ioptions,f),d}return M$(s,p),s.prototype.build=function(u){var l=this,f=this.ioptions,d=Br("%Y-%m-%d");u.insertAdjacentHTML("beforeend",`
     <input type="date" value="`.concat(f.value?d(f.value):"",'" required autofocus placeholder="').concat(this.dialog.sanitize(f.label?f.label:"enter date"),`">
    `)),this.findInput("input[type=date]").addEventListener("keypress",(function(_){_.key==="Enter"&&l.triggerSubmit()})),this.enableLivePreviews("input")},s.prototype.submit=function(){return this.callback(this.findInput("input[type=date]").valueAsDate),!0},s})(uf);var L$=(function(){function p(){this.title="Histogram"}return p.prototype.canRender=function(s,u){return Ql(s)&&u!==Ne.CELL||xN(s)&&u===Ne.CELL},p.prototype.create=function(s,u){var l=Xg(s),f=l.template,d=l.render;return{template:"".concat(f,"</div>"),update:function(_,w){if(!lr(_,s,w)){for(var x=xt(),T=0,D=s.getDates(w);T<D.length;T++){var N=D[T];x.push(N)}var I=x.build();d(_,I)}}}},p.prototype.createGroup=function(s,u){var l=Xg(s),f=l.template,d=l.render;return{template:"".concat(f,"</div>"),update:function(_,w){return u.tasks.groupDateStats(s,w).then((function(x){if(typeof x!="symbol"){var T=!x||x.group==null||x.group.count===0||x.group.count===x.group.missing;_.classList.toggle(z("missing"),T),T||d(_,x.group)}}))}}},p.prototype.createSummary=function(s,u,l){var f=Xg(s);return l?(function(d,_,w,x){var T,D,N=d.getFilter(),I=[isFinite(N.min)?N.min:0,isFinite(N.max)?N.max:100];return w+=jg(Zg(d,_,I),cf(d,I)),{template:"".concat(w,"</div>"),update:function(G){return _.tasks.summaryDateStats(d).then((function(B){if(typeof B!="symbol"){var U=B.summary,$=B.data;if(!D){var K=[$.min?$.min.getTime():Date.now(),$.max?$.max.getTime():Date.now()];T=Zg(d,_,K),D=Yg(G,T)}D($?$.missing:U?U.missing:0,cf(d,T.domain)),G.classList.add(z("histogram-i")),G.classList.toggle(z("missing"),!U),U&&x(G,U,$)}}))}}})(s,u,f.template,f.render):(function(d,_,w,x,T){return x+=gR(["",""]),{template:"".concat(x,"</div>"),update:function(D){return _.tasks.summaryDateStats(d).then((function(N){if(typeof N!="symbol"){var I=N.summary;if(N.data,D.classList.toggle(z("missing"),!I),I){var G=d.getFormatter();yR(D,[G(I.min),G(I.max)]),T(D,I,void 0)}}}))}}})(s,u,0,f.template,f.render)},p})();const GR=L$;function Xg(p){var s=p.getFormatter(),u=x1(p);return{template:dR(10),render:function(l,f,d){return vR(l,f,d||null,s,(function(){return u}))},guessedBins:10}}function cf(p,s,u){u===void 0&&(u=p.getFilter());var l=isFinite(u.min)?u.min:s[0],f=isFinite(u.max)?u.max:s[1];return{filterMissing:u.filterMissing,filterMin:l,filterMax:f}}function Zg(p,s,u){return{percent:function(l){return(function(f){return Math.max(0,Math.min(100,f))})(Math.round(100*(l-u[0])/(u[1]-u[0])))},unpercent:function(l){return l/100*(u[1]-u[0])+u[0]},domain:u,format:function(l){return Number.isNaN(l)?"":p.getFormatter()(new Date(l))},formatRaw:String,parseRaw:function(l){return Number.parseInt(l,10)},setFilter:function(l,f,d){return p.setFilter({filterMissing:l,min:Math.abs(f-u[0])<.001?Number.NEGATIVE_INFINITY:jb(f,"min"),max:Math.abs(d-u[1])<.001?Number.POSITIVE_INFINITY:jb(d,"max")})},edit:function(l,f,d,_){return new Promise((function(w){var x,T={attachment:f,manager:s.dialogManager,level:s.dialogManager.maxLevel+1,idPrefix:s.idPrefix,sanitize:s.sanitize};new D$(T,(function(D){return w(D==null?NaN:jb(D.getTime(),d))}),((x={value:Number.isNaN(l)?null:new Date(l)})[d==="min"?"max":"min"]=Number.isNaN(_)?null:new Date(_),x)).open()}))}}}var N$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),FR=(function(){var p=Ei(Ie);return p.opacity=$h,p.toString()})(),R$=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.title="TopN Histogram",u}return N$(s,p),s.prototype.createGroup=function(u,l){var f=HR(!1),d=f.template,_=f.update;return{template:d,update:function(w,x){return l.tasks.groupStringStats(u,x).then((function(T){typeof T!="symbol"&&T&&_(w,T.group,T.summary)}))}}},s.prototype.createSummary=function(u,l,f){if(f)return p.prototype.createSummary.call(this,u,l,f);var d=HR(f),_=d.template,w=d.update;return{template:_,update:function(x){return l.tasks.summaryStringStats(u).then((function(T){typeof T!="symbol"&&T&&w(x,T.summary)}))}}},s})(Pg);const BR=R$;function HR(p){var s=Array(5).fill(0).map((function(){return'<div class="'.concat(z("histogram-bin"),'" title=": 0" data-cat="" ').concat(p?'data-title=""':"",'><div style="height: 0; background: ').concat(Ie,'"></div></div>')})).join("");return{template:'<div class="'.concat(z("histogram"),'">').concat(s,"</div>"),update:function(u,l,f){for(var d=(f??l).topN.reduce((function(I,G){return Math.max(I,G.count)}),0),_=function(I,G){var B,U=l.topN[G],$=I.firstElementChild;if(I.dataset.cat=U.value,p&&(I.dataset.title=U.value),f){var K=((B=f.topN[G])!==null&&B!==void 0?B:{count:0}).count;I.title="".concat(U.value,": ").concat(U.count," of ").concat(K),$.style.height="".concat(Vt(100*K/d,2),"%");var nt=100-Vt(100*U.count/K,2);$.style.background=nt===0?Ie:nt===100?FR:"linear-gradient(".concat(FR," ").concat(nt,"%, ").concat(Ie," ").concat(nt,"%, ").concat(Ie," 100%)")}else I.title="".concat(U.value,": ").concat(U.count),I.firstElementChild.style.height="".concat(Math.round(100*U.count/d),"%")},w=l.topN.length,x=Array.from(u.querySelectorAll(".".concat(z("histogram-bin")))),T=0;T<Math.min(x.length,w);T++)_(x[T],T);for(T=x.length;T<w;T++){var D=u.ownerDocument.createElement("div");D.classList.add(z("histogram-bin")),u.appendChild(D);var N=u.ownerDocument.createElement("div");N.style.height="0",N.style.background=Ie,D.appendChild(N),_(D,T)}for(T=w;T<x.length;T++)x[T].remove()}}}var I$=(function(){function p(){this.title="Violin Plot"}return p.prototype.canRender=function(s,u){return Je(s)&&u!==Ne.CELL},p.prototype.create=function(){return fr},p.prototype.createGroup=function(s,u,l){return s instanceof ue&&s.isGroupSortedByMe().asc!==void 0&&s.getSortMethod(),{template:UR(s.getWidth(),!1),update:function(f,d){return tf([u.tasks.groupBoxPlotStats(s,d,!1),u.tasks.groupBoxPlotStats(s,d,!0)]).then((function(_){if(typeof _!="symbol"){var w=_==null||_[0]==null||_[0].group.count===0||_[0].group.count===_[0].group.missing;if(f.classList.toggle(z("missing"),w),!w){var x=Qr(wr(s,null,l),Ci),T=Qr(wr(s,null,l),ru);WR(s,f,_[0].group,_[1].group,0,x,T)}}}))}}},p.prototype.createSummary=function(s,u,l,f){return{template:UR(s.getWidth(),Xe(s)),update:function(d){return tf([u.tasks.summaryBoxPlotStats(s,!1),u.tasks.summaryBoxPlotStats(s,!0)]).then((function(_){if(typeof _!="symbol"){var w=_==null||_[0]==null||_[0].summary.count===0||_[0].summary.count===_[0].summary.missing;if(d.classList.toggle(z("missing"),w),!w){var x=_[0].summary,T=_[1].summary;if(s instanceof ue&&s.isGroupSortedByMe().asc!==void 0&&s.getSortMethod(),Xe(s)){var D=s.getRange();Array.from(d.getElementsByTagName("span")).forEach((function(G,B){return G.textContent=D[B]}))}var N=Qr(wr(s,null,f),Ci),I=Qr(wr(s,null,f),ru);WR(s,d,x,T,0,N,I)}}}))}}},p})();const zR=I$;function UR(p,s){var u=s?'<span class="'.concat(z("mapping-hint"),'"></span><span class="').concat(z("mapping-hint"),'"></span>'):"";return`<div title="">
      <svg class="`.concat(z("violin"),`"
           viewBox="0 0 `).concat(p," ").concat(40,`" preserveAspectRatio="none meet">
        <path class="`).concat(z("violin-path"),`" d="M0,0 L100,0"></path>
        <line x1="0" x2="0" y1="`).concat(20,'" y2="').concat(20,'" class="').concat(z("violin-iqr"),`"></line>
        <line x1="0" x2="0" y1="`).concat(10,'" y2="').concat(30,'" class="').concat(z("violin-mean"),`"></line>
        <line x1="0" x2="0" y1="`).concat(10,'" y2="').concat(30,'" class="').concat(z("violin-median"),`"></line>
      </svg>
      `).concat(u,`
    </div>`)}function WR(p,s,u,l,f,d,_){s.title=BN(p,l);var w=s.firstElementChild;w.style.color=d;var x=w.firstElementChild;x.style.fill=_;var T=tp([0,p.getWidth()]).domain([0,1]);x.setAttribute("d",(function(G,B){for(var U=tp([0,19]).domain(H(B.kdePoints,(function(Ot){return Ot.p}))),$=[],K=[],nt=0,at=B.kdePoints;nt<at.length;nt++){var ct=at[nt],wt=G(ct.v),Tt=U(ct.p);$.push("".concat($.length===0?"M":"L").concat(wt,",").concat(20-Tt)),K.push("L".concat(wt,",").concat(20+Tt))}return K.reverse(),$.join(" ")+K.join(" ")+" Z"})(T,u));var D=w.children[1],N=w.children[2],I=w.children[3];N.setAttribute("x1",T(u.median).toString()),N.setAttribute("x2",T(u.median).toString()),I.setAttribute("x1",T(u.mean).toString()),I.setAttribute("x2",T(u.mean).toString()),D.setAttribute("x1",T(u.q1).toString()),D.setAttribute("x2",T(u.q3).toString())}var O$=(function(){function p(s){s===void 0&&(s=!1),this.renderValue=s,this.title="Tick",this.groupTitle="Ticks"}return p.prototype.canRender=function(s,u){return Je(s)&&u===Ne.CELL},p.prototype.create=function(s,u,l){var f=s.getWidth();return{template:"<div><div></div><span ".concat(this.renderValue?"":'class="'.concat(z("text-shadow")," ").concat(z("hover-only"),'"'),"></span></div>"),update:function(d,_){lr(d,s,_);var w=Qr(wr(s,_,l),Ci),x=u.sanitize(s.getLabel(_)),T=s.getNumber(_);d.title=x;var D=d.firstElementChild;D.style.background=u.sanitize(w),D.style.left="".concat(Vt(100*T,2),"%"),d.lastElementChild.textContent=x},render:function(d,_){if(!Ai(d,s,_,f)){var w=Qr(wr(s,_,l),Ci),x=s.getNumber(_);d.save(),d.globalAlpha=Bc.opacity,d.fillStyle=w||Bc.color,d.fillRect(Math.max(0,x*f-Bc.size/2),0,Bc.size,sn),d.restore()}}}},p.prototype.createGroup=function(){return fr},p.prototype.createSummary=function(){return fr},p})();const jR=O$;var P$=(function(){function p(s){s===void 0&&(s=!1),this.renderValue=s,this.title="Tick"}return p.prototype.canRender=function(s,u){return Jl(s)&&u===Ne.CELL},p.prototype.create=function(s,u,l){var f=s.getWidth();return{template:"<div><div></div><span ".concat(this.renderValue?"":'class="'.concat(z("text-shadow")," ").concat(z("hover-only"),'"'),"></span></div>"),update:function(d,_){lr(d,s,_);var w=100/s.categories.length,x=wr(s,_,l);s.categories.length>ef&&(x=Qr(x,Ci));var T=u.sanitize(s.getLabel(_)),D=s.categories.indexOf(s.getCategory(_));d.title=T;var N=d.firstElementChild;N.style.background=u.sanitize(x),N.style.left="".concat(Vt(w*D,2),"%"),N.style.width="".concat(Vt(w,2),"%"),d.lastElementChild.textContent=T},render:function(d,_){if(!Ai(d,s,_,f)){var w=wr(s,_,l);s.categories.length>ef&&(w=Qr(w,Ci));var x=f/s.categories.length,T=s.categories.indexOf(s.getCategory(_));d.save(),d.globalAlpha=Bc.opacity,d.fillStyle=w||Bc.color,d.fillRect(Math.max(0,T*x),0,x,sn),d.restore()}}}},p.prototype.createGroup=function(){return fr},p.prototype.createSummary=function(){return fr},p})();const YR=P$;var Kg=new D1,k$={actions:new LN,aggregate:new ON,annotate:new VN,boolean:new FN,boxplot:new HN,brightness:new zN,catdistributionbar:new YN,categorical:new UN,circle:new $N,date:new VR,default:Kg,dot:new XN,group:new KN,heatmap:new JN,catheatmap:new jN,histogram:new mR,datehistogram:new GR,image:new bR,interleaving:new wR,link:new xR,linkMap:new MR,loading:new DR,nested:new W1(!1),number:new GN,mapbars:new TR,rank:new LR,selection:new NR,set:new RR,sparkline:new OR,stack:new W1,string:new Pg,stringhist:new BR,table:new CR,upset:new PR,verticalbar:new kR,violin:new zR,tick:new jR,cattick:new YR};const j1=Be("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Y1=Be("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),$1=Be("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),q1=Be("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),X1=Be("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Z1=Be("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var V$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),G$={schemeCategory10:Gc,schemeAccent:j1,schemeDark2:Y1,schemePastel1:$1,schemePastel2:q1,schemeSet1:X1,schemeSet2:Z1,schemeSet3:qv},F$=(function(p){function s(u,l){var f=p.call(this,l,{livePreview:"colorMapping"})||this;return f.column=u,f.before=u.getColorMapping().clone(),f}return V$(s,p),s.prototype.build=function(u){var l=this,f=Ig(this.dialog.idPrefix),d=this.column.getColorMapping();u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-table"),`">
      <div class="`).concat(z("dialog-color-table-entry"),`">
        <select id="`).concat(f,`Chooser">
          <option value="">Apply Color Scheme...</option>
          <option value="schemeCategory10">D3 Category 10 (`).concat(Gc.length,`)</option>
          <option value="schemeSet1">Set 1 (`).concat(X1.length,`)</option>
          <option value="schemeSet2">Set 2 (`).concat(Z1.length,`)</option>
          <option value="schemeSet3">Set 3 (`).concat(qv.length,`)</option>
          <option value="schemeAccent">Accent (`).concat(j1.length,`)</option>
          <option value="schemeDark2">Dark2 (`).concat(Y1.length,`)</option>
          <option value="schemePastel1">Pastel 1 (`).concat($1.length,`)</option>
          <option value="schemePastel2">Pastel 2 (`).concat(q1.length,`)</option>
        </select>
      </div>
      `).concat(this.column.categories.map((function(){return`
        <label class="`.concat(z("checkbox")," ").concat(z("dialog-color-table-entry"),`">
          <input data-cat="" type="color" value="">
          <span> </span>
        </label>`)})).join(""),`
    </div>`));var _=this.column.categories;Array.from(u.querySelectorAll("label.".concat(z("checkbox"),".").concat(z("dialog-color-table-entry")))).forEach((function(w,x){var T=_[x];w.firstElementChild.dataset.cat=T.name,w.firstElementChild.value=Ei(d.apply(T)).formatHex(),w.lastElementChild.textContent=T.label})),this.findInput("select").onchange=function(w){var x=G$[w.currentTarget.value];x&&(l.forEach("[data-cat]",(function(T,D){T.value=x[D%x.length]})),l.showLivePreviews()&&l.submit())},this.enableLivePreviews("input[type=color]")},s.prototype.reset=function(){var u=this.column.categories;this.forEach("[data-cat]",(function(l,f){l.value=Ei(u[f].color).formatHex()}))},s.prototype.submit=function(){var u=this.column.categories,l=new Map;return this.forEach("input[data-cat]",(function(f,d){var _=u[d];Ei(_.color).formatHex()!==f.value&&l.set(_,f.value)})),l.size===0?this.column.setColorMapping(di):this.column.setColorMapping(new yb(l)),!0},s.prototype.cancel=function(){this.column.setColorMapping(this.before)},s})(xr);const B$=F$;var H$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),z$=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"filter"})||this;return d.column=u,d.ctx=f,d.before=d.column.getFilter()||{filter:"",filterMissing:!1},d}return H$(s,p),s.prototype.build=function(u){var l=this;u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-table"),`">
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry"),`">
          <input type="checkbox" checked>
          <span>
            <span class="`).concat(z("dialog-filter-table-color"),`"></span>
            <div>Un/Select All</div>
          </span>
        </label>
        `).concat(this.column.categories.map((function(x){return'<label class="'.concat(z("checkbox")," ").concat(z("dialog-filter-table-entry"),`" data-cat="">
          <input data-cat="" type="checkbox"`).concat(Vl(l.before,x)?"checked":"",`>
          <span>
            <span class="`).concat(z("dialog-filter-table-color"),'" style="background-color: ').concat(l.ctx.sanitize(x.color),`"></span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`"> </div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),`"></div>
          </span>
        </label>`)})).join(""),`
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry"),`" data-missing="">
          <input type="checkbox" `).concat(this.before.filterMissing?"":'checked="checked"',` data-missing="">
          <span>
            <span class="`).concat(z("dialog-filter-table-color")," ").concat(z("missing"),`"></span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`">missing value rows</div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),`">0</div>
          </span>
        </label>
    </div>`));var f=this.column.categories;Array.from(u.querySelectorAll("label.".concat(z("checkbox"),"[data-cat]"))).forEach((function(x,T){var D=f[T];x.firstElementChild.dataset.cat=D.name,x.querySelector(".".concat(z("dialog-filter-table-entry-label"))).textContent=D.label}));var d=this.findInput("input:not([data-cat])");if(d.onchange=function(){Yi(u,"input[data-cat],input[data-missing]",(function(x){return x.checked=d.checked}))},this.column instanceof Gl){var _=this.before.mode!=="every";u.insertAdjacentHTML("beforeend","<strong>Show rows where</strong>"),u.insertAdjacentHTML("beforeend",'<label class="'.concat(z("checkbox"),`">
        <input type="radio" `).concat(_?"":'checked="checked"',` name="mode" value="every">
        <span>all are selected</span>
      </label>`)),u.insertAdjacentHTML("beforeend",'<label class="'.concat(z("checkbox"),`" style="padding-bottom: 0.6em">
        <input type="radio" `).concat(_?'checked="checked"':"",` name="mode" value="some">
        <span>some are selected</span>
      </label>`))}this.enableLivePreviews("input[type=checkbox],input[type=radio]");var w=this.column.findMyRanker();w&&w.on("".concat(fe.EVENT_ORDER_CHANGED,".catFilter"),(function(){return l.updateStats()})),this.updateStats()},s.prototype.updateStats=function(){var u=this,l=this.ctx.provider.getTaskExecutor().summaryCategoricalStats(this.column).then((function(f){if(typeof f!="symbol"){var d=f.summary,_=f.data;d&&_&&(u.find("label[data-missing] .".concat(z("dialog-filter-table-entry-stats"))).textContent="".concat(d.missing.toLocaleString(),"/").concat(_.count.toLocaleString()),u.forEach("label[data-cat] .".concat(z("dialog-filter-table-entry-stats")),(function(w,x){var T=d.hist[x],D=_.hist[x];w.textContent="".concat(T.count.toLocaleString(),"/").concat(D.count.toLocaleString())})))}}));l&&(this.node.classList.add(be("loading")),l.then((function(){u.node.classList.remove(be("loading"))})))},s.prototype.updateFilter=function(u,l,f){f===void 0&&(f=!1);var d=u==null&&l===!1,_={filter:u,filterMissing:l};this.column instanceof Gl&&(_.mode=f?"some":"every"),this.column.setFilter(d?null:_)},s.prototype.reset=function(){this.forEach("input[data-cat]",(function(l){return l.checked=!0})),this.findInput("input[data-missing]").checked=!0;var u=this.findInput("input[value=every]");u&&(u.checked=!0)},s.prototype.cancel=function(){this.updateFilter(this.before.filter===""?null:this.before.filter,this.before.filterMissing,this.before.mode==="some")},s.prototype.submit=function(){var u=this.forEach("input[data-cat]:checked",(function(d){return d.dataset.cat}));u.length===this.column.categories.length&&(u=null);var l=!this.findInput("input[data-missing]").checked,f=this.findInput("input[value=some]");return this.updateFilter(u,l,f!=null&&f.checked),!0},s.prototype.cleanUp=function(u){p.prototype.cleanUp.call(this,u);var l=this.column.findMyRanker();l&&l.on("".concat(fe.EVENT_ORDER_CHANGED,".catFilter"),null)},s})(xr);const U$=z$;var W$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const j$=(function(p){function s(u,l){var f=p.call(this,l,{livePreview:"filter"})||this;return f.column=u,f.before=f.column.getFilter()||{filter:f.column.categories.map((function(d){return d.name})),filterMissing:!1},f}return W$(s,p),s.prototype.build=function(u){var l=this,f=this.column.categories.map((function(_){return Object.assign({range:Vt(100*_.value,2)},_)}));f.sort((function(_,w){return _.label.localeCompare(w.label)})),u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-table"),`">
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry"),`">
          <input type="checkbox" checked>
          <span>
            <div>Un/Select All</div>
          </span>
        </label>
        `).concat(f.map((function(_){return`
          <label class="`.concat(z("checkbox")," ").concat(z("dialog-filter-table-entry"),`">
            <input data-cat="`).concat(_.name,'" type="checkbox"').concat(Vl(l.before,_)?"checked":"",`>
            <span>
              <input type="number" value="`).concat(_.range,`" min="0" max="100" size="5">
              <div class="`).concat(z("dialog-filter-color-bar"),`">
                <span style="background-color: `).concat(_.color,"; width: ").concat(_.range,`%"></span>
              </div>
              <div>`).concat(_.label,`</div>
            </span>
          </label>`)})).join(""),`
    </div>`));var d=this.findInput("input[type=checkbox]:not([data-cat])");d.onchange=function(){Yi(u,"[data-cat]",(function(_){return _.checked=d.checked}))},this.forEach("input[type=number]",(function(_){_.oninput=function(){_.nextElementSibling.firstElementChild.style.width="".concat(_.value,"%")}})),u.insertAdjacentHTML("beforeend",T1(this.before.filterMissing)),this.enableLivePreviews("input[type=checkbox], input[type=number]")},s.prototype.updateFilter=function(u,l){var f=u==null&&l===!1;this.column.setFilter(f?null:{filter:u,filterMissing:l})},s.prototype.cancel=function(){this.updateFilter(this.before.filter,this.before.filterMissing)},s.prototype.reset=function(){this.forEach("[data-cat]",(function(u){u.checked=!1,u.nextElementSibling.value="50"}))},s.prototype.submit=function(){var u=this.forEach("input[data-cat]",(function(d){return{checked:d.checked,cat:d.dataset.cat,range:d.nextElementSibling.valueAsNumber}})),l=u.filter((function(d){return d.checked})).map((function(d){return d.cat}));l.length===this.column.categories.length&&(l=null);var f=gp(this.node).checked;return this.updateFilter(l,f),this.column.setMapping(u.map((function(d){return d.range/100}))),!0},s})(xr);var Y$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),$$=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"vis"})||this;return d.column=u,d.ctx=f,d.before={renderer:u.getRenderer(),group:u.getGroupRenderer(),summary:u.getSummaryRenderer()},d}return Y$(s,p),s.prototype.build=function(u){var l=this.column.getRenderer(),f=this.column.getGroupRenderer(),d=this.column.getSummaryRenderer(),_=this.ctx.getPossibleRenderer(this.column),w=_.item,x=_.group,T=_.summary;console.assert(w.length>1||x.length>1||T.length>1);var D=function(I,G){return I.label.localeCompare(G.label)},N=this.ctx.sanitize;u.insertAdjacentHTML("beforeend",`
      <strong>Item Visualization</strong>
      `.concat(w.sort(D).map((function(I){return' <label class="'.concat(z("checkbox"),'"><input type="radio" name="renderer" value="').concat(N(I.type),'" ').concat(l===I.type?"checked":"","><span>").concat(N(I.label),"</span></label>")})).join(""),`
      <strong>Group Visualization</strong>
      `).concat(x.sort(D).map((function(I){return' <label class="'.concat(z("checkbox"),'"><input type="radio" name="group" value="').concat(N(I.type),'" ').concat(f===I.type?"checked":"","><span>").concat(N(I.label),"</span></label>")})).join(""),`
      <strong>Summary Visualization</strong>
      `).concat(T.sort(D).map((function(I){return' <label class="'.concat(z("checkbox"),'"><input type="radio" name="summary" value="').concat(N(I.type),'" ').concat(d===I.type?"checked":"","><span>").concat(N(I.label),"</span></label>")})).join(""),`
    `)),this.enableLivePreviews("input[type=radio]")},s.prototype.cancel=function(){this.column.setRenderer(this.before.renderer),this.column.setGroupRenderer(this.before.group),this.column.setSummaryRenderer(this.before.summary)},s.prototype.reset=function(){var u=this.column.desc,l=this.findInput('input[name=renderer][value="'.concat(u.renderer||u.type,'"]'));l&&(l.checked=!0);var f=this.findInput('input[name=group][value="'.concat(u.groupRenderer||u.type,'"]'));f&&(f.checked=!0);var d=this.findInput('input[name=summary][value="'.concat(u.summaryRenderer||u.type,'"]'));d&&(d.checked=!0)},s.prototype.submit=function(){var u=this.findInput("input[name=renderer]:checked").value,l=this.findInput("input[name=group]:checked").value,f=this.findInput("input[name=summary]:checked").value;return this.column.setRenderer(u),this.column.setGroupRenderer(l),this.column.setSummaryRenderer(f),!0},s})(xr);const q$=$$;var X$=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Z$=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"colorMapping"})||this;return d.column=u,d.ctx=f,d.id=Ig("col"),d.before=d.column.getColorMapping(),d}return X$(s,p),s.prototype.createTemplate=function(u,l){var f=l instanceof qa?l.base:l,d=f instanceof Ns?f.entries:[],_="";_+='<datalist id="'.concat(u,'L">').concat(Gc.map((function(K){return"<option>".concat(K,'"</option>')})).join(""),"</datalist>"),_+='<datalist id="'.concat(u,'LW"><option>#FFFFFF"</option>').concat(Gc.slice(0,-1).map((function(K){return"<option>".concat(K,"</option>")})).join(""),"</datalist>"),_+='<strong data-toggle="'.concat(f instanceof va?"open":"",'">Solid Color</strong>'),_+="<div>";var w=f instanceof va?f.color:"",x=w===Ie,T=function(K){return'<label class="'.concat(z("checkbox-color"),`">
        <input name="color" type="radio" value="`).concat(K,'" ').concat(K===w?'checked="checked"':"",`>
        <span style="background: `).concat(K,`"></span>
      </label>`)};[Gc,j1,Y1,$1,q1,X1,Z1,qv].forEach((function(K,nt){x=x||K.includes(w),_+='<div class="'.concat(z("color-line"),`">
          `).concat(K.map(T).join(""),`
          `).concat(nt===0?T(Ie):"",`
        </div>`)})),_+='<label class="'.concat(z("checkbox")," ").concat(z("color-gradient"),'"><input name="color" type="radio" value="custom:solid" ').concat(w&&!x?'checked="checked"':"",`>
        <span class="`).concat(z("color-custom"),'"><input type="color" name="solid" list="').concat(u,'L" value="').concat(f instanceof va?this.ctx.sanitize(f.color):Ie,'" ').concat(w&&!x?"":"disabled",`></span>
      </label>`),_+="</div>",_+='<strong data-toggle="'.concat(f instanceof Ya||f instanceof Ns&&d.length===2?"open":"",'">Sequential Color</strong>'),_+="<div>",_+='<div><label class="'.concat(z("checkbox"),`">
      <input name="kindS" type="radio" id="`).concat(u,'KC_S" value="continuous" ').concat(l instanceof qa?"":"checked",`>
      <span>Continuous</span>
    </label>
    <label class="`).concat(z("checkbox"),`">
      <input name="kindS" type="radio" id="`).concat(u,'KQ_S" value="quantized" ').concat(l instanceof qa?"checked":"",`>
      <span>Discrete&nbsp;<input type="number" id="`).concat(u,'KQS_S" min="2" step="1" style="width: 3em" value="').concat(l instanceof qa?"".concat(l.steps,'"'):'5" disabled',`>&nbsp; steps</span>
    </label></div>`);for(var D=f instanceof Ya?f.name:"",N=0,I=Object.keys(Ya.FUNCTIONS);N<I.length;N++){var G=I[N];_+='<label class="'.concat(z("checkbox")," ").concat(z("color-gradient"),'"><input name="color" type="radio" value="').concat(G,'" ').concat(G===D?'checked="checked"':"",`>
        <span data-c="`).concat(G,'" style="background: ').concat(Jg(Ya.FUNCTIONS[G],9),`"></span>
      </label>`)}var B=d.length===2;_+='<label class="'.concat(z("checkbox")," ").concat(z("color-gradient"),`">
        <input name="color" type="radio" value="custom:sequential" `).concat(B?"checked":"",`>
        <span class="`).concat(z("color-custom"),`">
          <input type="color" name="interpolate0" list="`).concat(u,'LW" ').concat(B?'value="'.concat(d[0].color,'"'):"disabled",`>
          <input type="color" name="interpolate1" list="`).concat(u,'LW" ').concat(B?'value="'.concat(d[d.length-1].color,'"'):"disabled",`>
        </span>
      </label>`),_+="</div>",_+='<strong data-toggle="'.concat(f instanceof $a||f instanceof Ns&&d.length===3?"open":"",'">Diverging Color</strong>'),_+="<div>",_+='<div><label class="'.concat(z("checkbox"),`">
      <input name="kindD" type="radio" id="`).concat(u,'KC_D" value="continuous" ').concat(l instanceof qa?"":"checked",`>
      <span>Continuous</span>
    </label>
    <label class="`).concat(z("checkbox"),`">
      <input name="kindD" type="radio" id="`).concat(u,'KQ_D" value="quantized" ').concat(l instanceof qa?"checked":"",`>
      <span>Discrete&nbsp;<input type="number" id="`).concat(u,'KQS_D" min="2" step="1" style="width: 3em" value="').concat(l instanceof qa?"".concat(l.steps,'"'):'5" disabled',`>&nbsp; steps</span>
    </label></div>`),D=f instanceof $a?f.name:"";for(var U=0,$=Object.keys($a.FUNCTIONS);U<$.length;U++)G=$[U],_+='<label class="'.concat(z("checkbox")," ").concat(z("color-gradient"),'"><input name="color" type="radio" value="').concat(G,'" ').concat(G===D?'checked="checked"':"",`>
        <span data-c="`).concat(G,'" style="background: ').concat(Jg($a.FUNCTIONS[G],11),`"></span>
      </label>`);return B=d.length===3,_+='<label class="'.concat(z("checkbox")," ").concat(z("color-gradient"),`">
        <input name="color" type="radio" value="custom:divergent" `).concat(B?"checked":"",`>
        <span class="`).concat(z("color-custom"),`">
          <input type="color" name="divergingm1" list="`).concat(u,'L" ').concat(B?'value="'.concat(this.ctx.sanitize(d[0].color),'"'):"disabled",`>
          <input type="color" name="diverging0" list="`).concat(u,'LW" ').concat(B?'value="'.concat(this.ctx.sanitize(d[1].color),'"'):"disabled",`>
          <input type="color" name="diverging1" list="`).concat(u,'L" ').concat(B?'value="'.concat(this.ctx.sanitize(d[2].color),'"'):"disabled",`>
        </span>
      </label>`),_+="</div>"},s.prototype.applyColor=function(){var u=this.findInput("input[name=color]:checked");if(u){var l=this.findInput("#".concat(this.id,"KQ_S")),f=this.findInput("#".concat(this.id,"KQS_S")),d=(function(_,w){switch(_.value){case"custom:solid":return new va(w.querySelector("input[name=solid]").value);case"custom:sequential":var x=w.querySelector("input[name=interpolate0]").value,T=w.querySelector("input[name=interpolate1]").value;return new Ns([{color:x,value:0},{color:T,value:1}]);case"custom:diverging":var D=w.querySelector("input[name=divergentm1]").value,N=w.querySelector("input[name=divergent0]").value,I=w.querySelector("input[name=divergent1]").value;return new Ns([{color:D,value:0},{color:N,value:.5},{color:I,value:1}])}return _.value in Ya.FUNCTIONS?new Ya(_.value):_.value in $a.FUNCTIONS?new $a(_.value):new va(_.value)})(u,this.node);!l.checked||d instanceof va?this.column.setColorMapping(d):this.column.setColorMapping(new qa(d,Number.parseInt(f.value,10)))}},s.prototype.build=function(u){var l=u.ownerDocument.createElement("div");l.classList.add(z("dialog-color")),u.appendChild(l),this.render(l,this.column.getColorMapping())},s.prototype.render=function(u,l){var f=this,d=this.id;u.innerHTML=this.createTemplate(d,l);for(var _=Array.from(u.querySelectorAll("strong[data-toggle]")),w=function(at){at.onclick=function(ct){ct.preventDefault(),ct.stopPropagation();for(var wt=0,Tt=_;wt<Tt.length;wt++){var Ot=Tt[wt];Ot.dataset.toggle=Ot.dataset.toggle==="open"||at!==Ot?"":"open"}}},x=0,T=_;x<T.length;x++)w(T[x]);var D=[],N=function(at){if(at.checked){for(var ct=function(Ot){Array.from(Ot.nextElementSibling.getElementsByTagName("input")).forEach((function(Wt){return Wt.disabled=Ot!==at}))},wt=0,Tt=D;wt<Tt.length;wt++)ct(Tt[wt]);f.showLivePreviews()&&f.applyColor()}},I=function(){var at=f.findInput("input[name=color]:checked");at&&N(at)};this.forEach("input[name=color]",(function(at){at.value.startsWith("custom:")&&D.push(at),at.onchange=function(){return N(at)}})),this.forEach(".".concat(z("color-custom")," input[type=color]"),(function(at){at.onchange=function(){var ct=at.parentElement.previousElementSibling;N(ct)}}));var G=this.findInput("#".concat(d,"KC_S")),B=this.findInput("#".concat(d,"KQ_S")),U=this.findInput("#".concat(d,"KQS_S")),$=this.findInput("#".concat(d,"KC_D")),K=this.findInput("#".concat(d,"KQ_D")),nt=this.findInput("#".concat(d,"KQS_D"));G.onchange=$.onchange=function(at){G.checked=$.checked=at.currentTarget.checked,U.disabled=nt.disabled=!B.checked,G.checked&&(f.updateGradients(-1),I())},U.onchange=nt.onchange=function(at){U.value=nt.value=at.currentTarget.value,f.updateGradients(Number.parseInt(U.value,10)),I()},B.onchange=K.onchange=function(at){B.checked=K.checked=at.currentTarget.checked,U.disabled=nt.disabled=!B.checked,B.checked&&(f.updateGradients(Number.parseInt(U.value,10)),I())}},s.prototype.reset=function(){var u=this.column.desc,l=this.ctx.provider.getTypeFactory().colorMappingFunction(u.colorMapping||u.color);this.render(this.node.querySelector(".".concat(z("dialog-color"))),l)},s.prototype.submit=function(){return this.applyColor(),!0},s.prototype.cancel=function(){this.column.setColorMapping(this.before)},s.prototype.updateGradients=function(u){this.forEach("span[data-c]",(function(l){var f=l.dataset.c,d=Ya.FUNCTIONS[f];if(d)l.style.background=u<0?Jg(d,9):$R(d,u);else{var _=$a.FUNCTIONS[f];_&&(l.style.background=u<0?Jg(_,11):$R(_,u))}}))},s})(xr);const K$=Z$;function Jg(p,s){if(s===void 0&&(s=2),s<=1)return"".concat(p(0));for(var u=1/(s-1),l="linear-gradient(to right",f=0;f<s;++f)l+=", ".concat(p(f*u)," ").concat(Vt(f*u*100,2),"%");return l+")"}function $R(p,s){if(s===void 0&&(s=2),s===1)return"".concat(p(0));for(var u="linear-gradient(to right",l=1/s,f=l/2,d=0;d<s;++d){var _=p(d*l+(d===0?0:d===s-1?l:f));u+=", ".concat(_," ").concat(Vt(d*l*100,2),"%, ").concat(_," ").concat(Vt((d+1)*l*100,2),"%")}return u+")"}var K1=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function ff(p){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];var l=p.dataTransfer.types;return typeof l.indexOf=="function"?s.some((function(f){return l.indexOf(f)>=0})):typeof l.includes=="function"?s.some((function(f){return l.includes(f)})):typeof l.contains=="function"&&s.some((function(f){return l.contains(f)}))}var au=new Map;function J1(p){return au.size>0&&ff(p,"text/plain")}function qR(p){var s=p.dataTransfer;(function(u){var l=u.dataTransfer;return!!(u.ctrlKey&&l.effectAllowed.match(/copy/gi)||!l.effectAllowed.match(/move/gi))})(p)?s.dropEffect="copy":s.dropEffect="move"}var J$=0;function wp(p,s,u,l,f,d){l===void 0&&(l=null),f===void 0&&(f=!1),d===void 0&&(d=function(){return!0}),p.addEventListener("dragenter",(function(_){if(!p.classList.contains(z("dragging"))&&(ff.apply(void 0,K1([_],s,!1))||J1(_))&&d())return p.classList.add(z("dragover")),f&&_.stopPropagation(),!1;p.classList.remove(z("dragover"))})),p.addEventListener("dragover",(function(_){if(!p.classList.contains(z("dragging"))&&(ff.apply(void 0,K1([_],s,!1))||J1(_))&&d())return _.preventDefault(),qR(_),p.classList.add(z("dragover")),f&&_.stopPropagation(),l&&l(_),!1})),p.addEventListener("dragleave",(function(_){_.target.classList.remove(z("dragover"))})),p.addEventListener("drop",(function(_){_.preventDefault(),f&&_.stopPropagation(),qR(_);var w=_.dataTransfer.dropEffect;if(p.classList.remove(z("dragover")),J1(_)){var x=_.dataTransfer.getData("text/plain"),T=Number.parseInt(x.indexOf(":")>=0?x.substring(0,x.indexOf(":")):x,10);if(au.has(T)){var D=au.get(T);return au.delete(T),!u({effect:w,data:D},_)}}else if(ff.apply(void 0,K1([_],s,!1))){var N={};return s.forEach((function(I){var G=_.dataTransfer.getData(I);G!==""&&(N[I]=G)})),!u({effect:w,data:N},_)}}))}function Q$(p,s){return p.options.order===s.options.order?p.title.toString().localeCompare(s.title.toString()):(p.options.order||50)-(s.options.order||50)}function Qg(p,s){var u=s.caches.toolbar;if(u.has(p.desc.type))return u.get(p.desc.type);var l=(function(w){var x=new Wh,T=w,D=Symbol.for("toolbarIcon");do{var N=Reflect.getOwnMetadata(D,T.constructor);if(N)for(var I=0,G=N;I<G.length;I++){var B=G[I];x.add(B)}T=Object.getPrototypeOf(T)}while(T);return Array.from(x)})(p);p.fixed||l.push("remove");var f=s.getPossibleRenderer(p);(f.item.length>2||f.group.length>2||f.summary.length>2)&&l.push("vis");var d=s.resolveToolbarActions(p,l),_=Array.from(new Set(d)).sort(Q$);return u.set(p.desc.type,_),_}function XR(p,s){var u=Qg(p,s),l=s.flags;return u.filter((function(f){return!(f.enabled&&!f.enabled(p)||f.options.featureLevel!=="basic"&&(l.advancedModelFeatures===!1&&f.options.featureCategory==="model"||l.advancedRankingFeatures===!1&&f.options.featureCategory==="ranking"||l.advancedUIFeatures===!1&&f.options.featureCategory==="ui"))}))}function ty(p,s,u){var l="".concat(p.desc.type,"@").concat(s),f=u.caches.toolbarAddons;if(f.has(l))return f.get(l);var d=(function(x,T){var D=new Wh,N=x,I=Symbol.for("toolbarDialogAddon".concat(T));do{var G=Reflect.getOwnMetadata(I,N.constructor);if(G)for(var B=0,U=G;B<U.length;B++){var $=U[B];D.add($)}N=Object.getPrototypeOf(N)}while(N);return Array.from(D)})(p,s),_=u.resolveToolbarDialogAddons(p,d),w=Array.from(new Set(_)).sort((function(x,T){return x.order===T.order?x.title.localeCompare(T.title):(x.order||50)-(T.order||50)}));return f.set(l,w),w}function _a(p){p.endsWith("")&&(p=p.slice(0,-2)),p.endsWith("&hellip;")&&(p=p.slice(0,-9)),p.endsWith("By")&&(p=p.slice(0,-3));var s=p.toLowerCase().replace(/[ +-]/gm,"-");return"".concat(z("action")," ").concat(z("action-".concat(s)))}function ZR(p,s,u,l,f,d){return function(_){var w=xp(s,_,d,"shortcut")?"o":xp(s,_,d,"menu+shortcut")?"s":"r",x=u.sanitize(_.title);p.insertAdjacentHTML("beforeend",'<i data-a="'.concat(w,'" title="').concat(x,'" class="').concat(_a(x)," ").concat(z("feature-".concat(u.sanitize(_.options.featureLevel||"basic")))," ").concat(z("feature-".concat(u.sanitize(_.options.featureCategory||"others"))),'"><span').concat(f?"":' class="'.concat(z("aria"),'" aria-hidden="true"'),">").concat(x,"</span> </i>"));var T=p.lastElementChild;return T.onclick=function(D){D.stopPropagation(),u.dialogManager.setHighlightColumn(s),u.dialogManager.on("dialogOpened.".concat(s.fqid),(function(){u.dialogManager.on("dialogOpened.".concat(s.fqid),null),T.classList.add(z("active")),u.dialogManager.on("dialogClosed.".concat(s.fqid),(function(){u.dialogManager.on("dialogClosed.".concat(s.fqid),null),T.classList.remove(z("active"))}))})),_.onClick(s,D,u,l,!f)},T}}function xp(p,s,u,l){var f=s.options.mode===void 0?"menu":s.options.mode;return f===l||typeof f=="function"&&f(p,u)===l}function Q1(p,s){var u=p.getElementsByClassName(z("action-sort"))[0];if(u){var l=s.isSortedByMe(),f=l.asc,d=l.priority;u.dataset.sort=f!==void 0?f:"",u.dataset.type=cb(s),d!==void 0?u.dataset.priority=(d+1).toString():delete u.dataset.priority}var _=p.getElementsByClassName(z("action-sort-groups"))[0];if(_){var w=s.isGroupSortedByMe();f=w.asc,d=w.priority,_.dataset.sort=f!==void 0?f:"",_.dataset.type=cb(s),d!==void 0?_.dataset.priority=(d+1).toString():delete _.dataset.priority}var x=p.getElementsByClassName(z("action-group"))[0];if(x){var T=s.isGroupedBy();x.dataset.group=T>=0?"true":"false",T>=0?x.dataset.priority=(T+1).toString():delete x.dataset.priority}var D=p.getElementsByClassName(z("action-filter"))[0];D&&(s.isFiltered()?D.dataset.active="":delete D.dataset.active);var N=p.getElementsByClassName(z("action-data-mapping"))[0];N&&Xe(s)&&(s.getMapping().eq(s.getOriginalMapping())?delete N.dataset.active:N.dataset.active="")}var tq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const eq=(function(p){function s(u,l,f,d){var _=p.call(this,l,{autoClose:!0})||this;return _.column=u,_.mode=f,_.ctx=d,_}return tq(s,p),s.prototype.build=function(u){u.classList.add(z("more-options")),u.dataset.colId=this.column.id,(function(l,f,d,_,w){var x=ZR(l,d,_,f,!0,w);XR(d,_).filter((function(T){return!xp(d,T,w,"shortcut")})).forEach(x)})(u,this.dialog.level+1,this.column,this.ctx,this.mode),Q1(u,this.column)},s})(uf);var KR=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function ey(p,s,u,l){return l===void 0&&(l=!1),s?Mn(p," "):l?p.innerHTML=u:Mn(p,u),p}function tS(p,s,u){var l;u===void 0&&(u={}),u=Object.assign({dragAble:!0,mergeDropAble:!0,rearrangeAble:!0,resizeable:!0,level:0,extraPrefix:""},u);var f=s.document.createElement("section"),d=u.extraPrefix?function(I){return"".concat(z(I)," ").concat(z("".concat(u.extraPrefix,"-").concat(I)))}:z;f.innerHTML=`
    <div class="`.concat(d("label")," ").concat(z("typed-icon"),`"></div>
    <div class="`).concat(d("sublabel"),`"></div>
    <div class="`).concat(d("toolbar"),`"></div>
    <div class="`).concat(d("spacing"),`"></div>
    <div class="`).concat(d("handle")," ").concat(z("feature-advanced")," ").concat(z("feature-ui"),`"></div>
    `).concat(u.mergeDropAble?'<div class="'.concat(d("header-drop")," ").concat(d("merger"),'"></div>'):"",`
    `).concat(u.rearrangeAble?'<div class="'.concat(d("header-drop")," ").concat(d("placer"),'" data-draginfo="Place here"></div>'):"",`
  `);var _=p.getHeaderLabel("header");ey(f.firstElementChild,p.getWidth()<rf,_.content,_.asHTML);var w=p.getSummaryLabel("header");if(ey(f.children[1],p.getWidth()<rf||!w,w.content,w.asHTML),JR(f.getElementsByClassName(z("toolbar"))[0],u.level,p,s,"header"),eS(f,p),u.dragAble&&(function(I,G,B){(function(U,$,K,nt){var at=++J$;U.classList.add(z("dragable")),U.draggable=!0,U.addEventListener("dragstart",(function(ct){U.classList.add(z("dragging"));var wt=$();if(ct.dataTransfer.effectAllowed=wt.effectAllowed,ct.stopPropagation(),!Object.keys(wt.data).every((function(Ot){try{return ct.dataTransfer.setData(Ot,wt.data[Ot]),!0}catch{return!1}}))){var Tt=wt.data["text/plain"]||"";ct.dataTransfer.setData("text/plain","".concat(at).concat(Tt?": ".concat(Tt):"")),au.set(at,wt.data)}})),U.addEventListener("dragend",(function(ct){U.classList.remove(z("dragging")),ct.stopPropagation(),au.size>0&&au.delete(at);var wt=U.ownerDocument.getElementsByClassName(z("dragover"))[0];wt&&wt.classList.remove(z("dragover")),K&&K()}))})(I,(function(){var U,$=I.closest(".".concat(be("header")));$&&$.classList.add(z("dragging-column"));var K=JSON.stringify(B.provider.toDescRef(G.desc)),nt=((U={"text/plain":G.label})["".concat(mr,"-ref")]=G.id,U[mr]=K,U);return Je(G)&&(nt["".concat(mr,"-number")]=K,nt["".concat(mr,"-number-ref")]=G.id),Jl(G)&&(nt["".concat(mr,"-categorical")]=K,nt["".concat(mr,"-categorical-ref")]=G.id),Fo(G)&&(nt["".concat(mr,"-boxplot")]=K,nt["".concat(mr,"-boxplot-ref")]=G.id),dp(G)&&(nt["".concat(mr,"-map")]=K,nt["".concat(mr,"-map-ref")]=G.id),vp(G)&&(nt["".concat(mr,"-array")]=K,nt["".concat(mr,"-array-ref")]=G.id),En(G)&&(nt["".concat(mr,"-numbers")]=K,nt["".concat(mr,"-numbers-ref")]=G.id),{effectAllowed:"copyMove",data:nt}}),(function(){var U=I.closest(".".concat(be("header")));U&&U.classList.remove(z("dragging-column"))}))})(f,p,s),u.mergeDropAble){var x=f.getElementsByClassName(z("merger"))[0];u.rearrangeAble||(x.style.left="0",x.style.width="100%"),(function(I,G,B){var U=function(wt){var Tt=wt.data,Ot=wt.effect==="copy",Wt=mr,ut=Object.keys(Tt).find((function(zt){return zt.startsWith(Wt)&&zt.endsWith("-ref")}));if(ut){var kt=Tt[ut],jt=B.provider.find(kt);if(Ot)jt=B.provider.clone(jt);else{if(jt===G)return null;jt.removeMe()}return jt}var Nt=Object.keys(Tt).find((function(zt){return zt.startsWith(Wt)}));if(!Nt)return null;var te=JSON.parse(Nt);return B.provider.create(B.provider.fromDescRef(te))},$=function(wt,Tt){if(wt==null)return!1;var Ot=G.findMyRanker(),Wt=Ot.indexOf(G),ut=B.provider.create(Tt);return G.removeMe(),ut.push(G),ut.push(wt),Ot.insert(ut,Wt)!=null},K=function(wt){return function(Tt){var Ot=U(Tt);return $(Ot,wt)}},nt=["".concat(mr,"-ref"),mr],at=["".concat(mr,"-number-ref"),"".concat(mr,"-number")],ct=["".concat(mr,"-categorical-ref"),"".concat(mr,"-categorical")];Gt(G)||G instanceof hn?(I.dataset.draginfo="+",wp(I,G.canJustAddNumbers?at:nt,(function(wt){var Tt=U(wt);return Tt!=null&&G.push(Tt)!=null}))):En(G)?(I.dataset.draginfo="Color by",wp(I,ct,K(e1()))):Fo(G)?(I.dataset.draginfo="Color by",wp(I,ct,K(t1()))):Je(G)&&(I.dataset.draginfo="Merge",wp(I,ct.concat(at),(function(wt){var Tt=U(wt);return Tt!=null&&(Jl(Tt)?$(Tt,Eg()):!!Je(Tt)&&$(Tt,Ag()))}),(function(wt){ff.apply(void 0,KR([wt],ct,!1))?I.dataset.draginfo="Color by":ff.apply(void 0,KR([wt],at,!1))&&(I.dataset.draginfo="Sum")})))})(x,p,s)}if(u.rearrangeAble){var T=f.getElementsByClassName(z("placer"))[0],D=p.nextSibling(),N=u.mergeDropAble?.2:.5;u.mergeDropAble||(T.style.left="50%"),T.style.width="".concat(p.getWidth()*N+((l=D?.getWidth())!==null&&l!==void 0?l:100)/2,"px"),(function(I,G,B){wp(I,["".concat(mr,"-ref"),mr],(function(U){var $=null,K=U.data;if(!("".concat(mr,"-ref")in K)){var nt=JSON.parse(K[mr]);return($=B.provider.create(B.provider.fromDescRef(nt)))!=null&&G.insertAfterMe($)!=null}var at=K["".concat(mr,"-ref")];if(!($=B.provider.find(at))||$===G&&!U.effect.startsWith("copy"))return!1;if(U.effect.startsWith("copy"))return($=B.provider.clone($))!=null&&G.insertAfterMe($)!=null;var ct=$.parent;return ct?ct===G.parent?ct.moveAfter($,G)!=null:($.removeMe(),G.insertAfterMe($)!=null):G.insertAfterMe($)!=null}),null,!0)})(T,p,s)}return u.resizeable&&(function(I,G){var B,U,$="",K=G.getElementsByClassName(z("handle"))[0],nt=0,at=0,ct=function(Tt){Tt.stopPropagation(),Tt.preventDefault();var Ot=Tt.clientX,Wt=Ot-nt;if(!(Math.abs(nt-Ot)<2)){nt=Ot;var ut=Math.max(0,I.getWidth()+Wt);U.classList.toggle(z("resize-animated"),ut<at),U.style.transform="".concat($," translate(").concat(ut-at-xD,"px, 0px)"),G.style.width="".concat(ut,"px"),I.setWidth(ut),eS(G,I)}},wt=function(Tt){Tt.stopPropagation(),Tt.preventDefault();var Ot=Tt.clientX;if(G.classList.remove(z("change-width")),B.removeEventListener("mousemove",ct),B.removeEventListener("mouseup",wt),B.removeEventListener("mouseleave",wt),B.classList.remove(z("resizing")),G.style.width=null,setTimeout((function(){U.classList.remove(z("resizing"),z("resize-animated"))}),1.2*m9),!(Math.abs(nt-Ot)<2)){var Wt=Ot-nt,ut=Math.max(0,I.getWidth()+Wt);I.setWidth(ut),eS(G,I)}};K.onmousedown=function(Tt){Tt.stopPropagation(),Tt.preventDefault(),G.classList.add(z("change-width")),at=I.getWidth(),nt=Tt.clientX,(B=G.closest("body")||G.closest(".".concat(z()))).addEventListener("mousemove",ct),B.addEventListener("mouseup",wt),B.addEventListener("mouseleave",wt),B.classList.add(z("resizing")),U=G.closest(".".concat(be())).querySelector(".".concat(z("resize-helper"))),$=U.previousElementSibling.style.transform,U.style.transform="".concat($," translate(").concat(-xD,"px, 0px)"),U.classList.add(z("resizing"))},K.onclick=function(Tt){Tt.stopPropagation(),Tt.preventDefault()}})(p,f),f}function hf(p,s,u,l){var f;u===void 0&&(u="header"),l===void 0&&(l=rf);var d=p.getElementsByClassName(z("label"))[0],_=s.getHeaderLabel(u);ey(d,s.getWidth()<l,_.content,_.asHTML);var w=s.getSummaryLabel(u),x=s.desc.summary,T=p.getElementsByClassName(z("sublabel"))[0];T&&ey(T,s.getWidth()<l||!w.content,w.content,w.asHTML);var D=s.label;x&&(D="".concat(D,`
`).concat(x)),s.description&&(D="".concat(D,`
`).concat(s.description)),p.title=D,p.dataset.colId=s.id,p.dataset.type=s.desc.type,d.dataset.typeCat=Uh(s).name,Q1(p,s),(function(B,U){var $=B.closest(".".concat(z()));if($){var K=$.querySelector(".".concat(z("more-options"),'[data-col-id="').concat(U.id,'"]'));K&&Q1(K,U)}})(p,s);var N=p.getElementsByClassName(z("placer"))[0];if(N){var I=s.nextSibling(),G=p.getElementsByClassName(z("merger")).length===0?.5:.2;N.style.width="".concat(s.getWidth()*G+((f=I?.getWidth())!==null&&f!==void 0?f:100)*G+5,"px")}}function JR(p,s,u,l,f,d){d===void 0&&(d=!0);var _=ZR(p,u,l,s,!1,f),w=XR(u,l),x=w.filter((function(N){return!xp(u,N,f,"menu")})),T=x.reduce((function(N,I){return N+(xp(u,I,f,"menu+shortcut")?1:0)}),0);x.forEach(_);var D=w.length-x.length+T;x.length===w.length||D===T&&!d||(p.insertAdjacentHTML("beforeend",'<i data-a="m" data-m="'.concat(D,'" title="More " class="').concat(_a("More"),'">').concat(Xn("More "),"</i>")),p.lastElementChild.onclick=function(N){N.stopPropagation(),l.dialogManager.setHighlightColumn(u),new eq(u,Li(l,s,N),f,l).open()})}function eS(p,s,u){u===void 0&&(u=22.5),(function($,K,nt){var at=$.getElementsByClassName(z("label"))[0];if(K.getWidth()<rf)at.classList.remove(".".concat(z("rotated")));else{var ct=at.clientWidth<=0?K.label.length*nt/3*.6>K.getWidth():.6*at.scrollWidth>at.clientWidth;at.classList.toggle(".".concat(z("rotated")),ct)}})(p,s,u);var l=p.getElementsByClassName(z("toolbar"))[0];if(l.childElementCount!==0){for(var f=s.getWidth(),d=Array.from(l.children).map((function($){return{node:$,width:$.clientWidth>0?$.clientWidth:u}})),_=d.filter((function($){return $.node.dataset.a==="o"})),w=d.filter((function($){return $.node.dataset.a==="s"})),x=d.find((function($){return $.node.dataset.a==="m"})),T=(x?Number.parseInt(x.node.dataset.m,10):0)>w.length,D=d.reduce((function($,K){return $+K.width}),0),N=0,I=d;N<I.length;N++)(U=I[N]).node.classList.remove(z("hidden"));if(!(D<f))if(x&&!T&&D-x.width<f)x.node.classList.add(z("hidden"));else for(var G=0,B=w.reverse().concat(_.reverse());G<B.length;G++){var U;if((U=B[G]).node.classList.add(z("hidden")),(D-=U.width)<f)return}}}var mr="text/x-caleydo-lineup-column",rq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),nq=(function(p){function s(u,l,f){var d=p.call(this,l)||this;return d.column=u,d.ctx=f,d.id=".dialog".concat(Math.random().toString(36).slice(-8).substring(0,3)),d}return rq(s,p),s.prototype.cleanUp=function(u){p.prototype.cleanUp.call(this,u),this.column.on(Ve(this.id,hn.EVENT_ADD_COLUMN,hn.EVENT_REMOVE_COLUMN),null)},s.prototype.build=function(u){var l=this;u.classList.add(z("dialog-sub-nested"));var f=function(){l.column.children.forEach((function(d){var _=tS(d,l.ctx,{mergeDropAble:!1,resizeable:!1,level:l.dialog.level+1,extraPrefix:"sub"});_.className=z("header"),hf(_,d);var w=l.ctx.summaryRenderer(d,!1),x=l.ctx.asElement(w.template);x.dataset.renderer=d.getSummaryRenderer(),x.classList.add(z("summary"),z("renderer"),z("th-summary"));var T=w.update(x);T&&(x.classList.add(be("loading")),T.then((function(){x.classList.remove(be("loading"))}))),_.appendChild(x),u.appendChild(_)}))};f(),this.column.on(Ve(this.id,hn.EVENT_ADD_COLUMN,hn.EVENT_REMOVE_COLUMN),Ba((function(){u.parentElement?(me(u),f()):l.destroy()})))},s})(uf);const iq=nq;var aq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),oq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"cutOff"})||this;return d.column=u,d.ctx=f,d.innerNodes=kL(d.column.hierarchy),d.innerNodePaths=d.innerNodes.map((function(_){return _.path})),d.before=u.getCutOff(),d}return aq(s,p),s.prototype.build=function(u){var l=this.ctx.sanitize;u.insertAdjacentHTML("beforeend",`
        <input type="text" value="`.concat(l(this.before.node.label),'" required="required" autofocus="autofocus" list="ui').concat(this.ctx.idPrefix,`lineupHierarchyList" placeholder="cut off node">
        <input type="number" value="`).concat(isFinite(this.before.maxDepth)?this.before.maxDepth:"",`" placeholder="max depth (&infin;)">
        <datalist id="ui`).concat(this.ctx.idPrefix,'lineupHierarchyList">').concat(this.innerNodes.map((function(d){return'<option value="'.concat(l(d.path),'">').concat(l(d.label),"</option>")})),"</datalist>"));var f=this.innerNodePaths;this.findInput('input[type="text"]').addEventListener("change",(function(){var d=this.value;f.indexOf(d)<0?this.setCustomValidity("invalid node"):this.setCustomValidity("")}),{passive:!0}),this.enableLivePreviews("input[type=text],input[type=number]")},s.prototype.reset=function(){this.findInput('input[type="text"]').value=this.column.hierarchy.path,this.findInput('input[type="number"]').value=""},s.prototype.cancel=function(){this.column.setCutOff(this.before)},s.prototype.submit=function(){var u=this.findInput('input[type="text"]').value,l=this.innerNodePaths.indexOf(u),f=this.innerNodes[l],d=this.findInput('input[type="number"]').value,_=d===""?Number.POSITIVE_INFINITY:Number.parseInt(d,10);return this.column.setCutOff({node:f,maxDepth:_}),!0},s})(xr);const sq=oq;var lq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),uq=(function(p){function s(u,l,f){var d,_=p.call(this,l,{livePreview:"filter",cancelSubDialogs:!0})||this;return _.column=u,_.ctx=f,_.handler=null,_.before=(d=_.column.getFilter())!==null&&d!==void 0?d:vi(),_}return lq(s,p),s.prototype.build=function(u){u.classList.add(z("dialog-mapper")),this.handler=(function(l,f,d,_){var w=Xg(l),x=l.getFilter(),T=[isFinite(x.min)?x.min:0,isFinite(x.max)?x.max:100],D=Zg(l,d,T),N=D.setFilter,I=cf(l,T);D.setFilter=function(K,nt,at){I={filterMissing:K,filterMin:nt,filterMax:at},_&&N(K,nt,at)},f.innerHTML="".concat(w.template).concat(jg(D,cf(l,T)),"</div>");var G=f.firstElementChild;G.classList.add(z("summary"),z("renderer")),G.dataset.renderer="histogram",G.dataset.interactive="",G.classList.add(z("histogram-i"));var B=null,U=function(){var K=d.tasks.summaryDateStats(l).then((function(nt){if(typeof nt!="symbol"){var at=nt.summary,ct=nt.data;B||(wt=ct.min,Tt=ct.max,T=[wt?wt.getTime():Date.now(),Tt?Tt.getTime():Date.now()],D=Zg(l,d,T),N=D.setFilter,I=cf(l,T),D.setFilter=function(Ot,Wt,ut){I={filterMissing:Ot,filterMin:Wt,filterMax:ut},_&&N(Ot,Wt,ut)},B=Yg(G,D)),B(ct?ct.missing:at?at.missing:0,I),G.classList.toggle(z("missing"),!at),at&&w.render(G,at,ct)}var wt,Tt}));K&&(G.classList.add(be("loading")),K.then((function(){G.classList.remove(be("loading"))})))},$=l.findMyRanker();return $&&$.on("".concat(fe.EVENT_ORDER_CHANGED,".numberFilter"),(function(){return U()})),U(),{cleanUp:function(){$&&$.on("".concat(fe.EVENT_ORDER_CHANGED,".numberFilter"),null)},reset:function(){I=cf(l,T,vi()),U()},submit:function(){N(I.filterMissing,I.filterMin,I.filterMax)}}})(this.column,u,{dialogManager:this.ctx.dialogManager,idPrefix:this.ctx.idPrefix,tasks:this.ctx.provider.getTaskExecutor(),sanitize:this.ctx.sanitize},this.showLivePreviews())},s.prototype.cleanUp=function(u){p.prototype.cleanUp.call(this,u),this.handler.cleanUp()},s.prototype.reset=function(){this.handler.reset()},s.prototype.submit=function(){return this.handler.submit(),!0},s.prototype.cancel=function(){this.column.setFilter(this.before)},s})(xr);const cq=uq;var fq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const hq=(function(p){function s(u,l,f){var d=p.call(this,l)||this;return d.column=u,d.ctx=f,d.before=d.column.getPattern(),d}return fq(s,p),s.prototype.build=function(u){var l=this.column.patternTemplates,f=this.ctx.sanitize;u.insertAdjacentHTML("beforeend",`<strong>Edit Pattern (access via \${value}, \${item})</strong><input
        type="text"
        size="30"
        value="`.concat(f(this.before),`"
        required
        autofocus
        placeholder="pattern (access via \${value}, \${item})"
        `).concat(l.length>0?'list="ui'.concat(this.ctx.idPrefix,'lineupPatternList"'):"",`
      >`)),l.length>0&&u.insertAdjacentHTML("beforeend",'<datalist id="ui'.concat(this.ctx.idPrefix,'lineupPatternList">').concat(l.map((function(d){return'<option value="'.concat(f(d),'">')})),"</datalist>")),this.enableLivePreviews("input")},s.prototype.cancel=function(){this.column.setPattern(this.before)},s.prototype.reset=function(){this.node.querySelector("input").value=""},s.prototype.submit=function(){var u=this.node.querySelector("input").value;return this.column.setPattern(u),!0},s})(xr);var pq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),dq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"group"})||this;return d.column=u,d.ctx=f,d.handlers=[],d}return pq(s,p),s.prototype.build=function(u){for(var l=0,f=ty(this.column,"group",this.ctx);l<f.length;l++){var d=f[l],_=u.ownerDocument.createElement("strong");_.textContent=d.title,this.node.insertAdjacentElement("beforeend",_),this.handlers.push(d.append(this.column,this.node,this.dialog,this.ctx))}this.handlers.push((function(D,N,I){var G=N.findMyRanker(),B=G.getGroupCriteria(),U=B.indexOf(N),$=U>=0;U<0&&(U=B.length);var K=Ig(I);D.insertAdjacentHTML("afterbegin",`
        <strong>Group By</strong>
        <label class="`.concat(z("checkbox"),'"><input type="radio" name="grouped" value="true" ').concat($?"checked":"",` ><span>Enabled</span></label>
        <label class="`).concat(z("checkbox"),'"><input type="radio" name="grouped" value="false" ').concat($?"":"checked",` ><span>Disabled</span></label>
        <strong>Group Priority</strong>
        <input type="number" id="`).concat(K,'P" step="1" min="1" max="').concat(B.length+1,'" value="').concat(U+1,`">
    `));var nt=function(at){Yi(D,"input:not([name=grouped]), select, textarea",(function(ct){ct.disabled=at}))};return nt(!$),Yi(D,"input[name=grouped]",(function(at){at.addEventListener("change",(function(){var ct=at.value==="true";nt(!ct)}),{passive:!0})})),{elems:"input[name=grouped], #".concat(K,"P"),submit:function(){var at=D.querySelector("input[name=grouped]:checked").value==="true",ct=Number.parseInt(D.querySelector("#".concat(K,"P")).value,10)-1;return G.groupBy(N,at?ct:-1),!0},reset:function(){D.querySelector("input[name=grouped][value=false]").checked=!0,D.querySelector("#".concat(K,"P")).value=(B.length+($?0:1)).toString(),nt(!0)},cancel:function(){G.groupBy(N,B.indexOf(N))}}})(u,this.column,this.dialog.idPrefix));for(var w=0,x=this.handlers;w<x.length;w++){var T=x[w];this.enableLivePreviews(T.elems)}},s.prototype.submit=function(){for(var u=0,l=this.handlers;u<l.length;u++)if(l[u].submit()===!1)return!1;return!0},s.prototype.cancel=function(){for(var u=0,l=this.handlers;u<l.length;u++)l[u].cancel()},s.prototype.reset=function(){for(var u=0,l=this.handlers;u<l.length;u++)l[u].reset()},s})(xr);const vq=dq;var gq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Vs=function(){return Vs=Object.assign||function(p){for(var s,u=1,l=arguments.length;u<l;u++)for(var f in s=arguments[u])Object.prototype.hasOwnProperty.call(s,f)&&(p[f]=s[f]);return p},Vs.apply(this,arguments)};function ry(p){return Math.max(Math.min(p,100),0)}var yq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"dataMapping"})||this;return d.line=u,d.adapter=f,d.dialog.attachment.classList.add(z("mapping-line-selected")),d.before={domain:d.line.domain,range:d.line.range},d}return gq(s,p),s.prototype.build=function(u){var l=this,f=this.adapter.domain();u.insertAdjacentHTML("beforeend",`
        <button class="`.concat(z("dialog-button"),' lu-action-remove" title="Remove" type="button" ').concat(this.line.frozen?'style="display: none"':"",` ><span style="margin-left: 3px">Remove Mapping Line</span></button>
        <strong>Input Domain Value (min ... max)</strong>
        <input type="number" value="`).concat(this.adapter.formatter(this.adapter.unnormalizeRaw(this.line.domain)),'" ').concat(this.line.frozen?"readonly disabled":"",' autofocus required min="').concat(f[0],'" max="').concat(f[1],`" step="any">
        <strong>Output Normalized Value (0 ... 1)</strong>
        <input type="number" value="`).concat(Vt(this.line.range/100,3),`" required min="0" max="1" step="any">
      `)),this.find("button").addEventListener("click",(function(){l.destroy("confirm"),l.line.destroy()}),{passive:!0}),this.enableLivePreviews("input")},s.prototype.cleanUp=function(u){p.prototype.cleanUp.call(this,u),this.dialog.attachment.classList.remove(z("mapping-line-selected"))},s.prototype.cancel=function(){this.line.update(this.before.domain,this.before.range,!0)},s.prototype.reset=function(){this.findInput("input[type=number]").value=Vt(this.adapter.unnormalizeRaw(this.before.domain),3).toString(),this.findInput("input[type=number]:last-of-type").value=Vt(this.before.range/100,3).toString()},s.prototype.submit=function(){if(!this.node.checkValidity())return!1;var u=this.adapter.normalizeRaw(this.findInput("input[type=number]").valueAsNumber),l=100*this.findInput("input[type=number]:last-of-type").valueAsNumber;return this.line.update(u,l,!0),!0},s})(xr),QR=(function(){function p(s,u,l,f){var d=this;this.domain=u,this.range=l,this.adapter=f,s.insertAdjacentHTML("beforeend",'<g class="'.concat(z("dialog-mapper-mapping"),'" transform="translate(').concat(u,`,0)">
      <line x1="0" x2="`).concat(l-u,'" y2="').concat(52,`"></line>
      <line x1="0" x2="`).concat(l-u,'" y2="').concat(52,`"></line>
      <circle r="2"></circle>
      <circle cx="`).concat(l-u,'" cy="').concat(52,`" r="2"></circle>
      <text class="`).concat(z("dialog-mapper-mapping-domain")," ").concat(u>25&&u<75?z("dialog-mapper-mapping-middle"):"").concat(u>75?z("dialog-mapper-mapping-right"):"",`" dy="-3">
        `).concat(this.adapter.formatter(this.adapter.unnormalizeRaw(u)),`
      </text>
      <text class="`).concat(z("dialog-mapper-mapping-range")," ").concat(l>25&&l<75?z("dialog-mapper-mapping-middle"):"").concat(l>50?z("dialog-mapper-mapping-right"):"",'" dy="3" x="').concat(l-u,'" y="').concat(52,`">
        `).concat(Vt(l/100,3),`
      </text>
      <title>Drag the anchor circle to change the mapping, double click to edit</title>
    </g>`)),this.node=s.lastElementChild,this.node.classList.toggle(z("frozen"),Qt(0,u)||Qt(u,100));var _,w,x,T,D=function(I){return 100*I/s.getBoundingClientRect().width},N={container:s.parentElement,filter:function(I){return I.button===0&&!I.shiftKey},onStart:function(I,G){_=d.domain,w=d.range;var B=D(G);x=d.domain-B,T=d.range-B},onEnd:function(){Qt(_,d.domain)&&Qt(w,d.range)||d.adapter.updated(d)}};_p(this.node.querySelector("line:first-of-type"),Vs(Vs({},N),{onDrag:function(I,G){var B=D(G);d.update(ry(B+x),ry(B+T))}})),_p(this.node.querySelector("circle:first-of-type"),Vs(Vs({},N),{onDrag:function(I,G){var B=D(G);d.update(ry(B),d.range)}})),_p(this.node.querySelector("circle:last-of-type"),Vs(Vs({},N),{onDrag:function(I,G){var B=D(G);d.update(d.domain,ry(B))}})),this.node.onclick=function(I){I.shiftKey&&d.openDialog()},this.node.ondblclick=function(){d.openDialog()}}return p.prototype.openDialog=function(){var s={manager:this.adapter.dialog.manager,level:this.adapter.dialog.level+1,attachment:this.node,idPrefix:this.adapter.dialog.idPrefix,sanitize:this.adapter.dialog.sanitize};new yq(this,s,this.adapter).open()},Object.defineProperty(p.prototype,"frozen",{get:function(){return this.node.classList.contains(z("frozen"))},enumerable:!1,configurable:!0}),p.prototype.destroy=function(s){s===void 0&&(s=!1),this.node.remove(),s||this.adapter.destroyed(this)},p.prototype.update=function(s,u,l){if(l===void 0&&(l=!1),Qt(s,100)&&(s=100),Qt(s,0)&&(s=0),Qt(u,100)&&(u=100),Qt(u,0)&&(u=0),!Qt(s,this.domain)||!Qt(u,this.range)){this.frozen&&(s=this.domain),this.domain=s,this.range=u,this.node.setAttribute("transform","translate(".concat(s,",0)"));var f=u-s;Array.from(this.node.querySelectorAll("line")).forEach((function(w){return w.setAttribute("x2",String(f))})),this.node.querySelector("circle[cx]").setAttribute("cx",String(f));var d=this.node.querySelector("text");d.textContent=this.adapter.formatter(this.adapter.unnormalizeRaw(s)),d.classList.toggle(z("dialog-mapper-mapping-right"),s>75),d.classList.toggle(z("dialog-mapper-mapping-middle"),s>=25&&s<=75);var _=this.node.querySelector("text[x]");_.textContent=Vt(u/100,3).toString(),_.classList.toggle(z("dialog-mapper-mapping-right"),u>75),_.classList.toggle(z("dialog-mapper-mapping-middle"),u>=25&&u<=75),_.setAttribute("x",String(f)),l&&this.adapter.updated(this)}},p})(),mq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const _q=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"dataMapping",cancelSubDialogs:!0})||this;d.column=u,d.mappingLines=[],d.mappingAdapter={destroyed:function(w){d.mappingLines.splice(d.mappingLines.indexOf(w),1),d.updateLines(d.computeScale())},updated:function(){return d.updateLines(d.computeScale())},domain:function(){return d.rawDomain},normalizeRaw:d.normalizeRaw.bind(d),unnormalizeRaw:d.unnormalizeRaw.bind(d),dialog:d.dialog,formatter:d.column.getNumberFormat()},d.idPrefix="me".concat(f.idPrefix),d.before=d.column.getMapping().clone(),d.scale=d.column.getMapping().clone();var _=d.scale.domain;return d.rawDomain=[_[0],_[_.length-1]],d.data=Promise.resolve(f.provider.mappingSample(u)),d}return mq(s,p),Object.defineProperty(s.prototype,"scaleType",{get:function(){if(this.scale instanceof qc)return"script";if(this.scale instanceof Fr){var u=this.scale.scaleType;if(u!=="linear")return u;var l=this.scale.range;return l.length===2&&l[0]===1&&l[1]===0?"linear_invert":l.length===3&&l[0]===1&&l[1]===0&&l[2]===1?"linear_abs":"linear"}return"unknown"},enumerable:!1,configurable:!0}),s.prototype.build=function(u){var l=this;u.classList.add(z("dialog-mapper"));var f=this.column.findMyRanker(),d=f?f.flatColumns.filter((function(D){return Xe(D)&&D!==l.column})):[];u.insertAdjacentHTML("beforeend",`
        <div><label for="`.concat(this.idPrefix,'mapping_type"><strong>Normalization Scaling:</strong></label><select id="').concat(this.idPrefix,`mapping_type" class="browser-default">
        <option value="linear">Linear</option>
        <option value="linear_invert">Invert</option>
        <option value="linear_abs">Absolute</option>
        <option value="log">Log</option>
        <option value="pow1.1">Pow 1.1</option>
        <option value="pow2">Pow 2</option>
        <option value="pow3">Pow 3</option>
        <option value="sqrt">Sqrt</option>
        <option value="script">Custom Script</option>
        <option value="unknown">Unknown</option>
        `).concat(d.length>0?'<optgroup label="Copy From">'.concat(d.map((function(D){return'<option value="copy_'.concat(D.id,'">').concat(l.dialog.sanitize(D.label,D.desc.labelAsHTML===!0),"</option>")})).join(""),"</optgroup>"):"",`
      </select>
      </div>
        <div class="`).concat(z("dialog-mapper-warning"),`">
          Warning: All items with values outside of the input domain will be set to the min/max value of the input domain.
        </div>
        <div class="`).concat(z("dialog-mapper-domain"),`">
          <input id="`).concat(this.idPrefix,'min" required type="number" value="').concat(Vt(this.rawDomain[0],3),`" step="any">
          <span>Input Domain (min - max)</span>
          <input id="`).concat(this.idPrefix,'max" required type="number" value="').concat(Vt(this.rawDomain[1],3),`" step="any">
        </div>
        <svg class="`).concat(z("dialog-mapper-details"),`" viewBox="0 0 106 66">
           <g transform="translate(3,7)">
              <rect y="-3" width="100" height="10">
                <title>Click to create a new mapping line</title>
              </rect>
              <rect y="49" width="100" height="10">
                <title>Click to create a new mapping line</title>
              </rect>
           </g>
        </svg>
        <div class=`).concat(z("dialog-mapper-range"),`>
          <span>Output Normalized Domain (0 - 1)</span>
        </div>
        <div class="`).concat(z("dialog-mapper-script"),`">
          <strong>Custom Normalization Script</strong>
          <textarea class="`).concat(z("textarea"),`"></textarea>
        </div>`));var _=u.querySelector(".".concat(z("dialog-mapper-details")," > g"));this.forEach(".".concat(z("dialog-mapper-details")," rect"),(function(D){return D.onclick=function(N){N.preventDefault(),N.stopPropagation();var I=D.getBoundingClientRect(),G=Vt(100*(N.x-I.left)/I.width,2),B=new QR(_,G,G,l.mappingAdapter);l.mappingLines.push(B)}}));var w=this.find("select"),x=this.find("textarea");w.onchange=function(D){var N=D.currentTarget;switch(N.value){case"linear_invert":l.scale=new Fr(l.rawDomain.slice(),"linear",[1,0]);break;case"linear_abs":l.scale=new Fr([l.rawDomain[0],(l.rawDomain[1]-l.rawDomain[0])/2,l.rawDomain[1]],"linear",[1,0,1]);break;case"script":var I=new qc(l.rawDomain.slice());l.scale=I,x.value=I.code;break;case"unknown":l.scale=l.column.getOriginalMapping().clone();break;default:if(N.value.startsWith("copy_"))return void l.copyMapping(N.value.slice(5));l.scale=new Fr(l.rawDomain.slice(),N.value,[0,1])}l.createMappings(),u.dataset.scale=N.value,l.updateLines()};var T=u.dataset.scale=this.scaleType;w.selectedIndex=Array.from(w.options).findIndex((function(D){return D.value===T})),T==="script"&&(x.value=this.scale.code),this.createMappings(),this.forEach("#".concat(this.idPrefix,"min, #").concat(this.idPrefix,"max"),(function(D,N){D.onchange=function(){var I=D.valueAsNumber;if(I!==l.rawDomain[N]){var G=l.rawDomain[1-N];if(Number.isNaN(I)||N===0&&I>=G||N===1&&I<=G)D.setCustomValidity("value has to be ".concat(N===0?"<= max":">= min"));else{D.setCustomValidity(""),l.rawDomain[N]=I,l.updateDomainWarning(),l.scale=l.computeScale();var B=l.scale.domain.slice();B[0]=l.rawDomain[0],B[B.length-1]=l.rawDomain[1],l.scale.domain=B,l.createMappings(),l.updateLines(),l.showLivePreviews()&&l.column.setMapping(l.scale)}}else D.setCustomValidity("")}})),this.data.then((function(D){D.forEach((function(N){Gr(N)||_.insertAdjacentHTML("afterbegin",'<line data-v="'.concat(N,'" x1="').concat(Vt(l.normalizeRaw(N),2),'" x2="').concat(Vt(100*l.scale.apply(N),2),'" y2="52"></line>'))}))})),this.updateDomainWarning()},s.prototype.updateDomainWarning=function(){var u=this.node.querySelector(".".concat(z("dialog-mapper-warning"))),l=this.column.getOriginalMapping().domain,f=this.rawDomain.some((function(d,_){return l[_]!==d}));u.style.display=f?"":"none"},s.prototype.createMappings=function(){if(this.mappingLines.splice(0,this.mappingLines.length).forEach((function(_){return _.destroy(!0)})),this.scale instanceof Fr)for(var u=this.node.querySelector(".".concat(z("dialog-mapper-details")," > g")),l=this.scale.domain,f=this.scale.range,d=0;d<l.length;++d)this.mappingLines.push(new QR(u,this.normalizeRaw(l[d]),100*f[d],this.mappingAdapter))},s.prototype.update=function(){var u=this,l=this.node.dataset.scale=this.scaleType,f=this.find("select");f.selectedIndex=Array.from(f.options).findIndex((function(d){return d.value===l})),l==="script"&&(this.find("textarea").value=this.scale.code),this.forEach("input[type=number]",(function(d,_){d.value=Vt(u.rawDomain[_],3).toString()}))},s.prototype.updateLines=function(u){var l=this;u===void 0&&(u=this.scale),this.forEach(".".concat(z("dialog-mapper-details"),"  > g > line[x1]"),(function(f){var d=Number.parseFloat(f.getAttribute("data-v"));f.setAttribute("x1",Vt(l.normalizeRaw(d),2).toString()),f.setAttribute("x2",Vt(100*u.apply(d),2).toString())}))},s.prototype.reset=function(){this.scale=this.column.getOriginalMapping().clone();var u=this.scale.domain;this.rawDomain=[u[0],u[u.length-1]],this.update(),this.createMappings(),this.updateLines(),this.updateDomainWarning()},s.prototype.copyMapping=function(u){var l=this.column.findMyRanker();if(l){var f=l.find(u);this.scale=f.getMapping().clone(),this.rawDomain=this.scale.domain.slice(),this.update(),this.createMappings(),this.updateLines()}},s.prototype.normalizeRaw=function(u){var l=100*(u-this.rawDomain[0])/(this.rawDomain[1]-this.rawDomain[0]);return Math.max(Math.min(l,100),0)},s.prototype.unnormalizeRaw=function(u){return u*(this.rawDomain[1]-this.rawDomain[0])/100+this.rawDomain[0]},s.prototype.computeScale=function(){var u=this,l=this.scaleType;if(l==="script")return new qc(this.rawDomain.slice(),this.node.querySelector("textarea").value);this.mappingLines.sort((function(_,w){return _.domain-w.domain}));var f=this.mappingLines.map((function(_){return u.unnormalizeRaw(_.domain)})),d=this.mappingLines.map((function(_){return _.range/100}));return new Fr(f,l,d)},s.prototype.submit=function(){if(!this.node.checkValidity())return!1;var u=this.computeScale();return this.column.setMapping(u),!0},s.prototype.cancel=function(){this.column.setMapping(this.before)},s})(xr);var bq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const Sq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"filter",cancelSubDialogs:!0})||this;return d.column=u,d.ctx=f,d.handler=null,d.before=u.getFilter(),d}return bq(s,p),s.prototype.build=function(u){u.classList.add(z("dialog-mapper")),this.handler=(function(l,f,d,_){var w=bp(l),x=_R(l,d);f.innerHTML="".concat(w.template).concat(jg(x,Sp(l)),"</div>");var T=f.firstElementChild;T.classList.add(z("summary"),z("renderer")),T.dataset.renderer="histogram",T.dataset.interactive="",T.classList.add(z("histogram-i"));var D=x.setFilter,N=Sp(l);x.setFilter=function(U,$,K){N={filterMissing:U,filterMin:$,filterMax:K},_&&D(U,$,K)};var I=Yg(T,x),G=function(){var U=d.tasks.summaryNumberStats(l,!0).then((function($){if(typeof $!="symbol"){var K=$.summary,nt=$.data;I(nt?nt.missing:K?K.missing:0,N),T.classList.toggle(z("missing"),!K),K&&w.render(T,K,nt)}}));U&&(T.classList.add(be("loading")),U.then((function(){T.classList.remove(be("loading"))})))},B=l.findMyRanker();return B&&B.on("".concat(fe.EVENT_ORDER_CHANGED,".numberFilter"),(function(){return G()})),G(),{cleanUp:function(){B&&B.on("".concat(fe.EVENT_ORDER_CHANGED,".numberFilter"),null)},reset:function(){N=Sp(l,vi()),G()},submit:function(){D(N.filterMissing,N.filterMin,N.filterMax)}}})(this.column,u,{dialogManager:this.ctx.dialogManager,idPrefix:this.ctx.idPrefix,tasks:this.ctx.provider.getTaskExecutor(),sanitize:this.ctx.sanitize},this.showLivePreviews())},s.prototype.cleanUp=function(u){p.prototype.cleanUp.call(this,u),this.handler.cleanUp()},s.prototype.reset=function(){this.handler.reset()},s.prototype.submit=function(){return this.handler.submit(),!0},s.prototype.cancel=function(){this.column.setFilter(this.before)},s})(xr);function tI(p,s,u){var l=s.getSortMethod();return u.forEach((function(f){return p.insertAdjacentHTML("beforeend",'<label class="'.concat(z("checkbox"),'"><input type="radio" name="multivaluesort" value="').concat(f,'"  ').concat(l===f?"checked":""," ><span>").concat(Kr(f),"</span></label>"))})),Yi(p,"input[name=multivaluesort]",(function(f){f.addEventListener("change",(function(){return s.setSortMethod(f.value)}),{passive:!0})})),{elems:"input[name=multivaluesort]",submit:function(){var f=p.querySelector("input[name=multivaluesort]:checked").value;return s.setSortMethod(f),!0},cancel:function(){s.setSortMethod(l)},reset:function(){p.querySelector('input[name=multivaluesort][value="'.concat(l,'"]')).checked=!0}}}var wq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const xq=(function(p){function s(u,l){var f=p.call(this,l,{livePreview:"reduce"})||this;return f.column=u,f.handler=null,f}return wq(s,p),s.prototype.build=function(u){var l=this,f={getSortMethod:function(){return l.column.getReduce()},setSortMethod:function(d){return l.column.setReduce(d)}};this.handler=tI(u,f,Object.keys(Jr)),this.enableLivePreviews(this.handler.elems)},s.prototype.submit=function(){return this.handler.submit()},s.prototype.reset=function(){this.handler.reset()},s.prototype.cancel=function(){this.handler.cancel()},s})(xr);var Eq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Tq=(function(p){function s(u,l){var f=p.call(this,l)||this;return f.column=u,f.before=u.getMetaData(),f}return Eq(s,p),s.prototype.build=function(u){u.classList.add(z("dialog-rename")),u.insertAdjacentHTML("beforeend",`
      <input type="text" required autofocus placeholder="name">
      <input type="text" placeholder="summary" name="summary">
      <textarea class="`.concat(z("textarea"),'" rows="5" placeholder="description"></textarea>')),u.querySelector("input").value=this.column.label,u.querySelector("input:last-of-type").value=this.column.getMetaData().summary,u.querySelector("textarea").textContent=this.column.description},s.prototype.reset=function(){var u=this.column.desc,l={label:u.label||this.column.id,summary:u.summary||"",description:u.description||""};this.findInput('input[type="text"]').value=l.label,this.findInput('input[name="summary"]').value=l.summary,this.node.querySelector("textarea").value=l.description},s.prototype.submit=function(){var u=this.findInput('input[type="text"]').value,l=this.findInput('input[name="summary"]').value.trim(),f=this.node.querySelector("textarea").value;return this.column.setMetaData({label:u,description:f,summary:l}),!0},s.prototype.cancel=function(){this.column.setMetaData(this.before)},s})(xr);const Cq=Tq;var Aq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const Mq=(function(p){function s(u,l){var f=p.call(this,l)||this;return f.column=u,f.before=u.getScript(),f}return Aq(s,p),s.prototype.build=function(u){u.insertAdjacentHTML("beforeend",'<textarea class="'.concat(z("textarea"),'" autofocus="true" rows="5" autofocus="autofocus" style="width: 95%;">').concat(this.column.getScript(),"</textarea>"))},s.prototype.cancel=function(){this.column.setScript(this.before)},s.prototype.reset=function(){this.node.querySelector("textarea").value=this.column.desc.script||a1.DEFAULT_SCRIPT},s.prototype.submit=function(){return this.column.setScript(this.node.querySelector("textarea").value),!0},s})(xr);var Dq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Lq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"search"})||this;return d.column=u,d.provider=f,d.current=null,d}return Dq(s,p),s.prototype.build=function(u){var l,f=this,d=((l=this.current)===null||l===void 0?void 0:l.filterType)||Q.contains;u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("string-search-dialog"),`">
        <input type="text" size="20" value="" required autofocus placeholder="Enter a search term...">
        <div class="`).concat(z("search-count"),`" hidden>
          <span class="`).concat(z("search-current"),'"></span>/<span class="').concat(z("search-total"),`"></span>
        </div>
        <button type="button" class="`).concat(z("previous-result"),'" title="Previous search result" disabled>').concat(Xn("Previous search result"),`</button>
        <button type="submit" class="`).concat(z("next-result"),'" title="Next search result" disabled>').concat(Xn("Next search result"),`</button>
      </div>
      <details class="`).concat(z("string-advanced-options"),`">
      <summary>Advanced options</summary>
      <span class="`).concat(z("search-options-title"),`">Find rows that &hellip;</span>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(Q.contains,'" ').concat(d===Q.contains?'checked="checked"':"",`>
        <span>Contain the search terms</span>
      </label>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(Q.exact,'" ').concat(d===Q.exact?'checked="checked"':"",`>
        <span>Exactly match the search terms</span>
      </label>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(Q.startsWith,'" ').concat(d===Q.startsWith?'checked="checked"':"",`>
        <span>Start with the search terms</span>
      </label>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(Q.regex,'" ').concat(d===Q.regex?'checked="checked"':"",`>
        <span>Match as regular expression</span>
      </label>
    </details>`));var _=u.querySelector('input[type="text"]'),w=u.querySelectorAll('input[name="searchOptions"]'),x=u.querySelector(".".concat(z("previous-result"))),T=u.querySelector(".".concat(z("next-result"))),D=function(){_.value.length!==0?_.setCustomValidity(""):_.setCustomValidity("Enter a search term")};_.addEventListener("input",D,{passive:!0}),w.forEach((function(N){N.addEventListener("change",(function(){f.current.filterType=N.value,D(),f.searchAndJump()}),{passive:!0})})),x.addEventListener("click",(function(N){N.preventDefault(),N.stopPropagation(),f.jumpToPreviousResult()})),T.addEventListener("click",(function(N){N.preventDefault(),N.stopPropagation(),f.jumpToNextResult()})),this.enableLivePreviews((function(N,I,G){for(var B,U=0,$=I.length;U<$;U++)!B&&U in I||(B||(B=Array.prototype.slice.call(I,0,U)),B[U]=I[U]);return N.concat(B||Array.prototype.slice.call(I))})([_],Array.from(w))),this.showLivePreviews()&&_.addEventListener("input",Ba((function(){return f.searchAndJump()}),100),{passive:!0})},s.prototype.jumpToPreviousResult=function(){if(this.current){var u=this.find(".".concat(z("search-count"))).querySelector(".".concat(z("search-current"))),l=(this.current.index-1+this.current.indices.length)%this.current.indices.length;this.current.index=l,u.textContent=String(l+1),this.provider.jumpToNearest([this.current.indices[l]])}},s.prototype.jumpToNextResult=function(){if(this.current){var u=this.find(".".concat(z("search-count"))).querySelector(".".concat(z("search-current"))),l=(this.current.index+1)%this.current.indices.length;this.current.index=l,u.textContent=String(l+1),this.provider.jumpToNearest([this.current.indices[l]])}},s.prototype.searchAndJump=function(){var u=this.findInput('input[type="text"]'),l=this.node.querySelector('input[name="searchOptions"]:checked'),f=this.find(".".concat(z("previous-result"))),d=this.find(".".concat(z("next-result"))),_=this.find(".".concat(z("search-count"))),w=l?.value||Q.contains,x=w==Q.regex?new RegExp(u.value,"mi"):u.value;if(x instanceof RegExp)x.lastIndex=0;else if(x.length===0)return this.current=null,f.disabled=!0,d.disabled=!0,_.hidden=!0,!1;var T=this.provider.searchAndJump(x,this.column,!0,w);if(T){this.current={search:x,filterType:w,indices:T,index:0};var D=_.querySelector(".".concat(z("search-current"))),N=_.querySelector(".".concat(z("search-total")));return D.textContent=String(T.length<1?this.current.index:this.current.index+1),N.textContent=String(T.length),_.hidden=!1,f.disabled=T.length<1,d.disabled=T.length<1,T.length>1}return this.current=null,_.hidden=!0,f.disabled=!0,d.disabled=!0,!0},s.prototype.submit=function(){return!0},s.prototype.reset=function(){this.provider.jumpToNearest([-1]);var u=this.findInput('input[type="text"]'),l=this.find(".".concat(z("previous-result"))),f=this.find(".".concat(z("next-result"))),d=this.find(".".concat(z("search-count")));this.current=null,u.value="";var _=this.node.querySelector('input[name="searchOptions"][value="'.concat(Q.contains,'"]'));_&&(_.checked=!0),l.disabled=!0,f.disabled=!0,d.hidden=!0},s.prototype.cancel=function(){},s})(xr);const Nq=Lq;var Rq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Iq=(function(p){function s(u,l){var f=p.call(this,l)||this;return f.provider=u,f.before=f.provider.getShowTopN(),f}return Rq(s,p),s.prototype.build=function(u){u.classList.add(z("dialog-rename")),u.insertAdjacentHTML("beforeend",`
      <input type="number" min="0" step="1" value="`.concat(this.dialog.sanitize(String(this.before)),'">')),this.enableLivePreviews("input")},s.prototype.cancel=function(){this.provider.setShowTopN(this.before)},s.prototype.submit=function(){var u=this.findInput("input").valueAsNumber;return this.provider.setShowTopN(u),!0},s.prototype.reset=function(){this.findInput("input").value="10"},s})(xr);const Oq=Iq;var Pq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),kq=(function(p){function s(u,l,f,d){var _=p.call(this,f,{livePreview:l?"groupSort":"sort"})||this;return _.column=u,_.groupSortBy=l,_.ctx=d,_.handlers=[],_}return Pq(s,p),s.prototype.build=function(u){for(var l=0,f=ty(this.column,this.groupSortBy?"sortGroup":"sort",this.ctx);l<f.length;l++){var d=f[l],_=this.node.ownerDocument.createElement("strong");_.textContent=d.title,this.node.insertAdjacentElement("beforeend",_),this.handlers.push(d.append(this.column,this.node,this.dialog,this.ctx))}this.handlers.push((function(D,N,I,G){G===void 0&&(G=!1);var B=N.findMyRanker(),U=G?B.getGroupSortCriteria():B.getSortCriteria(),$=Object.assign({},G?N.isGroupSortedByMe():N.isSortedByMe()),K=$.priority===void 0?U.length:$.priority,nt=Ig(I);D.insertAdjacentHTML("afterbegin",`
        <strong>Sort Order</strong>
        <label class="`.concat(z("checkbox"),'"><input type="radio" name="sortorder" value="asc"  ').concat($.asc==="asc"?"checked":"",` ><span>Ascending</span></label>
        <label class="`).concat(z("checkbox"),'"><input type="radio" name="sortorder" value="desc"  ').concat($.asc==="desc"?"checked":"",` ><span>Descending</span></label>
        <label class="`).concat(z("checkbox"),'"><input type="radio" name="sortorder" value="none"  ').concat($.asc===void 0?"checked":"",` ><span>Unsorted</span></label>
        <strong>Sort Priority</strong>
        <input type="number" id="`).concat(nt,'P" step="1" min="1" max="').concat(U.length+1,'" value="').concat(K+1,`">
    `));var at=function(ct){Yi(D,"input:not([name=sortorder]), select, textarea",(function(wt){wt.disabled=ct}))};return at($.asc===void 0),Yi(D,"input[name=sortorder]",(function(ct){ct.addEventListener("change",(function(){at(ct.value==="none")}),{passive:!0})})),{elems:"input[name=sortorder], #".concat(nt,"P"),submit:function(){var ct=D.querySelector("input[name=sortorder]:checked").value,wt=Number.parseInt(D.querySelector("#".concat(nt,"P")).value,10)-1;return G?B.groupSortBy(N,ct==="asc",ct==="none"?-1:wt):B.sortBy(N,ct==="asc",ct==="none"?-1:wt),!0},reset:function(){D.querySelector("input[name=sortorder][value=none]").checked=!0,D.querySelector("#".concat(nt,"P")).value=(U.length+($.priority===void 0?1:0)).toString(),at(!0)},cancel:function(){G?B.groupSortBy(N,$.asc==="asc",$.asc===void 0?-1:$.priority):B.sortBy(N,$.asc==="asc",$.asc===void 0?-1:$.priority)}}})(u,this.column,this.dialog.idPrefix,this.groupSortBy));for(var w=0,x=this.handlers;w<x.length;w++){var T=x[w];this.enableLivePreviews(T.elems)}},s.prototype.submit=function(){for(var u=0,l=this.handlers;u<l.length;u++)if(l[u].submit()===!1)return!1;return!0},s.prototype.cancel=function(){for(var u=0,l=this.handlers;u<l.length;u++)l[u].cancel()},s.prototype.reset=function(){for(var u=0,l=this.handlers;u<l.length;u++)l[u].reset()},s})(xr);const eI=kq;var Vq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const Gq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"filter"})||this;return d.column=u,d.ctx=f,d.before=d.column.getFilter(),d}return Vq(s,p),s.prototype.updateFilter=function(u,l,f){f===void 0&&(f=Q.contains),u!=null||l?this.column.setFilter({filter:u,filterMissing:l,filterType:f}):this.column.setFilter(null)},s.prototype.reset=function(){this.findInput('input[type="text"]').value="",this.forEach("input[type=checkbox]",(function(l){return l.checked=!1}));var u=this.node.querySelector('input[name="searchOptions"][value="'.concat(Q.contains,'"]'));u&&(u.checked=!0)},s.prototype.cancel=function(){this.before?this.updateFilter(this.before.filter===""?null:this.before.filter,this.before.filterMissing,this.before.filterType||Q.contains):this.updateFilter(null,!1,Q.contains)},s.prototype.submit=function(){var u=gp(this.node).checked,l=this.findInput('input[type="text"]').value,f=this.node.querySelector('input[name="searchOptions"]:checked'),d=f?.value||Q.contains;return this.updateFilter((function(_,w){var x=_.trim();return x===""?null:w===Q.regex?new RegExp(x,"mi"):x})(l,d),u,d),!0},s.prototype.build=function(u){var l=this,f=this.ctx.sanitize,d=this.column.getFilter()||{filter:"",filterMissing:!1,filterType:Q.contains},_=d.filterType||Q.contains,w=d.filter instanceof RegExp?Q.regex:_;u.insertAdjacentHTML("beforeend",'<input type="text" placeholder="Filter '.concat(f(this.column.desc.label),` " autofocus
         value="`).concat(M1(d),'" list="').concat(this.dialog.idPrefix,`_sdl">
    `).concat(T1(d.filterMissing),`
    <datalist id="`).concat(this.dialog.idPrefix,`_sdl"></datalist>
    <details class="`).concat(z("string-advanced-options"),`">
      <summary>Advanced options</summary>
      <span class="`).concat(z("search-options-title"),`">Find rows that &hellip;</span>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(Q.contains,'" ').concat(w===Q.contains?'checked="checked"':"",`>
        <span>Contain the search terms</span>
      </label>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(Q.exact,'" ').concat(w===Q.exact?'checked="checked"':"",`>
        <span>Exactly match the search terms</span>
      </label>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(Q.startsWith,'" ').concat(w===Q.startsWith?'checked="checked"':"",`>
        <span>Start with the search terms</span>
      </label>
      <label class="`).concat(z("checkbox"),`">
        <input type="radio" name="searchOptions" value="`).concat(Q.regex,'" ').concat(w===Q.regex?'checked="checked"':"",`>
        <span>Match as regular expression</span>
      </label>
    </details>`));var x=gp(u),T=u.querySelector('input[type="text"]'),D=u.querySelectorAll('input[name="searchOptions"]'),N=u.querySelector("datalist");this.ctx.provider.getTaskExecutor().summaryStringStats(this.column).then((function(I){if(typeof I!="symbol"){var G=I.summary;kN(N,G.topN)}})),this.enableLivePreviews((function(I,G,B){for(var U,$=0,K=G.length;$<K;$++)!U&&$ in G||(U||(U=Array.prototype.slice.call(G,0,$)),U[$]=G[$]);return I.concat(U||Array.prototype.slice.call(G))})([x,T],Array.from(D))),this.showLivePreviews()&&T.addEventListener("input",Ba((function(){l.findInput('input[type="text"]').value.length>0&&!l.before&&(gp(l.node).checked=!0),l.submit()}),100),{passive:!0})},s})(xr);var Fq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Bq=(function(p){function s(u,l){var f=p.call(this,l)||this;return f.column=u,f.weights=f.column.getWeights(),f}return Fq(s,p),s.prototype.cancel=function(){this.column.setWeights(this.weights.slice())},s.prototype.reset=function(){var u=100/this.weights.length;Yi(this.node,"input[type=number]",(function(l){var f=Vt(u,2);l.value=String(f),l.nextElementSibling.firstElementChild.style.width="".concat(f,"%")}))},s.prototype.build=function(u){var l=this,f=this.column.children;u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-table"),`">
        `).concat(this.weights.map((function(_,w){return'<div class="'.concat(z("dialog-weights-table-entry"),`">
          <input type="number" value="`).concat(Vt(100*_,2),`" min="0" max="100" step="any" required>
          <span class="`).concat(z("dialog-filter-color-bar"),`">
            <span style="background-color: `).concat(x1(f[w]),"; width: ").concat(Vt(100*_,2),`%"></span>
          </span>
          `).concat(l.dialog.sanitize(f[w].label),`
        </div>`)})).join(""),`
    </div>`));var d=Array.from(this.node.querySelectorAll("input[type=number]"));d.forEach((function(_,w){_.oninput=function(){var x=_.valueAsNumber;if(x<=0?_.setCustomValidity("weight cannot be zero"):_.setCustomValidity(""),l.updateBar(_),d.length===2){var T=100-x;T<=0?_.setCustomValidity("weight cannot be 100 in case of two elements"):_.setCustomValidity("");var D=d[1-w];D.value=Vt(T,2).toString(),l.updateBar(D)}}}))},s.prototype.updateBar=function(u){u.nextElementSibling.firstElementChild.style.width="".concat(u.value,"%")},s.prototype.distributeWeights=function(){var u=Array.from(this.node.querySelectorAll("input[type=number]")).map((function(U){return{input:U,weight:U.value?U.valueAsNumber:NaN}}));if(u.some((function(U){return Number.isNaN(U.weight)}))){var l=u.filter((function(U){return Number.isNaN(U.weight)})),f=u.filter((function(U){return!Number.isNaN(U.weight)})).reduce((function(U,$){return U+$.weight}),0);if(f<100){for(var d=(100-f)/l.length,_=0,w=l;_<w.length;_++)(B=w[_]).input.value=Vt(d,2).toString(),this.updateBar(B.input);return}for(var x=0,T=l;x<T.length;x++)(B=T[x]).input.value="0",this.updateBar(B.input)}var D=u.map((function(U){return U.weight}));if(!rI(D))for(var N=D.reduce((function(U,$){return U+$}),0),I=0,G=u;I<G.length;I++){var B;(B=G[I]).input.value=Vt(100*B.weight/N,2).toString(),this.updateBar(B.input)}},s.prototype.appendDialogButtons=function(){var u=this;p.prototype.appendDialogButtons.call(this);var l=this.node.querySelector(".".concat(z("dialog-buttons")));l.insertAdjacentHTML("beforeend",'<button class="'.concat(z("dialog-button")," ").concat(z("dialog-weights-distribute-button"),'" type="button" title="distribute weights"></button>')),l.lastElementChild.onclick=function(f){f.preventDefault(),f.stopPropagation(),u.distributeWeights()}},s.prototype.submit=function(){for(var u=Array.from(this.node.querySelectorAll("input[type=number]")).map((function(x){return{input:x,weight:x.valueAsNumber}})),l=!1,f=0,d=u;f<d.length;f++){var _=d[f];_.weight<=0?(_.input.setCustomValidity("weight cannot be zero"),l=!0):_.input.setCustomValidity("")}var w=u.map((function(x){return x.weight}));return l||rI(w)||(u[u.length-1].input.setCustomValidity("sum of weights has to be 100, change weights or use the redistribute button to fix"),l=!0),l?(typeof this.node.reportValidity=="function"&&this.node.reportValidity(),!1):(this.column.setWeights(w.map((function(x){return x/100}))),!0)},s})(xr);const Hq=Bq;function rI(p){return Math.abs(p.reduce((function(s,u){return s+u}),0)-100)<3}var zq=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Uq=(function(p){function s(u,l,f){var d=p.call(this,l,{livePreview:"filter"})||this;return d.column=u,d.ctx=f,d.before=d.column.getFilter(),d}return zq(s,p),s.prototype.updateFilter=function(u){this.column.setFilter(u)},s.prototype.reset=function(){this.findInput("input[value=none]").checked=!0},s.prototype.cancel=function(){this.before?this.updateFilter(this.before):this.updateFilter(null)},s.prototype.submit=function(){var u,l,f=(l=(u=this.findInput("input[name=mode]:checked"))===null||u===void 0?void 0:u.value)!==null&&l!==void 0?l:"keep";return f==="none"?this.updateFilter(null):f==="update"&&this.updateFilter(this.ctx.provider.getSelection()),!0},s.prototype.guessRemoveFilter=function(){var u=this,l=this.ctx.provider.getTotalNumberOfRows();return this.column.findMyRanker().flatColumns.some((function(f){return f.isFiltered()&&f!==u.column}))?"?":l.toLocaleString()},s.prototype.build=function(u){var l,f=(l=this.column.getFilter())!==null&&l!==void 0?l:[],d=this.ctx.provider.getSelection().length,_=this.ctx.provider.getTotalNumberOfRows(),w=this.column.findMyRanker().getOrderLength();if(d===0&&f.length===0)u.insertAdjacentText("beforeend","Select rows to apply this filter");else if(d>0&&f.length===0)u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-table"),`">
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry")," ").concat(z("dialog-table-entry-wide"),`">
          <input type="radio" checked="checked" name="mode" value="none">
          <span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`">No filter</div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),'">').concat(w.toLocaleString(),"/").concat(_.toLocaleString(),`</div>
          </span>
        </label>
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry")," ").concat(z("dialog-table-entry-wide"),`">
          <input type="radio" name="mode" value="update">
          <span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`">Set filter to current selection</div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),'">').concat(d.toLocaleString(),"/").concat(_.toLocaleString(),`</div>
          </span>
        </label>
      </div>`));else{var x=this.guessRemoveFilter();u.insertAdjacentHTML("beforeend",'<div class="'.concat(z("dialog-table"),`" >
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry")," ").concat(z("dialog-table-entry-wide"),`">
          <input type="radio" `).concat(f.length===0?'checked="checked"':"",` name="mode" value="none">
          <span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`">Remove filter</div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),'">').concat(x,"/").concat(_.toLocaleString(),`</div>
          </span>
        </label>
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry")," ").concat(z("dialog-table-entry-wide"),`">
          <input type="radio" `).concat(f.length>0?'checked="checked"':"",` name="mode" value="keep">
          <span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`">Keep current filter</div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),'">').concat(f.length.toLocaleString(),"/").concat(_.toLocaleString(),`</div>
          </span>
        </label>
        <label class="`).concat(z("checkbox")," ").concat(z("dialog-filter-table-entry")," ").concat(z("dialog-table-entry-wide"),`">
          <input type="radio" name="mode" value="update" `).concat(d===0?'disabled="disabled"':"",`>
          <span>
            <div class="`).concat(z("dialog-filter-table-entry-label"),`">Set filter to current selection</div>
            <div class="`).concat(z("dialog-filter-table-entry-stats"),'">').concat(d.toLocaleString(),"/").concat(_.toLocaleString(),`</div>
          </span>
        </label>
      </div>`))}var T=Array.from(u.querySelectorAll("input"));this.enableLivePreviews(T)},s})(xr);const Wq=Uq;function Ep(p,s,u){return u===void 0&&(u={}),{title:p,onClick:s,options:u}}function Vn(p,s,u,l){return u===void 0&&(u=function(){return[]}),l===void 0&&(l={}),{title:p,onClick:function(f,d,_,w){new(s.bind.apply(s,(function(x,T,D){if(arguments.length===2)for(var N,I=0,G=T.length;I<G;I++)!N&&I in T||(N||(N=Array.prototype.slice.call(T,0,I)),N[I]=T[I]);return x.concat(N||Array.prototype.slice.call(T))})([void 0,f,Li(_,w,d)],u(_),!1)))().open()},options:l}}var jq={title:"Sort",onClick:function(p,s,u,l){if(u.dialogManager.removeAboveLevel(l),s.ctrlKey){var f=p.findMyRanker(),d=f.getSortCriteria(),_=p.isSortedByMe(),w=Ms(p);if(_.priority!==void 0){var x;x=w?_.asc?"desc":void 0:_.asc?void 0:"asc",f.sortBy(p,x==="asc",x?_.priority:-1)}else f.sortBy(p,w,d.length)}else p.toggleMySorting()},options:{mode:"shortcut",order:1,featureCategory:"ranking",featureLevel:"basic"}},Yq={title:"Sort By ",onClick:function(p,s,u,l){new eI(p,!1,Li(u,l,s),u).open()},options:{mode:"menu",order:1,featureCategory:"ranking",featureLevel:"advanced"}},$q={title:"Sort Groups By ",onClick:function(p,s,u,l){new eI(p,!0,Li(u,l,s),u).open()},options:{mode:"menu",order:3,featureCategory:"ranking",featureLevel:"advanced"}},qq={title:"Rename ",onClick:function(p,s,u,l){new Cq(p,Li(u,l,s)).open()},options:{order:5,featureCategory:"ui",featureLevel:"advanced"}},Xq={title:"Remove",onClick:function(p,s,u){u.dialogManager.removeAll();var l=p.findMyRanker();l.children.every((function(f){return kl(f)||f.fixed||f===p}))?(u.provider.removeRanking(l),u.provider.ensureOneRanking()):p.removeMe()},options:{order:90,featureCategory:"model",featureLevel:"advanced"}};function nI(p,s,u,l){u.dialogManager.removeAboveLevel(l);var f=p;f.setCollapsed(!f.getCollapsed());var d=f.getCollapsed(),_=s.currentTarget;_.title=d?"Expand":"Compress",_.classList.toggle(z("action-compress"),!d),_.classList.toggle(z("action-expand"),d);var w=_.getElementsByTagName("span")[0];w&&(w.textContent=_.title)}var Zq={vis:{title:"Visualization ",onClick:function(p,s,u,l){new q$(p,Li(u,l,s),u).open()},options:{featureCategory:"ui",featureLevel:"advanced"}},group:Ep("Group",(function(p,s,u,l){if(u.dialogManager.removeAboveLevel(l),s.ctrlKey){var f=p.findMyRanker(),d=f.getGroupCriteria(),_=d.indexOf(p);f.groupBy(p,_>=0?-1:d.length)}else p.groupByMe()}),{mode:"shortcut",order:2,featureCategory:"ranking",featureLevel:"basic"}),groupBy:Ep("Group By ",(function(p,s,u,l){new vq(p,Li(u,l,s),u).open()}),{mode:"menu",order:2,featureCategory:"ranking",featureLevel:"advanced"}),compress:{title:"Compress",enabled:function(p){return!p.getCollapsed()},onClick:nI,options:{featureCategory:"model",featureLevel:"advanced"}},expand:{title:"Expand",enabled:function(p){return p.getCollapsed()},onClick:nI,options:{featureCategory:"model",featureLevel:"advanced"}},sort:jq,sortBy:Yq,sortGroupBy:$q,clone:{title:"Clone",onClick:function(p,s,u){u.dialogManager.removeAll(),u.provider.takeSnapshot(p)},options:{order:80,featureCategory:"model",featureLevel:"advanced"}},remove:Xq,rename:qq,setShowTopN:{title:"Change Show Top N",onClick:function(p,s,u,l){new Oq(u.provider,Li(u,l,s)).open()},options:{featureCategory:"ui",featureLevel:"advanced"}},search:Vn("Search ",Nq,(function(p){return[p.provider]}),{mode:"menu+shortcut",order:4,featureCategory:"ranking",featureLevel:"basic"}),filterNumber:Vn("Filter ",Sq,(function(p){return[p]}),{order:8,mode:"menu+shortcut",featureCategory:"ranking",featureLevel:"basic"}),filterDate:Vn("Filter ",cq,(function(p){return[p]}),{order:8,mode:"menu+shortcut",featureCategory:"ranking",featureLevel:"basic"}),filterString:Vn("Filter ",Gq,(function(p){return[p]}),{order:8,mode:"menu+shortcut",featureCategory:"ranking",featureLevel:"basic"}),filterSelection:Vn("Filter ",Wq,(function(p){return[p]}),{order:8,mode:"menu+shortcut",featureCategory:"ranking",featureLevel:"basic"}),filterCategorical:Vn("Filter ",U$,(function(p){return[p]}),{order:8,mode:"menu+shortcut",featureCategory:"ranking",featureLevel:"basic"}),filterOrdinal:Vn("Filter ",j$,(function(){return[]}),{order:8,mode:"menu+shortcut",featureCategory:"ranking",featureLevel:"basic"}),colorMapped:Vn("Color Mapping ",K$,(function(p){return[p]}),{mode:"menu",featureCategory:"ui",featureLevel:"advanced"}),colorMappedCategorical:Vn("Color Mapping ",B$,(function(){return[]}),{mode:"menu",featureCategory:"ui",featureLevel:"advanced"}),script:Vn("Edit Combine Script ",Mq,(function(){return[]}),{mode:"menu+shortcut",featureCategory:"model",featureLevel:"advanced"}),reduce:Vn("Reduce by ",xq,(function(){return[]}),{featureCategory:"model",featureLevel:"advanced"}),cutoff:Vn("Set Cut Off ",sq,(function(p){return[p]}),{featureCategory:"model",featureLevel:"advanced"}),editMapping:Vn("Data Mapping ",_q,(function(p){return[p]}),{mode:"menu+shortcut",featureCategory:"model",featureLevel:"advanced"}),editPattern:Vn("Edit Pattern ",hq,(function(p){return[p]}),{featureCategory:"model",featureLevel:"advanced"}),editWeights:Vn("Edit Weights ",Hq,(function(){return[]}),{mode:"menu+shortcut",featureCategory:"model",featureLevel:"advanced"}),compositeContained:Vn("Contained Columns ",iq,(function(p){return[p]}),{featureCategory:"model",featureLevel:"advanced"}),splitCombined:Ep("Split Combined Column",(function(p,s,u,l){u.dialogManager.removeAboveLevel(l-1),p.children.reverse().forEach((function(f){return p.insertAfterMe(f)})),p.removeMe()}),{featureCategory:"model",featureLevel:"advanced"}),clearSelection:Ep("Clear Selection",(function(p,s,u,l){u.dialogManager.removeAboveLevel(l-1),u.provider.getSelection().length>0&&u.provider.setSelection([])}),{featureCategory:"model",featureLevel:"advanced",order:11}),invertSelection:Ep("Invert Selection",(function(p,s,u,l){u.dialogManager.removeAboveLevel(l-1);var f=u.provider.getSelection(),d=Array.from(p.findMyRanker().getOrder());if(f.length!==0){var _=new Set(f),w=d.filter((function(x){return!_.has(x)}));u.provider.setSelection(w)}else u.provider.setSelection(d)}),{featureCategory:"model",featureLevel:"advanced",order:10})};function Tp(p){return p=p.sort((function(s,u){return s.toLowerCase().localeCompare(u.toLowerCase())})),{title:"Sort By",order:2,append:function(s,u){return tI(u,s,p)}}}var Kq={sortNumber:Tp(Object.keys(Jr)),sortNumbers:Tp(Object.keys(Jr)),sortBoxPlot:Tp(Object.keys(Vc)),sortDates:Tp(Object.keys(zo)),sortGroups:Tp(["count","name"]),groupNumber:{title:"Split",order:2,append:function(p,s,u){var l=p.getMapping().domain,f=p.getGroupThresholds(),d=f.length<=1,_=p.findMyRanker();s.insertAdjacentHTML("beforeend",`
    <label class="`.concat(z("checkbox"),`">
      <input type="radio" name="threshold" value="threshold" `).concat(d?"checked":"",`>
      <span>at&nbsp;<input type="number" size="10" id="`).concat(u.idPrefix,'N1" value="').concat(f.length>0?f[0]:Vt((l[1]-l[0])/2,2),`"
          required min="`).concat(l[0],'" max="').concat(l[1],'" step="any" ').concat(d?"":"disabled",`>
      </span>
    </label>
    <label class="`).concat(z("checkbox"),`">
      <input type="radio" name="threshold" value="bins" `).concat(d?"":"checked",`>
      <span> in&nbsp;<input type="number" size="5" id="`).concat(u.idPrefix,'N2" value="').concat(f.length>1?f.length:V(_.getOrderLength()),`"
          required min="2" step="1" `).concat(d?"disabled":"",`>&nbsp;bins
      </span>
    </label>
  `));var w=s.querySelector("#".concat(u.idPrefix,"N1")),x=s.querySelector("#".concat(u.idPrefix,"N2"));return Yi(s,"input[name=threshold]",(function(T){T.addEventListener("change",(function(){var D=T.value==="threshold";w.disabled=!D,x.disabled=D}),{passive:!0})})),{elems:"input[name=threshold], #".concat(u.idPrefix,"N1, #").concat(u.idPrefix,"N2"),submit:function(){if(s.querySelector("input[name=threshold]:checked").value==="threshold")return p.setGroupThresholds([w.valueAsNumber]),!0;for(var T=Number.parseInt(x.value,10),D=(l[1]-l[0])/T,N=l[0]+D,I=[N],G=1;G<T-1;++G)N+=D,I.push(N);return p.setGroupThresholds(I),!0},cancel:function(){p.setGroupThresholds(f)},reset:function(){var T=Vt((l[1]-l[0])/2,2);w.value=T.toString(),w.disabled=!1,x.value=V(_.getOrderLength()).toString(),x.disabled=!0,s.querySelector("input[name=threshold][value=threshold]").checked=!0}}}},groupString:{title:"Groups",order:2,append:function(p,s,u){var l=p.getGroupCriteria(),f=l.type,d=l.values;s.insertAdjacentHTML("beforeend",`
    <label class="`.concat(z("checkbox"),`">
      <input type="radio" name="`).concat(u.idPrefix,'groupString" value="').concat(Tn.value,'" id="').concat(u.idPrefix,'VAL" ').concat(f===Tn.value?"checked":"",`>
      <span>Use text value</span>
    </label>
    <label class="`).concat(z("checkbox"),`">
      <input type="radio" name="`).concat(u.idPrefix,'groupString" value="').concat(Tn.startsWith,'" id="').concat(u.idPrefix,'RW" ').concat(f===Tn.startsWith?"checked":"",`>
      <span>Text starts with </span>
    </label>
    <label class="`).concat(z("checkbox"),`">
      <input type="radio" name="`).concat(u.idPrefix,'groupString" value="').concat(Tn.regex,'" id="').concat(u.idPrefix,'RE" ').concat(f===Tn.regex?"checked":"",`>
      <span>Use regular expressions</span>
    </label>
    <textarea rows="5" placeholder="one value per row, e.g., 
A
B" id="`).concat(u.idPrefix,'T">').concat(d.map((function(N){return N instanceof RegExp?N.source:N})).join(`
`),`</textarea>
  `));var _=s.querySelector("#".concat(u.idPrefix,"VAL")),w=s.querySelector("#".concat(u.idPrefix,"RW")),x=s.querySelector("#".concat(u.idPrefix,"RE")),T=s.querySelector("#".concat(u.idPrefix,"T")),D=function(N){T.style.display=N?null:"none"};return D(f!==Tn.value),_.onchange=function(){return D(!_.checked)},w.onchange=function(){return D(w.checked)},x.onchange=function(){return D(x.checked)},{elems:[T,_,w,x],submit:function(){var N=s.querySelector('input[name="'.concat(u.idPrefix,'groupString"]:checked')).value,I=T.value.trim().split(`
`).map((function(G){return G.trim()})).filter((function(G){return G.length>0}));return N===Tn.regex&&(I=I.map((function(G){return new RegExp(G.toString(),"mi")}))),p.setGroupCriteria({type:N,values:I}),!0},cancel:function(){p.setGroupCriteria(l)},reset:function(){T.value="",w.checked=!0}}}},groupDate:{title:"Granularity",order:2,append:function(p,s){for(var u=p.getDateGrouper(),l="",f=0,d=["century","decade","year","month","week","day_of_week","day_of_month","day_of_year","hour","minute","second"];f<d.length;f++){var _=d[f];l+='<label class="'.concat(z("checkbox"),`">
    <input type="radio" name="granularity" value="`).concat(_,'" ').concat(u.granularity===_?"checked":"",`>
    <span> by `).concat(_,` </span>
  </label>`)}l+='<label class="'.concat(z("checkbox"),`">
    <input type="checkbox" name="circular" `).concat(u.circular?"checked":"",`>
    <span> Circular </span>
  </label>`),s.insertAdjacentHTML("beforeend",l);var w=s.querySelector("input[name=circular]");return{elems:"input[name=granularity],input[name=circular]",submit:function(){var x=s.querySelector("input[name=granularity]:checked").value;return p.setDateGrouper({granularity:x,circular:w.checked}),!0},cancel:function(){p.setDateGrouper(u)},reset:function(){var x="month",T=!1;w.checked=T,s.querySelector('input[name=granularity][value="'.concat(x,'"]')).checked=!0}}}}};function Jq(p,s,u){var l=[];return s.forEach((function(f){Object.prototype.hasOwnProperty.call(u,f)?l.push(u[f]):console.warn('cannot find toolbar action of type: "'.concat(p.desc.type,'" with key "').concat(f,'"'))})),l}function Qq(p,s,u){var l=[];return s.forEach((function(f){Object.prototype.hasOwnProperty.call(u,f)?l.push(u[f]):console.warn('cannot find toolbar dialog addon of type: "'.concat(p.desc.type,'" with key "').concat(f,'"'))})),l}function rS(){return{toolbarActions:Zq,toolbarDialogAddons:Kq,resolveToolbarActions:Jq,resolveToolbarDialogAddons:Qq,renderers:Object.assign({},k$),canRender:function(){return!0},labelRotation:0,summaryHeader:!0,animated:!0,expandLineOnHover:!1,sidePanel:!0,sidePanelCollapsed:!1,hierarchyIndicator:!0,defaultSlopeGraphMode:"item",overviewMode:!1,livePreviews:{search:!0,filter:!0,vis:!0,sort:!0,group:!0,groupSort:!0,colorMapping:!0},onDialogBackgroundClick:"confirm",selectionActivateFilter:!0,rowHeight:18,groupHeight:40,groupPadding:5,rowPadding:2,levelOfDetail:function(){return"high"},customRowUpdate:function(){},dynamicHeight:function(){return null},flags:{disableFrozenColumns:!0,advancedRankingFeatures:!0,advancedModelFeatures:!0,advancedUIFeatures:!0,combineViaDragNDrop:!0},ignoreUnsupportedBrowser:!1,copyableRows:!0,instanceId:Math.random().toString(36).slice(-8).substring(0,3)}}function ny(p,s){var u=p;if(!s)return u;var l=Object.keys(s);if(l.length===0)return u;for(var f=0,d=l;f<d.length;f++){var _=d[f],w=s[_];Object.prototype.toString.call(w)==="[object Object]"&&Object.getPrototypeOf(w)===Object.prototype?(u[_]==null&&(u[_]={}),u[_]=ny(u[_],w)):Array.isArray(w)?(u[_]==null&&(u[_]=[]),u[_]=u[_].concat(w)):u[_]=w}return u}var iI=function(p,s,u){for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))},tX=function(p,s,u){this.name=p,this.version=s,this.os=u,this.type="browser"},eX=function(p){this.version=p,this.type="node",this.name="node",this.os=process.platform},rX=function(p,s,u,l){this.name=p,this.version=s,this.os=u,this.bot=l,this.type="bot-device"},nX=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},iX=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},aX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,oX=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],aI=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function oI(p){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new iX:typeof navigator<"u"?sX(navigator.userAgent):typeof process<"u"&&process.version?new eX(process.version.slice(1)):null}function sX(p){var s=(function(x){return x!==""&&oX.reduce((function(T,D){var N=D[0],I=D[1];if(T)return T;var G=I.exec(x);return!!G&&[N,G]}),!1)})(p);if(!s)return null;var u=s[0],l=s[1];if(u==="searchbot")return new nX;var f=l[1]&&l[1].split(".").join("_").split("_").slice(0,3);f?f.length<3&&(f=iI(iI([],f,!0),(function(x){for(var T=[],D=0;D<x;D++)T.push("0");return T})(3-f.length))):f=[];var d=f.join("."),_=(function(x){for(var T=0,D=aI.length;T<D;T++){var N=aI[T],I=N[0];if(N[1].exec(x))return I}return null})(p),w=aX.exec(p);return w&&w[1]?new rX(u,d,_,w[1]):new tX(u,d,_)}var lX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),uX=(function(p){function s(u){var l=p.call(this)||this;l.escKeyListener=function(_){_.which===27&&l.removeLast()},l.openDialogs=[];var f=u.doc;l.livePreviews=u.livePreviews,l.onDialogBackgroundClick=u.onDialogBackgroundClick,l.node=f.createElement("div"),l.node.classList.add(z("backdrop"));var d=f.createElement("div");return d.classList.add(z("backdrop-bg")),l.node.appendChild(d),l.node.onclick=function(){l.removeAll()},l}return lX(s,p),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_DIALOG_CLOSED,s.EVENT_DIALOG_OPENED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},Object.defineProperty(s.prototype,"maxLevel",{get:function(){return this.openDialogs.reduce((function(u,l){return Math.max(u,l.level)}),0)},enumerable:!1,configurable:!0}),s.prototype.setHighlight=function(u){var l=this.node.firstElementChild;l.style.clipPath=l.style.webkitClipPath=`polygon(
      0% 0%,
      0% 100%,
      `.concat(u.left,`px 100%,
      `).concat(u.left,"px ").concat(u.top,`px,
      `).concat(u.left+u.width,"px ").concat(u.top,`px,
      `).concat(u.left+u.width,"px ").concat(u.top+u.height,`px,
      `).concat(u.left,"px ").concat(u.top+u.height,`px,
      `).concat(u.left,`px 100%,
      100% 100%,
      100% 0%
    )`)},s.prototype.setHighlightColumn=function(u){var l=this.node.parentElement;if(l){var f=l.querySelector(".".concat(z("header"),'[data-col-id="').concat(u.id,'"]'));if(f){var d=f.getBoundingClientRect(),_=l.getBoundingClientRect();this.setHighlight({left:d.left-_.left,top:d.top-_.top,width:d.width,height:_.height})}else this.clearHighlight()}else this.clearHighlight()},s.prototype.clearHighlight=function(){this.node.firstElementChild.style.clipPath=null},s.prototype.removeLast=function(){this.openDialogs.length!==0&&this.remove(this.openDialogs[this.openDialogs.length-1])},s.prototype.removeAll=function(){var u=this;this.openDialogs.length!==0&&(this.openDialogs.splice(0,this.openDialogs.length).reverse().forEach((function(l){return l.cleanUp(u.onDialogBackgroundClick)})),this.takeDown())},s.prototype.triggerDialogClosed=function(u,l){this.fire(s.EVENT_DIALOG_CLOSED,u,l)},s.prototype.remove=function(u,l){var f=this;l===void 0&&(l=!1);var d=this.openDialogs.indexOf(u);if(d<0)return!1;for(this.openDialogs.splice(d,this.openDialogs.length-d).reverse().forEach((function(_){return _.cleanUp(l?"handled":f.onDialogBackgroundClick)}));l&&this.openDialogs.length>0&&this.openDialogs[this.openDialogs.length-1].autoClose;)this.openDialogs.pop().cleanUp(this.onDialogBackgroundClick);return this.openDialogs.length===0&&this.takeDown(),!0},s.prototype.removeAboveLevel=function(u){var l=this;this.openDialogs.filter((function(f){return f.level>=u})).reverse().forEach((function(f){return l.remove(f)}))},s.prototype.removeLike=function(u){var l=this.openDialogs.find((function(f){return u.equals(f)}));return!!l&&(this.remove(l),!0)},s.prototype.setUp=function(){this.node.ownerDocument.addEventListener("keyup",this.escKeyListener,{passive:!0}),this.node.style.display="block"},s.prototype.takeDown=function(){this.clearHighlight(),this.node.ownerDocument.removeEventListener("keyup",this.escKeyListener),this.node.style.display=null},s.prototype.push=function(u){this.removeAboveLevel(u.level),this.openDialogs.length===0&&this.setUp(),this.openDialogs.push(u),this.fire(s.EVENT_DIALOG_OPENED,u)},s.EVENT_DIALOG_OPENED="dialogOpened",s.EVENT_DIALOG_CLOSED="dialogClosed",s})(pa);const pf=uX;var cX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),ba=(function(p){function s(u,l,f){var d=p.call(this)||this;d.node=u,d._data=l,d.highlightListeners=0;var _=(function(){var w=oI();if(!w||!w.version)return"browser cannot be detected";var x="unsupported browser detected:";switch(w.name){case"firefox":var T=Number.parseInt(w.version.slice(0,w.version.indexOf(".")),10);return T<=57&&T!==52?"".concat(x," Firefox ").concat(w.version," (&lt; ").concat(57,")"):null;case"edge":return Number.parseInt(w.version.slice(0,w.version.indexOf(".")),10)<=16?"".concat(x," Edge ").concat(w.version," (&lt; ").concat(16,")"):null;case"chrome":return Number.parseInt(w.version.slice(0,w.version.indexOf(".")),10)<=64?"".concat(x," Chrome ").concat(w.version," (&lt; ").concat(64,")"):null;case"ie":return"".concat(x," Internet Explorer")}return console.warn("unknown browser detected",w,"assuming fine..."),null})();return d.isBrowserSupported=f||!_,d.isBrowserSupported||(d.node.classList.add(z("unsupported-browser")),d.node.innerHTML="<span>".concat(_,`</span>
      <div class="`).concat(z("unsupported-browser"),`">
        <a href="https://www.mozilla.org/en-US/firefox/" rel="noopener" target="_blank" data-browser="firefox" data-version="`).concat(57,`"></a>
        <a href="https://www.google.com/chrome/index.html" rel="noopener" target="_blank" data-browser="chrome" data-version="`).concat(64,`" title="best support"></a>
        <a href="https://www.microsoft.com/en-us/windows/microsoft-edge" rel="noopener" target="_blank" data-browser="edge" data-version="`).concat(16,`"></a>
      </div><span>use the <code>ignoreUnsupportedBrowser=true</code> option to ignore this error at your own risk</span>`)),d.forward(l,"".concat(Ce.EVENT_SELECTION_CHANGED,".main")),l.on("".concat(Ce.EVENT_BUSY,".busy"),(function(w){return d.node.classList.toggle(z("busy"),w)})),d}return cX(s,p),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_HIGHLIGHT_CHANGED,s.EVENT_SELECTION_CHANGED,s.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},Object.defineProperty(s.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),s.prototype.destroy=function(){me(this.node),this._data.destroy()},s.prototype.dump=function(){return this.data.dump()},s.prototype.restore=function(u){this._data.restore(u)},s.prototype.setDataProvider=function(u,l){var f=this;this._data&&(this.unforward(this._data,"".concat(Ce.EVENT_SELECTION_CHANGED,".taggle")),this._data.on("".concat(Ce.EVENT_BUSY,".busy"),null)),this._data=u,l&&u.restore(l),this.forward(u,"".concat(Ce.EVENT_SELECTION_CHANGED,".taggle")),u.on("".concat(Ce.EVENT_BUSY,".busy"),(function(d){return f.node.classList.toggle(z("busy"),d)}))},s.prototype.getSelection=function(){return this._data.getSelection()},s.prototype.setSelection=function(u){this._data.setSelection(u)},s.prototype.sortBy=function(u,l){l===void 0&&(l=!1);var f=this.data.find(u);return f&&f.sortByMe(l),f!=null},s.prototype.listenersChanged=function(u,l){p.prototype.listenersChanged.call(this,u,l),u.startsWith(s.EVENT_HIGHLIGHT_CHANGED)&&(l?(this.highlightListeners++,this.highlightListeners===1&&this.enableHighlightListening(!0)):(this.highlightListeners-=1,this.highlightListeners===0&&this.enableHighlightListening(!1)))},s.prototype.enableHighlightListening=function(u){},s.prototype.addCopyListener=function(){var u=this;this.node.addEventListener("copy",(function(l){var f;u.data&&u.data.getFirstRanking()&&(f=u.data.getSelection().length===0?u.data.exportTable(u.data.getFirstRanking()):u.data.exportSelection(),l.preventDefault(),p1(f)?f.then((function(d){l.clipboardData.setData("text/plain",d),l.clipboardData.setData("text/tsv",d)})):(l.clipboardData.setData("text/plain",f),l.clipboardData.setData("text/tsv",f)))}))},s.EVENT_SELECTION_CHANGED=Ce.EVENT_SELECTION_CHANGED,s.EVENT_DIALOG_OPENED=pf.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED=pf.EVENT_DIALOG_CLOSED,s.EVENT_HIGHLIGHT_CHANGED="highlightChanged",s})(pa);const fX=ba;var Nr;(function(p){p[p.UPDATE=0]="UPDATE",p[p.UPDATE_CREATE=1]="UPDATE_CREATE",p[p.UPDATE_REMOVE=2]="UPDATE_REMOVE",p[p.SHOW=3]="SHOW",p[p.HIDE=4]="HIDE"})(Nr||(Nr={}));var ou=[{delay:0,apply:function(p){var s=p.mode,u=p.previous,l=p.nodeY,f=p.current,d=p.node;d.dataset.animation=Nr[s].toLowerCase(),d.style.transform="translate(0, ".concat(u.y-l,"px)"),s===Nr.SHOW?d.style.height=f.height!==null?"".concat(f.height,"px"):"":d.style.height="".concat(u.height,"px"),s===Nr.SHOW?d.style.opacity="0":s===Nr.HIDE?d.style.opacity="1":d.style.opacity=""}},{delay:10,apply:function(p){var s=p.mode,u=p.current,l=p.nodeY,f=p.node;f.style.transform=s===Nr.HIDE||s===Nr.UPDATE_REMOVE?"translate(0, ".concat(u.y-l,"px)"):"",s!==Nr.HIDE&&(f.style.height=u.height!==null?"".concat(u.height,"px"):""),s===Nr.SHOW?f.style.opacity="1":s===Nr.HIDE?f.style.opacity="0":f.style.opacity=""}},{delay:1100,apply:function(p){var s=p.node;delete s.dataset.animation,s.style.opacity="",s.style.transform=""}}],hX=(function(){function p(s,u){var l=this;this.context=s,this.key=u,this.cache=[],this.lastFilled=0,this.key2index=new Map,this.context.exceptions.forEach((function(f){l.cache[f.index]=f.y,l.key2index.set(u(f.index),f.index)}))}return p.prototype.findValidStart=function(s){for(var u=s-1;u>=0;u-=1)if(this.cache[u]!==void 0)return u;return-1},p.prototype.posByKey=function(s){var u=this.key2index.get(s);return u!=null?{index:u,pos:this.pos(u)}:this.fillCacheTillKey(s)},p.prototype.pos=function(s){if(this.context.exceptions.length===0)return s*this.context.defaultRowHeight;var u=this.cache[s];if(u!==void 0)return u;var l=this.findValidStart(s);return l<0?this.fillCache(0,s,0):this.fillCache(l+1,s,this.cache[l]+this.heightOf(l)),this.cache[s]},p.prototype.fillCache=function(s,u,l,f){if(u<=this.lastFilled){if(!f)return;for(var d=s;d<=u;d+=1)f(d,this.key(d),this.cache[d])}else{var _=l;for(d=s;d<=u;d+=1){this.cache[d]=_;var w=this.key(d);this.key2index.set(w,d),f&&f(d,w,_),_+=this.heightOf(d)}}},p.prototype.heightOf=function(s){var u;return(u=this.context.exceptionsLookup.get(s))!==null&&u!==void 0?u:this.context.defaultRowHeight},p.prototype.exceptionHeightOf=function(s,u){u===void 0&&(u=!1);var l=this.context.padding(s),f=this.context.exceptionsLookup.get(s);return f!=null?f-l:u?this.context.defaultRowHeight-l:null},p.prototype.padding=function(s){return this.context.padding(s)},p.prototype.fillCacheTillKey=function(s){for(var u=0,l=this.lastFilled;l<this.context.numberOfRows;l+=1,this.lastFilled+=1){var f=this.cache[l];if(f===void 0){var d=this.key(l);if(this.cache[l]=u,this.key2index.set(d,l),d===s)return{index:l,pos:u};u+=this.heightOf(l)}else u=f+this.heightOf(l)}return{index:-1,pos:-1}},p.prototype.positions=function(s,u,l,f){this.fillCache(s,u,l,f)},p})();const sI=hX;var lI="animation",pX=(function(){function p(s){var u=this;this.node=s,this.sync={handler:[],prev:null,timer:-1},this.animation={handler:[],prev:null,timer:-1},this.numbers=new Map,this.handleAnimationImpl=function(){u.animation.timer===1&&(u.handle(u.animation),u.animation.timer=-1)},s.addEventListener("scroll",(function(){u.sync.handler.length>0&&u.handle(u.sync),u.handleAnimation(),u.handleTimeouts()}),{passive:!0})}return Object.defineProperty(p.prototype,"current",{get:function(){return this.asInfo()},enumerable:!1,configurable:!0}),p.prototype.handle=function(s){var u=this.current;if(!(s.prev&&Math.abs(u.left-s.prev.left)+Math.abs(u.top-s.prev.top)<4)){s.prev=u;for(var l=0,f=s.handler;l<f.length;l++)(0,f[l])(u)}},p.prototype.handleAnimation=function(){this.animation.timer===-1&&this.animation.handler.length!==0&&(this.animation.timer=1,requestAnimationFrame(this.handleAnimationImpl))},p.prototype.handleTimeouts=function(){var s=this;this.numbers.size!==0&&this.numbers.forEach((function(u,l){u.handler.length!==0&&(u.timer=self.setTimeout((function(){s.handle(u),u.timer=-1}),l))}))},p.prototype.asInfo=function(){return{left:this.node.scrollLeft,top:this.node.scrollTop,width:this.node.clientWidth,height:this.node.clientHeight}},p.prototype.push=function(s,u){var l;if(typeof s=="number"){var f=(l=this.numbers.get(s))!==null&&l!==void 0?l:{handler:[],prev:null,timer:-1};f.handler.push(u),this.numbers.set(s,f)}switch(s){case"sync":this.sync.handler.push(u);break;case"animation":this.animation.handler.push(u)}},p.prototype.remove=function(s){return[this.sync,this.animation].concat(Array.from(this.numbers.values())).some((function(u){var l=u.handler.indexOf(s);return l>=0&&u.handler.splice(l,1),l>=0}))},p.prototype.isWaiting=function(s){var u,l;switch(s){case"animation":return this.animation.timer>=0;case"sync":return!1;default:return((l=(u=this.numbers.get(s))===null||u===void 0?void 0:u.timer)!==null&&l!==void 0?l:-1)>=0}},p})();function iy(p,s,u){var l=p;l.__le_scroller__||(l.__le_scroller__=new pX(p));var f=l.__le_scroller__;return f.push(s,u),f.asInfo()}function uI(p,s){var u=p;return!!u.__le_scroller__&&u.__le_scroller__.isWaiting(s)}function ay(p){for(;p.lastChild;)p.removeChild(p.lastChild);return p}var Kn,dX=(function(){function p(s,u,l){this.index=s,this.y=u,this.height=l}return Object.defineProperty(p.prototype,"y2",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),p})();function Cp(p,s,u){s===void 0&&(s=Number.NaN),u===void 0&&(u=0);var l=new Map,f=[],d=typeof u=="function"?u:function(){return u},_=s;Number.isNaN(_)&&(_=(function(N){var I=new Map;if(N.forEach((function(U){I.set(U,(I.get(U)||0)+1)})),I.size===0)return 20;var G=Array.from(I).sort((function(U,$){return U[1]!==$[1]?$[1]-U[1]:U[0]-$[0]})),B=G[0][0];return B===0?G.length>1?G[1][0]:20:B})(p)),_+=d(-1);var w=-1,x=0,T=0,D=0;return p.forEach((function(N,I){var G=N+d(I);if(T+=G,D+=1,G!==_){l.set(I,G);var B=(I-w-1)*_;w=I;var U=x+B;x=U+G,f.push(new dX(I,U,G))}})),{exceptionsLookup:l,exceptions:f,totalHeight:T,defaultRowHeight:_,numberOfRows:D,padding:d}}function Gs(p,s,u,l,f){if(f===0)return{first:0,last:-1,firstRowPos:0,endPos:0};if(f===1)return{first:0,last:0,firstRowPos:0,endPos:l.length===0?u:l[0].y2};var d=p,_=d+s;function w(Ot,Wt){return Math.min(f-1,Wt+Math.max(0,Math.floor(Ot/u)))}function x(Ot,Wt){var ut=_-Ot,kt=w(d-Ot,Wt),jt=w(ut,Wt);return{first:kt,last:jt,firstRowPos:Ot+(kt-Wt)*u,endPos:Ot+(jt+1-Wt)*u}}var T=x(0,0);if(l.length===0||T.last<l[0].index)return T;if(T.last===l[0].index&&l[0].height>u)return Object.assign(T,{endPos:l[0].y2});var D=l[l.length-1];if(d>=D.y){var N=x(D.y2,D.index+1);return d<D.y2?Object.assign(N,{first:D.index,firstRowPos:D.y}):N}for(var I=[],G=l[0],B=0,U=l;B<U.length;B++){var $=U[B],K=$.y,nt=$.y2;if(K>=_)break;nt<=d?G=$:I.push($)}if(I.length===0)return x(G.y2,G.index+1);var at=I[0],ct=I[I.length-1],wt=Math.max(0,at.index-Math.max(0,Math.ceil((at.y-d)/u))),Tt=ct.index;return _>=ct.y2&&(Tt=w(_-ct.y2,ct.index+1)),{first:wt,last:Tt,firstRowPos:at.y-(at.index-wt)*u,endPos:ct.y2+(Tt-ct.index)*u}}function cI(p,s,u){for(var l=p.length===0?0:p[p.length-1]+1,f=[],d=[],_=p.length-1;_>=0&&p[_]>=u;_-=1)d.push(p.pop());for(_=l;_<u;_+=1)s[_].frozen&&(f.push(_),p.push(_));return{target:p,added:f,removed:d}}function Ue(p){return p?"".concat("le","-").concat(p):"le"}(function(p){p[p.NONE=0]="NONE",p[p.ALL=1]="ALL",p[p.SOME=2]="SOME",p[p.SOME_BOTTOM=3]="SOME_BOTTOM",p[p.SOME_TOP=4]="SOME_TOP"})(Kn||(Kn={}));var Fs=Ue("loading"),oy=Ue("frozen"),fI=Ue("hidden"),vX=Ue("multi"),gX=Ue("even"),sy=Ue("shifted"),yX=Ue("scrollbar-tester"),mX=Ue("header"),_X=Ue("body"),nS=Ue("footer"),bX=Ue("thead"),SX=Ue("tbody"),hI=Ue("tr"),pI=Ue("th"),dI=Ue("td"),vI=Ue("scrolling"),wX=Ue("row-animation"),iS=function(){return iS=Object.assign||function(p){for(var s,u=1,l=arguments.length;u<l;u++)for(var f in s=arguments[u])Object.prototype.hasOwnProperty.call(s,f)&&(p[f]=s[f]);return p},iS.apply(this,arguments)};function ly(p){return p.classList.contains(Fs)}var xX=(function(){function p(s,u){u===void 0&&(u={});var l=this;this.body=s,this.pool=[],this.loadingPool=[],this.loading=new WeakMap,this.visible={first:0,forcedFirst:0,last:-1,forcedLast:-1},this.visibleFirstRowPos=0,this.scrollListener=null,this.lastScrollInfo=null,this.abortAnimation=function(){},this.options={async:lI,minScrollDelta:10,mixins:[],scrollingHint:!1,batchSize:10,striped:!1,viewportOversize:200},this.adapter=this.createAdapter(),Object.assign(this.options,u),this.mixins=this.options.mixins.map((function(f){return new f(l.adapter)})),this.fragment=s.ownerDocument.createDocumentFragment()}return p.prototype.addMixin=function(s,u){this.mixins.push(new s(this.adapter,u))},p.prototype.createAdapter=function(){var s=this,u=this;return{visible:this.visible,addAtBeginning:function(l,f){return s.addAtBeginning(l,f)},addAtBottom:this.addAtBottom.bind(this),removeFromBeginning:function(l,f){return s.removeFromBeginning(l,f)},removeFromBottom:this.removeFromBottom.bind(this),updateOffset:this.updateOffset.bind(this),isScrollEventWaiting:function(){return uI(s.bodyScroller,s.options.async)},get visibleFirstRowPos(){return u.visibleFirstRowPos},get context(){return u.context},get scrollOffset(){return u.lastScrollInfo?u.lastScrollInfo.top:0},get scrollTotal(){return u.lastScrollInfo?u.lastScrollInfo.height:u.bodyScroller.clientHeight}}},Object.defineProperty(p.prototype,"bodyScroller",{get:function(){return this.body.parentElement},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"bodySizer",{get:function(){var s=this.bodyScroller,u=Array.from(s.children).find((function(f){return f.tagName.toLowerCase()==="footer"}));if(u)return u;var l=s.ownerDocument.createElement("footer");return l.classList.add(nS,Ue("footer-".concat(this.idPrefix))),s.insertBefore(l,s.firstChild),l},enumerable:!1,configurable:!0}),p.prototype.init=function(){var s=this,u=this.bodyScroller,l=iy(u,this.options.async,this.scrollListener=function(f){if(s.lastScrollInfo=f,!(Math.abs(l.top-f.top)<s.options.minScrollDelta&&Math.abs(l.height-f.height)<s.options.minScrollDelta)){var d=f.top>l.top;l=f,s.onScrolledVertically(f.top,f.height,d),s.options.scrollingHint&&s.body.classList.remove(vI)}});this.options.scrollingHint&&iy(u,"animation",(function(){return s.body.classList.add(vI)})),this.recreate()},p.prototype.destroy=function(){this.scrollListener&&(function(s,u){var l=s;l.__le_scroller__&&l.__le_scroller__.remove(u)})(this.bodyScroller,this.scrollListener),this.body.remove()},p.cleanUp=function(s){s.style.height=""},p.prototype.select=function(s){var u,l=this.pool.pop();return l!=null?u=this.updateRow(l,s):(l=this.loadingPool.pop())!=null?(l.classList.remove(Fs),u=this.createRow(l,s)):((l=this.body.ownerDocument.createElement("div")).classList.add(hI,Ue("tr-".concat(this.idPrefix))),u=this.createRow(l,s)),l.dataset.index=String(s),this.options.striped&&l.classList.toggle(gX,s%2==0),{item:l,result:u}},p.prototype.selectProxy=function(){var s=this.loadingPool.pop();return s==null&&(s=this.body.ownerDocument.createElement("div")).classList.add(Fs,hI,Ue("tr-".concat(this.idPrefix))),s},p.prototype.recycle=function(s){p.cleanUp(s);var u=this.loading.get(s);u!=null?u.abort():this.pool.push(s)},p.prototype.proxy=function(s,u){var l=this;if(!Kl(u))return s;var f=u,d=s,_=this.selectProxy();return _.dataset.index=d.dataset.index,_.style.height=d.style.height,this.loading.set(_,f),f.then((function(w){w===Zn?(p.cleanUp(d),l.pool.push(d)):l.body.replaceChild(d,_),l.loading.delete(_),p.cleanUp(_),l.loadingPool.push(_)}),(function(){p.cleanUp(d),l.pool.push(d),l.loading.delete(_),p.cleanUp(_),l.loadingPool.push(_)})),_},p.prototype.create=function(s){var u=this.select(s),l=u.item,f=u.result,d=this.context,_=d.exceptionsLookup,w=d.padding,x=_.get(s);return x!=null&&(l.style.height="".concat(x-w(s),"px")),this.proxy(l,f)},p.prototype.removeAll=function(s){s===void 0&&(s=!0);var u=this.body;if(!s)return Array.from(u.children);for(var l=[];u.lastElementChild;){var f=u.lastElementChild;u.removeChild(f),this.recycle(f),l.push(f)}return l},p.prototype.update=function(){var s=this,u=this.visible.first,l=this.fragment,f=Array.from(this.body.children);ay(this.body),f.forEach((function(d,_){if(s.loading.has(d))l.appendChild(d);else{var w=s.updateRow(d,_+u);l.appendChild(s.proxy(d,w))}})),this.body.appendChild(l)},p.prototype.forEachRow=function(s,u){var l=this;u===void 0&&(u=!1);var f=Array.from(this.body.children),d=this.fragment;u||ay(this.body),f.forEach((function(_,w){ly(_)||_.dataset.animation==="update_remove"||_.dataset.animation==="hide"||s(_,w+l.visible.first),u||d.appendChild(_)})),u||this.body.appendChild(d)},p.prototype.removeFromBeginning=function(s,u,l){return l===void 0&&(l=!0),this.remove(s,u,!0,l)},p.prototype.removeFromBottom=function(s,u,l){return l===void 0&&(l=!0),this.remove(s,u,!1,l)},p.prototype.remove=function(s,u,l,f){if(f===void 0&&(f=!0),u<s)return[];for(var d=this.body,_=[],w=l?d.firstChild:d.lastChild,x=s;x<=u;x+=1){var T=w;w=l?w.nextSibling:w.previousSibling,f&&(d.removeChild(T),this.recycle(T)),_.push(T)}return _},p.prototype.addAtBeginning=function(s,u,l){if(l===void 0&&(l=!0),u<s)return null;var f=this.fragment;if(s===u&&l)return this.body.insertBefore(this.create(s),this.body.firstChild),null;for(var d=s;d<=u;d+=1)f.appendChild(this.create(d));return l&&this.body.insertBefore(f,this.body.firstChild),f},p.prototype.addAtBottom=function(s,u,l){if(l===void 0&&(l=!0),u<s)return null;if(s===u&&l)return this.body.appendChild(this.create(s)),null;for(var f=this.fragment,d=s;d<=u;d+=1)f.appendChild(this.create(d));return l&&this.body.appendChild(f),f},p.prototype.updateOffset=function(s){this.visibleFirstRowPos=s,this.updateSizer(s)},p.prototype.updateSizer=function(s){var u=this.context.totalHeight;Ap(this.body,0,s.toFixed(0)),Ap(this.bodySizer,0,Math.max(0,u-1).toFixed(0))},p.prototype.recreate=function(s){return this.abortAnimation(),s?this.recreateAnimated(s):this.recreatePure()},p.prototype.recreatePure=function(){var s=this.context,u=this.bodyScroller;this.updateOffset(0),this.removeAll(),this.clearPool();var l=Gs(u.scrollTop,u.clientHeight,s.defaultRowHeight,s.exceptions,s.numberOfRows),f=l.first,d=l.last,_=l.firstRowPos;this.visible.first=f,this.visible.forcedFirst=f,this.visible.last=d,this.visible.forcedLast=d,f<0?this.updateOffset(0):(this.addAtBottom(f,d),this.updateOffset(_))},p.prototype.recreateAnimated=function(s){var u=this,l=new Map,f=new sI(s.previous,s.previousKey),d=new sI(this.context,s.currentKey),_=Gs(this.bodyScroller.scrollTop,this.bodyScroller.clientHeight,d.context.defaultRowHeight,d.context.exceptions,d.context.numberOfRows),w=Array.from(this.body.children),x=iS({},this.visible);ay(this.body),f.positions(x.first,Math.min(x.last,x.first+w.length),this.visibleFirstRowPos,(function(G,B,U){var $=w[G];$&&l.set(B,{n:$,pos:U,i:G})})),this.visible.first=_.first,this.visible.forcedFirst=_.first,this.visible.last=_.last,this.visible.forcedLast=_.last;var T=this.fragment,D=[],N=_.firstRowPos;d.positions(_.first,_.last,_.firstRowPos,(function(G,B,U){var $,K,nt=Nr.UPDATE,at=l.get(B);if(at!=null)l.delete(B),at.n.dataset.index=String(G),$=u.proxy(at.n,u.updateRow(at.n,G)),K={index:at.i,y:at.pos,height:f.exceptionHeightOf(at.i,!0)};else{var ct=f.posByKey(B);$=u.create(G),nt=ct.index<0?Nr.SHOW:Nr.UPDATE_CREATE,K={index:ct.index,y:ct.pos>=0?ct.pos:U,height:ct.index<0?d.exceptionHeightOf(G,!0):f.exceptionHeightOf(ct.index,!0)}}D.push({node:$,key:B,mode:nt,previous:K,nodeY:N,nodeYCurrentHeight:U,current:{index:G,y:U,height:d.exceptionHeightOf(G)}}),$.style.transform="translate(0, ".concat(N-U,"px)"),N+=K.height+(K.index<0?d.padding(G):f.padding(K.index)),T.appendChild($)}));var I=_.endPos;l.forEach((function(G,B){var U=d.posByKey(B),$=U.pos>=0?U.pos:G.pos,K=G.n;K.style.transform="translate(0, ".concat(G.pos-N,"px)"),T.appendChild(K);var nt=f.exceptionHeightOf(G.i,!0);D.push({node:G.n,key:B,mode:U.index<0?Nr.HIDE:Nr.UPDATE_REMOVE,previous:{index:G.i,y:G.pos,height:nt},nodeY:N,nodeYCurrentHeight:I,current:{index:U.index,y:$,height:U.index<0?null:d.exceptionHeightOf(U.index)}}),I+=U.index<0?d.context.defaultRowHeight:d.exceptionHeightOf(U.index,!0)+d.padding(U.index),N+=nt+f.padding(G.i)})),this.updateOffset(_.firstRowPos),this.animate(D,s.phases||ou,f,d,T)},p.prototype.animate=function(s,u,l,f,d){var _=this,w=s;if(w.length<=0)this.body.appendChild(d);else{for(var x=-1,T=0,D=function(B,U){U===void 0&&(U=w),U.forEach((function($){return B.apply($,l,f)}))},N=function(){if(console.assert(w[0].node.offsetTop>=0,"dummy log for forcing dom update"),D(u[T]),(T+=1)<u.length){var B=u[T];x=self.setTimeout(N,B.delay)}else{var U=_.body.classList;Array.from(U).forEach((function($){$.startsWith(Ue())&&$.endsWith("-animation")&&U.remove($)})),w.forEach((function($){var K=$.node,nt=$.mode;nt!==Nr.UPDATE_REMOVE&&nt!==Nr.HIDE||(K.remove(),K.style.transform="",_.recycle(K))})),_.abortAnimation=function(){},x=-1}};u[T].delay===0;)D(u[T]),T+=1;var I=this.body;this.body.appendChild(d);var G=[];w=w.filter((function(B){return!(function(U,$,K){var nt=U.previous,at=U.mode,ct=U.nodeY,wt=U.current,Tt=nt.height==null?$:nt.height,Ot=wt.height==null?K:wt.height;return at===Nr.UPDATE&&Math.abs(nt.y-ct)<=1&&Math.abs(Tt-Ot)<=1})(B,l.context.defaultRowHeight,f.context.defaultRowHeight)||(G.push(B),!1)})),G.length>0&&u.slice(T).forEach((function(B){return D(B,G)})),w.length!==0&&(I.classList.add(wX),new Set(w.map((function(B){return B.mode}))).forEach((function(B){I.classList.add(Ue("".concat(Nr[B].toLowerCase().split("_")[0],"-animation")))})),this.abortAnimation=function(){x<=0||(clearTimeout(x),x=-1,T=u.length-1,N())},x=self.setTimeout(N,u[T].delay))}},p.prototype.clearPool=function(){this.pool.splice(0,this.pool.length)},p.prototype.revalidate=function(){var s=this.bodyScroller;this.onScrolledVertically(s.scrollTop,s.clientHeight,!0),this.updateOffset(this.visibleFirstRowPos)},p.prototype.onScrolledVertically=function(s,u,l){for(var f=this.options.viewportOversize,d=Math.max(0,s-f),_=this.onScrolledImpl(d,u+f+(s-d)),w=0,x=this.mixins;w<x.length;w++)x[w].onScrolled(l,_);return _},p.prototype.shiftLast=function(s,u){if(u>=this.options.batchSize)return s;var l=this.context.numberOfRows;return Math.min(l-1,s+(this.options.batchSize-u))},p.prototype.shiftFirst=function(s,u,l){var f;if(l>=this.options.batchSize||s<=0)return{first:s,firstRowPos:u};for(var d=Math.max(0,s-(this.options.batchSize-l)),_=this.context,w=_.exceptionsLookup,x=_.defaultRowHeight,T=u,D=d;D<s;D+=1)T-=(f=w.get(D))!==null&&f!==void 0?f:x;return{first:d,firstRowPos:T}},p.prototype.onScrolledImpl=function(s,u){var l=this.context,f=Gs(s,u,l.defaultRowHeight,l.exceptions,l.numberOfRows),d=f.first,_=f.last,w=f.firstRowPos,x=this.visible;if(x.forcedFirst=d,x.forcedLast=_,d-x.first>=0&&_-x.last<=0)return Kn.NONE;var T,D,N=Kn.SOME,I=!1;if(d>x.last||_<x.first)T=this.removeAll(!1),D=this.addAtBottom(d,_,!1),I=!0,N=Kn.ALL;else if(d<x.first){x.last-(_+1)>=this.options.batchSize?T=this.removeFromBottom(_+1,x.last,!1):_=x.last;var G=this.shiftFirst(d,w,x.first-1-d);d=G.first,w=G.firstRowPos,D=this.addAtBeginning(d,x.first-1,!1),I=!1,N=Kn.SOME_TOP}else d-1-x.first>=this.options.batchSize?T=this.removeFromBeginning(x.first,d-1,!1):(d=x.first,w=this.visibleFirstRowPos),_=this.shiftLast(_,_-x.last+1),D=this.addAtBottom(x.last+1,_,!1),I=!0,N=Kn.SOME_BOTTOM;return x.first=d,x.last=_,this.updateOffset(w),this.manipulate(T,D,I),N},p.prototype.manipulate=function(s,u,l){if(s)for(var f=0,d=s;f<d.length;f++){var _=d[f];_.remove(),this.recycle(_)}u&&(l?this.body.appendChild(u):this.body.insertBefore(u,this.body.firstChild))},p})();function Ap(p,s,u){var l="translate(".concat(s,"px, ").concat(u,"px)"),f=p;f.__transform__!==l&&(f.__transform__=l,p.style.transform=l)}function aS(p,s){for(var u=p,l=0,f=Object.keys(s);l<f.length;l++){var d=f[l],_=s[d];if(_.endsWith(" !important")){var w=_.slice(0,-11);if(u[d]!==w){u[d]=w;var x=d.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase();p.setProperty(x,w,"important")}}else u[d]!==_&&(u[d]=_)}}var EX=(function(){function p(s){this.rules=[],this.testVerifyTimeout=-1,this.node=s.ownerDocument.createElement("style"),this.node.appendChild(s.ownerDocument.createTextNode("")),s.appendChild(this.node)}return p.prototype.destroy=function(){this.node.remove()},p.prototype.verifySheet=function(){var s=this,u=this.sheet;if(u){var l=u.cssRules;if(l.length!==this.rules.length||!this.rules.every((function(D,N){return l[N].selectorText===D.selector}))){for(var f=l.length-1;f>=0;f-=1)u.deleteRule(f);for(var d=0,_=this.rules;d<_.length;d++){var w=_[d],x=u.insertRule("".concat(w.selector," {}"),u.cssRules.length),T=u.cssRules[x];w.selector=T.selectorText,aS(T.style,w.style)}}}else{if(this.testVerifyTimeout>=0)return;this.testVerifyTimeout=self.setTimeout((function(){s.testVerifyTimeout=-1,s.verifySheet()}),20)}},Object.defineProperty(p.prototype,"sheet",{get:function(){return this.node.sheet},enumerable:!1,configurable:!0}),p.prototype.getSheetRule=function(s){var u=this.sheet;return u?u.cssRules[s]:null},p.prototype.addRule=function(s,u,l){this.verifySheet();var f=this.sheet;if(!f)return this.rules.push({id:s,selector:u,style:l}),null;var d=f.insertRule("".concat(u," {}"),f.cssRules.length),_=f.cssRules[d];return this.rules.push({id:s,selector:_.selectorText,style:l}),aS(_.style,l),s},p.prototype.updateRule=function(s,u,l){this.verifySheet();var f=this.rules.findIndex((function(w){return w.id===s}));if(f<0)return this.addRule(s,u,l);var d=this.rules[f];d.selector=u,d.style=l;var _=this.getSheetRule(f);return _&&(_.selectorText.replace(/\s/gm,"")!==u.replace(/\s/gm,"")&&(_.selectorText=u,d.selector=_.selectorText),aS(_.style,l)),s},p.prototype.deleteRule=function(s){this.verifySheet();var u=this.rules.findIndex((function(f){return f.id===s}));if(!(u<0)){this.rules.splice(u,1);var l=this.sheet;l&&l.deleteRule(u)}},Object.defineProperty(p.prototype,"ruleNames",{get:function(){return this.rules.map((function(s){return s.id}))},enumerable:!1,configurable:!0}),p})();const TX=EX;var CX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function su(p){return{thead:"thead-".concat(p),tbody:"tbody-".concat(p),tr:"tr-".concat(p),th:"th-".concat(p),td:"td-".concat(p)}}function uy(p){var s=su(p);return{thead:Ue(s.thead),tbody:Ue(s.tbody),tr:Ue(s.tr),th:Ue(s.th),td:Ue(s.td)}}var AX=(function(p){function s(u,l){var f=p.call(this,u)||this;f.id=l.startsWith("#")?l.slice(1):l,f.ids=su(f.id),f.cssClasses=uy(f.id);var d=u.getElementsByTagName("header")[0],_=u.getElementsByTagName("main")[0];self.setTimeout((function(){var x=(function(T){var D,N=(D=T.ownerDocument)===null||D===void 0?void 0:D.body;if(!N)return{width:10,height:10};N.insertAdjacentHTML("beforeend",'<div class="'.concat(yX,'"><div></div></div>'));var I=N.lastElementChild,G=I.offsetWidth-I.clientWidth,B=I.offsetHeight-I.clientHeight;return I.remove(),{width:G,height:B}})(u).width;f.updateRule("__scrollBarFix2","#header-".concat(f.id," > article:last-of-type"),{borderRight:"".concat(x,"px solid transparent")})}),20);var w=d.scrollLeft;return iy(_,"animation",(function(x){var T=x.left;w!==T&&(d.scrollLeft=T,w=T),u.classList.toggle(sy,x.left>0)})),f}return CX(s,p),s.prototype.update=function(u,l,f,d,_,w){w===void 0&&(w="px");var x=su(_),T=uy(_),D="".concat(l.reduce((function(N,I,G){return N+I.width+f(G)}),0)).concat(w);this.updateRule("__heightsRule".concat(T.tr),".".concat(T.tr),{height:"".concat(u,"px"),width:D}),this.updateRule("__heightsRule".concat(T.tbody),"#".concat(x.tbody),{width:D}),this.updateColumns(l,f,T,d,w)},s.prototype.remove=function(u){var l=uy(u);this.deleteRule("__heightsRule".concat(l.tr)),this.deleteRule("__heightsRule".concat(l.tbody));for(var f="__col".concat(l.td,"_"),d=this.ruleNames.reduce((function(w,x){return w+(x.startsWith(f)?1:0)}),0),_=0;_<d;_+=1)this.deleteRule("".concat(f).concat(_))},s.prototype.updateColumns=function(u,l,f,d,_){var w=this;_===void 0&&(_="px");var x="__col".concat(f.td,"_"),T=new Set(this.ruleNames.filter((function(N){return N.startsWith(x)}))),D=0;u.forEach((function(N,I){var G=".".concat(f.th,'[data-id="').concat(N.id,'"]'),B={width:"".concat(N.width).concat(_)},U=".".concat(f.td,'[data-id="').concat(N.id,'"]'),$={transform:"translateX(".concat(D).concat(_,")"),width:"".concat(N.width).concat(_)};N.frozen&&(B.left="".concat(D,"px"),w.updateRule("".concat(x).concat(U,"F"),".".concat(f.td,".").concat(sy,'[data-id="').concat(N.id,'"]'),{transform:"translateX(0)",left:"".concat(D+d).concat(_)}),T.delete("".concat(x).concat(U,"F"))),w.updateRule("".concat(x).concat(G),G,B),T.delete("".concat(x).concat(G)),w.updateRule("".concat(x).concat(U),U,$),T.delete("".concat(x).concat(U)),D+=N.width+l(I)})),T.forEach((function(N){return w.deleteRule(N)}))},s})(TX);const MX=AX;var gI=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))},DX=(function(){function p(s,u,l){l===void 0&&(l={});var f=this;this.node=s,this.tableId=0,this.sections=[],this.options={columnPadding:0,async:lI,minScrollDelta:30},Object.assign(this.options,l);var d=u.startsWith("#")?u.slice(1):u;s.id=d,s.innerHTML='<header id="header-'.concat(d,'" class="').concat(mX," ").concat(Ue("header-".concat(d)),`">
      <footer class="`).concat(nS," ").concat(Ue("footer-".concat(d)),`">&nbsp;</footer>
    </header>
    <main id="body-`).concat(d,'" class="').concat(_X," ").concat(Ue("body-".concat(d)),`">
      <footer class="`).concat(nS,`">&nbsp;</footer>
    </main>`),s.classList.add(Ue(),vX,"lineup-engine"),this.style=new MX(this.node,d);var _=iy(this.main,this.options.async,(function(w){if(!(Math.abs(_.left-w.left)<f.options.minScrollDelta&&Math.abs(_.width-w.width)<f.options.minScrollDelta)){var x=w.left>_.left;_=w,f.onScrolledHorizontally(w.left,w.width,x)}}))}return p.prototype.update=function(){var s=this;this.onScrolledHorizontally(this.main.scrollLeft,this.main.clientWidth,!1);var u=0;this.sections.forEach((function(l){l.body.style.left="".concat(u,"px"),l.header.style.left="".concat(u,"px"),u+=l.width+s.options.columnPadding}))},p.prototype.onScrolledHorizontally=function(s,u,l){var f=this,d=0,_=s+u;this.sections.forEach((function(w){var x=d+w.width;x<s||d>_?w.hide():w.show(Math.max(0,s-d),Math.min(_-d,w.width),l),d=x+f.options.columnPadding})),this.updateOffset()},p.prototype.updateOffset=function(){var s=this,u=this.header.getElementsByTagName("footer")[0],l=this.main.getElementsByTagName("footer")[0],f=this.sections.reduce((function(_,w){return Math.max(_,w.height)}),0),d=this.sections.reduce((function(_,w){return _+w.width+s.options.columnPadding}),0);Ap(u,d,0),Ap(l,d,f)},p.prototype.destroy=function(){this.sections.forEach((function(s){return s.destroy()})),this.node.remove()},Object.defineProperty(p.prototype,"doc",{get:function(){return this.node.ownerDocument},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"header",{get:function(){return this.node.getElementsByTagName("header")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"main",{get:function(){return this.node.getElementsByTagName("main")[0]},enumerable:!1,configurable:!0}),p.prototype.pushTable=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];var f=this.doc.createElement("article"),d=this.doc.createElement("article"),_="".concat(this.node.id,"T").concat(this.tableId);this.tableId+=1;var w=su(_),x=uy(_);f.id=w.thead,f.classList.add(bX,x.thead),d.id=w.tbody,d.classList.add(SX,x.tbody),this.header.insertBefore(f,this.header.lastElementChild),this.main.appendChild(d);var T=s.call.apply(s,gI([this,f,d,_,this.style],u,!1));return T.init(),this.sections.push(T),this.update(),T},p.prototype.pushSeparator=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];var f=this.doc.createElement("section"),d=this.doc.createElement("section");f.classList.add(Ue("header-separator")),d.classList.add(Ue("separator")),this.header.insertBefore(f,this.header.lastElementChild),this.main.appendChild(d);var _=s.call.apply(s,gI([this,f,d,this.style],u,!1));return _.init(),this.sections.push(_),this.update(),_},p.prototype.remove=function(s){var u=this.sections.indexOf(s);return!(u<0||(this.sections.splice(u,1),s.destroy(),this.update(),0))},p.prototype.clear=function(){this.sections.splice(0,this.sections.length).forEach((function(s){return s.destroy()})),this.update()},p.prototype.widthChanged=function(){this.update()},p})();const LX=DX;function NX(p){var s=p.createTextNode(""),u=p.createElement("div");return u.appendChild(s),function(l){return l?(s.nodeValue=l,u.innerHTML):""}}var RX=(function(){function p(s,u){return this.adapter=s,this.prefetchTimeout=-1,this.cleanupTimeout=-1,this.options={prefetchRows:20,cleanUpRows:10,delay:200},Object.assign(this.options,u),this}return p.prototype.prefetchDown=function(){if(this.prefetchTimeout=-1,!this.adapter.isScrollEventWaiting()){var s=this.adapter.context,u=Math.min(this.adapter.visible.forcedLast+this.options.prefetchRows,s.numberOfRows-1);this.adapter.visible.last===u&&this.adapter.visible.last>=this.adapter.visible.forcedLast+this.options.prefetchRows||(this.adapter.addAtBottom(this.adapter.visible.last+1,u),this.adapter.visible.last=u)}},p.prototype.prefetchUp=function(){if(this.prefetchTimeout=-1,!(this.adapter.isScrollEventWaiting()||this.adapter.visible.first<=this.adapter.visible.forcedFirst-this.options.prefetchRows)){var s=this.adapter.context,u=Gs(Math.max(this.adapter.scrollOffset-this.options.prefetchRows*s.defaultRowHeight,0),this.adapter.scrollTotal,s.defaultRowHeight,s.exceptions,s.numberOfRows),l=u.first,f=u.firstRowPos;if(l!==this.adapter.visible.first){var d=this.adapter.syncFrozen?this.adapter.syncFrozen(l):0;this.adapter.addAtBeginning(l,this.adapter.visible.first-1,d),this.adapter.visible.first=l,this.adapter.updateOffset(f)}}},p.prototype.triggerPrefetch=function(s){this.prefetchTimeout>=0&&clearTimeout(this.prefetchTimeout);var u=this.adapter.visible.last<this.adapter.visible.forcedLast+this.options.prefetchRows,l=this.adapter.visible.first>this.adapter.visible.forcedFirst-this.options.prefetchRows,f=this.adapter.visible.last===this.adapter.context.numberOfRows,d=this.adapter.visible.first===0;if((!s||u||f)&&(s||l||d)){var _=s||d?this.prefetchDown.bind(this):this.prefetchUp.bind(this);this.prefetchTimeout=self.setTimeout(_,this.options.delay)}},p.prototype.cleanUpTop=function(s){if(this.cleanupTimeout=-1,!this.adapter.isScrollEventWaiting()){var u=Math.max(0,s-this.options.cleanUpRows);if(!(u<=this.adapter.visible.first)){var l=this.adapter.syncFrozen?this.adapter.syncFrozen(u):0;this.adapter.removeFromBeginning(this.adapter.visible.first,u-1,l);var f=this.adapter.context,d=(u-this.adapter.visible.first)*f.defaultRowHeight;if(f.exceptions.length>0)for(var _=this.adapter.visible.first;_<u;_+=1){var w=f.exceptionsLookup.get(_);w!=null&&(d+=w-f.defaultRowHeight)}this.adapter.visible.first=u,this.adapter.updateOffset(this.adapter.visibleFirstRowPos+d),this.prefetchDown()}}},p.prototype.cleanUpBottom=function(s){this.cleanupTimeout=-1;var u=s+this.options.cleanUpRows;this.adapter.visible.last<=u||(this.adapter.removeFromBottom(u+1,this.adapter.visible.last),this.adapter.visible.last=u,this.prefetchUp())},p.prototype.triggerCleanUp=function(s,u,l){this.cleanupTimeout>=0&&clearTimeout(this.cleanupTimeout),l&&s-this.options.cleanUpRows<=this.adapter.visible.first||!l&&this.adapter.visible.last<=u+this.options.cleanUpRows||(this.cleanupTimeout=self.setTimeout(l?this.cleanUpTop.bind(this):this.cleanUpBottom.bind(this),this.options.delay,l?s:u))},p.prototype.onScrolled=function(s,u){this.adapter.isScrollEventWaiting()||(u!==Kn.ALL&&this.options.cleanUpRows>0&&this.triggerCleanUp(this.adapter.visible.forcedFirst,this.adapter.visible.forcedLast,s),u!==Kn.NONE&&this.options.prefetchRows>0&&this.triggerPrefetch(s))},p})();const IX=RX;var OX=(function(){function p(s,u,l,f){f===void 0&&(f=[]);var d=this;this.header=s,this.style=u,this.tableId=l,this.cellPool=[],this.loading=new WeakMap,this.visibleColumns={frozen:[],first:0,forcedFirst:0,last:-1,forcedLast:-1},this.visibleFirstColumnPos=0,this.horizontallyShifted=!1,this.columnAdapter=this.createColumnAdapter(),this.columnMixins=f.map((function(_){return new _(d.columnAdapter)})),this.columnFragment=s.ownerDocument.createDocumentFragment()}return p.prototype.leftShift=function(){var s=this.context,u=this.visibleColumns.frozen.reduce((function(l,f){return l+s.columns[f].width+s.column.padding(f)}),0);return this.visibleFirstColumnPos-u},Object.defineProperty(p.prototype,"headerScroller",{get:function(){return this.header.parentElement},enumerable:!1,configurable:!0}),p.prototype.addColumnMixin=function(s,u){this.columnMixins.push(new s(this.columnAdapter,u))},p.prototype.createColumnAdapter=function(){var s=this,u=this;return{visible:this.visibleColumns,addAtBeginning:this.addColumnAtStart.bind(this),addAtBottom:this.addColumnAtEnd.bind(this),removeFromBeginning:this.removeColumnFromStart.bind(this),removeFromBottom:this.removeColumnFromEnd.bind(this),updateOffset:this.updateColumnOffset.bind(this),scroller:this.headerScroller,syncFrozen:this.syncFrozen.bind(this),isScrollEventWaiting:function(){return uI(s.headerScroller,"animation")},get visibleFirstRowPos(){return u.visibleFirstColumnPos},get context(){return u.context.column},get scrollOffset(){return u.lastScrollInfo?u.lastScrollInfo.left:0},get scrollTotal(){return u.lastScrollInfo?u.lastScrollInfo.width:u.headerScroller.clientWidth}}},p.prototype.init=function(){var s=this,u=this.context;this.style.update(u.defaultRowHeight-u.padding(-1),u.columns,u.column.padding,0,this.tableId),u.columns.forEach((function(){s.cellPool.push([])}))},p.prototype.onScrolledHorizontally=function(s,u,l){for(var f=this.onScrolledHorizontallyImpl(s,u),d=0,_=this.columnMixins;d<_.length;d++)_[d].onScrolled(l,f);return f},p.prototype.removeColumnFromStart=function(s,u,l){var f=this;l===void 0&&(l=this.visibleColumns.frozen.length),this.forEachRow((function(d){f.removeCellFromStart(d,s,u,l)}))},p.prototype.removeCellFromStart=function(s,u,l,f){for(var d=u;d<=l;d+=1){var _=f===0?s.firstElementChild:s.children[f];_.remove(),this.recycleCell(_,d)}},p.prototype.removeColumnFromEnd=function(s,u){var l=this;this.forEachRow((function(f){l.removeCellFromEnd(f,s,u)}))},p.prototype.removeCellFromEnd=function(s,u,l){for(var f=l;f>=u;f-=1){var d=s.lastElementChild;d.remove(),this.recycleCell(d,f)}},p.prototype.removeFrozenCells=function(s,u,l){for(var f=0,d=u;f<d.length;f++){var _=d[f],w=s.children[l];w.remove(),this.recycleCell(w,_)}},p.prototype.removeFrozenColumns=function(s,u){var l=this;this.forEachRow((function(f){l.removeFrozenCells(f,s,u)}))},p.prototype.removeAllColumns=function(s){var u=this;this.forEachRow((function(l){u.removeAllCells(l,s)}))},p.prototype.removeAllCells=function(s,u,l){var f=this;l===void 0&&(l=this.visibleColumns.first);var d=Array.from(s.children),_=this.visibleColumns.frozen;if(ay(s),u||_.length===0)for(var w=0,x=_;w<x.length;w++){var T=x[w];this.recycleCell(d.shift(),T)}else for(T=0;T<_.length;T+=1)s.appendChild(d.shift());d.forEach((function(D,N){f.recycleCell(D,N+l)}))},p.prototype.selectProxyCell=function(s,u,l){var f,d=this.cellPool[u],_=l[u],w=void 0,x=d.pop(),T=x?this.updateCell(x,s,_)||x:this.createCell(this.header.ownerDocument,s,_);return Wo(T)?(f=T.item,w=T.ready):f=T,f!==x&&(f.dataset.id=_.id,f.classList.add(dI,this.style.cssClasses.td,Ue("td-".concat(this.tableId)))),this.updateShiftedState(f,_),{item:f,ready:w}},p.prototype.handleCellReady=function(s,u,l){var f=this;l===void 0&&(l=-1),s.classList.add(Fs);var d=u;return this.loading.set(s,d),d.then((function(_){f.loading.delete(s),s.classList.remove(Fs),_===Zn&&l>=0&&f.cellPool[l].push(s)})),s},p.prototype.selectCell=function(s,u,l){var f=this.selectProxyCell(s,u,l),d=f.item,_=f.ready;return Kl(_)?this.handleCellReady(d,_,u):d},p.prototype.updateShiftedState=function(s,u){s.classList.toggle(sy,u.frozen&&this.horizontallyShifted)},p.prototype.recycleCell=function(s,u){u===void 0&&(u=-1);var l=this.loading.get(s);l!=null?l.abort():!ly(s)&&u>=0&&this.cellPool[u].push(s)},p.prototype.addColumnAtStart=function(s,u,l){var f=this;l===void 0&&(l=this.visibleColumns.frozen.length);var d=this.context.columns;this.forEachRow((function(_,w){f.addCellAtStart(_,w,s,u,l,d)}))},p.prototype.addCellAtStart=function(s,u,l,f,d,_){for(var w=f;w>=l;w-=1){var x=this.selectCell(u,w,_);s.insertBefore(x,d>0?s.children[d]:s.firstChild)}},p.prototype.insertFrozenCells=function(s,u,l,f,d){for(var _=s.children[f],w=0,x=l;w<x.length;w++){var T=x[w],D=this.selectCell(u,T,d);_?s.insertBefore(D,_):s.appendChild(D)}},p.prototype.insertFrozenColumns=function(s,u){var l=this,f=this.context.columns;this.forEachRow((function(d,_){l.insertFrozenCells(d,_,s,u,f)}))},p.prototype.addColumnAtEnd=function(s,u){var l=this,f=this.context.columns;this.forEachRow((function(d,_){l.addCellAtEnd(d,_,s,u,f)}))},p.prototype.addCellAtEnd=function(s,u,l,f,d){for(var _=l;_<=f;_+=1){var w=this.selectCell(u,_,d);s.appendChild(w)}},p.prototype.updateHeaders=function(){var s=this,u=this.context.columns;Array.from(this.header.children).forEach((function(l,f){var d,_=l,w=u[f],x=s.updateHeader(_,w);(d=Wo(x)?s.handleCellReady(x.item,x.ready,-1):x||_)!==_&&(d.dataset.id=w.id,d.classList.add(pI,s.style.cssClasses.th,Ue("th-".concat(s.tableId))),s.header.replaceChild(_,d))}))},p.prototype.recreate=function(s,u){var l,f=this,d=this.context;this.style.update(d.defaultRowHeight-d.padding(-1),d.columns,d.column.padding,0,this.tableId),this.clearPool();for(var _=this.cellPool.length;_<d.columns.length;_+=1)this.cellPool.push([]);for(var w=this.columnFragment,x=w.ownerDocument,T=new Map;this.header.lastChild;){var D=this.header.lastChild;this.header.removeChild(D),T.set((l=D.dataset.id)!==null&&l!==void 0?l:"",D)}d.columns.forEach((function($){var K,nt=T.get($.id),at=nt?f.updateHeader(nt,$)||nt:f.createHeader(x,$);(K=Wo(at)?f.handleCellReady(at.item,at.ready,-1):at)!==nt&&(K.dataset.id=$.id,K.classList.add(pI,f.style.cssClasses.th,Ue("th-".concat(f.tableId)))),w.appendChild(K)})),this.header.appendChild(w);var N=Gs(s,u,d.column.defaultRowHeight,d.column.exceptions,d.column.numberOfRows),I=N.first,G=N.last,B=N.firstRowPos;if(this.visibleColumns.first=I,this.visibleColumns.forcedFirst=I,this.visibleColumns.last=G,this.visibleColumns.forcedLast=G,d.columns.some((function($){return $.frozen}))){var U=cI([],d.columns,I).target;this.visibleColumns.frozen=U}else this.visibleColumns.frozen=[];this.updateColumnOffset(B)},p.prototype.clearPool=function(){this.cellPool.forEach((function(s){return s.splice(0,s.length)}))},p.prototype.updateColumnOffset=function(s){var u=s!==this.visibleFirstColumnPos;if(this.visibleFirstColumnPos=s,u){var l=this.context;this.style.update(l.defaultRowHeight-l.padding(-1),l.columns,l.column.padding,0,this.tableId)}},p.prototype.createRow=function(s,u){var l=this.context.columns,f=this.visibleColumns;if(f.frozen.length>0)for(var d=0,_=f.frozen;d<_.length;d++){var w=_[d],x=this.selectCell(u,w,l);s.appendChild(x)}for(w=f.first;w<=f.last;w+=1)x=this.selectCell(u,w,l),s.appendChild(x)},p.prototype.updateRow=function(s,u){var l,f=this.context.columns,d=this.visibleColumns;switch(s.childElementCount){case 0:d.frozen.length>0&&this.insertFrozenCells(s,u,d.frozen,0,f),this.addCellAtEnd(s,u,d.first,d.last,f);break;case 1:var _=s.firstElementChild,w=(l=_.dataset.id)!==null&&l!==void 0?l:"",x=f.findIndex((function(T){return T.id===w}));s.removeChild(_),x>=0&&this.recycleCell(_,x),d.frozen.length>0&&this.insertFrozenCells(s,u,d.frozen,0,f),this.addCellAtEnd(s,u,d.first,d.last,f);break;default:this.mergeColumns(s,u)}},p.prototype.mergeColumns=function(s,u){for(var l=this,f=this.context.columns,d=this.visibleColumns,_=new Map;s.lastChild;){var w=s.lastChild;s.removeChild(w),_.set(w.dataset.id,w)}for(var x=function(G){var B=f[G],U=_.get(B.id);if(U){_.delete(B.id);var $,K=l.updateCell(U,u,B)||U;($=Wo(K)?l.handleCellReady(K.item,K.ready,G):K)&&$!==U&&($.dataset.id=B.id,$.classList.add(dI,l.style.cssClasses.td,Ue("td-".concat(l.tableId)))),l.updateShiftedState($,B),s.appendChild($)}else{var nt=l.selectCell(u,G,f);s.appendChild(nt)}},T=0,D=d.frozen;T<D.length;T++)x(D[T]);for(var N=d.first;N<=d.last;N+=1)x(N);if(_.size!==0){var I=new Map(f.map((function(G,B){return[G.id,B]})));_.forEach((function(G,B){var U=I.get(B);U!=null&&U>=0&&l.recycleCell(G,U)}))}},p.prototype.updateShiftedStates=function(){if(this.context.columns.some((function(G){return G.frozen}))){var s=this.horizontallyShifted,u=sy;if(s){for(var l=Array.from(this.header.querySelectorAll(".".concat(oy,":not(.").concat(u,")"))),f=Array.from(this.body.querySelectorAll(".".concat(oy,":not(.").concat(u,")"))),d=0,_=l;d<_.length;d++)_[d].classList.add(u);for(var w=0,x=f;w<x.length;w++)x[w].classList.add(u)}else{l=Array.from(this.header.querySelectorAll(".".concat(oy,".").concat(u))),f=Array.from(this.body.querySelectorAll(".".concat(oy,".").concat(u)));for(var T=0,D=l;T<D.length;T++)D[T].classList.remove(u);for(var N=0,I=f;N<I.length;N++)I[N].classList.remove(u)}}},p.prototype.syncFrozen=function(s){var u=this.context.columns,l=this.visibleColumns;if(!u.some((function(T){return T.frozen})))return 0;if(s===0)return l.frozen.length>0&&(this.removeFrozenColumns(l.frozen,0),l.frozen=[]),0;var f=l.frozen.length,d=cI(l.frozen,u,s),_=d.target,w=d.added,x=d.removed;return x.length>0&&this.removeFrozenColumns(x,f-x.length),w.length>0&&this.insertFrozenColumns(w,f-x.length),l.frozen=_,_.length},p.prototype.onScrolledHorizontallyImpl=function(s,u){var l=this.horizontallyShifted!==s>0;this.horizontallyShifted=s>0;var f=this.context.column,d=Gs(s,u,f.defaultRowHeight,f.exceptions,f.numberOfRows),_=d.first,w=d.last,x=d.firstRowPos,T=this.visibleColumns;if(T.forcedFirst=_,T.forcedLast=w,_-T.first>=0&&w-T.last<=0)return l&&this.updateShiftedStates(),Kn.NONE;var D=Kn.SOME,N=this.syncFrozen(_);return _>T.last||w<T.first?(this.removeAllColumns(!1),this.addColumnAtEnd(_,w),D=Kn.ALL):_<T.first?(this.removeColumnFromEnd(w+1,T.last),this.updateShiftedStates(),this.addColumnAtStart(_,T.first-1,N),D=Kn.SOME_TOP):(this.removeColumnFromStart(T.first,_-1,N),this.updateShiftedStates(),this.addColumnAtEnd(T.last+1,w),D=Kn.SOME_BOTTOM),T.first=_,T.last=w,this.updateColumnOffset(x),D},p})(),yI=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),PX=(function(p){function s(u,l,f,d,_){_===void 0&&(_={});var w=p.call(this,l,_)||this;w.header=u,w.body=l,w.tableId=f,w.style=d;var x=w,T=(function(D){function N(){return D!==null&&D.apply(this,arguments)||this}return yI(N,D),Object.defineProperty(N.prototype,"context",{get:function(){return x.context},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"body",{get:function(){return x.body},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"lastScrollInfo",{get:function(){return x.lastScrollInfo},enumerable:!1,configurable:!0}),N.prototype.createHeader=function(I,G){return x.createHeader(I,G)},N.prototype.updateHeader=function(I,G){return x.updateHeader(I,G)},N.prototype.createCell=function(I,G,B){return x.createCell(I,G,B)},N.prototype.updateColumnOffset=function(I){D.prototype.updateColumnOffset.call(this,I),x.updateOffset(x.visibleFirstRowPos)},N.prototype.updateCell=function(I,G,B){return x.updateCell(I,G,B)},N.prototype.forEachRow=function(I){return x.forEachRow(I)},N})(OX);return w.cell=new T(w.header,w.style,f,_.mixins||[]),w}return yI(s,p),s.prototype.addColumnMixin=function(u,l){this.cell.addColumnMixin(u,l)},Object.defineProperty(s.prototype,"idPrefix",{get:function(){return this.tableId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this.context.column.totalHeight},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"visibleColumns",{get:function(){return this.cell.visibleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"visibleFirstColumnPos",{get:function(){return this.cell.visibleFirstColumnPos},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.context.totalHeight},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hidden",{get:function(){return this.header.classList.contains(Fs)},set:function(u){this.hidden!==u&&(this.header.classList.toggle(Fs,u),this.body.classList.toggle(Fs,u),this.header.classList.toggle(fI,u),this.body.classList.toggle(fI,u),this.onVisibilityChanged(!u))},enumerable:!1,configurable:!0}),s.prototype.updateSizer=function(u){this.updateShifts(u,this.cell.leftShift())},s.prototype.updateShifts=function(u,l){Ap(this.body,0,u.toFixed(0))},s.prototype.onVisibilityChanged=function(u){},s.prototype.hide=function(){this.hidden=!0},s.prototype.show=function(u,l,f){var d=this.hidden;this.hidden=!1,d?this.revalidate():this.onScrolledHorizontally(u,l,f)},s.prototype.init=function(){this.hide(),this.cell.init(),p.prototype.init.call(this)},s.prototype.destroy=function(){p.prototype.destroy.call(this),this.header.remove(),this.style.remove(this.tableId)},s.prototype.onScrolledVertically=function(u,l,f){return this.hidden?Kn.NONE:p.prototype.onScrolledVertically.call(this,u,l,f)},s.prototype.onScrolledHorizontally=function(u,l,f){var d=this.cell.onScrolledHorizontally(u,l,f);return this.updateSizer(this.visibleFirstRowPos),d},s.prototype.updateHeaders=function(){this.cell.updateHeaders()},s.prototype.handleCellReady=function(u,l,f){return f===void 0&&(f=-1),this.cell.handleCellReady(u,l,f)},s.prototype.recycleCell=function(u,l){l===void 0&&(l=-1),this.cell.recycleCell(u,l)},s.prototype.updateColumnWidths=function(){var u=this.context;this.style.update(u.defaultRowHeight-u.padding(-1),u.columns,u.column.padding,0,this.tableId)},s.prototype.recreate=function(u){var l=this.bodyScroller,f=l.scrollLeft;this.cell.recreate(f,l.clientWidth),p.prototype.recreate.call(this,u),l.scrollLeft=f},s.prototype.clearPool=function(){p.prototype.clearPool.call(this),this.cell.clearPool()},s.prototype.createRow=function(u,l){this.cell.createRow(u,l),u.classList.add(this.style.cssClasses.tr)},s.prototype.updateRow=function(u,l){this.cell.updateRow(u,l)},s})(xX);function mI(p){var s=new Map,u=new Map;return p.forEach((function(l,f){if(It(l))for(var d=0;d<l.order.length;++d)s.set(d,f);else l.group&&l.relativeIndex===0&&u.set(l.group.name,f)})),{item2groupIndex:s,group2firstItemIndex:u}}function _I(p){return It(p)?p.name:p.dataIndex.toString()}var kX=(function(){function p(s,u,l,f){this.c=s,this.index=u,this.ctx=l,this.flags=f,this.renderers=null}return Object.defineProperty(p.prototype,"width",{get:function(){return this.c.getWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"id",{get:function(){return this.c.id},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"frozen",{get:function(){return!this.flags.disableFrozenColumns&&this.c.frozen},enumerable:!1,configurable:!0}),p.prototype.singleRenderer=function(){if(!this.renderers||!this.renderers.single)return null;if(this.renderers.singleTemplate)return this.renderers.singleTemplate.cloneNode(!0);var s=this.ctx.asElement(this.renderers.single.template);return s.classList.add(z("renderer-".concat(this.renderers.singleId)),z("detail")),s.dataset.renderer=this.renderers.singleId,s.dataset.group="d",this.renderers.singleTemplate=s.cloneNode(!0),s},p.prototype.groupRenderer=function(){if(!this.renderers||!this.renderers.group)return null;if(this.renderers.groupTemplate)return this.renderers.groupTemplate.cloneNode(!0);var s=this.ctx.asElement(this.renderers.group.template);return s.classList.add(z("renderer-".concat(this.renderers.groupId)),z("group")),s.dataset.renderer=this.renderers.groupId,s.dataset.group="g",this.renderers.groupTemplate=s.cloneNode(!0),s},p.prototype.summaryRenderer=function(){if(!this.renderers||!this.renderers.summary)return null;if(this.renderers.summaryTemplate)return this.renderers.summaryTemplate.cloneNode(!0);var s=this.ctx.asElement(this.renderers.summary.template);return s.classList.add(z("summary"),z("th-summary"),z("renderer-".concat(this.renderers.summaryId))),s.dataset.renderer=this.renderers.summaryId,this.renderers.summaryTemplate=s.cloneNode(!0),s},p.prototype.createHeader=function(){var s=tS(this.c,this.ctx,{extraPrefix:"th",dragAble:this.flags.advancedUIFeatures,mergeDropAble:this.flags.advancedModelFeatures&&this.flags.combineViaDragNDrop,rearrangeAble:this.flags.advancedUIFeatures,resizeable:this.flags.advancedUIFeatures});if(s.classList.add(z("header")),this.flags.disableFrozenColumns||s.classList.toggle(be("frozen"),this.frozen),this.renderers&&this.renderers.summary){var u=this.summaryRenderer();s.appendChild(u)}return this.updateHeader(s)},p.prototype.hasSummaryLine=function(){return!!this.c.getMetaData().summary},p.prototype.updateHeader=function(s){if(hf(s,this.c),!this.renderers||!this.renderers.summary)return s;var u=s.getElementsByClassName(z("summary"))[0];u.remove(),u=this.summaryRenderer(),s.appendChild(u);var l=this.renderers.summary.update(u);return l?{item:s,ready:l}:s},p.prototype.createCell=function(s){var u=this.ctx.isGroup(s)?this.groupRenderer():this.singleRenderer();return this.updateCell(u,s)},p.prototype.updateCell=function(s,u){var l=this;this.flags.disableFrozenColumns||s.classList.toggle(be("frozen"),this.frozen);var f,d=this.ctx.isGroup(u),_=s.dataset.renderer,w=d?this.renderers.groupId:this.renderers.singleId,x=s.dataset.group;if(_===w&&x===(d?"g":"d")||(s=d?this.groupRenderer():this.singleRenderer()),d){var T=this.ctx.getGroup(u);f=this.renderers.group.update(s,T)}else{var D=this.ctx.getRow(u),N=this.ctx.provider.getRow(D.dataIndex);f=Ht(N)?bI(N,(function(I){return l.renderers.single.update(s,I,D.relativeIndex,D.group)})):this.renderers.single.update(s,N,D.relativeIndex,D.group)}return f?{item:s,ready:f}:s},p.prototype.renderCell=function(s,u){var l=this.ctx.getRow(u),f=this.renderers.single;if(!f.render)return!1;var d=this.ctx.provider.getRow(l.dataIndex);return Ht(d)?bI(d,(function(_){return f.render(s,_,l.relativeIndex,l.group)||!1})):f.render(s,d,l.relativeIndex,l.group)||!1},p})();const oS=kX;function bI(p,s){var u=!1,l=new Promise((function(f){u||p.then((function(d){if(!u){var _=s(d);return Kl(_)?(l.abort=_.abort.bind(_),l.then(f)):f(_)}}))}));return l.abort=function(){u=!0},l}var VX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),GX=(function(p){function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.summaries=[],u}return VX(s,p),Object.defineProperty(s.prototype,"mc",{get:function(){return this.c},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this.c.getWidth()+Ui*this.mc.length},enumerable:!1,configurable:!0}),s.prototype.createHeader=function(){var u=p.prototype.createHeader.call(this),l=this.ctx.document.createElement("div");return l.classList.add(z("nested")),l.classList.add(Og(this.ctx.idPrefix,this.c)),Wo(u)?u.item.appendChild(l):u.appendChild(l),this.updateNested(l,u)},s.prototype.matchChildren=function(u,l){var f=this;if(!l.every((function(_,w){var x=u.children[w];return x!=null&&x.dataset.colId===_.id}))||l.length!==u.childElementCount){var d=new Map(Array.from(u.children).map((function(_,w){return[_.dataset.colId,{node:_,summary:f.summaries[w]}]})));this.summaries=[],l.forEach((function(_,w){var x=d.get(_.id);if(x){d.delete(_.id);var T=x.node;return T.style.gridColumnStart=(w+1).toString(),u.appendChild(T),void(f.summaries[w]=x.summary)}var D=tS(_,f.ctx,{extraPrefix:"th",mergeDropAble:!1,dragAble:f.flags.advancedModelFeatures,rearrangeAble:f.flags.advancedModelFeatures,resizeable:f.flags.advancedModelFeatures});if(D.classList.add(z("header"),z("nested-th")),D.style.gridColumnStart=(w+1).toString(),u.appendChild(D),f.renderers&&f.renderers.summary){var N=f.ctx.summaryRenderer(_,!1),I=f.ctx.asElement(N.template);I.classList.add(z("summary"),z("th-summary"),z("renderer-".concat(_.getSummaryRenderer()))),I.dataset.renderer=_.getSummaryRenderer(),D.appendChild(I),f.summaries[w]=N,N.update(I)}})),d.forEach((function(_){return _.node.remove()}))}},s.prototype.updateHeader=function(u){var l=p.prototype.updateHeader.call(this,u),f=(u=Wo(l)?l.item:l).getElementsByClassName(z("nested"))[0];return f?(u.appendChild(f),this.updateNested(f,l)):l},s.prototype.hasSummaryLine=function(){return p.prototype.hasSummaryLine.call(this)||this.mc.children.some((function(u){return!!u.getMetaData().summary}))},s.prototype.updateWidthRule=function(u){var l=this.mc.children.map((function(d){return"minmax(0, ".concat(Vt(d.getWidth()),"fr)")})),f=Og(this.ctx.idPrefix,this.c);return u.updateRule("stacked-".concat(this.c.id),".".concat(f),{display:"grid",gridTemplateColumns:l.join(" ")}),f},s.prototype.updateNested=function(u,l){var f=this,d=this.mc.isShowNestedSummaries()?this.mc.children:[];this.matchChildren(u,d);var _,w=Array.from(u.children),x=[];return Wo(l)?(x.push(l.ready),_=l.item):_=l,d.forEach((function(T,D){var N=w[D];if(hf(N,T),f.renderers&&f.renderers.summary){var I=N.getElementsByClassName(z("summary"))[0],G=I.dataset.renderer,B=T.getSummaryRenderer();if(G!==B){var U=f.ctx.summaryRenderer(T,!1);I.remove(),(I=f.ctx.asElement(U.template)).classList.add(z("summary"),z("th-summary"),z("renderer-".concat(B))),I.dataset.renderer=B,f.summaries[D]=U,N.appendChild(I)}var $=f.summaries[D].update(I);$&&x.push($)}})),x.length===0?_:{item:_,ready:cp(x)}},s})(oS);const cy=GX;var FX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),BX=(function(p){function s(u,l,f){var d,_=(f===void 0?{}:f).selectionActivateFilter,w=_===void 0||_,x=p.call(this)||this;x.ctx=u,x.body=l,x.selectionActivateFilter=!0,x.start=null,x.isFirefox=((d=oI())===null||d===void 0?void 0:d.name)==="firefox",x.selectionActivateFilter=w;var T=l.parentElement.parentElement,D=T.querySelector("hr");D||(D=T.ownerDocument.createElement("hr"),T.appendChild(D)),x.hr=D,x.hr.classList.add(z("hr"));var N=function(G){x.showHint(G)},I=function(G){if(x.body.removeEventListener("mousemove",N),x.body.removeEventListener("mouseup",I),x.body.removeEventListener("mouseleave",I),x.start){var B=be("tr"),U=x.start.node.classList.contains(B)?x.start.node:x.start.node.closest(".".concat(B)),$=x.body.ownerDocument.elementFromPoint(G.clientX,G.clientY),K=$.classList.contains(B)?$:$.closest(".".concat(B));x.start=null,x.body.classList.remove(z("selection-active")),x.hr.classList.remove(z("selection-active")),x.select(G.ctrlKey,U,K)}};return x.selectionActivateFilter!==!1&&l.addEventListener("mousedown",(function(G){var B,U;if(x.selectionActivateFilter!==!1&&(x.selectionActivateFilter===!0||!((B=G.target)===null||B===void 0)&&B.matches(x.selectionActivateFilter)||((U=G.target)===null||U===void 0?void 0:U.closest(x.selectionActivateFilter))!=null)){var $=T.getBoundingClientRect();x.start={x:G.clientX,y:G.clientY,xShift:$.left,yShift:$.top,node:G.target},x.body.classList.add(z("selection-active")),l.addEventListener("mousemove",N,{passive:!0}),l.addEventListener("mouseup",I,{passive:!0}),l.addEventListener("mouseleave",I,{passive:!0})}}),{passive:!0}),x}return FX(s,p),s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_SELECT_RANGE])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.select=function(u,l,f){var d=this;if(l&&f&&l!==f){var _=Number.parseInt(l.dataset.index,10),w=Number.parseInt(f.dataset.index,10),x=Math.min(_,w),T=Math.max(_,w);x!==T&&requestAnimationFrame((function(){return d.fire(s.EVENT_SELECT_RANGE,x,T,u)}))}},s.prototype.showHint=function(u){var l=this.start,f=l.y,d=u.clientY,_=Math.abs(f-d)>s.MIN_DISTANCE;this.hr.classList.toggle(z("selection-active"),_),this.hr.style.transform="translate(".concat(l.x-l.xShift,"px,").concat(f-l.yShift,"px)scale(1,").concat(Math.abs(d-f),")rotate(").concat(d>f?90:-90,"deg)")},s.prototype.remove=function(u){u.onclick=void 0},s.prototype.add=function(u){var l=this;u.onclick=function(f){if(l.isFirefox){var d=u.getBoundingClientRect();if(f.offsetY<0||f.offsetY>d.height||f.offsetX<0||f.offsetY>d.width)return}var _=Number.parseInt(u.dataset.i,10);if(f.shiftKey){var w=Number.parseInt(u.dataset.index,10),x=u.parentElement.dataset.ranking;if(sN(l.ctx.provider,x,_,w,f.ctrlKey))return}l.ctx.provider.toggleSelection(_,f.ctrlKey)}},s.prototype.selectRange=function(u,l){l===void 0&&(l=!1);var f=new Wh(l?this.ctx.provider.getSelection():[]),d=function(_){f.has(_)?f.delete(_):f.add(_)};u.forEach((function(_){It(_)?Fc(_.order,d):d(_.dataIndex)})),this.ctx.provider.setSelection(Array.from(f))},s.prototype.updateState=function(u,l){this.ctx.provider.isSelected(l)?u.classList.add(z("selected")):u.classList.remove(z("selected"))},s.prototype.update=function(u,l){var f=Number.parseInt(u.dataset.i,10);l.has(f)?u.classList.add(z("selected")):u.classList.remove(z("selected"))},s.EVENT_SELECT_RANGE="selectRange",s.MIN_DISTANCE=10,s})(pa);const SI=BX;var wI=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),Mp=(function(p){function s(){return p!==null&&p.apply(this,arguments)||this}return wI(s,p),s.prototype.fire=function(u){for(var l=[],f=1;f<arguments.length;f++)l[f-1]=arguments[f];p.prototype.fire.apply(this,(function(d,_,w){if(arguments.length===2)for(var x,T=0,D=_.length;T<D;T++)!x&&T in _||(x||(x=Array.prototype.slice.call(_,0,T)),x[T]=_[T]);return d.concat(x||Array.prototype.slice.call(_))})([u],l,!1))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_WIDTH_CHANGED,s.EVENT_UPDATE_DATA,s.EVENT_RECREATE,s.EVENT_HIGHLIGHT_CHANGED])},s.EVENT_WIDTH_CHANGED="widthChanged",s.EVENT_UPDATE_DATA="updateData",s.EVENT_RECREATE="recreate",s.EVENT_HIGHLIGHT_CHANGED="highlightChanged",s})(pa),lu={passive:!1},HX=(function(p){function s(u,l,f,d,_,w,x){x===void 0&&(x={});var T=p.call(this,l,f,d,_,{mixins:[IX],batchSize:20})||this;T.ranking=u,T.ctx=w,T.loadingCanvas=new WeakMap,T.data=[],T.highlight=-1,T.canvasPool=[],T.currentCanvasShift=0,T.currentCanvasWidth=0,T.events=new Mp,T.roptions={animation:!0,levelOfDetail:function(){return"high"},customRowUpdate:function(){},flags:{disableFrozenColumns:!1,advancedModelFeatures:!0,advancedRankingFeatures:!0,advancedUIFeatures:!0,combineViaDragNDrop:!0},selectionActivateFilter:!0},T.canvasMouseHandler={timer:new Set,hoveredRows:new Set,cleanUp:function(){var N=T.canvasMouseHandler;N.timer.forEach((function(U){clearTimeout(U)})),N.timer.clear();for(var I=0,G=Array.from(N.hoveredRows);I<G.length;I++){var B=G[I];N.unhover(B)}},enter:function(N){var I=T.canvasMouseHandler;I.cleanUp();var G=N.currentTarget;G.addEventListener("mouseleave",I.leave,lu),I.timer.add(setTimeout((function(){I.hoveredRows.add(G),T.updateHoveredRow(G,!0)}),500))},leave:function(N){var I=T.canvasMouseHandler,G=N.currentTarget!==void 0?N.currentTarget:N;I.unhover(G),I.cleanUp()},unhover:function(N){var I=T.canvasMouseHandler;I.hoveredRows.delete(N),N.removeEventListener("mouseleave",I.leave),!s.isCanvasRenderedRow(N)&&N.parentElement&&setTimeout((function(){return T.updateHoveredRow(N,!1)}))}},T.highlightHandler={enabled:!1,enter:function(N){if(T.highlight>=0){var I=T.body.getElementsByClassName(be("highlighted"))[0];I&&I.classList.remove(be("highlighted")),T.highlight=-1}var G=N.currentTarget,B=Number.parseInt(G.dataset.i||"-1",10);T.events.fire(s.EVENT_HIGHLIGHT_CHANGED,B)},leave:function(){if(T.highlight>=0){var N=T.body.getElementsByClassName(be("highlighted"))[0];N&&N.classList.remove(be("highlighted")),T.highlight=-1}T.events.fire(s.EVENT_HIGHLIGHT_CHANGED,-1)}},Object.assign(T.roptions,x),f.dataset.ranking=u.id;var D=T;return T.delayedUpdate=Ba((function(){this.type===fe.EVENT_DIRTY_VALUES?this.primaryType!==vt.EVENT_RENDERER_TYPE_CHANGED&&this.primaryType!==vt.EVENT_GROUP_RENDERER_TYPE_CHANGED&&this.primaryType!==vt.EVENT_LABEL_CHANGED&&D.updateBody():D.events.fire(s.EVENT_UPDATE_DATA)}),50,(function(N,I){return N.self.type===fe.EVENT_ORDER_CHANGED?N:I})),T.delayedUpdateAll=Ba((function(){return T.updateAll()}),50),T.delayedUpdateColumnWidths=Ba((function(){return T.updateColumnWidths()}),50),u.on("".concat(fe.EVENT_ADD_COLUMN,".hist"),(function(N,I){var G=T.ranking.children.slice(0,I).reduce((function(U,$){return U+($.isVisible()?0:1)}),0),B=I-G;T.columns.splice(B,0,T.createCol(N,B)),T.reindex(),T.delayedUpdateAll()})),u.on("".concat(fe.EVENT_REMOVE_COLUMN,".body"),(function(N,I){s.disableListener(N);var G=T.ranking.children.slice(0,I).reduce((function(U,$){return U+($.isVisible()?0:1)}),0),B=I-G;T.columns.splice(B,1),T.reindex(),T.delayedUpdateAll()})),u.on("".concat(fe.EVENT_MOVE_COLUMN,".body"),(function(N,I){var G=T.columns.findIndex((function(K){return K.c===N})),B=T.columns.splice(G,1)[0],U=T.ranking.children.slice(0,I).reduce((function(K,nt){return K+(nt.isVisible()?0:1)}),0),$=I-U;T.columns.splice(G<$?$-1:$,0,B),T.reindex(),T.delayedUpdateAll()})),u.on("".concat(fe.EVENT_COLUMN_VISIBILITY_CHANGED,".body"),(function(N,I,G){if(G){var B=u.children.indexOf(N),U=T.ranking.children.slice(0,B).reduce((function(K,nt){return K+(nt.isVisible()?0:1)}),0),$=B-U;T.columns.splice($,0,T.createCol(N,$))}else B=T.columns.findIndex((function(K){return K.c===N})),s.disableListener(N),T.columns.splice(B,1);T.reindex(),T.delayedUpdateAll()})),u.on("".concat(fe.EVENT_ORDER_CHANGED,".body"),T.delayedUpdate),T.selection=new SI(T.ctx,f,T.roptions),T.selection.on(SI.EVENT_SELECT_RANGE,(function(N,I,G){T.selection.selectRange(T.data.slice(N,I+1),G)})),T.renderCtx=Object.assign({isGroup:function(N){return It(T.data[N])},getRow:function(N){return T.data[N]},getGroup:function(N){return T.data[N]}},w),T.columns=u.children.filter((function(N){return N.isVisible()})).map((function(N,I){return T.createCol(N,I)})),T._context=Object.assign({columns:T.columns,column:Cp(T.columns.map((function(N){return N.width})),100,Ui)},(function(N,I,G){G===void 0&&(G=0);var B=20+G;return{exceptions:[],exceptionsLookup:{keys:function(){return[].values()},get:function(){return B},has:function(){return!1},size:0},totalHeight:0*B,numberOfRows:0,defaultRowHeight:B,padding:function(){return G}}})()),T.columns.forEach((function(N){N instanceof cy&&N.updateWidthRule(T.style),N.renderers=T.ctx.createRenderer(N.c)})),T.style.updateRule("hoverOnly".concat(T.tableId),`
      #`.concat(su(T.tableId).tbody,":hover > .").concat(be("tr"),":hover .").concat(z("hover-only"),`,
      #`).concat(su(T.tableId).tbody," > .").concat(be("tr"),".").concat(z("selected")," .").concat(z("hover-only"),`,
      #`).concat(su(T.tableId).tbody," > .").concat(be("tr"),".").concat(be("highlighted")," .").concat(z("hover-only")),{visibility:"visible"}),T.updateCanvasRule(),T}return wI(s,p),s.prototype.on=function(u,l){return this.events.on(u,l),this},Object.defineProperty(s.prototype,"id",{get:function(){return this.ranking.id},enumerable:!1,configurable:!0}),s.prototype.onVisibilityChanged=function(u){p.prototype.onVisibilityChanged.call(this,u),u&&this.delayedUpdate.call({type:fe.EVENT_ORDER_CHANGED})},s.prototype.updateHeaders=function(){return this.updateColumnSummaryFlag(),p.prototype.updateHeaders.call(this)},Object.defineProperty(s.prototype,"currentData",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),s.prototype.createHeader=function(u,l){return l.createHeader()},s.prototype.updateColumnSummaryFlag=function(){this.header.classList.toggle(z("show-sublabel"),this.columns.some((function(u){return u.hasSummaryLine()})))},s.prototype.updateHeader=function(u,l){return l instanceof cy&&l.updateWidthRule(this.style),l.updateHeader(u)},s.prototype.createCell=function(u,l,f){return f.createCell(l)},s.prototype.createCellHandled=function(u,l){var f,d=u.createCell(l);return f=Wo(d)?this.handleCellReady(d.item,d.ready,u.index):d,this.initCellClasses(f,u.id),f},s.prototype.updateCell=function(u,l,f){return f.updateCell(u,l)},s.prototype.selectCanvas=function(){if(this.canvasPool.length>0)return this.canvasPool.pop();var u=this.body.ownerDocument.createElement("canvas");return u.classList.add(z("low-c".concat(this.tableId))),u},s.prototype.rowFlags=function(u){var l=u,f=l.__lu__;return f??(l.__lu__={})},s.prototype.visibleRenderedWidth=function(){for(var u=0,l=0,f=this.visibleColumns.frozen;l<f.length;l++){var d=f[l];u+=this.columns[d].width+Ui}for(d=this.visibleColumns.first;d<=this.visibleColumns.last;++d)u+=this.columns[d].width+Ui;return u>0&&(u-=Ui),u},s.prototype.pushLazyRedraw=function(u,l,f,d){var _=this;d.then((function(w){var x=_.loadingCanvas.get(u)||[],T=x.findIndex((function(N){return N.render===d&&N.col===f.index}));if(!(T<0)){if(x.splice(T,1),typeof w=="function"){var D=u.getContext("2d");D.clearRect(l-1,0,f.width+2,u.height),D.save(),D.translate(l,0),w(D),D.restore()}x.length>0||(_.loadingCanvas.delete(u),u.classList.remove(z("loading-c")))}})),this.loadingCanvas.has(u)?this.loadingCanvas.get(u).push({col:f.index,render:d}):(u.classList.add(z("loading-c")),this.loadingCanvas.set(u,[{col:f.index,render:d}]))},s.prototype.renderRow=function(u,l,f){var d=this;if(this.loadingCanvas.has(u)){for(var _=0,w=this.loadingCanvas.get(u);_<w.length;_++)w[_].render.abort();this.loadingCanvas.delete(u)}u.classList.remove(z("loading-c")),u.width=this.currentCanvasWidth,u.height=sn;var x=u.getContext("2d");x.imageSmoothingEnabled=!1,x.clearRect(0,0,u.width,u.height),x.save();for(var T=[],D=0,N=function(ut){var kt=d.columns[ut],jt=kt.renderCell(x,f);jt===!0?T.push(kt):jt!==!1&&Kl(jt)&&d.pushLazyRedraw(u,D,kt,jt);var Nt=kt.width+Ui;D+=Nt,x.translate(Nt,0)},I=0,G=this.visibleColumns.frozen;I<G.length;I++)N(B=G[I]);for(var B=this.visibleColumns.first;B<=this.visibleColumns.last;++B)N(B);x.restore();var U=l.childElementCount-1;if(T.length!==0){if(T.length===1){var $=T[0];if(U===0)return(nt=this.createCellHandled($,f)).classList.add(z("low")),void l.appendChild(nt);var K=l.lastElementChild;if(U===1&&K.dataset.colId===$.id){if(ly(K)){var nt=this.createCellHandled($,f);return l.replaceChild(nt,K),void this.recycleCell(K,$.index)}return void this.updateCellImpl($,l.lastElementChild,f)}}for(var at=new Map(Array.from(l.children).slice(1).map((function(ut){return[ut.dataset.id,ut]}))),ct=0,wt=T;ct<wt.length;ct++){B=wt[ct];var Tt=at.get(B.id);if(Tt&&!ly(Tt))at.delete(B.id),this.updateCellImpl(B,Tt,f);else{var Ot=this.createCellHandled(B,f);Ot.classList.add(z("low")),l.appendChild(Ot)}}at.forEach((function(ut){ut.remove(),d.recycleCell(ut)}))}else for(;l.lastElementChild!==l.firstElementChild;){var Wt=l.lastElementChild;l.removeChild(Wt),this.recycleCell(Wt)}},s.prototype.updateCanvasCell=function(u,l,f,d,_){if(this.loadingCanvas.has(u)){var w=this.loadingCanvas.get(u),x=w.filter((function(U){return U.col===d.index}));if(x.length>0){this.loadingCanvas.set(u,w.filter((function(U){return U.col!==d.index})));for(var T=0,D=x;T<D.length;T++)D[T].render.abort()}}var N=u.getContext("2d");N.clearRect(_-1,0,d.width+2,u.height),N.save(),N.translate(_,0);var I=d.renderCell(N,f);if(N.restore(),typeof I!="boolean"&&Kl(I)&&this.pushLazyRedraw(u,_,d,I),I===!0||l.childElementCount!==1){var G=l.querySelector('[data-id="'.concat(d.id,'"]'));if(G&&!I)return G.remove(),void this.recycleCell(G,d.index);if(G)return this.updateCellImpl(d,G,f);var B=this.createCellHandled(d,f);B.classList.add(z("low")),l.appendChild(B)}},s.prototype.reindex=function(){this.columns.forEach((function(u,l){u.index=l}))},s.prototype.updateAll=function(){var u=this;this.columns.forEach((function(l,f){l.index=f,l.renderers=u.ctx.createRenderer(l.c)})),this._context=Object.assign({},this._context,{column:Cp(this.columns.map((function(l){return l.width})),100,Ui)}),this.updateColumnSummaryFlag(),this.events.fire(s.EVENT_RECREATE),p.prototype.recreate.call(this),this.events.fire(s.EVENT_WIDTH_CHANGED)},s.prototype.updateBody=function(){var u=this;this.hidden||(this.events.fire(s.EVENT_WIDTH_CHANGED),p.prototype.forEachRow.call(this,(function(l,f){return u.updateRow(l,f)})))},s.prototype.updateHeaderOf=function(u){var l=this._context.columns.findIndex((function(_){return _.c===u}));if(l<0)return!1;var f=this.header.children[l],d=this._context.columns[l];return f&&d&&this.updateHeader(f,d),this.updateColumnSummaryFlag(),f&&d},s.prototype.createRow=function(u,l){u.classList.add(this.style.cssClasses.tr),this.roptions.customRowUpdate(u,l),this.highlightHandler.enabled&&(u.addEventListener("mouseenter",this.highlightHandler.enter,lu),this.rowFlags(u).highlight=!0);var f=this.renderCtx.isGroup(l),d=this.toRowMeta(l);if(d?u.dataset.meta=d:delete u.dataset.meta,f)return u.dataset.agg="group",void p.prototype.createRow.call(this,u,l);var _=this.renderCtx.getRow(l).dataIndex;u.classList.toggle(be("highlighted"),this.highlight===_),u.dataset.i=_.toString(),u.dataset.agg="detail",this.selection.updateState(u,_),this.selection.add(u);var w=this.roptions.levelOfDetail(l)==="low";if(u.classList.toggle(z("low"),w),w&&!this.ctx.provider.isSelected(_)){var x=this.selectCanvas();u.appendChild(x),u.addEventListener("mouseenter",this.canvasMouseHandler.enter,lu),this.renderRow(x,u,l)}else p.prototype.createRow.call(this,u,l)},s.prototype.updateRow=function(u,l,f){this.roptions.customRowUpdate(u,l);var d=this.roptions.levelOfDetail(l),_=(f||d)==="low",w=u.classList.contains(z("low")),x=this.renderCtx.isGroup(l),T=u.dataset.agg==="group";u.classList.toggle(z("low"),d==="low"),this.highlightHandler.enabled&&!this.rowFlags(u).highlight&&(u.addEventListener("mouseenter",this.highlightHandler.enter,lu),this.rowFlags(u).highlight=!0),x!==T&&(me(u),u.dataset.agg=x?"group":"detail",x?(u.dataset.i="",this.selection.remove(u)):this.selection.add(u)),!w||d&&!x||u.removeEventListener("mouseenter",this.canvasMouseHandler.enter);var D=this.toRowMeta(l);if(D?u.dataset.meta=D:delete u.dataset.meta,x)return u.classList.remove(be("highlighted")),void p.prototype.updateRow.call(this,u,l);var N=this.renderCtx.getRow(l).dataIndex;u.classList.toggle(be("highlighted"),this.highlight===N),u.dataset.i=N.toString(),this.selection.updateState(u,N);var I=w&&u.firstElementChild.nodeName.toLowerCase()==="canvas"?u.firstElementChild:null;if(!_||this.ctx.provider.isSelected(N))return I&&(this.recycleCanvas(I),me(u),u.removeEventListener("mouseenter",this.canvasMouseHandler.enter)),void p.prototype.updateRow.call(this,u,l);if(w&&I)this.renderRow(I,u,l);else{me(u),u.dataset.agg="detail";var G=this.selectCanvas();u.appendChild(G),u.addEventListener("mouseenter",this.canvasMouseHandler.enter,lu),this.renderRow(G,u,l)}},s.prototype.updateCanvasBody=function(){var u=this;this.updateCanvasRule(),p.prototype.forEachRow.call(this,(function(l,f){s.isCanvasRenderedRow(l)&&u.renderRow(l.firstElementChild,l,f)}))},s.prototype.toRowMeta=function(u){var l=this,f=this.renderCtx.provider;return(function(d,_,w){if(It(d)){if(g1(d,_,w))return"first";var x=Dg(d,w);return x===0?"first":"first last".concat(x===1?"":x-1)}if(Mg(d.relativeIndex,d.group,w(d.group))==null)return null;var T=Dg(d,w);return T===0?null:"last".concat(T===1?"":T-1)})(this.renderCtx.getRow(u),f.getAggregationStrategy(),(function(d){return f.getTopNAggregated(l.ranking,d)}))},s.prototype.updateCanvasRule=function(){this.style.updateRule("renderCanvas".concat(this.tableId),".".concat(z("low-c".concat(this.tableId))),{transform:"translateX(".concat(this.currentCanvasShift,"px)"),width:"".concat(this.currentCanvasWidth,"px")})},s.prototype.updateShifts=function(u,l){p.prototype.updateShifts.call(this,u,l);var f=this.visibleRenderedWidth();l===this.currentCanvasShift&&f===this.currentCanvasWidth||(this.currentCanvasShift=l,this.currentCanvasWidth=f,this.updateCanvasBody())},s.prototype.recycleCanvas=function(u){if(this.loadingCanvas.has(u)){for(var l=0,f=this.loadingCanvas.get(u);l<f.length;l++)f[l].render.abort();this.loadingCanvas.delete(u)}else u.classList.contains(z("loading-c"))||this.canvasPool.push(u)},s.prototype.enableHighlightListening=function(u){var l=this;if(this.highlightHandler.enabled!==u){if(this.highlightHandler.enabled=u,u)return this.body.addEventListener("mouseleave",this.highlightHandler.leave,lu),void p.prototype.forEachRow.call(this,(function(f){f.addEventListener("mouseenter",l.highlightHandler.enter,lu),l.rowFlags(f).highlight=!0}));this.body.removeEventListener("mouseleave",this.highlightHandler.leave),p.prototype.forEachRow.call(this,(function(f){f.removeEventListener("mouseenter",l.highlightHandler.enter),l.rowFlags(f).highlight=!1}))}},s.prototype.updateHoveredRow=function(u,l){if(s.isCanvasRenderedRow(u)===l){var f=Number.parseInt(u.dataset.index,10);this.updateRow(u,f,l?"high":"low")}},s.prototype.forEachRow=function(u,l){return l===void 0&&(l=!1),p.prototype.forEachRow.call(this,(function(f,d){s.isCanvasRenderedRow(f)||u(f,d)}),l)},s.prototype.updateSelection=function(u){var l=this;p.prototype.forEachRow.call(this,(function(f,d){l.renderCtx.isGroup(d)?l.updateRow(f,d):l.selection.update(f,u)}),!0)},s.prototype.updateColumnWidths=function(){var u=this;this._context.column=Cp(this._context.columns.map((function(l){return l.width})),100,Ui),p.prototype.updateColumnWidths.call(this),this.context.columns.forEach((function(l){l instanceof cy&&l.updateWidthRule(u.style),l.renderers=u.ctx.createRenderer(l.c)})),this.events.fire(s.EVENT_WIDTH_CHANGED)},s.prototype.computeShiftedIndex=function(u){for(var l=this.context.columns,f=0,d=0,_=0,w=this.visibleColumns.frozen;_<w.length;_++){var x=w[_];if(x>=this.visibleColumns.first)break;f+=l[x].width+Ui,d--}d+=this.visibleColumns.first;for(var T=this.visibleColumns.first;T<u;++T)f+=l[T].width+Ui;return{leftOffset:f,indexOffset:d}},s.prototype.updateColumn=function(u){var l=this,f=this.context.columns[u];if(!f)return!1;var d=this.computeShiftedIndex(u),_=d.leftOffset,w=d.indexOffset;return p.prototype.forEachRow.call(this,(function(x,T){s.isCanvasRenderedRow(x)?l.updateCanvasCell(x.firstElementChild,x,T,f,_):l.updateCellImpl(f,x.children[u-w],T)})),!0},s.prototype.updateCellImpl=function(u,l,f){if(l){var d,_=this.updateCell(l,f,u);l!==(d=Wo(_)?this.handleCellReady(_.item,_.ready,u.index):_)&&d&&(this.initCellClasses(d,u.id),l.parentElement.replaceChild(d,l))}},s.prototype.initCellClasses=function(u,l){u.dataset.id=l,u.classList.add(be("td"),this.style.cssClasses.td,be("td-".concat(this.tableId)))},s.prototype.destroy=function(){p.prototype.destroy.call(this),this.style.deleteRule("hoverOnly".concat(this.tableId)),this.style.deleteRule("renderCanvas".concat(this.tableId)),this.ranking.flatColumns.forEach((function(u){return s.disableListener(u)}))},s.prototype.groupData=function(){var u=this,l=this.ranking.getGroups(),f=this.ctx.provider,d=d1(f.getAggregationStrategy()),_=[];if(l.length===0)return _;var w=function($,K,nt){_.push({group:$,dataIndex:K,relativeIndex:nt})};if(l.length===1&&l[0].name===ft.name){for(var x=l[0],T=x.order.length,D=0;D<T;++D)w(x,x.order[D],D);return _}for(var N=hb(l),I=function($){var K=f.getTopNAggregated(u.ranking,$),nt=$,at=$;if((K===0||d)&&_.push(nt),K!==0&&Array.isArray(at.subGroups)&&at.subGroups.length>0)for(var ct=0,wt=at.subGroups;ct<wt.length;ct++){var Tt=wt[ct];I(Tt)}else for(var Ot=K<0?nt.order.length:Math.min(K,nt.order.length),Wt=0;Wt<Ot;++Wt)w(nt,nt.order[Wt],Wt)},G=0,B=N;G<B.length;G++){var U=B[G];I(U)}return _},s.prototype.render=function(u,l){var f=this,d=this._context,_=this.data;if(this.data=u,this.columns.forEach((function(w,x){w.index=x,w.renderers=f.ctx.createRenderer(w.c)})),this._context=Object.assign({columns:this.columns,column:Cp(this.columns.map((function(w){return w.width})),100,Ui)},l),this.bodyScroller)return this.events.fire(s.EVENT_RECREATE),p.prototype.recreate.call(this,this.roptions.animation?(function(w,x,T){var D,N=function(U){return _I(x[U])},I=function(U){return _I(T[U])};if(x.reduce((function(U,$){return U+(It($)?1:0)}),0)===T.reduce((function(U,$){return U+(It($)?1:0)}),0))return{currentKey:I,previous:w,previousKey:N};var G,B=[Object.assign({},ou[0],{apply:function(U,$){ou[0].apply(U),U.mode===Nr.SHOW&&(U.node.style.transform="translate(0, ".concat((function(K,nt,at){D||(D=mI(x));var ct=T[K],wt=It(ct)?D.group2firstItemIndex.get(ct.name):D.item2groupIndex.get(ct.dataIndex);if(wt===void 0)return at;var Tt=nt.posByKey(N(wt));return Tt.pos>=0?Tt.pos:at})(U.current.index,$,U.previous.y)-U.nodeY,"px)"))}}),Object.assign({},ou[1],{apply:function(U,$,K){ou[1].apply(U),U.mode===Nr.HIDE&&(U.node.style.transform="translate(0, ".concat((function(nt,at,ct){G||(G=mI(T));var wt=x[nt],Tt=It(wt)?G.group2firstItemIndex.get(wt.name):G.item2groupIndex.get(wt.dataIndex);if(Tt===void 0)return ct;var Ot=at.posByKey(I(Tt));return Ot.pos>=0?Ot.pos:ct})(U.previous.index,K,U.current.y)-U.nodeY,"px)"))}}),ou[ou.length-1]];return{previous:w,previousKey:N,currentKey:I,phases:B}})(d,_,this.data):void 0)},s.prototype.setHighlight=function(u){this.highlight=u;var l=this.body.querySelector("[data-i].".concat(be("highlighted")));if(l&&l.classList.remove(be("highlighted")),u<0)return!1;var f=this.body.querySelector('[data-i="'.concat(u,'"]'));return f&&f.classList.add(be("highlighted")),f!=null},s.prototype.findNearest=function(u){var l=this,f=u.find((function(I){return!!l.body.querySelectorAll('[data-i="'.concat(I,'"]'))}));if(f!=null)return f;for(var d=this.visible,_=new Set(u),w=-1,x=-1,T=d.first;T>=0;--T)if(!It(D=this.data[T])&&_.has(D.dataIndex)){w=T;break}for(T=d.last;T<this.data.length;++T){var D;if(!It(D=this.data[T])&&_.has(D.dataIndex)){x=T;break}}if(w<0&&w<0)return-1;var N=w>=0&&d.first-w<x-d.last?w:x;return this.data[N].dataIndex},s.prototype.scrollIntoView=function(u){var l=this,f=this.body.querySelector('[data-i="'.concat(u,'"]'));if(f)return f.scrollIntoView(!0),!0;var d=this.data.findIndex((function(D){return!It(D)&&D.dataIndex===u}));if(d<0)return!1;var _=(function(){var D=l._context;if(D.exceptions.length===0||d<D.exceptions[0].index)return d*D.defaultRowHeight;var N=D.exceptions.slice().reverse().find((function(G){return G.index<=d}));if(!N)return-1;if(N.index===d)return N.y;var I=d-N.index-1;return N.y2+I*D.defaultRowHeight})();if(_<0)return!1;var w=this.bodyScroller;if(!w)return!1;var x=w.scrollTop;w.scrollTop=Math.min(_,w.scrollHeight-w.clientHeight),this.onScrolledVertically(w.scrollTop,w.clientHeight,x<w.scrollTop);var T=this.body.querySelector('[data-i="'.concat(u,'"]'));return!!T&&(T.scrollIntoView(!0),!0)},s.prototype.getHighlight=function(){var u=this.body.querySelector("[data-i]:hover, [data-i].".concat(be("highlighted")));return u?Number.parseInt(u.dataset.i,10):this.highlight},s.prototype.createCol=function(u,l){var f=this,d=Gt(u)&&!u.getCollapsed()?new cy(u,l,this.renderCtx,this.roptions.flags):new oS(u,l,this.renderCtx,this.roptions.flags);u.on("".concat(vt.EVENT_WIDTH_CHANGED,".body"),(function(){d.renderers=f.ctx.createRenderer(u),f.delayedUpdateColumnWidths()}));var _=Ba((function(){f.updateColumn(d.index)||s.disableListener(u)}),25);u.on(["".concat(vt.EVENT_RENDERER_TYPE_CHANGED,".body"),"".concat(vt.EVENT_GROUP_RENDERER_TYPE_CHANGED,".body")],(function(){d.renderers=f.ctx.createRenderer(u),_()}));var w=this;return u.on("".concat(vt.EVENT_DIRTY_HEADER,".body"),(function(){w.updateHeaderOf(d.c)||s.disableListener(u)})),u.on(Ve(".body",vt.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,vt.EVENT_DIRTY_CACHES),(function(){d.renderers=f.ctx.createRenderer(u),f.updateHeaderOf(d.c)||s.disableListener(u)})),u.on("".concat(vt.EVENT_DIRTY_VALUES,".body"),_),Gt(u)&&(u.on("".concat(ji.EVENT_COLLAPSE_CHANGED,".body"),(function(){s.disableListener(u);var x=d.index,T=f.createCol(u,x);T.index=x,f.columns.splice(x,1,T),f.delayedUpdateAll()})),u.getCollapsed()||(d.updateWidthRule(this.style),u.on("".concat(ji.EVENT_MULTI_LEVEL_CHANGED,".body"),(function(){d.updateWidthRule(f.style)})),u.on("".concat(ji.EVENT_MULTI_LEVEL_CHANGED,".bodyUpdate"),_))),d},s.isCanvasRenderedRow=function(u){return u.classList.contains(z("low"))&&u.childElementCount>=1&&u.firstElementChild.nodeName.toLowerCase()==="canvas"},s.disableListener=function(u){u.on("".concat(vt.EVENT_WIDTH_CHANGED,".body"),null),u.on(Ve(".body",vt.EVENT_RENDERER_TYPE_CHANGED,vt.EVENT_GROUP_RENDERER_TYPE_CHANGED,vt.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,vt.EVENT_DIRTY_CACHES,vt.EVENT_LABEL_CHANGED),null),u.on("".concat(fe.EVENT_DIRTY_HEADER,".body"),null),u.on("".concat(fe.EVENT_DIRTY_VALUES,".body"),null),Gt(u)&&(u.on("".concat(ji.EVENT_COLLAPSE_CHANGED,".body"),null),u.on("".concat(ji.EVENT_MULTI_LEVEL_CHANGED,".body"),null),u.on("".concat(ji.EVENT_MULTI_LEVEL_CHANGED,".bodyUpdate"),null))},s.EVENT_WIDTH_CHANGED=Mp.EVENT_WIDTH_CHANGED,s.EVENT_UPDATE_DATA=Mp.EVENT_UPDATE_DATA,s.EVENT_RECREATE=Mp.EVENT_RECREATE,s.EVENT_HIGHLIGHT_CHANGED=Mp.EVENT_HIGHLIGHT_CHANGED,s})(PX);const uu=HX;var Gn;(function(p){p.ITEM="item",p.BAND="band"})(Gn||(Gn={}));var sS=(function(){function p(s,u,l){this.left=s,this.right=u,this.dataIndices=l}return p.prototype.isSelected=function(s){return this.dataIndices.length===1?s.has(this.dataIndices[0]):this.dataIndices.some((function(u){return s.has(u)}))},p.prototype.update=function(s,u){s.setAttribute("data-i",String(this.dataIndices[0])),s.setAttribute("class",z("slope")),s.setAttribute("d","M0,".concat(this.left,"L").concat(u,",").concat(this.right))},p})(),zX=(function(){function p(s,u,l){this.left=s,this.right=u,this.dataIndices=l}return p.prototype.isSelected=function(s){return this.dataIndices.some((function(u){return s.has(u)}))},p.prototype.update=function(s,u){s.setAttribute("class",z("group-slope")),s.setAttribute("d","M0,".concat(this.left[0],"L").concat(u,",").concat(this.right[0],"L").concat(u,",").concat(this.right[1],"L0,").concat(this.left[1],"Z"))},p})(),UX=(function(){function p(s,u,l,f,d){d===void 0&&(d={}),this.header=s,this.body=u,this.id=l,this.ctx=f,this.leftSlopes=[],this.rightSlopes=[],this.pool=[],this.scrollListener=null,this.width=y9,this.height=0,this.current=null,this.chosen=new Set,this.chosenSelectionOnly=new Set,this._mode=Gn.ITEM,this.node=s.ownerDocument.createElementNS("http://www.w3.org/2000/svg","svg"),this.node.innerHTML='<g transform="translate(0,0)"></g>',s.classList.add(z("slopegraph-header")),this._mode=d.mode===Gn.BAND?Gn.BAND:Gn.ITEM,this.initHeader(s),u.classList.add(z("slopegraph")),this.body.style.height="1px",u.appendChild(this.node)}return p.prototype.init=function(){var s=this;this.hide();var u=this.body.parentElement.__le_scroller__,l=u.asInfo();u.push("animation",this.scrollListener=function(f){Math.abs(l.top-f.top)<5||(l=f,s.onScrolledVertically(f.top,f.height))})},p.prototype.initHeader=function(s){var u=this,l=z("active");s.innerHTML='<i title="Item" class="'.concat(this._mode===Gn.ITEM?l:"",'">').concat(Xn("Item"),`</i>
        <i title="Band" class="`).concat(this._mode===Gn.BAND?l:"",'">').concat(Xn("Band"),"</i>");var f=Array.from(s.children);f.forEach((function(d,_){d.onclick=function(w){w.preventDefault(),w.stopPropagation(),d.classList.contains(l)||(u.mode=_===0?Gn.ITEM:Gn.BAND,f.forEach((function(x,T){return x.classList.toggle(l,T===_)})))}}))},Object.defineProperty(p.prototype,"mode",{get:function(){return this._mode},set:function(s){s!==this._mode&&(this._mode=s,this.current&&this.rebuild(this.current.leftRanking,this.current.left,this.current.leftContext,this.current.rightRanking,this.current.right,this.current.rightContext))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hidden",{get:function(){return this.header.classList.contains(be("loading"))},set:function(s){this.header.classList.toggle(be("loading"),s),this.body.classList.toggle(be("loading"),s)},enumerable:!1,configurable:!0}),p.prototype.hide=function(){this.hidden=!0},p.prototype.show=function(){var s=this.hidden;this.hidden=!1,s&&this.revalidate()},p.prototype.destroy=function(){this.header.remove(),this.scrollListener&&this.body.parentElement.__le_scroller__.remove(this.scrollListener),this.body.remove()},p.prototype.rebuild=function(s,u,l,f,d,_){this.current={leftRanking:s,left:u,leftContext:l,right:d,rightRanking:f,rightContext:_};var w=this.prepareRightSlopes(d,_);this.computeSlopes(u,l,w),this.revalidate()},p.prototype.computeSlopes=function(s,u,l){var f=this,d=this.mode,_=new Map,w=0;this.leftSlopes=s.map((function(x,T){var D=u.exceptionsLookup.get(T)||u.defaultRowHeight,N=D-0,I=[],G=w;w+=D;var B,U=0,$=function(Wt,ut,kt,jt){kt===void 0&&(kt=1),jt===void 0&&(jt=0),I.push(Wt),Fc(ut.ref,(function(Nt){return f.rightSlopes[Nt].push(Wt)})),ut.offset+=kt*ut.heightPerRow,U+=kt*jt};if(It(x))B=x;else{var K=x,nt=K.dataIndex,at=l.get(nt);if(!at)return I;if(d===Gn.ITEM){var ct=new sS(G+N/2,at.start+at.offset+at.heightPerRow/2,[nt]);return $(ct,at),I}if(_.has(K.group))return _.get(K.group);var wt=(function(Wt,ut){for(var kt=0,jt=0,Nt=Wt;Nt<s.length;++Nt){var te=s[Nt];if(It(te)||te.group!==ut)break;kt++,jt+=u.exceptionsLookup.get(Nt)||u.defaultRowHeight}return{gr:ut,padded:jt-u.padding(Wt+kt-1),height:jt}})(T,K.group);B=wt.gr,D=wt.height,N=wt.padded,_.set(K.group,I)}var Tt=new Set(B.order),Ot=N/B.order.length;return Fc(B.order,(function(Wt){if(Tt.has(Wt)){Tt.delete(Wt);var ut=l.get(Wt);if(ut){var kt=(function(te,zt){for(var Le=[],Ge=0;Ge<te.length;++Ge)zt(te[Ge])&&Le.push(te[Ge]);return Le})(ut.rows,(function(te){return Tt.delete(te)}));kt.push(Wt);var jt,Nt=kt.length;jt=Nt===1?new sS(G+U+Ot/2,ut.start+ut.offset+ut.heightPerRow/2,[Wt]):d===Gn.ITEM?new sS(G+U+Ot*Nt/2,ut.start+ut.offset+ut.heightPerRow*Nt/2,kt):new zX([G+U,G+U+Ot*Nt],[ut.start+ut.offset,ut.start+ut.offset+ut.heightPerRow*Nt],kt),$(jt,ut,Nt,Ot)}}})),I}))},p.prototype.prepareRightSlopes=function(s,u){var l=new Map,f=this.mode,d=new Map,_=0;return this.rightSlopes=s.map((function(w,x){var T=u.exceptionsLookup.get(x)||u.defaultRowHeight,D=T-0,N=_;_+=T;var I=[],G={start:N,offset:0,ref:[x]};if(It(w)){var B=Object.assign(G,{rows:Array.from(w.order),heightPerRow:D/w.order.length,group:w});return Fc(w.order,(function(nt){return l.set(nt,B)})),I}var U=w,$=w.dataIndex,K=Object.assign(G,{rows:[$],heightPerRow:D,group:U.group});return f===Gn.ITEM?(l.set($,K),I):(d.has(U.group)?((K=d.get(U.group)).rows.push($),K.ref.push(x)):(K.heightPerRow=T,d.set(U.group,K)),l.set($,K),I)})),l},p.prototype.revalidate=function(){if(this.current&&!this.hidden){var s=this.body.parentElement;this.onScrolledVertically(s.scrollTop,s.clientHeight)}},p.prototype.highlight=function(s){var u=be("highlighted"),l=this.body.querySelector("[data-i].".concat(u));if(l&&l.classList.remove(u),s<0)return!1;var f=this.body.querySelector('[data-i="'.concat(s,'"]'));return f&&f.classList.add(u),f!=null},p.prototype.onScrolledVertically=function(s,u){if(this.current){var l=this.current,f=l.leftContext,d=l.rightContext,_=Gs(s,u,f.defaultRowHeight,f.exceptions,f.numberOfRows),w=Gs(s,u,d.defaultRowHeight,d.exceptions,d.numberOfRows),x=Math.min(_.firstRowPos,w.firstRowPos),T=Math.max(_.endPos,w.endPos);this.body.style.transform="translate(0, ".concat(x.toFixed(0),"px)"),this.body.style.height="".concat((T-x).toFixed(0),"px"),this.node.firstElementChild.setAttribute("transform","translate(0,-".concat(x.toFixed(0),")")),this.chosen=this.choose(_.first,_.last,w.first,w.last),this.render(this.chosen,this.chooseSelection(_.first,_.last,this.chosen))}},p.prototype.choose=function(s,u,l,f){for(var d=new Set,_=s;_<=u;++_)for(var w=0,x=this.leftSlopes[_];w<x.length;w++){var T=x[w];d.add(T)}for(_=l;_<=f;++_)for(var D=0,N=this.rightSlopes[_];D<N.length;D++)T=N[D],d.add(T);return d},p.prototype.chooseSelection=function(s,u,l){var f=new Set,d=this.ctx.provider;if(d.getSelection().length===0)return f;for(var _={has:function(G){return d.isSelected(G)}},w=0;w<s;++w)for(var x=0,T=this.leftSlopes[w];x<T.length;x++)(I=T[x]).isSelected(_)&&!l.has(I)&&f.add(I);for(w=u+1;w<this.leftSlopes.length;++w)for(var D=0,N=this.leftSlopes[w];D<N.length;D++){var I;(I=N[D]).isSelected(_)&&!l.has(I)&&f.add(I)}return f},p.prototype.updatePath=function(s,u,l,f,d){l.update(s,f),s.__data__=l;var _=l.isSelected(d);s.classList.toggle(z("selected"),_),_&&u.appendChild(s)},p.prototype.render=function(s,u){var l=this,f=this.node.firstElementChild,d=f.ownerSVGElement.getBoundingClientRect().width,_=this.matchLength(s.size+u.size,f),w=this.ctx.provider,x={has:function(N){return w.isSelected(N)}},T=0,D=function(N){l.updatePath(_[T++],f,N,d,x)};s.forEach(D),u.forEach(D)},p.prototype.addPath=function(s){var u=this,l=this.pool.pop();if(l)return s.appendChild(l),l;var f=s.ownerDocument.createElementNS("http://www.w3.org/2000/svg","path");return f.onclick=function(d){var _=f.__data__,w=u.ctx.provider,x=_.dataIndices;if(d.ctrlKey)x.forEach((function(D){return w.toggleSelection(D,!0)}));else{var T=w.isSelected(x[0]);w.setSelection(T?[]:x)}},s.appendChild(f),f},p.prototype.matchLength=function(s,u){for(var l=Array.from(u.children),f=s;f<l.length;++f){var d=l[f];this.pool.push(d),d.remove()}for(f=l.length;f<s;++f)l.push(this.addPath(u));return l},p.prototype.updateSelection=function(s){var u=this.node.firstElementChild,l=Array.from(u.children),f=new Set(s);if(s.size!==0){for(var d=0,_=l;d<_.length;d++){var w=($=(U=_[d]).__data__).isSelected(s);U.classList.toggle(z("selected"),w),w?(u.appendChild(U),$.dataIndices.forEach((function(K){return f.delete(K)}))):this.chosenSelectionOnly.delete($)&&U.remove()}if(f.size!==0)for(var x=u.ownerSVGElement.getBoundingClientRect().width,T=0,D=this.leftSlopes;T<D.length;T++)for(var N=0,I=D[T];N<I.length;N++)$=I[N],this.chosen.has($)||this.chosenSelectionOnly.has($)||!$.isSelected(f)||(this.chosenSelectionOnly.add($),U=this.addPath(u),this.updatePath(U,u,$,x,f))}else{for(var G=0,B=l;G<B.length;G++){var U,$=(U=B[G]).__data__;U.classList.toggle(z("selected"),!1),this.chosenSelectionOnly.has($)&&U.remove()}this.chosenSelectionOnly.clear()}},p})();const xI=UX;var WX=(function(){function p(s){var u=this;this.scrollerNode=s,this.blocks=[];var l=s.ownerDocument.createElement("div");this.node=l,l.classList.add(z("selection-indicator"));var f=s.ownerDocument.createElement("canvas");l.appendChild(f),this.canvas=f,this.canvas.width=4,this.canvas.addEventListener("click",(function(d){u.onClick(d.clientY-u.canvas.getBoundingClientRect().top)}))}return p.prototype.toSelectionBlocks=function(s,u,l,f){if(!(s&&u&&l&&l.size!==0&&f))return[];if(f>u.totalHeight)return[];var d=function(G){if(u.exceptions.length===0||G<u.exceptions[0].index)return G*u.defaultRowHeight;var B=u.exceptions.slice().reverse().find((function($){return $.index<=G}));if(!B)return-1;if(B.index===G)return B.y;var U=G-B.index-1;return B.y2+U*u.defaultRowHeight},_=[],w=null,x=-1;s.forEach((function(G,B){var U,$,K=It(G)?(function(nt,at){var ct=0,wt=0,Tt=nt.order.length;return Zv(nt.order,(function(Ot){return at.has(Ot)?ct++:wt++,!(2*ct>Tt||2*wt>Tt)})),2*ct>Tt})(G,l):l.has(G.dataIndex);if(K){if(w&&x+1===B)return w.height+=(U=u.exceptionsLookup.get(B))!==null&&U!==void 0?U:u.defaultRowHeight,void(x=B);w={firstRow:G,height:($=u.exceptionsLookup.get(B))!==null&&$!==void 0?$:u.defaultRowHeight,y:0,rawY:d(B)},_.push(w),x=B}}));for(var T=f/u.totalHeight,D=0,N=_;D<N.length;D++){var I=N[D];I.y=I.rawY*T,I.height=Math.max(1,I.height*T)}return _},p.prototype.updateData=function(s,u){this.data=s,this.rowContext=u,this.render()},p.prototype.updateSelection=function(s){this.selection=s,this.render()},p.prototype.onClick=function(s){if(this.blocks&&this.blocks.length!==0&&this.rowContext){var u=this.blocks.find((function(f){return s>=f.y&&s<=f.y+f.height}));if(u){var l=u.rawY-this.rowContext.defaultRowHeight;this.scrollerNode.scrollTo({behavior:"auto",top:Math.max(l,0)})}}},p.prototype.render=function(){var s=this.scrollerNode.offsetHeight;if(this.canvas.height=s,this.selection&&this.data&&this.rowContext&&(this.blocks=this.toSelectionBlocks(this.data,this.rowContext,this.selection,s),this.node.classList.toggle(z("some-selection"),this.blocks.length>0),this.blocks.length!==0)){var u=this.canvas.getContext("2d");u.resetTransform(),u.clearRect(0,0,4,s),u.fillStyle=g9;for(var l=0,f=this.blocks;l<f.length;l++){var d=f[l];u.fillRect(0,d.y,4,d.height)}}},p})();const EI=WX;var jX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),YX=(function(p){function s(u,l,f){var d=p.call(this)||this;d.data=u,d.rankings=[],d.slopeGraphs=[],d.updateAbles=[],d.zoomFactor=1,d.enabledHighlightListening=!1,d.options=f,d.idPrefix=d.options.instanceId?"lu-".concat(d.options.instanceId):"lu-".concat(Math.random().toString(36).slice(-8).substring(0,3)),d.node=l.ownerDocument.createElement("main"),d.node.id=d.idPrefix,d.node.classList.toggle(z("whole-hover"),f.expandLineOnHover),l.appendChild(d.node);var _,w,x,T=new pf({doc:l.ownerDocument,livePreviews:f.livePreviews,onDialogBackgroundClick:f.onDialogBackgroundClick});d.forward.apply(d,(function(U,$,K){if(arguments.length===2)for(var nt,at=0,ct=$.length;at<ct;at++)!nt&&at in $||(nt||(nt=Array.prototype.slice.call($,0,at)),nt[at]=$[at]);return U.concat(nt||Array.prototype.slice.call($))})([T],Ve(".main",s.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED),!1)),l.appendChild(T.node),d.ctx={idPrefix:d.idPrefix,document:l.ownerDocument,provider:u,tasks:u.getTaskExecutor(),dialogManager:T,resolveToolbarActions:function(U,$){return d.options.resolveToolbarActions(U,$,d.options.toolbarActions)},resolveToolbarDialogAddons:function(U,$){return d.options.resolveToolbarDialogAddons(U,$,d.options.toolbarDialogAddons)},flags:d.options.flags,asElement:(_=l.ownerDocument,w=new Map,x=_.createElement("div"),function(U){if(w.has(U))return w.get(U).cloneNode(!0);x.innerHTML=U;var $=x.firstElementChild;return w.set(U,$.cloneNode(!0)),$}),sanitize:NX(l.ownerDocument),renderer:function(U,$){var K=(function(nt,at){var ct=at[nt.getRenderer()];return ct&&typeof ct.create=="function"?ct:Kg})(U,d.options.renderers);return K.create(U,d.ctx,$)},groupRenderer:function(U,$){var K=(function(nt,at){var ct=at[nt.getGroupRenderer()];return ct&&typeof ct.createGroup=="function"?ct:Kg})(U,d.options.renderers);return K.createGroup(U,d.ctx,$)},summaryRenderer:function(U,$,K){var nt=(function(at,ct){var wt=ct[at.getSummaryRenderer()];return wt&&typeof wt.createSummary=="function"?wt:Kg})(U,d.options.renderers);return nt.createSummary(U,d.ctx,$,K)},createRenderer:function(U,$){return{single:this.renderer(U,$),group:this.groupRenderer(U,$),summary:f.summaryHeader?this.summaryRenderer(U,!1,$):null,singleId:U.getRenderer(),groupId:U.getGroupRenderer(),summaryId:U.getSummaryRenderer(),singleTemplate:null,groupTemplate:null,summaryTemplate:null}},getPossibleRenderer:function(U){return(function($,K,nt){var at=Object.keys(K).filter(Boolean).map((function(Ot){return{type:Ot,factory:K[Ot]}})),ct=at.filter((function(Ot){var Wt=Ot.type,ut=Ot.factory;return typeof ut.create=="function"&&ut.canRender($,Ne.CELL)&&(!nt||nt(Wt,ut,$,Ne.CELL))})),wt=at.filter((function(Ot){var Wt=Ot.type,ut=Ot.factory;return typeof ut.createGroup=="function"&&ut.canRender($,Ne.GROUP)&&(!nt||nt(Wt,ut,$,Ne.GROUP))})),Tt=at.filter((function(Ot){var Wt=Ot.type,ut=Ot.factory;return typeof ut.createSummary=="function"&&ut.canRender($,Ne.SUMMARY)&&(!nt||nt(Wt,ut,$,Ne.SUMMARY))}));return{item:ct.map((function(Ot){return{type:Ot.type,label:Ot.factory.title}})),group:wt.map((function(Ot){var Wt=Ot.type,ut=Ot.factory;return{type:Wt,label:ut.groupTitle||ut.title}})),summary:Tt.map((function(Ot){var Wt=Ot.type,ut=Ot.factory;return{type:Wt,label:ut.summaryTitle||ut.groupTitle||ut.title}}))}})(U,d.options.renderers,d.options.canRender)},colWidth:function(U){return U.isVisible()?U.getWidth():0},caches:{toolbar:new Map,toolbarAddons:new Map}},d.table=new LX(d.node,d.idPrefix);var D=d.table.node.querySelector(".".concat(be("body")," .").concat(be("footer"))),N=D.cloneNode(!0);N.classList.add(z("resize-helper")),D.insertAdjacentElement("afterend",N);var I=d.table.node.querySelector(".".concat(be("body")));d.selectionIndicator=new EI(I),l.insertBefore(d.selectionIndicator.node,d.node),d.style.addRule("lineup_rowPadding0",`
        .`.concat(d.style.cssClasses.tr),{marginTop:"".concat(f.rowPadding,"px")});for(var G=0;G<4;++G)d.style.addRule("lineup_groupPadding".concat(G),`
        .`.concat(d.style.cssClasses.tr,"[data-meta~=last").concat(G===0?"":G,"]"),{marginBottom:"".concat(f.groupPadding*(G+1),"px")});for(d.style.addRule("lineup_rowPaddingAgg0",`
        .`.concat(z("agg-level"),"::after"),{top:"-".concat(f.rowPadding,"px")}),G=1;G<=4;++G)d.style.addRule("lineup_rowPaddingAgg".concat(G),`
        .`.concat(z("agg-level"),"[data-level='").concat(G,"']::after"),{top:"-".concat(f.rowPadding+f.groupPadding,"px")});d.style.addRule("lineup_rotation",`
       #`.concat(d.idPrefix,".").concat(z("rotated-label")," .").concat(z("label"),".").concat(z("rotated")),{transform:"rotate(".concat(-d.options.labelRotation,"deg)")});var B=[];return d.options.flags.advancedRankingFeatures||B.push("ranking"),d.options.flags.advancedModelFeatures||B.push("model"),d.options.flags.advancedUIFeatures||B.push("ui"),B.length>0&&d.style.addRule("lineup_feature_disable",`
        `.concat(B.map((function(U){return".".concat(z("feature"),"-").concat(U,".").concat(z("feature-advanced"))})).join(", ")),{display:"none !important"}),d.initProvider(u),d.resizeObserver=new ResizeObserver(Ba((function(){d.update()}),100)),d.resizeObserver.observe(d.node.parentElement,{box:"content-box"}),d}return jX(s,p),Object.defineProperty(s.prototype,"style",{get:function(){return this.table.style},enumerable:!1,configurable:!0}),s.prototype.zoomOut=function(){this.zoomFactor=Math.max(this.zoomFactor-.1,.5),this.updateZoomFactor(),this.update()},s.prototype.zoomIn=function(){this.zoomFactor=Math.min(this.zoomFactor+.1,2),this.updateZoomFactor(),this.update()},s.prototype.updateZoomFactor=function(){this.node.querySelector("main").style.fontSize="".concat(100*this.zoomFactor,"%")},s.prototype.pushUpdateAble=function(u){this.updateAbles.push(u)},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_HIGHLIGHT_CHANGED,s.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.setDataProvider=function(u){this.takeDownProvider(),this.data=u,this.ctx.provider=u,this.ctx.tasks=u.getTaskExecutor(),this.initProvider(u)},s.prototype.takeDownProvider=function(){var u=this;this.data.on("".concat(Ce.EVENT_SELECTION_CHANGED,".body"),null),this.data.on("".concat(Ce.EVENT_ADD_RANKING,".body"),null),this.data.on("".concat(Ce.EVENT_REMOVE_RANKING,".body"),null),this.data.on("".concat(Ce.EVENT_GROUP_AGGREGATION_CHANGED,".body"),null),this.data.on("".concat(Ce.EVENT_SHOWTOPN_CHANGED,".body"),null),this.data.on("".concat(Ce.EVENT_JUMP_TO_NEAREST,".body"),null),this.data.on("".concat(Ce.EVENT_BUSY,".body"),null),this.rankings.forEach((function(l){return u.table.remove(l)})),this.rankings.splice(0,this.rankings.length),this.slopeGraphs.forEach((function(l){return u.table.remove(l)})),this.slopeGraphs.splice(0,this.slopeGraphs.length)},s.prototype.initProvider=function(u){var l=this;u.on("".concat(Ce.EVENT_SELECTION_CHANGED,".body"),(function(){return l.updateSelection(u.getSelection())})),u.on("".concat(Ce.EVENT_ADD_RANKING,".body"),(function(f){l.addRanking(f)})),u.on("".concat(Ce.EVENT_REMOVE_RANKING,".body"),(function(f){l.removeRanking(f)})),u.on("".concat(Ce.EVENT_GROUP_AGGREGATION_CHANGED,".body"),(function(f){l.update(l.rankings.filter((function(d){return d.ranking===f})))})),u.on("".concat(Ce.EVENT_SHOWTOPN_CHANGED,".body"),(function(){l.update(l.rankings)})),u.on("".concat(Ce.EVENT_JUMP_TO_NEAREST,".body"),(function(f){l.setHighlightToNearest(f,!0)})),this.ctx.provider=u,this.data.getRankings().forEach((function(f){return l.addRanking(f)}))},s.prototype.updateSelection=function(u){var l=new Set(u);this.rankings.forEach((function(f){return f.updateSelection(l)})),this.slopeGraphs.forEach((function(f){return f.updateSelection(l)})),this.selectionIndicator.updateSelection(l)},s.prototype.updateHist=function(u,l){if(this.options.summaryHeader){for(var f=0,d=u?[u]:this.rankings;f<d.length;f++){var _=d[f];l?_.updateHeaderOf(l):_.updateHeaders()}this.updateUpdateAbles()}},s.prototype.addRanking=function(u){var l=this;if(this.rankings.length>0){var f=this.table.pushSeparator((function(_,w){return new xI(_,w,"".concat(u.id,"S"),l.ctx,{mode:l.options.defaultSlopeGraphMode==="band"?Gn.BAND:Gn.ITEM})}));this.slopeGraphs.push(f)}var d=this.table.pushTable((function(_,w,x,T){return new uu(u,_,w,x,T,l.ctx,{animation:l.options.animated,customRowUpdate:l.options.customRowUpdate||function(){},levelOfDetail:l.options.levelOfDetail||function(){return"high"},flags:l.options.flags,selectionActivateFilter:l.options.selectionActivateFilter})}));d.on(uu.EVENT_WIDTH_CHANGED,(function(){l.updateRotatedHeaderState(),l.table.widthChanged()})),d.on(uu.EVENT_UPDATE_DATA,(function(){return l.update([d])})),d.on(uu.EVENT_RECREATE,(function(){return l.updateUpdateAbles()})),this.forward(d,uu.EVENT_HIGHLIGHT_CHANGED),this.enabledHighlightListening&&d.enableHighlightListening(!0),u.on(Ve(".renderer",fe.EVENT_ORDER_CHANGED),(function(){return l.updateHist(d)})),this.rankings.push(d),this.update([d])},s.prototype.updateRotatedHeaderState=function(){if(this.options.labelRotation!==0){var u=this.node.querySelector(".".concat(z("label"),".").concat(z("rotated")));this.node.classList.toggle(z("rotated-label"),!!u)}},s.prototype.removeRanking=function(u){if(!u)return this.rankings.splice(0,this.rankings.length),this.slopeGraphs.splice(0,this.slopeGraphs.length),void this.table.clear();var l=this.rankings.findIndex((function(_){return _.ranking===u}));if(!(l<0)){var f=this.rankings.splice(l,1)[0],d=this.slopeGraphs.splice(l===0?l:l-1,1)[0];this.table.remove(f),d&&this.table.remove(d)}},s.prototype.update=function(u){var l=this;if(u===void 0&&(u=this.rankings),(u=u.filter((function(N){return!N.hidden&&N.body.parentElement}))).length!==0){for(var f=function(N){return Vt(N,2)},d=f(this.zoomFactor*this.options.rowPadding),_=f(this.zoomFactor*this.options.groupPadding),w=function(N){var I=N.groupData(),G=(function(ct,wt){if(l.options.dynamicHeight){var Tt=l.options.dynamicHeight(wt,ct),Ot=function(kt,jt){return typeof kt=="number"?kt:kt(jt)};if(Tt)return{defaultHeight:f(l.zoomFactor*Tt.defaultHeight),height:function(kt){return f(l.zoomFactor*Ot(Tt.height,kt))},padding:function(kt){return f(l.zoomFactor*Ot(Tt.padding,kt))}}}var Wt=f(l.zoomFactor*l.options.rowHeight),ut=f(l.zoomFactor*l.options.groupHeight);return{defaultHeight:Wt,height:function(kt){return It(kt)?ut:Wt},padding:d}})(N.ranking,I),B=G.height,U=G.defaultHeight,$=G.padding,K=x.data.getAggregationStrategy(),nt=function(ct){return l.data.getTopNAggregated(N.ranking,ct)},at=Cp(I.map(B),U,(function(ct){var wt=typeof $=="number"?$:$(I[ct]||null),Tt=I[ct];return ct<0||!Tt||It(Tt)&&g1(Tt,K,nt)?wt:wt+_*Dg(Tt,nt)}));N.render(I,at),N===x.rankings[0]&&x.selectionIndicator.updateData(I,at)},x=this,T=0,D=u;T<D.length;T++)w(D[T]);this.updateSlopeGraphs(u),this.updateUpdateAbles(),this.updateRotatedHeaderState(),this.table.widthChanged()}},s.prototype.updateUpdateAbles=function(){for(var u=0,l=this.updateAbles;u<l.length;u++)(0,l[u])(this.ctx)},s.prototype.updateSlopeGraphs=function(u){var l=this;u===void 0&&(u=this.rankings);for(var f=new Set(u.map((function(N){return l.rankings.indexOf(N)}))),d=0;d<this.slopeGraphs.length;++d){var _=this.slopeGraphs[d];if(_.hidden)return;var w=d,x=d+1;if(!f.has(w)&&!f.has(x))return;var T=this.rankings[w],D=this.rankings[x];_.rebuild(T.ranking,T.currentData,T.context,D.ranking,D.currentData,D.context)}},s.prototype.setHighlight=function(u,l){var f=this.rankings.map((function(d){return d.setHighlight(u)}));return this.fire(s.EVENT_HIGHLIGHT_CHANGED,u),!(this.rankings.length===0||u<0)&&(l?this.rankings[0].scrollIntoView(u):f[0])},s.prototype.setHighlightToNearest=function(u,l){if(this.rankings.length===0)return!1;var f=this.rankings[0].findNearest(u);return f>=0?this.setHighlight(f,l):(this.setHighlight(-1,!1),!1)},s.prototype.getHighlight=function(){for(var u=0,l=this.rankings;u<l.length;u++){var f=l[u].getHighlight();if(f>=0)return f}return-1},s.prototype.enableHighlightListening=function(u){for(var l=0,f=this.rankings;l<f.length;l++)f[l].enableHighlightListening(u);this.enabledHighlightListening=u},s.prototype.destroy=function(){this.node.parentElement&&this.resizeObserver.unobserve(this.node.parentElement),this.resizeObserver.disconnect(),this.takeDownProvider(),this.table.destroy(),this.node.remove()},s.EVENT_HIGHLIGHT_CHANGED=uu.EVENT_HIGHLIGHT_CHANGED,s.EVENT_DIALOG_OPENED=pf.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED=pf.EVENT_DIALOG_CLOSED,s})(pa);const $i=YX;var $X=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),qX=(function(p){function s(u,l){var f=p.call(this,l)||this;return f.items=u,f}return $X(s,p),s.prototype.build=function(u){u.classList.add(z("more-options"),z("choose-options"));for(var l=0,f=this.items;l<f.length;l++){var d=f[l];u.appendChild(d)}},s})(uf);const XX=qX;var ZX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),KX=(function(p){function s(u){u===void 0&&(u={});var l=p.call(this)||this;return l.options={formatItem:function(f,d){d.textContent=f.text},doc:document,placeholder:"Select..."},l.values=[],Object.assign(l.options,u),l.node=l.options.doc.createElement("div"),l.node.classList.add(z("search")),l.node.innerHTML='<input class="'.concat(z("search-input"),`" type="search">
    <ul class="`).concat(z("search-list"),'"></ul>'),l.search=l.node.firstElementChild,l.search.placeholder=l.options.placeholder,l.body=l.node.lastElementChild,l.search.onfocus=function(){return l.focus()},l.search.onblur=function(){return l.blur()},l.search.oninput=function(){return l.filter()},l.search.onkeydown=function(f){return l.handleKey(f)},l.itemTemplate=l.options.doc.createElement("li"),l.itemTemplate.classList.add(z("search-item")),l.itemTemplate.innerHTML="<span></span>",l.groupTemplate=l.options.doc.createElement("li"),l.groupTemplate.classList.add(z("search-group")),l.groupTemplate.innerHTML="<span></span><ul></ul>",l}return ZX(s,p),Object.defineProperty(s.prototype,"data",{get:function(){return this.values},set:function(u){this.values=u,me(this.body),this.buildDialog(this.body,this.values)},enumerable:!1,configurable:!0}),s.prototype.buildDialog=function(u,l){for(var f=this,d=function(T){var D;(function(I){return I.id!==void 0})(T)?((D=_.itemTemplate.cloneNode(!0)).onmousedown=function(I){I.preventDefault()},D.onclick=function(){return f.select(T)},D.onmouseenter=function(){return f.highlighted=D},D.onmouseleave=function(){return f.highlighted=null},u.appendChild(D)):(D=_.groupTemplate.cloneNode(!0),_.buildDialog(D.lastElementChild,T.children),u.appendChild(D));var N=D.firstElementChild;_.options.formatItem(T,N)},_=this,w=0,x=l;w<x.length;w++)d(x[w])},s.prototype.handleKey=function(u){switch(u.key){case"Escape":this.search.blur();break;case"Enter":var l=this.highlighted;l?l.click():u.preventDefault();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext()}},s.prototype.select=function(u){this.search.value="",this.search.blur(),this.fire(s.EVENT_SELECT,u)},s.prototype.focus=function(){this.body.style.width="".concat(this.search.offsetWidth,"px"),this.highlighted=this.body.querySelector(s.SEARCH_ITEM_SELECTOR)||null,this.node.classList.add(z("search-open"))},Object.defineProperty(s.prototype,"highlighted",{get:function(){var u;return(u=this.body.getElementsByClassName(z("search-highlighted"))[0])!==null&&u!==void 0?u:null},set:function(u){var l=this.highlighted;l!==u&&(l&&l.classList.remove(z("search-highlighted")),u&&u.classList.add(z("search-highlighted")))},enumerable:!1,configurable:!0}),s.prototype.highlightNext=function(){var u=this.highlighted;if(u&&!u.classList.contains(z("hidden"))){var l=Array.from(this.body.querySelectorAll(s.SEARCH_ITEM_SELECTOR)),f=l.indexOf(u);this.highlighted=l[f+1]||null}else this.highlighted=this.body.querySelector(s.SEARCH_ITEM_SELECTOR)||null},s.prototype.highlightPrevious=function(){var u=this.highlighted,l=Array.from(this.body.querySelectorAll(s.SEARCH_ITEM_SELECTOR));if(u&&!u.classList.contains(z("hidden"))){var f=l.indexOf(u);this.highlighted=l[f-1]||null}else this.highlighted=l[l.length-1]||null},s.prototype.blur=function(){this.search.value="",this.filterResults(this.body,""),this.node.classList.remove(z("search-open"))},s.prototype.filter=function(){var u=this.filterResults(this.body,this.search.value.toLowerCase());this.body.classList.toggle(z("search-empty"),u)},s.prototype.filterResults=function(u,l){var f=this;if(l==="")return Array.from(u.getElementsByClassName(z("hidden"))).forEach((function(_){return _.classList.remove(z("hidden"))})),!1;var d=Array.from(u.children);return d.forEach((function(_){var w=!_.firstElementChild.innerHTML.toLowerCase().includes(l);if(_.classList.contains(z("search-group"))){var x=_.lastElementChild,T=f.filterResults(x,l);w=w&&T}_.classList.toggle(z("hidden"),w)})),d.every((function(_){return _.classList.contains(z("hidden"))}))},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_SELECT])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.EVENT_SELECT="select",s.SEARCH_ITEM_SELECTOR=".".concat(z("search-item"),":not(.").concat(z("hidden"),")"),s})(pa);const cu=KX;var JX=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const QX=(function(p){function s(u,l){var f=p.call(this,l,{livePreview:"rename"})||this;return f.ranking=u,f.before=u.getLabel(),f}return JX(s,p),s.prototype.build=function(u){u.classList.add(z("dialog-rename")),u.insertAdjacentHTML("beforeend",`
      <input type="text" value="`.concat(this.dialog.sanitize(this.ranking.getLabel()),'" required autofocus placeholder="name">'))},s.prototype.reset=function(){this.findInput('input[type="text"]').value=this.before},s.prototype.cancel=function(){this.ranking.setLabel(this.before)},s.prototype.submit=function(){var u=this.findInput('input[type="text"]').value;return this.ranking.setLabel(u),!0},s})(xr);var tZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const eZ=(function(p){function s(u,l,f){var d=p.call(this,l,{autoClose:!0})||this;return d.ranking=u,d.ctx=f,d}return tZ(s,p),s.prototype.addIcon=function(u,l,f){var d=this.ctx.sanitize(l);u.insertAdjacentHTML("beforeend",'<i title="'.concat(d,'" class="').concat(_a(l),'"><span>').concat(d,"</span> </i>")),u.lastElementChild.onclick=function(_){_.stopPropagation(),f(_)}},s.prototype.build=function(u){var l=this;u.classList.add(z("more-options")),this.addIcon(u,"Rename",(function(f){f.stopPropagation(),f.preventDefault(),new QX(l.ranking,Li(l.ctx,l.level+1,f)).open()})),this.addIcon(u,"Remove",(function(f){f.stopPropagation(),f.preventDefault(),l.destroy("confirm"),l.ctx.provider.removeRanking(l.ranking)}))},s})(uf);var rZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),nZ=(function(p){function s(u,l,f,d,_){var w=p.call(this,f)||this;return w.column=u,w.addons=l,w.ctx=d,w.onClick=_,w.handlers=[],w}return rZ(s,p),s.prototype.build=function(u){for(var l=0,f=this.addons;l<f.length;l++){var d=f[l];this.node.insertAdjacentHTML("beforeend","<strong>".concat(this.ctx.sanitize(d.title),"</strong>")),this.handlers.push(d.append(this.column,u,this.dialog,this.ctx))}},s.prototype.submit=function(){for(var u=0,l=this.handlers;u<l.length;u++)if(l[u].submit()===!1)return!1;return this.onClick&&this.onClick(),!0},s.prototype.cancel=function(){for(var u=0,l=this.handlers;u<l.length;u++)l[u].cancel()},s.prototype.reset=function(){for(var u=0,l=this.handlers;u<l.length;u++)l[u].reset()},s})(xr);const iZ=nZ;var aZ=(function(){function p(s,u){this.ctx=s,this.node=u.createElement("aside"),this.node.classList.add(z("hierarchy"),z("feature-advanced"),z("feature-ranking")),this.node.innerHTML=`
      <section class="`.concat(z("group-hierarchy"),`">
      </section>
      <section class="`).concat(z("sort-hierarchy"),`">
      </section>
      <section class="`).concat(z("sort-groups-hierarchy"),`">
      </section>
    `);var l={doc:u,placeholder:"Add Sort Criteria...",formatItem:function(f,d){d.classList.add(z("typed-icon")),d.dataset.typeCat=Uh(f.col).name,d.dataset.type=f.col.desc.type;var _=f.col.getHeaderLabel("reorder"),w=f.col.getSummaryLabel("reorder",!0);if(d.classList.toggle(z("searchbox-summary-entry"),!!w),w){var x=d.ownerDocument.createElement("span");_.asHTML?x.innerHTML=_.content:x.textContent=_.content,d.appendChild(x);var T=d.ownerDocument.createElement("span");w.asHTML?T.innerHTML=w.content:T.textContent=w.content,d.appendChild(T)}else _.asHTML?d.innerHTML=_.content:d.textContent=_.content}};this.groupAdder=new cu(Object.assign({},l,{placeholder:"Add Grouping Criteria..."})),this.groupSortAdder=new cu(Object.assign({},l,{placeholder:"Add Grouping Sort Criteria..."})),this.sortAdder=new cu(l)}return p.prototype.update=function(s){s?(this.node.style.display=null,this.renderGroups(s,this.node.firstElementChild),this.renderSorting(s,this.node.children[1]),this.renderGroupSorting(s,this.node.lastElementChild)):this.node.style.display="none"},p.prototype.render=function(s,u,l,f,d,_){var w=this,x=new Map(Array.from(s.children).map((function(T){return[T.dataset.id,T]})));me(s),u.forEach((function(T){var D=l(T),N=x.get(D.id);if(N)return s.appendChild(N),void hf(N,D,"reorder",0);var I=ty(D,d,w.ctx);s.insertAdjacentHTML("beforeend",'<div data-id="'.concat(D.id,'" class="').concat(z("toolbar")," ").concat(z("hierarchy-entry"),`">
      <div class="`).concat(z("label")," ").concat(z("typed-icon"),`"> </div>
      `).concat(I.length>0?'<i title="Customize" class="'.concat(_a("customize"),'">').concat(Xn("Customize"),"</i>"):"",`
      <i title="Move Up" class="`).concat(_a("Move Up"),'">').concat(Xn("Move Up"),`</i>
      <i title="Move Down" class="`).concat(_a("Move Down"),'">').concat(Xn("Move Down"),`</i>
      <i title="Remove from hierarchy" class="`).concat(_a("Remove"),'">').concat(Xn("Remove from hierarchy"),`</i>
      </div>`));var G=s.lastElementChild;function B(U){U.preventDefault(),U.stopPropagation()}G.firstElementChild.textContent=D.label,G.querySelector('i[title="Move Down"]').onclick=function(U){B(U),_(T,1)},G.querySelector('i[title="Move Up"]').onclick=function(U){B(U),_(T,-1)},G.querySelector("i[title^=Remove]").onclick=function(U){B(U),_(T,0)},I.length>0&&(G.querySelector("i[title=Customize]").onclick=function(U){B(U),w.customize(D,I,U)}),f(T,G),hf(G,D,"reorder",0)}))},p.prototype.renderGroups=function(s,u){var l=s.getGroupCriteria();l.length!==0?(this.render(u,l,(function(f){return f}),(function(f,d){d.insertAdjacentHTML("afterbegin",'<i title="Group" class="'.concat(_a("group"),'" data-group="true">').concat(Xn("Group"),"</i>"))}),"group",(function(f,d){if(d!==0){var _=f.isGroupedBy();f.findMyRanker().groupBy(f,_+d)}else f.groupByMe()})),this.addGroupAdder(s,l,u)):me(u)},p.prototype.renderSorting=function(s,u){var l=s.getSortCriteria();if(l.length!==0){var f=function(d,_){var w=d.col,x=w.isSortedByMe();isFinite(_)?_!==0?w.sortByMe(x.asc==="asc",x.priority+_):w.sortByMe(x.asc==="asc",-1):w.sortByMe(x.asc==="desc",x.priority)};this.render(u,l,(function(d){return d.col}),(function(d,_){_.insertAdjacentHTML("afterbegin",`
      <i title="Sort" class="`.concat(_a("sort"),'" data-sort="').concat(d.asc?"asc":"desc",'">').concat(Xn("Toggle Sorting"),"</i>")),_.querySelector("i[title=Sort]").onclick=function(w){w.preventDefault(),w.stopPropagation(),f(d,Number.POSITIVE_INFINITY)}}),"sort",f),this.addSortAdder(s,l,u)}else me(u)},p.prototype.renderGroupSorting=function(s,u){var l=s.getGroupSortCriteria();if(l.length!==0){var f=function(d,_){var w=d.col,x=w.isGroupSortedByMe();isFinite(_)?_!==0?w.groupSortByMe(x.asc==="asc",x.priority+_):w.groupSortByMe(x.asc==="asc",-1):w.groupSortByMe(x.asc==="desc",x.priority)};this.render(u,l,(function(d){return d.col}),(function(d,_){_.insertAdjacentHTML("afterbegin",`
      <i title="Sort Group" class="`.concat(_a("sort-groups"),'" data-sort="').concat(d.asc?"asc":"desc",'">').concat(Xn("Toggle Sorting"),"</i>")),_.querySelector('i[title="Sort Group"]').onclick=function(w){w.preventDefault(),w.stopPropagation(),f(d,Number.POSITIVE_INFINITY)}}),"sortGroup",f),this.addGroupSortAdder(s,l,u)}else me(u)},p.prototype.addAdder=function(s,u,l,f,d,_,w){var x=this,T=new Set(f);if(s.data=u.children.filter((function(N){return!kl(N)&&!T.has(N)&&_(N)})).map((function(N){return{col:N,id:N.id,text:N.label}})),s.on(cu.EVENT_SELECT,(function(N){var I=ty(N.col,l,x.ctx);I.length>0?x.customize(N.col,I,s.node,(function(){return w(N.col)})):w(N.col)})),!(s.data.length<=0)){var D=d.ownerDocument.createElement("footer");D.appendChild(s.node),D.classList.add(z("hierarchy-adder")),d.appendChild(D)}},p.prototype.addSortAdder=function(s,u,l){var f=this;this.addAdder(this.sortAdder,s,"sort",u.map((function(d){return d.col})),l,(function(d){return Qg(d,f.ctx).find((function(_){return _.title==="Sort"||_.title.startsWith("Sort By")}))!=null}),(function(d){s.sortBy(d,Ms(d),u.length)}))},p.prototype.addGroupAdder=function(s,u,l){var f=this;this.addAdder(this.groupAdder,s,"group",u,l,(function(d){return Qg(d,f.ctx).find((function(_){return _.title==="Group"||_.title.startsWith("Group By")}))!=null}),(function(d){s.groupBy(d,u.length)}))},p.prototype.addGroupSortAdder=function(s,u,l){var f=this;this.addAdder(this.groupSortAdder,s,"sortGroup",u.map((function(d){return d.col})),l,(function(d){return Qg(d,f.ctx).find((function(_){return _.title.startsWith("Sort Groups By")}))!=null}),(function(d){s.groupSortBy(d,Ms(d),u.length)}))},p.prototype.customize=function(s,u,l,f){new iZ(s,u,Li(this.ctx,0,l),this.ctx,f).open()},p})();const oZ=aZ,sZ=(function(){function p(s,u,l){var f=this;this.column=s,this.ctx=u,this.summaryUpdater=null,this.node=l.createElement("article"),this.node.classList.add(z("side-panel-entry")),this.node.dataset.colId=s.id,this.node.dataset.type=s.desc.type,this.summary=u.summaryRenderer(s,!0),this.column.on(Ve(".panel",ue.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_HEADER),(function(){f.update()})),this.column.on(Ve(".panel",vt.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,vt.EVENT_DIRTY_CACHES),(function(){f.recreateSummary()})),this.init(),this.update()}return p.prototype.init=function(){this.node.innerHTML=`
      <header class="`.concat(z("side-panel-entry-header"),`">
        <div class="`).concat(z("side-panel-labels"),`">
          <span class="`).concat(z("label")," ").concat(z("typed-icon")," ").concat(z("side-panel-label"),`"></span>
          <span class="`).concat(z("sublabel")," ").concat(z("side-panel-sublabel"),`"></span>
        </div>
        <div class="`).concat(z("toolbar")," ").concat(z("side-panel-toolbar"),`"></div>
      </header>`),JR(this.node.querySelector(".".concat(z("toolbar"))),0,this.column,this.ctx,"sidePanel",!1),this.appendSummary()},p.prototype.update=function(s){s===void 0&&(s=this.ctx),this.ctx=s,hf(this.node,this.column,"sidePanel"),this.updateSummary()},p.prototype.updateSummary=function(){var s=this.node.querySelector(".".concat(z("summary")));this.summaryUpdater&&(this.summaryUpdater.abort(),s.classList.remove(be("loading")),this.summaryUpdater=null);var u=this.summary.update(s);u&&(this.summaryUpdater=u,s.classList.add(be("loading")),u.then((function(l){typeof l!="symbol"&&s.classList.remove(be("loading"))})))},p.prototype.appendSummary=function(){var s=this.ctx.asElement(this.summary.template);s.classList.add(z("summary"),z("side-panel-summary"),z("renderer"),z("renderer-".concat(this.column.getSummaryRenderer()))),s.dataset.renderer=this.column.getSummaryRenderer(),s.dataset.interactive=Xe(this.column).toString(),this.node.appendChild(s)},p.prototype.recreateSummary=function(){this.node.removeChild(this.node.querySelector(".".concat(z("summary")))),this.summary=this.ctx.summaryRenderer(this.column,!0),this.appendSummary(),this.updateSummary()},p.prototype.destroy=function(){this.column.on(Ve(".panel",ue.EVENT_FILTER_CHANGED,vt.EVENT_DIRTY_HEADER,vt.EVENT_SUMMARY_RENDERER_TYPE_CHANGED,vt.EVENT_DIRTY_CACHES),null),this.node.remove()},p})();var lZ=(function(){function p(s,u,l,f){this.ranking=s,this.ctx=u,this.options=f,this.entries=new Map,this.node=l.createElement("section"),this.header=l.createElement("div"),this.dropdown=l.createElement("div"),this.node.classList.add(z("side-panel-ranking")),this.header.classList.add(z("side-panel-ranking-header"),z("side-panel-ranking-label")),this.dropdown.classList.add(z("side-panel-ranking-label")),this.dropdown.innerHTML='<span></span><i class="'.concat(_a("more"),'" title="More ">').concat(Xn("More "),"</i>"),this.header.innerHTML=this.dropdown.innerHTML,this.header.firstElementChild.textContent=s.getLabel(),this.header.lastElementChild.onclick=this.dropdown.lastElementChild.onclick=function(d){d.stopPropagation(),d.preventDefault(),new eZ(s,Li(u,1,d),u).open()},this.hierarchy=this.options.hierarchy?new oZ(u,l):null,this.init()}return p.prototype.init=function(){var s=this;this.node.innerHTML='<main class="'.concat(z("side-panel-ranking-main"),'"></main>'),this.hierarchy&&this.node.insertBefore(this.hierarchy.node,this.node.firstChild),this.hierarchy&&this.ranking.on(Ve(".panel",fe.EVENT_GROUP_CRITERIA_CHANGED,fe.EVENT_SORT_CRITERIA_CHANGED,fe.EVENT_GROUP_SORT_CRITERIA_CHANGED),(function(){s.updateHierarchy()})),this.ranking.on(Ve(".panel",fe.EVENT_ADD_COLUMN,fe.EVENT_REMOVE_COLUMN,fe.EVENT_MOVE_COLUMN),(function(){s.updateList(),s.updateHierarchy()})),this.ranking.on(Ve(".panel",fe.EVENT_LABEL_CHANGED),(function(){s.dropdown.firstElementChild.textContent=s.header.firstElementChild.textContent=s.ranking.getLabel()}))},Object.defineProperty(p.prototype,"active",{get:function(){return this.node.classList.contains(z("active"))},set:function(s){this.node.classList.toggle(z("active"),s),this.header.classList.toggle(z("active"),s),this.dropdown.classList.toggle(z("active"),s),s||(this.updateList(),this.updateHierarchy())},enumerable:!1,configurable:!0}),p.prototype.update=function(s){this.ctx=s,this.updateList(),this.updateHierarchy()},p.prototype.updateHierarchy=function(){this.hierarchy&&this.active&&this.hierarchy.update(this.ranking)},p.prototype.updateList=function(){var s=this;if(this.active){var u=this.node.querySelector("main"),l=this.ranking.flatColumns.filter((function(d){return!kl(d)}));if(l.length===0)return me(u),this.entries.forEach((function(d){return d.destroy()})),void this.entries.clear();var f=new Map(this.entries);this.entries.clear(),l.forEach((function(d,_){var w=f.get(d.id);if(w)return w.update(s.ctx),u.children[_]!==w.node&&u.appendChild(w.node),s.entries.set(d.id,w),void f.delete(d.id);var x=new sZ(d,s.ctx,u.ownerDocument);u.insertBefore(x.node,u.children[_]),s.entries.set(d.id,x)})),f.forEach((function(d){d.node.remove(),d.destroy()}))}},p.prototype.destroy=function(){this.header.remove(),this.node.remove(),this.ranking.on(Ve(".panel",fe.EVENT_GROUP_CRITERIA_CHANGED,fe.EVENT_SORT_CRITERIA_CHANGED,fe.EVENT_GROUP_SORT_CRITERIA_CHANGED,fe.EVENT_ADD_COLUMN,fe.EVENT_MOVE_COLUMN,fe.EVENT_REMOVE_COLUMN,fe.EVENT_LABEL_CHANGED),null),this.entries.forEach((function(s){return s.destroy()})),this.entries.clear()},p})();const uZ=lZ;function fy(p){return p.desc!=null}var cZ=(function(){function p(s,u,l){l===void 0&&(l={}),this.ctx=s,this.options={additionalDescs:[Ag("Weighted Sum"),i1("Scripted Formula"),n1("Nested"),r1(),Eg(),zc(),eg(),Yb(),Qv()],chooser:!0,hierarchy:!0,placeholder:"Add Column...",formatItem:function(f,d){var _=fy(f)?f:f.children[0];if(d.dataset.typeCat=_.category.name,d.classList.add(z("typed-icon")),fy(f)&&(d.dataset.type=_.desc.type),d.parentElement&&(d.parentElement.classList.add(z("feature-model")),d.parentElement.classList.toggle(z("feature-advanced"),_.category.featureLevel==="advanced"),d.parentElement.classList.toggle(z("feature-basic"),_.category.featureLevel==="basic"),fy(f))){var w=_.desc.summary||_.desc.description;if(d.classList.toggle(z("searchbox-summary-entry"),!!w),w){var x=d.ownerDocument.createElement("span");_.desc.labelAsHTML===!0?x.innerHTML=_.desc.label:typeof _.desc.labelAsHTML=="function"?x.innerHTML=_.desc.labelAsHTML(_.desc,"chooser"):x.textContent=_.desc.label,d.appendChild(x);var T=d.ownerDocument.createElement("span");return _.desc.summaryAsHTML===!0?T.innerHTML=w:typeof _.desc.summaryAsHTML=="function"?T.innerHTML=_.desc.summaryAsHTML(_.desc,"chooser"):T.textContent=w,void d.appendChild(T)}}fy(f)&&f.desc.labelAsHTML?typeof f.desc.labelAsHTML=="function"?d.innerHTML=f.desc.labelAsHTML(f.desc,"chooser"):d.innerHTML=f.text:Mn(d,f.text)},collapseable:!0},this.chooser=null,this.descs=[],this.rankings=[],Object.assign(this.options,l),this.node=u.createElement("aside"),this.node.classList.add(z("side-panel")),this.search=this.options.chooser?new cu(this.options):null,this.data=s.provider,this.init(),this.update(s)}return p.prototype.init=function(){var s=this;this.node.innerHTML=`
      <aside class="`.concat(z("stats"),`"></aside>
      <header class="`).concat(z("side-panel-rankings"),`">
        <i class="`).concat(z("action"),'" title="Choose ">').concat(Xn("Choose "),`</i>
      </header>
      <main class="`).concat(z("side-panel-main"),`"></main>
    `),this.node.querySelector("header > i").onclick=function(u){u.stopPropagation(),new XX(s.rankings.map((function(l){return l.dropdown})),Li(s.ctx,1,u)).open()},this.options.collapseable&&(this.node.insertAdjacentHTML("beforeend",'<div class="'.concat(z("collapser"),'" title="Collapse Panel">').concat(Xn("Collapse Panel"),"</div>")),this.node.lastElementChild.onclick=function(){return s.collapsed=!s.collapsed},this.collapsed=this.options.collapseable==="collapsed"),this.initChooser(),this.changeDataStorage(null,this.data)},p.prototype.initChooser=function(){var s=this;this.search&&(this.chooser=this.node.ownerDocument.createElement("header"),this.chooser.appendChild(this.chooser.ownerDocument.createElement("form")),this.chooser.classList.add(z("side-panel-chooser")),this.chooser.firstElementChild.appendChild(this.search.node),this.search.on(cu.EVENT_SELECT,(function(u){var l=s.data.create(u.desc);if(l){var f=s.active;f&&f.ranking.push(l)}})))},Object.defineProperty(p.prototype,"active",{get:function(){return this.rankings.find((function(s){return s.active}))},enumerable:!1,configurable:!0}),p.prototype.changeDataStorage=function(s,u){var l,f=this;s&&s.on(Ve(".panel",Ce.EVENT_ADD_RANKING,Ce.EVENT_REMOVE_RANKING,Ce.EVENT_ADD_DESC,Ce.EVENT_REMOVE_DESC,Ce.EVENT_CLEAR_DESC,Ce.EVENT_ORDER_CHANGED,Ce.EVENT_SELECTION_CHANGED),null),this.data=u;var d=function(_){return{desc:_,category:pD(_,u.columnTypes),id:"".concat(_.type,"@").concat(_.label),text:_.label}};(l=this.descs).splice.apply(l,(function(_,w,x){if(arguments.length===2)for(var T,D=0,N=w.length;D<N;D++)!T&&D in w||(T||(T=Array.prototype.slice.call(w,0,D)),T[D]=w[D]);return _.concat(T||Array.prototype.slice.call(w))})([0,this.descs.length],u.getColumns().filter((function(_){return _.visible!==!1})).concat(this.options.additionalDescs).map(d),!1)),u.on("".concat(Ce.EVENT_ADD_DESC,".panel"),(function(_){_.visible!==!1&&(f.descs.push(d(_)),f.updateChooser())})),u.on("".concat(Ce.EVENT_CLEAR_DESC,".panel"),(function(){f.descs.splice(0,f.descs.length),f.updateChooser()})),u.on("".concat(Ce.EVENT_REMOVE_DESC,".panel"),(function(_){if(_.visible!==!1){var w=f.descs.findIndex((function(x){return x.desc===_}));w>=0&&(f.descs.splice(w,1),f.updateChooser())}})),u.on(Ve(".panel",Ce.EVENT_SELECTION_CHANGED,Ce.EVENT_ORDER_CHANGED),(function(){f.updateStats()})),u.on(Ve(".panel",Ce.EVENT_ADD_RANKING),(function(_,w){f.createEntry(_,w),f.makeActive(w)})),u.on(Ve(".panel",Ce.EVENT_REMOVE_RANKING),(function(_,w){if(w<0)return f.rankings.splice(0,f.rankings.length).forEach((function(T){return T.destroy()})),f.node.querySelector("header").dataset.count="0",void f.makeActive(-1);var x=f.rankings.splice(w,1)[0];f.node.querySelector("header").dataset.count=String(f.rankings.length),x.destroy(),x.active&&f.makeActive(f.rankings.length===0?-1:Math.max(w-1,0))})),this.rankings.splice(0,this.rankings.length).forEach((function(_){return _.destroy()})),u.getRankings().forEach((function(_,w){f.createEntry(_,w)})),this.rankings.length>0&&this.makeActive(0),this.updateStats()},p.prototype.createEntry=function(s,u){var l=this,f=new uZ(s,this.ctx,this.node.ownerDocument,this.options),d=this.node.querySelector("header"),_=this.node.querySelector("main");d.insertBefore(f.header,d.children[u+1]),d.dataset.count=String(this.rankings.length+1),f.header.onclick=function(w){w.preventDefault(),w.stopPropagation(),l.makeActive(l.rankings.indexOf(f))},f.dropdown.onclick=f.header.onclick=function(w){w.preventDefault(),w.stopPropagation(),l.ctx.dialogManager.removeAboveLevel(0),l.makeActive(l.rankings.indexOf(f))},_.insertBefore(f.node,_.children[u]),this.rankings.splice(u,0,f)},Object.defineProperty(p.prototype,"collapsed",{get:function(){return this.node.classList.contains(z("collapsed"))},set:function(s){this.node.classList.toggle(z("collapsed"),s),s||(this.updateChooser(),this.updateStats(),this.updateRanking())},enumerable:!1,configurable:!0}),p.prototype.makeActive=function(s){this.rankings.forEach((function(d,_){return d.active=s===_}));var u=this.active;if(u&&this.chooser){u.node.insertAdjacentElement("afterbegin",this.chooser);var l=this.node.closest(".".concat(z())),f=l?l.querySelector('article[data-ranking="'.concat(u.ranking.id,'"]')):null;f&&f.scrollIntoView()}this.updateRanking()},p.prototype.updateRanking=function(){var s=this.active;s&&!this.collapsed&&s.update(this.ctx)},p.prototype.update=function(s){var u=this.data;this.ctx=s,s.provider!==u&&this.changeDataStorage(u,s.provider),this.updateChooser(),this.updateStats();var l=this.active;l&&l.update(s)},p.prototype.updateStats=function(){var s=this;if(!this.collapsed){var u=this.node.querySelector(".".concat(z("stats"))),l=this.data.getSelection(),f=l.length===0?"":'<i class="'.concat(z("action")," ").concat(z("action-clear-selection")," ").concat(z("stats-clear-selection"),'" title="Clear selection"><span class="').concat(z("aria"),'" aria-hidden="true">Clear Selection</span></i>'),d=this.data.getFirstRanking(),_=Wi(",d"),w=d?d.getGroups().reduce((function(N,I){return N+I.order.length}),0):0,x=this.data.getTotalNumberOfRows();u.innerHTML="Showing <strong>".concat(_(w),"</strong> of ").concat(_(x)," items").concat(l.length>0?"; <span>".concat(_(l.length)," selected ").concat(f,"</span>"):"").concat(w<x?' <i class="'.concat(z("action")," ").concat(z("action-filter")," ").concat(z("stats-reset"),'" title="Reset filters"><span>Reset</span></i>'):"");var T=u.querySelector(".".concat(z("stats-reset")));T&&(T.onclick=function(N){N.preventDefault(),N.stopPropagation(),s.data.clearFilters()});var D=u.querySelector(".".concat(z("stats-clear-selection")));D&&(D.onclick=function(N){N.preventDefault(),N.stopPropagation(),s.data.setSelection([])})}},p.prototype.destroy=function(){this.node.remove(),this.data&&(this.rankings.forEach((function(s){return s.destroy()})),this.rankings.length=0,this.data.on(Ve(".panel",Ce.EVENT_ADD_RANKING,Ce.EVENT_REMOVE_RANKING,Ce.EVENT_ADD_DESC),null))},p.groupByType=function(s){var u=new Map;return s.forEach((function(l){u.has(l.category)?u.get(l.category).push(l):u.set(l.category,[l])})),Array.from(u).map((function(l){var f=l[0],d=l[1];return{text:f.label,order:f.order,children:d.sort((function(_,w){return _.text.localeCompare(w.text)}))}})).sort((function(l,f){return l.order-f.order}))},p.prototype.updateChooser=function(){this.search&&!this.collapsed&&(this.search.data=p.groupByType(this.descs))},p})();const lS=cZ;var fZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();const Bs=(function(p){function s(u,l,f){f===void 0&&(f={});var d=p.call(this,u,l,f&&f.ignoreUnsupportedBrowser===!0)||this;return d.options=rS(),ny(d.options,f),d.options.copyableRows&&d.addCopyListener(),d.isBrowserSupported?(d.node.classList.add(z()),d.renderer=new $i(l,d.node,d.options),d.options.sidePanel?(d.panel=new lS(d.renderer.ctx,d.node.ownerDocument,{collapseable:!d.options.sidePanelCollapsed||"collapsed",hierarchy:d.options.hierarchyIndicator&&d.options.flags.advancedRankingFeatures}),d.renderer.pushUpdateAble((function(_){return d.panel.update(_)})),d.node.insertBefore(d.panel.node,d.node.firstChild)):d.panel=null,d.forward.apply(d,(function(_,w,x){if(arguments.length===2)for(var T,D=0,N=w.length;D<N;D++)!T&&D in w||(T||(T=Array.prototype.slice.call(w,0,D)),T[D]=w[D]);return _.concat(T||Array.prototype.slice.call(w))})([d.renderer],Ve(".main",$i.EVENT_HIGHLIGHT_CHANGED,$i.EVENT_DIALOG_OPENED,$i.EVENT_DIALOG_CLOSED),!1)),d):(d.renderer=null,d.panel=null,d)}return fZ(s,p),s.prototype.destroy=function(){this.node.classList.remove(z()),this.renderer&&this.renderer.destroy(),this.panel&&this.panel.destroy(),p.prototype.destroy.call(this)},s.prototype.update=function(){this.renderer&&this.renderer.update()},s.prototype.setDataProvider=function(u,l){p.prototype.setDataProvider.call(this,u,l),this.renderer&&(this.renderer.setDataProvider(u),this.update(),this.panel&&this.panel.update(this.renderer.ctx))},s.prototype.setHighlight=function(u,l){return l===void 0&&(l=!0),this.renderer!=null&&this.renderer.setHighlight(u,l)},s.prototype.getHighlight=function(){return this.renderer?this.renderer.getHighlight():-1},s.prototype.enableHighlightListening=function(u){this.renderer&&this.renderer.enableHighlightListening(u)},s.EVENT_SELECTION_CHANGED=ba.EVENT_SELECTION_CHANGED,s.EVENT_DIALOG_OPENED=ba.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED=ba.EVENT_DIALOG_CLOSED,s.EVENT_HIGHLIGHT_CHANGED=ba.EVENT_HIGHLIGHT_CHANGED,s})(ba);function TI(p){return{apply:function(s,u,l,f){var d=(function(x,T,D,N){var I=T-p.rowHeight-5,G=x.filter((function(ct){return!It(ct)})),B=x.length-G.length,U=G.reduce((function(ct,wt){return ct+(D.has(wt.dataIndex)?1:0)}),0),$=G.length-U,K=G.reduce((function(ct,wt){return ct+Dg(wt,N)}),0);if($<=0)return{height:p.rowHeight,violation:""};var nt=I-B*p.groupHeight-K*p.groupPadding-U*p.rowHeight,at=Math.floor(nt/$);return at<1?{height:1,violation:"Not possible to fit all rows on the screen."}:at>p.rowHeight?{height:p.rowHeight,violation:""}:{height:at,violation:""}})(s,u,l,f),_=d.violation,w=d.height;return{item:function(x){return l.has(x.dataIndex)?p.rowHeight:w},group:p.groupHeight,violation:_}},levelOfDetail:function(s,u){return u>=.9*(It(s)?p.groupHeight:p.rowHeight)?"high":"low"}}}var hZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),pZ=(function(p){function s(u,l,f){var d=p.call(this)||this;return d.data=u,d.isDynamicLeafHeight=!1,d.rule=null,d.levelOfDetail=null,d.options={violationChanged:function(){},rowPadding:2},Object.assign(d.options,f),d.renderer=new $i(u,l,Object.assign({},f,{dynamicHeight:function(_,w){return d.dynamicHeight(_,w)||(f.dynamicHeight?f.dynamicHeight(_,w):null)},levelOfDetail:function(_){return d.levelOfDetail?d.levelOfDetail(_):"high"}})),d.data.on("".concat(Ce.EVENT_SELECTION_CHANGED,".rule"),(function(){d.isDynamicLeafHeight&&d.update()})),d.forward.apply(d,(function(_,w,x){if(arguments.length===2)for(var T,D=0,N=w.length;D<N;D++)!T&&D in w||(T||(T=Array.prototype.slice.call(w,0,D)),T[D]=w[D]);return _.concat(T||Array.prototype.slice.call(w))})([d.renderer],Ve(".main",$i.EVENT_HIGHLIGHT_CHANGED,$i.EVENT_DIALOG_OPENED,$i.EVENT_DIALOG_CLOSED),!1)),d}return hZ(s,p),Object.defineProperty(s.prototype,"style",{get:function(){return this.renderer.style},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ctx",{get:function(){return this.renderer.ctx},enumerable:!1,configurable:!0}),s.prototype.pushUpdateAble=function(u){this.renderer.pushUpdateAble(u)},s.prototype.dynamicHeight=function(u,l){var f=this;if(!this.rule)return this.levelOfDetail=null,this.options.violationChanged(null,""),null;var d=this.renderer?this.renderer.node.querySelector("main").clientHeight:100,_=this.rule.apply(u,d,new Set(this.data.getSelection()),(function(x){return f.data.getTopNAggregated(l,x)}));this.isDynamicLeafHeight=typeof _.item=="function",this.options.violationChanged(this.rule,_.violation||"");var w=function(x){return It(x)?typeof _.group=="number"?_.group:_.group(x):typeof _.item=="number"?_.item:_.item(x)};return this.levelOfDetail=function(x){var T=u[x];return f.rule?f.rule.levelOfDetail(T,w(T)):"high"},{defaultHeight:typeof _.item=="number"?_.item:NaN,height:w,padding:0}},s.prototype.createEventList=function(){return p.prototype.createEventList.call(this).concat([s.EVENT_HIGHLIGHT_CHANGED,s.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED])},s.prototype.on=function(u,l){return p.prototype.on.call(this,u,l)},s.prototype.zoomOut=function(){this.renderer.zoomOut()},s.prototype.zoomIn=function(){this.renderer.zoomIn()},s.prototype.switchRule=function(u){this.rule!==u&&(this.rule=u,this.update())},s.prototype.getRule=function(){return this.rule},s.prototype.destroy=function(){this.renderer.destroy()},s.prototype.update=function(){this.renderer.update()},s.prototype.setDataProvider=function(u){var l=this;this.data&&this.data.on("".concat(Ce.EVENT_SELECTION_CHANGED,".rule"),null),this.data=u,this.data.on("".concat(Ce.EVENT_SELECTION_CHANGED,".rule"),(function(){l.isDynamicLeafHeight&&l.update()})),this.renderer.setDataProvider(u),this.update()},s.prototype.setHighlight=function(u,l){return this.renderer.setHighlight(u,l)},s.prototype.getHighlight=function(){return this.renderer.getHighlight()},s.prototype.enableHighlightListening=function(u){this.renderer.enableHighlightListening(u)},s.EVENT_HIGHLIGHT_CHANGED=$i.EVENT_HIGHLIGHT_CHANGED,s.EVENT_DIALOG_OPENED=$i.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED=$i.EVENT_DIALOG_CLOSED,s})(pa);const Dp=pZ;var dZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),vZ=(function(p){function s(u,l,f){f===void 0&&(f={});var d=p.call(this,u,l,f&&f.ignoreUnsupportedBrowser===!0)||this;return d.options=rS(),ny(d.options,f),ny(d.options,{violationChanged:function(_,w){return d.setViolation(w)}}),d.options.copyableRows&&d.addCopyListener(),d.spaceFillingRule=TI(d.options),d.isBrowserSupported?(d.node.classList.add(z(),z("taggle")),d.renderer=new Dp(l,d.node,d.options),d.options.sidePanel?(d.panel=new lS(d.renderer.ctx,d.node.ownerDocument,{collapseable:!d.options.sidePanelCollapsed||"collapsed",hierarchy:d.options.hierarchyIndicator&&d.options.flags.advancedRankingFeatures}),d.renderer.pushUpdateAble((function(_){return d.panel.update(_)})),d.node.insertBefore(d.panel.node,d.node.firstChild),d.panel.node.insertAdjacentHTML("afterbegin",'<div class="'.concat(z("rule-button-chooser")," ").concat(z("feature-advanced")," ").concat(z("feature-ui"),`"><label>
            <input type="checkbox">
            <span>Overview</span>
            <div class="`).concat(z("rule-violation"),`"></div>
          </label></div>`)),d.spaceFilling=d.panel.node.querySelector(".".concat(z("rule-button-chooser"))),d.spaceFilling.querySelector("input").onchange=function(){setTimeout((function(){d.setOverviewMode(!d.isOverviewMode())}))}):(d.panel=null,d.spaceFilling=null),d.options.overviewMode&&d.setOverviewMode(!0),d.forward.apply(d,(function(_,w,x){if(arguments.length===2)for(var T,D=0,N=w.length;D<N;D++)!T&&D in w||(T||(T=Array.prototype.slice.call(w,0,D)),T[D]=w[D]);return _.concat(T||Array.prototype.slice.call(w))})([d.renderer],Ve(".main",Dp.EVENT_HIGHLIGHT_CHANGED,Dp.EVENT_DIALOG_OPENED,Dp.EVENT_DIALOG_CLOSED),!1)),d):(d.spaceFilling=null,d.renderer=null,d.panel=null,d)}return dZ(s,p),s.prototype.isOverviewMode=function(){var u;return((u=this.renderer)===null||u===void 0?void 0:u.getRule())===this.spaceFillingRule},s.prototype.setOverviewMode=function(u){this.renderer&&(this.updateLodRules(u),this.renderer.switchRule(u?this.spaceFillingRule:null),this.spaceFilling&&(this.spaceFilling.classList.toggle(z("chosen"),u),this.spaceFilling.querySelector("input").checked=u))},s.prototype.updateLodRules=function(u){this.renderer&&CI(this.renderer.style,u,this.options)},s.prototype.setViolation=function(u){if(u=u||"",this.spaceFilling){this.spaceFilling.classList.toggle(z("violated"),!!u);var l=this.spaceFilling.querySelector(".".concat(z("rule-violation")));u?l.innerHTML=u.replace(/\n/g,"<br>"):l.textContent=""}},s.prototype.destroy=function(){this.node.classList.remove(z(),z("taggle")),this.renderer&&this.renderer.destroy(),this.panel&&this.panel.destroy(),p.prototype.destroy.call(this)},s.prototype.update=function(){this.renderer&&this.renderer.update()},s.prototype.setHighlight=function(u,l){return l===void 0&&(l=!0),this.renderer!=null&&this.renderer.setHighlight(u,l)},s.prototype.getHighlight=function(){return this.renderer?this.renderer.getHighlight():-1},s.prototype.enableHighlightListening=function(u){this.renderer&&this.renderer.enableHighlightListening(u)},s.prototype.setDataProvider=function(u,l){p.prototype.setDataProvider.call(this,u,l),this.renderer&&(this.renderer.setDataProvider(u),this.update(),this.panel.update(this.renderer.ctx))},s.EVENT_SELECTION_CHANGED=ba.EVENT_SELECTION_CHANGED,s.EVENT_DIALOG_OPENED=ba.EVENT_DIALOG_OPENED,s.EVENT_DIALOG_CLOSED=ba.EVENT_DIALOG_CLOSED,s.EVENT_HIGHLIGHT_CHANGED=ba.EVENT_HIGHLIGHT_CHANGED,s})(ba);const uS=vZ;function CI(p,s,u){if(!s)return p.deleteRule("taggle_lod_rule"),p.deleteRule("lineup_rowPadding1"),void p.deleteRule("lineup_rowPadding2");p.updateRule("taggle_lod_rule",`
  .`.concat(be("tr"),".").concat(z("low"),"[data-agg=detail]:hover"),{height:"".concat(u.rowHeight,"px !important")}),p.updateRule("lineup_rowPadding1",`
  .`.concat(be("tr"),".").concat(z("low")),{marginTop:"0"}),p.updateRule("lineup_rowPadding2",`
  .`.concat(be("tr"),".").concat(z("low"),".").concat(be("highlighted"),`,
  .`).concat(be("tr"),".").concat(z("selected"),`,
  .`).concat(be("tr"),".").concat(z("low"),":hover + .").concat(be("tr"),".").concat(z("low"),`,
  .`).concat(be("tr"),".").concat(z("low"),".").concat(be("highlighted")," + .").concat(be("tr"),".").concat(z("low"),`,
  .`).concat(be("tr"),".").concat(z("selected")," + .").concat(be("tr"),".").concat(z("low")),{marginTop:"".concat(u.rowPadding,"px !important")})}var AI=(function(){function p(s,u){this.desc={column:u,type:s,label:u?u[0].toUpperCase()+u.slice(1):s}}return p.prototype.label=function(s){return this.desc.label=s,this},p.prototype.htmlLabel=function(s,u){return this.desc.label=s,this.desc.labelAsHTML=u==null||u,this},p.prototype.hidden=function(){return this.desc.visible=!1,this},p.prototype.summary=function(s){return this.desc.summary=s,this},p.prototype.htmlSummary=function(s,u){return this.desc.summary=s,this.desc.summaryAsHTML=u==null||u,this},p.prototype.description=function(s){return this.desc.description=s,this},p.prototype.frozen=function(){return this.desc.frozen=!0,this},p.prototype.renderer=function(s,u,l){return s&&(this.desc.renderer=s),u&&(this.desc.groupRenderer=u),l&&(this.desc.summaryRenderer=l),this},p.prototype.custom=function(s,u){return this.desc[s]=u,this},p.prototype.width=function(s){return this.desc.width=s,this},p.prototype.color=function(s){return this},p.prototype.asArray=function(s){console.assert(["boolean","categorical","date","number","string","link"].includes(this.desc.type)),this.desc.type+="s";var u=this.desc;return Array.isArray(s)?(u.labels=s,u.dataLength=s.length):typeof s=="number"&&(u.dataLength=s),this},p.prototype.asMap=function(){return console.assert(["categorical","date","number","string","link"].includes(this.desc.type)),this.desc.type+="Map",this},p.prototype.build=function(s){return this.desc},p})();const $o=AI;function gZ(p,s){return new AI(p,s)}const yZ=(function(){function p(){this.options={renderers:{},toolbarActions:{},toolbarDialogAddons:{},flags:{}}}return p.prototype.animated=function(s){return this.options.animated=s,this},p.prototype.livePreviews=function(s){return this.options.livePreviews=s,this},p.prototype.labelRotation=function(s){return this.options.labelRotation=s,this},p.prototype.sidePanel=function(s,u){return u===void 0&&(u=!1),this.options.sidePanel=s,this.options.sidePanelCollapsed=u,this},p.prototype.hierarchyIndicator=function(s){return this.options.hierarchyIndicator=s,this},p.prototype.defaultSlopeGraphMode=function(s){return this.options.defaultSlopeGraphMode=s,this},p.prototype.summaryHeader=function(s){return this.options.summaryHeader=s,this},p.prototype.expandLineOnHover=function(s){return this.options.expandLineOnHover=s,this},p.prototype.overviewMode=function(){return this.options.overviewMode=!0,this},p.prototype.ignoreUnsupportedBrowser=function(){return this.options.ignoreUnsupportedBrowser=!0,this},p.prototype.registerRenderer=function(s,u){return this.options.renderers[s]=u,this},p.prototype.canRender=function(s){return this.options.canRender=s,this},p.prototype.registerToolbarAction=function(s,u){return this.options.toolbarActions[s]=u,this},p.prototype.registerToolbarDialogAddon=function(s,u){return this.options.toolbarDialogAddons[s]=u,this},p.prototype.rowHeight=function(s,u){return u===void 0&&(u=2),this.options.rowHeight=s,this.options.rowPadding=u,this},p.prototype.groupRowHeight=function(s,u){return u===void 0&&(u=5),this.options.groupHeight=s,this.options.groupPadding=u,this},p.prototype.dynamicHeight=function(s){return this.options.dynamicHeight=s,this},p.prototype.disableAdvancedRankingFeatures=function(){return this.options.flags.advancedRankingFeatures=!1,this},p.prototype.disableAdvancedModelFeatures=function(){return this.options.flags.advancedModelFeatures=!1,this},p.prototype.disableAdvancedUIFeatures=function(){return this.options.flags.advancedUIFeatures=!1,this},p.prototype.instanceId=function(s){return this.options.instanceId=s,this},p.prototype.selectionActivateFilter=function(s){return this.options.selectionActivateFilter=s,this},p.prototype.copyableRows=function(s){return this.options.copyableRows=s,this},p})();var hy=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))},cS=(function(){function p(){this.columns=[],this.sort=[],this.groupSort=[],this.groups=[]}return p.prototype.sortBy=function(s,u){if(u===void 0&&(u=!0),s.includes(":")){var l=s.indexOf(":");u=s.slice(l+1),s=s.slice(0,l)}return this.sort.push({column:s,asc:u===!0||String(u)[0]==="a"}),this},p.prototype.groupBy=function(){for(var s,u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];for(var f=0,d=u;f<d.length;f++){var _=d[f];Array.isArray(_)?(s=this.groups).push.apply(s,_):this.groups.push(_)}return this},p.prototype.groupSortBy=function(s,u){if(u===void 0&&(u=!0),s.includes(":")){var l=s.indexOf(":");u=s.slice(l+1),s=s.slice(0,l)}return this.groupSort.push({column:s,asc:u===!0||String(u)[0]==="a"}),this},p.prototype.column=function(s){if(typeof s=="string"){switch(s){case"_aggregate":return this.aggregate();case"_selection":return this.selection();case"_group":return this.group();case"_rank":return this.rank();case"_*":return this.supportTypes();case"*":return this.allColumns()}return this.columns.push(s),this}var u=s.label||null;switch(s.type){case"impose":return this.impose(u,s.column,s.colorColumn);case"min":case"max":case"median":case"mean":return console.assert(s.columns.length>=2),this.reduce.apply(this,hy([u,s.type,s.columns[0],s.columns[1]],s.columns.slice(2),!1));case"nested":return console.assert(s.columns.length>=1),this.nested.apply(this,hy([u,s.columns[0]],s.columns.slice(1),!1));case"script":return this.scripted.apply(this,hy([u,s.code],s.columns,!1));case"weightedSum":console.assert(s.columns.length>=2),console.assert(s.columns.length===s.weights.length);var l=[];return s.columns.slice(2).forEach((function(f,d){l.push(f),l.push(s.weights[d+2])})),this.weightedSum.apply(this,hy([u,s.columns[0],s.weights[0],s.columns[1],s.weights[1]],l,!1))}},p.prototype.impose=function(s,u,l){return this.columns.push({desc:function(f){var d=f.getColumns().find((function(_){return _.label===u||_.column===u}));switch(d?d.type:""){case"boxplot":return t1(s||void 0);case"numbers":return e1(s||void 0);default:return Eg(s||void 0)}},columns:[u,l]}),this},p.prototype.nested=function(s,u){for(var l=[],f=2;f<arguments.length;f++)l[f-2]=arguments[f];return this.columns.push({desc:n1(s||void 0),columns:[u].concat(l)}),this},p.prototype.composite=function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];return this.columns.push({desc:s,columns:u}),this},p.prototype.weightedSum=function(s,u,l,f,d){for(var _=[],w=5;w<arguments.length;w++)_[w-5]=arguments[w];var x=[l,d].concat(_.filter((function(T,D){return D%2==1})));return this.columns.push({desc:Ag(s||void 0),columns:[u,f].concat(_.filter((function(T,D){return D%2==0}))),post:function(T){T.setWeights(x)}}),this},p.prototype.reduce=function(s,u,l,f){for(var d=[],_=4;_<arguments.length;_++)d[_-4]=arguments[_];return this.columns.push({desc:r1(s||void 0),columns:[l,f].concat(d),post:function(w){w.setReduce(u)}}),this},p.prototype.scripted=function(s,u){for(var l=[],f=2;f<arguments.length;f++)l[f-2]=arguments[f];return this.columns.push({desc:Object.assign(i1(s||void 0),{script:u}),columns:l}),this},p.prototype.selection=function(){return this.columns.push({desc:eg(),columns:[]}),this},p.prototype.group=function(){return this.columns.push({desc:Yb(),columns:[]}),this},p.prototype.aggregate=function(){return this.columns.push({desc:Qv(),columns:[]}),this},p.prototype.rank=function(){return this.columns.push({desc:zc(),columns:[]}),this},p.prototype.supportTypes=function(){return this.aggregate().rank().selection()},p.prototype.allColumns=function(){return this.columns.push(p.ALL_MAGIC_FLAG),this},p.prototype.build=function(s){var u=s.pushRanking(),l=s.getColumns(),f=function(T){return l.find((function(D){return D.label===T||D.column===T}))};this.columns.forEach((function(T){if(T!==p.ALL_MAGIC_FLAG)if(typeof T!="string"){var D=s.create(typeof T.desc=="function"?T.desc(s):T.desc);u.push(D),T.columns.forEach((function(N){var I=f(N),G=I?s.create(I):null;G?D.push(G):console.warn("invalid column: ",N)})),T.post&&T.post(D)}else(function(N){var I=f(N);I?s.push(u,I):console.warn("invalid column: ",N)})(T);else l.forEach((function(N){return s.push(u,N)}))}));var d=u.children,_=[];this.groups.forEach((function(T){var D=d.find((function(G){return G.desc.label===T||G.desc.column===T}));if(D)_.push(D);else{var N=f(T);if(N){var I=s.push(u,N);I?_.push(I):console.warn("invalid group criteria column: ",T)}else console.warn("invalid group criteria column: ",T)}})),_.length>0&&u.setGroupCriteria(_);var w=[];this.sort.forEach((function(T){var D=T.column,N=T.asc,I=d.find((function(U){return U.desc.label===D||U.desc.column===D}));if(I)w.push({col:I,asc:N});else{var G=f(D);if(G){var B=s.push(u,G);B?w.push({col:B,asc:N}):console.warn("invalid sort criteria column: ",D)}else console.warn("invalid sort criteria column: ",D)}})),w.length>0&&u.setSortCriteria(w);var x=[];return this.groupSort.forEach((function(T){var D=T.column,N=T.asc,I=d.find((function(U){return U.desc.label===D||U.desc.column===D}));if(I)x.push({col:I,asc:N});else{var G=f(D);if(G){var B=s.push(u,G);B?x.push({col:B,asc:N}):console.warn("invalid group sort criteria column: ",D)}else console.warn("invalid group sort criteria column: ",D)}})),x.length>0&&u.setGroupSortCriteria(x),u},p.ALL_MAGIC_FLAG="*",p})();function MI(){return new cS}var mZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),DI=(function(p){function s(u){return p.call(this,"categorical",u)||this}return mZ(s,p),s.prototype.asOrdinal=function(){return this.desc.type="ordinal",this},s.prototype.categories=function(u){return this.desc.categories=u,this},s.prototype.asSet=function(u){return u&&(this.desc.separator=u),this.desc.type="set",this},s.prototype.derive=function(u){var l=new Set,f=this.desc.type==="set",d=this.desc.separator||";",_=function(x){return typeof x=="string"&&x!==""?x:x!=null&&typeof x.value=="string"&&x.value!==""?x.value:null},w=this.desc.column;u.forEach((function(x){var T=jo(x,w);Array.isArray(T)?T.forEach((function(D){return l.add(_(D))})):T!=null&&T!==""&&(f?[T.toString()]:T.toString().split(d)).forEach((function(D){return l.add(_(D))}))})),this.categories(l1(l))},s.prototype.build=function(u){return this.desc.categories||this.derive(u),p.prototype.build.call(this,u)},s})($o);const _Z=DI;function bZ(p,s){var u=new DI(p);return s&&u.categories(s),u}var SZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),LI=(function(p){function s(u){return p.call(this,"number",u)||this}return SZ(s,p),s.prototype.mapping=function(u,l,f){return u==="linear"?(this.desc.domain=l,f&&(this.desc.range=f),this):(this.desc.map={type:u,domain:l,range:f??[0,1]},this)},s.prototype.color=function(u){return this.colorMapping(u)},s.prototype.colorMapping=function(u){return this.desc.colorMapping=u,this},s.prototype.numberFormat=function(u){return this.desc.numberFormat=u,this},s.prototype.scripted=function(u,l){return this.desc.map={domain:l,code:u,type:"script"},this},s.prototype.asArray=function(u,l){return l&&(this.desc.sort=l),p.prototype.asArray.call(this,u)},s.prototype.asMap=function(u){return u&&(this.desc.sort=u),p.prototype.asMap.call(this)},s.prototype.asBoxPlot=function(u){return u&&(this.desc.sort=u),this.desc.type="boxplot",this},s.prototype.derive=function(u){var l=this.desc.column,f=function(d,_){var w=[];return(Array.isArray(d)?d:[d]).forEach((function(x){typeof x!="number"||Number.isNaN(x)||w.push(x),x==null||typeof x.value!="number"||Number.isNaN(x.value)||w.push(x.value),x==null||typeof x[_]!="number"||Number.isNaN(x[_])||w.push(x[_])})),w};return[k(u,(function(d){var _=jo(d,l),w=f(_,"min");return w.length===0?Number.POSITIVE_INFINITY:k(w)})),F(u,(function(d){var _=jo(d,l),w=f(_,"max");return w.length===0?Number.NEGATIVE_INFINITY:F(w)}))]},s.prototype.build=function(u){if(this.desc.map||this.desc.domain){var l=this.desc.domain||this.desc.map.domain;if(Number.isNaN(l[0])||l[0]==null||Number.isNaN(l[1])||l[1]==null){var f=this.derive(u);(Number.isNaN(l[0])||l[0]==null)&&(l[0]=f[0]),(Number.isNaN(l[1])||l[1]==null)&&(l[1]=f[1])}}else this.mapping("linear",this.derive(u));return p.prototype.build.call(this,u)},s})($o);const wZ=LI;function xZ(p,s){var u=new LI(p);return s&&u.mapping("linear",s),u}var EZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),NI=(function(p){function s(u){return p.call(this,"string",u)||this}return EZ(s,p),s.prototype.editable=function(){return this.desc.type="annotate",this},s.prototype.alignment=function(u){return this.desc.alignment=u,this},s.prototype.html=function(){return this.desc.escape=!1,this},s.prototype.pattern=function(u,l){return this.desc.type="link",this.desc.pattern=u,l&&(this.desc.patternTemplates=l),this},s})($o);const TZ=NI;function CZ(p){return new NI(p)}var AZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),RI=(function(p){function s(u){return p.call(this,"date",u)||this}return AZ(s,p),s.prototype.format=function(u,l){return this.desc.dateFormat=u,l&&(this.desc.dateParse=l),this},s})($o);const MZ=RI;function DZ(p){return new RI(p)}var LZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),II=(function(p){function s(u){return p.call(this,"hierarchy",u)||this}return LZ(s,p),s.prototype.hierarchy=function(u,l){return this.desc.hierarchy=u,l&&(this.desc.hierarchySeparator=l),this},s.prototype.build=function(u){return console.assert(!!this.desc.hierarchy),p.prototype.build.call(this,u)},s})($o);const NZ=II;function RZ(p,s){var u=new II(p);return s&&u.hierarchy(s),u}var IZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),OI=(function(p){function s(){return p.call(this,"actions","")||this}return IZ(s,p),s.prototype.action=function(u){return this.actions([u])},s.prototype.actions=function(u){var l;return this.desc.actions||(this.desc.actions=[]),(l=this.desc.actions).push.apply(l,u),this},s.prototype.groupAction=function(u){return this.groupActions([u])},s.prototype.groupActions=function(u){var l;return this.desc.groupActions||(this.desc.groupActions=[]),(l=this.desc.groupActions).push.apply(l,u),this},s})($o);const OZ=OI;function PZ(){return new OI}var kZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),PI=(function(p){function s(u){return p.call(this,"boolean",u)||this}return kZ(s,p),s.prototype.trueMarker=function(u){return this.desc.trueMarker=u,this},s.prototype.falseMarker=function(u){return this.desc.falseMarker=u,this},s.prototype.trueValues=function(u){return this.desc.trueValues=u,this},s})($o);const VZ=PI;function GZ(p){return new PI(p)}var FZ=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),kI=(function(p){function s(u){var l=p.call(this)||this;return l.data=u,l.columns=[],l.providerOptions={columnTypes:{}},l.rankBuilders=[],l._deriveColors=!1,l}return FZ(s,p),s.prototype.scheduledTaskExecutor=function(){return this.providerOptions.taskExecutor="scheduled",this},s.prototype.showTopN=function(u){return this.providerOptions.showTopN=u,this},s.prototype.aggregationStrategy=function(u){return this.providerOptions.aggregationStrategy=u,this},s.prototype.propagateAggregationState=function(u){return this.providerOptions.propagateAggregationState=u,this},s.prototype.singleSelection=function(){return this.providerOptions.singleSelection=!0,this},s.prototype.multiSelection=function(){return this.providerOptions.singleSelection=!1,this},s.prototype.filterGlobally=function(){return this.providerOptions.filterGlobally=!0,this},s.prototype.deriveColumns=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];for(var f=[].concat.apply([],u),d=0,_=u1(this.data,{columns:f});d<_.length;d++){var w=_[d];this.columns.push(w)}return this},s.prototype.deriveColors=function(){return this._deriveColors=!0,this},s.prototype.registerColumnType=function(u,l){return this.providerOptions.columnTypes[u]=l,this},s.prototype.column=function(u){return this.columns.push(u instanceof $o?u.build.bind(u):u),this},s.prototype.restore=function(u){return this.rankBuilders.push((function(l){return l.restore(u)})),this},s.prototype.defaultRanking=function(u){return u===void 0&&(u=!0),this.rankBuilders.push((function(l){return l.deriveDefault(u)})),this},s.prototype.ranking=function(u){return this.rankBuilders.push(u instanceof cS?u.build.bind(u):u),this},s.prototype.buildData=function(){for(var u=[],l=new Set,f=function(T){var D=typeof T=="function"?T(d.data):T,N="".concat(D.type,"@").concat(D.label,"@").concat(D.summary);if(!l.has(N))return u.push(D),l.add(N),"continue";var I=u.findIndex((function(G){return N==="".concat(G.type,"@").concat(G.label,"@").concat(D.summary)}));u.splice(I,1,D)},d=this,_=0,w=this.columns;_<w.length;_++)f(w[_]);this._deriveColors&&c1(u);var x=new tu(this.data,u,this.providerOptions);return this.rankBuilders.length===0&&this.defaultRanking(),this.rankBuilders.forEach((function(T){return T(x)})),x},s.prototype.build=function(u){return new Bs(u,this.buildData(),this.options)},s.prototype.buildTaggle=function(u){return new uS(u,this.buildData(),this.options)},s})(yZ);function fS(p){return new kI(p)}function BZ(p,s){for(var u=[],l=2;l<arguments.length;l++)u[l-2]=arguments[l];return fS(s).deriveColumns(u).deriveColors().defaultRanking().buildTaggle(p)}function HZ(p,s){for(var u=[],l=2;l<arguments.length;l++)u[l-2]=arguments[l];return fS(s).deriveColumns(u).deriveColors().defaultRanking().build(p)}var Fn=function(){return Fn=Object.assign||function(p){for(var s,u=1,l=arguments.length;u<l;u++)for(var f in s=arguments[u])Object.prototype.hasOwnProperty.call(s,f)&&(p[f]=s[f]);return p},Fn.apply(this,arguments)};function Hs(p,s){var u=p.column,l={column:u,type:p.type,label:u?u[0].toUpperCase()+u.slice(1):p.type};if(["label","description","frozen","width","renderer","groupRenderer","summaryRenderer","visible","fixed"].forEach((function(_){Object.prototype.hasOwnProperty.call(p,_)&&(l[_]=p[_])})),p.custom&&Object.assign(l,p.custom),p.asMap&&(console.assert(["categorical","date","number","string","link"].includes(l.type)),l.type+="Map"),p.asArray!=null){console.assert(["boolean","categorical","date","number","string","link"].includes(l.type)),l.type+="s";var f=l,d=p.asArray;Array.isArray(d)?(f.labels=d,f.dataLength=d.length):typeof d=="number"&&(f.dataLength=d)}return l}function zZ(p,s){var u=Hs(Fn(Fn({},p),{type:"categorical"}));if(p.asOrdinal&&(u.type="ordinal"),p.missingCategory&&(u.missingCategory=p.missingCategory),p.asSet&&(typeof p.asSet=="string"&&(u.separator=p.asSet),u.type="set"),p.categories)u.categories=p.categories;else{var l=new Set(s.map((function(f){return jo(f,u.column)})));u.categories=Array.from(l).sort()}return u}function UZ(p){var s=Hs(Fn(Fn({},p),{type:"date"}));return["dateFormat","dateParse"].forEach((function(u){Object.prototype.hasOwnProperty.call(p,u)&&(s[u]=p[u])})),s}function WZ(p){var s=Hs(Fn(Fn({},p),{type:"hierarchy"}));return["hierarchy","hierarchySeparator"].forEach((function(u){Object.prototype.hasOwnProperty.call(p,u)&&(s[u]=p[u])})),s}function jZ(p,s){var u=Hs(Fn(Fn({},p),{type:"number"})),l=p.domain?p.domain:H(s,(function(f){return jo(f,u.column)}));return Object.prototype.hasOwnProperty.call(p,"color")&&(u.colorMapping=p.color),["sort","colorMapping"].forEach((function(f){Object.prototype.hasOwnProperty.call(p,f)&&(u[f]=p[f])})),p.scripted?u.map={domain:l,code:p.scripted,type:"script"}:p.mapping&&p.mapping!=="linear"?u.map={type:p.mapping,domain:l,range:p.range||[0,1]}:(u.domain=l,p.range&&(u.range=p.range)),u}function YZ(p){var s=Hs(Fn(Fn({},p),{type:"string"}));return["pattern","patternTemplate","alignment"].forEach((function(u){Object.prototype.hasOwnProperty.call(p,u)&&(s[u]=p[u])})),p.editable&&(s.type="annotate"),p.pattern&&(s.type="link"),p.html&&(s.escape=!1),s}function $Z(p){var s=Hs(Fn(Fn({},p),{type:"boolean"}));return["trueMarker","falseMarker"].forEach((function(u){Object.prototype.hasOwnProperty.call(p,u)&&(s[u]=p[u])})),s}function qZ(p){var s=Hs(Fn(Fn({},p),{type:"actions"}));return["actions","groupActions"].forEach((function(u){Object.prototype.hasOwnProperty.call(p,u)&&(s[u]=p[u])})),s}function VI(p,s){var u=MI();if(p.sortBy&&(l=Array.isArray(p.sortBy)?p.sortBy:[p.sortBy]).forEach((function(f){typeof f=="string"?u.sortBy(f):u.sortBy(f.column,f.asc)})),p.groupBy){var l=Array.isArray(p.groupBy)?p.groupBy:[p.groupBy];u.groupBy.apply(u,l)}return p.columns&&p.columns.forEach((function(f){return u.column(f)})),u.build(s)}function XZ(p){return p.column}function ZZ(p){return Object.assign({type:"impose"},p)}function KZ(p,s){var u={type:"nested",columns:s};return p.label&&(u.label=p.label),u}function JZ(p,s){var u={type:"weightedSum",columns:s.map((function(l){return l.column})),weights:s.map((function(l){return l.weight}))};return p.label&&(u.label=p.label),u}function QZ(p,s){var u={type:p.type,columns:s};return p.label&&(u.label=p.label),u}function tK(p,s){var u={type:"script",code:p.code,columns:s};return p.label&&(u.label=p.label),u}function eK(p){return"_".concat(p.type)}function rK(){return"*"}function nK(p,s){for(var u=p;u&&u!==s;)u=u.__proto__;return u===s}function py(p,s){var u={};return s.forEach((function(l){Object.prototype.hasOwnProperty.call(p,l)&&(u[l]=p[l])})),u}function hS(p,s,u){return u.every((function(l){return!s(l)}))?null:py(p,u)}var GI=["singleSelection","filterGlobally","columnTypes","taskExecutor","jumpToSearchResult"],FI=["animated","sidePanel","sidePanelCollapsed","hierarchyIndicator","defaultSlopeGraphMode","summaryHeader","expandLineOnHover","overviewMode","renderers","canRender","toolbarActions","toolbarDialogAddons","rowHeight","rowPadding","groupHeight","groupPadding","dynamicHeight","labelRotation","ignoreUnsupportedBrowser","livePreviews"],iK=(function(){function p(s){var u=this;this.adapter=s,this.data=null,this.instance=null,this.prevRankings=null,this.prevColumns=null,this.prevHighlight=null,this.onSelectionChanged=function(l){u.props.onSelectionChanged&&!ke(u.props.selection,l)&&u.props.onSelectionChanged(l)},this.onHighlightChanged=function(l){(u.prevHighlight!=null?u.prevHighlight:-1)!==l&&(u.prevHighlight=l,u.props.onHighlightChanged&&u.props.onHighlightChanged(l))}}return Object.defineProperty(p.prototype,"props",{get:function(){return this.adapter.props()},enumerable:!1,configurable:!0}),p.prototype.componentDidMount=function(){this.data=this.buildProvider(),this.instance=this.adapter.createInstance(this.data,py(this.props,FI)),this.instance.on(Bs.EVENT_HIGHLIGHT_CHANGED,this.onHighlightChanged)},p.prototype.resolveColumnDescs=function(s){var u=this.adapter.columnDescs(s),l=u.length===0||!!this.props.deriveColumns,f=Array.isArray(this.props.deriveColumns)?this.props.deriveColumns:[];return{columns:u,deriveColors:!!this.props.deriveColors,deriveColumns:l,deriveColumnNames:f}},p.prototype.resolveRankings=function(){var s=this.adapter.rankingBuilders();return{builders:s,restore:this.props.restore,derive:s.length===0&&!this.props.restore||!!this.props.defaultRanking,supportTypes:this.props.defaultRanking!=="noSupportTypes"}},p.prototype.buildColumns=function(s,u){this.prevColumns=u;var l=u.columns.map((function(x){return Object.assign({},x)}));if(u.deriveColumns)for(var f=new Set(l.map((function(x){return"".concat(x.type,"@").concat(x.label)}))),d=0,_=u1(s,{columns:u.deriveColumnNames});d<_.length;d++){var w=_[d];f.has("".concat(w.type,"@").concat(w.label))||l.push(w)}return u.deriveColors&&c1(l),l},p.prototype.buildRankings=function(s,u){s.clearRankings(),this.prevRankings=u,u.derive&&s.deriveDefault(u.supportTypes),u.restore&&s.restore(u.restore),u.builders.forEach((function(l){return VI(l,s)}))},p.prototype.buildProvider=function(){var s=this.buildColumns(this.props.data,this.resolveColumnDescs(this.props.data)),u=new tu(this.props.data,s,py(this.props,GI));return this.buildRankings(u,this.resolveRankings()),u.setSelection(this.props.selection||[]),u.on(tu.EVENT_SELECTION_CHANGED,this.onSelectionChanged),u},p.prototype.updateLineUp=function(s,u){var l=hS(this.props,s,FI);return l?(this.instance&&this.instance.destroy(),this.instance=this.adapter.createInstance(this.data,l),this.prevHighlight=this.props.highlight==null?-1:this.props.highlight,this.instance.setHighlight(this.prevHighlight),this.instance.on(Bs.EVENT_HIGHLIGHT_CHANGED,this.onHighlightChanged),!0):(u&&this.instance.setDataProvider(this.data),!!(u||this.props.highlight!=null&&this.prevHighlight!==this.props.highlight)&&(this.prevHighlight=this.props.highlight==null?-1:this.props.highlight,this.instance.on(Bs.EVENT_HIGHLIGHT_CHANGED,null),this.instance.setHighlight(this.prevHighlight),this.instance.on(Bs.EVENT_HIGHLIGHT_CHANGED,this.onHighlightChanged),!0))},p.prototype.updateProvider=function(s){var u=this;if(hS(this.props,s,GI)||!this.data||s("data"))return this.data=this.buildProvider(),!0;var l=this.resolveRankings(),f=this.resolveColumnDescs(this.props.data),d=!ke(this.prevColumns,f);if(d){var _=this.buildColumns(this.props.data,f);this.data.clearColumns(),_.forEach((function(w){return u.data.pushDesc(w)}))}return!d&&ke(l,this.prevRankings)||this.buildRankings(this.data,l),this.data.on(tu.EVENT_SELECTION_CHANGED,null),this.data.setSelection(this.props.selection||[]),this.data.on(tu.EVENT_SELECTION_CHANGED,this.onSelectionChanged),!1},p.prototype.componentDidUpdate=function(s){var u=this.updateProvider(s);this.updateLineUp(s,u)},p.prototype.componentWillUnmount=function(){this.instance&&(this.instance.destroy(),this.instance=null),this.data=null},p})(),aK=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})(),oK=function(p,s,u){if(arguments.length===2)for(var l,f=0,d=s.length;f<d;f++)!l&&f in s||(l||(l=Array.prototype.slice.call(s,0,f)),l[f]=s[f]);return p.concat(l||Array.prototype.slice.call(s))};function sK(p,s){s===void 0&&(s={});var u=(function(l){function f(d,_){for(var w=[],x=2;x<arguments.length;x++)w[x-2]=arguments[x];var T=l.call(this,d,_)||this;return typeof T.init=="function"&&T.init.apply(T,oK([d,_],w,!1)),T}return aK(f,l),f.prototype.init=function(){for(var d=[],_=0;_<arguments.length;_++)d[_]=arguments[_]},f})(Er);return u.prototype.toString=function(){return p},u.prototype=Object.assign(u.prototype,s),u}var lK=(function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])},p(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=s}p(s,u),s.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}})();function uK(p){for(var s=[],u=0;u<p.length;++u)s[p[u]]=u+1;return s}const cK=(function(p){function s(u,l,f){l===void 0&&(l=[]),f===void 0&&(f={});var d=p.call(this,l,f)||this;return d.server=u,d.ooptions={maxCacheSize:1e3},d.cache=new Map,Object.assign(d.ooptions,f),d}return lK(s,p),s.prototype.getTotalNumberOfRows=function(){return this.cache.size},s.prototype.getTaskExecutor=function(){return new SN},s.prototype.sort=function(u){return this.server.sort(u).then((function(l){return{groups:[Object.assign({order:l},ft)],index2pos:uK(l)}}))},s.prototype.loadFromServer=function(u){return this.server.view(u).then((function(l){return l.map((function(f,d){return{v:f,dataIndex:u[d]}}))}))},s.prototype.view=function(u){if(u.length===0)return Promise.resolve([]);var l=this.fetch([u])[0];return Promise.all(l).then((function(f){return f.map((function(d){return d.v}))}))},s.prototype.computeMissing=function(u){var l=new Set,f=l.add.bind(l);return u.forEach((function(d){return d.forEach(f)})),this.cache.forEach((function(d,_){return l.delete(_)})),this.cache.size,l.size,this.ooptions.maxCacheSize,Array.from(l)},s.prototype.loadInCache=function(u){var l=this;if(u.length!==0){var f=this.loadFromServer(u);u.forEach((function(d,_){var w=u[_];l.cache.set(w,f.then((function(x){return{v:x[_],i:w}})))}))}},s.prototype.fetch=function(u){var l=this,f=this.computeMissing(u);return this.loadInCache(f),u.map((function(d){return d.map((function(_){return l.cache.get(_)}))}))},s.prototype.getRow=function(u){return this.cache.has(u)||this.loadInCache([u]),this.cache.get(u)},s.prototype.mappingSample=function(u){return this.server.mappingSample(u.desc.column)},s.prototype.searchAndJump=function(u,l,f,d){var _=this;this.server.search(u,l.desc.column).then((function(w){w.length>0&&f?_.jumpToNearest(w.slice(0,1)):_.jumpToNearest(w)}))},s})(uN);function fK(p,s,u){return u===void 0&&(u={}),new tu(p,s,u)}function hK(p,s,u){return u===void 0&&(u={}),new Bs(p,s,u)}function pK(p,s,u){return u===void 0&&(u={}),new uS(p,s,u)}var dK="4.15.0",vK="20250804-162023",gK="BSD-3-Clause"})(),a})()))})(Jx)),Jx.exports}var cd=GSt(),r0={exports:{}};var FSt=r0.exports,K3;function BSt(){return K3||(K3=1,(function(r,t){((e,n)=>{r.exports=n()})(FSt,function e(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,c={},h=0,v={};function g(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(F){var H=O(F);H.chunkSize=parseInt(H.chunkSize),F.step||F.chunk||(H.chunkSize=null),this._handle=new E(H),(this._handle.streamer=this)._config=H}).call(this,k),this.parseChunk=function(F,H){var W=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<W){let Y=this._config.newline;Y||(q=this._config.quoteChar||'"',Y=this._handle.guessLineEndings(F,q)),F=[...F.split(Y).slice(W)].join(Y)}this.isFirstChunk&&V(this._config.beforeFirstChunk)&&(q=this._config.beforeFirstChunk(F))!==void 0&&(F=q),this.isFirstChunk=!1,this._halted=!1;var W=this._partialLine+F,q=(this._partialLine="",this._handle.parse(W,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(F=q.meta.cursor,W=(this._finished||(this._partialLine=W.substring(F-this._baseIndex),this._baseIndex=F),q&&q.data&&(this._rowCount+=q.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:q,workerId:v.WORKER_ID,finished:W});else if(V(this._config.chunk)&&!H){if(this._config.chunk(q,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=q=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(q.data),this._completeResults.errors=this._completeResults.errors.concat(q.errors),this._completeResults.meta=q.meta),this._completed||!W||!V(this._config.complete)||q&&q.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),W||q&&q.meta.paused||this._nextChunk(),q}this._halted=!0},this._sendError=function(F){V(this._config.error)?this._config.error(F):o&&this._config.error&&n.postMessage({workerId:v.WORKER_ID,error:F,finished:!1})}}function y(k){var F;(k=k||{}).chunkSize||(k.chunkSize=v.RemoteChunkSize),g.call(this,k),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(H){this._input=H,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(F=new XMLHttpRequest,this._config.withCredentials&&(F.withCredentials=this._config.withCredentials),a||(F.onload=P(this._chunkLoaded,this),F.onerror=P(this._chunkError,this)),F.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var H,W=this._config.downloadRequestHeaders;for(H in W)F.setRequestHeader(H,W[H])}var q;this._config.chunkSize&&(q=this._start+this._config.chunkSize-1,F.setRequestHeader("Range","bytes="+this._start+"-"+q));try{F.send(this._config.downloadRequestBody)}catch(Y){this._chunkError(Y.message)}a&&F.status===0&&this._chunkError()}},this._chunkLoaded=function(){F.readyState===4&&(F.status<200||400<=F.status?this._chunkError():(this._start+=this._config.chunkSize||F.responseText.length,this._finished=!this._config.chunkSize||this._start>=(H=>(H=H.getResponseHeader("Content-Range"))!==null?parseInt(H.substring(H.lastIndexOf("/")+1)):-1)(F),this.parseChunk(F.responseText)))},this._chunkError=function(H){H=F.statusText||H,this._sendError(new Error(H))}}function m(k){(k=k||{}).chunkSize||(k.chunkSize=v.LocalChunkSize),g.call(this,k);var F,H,W=typeof FileReader<"u";this.stream=function(q){this._input=q,H=q.slice||q.webkitSlice||q.mozSlice,W?((F=new FileReader).onload=P(this._chunkLoaded,this),F.onerror=P(this._chunkError,this)):F=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var q=this._input,Y=(this._config.chunkSize&&(Y=Math.min(this._start+this._config.chunkSize,this._input.size),q=H.call(q,this._start,Y)),F.readAsText(q,this._config.encoding));W||this._chunkLoaded({target:{result:Y}})},this._chunkLoaded=function(q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(q.target.result)},this._chunkError=function(){this._sendError(F.error)}}function b(k){var F;g.call(this,k=k||{}),this.stream=function(H){return F=H,this._nextChunk()},this._nextChunk=function(){var H,W;if(!this._finished)return H=this._config.chunkSize,F=H?(W=F.substring(0,H),F.substring(H)):(W=F,""),this._finished=!F,this.parseChunk(W)}}function S(k){g.call(this,k=k||{});var F=[],H=!0,W=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(q){this._input=q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){W&&F.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),F.length?this.parseChunk(F.shift()):H=!0},this._streamData=P(function(q){try{F.push(typeof q=="string"?q:q.toString(this._config.encoding)),H&&(H=!1,this._checkIsFinished(),this.parseChunk(F.shift()))}catch(Y){this._streamError(Y)}},this),this._streamError=P(function(q){this._streamCleanUp(),this._sendError(q)},this),this._streamEnd=P(function(){this._streamCleanUp(),W=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function E(k){var F,H,W,q,Y=Math.pow(2,53),Z=-Y,et=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,J=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,it=this,rt=0,st=0,lt=!1,dt=!1,pt=[],xt={data:[],errors:[],meta:{}};function Ft(Ht){return k.skipEmptyLines==="greedy"?Ht.join("").trim()==="":Ht.length===1&&Ht[0].length===0}function Ut(){if(xt&&W&&(Qt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+v.DefaultDelimiter+"'"),W=!1),k.skipEmptyLines&&(xt.data=xt.data.filter(function(X){return!Ft(X)})),Vt()){let X=function(ot,ht){V(k.transformHeader)&&(ot=k.transformHeader(ot,ht)),pt.push(ot)};var Et=X;if(xt)if(Array.isArray(xt.data[0])){for(var Ht=0;Vt()&&Ht<xt.data.length;Ht++)xt.data[Ht].forEach(X);xt.data.splice(0,1)}else xt.data.forEach(X)}function gt(X,ot){for(var ht=k.header?{}:[],_t=0;_t<X.length;_t++){var mt=_t,Lt=X[_t],Lt=((tt,Q)=>(ft=>(k.dynamicTypingFunction&&k.dynamicTyping[ft]===void 0&&(k.dynamicTyping[ft]=k.dynamicTypingFunction(ft)),(k.dynamicTyping[ft]||k.dynamicTyping)===!0))(tt)?Q==="true"||Q==="TRUE"||Q!=="false"&&Q!=="FALSE"&&((ft=>{if(et.test(ft)&&(ft=parseFloat(ft),Z<ft&&ft<Y))return 1})(Q)?parseFloat(Q):J.test(Q)?new Date(Q):Q===""?null:Q):Q)(mt=k.header?_t>=pt.length?"__parsed_extra":pt[_t]:mt,Lt=k.transform?k.transform(Lt,mt):Lt);mt==="__parsed_extra"?(ht[mt]=ht[mt]||[],ht[mt].push(Lt)):ht[mt]=Lt}return k.header&&(_t>pt.length?Qt("FieldMismatch","TooManyFields","Too many fields: expected "+pt.length+" fields but parsed "+_t,st+ot):_t<pt.length&&Qt("FieldMismatch","TooFewFields","Too few fields: expected "+pt.length+" fields but parsed "+_t,st+ot)),ht}var Mt;xt&&(k.header||k.dynamicTyping||k.transform)&&(Mt=1,!xt.data.length||Array.isArray(xt.data[0])?(xt.data=xt.data.map(gt),Mt=xt.data.length):xt.data=gt(xt.data,0),k.header&&xt.meta&&(xt.meta.fields=pt),st+=Mt)}function Vt(){return k.header&&pt.length===0}function Qt(Ht,gt,Mt,Et){Ht={type:Ht,code:gt,message:Mt},Et!==void 0&&(Ht.row=Et),xt.errors.push(Ht)}V(k.step)&&(q=k.step,k.step=function(Ht){xt=Ht,Vt()?Ut():(Ut(),xt.data.length!==0&&(rt+=Ht.data.length,k.preview&&rt>k.preview?H.abort():(xt.data=xt.data[0],q(xt,it))))}),this.parse=function(Ht,gt,Mt){var Et=k.quoteChar||'"',Et=(k.newline||(k.newline=this.guessLineEndings(Ht,Et)),W=!1,k.delimiter?V(k.delimiter)&&(k.delimiter=k.delimiter(Ht),xt.meta.delimiter=k.delimiter):((Et=((X,ot,ht,_t,mt)=>{var Lt,tt,Q,ft;mt=mt||[",","	","|",";",v.RECORD_SEP,v.UNIT_SEP];for(var St=0;St<mt.length;St++){for(var It,Gt=mt[St],Ct=0,Dt=0,Bt=0,Zt=(Q=void 0,new A({comments:_t,delimiter:Gt,newline:ot,preview:10}).parse(X)),he=0;he<Zt.data.length;he++)ht&&Ft(Zt.data[he])?Bt++:(It=Zt.data[he].length,Dt+=It,Q===void 0?Q=It:0<It&&(Ct+=Math.abs(It-Q),Q=It));0<Zt.data.length&&(Dt/=Zt.data.length-Bt),(tt===void 0||Ct<=tt)&&(ft===void 0||ft<Dt)&&1.99<Dt&&(tt=Ct,Lt=Gt,ft=Dt)}return{successful:!!(k.delimiter=Lt),bestDelimiter:Lt}})(Ht,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=Et.bestDelimiter:(W=!0,k.delimiter=v.DefaultDelimiter),xt.meta.delimiter=k.delimiter),O(k));return k.preview&&k.header&&Et.preview++,F=Ht,H=new A(Et),xt=H.parse(F,gt,Mt),Ut(),lt?{meta:{paused:!0}}:xt||{meta:{paused:!1}}},this.paused=function(){return lt},this.pause=function(){lt=!0,H.abort(),F=V(k.chunk)?"":F.substring(H.getCharIndex())},this.resume=function(){it.streamer._halted?(lt=!1,it.streamer.parseChunk(F,!0)):setTimeout(it.resume,3)},this.aborted=function(){return dt},this.abort=function(){dt=!0,H.abort(),xt.meta.aborted=!0,V(k.complete)&&k.complete(xt),F=""},this.guessLineEndings=function(X,Et){X=X.substring(0,1048576);var Et=new RegExp(C(Et)+"([^]*?)"+C(Et),"gm"),Mt=(X=X.replace(Et,"")).split("\r"),Et=X.split(`
`),X=1<Et.length&&Et[0].length<Mt[0].length;if(Mt.length===1||X)return`
`;for(var ot=0,ht=0;ht<Mt.length;ht++)Mt[ht][0]===`
`&&ot++;return ot>=Mt.length/2?`\r
`:"\r"}}function C(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function A(k){var F=(k=k||{}).delimiter,H=k.newline,W=k.comments,q=k.step,Y=k.preview,Z=k.fastMode,et=null,J=!1,it=k.quoteChar==null?'"':k.quoteChar,rt=it;if(k.escapeChar!==void 0&&(rt=k.escapeChar),(typeof F!="string"||-1<v.BAD_DELIMITERS.indexOf(F))&&(F=","),W===F)throw new Error("Comment character same as delimiter");W===!0?W="#":(typeof W!="string"||-1<v.BAD_DELIMITERS.indexOf(W))&&(W=!1),H!==`
`&&H!=="\r"&&H!==`\r
`&&(H=`
`);var st=0,lt=!1;this.parse=function(dt,pt,xt){if(typeof dt!="string")throw new Error("Input must be a string");var Ft=dt.length,Ut=F.length,Vt=H.length,Qt=W.length,Ht=V(q),gt=[],Mt=[],Et=[],X=st=0;if(!dt)return Ct();if(Z||Z!==!1&&dt.indexOf(it)===-1){for(var ot=dt.split(H),ht=0;ht<ot.length;ht++){if(Et=ot[ht],st+=Et.length,ht!==ot.length-1)st+=H.length;else if(xt)return Ct();if(!W||Et.substring(0,Qt)!==W){if(Ht){if(gt=[],ft(Et.split(F)),Dt(),lt)return Ct()}else ft(Et.split(F));if(Y&&Y<=ht)return gt=gt.slice(0,Y),Ct(!0)}}return Ct()}for(var _t=dt.indexOf(F,st),mt=dt.indexOf(H,st),Lt=new RegExp(C(rt)+C(it),"g"),tt=dt.indexOf(it,st);;)if(dt[st]===it)for(tt=st,st++;;){if((tt=dt.indexOf(it,tt+1))===-1)return xt||Mt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:gt.length,index:st}),It();if(tt===Ft-1)return It(dt.substring(st,tt).replace(Lt,it));if(it===rt&&dt[tt+1]===rt)tt++;else if(it===rt||tt===0||dt[tt-1]!==rt){_t!==-1&&_t<tt+1&&(_t=dt.indexOf(F,tt+1));var Q=St((mt=mt!==-1&&mt<tt+1?dt.indexOf(H,tt+1):mt)===-1?_t:Math.min(_t,mt));if(dt.substr(tt+1+Q,Ut)===F){Et.push(dt.substring(st,tt).replace(Lt,it)),dt[st=tt+1+Q+Ut]!==it&&(tt=dt.indexOf(it,st)),_t=dt.indexOf(F,st),mt=dt.indexOf(H,st);break}if(Q=St(mt),dt.substring(tt+1+Q,tt+1+Q+Vt)===H){if(Et.push(dt.substring(st,tt).replace(Lt,it)),Gt(tt+1+Q+Vt),_t=dt.indexOf(F,st),tt=dt.indexOf(it,st),Ht&&(Dt(),lt))return Ct();if(Y&&gt.length>=Y)return Ct(!0);break}Mt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:gt.length,index:st}),tt++}}else if(W&&Et.length===0&&dt.substring(st,st+Qt)===W){if(mt===-1)return Ct();st=mt+Vt,mt=dt.indexOf(H,st),_t=dt.indexOf(F,st)}else if(_t!==-1&&(_t<mt||mt===-1))Et.push(dt.substring(st,_t)),st=_t+Ut,_t=dt.indexOf(F,st);else{if(mt===-1)break;if(Et.push(dt.substring(st,mt)),Gt(mt+Vt),Ht&&(Dt(),lt))return Ct();if(Y&&gt.length>=Y)return Ct(!0)}return It();function ft(Bt){gt.push(Bt),X=st}function St(Bt){var Zt=0;return Zt=Bt!==-1&&(Bt=dt.substring(tt+1,Bt))&&Bt.trim()===""?Bt.length:Zt}function It(Bt){return xt||(Bt===void 0&&(Bt=dt.substring(st)),Et.push(Bt),st=Ft,ft(Et),Ht&&Dt()),Ct()}function Gt(Bt){st=Bt,ft(Et),Et=[],mt=dt.indexOf(H,st)}function Ct(Bt){if(k.header&&!pt&&gt.length&&!J){var Zt=gt[0],he=Object.create(null),ke=new Set(Zt);let ye=!1;for(let Ye=0;Ye<Zt.length;Ye++){let me=Zt[Ye];if(he[me=V(k.transformHeader)?k.transformHeader(me,Ye):me]){let tr,Kr=he[me];for(;tr=me+"_"+Kr,Kr++,ke.has(tr););ke.add(tr),Zt[Ye]=tr,he[me]++,ye=!0,(et=et===null?{}:et)[tr]=me}else he[me]=1,Zt[Ye]=me;ke.add(me)}ye&&console.warn("Duplicate headers found and renamed."),J=!0}return{data:gt,errors:Mt,meta:{delimiter:F,linebreak:H,aborted:lt,truncated:!!Bt,cursor:X+(pt||0),renamedHeaders:et}}}function Dt(){q(Ct()),gt=[],Mt=[]}},this.abort=function(){lt=!0},this.getCharIndex=function(){return st}}function M(k){var F=k.data,H=c[F.workerId],W=!1;if(F.error)H.userError(F.error,F.file);else if(F.results&&F.results.data){var q={abort:function(){W=!0,L(F.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:R,resume:R};if(V(H.userStep)){for(var Y=0;Y<F.results.data.length&&(H.userStep({data:F.results.data[Y],errors:F.results.errors,meta:F.results.meta},q),!W);Y++);delete F.results}else V(H.userChunk)&&(H.userChunk(F.results,q,F.file),delete F.results)}F.finished&&!W&&L(F.workerId,F.results)}function L(k,F){var H=c[k];V(H.userComplete)&&H.userComplete(F),H.terminate(),delete c[k]}function R(){throw new Error("Not implemented.")}function O(k){if(typeof k!="object"||k===null)return k;var F,H=Array.isArray(k)?[]:{};for(F in k)H[F]=O(k[F]);return H}function P(k,F){return function(){k.apply(F,arguments)}}function V(k){return typeof k=="function"}return v.parse=function(k,F){var H=(F=F||{}).dynamicTyping||!1;if(V(H)&&(F.dynamicTypingFunction=H,H={}),F.dynamicTyping=H,F.transform=!!V(F.transform)&&F.transform,!F.worker||!v.WORKERS_SUPPORTED)return H=null,v.NODE_STREAM_INPUT,typeof k=="string"?(k=(W=>W.charCodeAt(0)!==65279?W:W.slice(1))(k),H=new(F.download?y:b)(F)):k.readable===!0&&V(k.read)&&V(k.on)?H=new S(F):(n.File&&k instanceof File||k instanceof Object)&&(H=new m(F)),H.stream(k);(H=(()=>{var W;return!!v.WORKERS_SUPPORTED&&(W=(()=>{var q=n.URL||n.webkitURL||null,Y=e.toString();return v.BLOB_URL||(v.BLOB_URL=q.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Y,")();"],{type:"text/javascript"})))})(),(W=new n.Worker(W)).onmessage=M,W.id=h++,c[W.id]=W)})()).userStep=F.step,H.userChunk=F.chunk,H.userComplete=F.complete,H.userError=F.error,F.step=V(F.step),F.chunk=V(F.chunk),F.complete=V(F.complete),F.error=V(F.error),delete F.worker,H.postMessage({input:k,config:F,workerId:H.id})},v.unparse=function(k,F){var H=!1,W=!0,q=",",Y=`\r
`,Z='"',et=Z+Z,J=!1,it=null,rt=!1,st=((()=>{if(typeof F=="object"){if(typeof F.delimiter!="string"||v.BAD_DELIMITERS.filter(function(pt){return F.delimiter.indexOf(pt)!==-1}).length||(q=F.delimiter),typeof F.quotes!="boolean"&&typeof F.quotes!="function"&&!Array.isArray(F.quotes)||(H=F.quotes),typeof F.skipEmptyLines!="boolean"&&typeof F.skipEmptyLines!="string"||(J=F.skipEmptyLines),typeof F.newline=="string"&&(Y=F.newline),typeof F.quoteChar=="string"&&(Z=F.quoteChar),typeof F.header=="boolean"&&(W=F.header),Array.isArray(F.columns)){if(F.columns.length===0)throw new Error("Option columns is empty");it=F.columns}F.escapeChar!==void 0&&(et=F.escapeChar+Z),F.escapeFormulae instanceof RegExp?rt=F.escapeFormulae:typeof F.escapeFormulae=="boolean"&&F.escapeFormulae&&(rt=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(Z),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return lt(null,k,J);if(typeof k[0]=="object")return lt(it||Object.keys(k[0]),k,J)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||it),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),lt(k.fields||[],k.data||[],J);throw new Error("Unable to serialize unrecognized input");function lt(pt,xt,Ft){var Ut="",Vt=(typeof pt=="string"&&(pt=JSON.parse(pt)),typeof xt=="string"&&(xt=JSON.parse(xt)),Array.isArray(pt)&&0<pt.length),Qt=!Array.isArray(xt[0]);if(Vt&&W){for(var Ht=0;Ht<pt.length;Ht++)0<Ht&&(Ut+=q),Ut+=dt(pt[Ht],Ht);0<xt.length&&(Ut+=Y)}for(var gt=0;gt<xt.length;gt++){var Mt=(Vt?pt:xt[gt]).length,Et=!1,X=Vt?Object.keys(xt[gt]).length===0:xt[gt].length===0;if(Ft&&!Vt&&(Et=Ft==="greedy"?xt[gt].join("").trim()==="":xt[gt].length===1&&xt[gt][0].length===0),Ft==="greedy"&&Vt){for(var ot=[],ht=0;ht<Mt;ht++){var _t=Qt?pt[ht]:ht;ot.push(xt[gt][_t])}Et=ot.join("").trim()===""}if(!Et){for(var mt=0;mt<Mt;mt++){0<mt&&!X&&(Ut+=q);var Lt=Vt&&Qt?pt[mt]:mt;Ut+=dt(xt[gt][Lt],mt)}gt<xt.length-1&&(!Ft||0<Mt&&!X)&&(Ut+=Y)}}return Ut}function dt(pt,xt){var Ft,Ut;return pt==null?"":pt.constructor===Date?JSON.stringify(pt).slice(1,25):(Ut=!1,rt&&typeof pt=="string"&&rt.test(pt)&&(pt="'"+pt,Ut=!0),Ft=pt.toString().replace(st,et),(Ut=Ut||H===!0||typeof H=="function"&&H(pt,xt)||Array.isArray(H)&&H[xt]||((Vt,Qt)=>{for(var Ht=0;Ht<Qt.length;Ht++)if(-1<Vt.indexOf(Qt[Ht]))return!0;return!1})(Ft,v.BAD_DELIMITERS)||-1<Ft.indexOf(q)||Ft.charAt(0)===" "||Ft.charAt(Ft.length-1)===" ")?Z+Ft+Z:Ft)}},v.RECORD_SEP="",v.UNIT_SEP="",v.BYTE_ORDER_MARK="\uFEFF",v.BAD_DELIMITERS=["\r",`
`,'"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!a&&!!n.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=",",v.Parser=A,v.ParserHandle=E,v.NetworkStreamer=y,v.FileStreamer=m,v.StringStreamer=b,v.ReadableStreamStreamer=S,n.jQuery&&((i=n.jQuery).fn.parse=function(k){var F=k.config||{},H=[];return this.each(function(Y){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var Z=0;Z<this.files.length;Z++)H.push({file:this.files[Z],inputElem:this,instanceConfig:i.extend({},F)})}),W(),this;function W(){if(H.length===0)V(k.complete)&&k.complete();else{var Y,Z,et,J,it=H[0];if(V(k.before)){var rt=k.before(it.file,it.inputElem);if(typeof rt=="object"){if(rt.action==="abort")return Y="AbortError",Z=it.file,et=it.inputElem,J=rt.reason,void(V(k.error)&&k.error({name:Y},Z,et,J));if(rt.action==="skip")return void q();typeof rt.config=="object"&&(it.instanceConfig=i.extend(it.instanceConfig,rt.config))}else if(rt==="skip")return void q()}var st=it.instanceConfig.complete;it.instanceConfig.complete=function(lt){V(st)&&st(lt,it.file,it.inputElem),q()},v.parse(it.file,it.instanceConfig)}}function q(){H.splice(0,1),W()}}),o&&(n.onmessage=function(k){k=k.data,v.WORKER_ID===void 0&&k&&(v.WORKER_ID=k.workerId),typeof k.input=="string"?n.postMessage({workerId:v.WORKER_ID,results:v.parse(k.input,k.config),finished:!0}):(n.File&&k.input instanceof File||k.input instanceof Object)&&(k=v.parse(k.input,k.config))&&n.postMessage({workerId:v.WORKER_ID,results:k,finished:!0})}),(y.prototype=Object.create(g.prototype)).constructor=y,(m.prototype=Object.create(g.prototype)).constructor=m,(b.prototype=Object.create(b.prototype)).constructor=b,(S.prototype=Object.create(g.prototype)).constructor=S,v})})(r0)),r0.exports}var HSt=BSt();const zSt=VSt(HSt),USt=(r,t)=>{const e=r.__vccOpts||r;for(const[n,i]of t)e[n]=i;return e},WSt={setup(){rJ(null);let r=[];AF(async()=>{await _F();const e=await(await fetch("/data/osmosis_val.csv")).text();r=zSt.parse(e,{header:!0,skipEmptyLines:!0,dynamicTyping:!0}).data.map(b=>({Name:b.moniker,token:parseFloat(b.token),commission:parseFloat(b.commission),votingPower:parseFloat(b.votingPower),ValidatorStats:[parseFloat(b.token),parseFloat(b.commission),parseFloat(b.votingPower)]}));const a=["commission","votingPower","token"],o=["#E96C5B","#6CC371","#F1A167"];console.log(r);let c=cd.builder(r).column(cd.buildStringColumn("Name"));a.forEach((b,S)=>{c=c.column(cd.buildNumberColumn(b).width(100).colorMapping(o[S]))});const h=cd.buildRanking().supportTypes().column("Name").weightedSum("ValidatorStats","commission",5,"votingPower",5,"token",5).sortBy("ValidatorStats","desc"),v=cd.buildRanking().weightedSum("ValidatorStats","commission",5,"votingPower",5,"token",5).column("Name").sortBy("ValidatorStats","desc");c=c.sidePanel(!1).ranking(h).rowHeight(24,1),c=c.propagateAggregationState(!1);const g=document.getElementById("app"),m=c.ranking(v).buildTaggle(g).data.getRankings();m[0].remove(m[0].children[0]),m[0].remove(m[0].children[1])})}},jSt={id:"app",ref:"lineupTarget"};function YSt(r,t,e,n,i,a){return oQ(),uQ(fo,null,[t[0]||(t[0]=Od("header",null,null,-1)),Od("body",null,[Od("div",jSt,null,512)])],64)}const $St=USt(WSt,[["render",YSt]]);$Q($St).mount("#app");
